<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: ptlrpc_nrs Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ptlrpc_nrs Struct Reference<br/>
<small>
[<a class="el" href="group__nrs.html">Network Request Scheduler</a>]</small>
</h1><!-- doxytag: class="ptlrpc_nrs" -->
<p>NRS head.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">spinlock_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#aea65fa22421e95b8803d16a23de34b15">nrs_lock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#ae7e450db9f1413b9da0e4bbdd33cfb22">nrs_policy_list</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">XXX Possibly replace svcpt-&gt;scp_req_lock with another lock here.  <a href="#ae7e450db9f1413b9da0e4bbdd33cfb22"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#abba957e518558f35d3e0dd9f2f7f7eb3">nrs_policy_queued</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of policies with queued requests.  <a href="#abba957e518558f35d3e0dd9f2f7f7eb3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__service__part.html">ptlrpc_service_part</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#abf2a529023ae89332f4b185930f1a537">nrs_svcpt</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Service partition for this NRS head.  <a href="#abf2a529023ae89332f4b185930f1a537"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__nrs__policy.html">ptlrpc_nrs_policy</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#adb24110f68fc0c64da5e1ef0aa4733b6">nrs_policy_primary</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Primary policy, which is the preferred policy for handling RPCs.  <a href="#adb24110f68fc0c64da5e1ef0aa4733b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__nrs__policy.html">ptlrpc_nrs_policy</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#aefca80244819b99a84108e9010686738">nrs_policy_fallback</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fallback policy, which is the backup policy for handling RPCs.  <a href="#aefca80244819b99a84108e9010686738"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__nrs.html#ga79e63c48a144326744316f397c52a883">ptlrpc_nrs_queue_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#a5bb6a1b3602c1dd56d01a820e0e14228">nrs_queue_type</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This NRS head handles either HP or regular requests.  <a href="#a5bb6a1b3602c1dd56d01a820e0e14228"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#aa05e58ff4d5a998e0b24edb92a8f3ceb">nrs_req_queued</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"># queued requests from all policies in this NRS head  <a href="#aa05e58ff4d5a998e0b24edb92a8f3ceb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#ac28bda31fdafdd8b57f08e7233da607e">nrs_req_started</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"># scheduled requests from all policies in this NRS head  <a href="#ac28bda31fdafdd8b57f08e7233da607e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#a54bc17e6b4be4d73684ed821c0897bea">nrs_num_pols</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"># policies on this NRS  <a href="#a54bc17e6b4be4d73684ed821c0897bea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#ab066b4e96742200fb1872733214cd89d">nrs_policy_starting</a>:1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This NRS head is in progress of starting a policy.  <a href="#ab066b4e96742200fb1872733214cd89d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#a9340ae118782160c94e4cbb9ef8f6a2a">nrs_stopping</a>:1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">In progress of shutting down the whole NRS head; used during unregistration.  <a href="#a9340ae118782160c94e4cbb9ef8f6a2a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs.html#afb5e26c392efc34938dd705797a35f50">nrs_throttling</a>:1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">NRS policy is throttling reqeust.  <a href="#afb5e26c392efc34938dd705797a35f50"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>NRS head. </p>
<p>A PTLRPC service has at least one NRS head instance for handling normal priority RPCs, and may optionally have a second NRS head instance for handling high-priority RPCs. Each NRS head maintains a list of available policies, of which one and only one policy is acting as the fallback policy, and optionally a different policy may be acting as the primary policy. For all RPCs handled by this NRS head instance, NRS core will first attempt to enqueue the RPC using the primary policy (if any). The fallback policy is used in the following cases:</p>
<ul>
<li>when there was no primary policy in the <a class="el" href="group__nrs.html#gga843285b91fa9672fdf0fcc93b4387971a8da4904dfb7ba56810332673912a76cb" title="A policy is in this state in two cases:it is the fallback policy, which is always...">ptlrpc_nrs_pol_state::NRS_POL_STATE_STARTED</a> state at the time the request was initialized.</li>
<li>when the primary policy that was at the ptlrpc_nrs_pol_state::PTLRPC_NRS_POL_STATE_STARTED state at the time the RPC was initialized, denoted it did not wish, or for some other reason was not able to handle the request, by returning a non-valid NRS resource reference.</li>
<li>when the primary policy that was at the ptlrpc_nrs_pol_state::PTLRPC_NRS_POL_STATE_STARTED state at the time the RPC was initialized, fails later during the request enqueueing stage.</li>
</ul>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="nrs_8c.html#a6ba673781ab2ba2e38ab4c17c1e26cff" title="Obtains resources for the resource hierarchies and policy references for the fallback...">nrs_resource_get_safe()</a> </dd>
<dd>
<a class="el" href="nrs_8c.html#ac63065fc9f6fc04df590c34a1da9a1cf" title="Enqueues request nrq for later handling, via one one the policies for which resources...">nrs_request_enqueue()</a> </dd></dl>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00323">323</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="aea65fa22421e95b8803d16a23de34b15"></a><!-- doxytag: member="ptlrpc_nrs::nrs_lock" ref="aea65fa22421e95b8803d16a23de34b15" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t <a class="el" href="structptlrpc__nrs.html#aea65fa22421e95b8803d16a23de34b15">ptlrpc_nrs::nrs_lock</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00324">324</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00655">nrs_policy_ctl()</a>, <a class="el" href="nrs_8c_source.html#l00346">nrs_policy_put()</a>, <a class="el" href="nrs_8c_source.html#l00764">nrs_policy_register()</a>, <a class="el" href="nrs_8c_source.html#l00192">nrs_policy_start_locked()</a>, <a class="el" href="nrs_8c_source.html#l00707">nrs_policy_unregister()</a>, <a class="el" href="nrs_8c_source.html#l00457">nrs_resource_get_safe()</a>, <a class="el" href="nrs_8c_source.html#l00511">nrs_resource_put_safe()</a>, and <a class="el" href="nrs_8c_source.html#l00947">nrs_svcpt_setup_locked0()</a>.</p>

</div>
</div>
<a class="anchor" id="a54bc17e6b4be4d73684ed821c0897bea"></a><!-- doxytag: member="ptlrpc_nrs::nrs_num_pols" ref="a54bc17e6b4be4d73684ed821c0897bea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs.html#a54bc17e6b4be4d73684ed821c0897bea">ptlrpc_nrs::nrs_num_pols</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p># policies on this NRS </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00366">366</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00764">nrs_policy_register()</a>, and <a class="el" href="nrs_8c_source.html#l00707">nrs_policy_unregister()</a>.</p>

</div>
</div>
<a class="anchor" id="aefca80244819b99a84108e9010686738"></a><!-- doxytag: member="ptlrpc_nrs::nrs_policy_fallback" ref="aefca80244819b99a84108e9010686738" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__nrs__policy.html">ptlrpc_nrs_policy</a>* <a class="el" href="structptlrpc__nrs.html#aefca80244819b99a84108e9010686738">ptlrpc_nrs::nrs_policy_fallback</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fallback policy, which is the backup policy for handling RPCs. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00350">350</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00192">nrs_policy_start_locked()</a>, <a class="el" href="nrs_8c_source.html#l00108">nrs_policy_stop_locked()</a>, and <a class="el" href="nrs_8c_source.html#l00457">nrs_resource_get_safe()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7e450db9f1413b9da0e4bbdd33cfb22"></a><!-- doxytag: member="ptlrpc_nrs::nrs_policy_list" ref="ae7e450db9f1413b9da0e4bbdd33cfb22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="structptlrpc__nrs.html#ae7e450db9f1413b9da0e4bbdd33cfb22">ptlrpc_nrs::nrs_policy_list</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>XXX Possibly replace svcpt-&gt;scp_req_lock with another lock here. </p>
<p>List of registered policies </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00329">329</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00356">nrs_policy_find_locked()</a>, <a class="el" href="nrs_8c_source.html#l00764">nrs_policy_register()</a>, <a class="el" href="nrs_8c_source.html#l01026">nrs_svcpt_cleanup_locked()</a>, and <a class="el" href="nrs_8c_source.html#l00947">nrs_svcpt_setup_locked0()</a>.</p>

</div>
</div>
<a class="anchor" id="adb24110f68fc0c64da5e1ef0aa4733b6"></a><!-- doxytag: member="ptlrpc_nrs::nrs_policy_primary" ref="adb24110f68fc0c64da5e1ef0aa4733b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__nrs__policy.html">ptlrpc_nrs_policy</a>* <a class="el" href="structptlrpc__nrs.html#adb24110f68fc0c64da5e1ef0aa4733b6">ptlrpc_nrs::nrs_policy_primary</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Primary policy, which is the preferred policy for handling RPCs. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00346">346</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00192">nrs_policy_start_locked()</a>, <a class="el" href="nrs_8c_source.html#l00108">nrs_policy_stop_locked()</a>, <a class="el" href="nrs_8c_source.html#l00148">nrs_policy_stop_primary()</a>, and <a class="el" href="nrs_8c_source.html#l00457">nrs_resource_get_safe()</a>.</p>

</div>
</div>
<a class="anchor" id="abba957e518558f35d3e0dd9f2f7f7eb3"></a><!-- doxytag: member="ptlrpc_nrs::nrs_policy_queued" ref="abba957e518558f35d3e0dd9f2f7f7eb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="structptlrpc__nrs.html#abba957e518558f35d3e0dd9f2f7f7eb3">ptlrpc_nrs::nrs_policy_queued</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of policies with queued requests. </p>
<p>Policies that have any outstanding requests are queued here, and this list is queried in a round-robin manner from NRS core when obtaining a request for handling. This ensures that requests from policies that at some point transition away from the <a class="el" href="group__nrs.html#gga843285b91fa9672fdf0fcc93b4387971a8da4904dfb7ba56810332673912a76cb" title="A policy is in this state in two cases:it is the fallback policy, which is always...">ptlrpc_nrs_pol_state::NRS_POL_STATE_STARTED</a> state are drained. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00338">338</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l01537">nrs_request_removed()</a>, <a class="el" href="nrs_8c_source.html#l00947">nrs_svcpt_setup_locked0()</a>, <a class="el" href="nrs_8c_source.html#l00836">ptlrpc_nrs_req_add_nolock()</a>, and <a class="el" href="nrs_8c_source.html#l01583">ptlrpc_nrs_req_get_nolock0()</a>.</p>

</div>
</div>
<a class="anchor" id="ab066b4e96742200fb1872733214cd89d"></a><!-- doxytag: member="ptlrpc_nrs::nrs_policy_starting" ref="ab066b4e96742200fb1872733214cd89d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs.html#ab066b4e96742200fb1872733214cd89d">ptlrpc_nrs::nrs_policy_starting</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This NRS head is in progress of starting a policy. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00370">370</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00192">nrs_policy_start_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a5bb6a1b3602c1dd56d01a820e0e14228"></a><!-- doxytag: member="ptlrpc_nrs::nrs_queue_type" ref="a5bb6a1b3602c1dd56d01a820e0e14228" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__nrs.html#ga79e63c48a144326744316f397c52a883">ptlrpc_nrs_queue_type</a> <a class="el" href="structptlrpc__nrs.html#a5bb6a1b3602c1dd56d01a820e0e14228">ptlrpc_nrs::nrs_queue_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This NRS head handles either HP or regular requests. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00354">354</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00947">nrs_svcpt_setup_locked0()</a>.</p>

</div>
</div>
<a class="anchor" id="aa05e58ff4d5a998e0b24edb92a8f3ceb"></a><!-- doxytag: member="ptlrpc_nrs::nrs_req_queued" ref="aa05e58ff4d5a998e0b24edb92a8f3ceb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="structptlrpc__nrs.html#aa05e58ff4d5a998e0b24edb92a8f3ceb">ptlrpc_nrs::nrs_req_queued</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p># queued requests from all policies in this NRS head </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00358">358</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00583">nrs_request_enqueue()</a>, <a class="el" href="nrs_8c_source.html#l01537">nrs_request_removed()</a>, and <a class="el" href="nrs_8c_source.html#l01643">ptlrpc_nrs_req_pending_nolock()</a>.</p>

</div>
</div>
<a class="anchor" id="ac28bda31fdafdd8b57f08e7233da607e"></a><!-- doxytag: member="ptlrpc_nrs::nrs_req_started" ref="ac28bda31fdafdd8b57f08e7233da607e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="structptlrpc__nrs.html#ac28bda31fdafdd8b57f08e7233da607e">ptlrpc_nrs::nrs_req_started</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p># scheduled requests from all policies in this NRS head </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00362">362</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00623">nrs_request_stop()</a>, and <a class="el" href="nrs_8c_source.html#l01583">ptlrpc_nrs_req_get_nolock0()</a>.</p>

</div>
</div>
<a class="anchor" id="a9340ae118782160c94e4cbb9ef8f6a2a"></a><!-- doxytag: member="ptlrpc_nrs::nrs_stopping" ref="a9340ae118782160c94e4cbb9ef8f6a2a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs.html#a9340ae118782160c94e4cbb9ef8f6a2a">ptlrpc_nrs::nrs_stopping</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>In progress of shutting down the whole NRS head; used during unregistration. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00375">375</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00108">nrs_policy_stop_locked()</a>, and <a class="el" href="nrs_8c_source.html#l01026">nrs_svcpt_cleanup_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="abf2a529023ae89332f4b185930f1a537"></a><!-- doxytag: member="ptlrpc_nrs::nrs_svcpt" ref="abf2a529023ae89332f4b185930f1a537" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__service__part.html">ptlrpc_service_part</a>* <a class="el" href="structptlrpc__nrs.html#abf2a529023ae89332f4b185930f1a537">ptlrpc_nrs::nrs_svcpt</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Service partition for this NRS head. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00342">342</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="ptlrpc__internal_8h_source.html#l00205">nrs_pol2cptid()</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00211">nrs_pol2svc()</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00217">nrs_pol2svcpt()</a>, <a class="el" href="nrs_8c_source.html#l00764">nrs_policy_register()</a>, <a class="el" href="nrs_8c_source.html#l00904">nrs_register_policies_locked()</a>, <a class="el" href="nrs_8c_source.html#l01026">nrs_svcpt_cleanup_locked()</a>, and <a class="el" href="nrs_8c_source.html#l00947">nrs_svcpt_setup_locked0()</a>.</p>

</div>
</div>
<a class="anchor" id="afb5e26c392efc34938dd705797a35f50"></a><!-- doxytag: member="ptlrpc_nrs::nrs_throttling" ref="afb5e26c392efc34938dd705797a35f50" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs.html#afb5e26c392efc34938dd705797a35f50">ptlrpc_nrs::nrs_throttling</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NRS policy is throttling reqeust. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00379">379</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00947">nrs_svcpt_setup_locked0()</a>, and <a class="el" href="nrs_8c_source.html#l01660">ptlrpc_nrs_req_throttling_nolock()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:54 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
