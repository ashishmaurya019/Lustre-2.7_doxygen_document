<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/osd-ldiskfs/osd_compat.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/osd-ldiskfs/osd_compat.c File Reference</h1><code>#include &lt;<a class="el" href="lustre__ver_8h_source.html">lustre_ver.h</a>&gt;</code><br/>
<code>#include &lt;linux/types.h&gt;</code><br/>
<code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/xattr.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="osd-zfs_2osd__internal_8h_source.html">osd_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>&quot;</code><br/>

<p><a href="osd__compat_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a00531be1cb90f9d655520a8c9c44e3cd">osd_push_ctxt</a> (const struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structlvfs__run__ctxt.html">lvfs_run_ctxt</a> *newctxt, struct <a class="el" href="structlvfs__run__ctxt.html">lvfs_run_ctxt</a> *save)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct dentry *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#ae138bc534a1cdec4a105cb5ec73062c7">simple_mkdir</a> (struct dentry *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct vfsmount *mnt, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, int fix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a1f75d8370d5992b9fbaea9395ecaf71b">osd_last_rcvd_subdir_count</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *osd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a2deacb7c3f645fedd0a618804e152098">osd_mdt_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a3b13ae013486afa9d4bebb018761ced4">osd_mdt_fini</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *osd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a9829bee6c253e14011260aba9b5ca161">osd_add_to_remote_parent</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *oh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a24e4f91113b836118d6e46ec8b1dcf94">osd_delete_from_remote_parent</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *oh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a56dc1b3a202cd5744af1118b3d463e8e">osd_lookup_in_remote_parent</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *oti, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a0fea064edb3e545b7168937588fbaf6f">osd_ost_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#aee3a22c7c51fb997b9c4f3ed4ef88279">osd_seq_free</a> (struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a> *<a class="el" href="structosd__seq.html">osd_seq</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a70f153a73a120e6f26e215a7b1fe0d9b">osd_ost_fini</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *osd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a8f1007b7ef143aa891130d4d2c9be380">osd_obj_map_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a43762c76e639a7893aa78485f0338938">osd_seq_find_locked</a> (struct <a class="el" href="structosd__obj__map.html">osd_obj_map</a> *map, u64 seq)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a622272c17931e7cb5a33e9d89eb13089">osd_seq_find</a> (struct <a class="el" href="structosd__obj__map.html">osd_obj_map</a> *map, u64 seq)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a3936caea788b7bd77c5e0159a39f0520">osd_obj_map_fini</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a602b788a175367a837f87b3d869ec799">osd_obj_update_entry</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct dentry *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the specified OI mapping.  <a href="#a602b788a175367a837f87b3d869ec799"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#ab6e50b683b89e74b6f8a4d727eeaee0a">osd_obj_del_entry</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct dentry *dird, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, handle_t *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a892a708a2a0aaada7e4972be24d5fdb3">osd_obj_add_entry</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct dentry *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a9885dd654e8888d8918f290fc7e32cf3">osd_seq_name</a> (char *seq_name, size_t name_size, u64 seq)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Use LPU64 for legacy OST sequences, but use LPX64i for new sequences <a class="el" href="structnames.html">names</a>, so that the O/{seq}/dN/{oid} more closely follows the DFID/PFID format.  <a href="#a9885dd654e8888d8918f290fc7e32cf3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#ac85344073525d3b16b6d503da057fc34">osd_oid_name</a> (char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, size_t name_size, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, u64 id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a15bd86ab4051b65f026f92ca66e58ff1">osd_seq_load_locked</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a> *<a class="el" href="structosd__seq.html">osd_seq</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a4904d41208ad0fc9a8bd5fefbde1b938">osd_seq_load</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, u64 seq)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a50a69e871b74dde7523ac43d436cee8a">osd_obj_map_lookup</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a6afeacd12533cf75c89b75285976f206">osd_obj_map_insert</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#aba5ddebfc713e82d13b16265ea02e027">osd_obj_map_delete</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, handle_t *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#af7ceac3ba31fbb4e99e7d5ee05ea56e1">osd_obj_map_update</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a6796c99b4b77e4c92a12b39cadd35342">osd_obj_map_recover</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct inode *src_parent, struct dentry *src_child, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct dentry *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a439a086253592c036f08e36e4b868be3">osd_object_spec_find</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, char **<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a4bbbc298d63715bbcf630c97e707142a">osd_obj_spec_update</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a512631c3f2624b3ab23ba2682d23d76b">osd_obj_spec_insert</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#acf638db426fadf0f91bb5d9f6c9a0bfd">osd_obj_spec_lookup</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__compat_8c.html#a48dd339c7351d566807fcf3495bb19a0">remote_parent_dir</a> [] = &quot;REMOTE_PARENT_DIR&quot;</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a9829bee6c253e14011260aba9b5ca161"></a><!-- doxytag: member="osd_compat.c::osd_add_to_remote_parent" ref="a9829bee6c253e14011260aba9b5ca161" args="(const struct lu_env *env, struct osd_device *osd, struct osd_object *obj, struct osd_thandle *oh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_add_to_remote_parent </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>oh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00221">221</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00477">__osd_xattr_set()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00547">DFID_NOBRACE</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a4368e7b7c1ced583f56b58dbd21a46e4">ldiskfs_inc_count()</a>, <a class="el" href="lustre__user_8h_source.html#l00198">lustre_mdt_attrs::lma_incompat</a>, <a class="el" href="lustre__idl_8h_source.html#l00196">LMAI_REMOTE_PARENT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="md__attrs_8c_source.html#l00064">lustre_lma_swab()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00269">osd_device::od_mdt_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00177">osd_mdobj_map::omm_remote_parent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00980">osd_child_dentry_by_inode()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00436">osd_ldiskfs_add_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00567">osd_thread_info::oti_name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01595">XATTR_NAME_LMA</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04766">osd_index_ea_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a24e4f91113b836118d6e46ec8b1dcf94"></a><!-- doxytag: member="osd_compat.c::osd_delete_from_remote_parent" ref="a24e4f91113b836118d6e46ec8b1dcf94" args="(const struct lu_env *env, struct osd_device *osd, struct osd_object *obj, struct osd_thandle *oh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_delete_from_remote_parent </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>oh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00261">261</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00477">__osd_xattr_set()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00547">DFID_NOBRACE</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a69cd43cc9afcabe50df9073a786a43f4">ldiskfs_dec_count()</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lustre__user_8h_source.html#l00198">lustre_mdt_attrs::lma_incompat</a>, <a class="el" href="lustre__idl_8h_source.html#l00196">LMAI_REMOTE_PARENT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="md__attrs_8c_source.html#l00064">lustre_lma_swab()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00269">osd_device::od_mdt_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00177">osd_mdobj_map::omm_remote_parent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00980">osd_child_dentry_by_inode()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00567">osd_thread_info::oti_name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01595">XATTR_NAME_LMA</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03973">osd_index_ea_delete()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02773">osd_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f75d8370d5992b9fbaea9395ecaf71b"></a><!-- doxytag: member="osd_compat.c::osd_last_rcvd_subdir_count" ref="a1f75d8370d5992b9fbaea9395ecaf71b" args="(struct osd_device *osd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_last_rcvd_subdir_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00123">123</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__disk_8h_source.html#l00062">LAST_RCVD</a>, <a class="el" href="byteorder_8h_source.html#l00054">le16_to_cpu</a>, <a class="el" href="lvfs_8h_source.html#l00084">ll_lookup_one_len()</a>, <a class="el" href="lustre__disk_8h_source.html#l00340">lr_server_data::lsd_subdir_count</a>, <a class="el" href="lustre__disk_8h_source.html#l00330">lr_server_data::lsd_uuid</a>, <a class="el" href="obd__target_8h_source.html#l00052">OBJ_SUBDIR_COUNT</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01402">osd_ldiskfs_read()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00355">osd_ost_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a56dc1b3a202cd5744af1118b3d463e8e"></a><!-- doxytag: member="osd_compat.c::osd_lookup_in_remote_parent" ref="a56dc1b3a202cd5744af1118b3d463e8e" args="(struct osd_thread_info *oti, struct osd_device *osd, const struct lu_fid *fid, struct osd_inode_id *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_lookup_in_remote_parent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>oti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00311">311</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00547">DFID_NOBRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00269">osd_device::od_mdt_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00177">osd_mdobj_map::omm_remote_parent</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04508">osd_add_oi_cache()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00980">osd_child_dentry_by_inode()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00567">osd_thread_info::oti_name</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b13ae013486afa9d4bebb018761ced4"></a><!-- doxytag: member="osd_compat.c::osd_mdt_fini" ref="a3b13ae013486afa9d4bebb018761ced4" args="(struct osd_device *osd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_mdt_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00207">207</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00269">osd_device::od_mdt_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00268">osd_device::od_ost_map</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00177">osd_mdobj_map::omm_remote_parent</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00508">osd_obj_map_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a2deacb7c3f645fedd0a618804e152098"></a><!-- doxytag: member="osd_compat.c::osd_mdt_init" ref="a2deacb7c3f645fedd0a618804e152098" args="(const struct lu_env *env, struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_mdt_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00162">162</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="fsx_8c_source.html#l01082">cleanup()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__fid_8h_source.html#l00242">lu_local_obj_fid()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00269">osd_device::od_mdt_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00242">osd_device::od_mnt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00177">osd_mdobj_map::omm_remote_parent</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd__compat_8c_source.html#l00061">osd_push_ctxt()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00537">osd_thread_info::oti_fid3</a>, <a class="el" href="sec__ctx_8c_source.html#l00078">pop_ctxt()</a>, <a class="el" href="osd__compat_8c_source.html#l00161">remote_parent_dir</a>, <a class="el" href="lustre__fid_8h_source.html#l00235">REMOTE_PARENT_DIR_OID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osd__compat_8c_source.html#l00076">simple_mkdir()</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00469">osd_obj_map_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a892a708a2a0aaada7e4972be24d5fdb3"></a><!-- doxytag: member="osd_compat.c::osd_obj_add_entry" ref="a892a708a2a0aaada7e4972be24d5fdb3" args="(struct osd_thread_info *info, struct osd_device *osd, struct dentry *dir, char *name, const struct osd_inode_id *id, handle_t *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_obj_add_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00696">696</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00275">OBD_FAIL_OSD_COMPAT_INVALID_ENTRY</a>, <a class="el" href="obd__support_8h_source.html#l00276">OBD_FAIL_OSD_COMPAT_NO_ENTRY</a>, <a class="el" href="osd__oi_8h_source.html#l00114">osd_id_to_inode()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00436">osd_ldiskfs_add_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00521">osd_thread_info::oti_child_dentry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00601">osd_thread_info::oti_inode</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00973">osd_obj_map_insert()</a>, and <a class="el" href="osd__compat_8c_source.html#l01242">osd_obj_spec_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6e50b683b89e74b6f8a4d727eeaee0a"></a><!-- doxytag: member="osd_compat.c::osd_obj_del_entry" ref="ab6e50b683b89e74b6f8a4d727eeaee0a" args="(struct osd_thread_info *info, struct osd_device *osd, struct dentry *dird, char *name, handle_t *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_obj_del_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dird</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00660">660</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00521">osd_thread_info::oti_child_dentry</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l01019">osd_obj_map_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="aba5ddebfc713e82d13b16265ea02e027"></a><!-- doxytag: member="osd_compat.c::osd_obj_map_delete" ref="aba5ddebfc713e82d13b16265ea02e027" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, handle_t *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_obj_map_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l01019">1019</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="fsx_8c_source.html#l01082">cleanup()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00268">osd_device::od_ost_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00157">osd_obj_seq::oos_dirs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00155">osd_obj_seq::oos_subdir_count</a>, <a class="el" href="osd__compat_8c_source.html#l00660">osd_obj_del_entry()</a>, <a class="el" href="osd__compat_8c_source.html#l00760">osd_oid_name()</a>, <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>, <a class="el" href="lustre__idl_8h_source.html#l00546">ostid_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00531">ostid_seq()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00778">osd_oi_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="a3936caea788b7bd77c5e0159a39f0520"></a><!-- doxytag: member="osd_compat.c::osd_obj_map_fini" ref="a3936caea788b7bd77c5e0159a39f0520" args="(struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osd_obj_map_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00508">508</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="osd__compat_8c_source.html#l00207">osd_mdt_fini()</a>, and <a class="el" href="osd__compat_8c_source.html#l00443">osd_ost_fini()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06389">osd_device_fini()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">osd_device_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f1007b7ef143aa891130d4d2c9be380"></a><!-- doxytag: member="osd_compat.c::osd_obj_map_init" ref="a8f1007b7ef143aa891130d4d2c9be380" args="(const struct lu_env *env, struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_obj_map_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00469">469</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__compat_8c_source.html#l00162">osd_mdt_init()</a>, <a class="el" href="osd__compat_8c_source.html#l00443">osd_ost_fini()</a>, <a class="el" href="osd__compat_8c_source.html#l00355">osd_ost_init()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">osd_device_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a6afeacd12533cf75c89b75285976f206"></a><!-- doxytag: member="osd_compat.c::osd_obj_map_insert" ref="a6afeacd12533cf75c89b75285976f206" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, const struct osd_inode_id *id, handle_t *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_obj_map_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00973">973</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00268">osd_device::od_ost_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00157">osd_obj_seq::oos_dirs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00155">osd_obj_seq::oos_subdir_count</a>, <a class="el" href="osd__compat_8c_source.html#l00696">osd_obj_add_entry()</a>, <a class="el" href="osd__compat_8c_source.html#l00521">osd_obj_update_entry()</a>, <a class="el" href="osd__compat_8c_source.html#l00760">osd_oid_name()</a>, <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>, <a class="el" href="lustre__idl_8h_source.html#l00546">ostid_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00531">ostid_seq()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a50a69e871b74dde7523ac43d436cee8a"></a><!-- doxytag: member="osd_compat.c::osd_obj_map_lookup" ref="a50a69e871b74dde7523ac43d436cee8a" args="(struct osd_thread_info *info, struct osd_device *dev, const struct lu_fid *fid, struct osd_inode_id *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_obj_map_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00911">911</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00268">osd_device::od_ost_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00163">osd_obj_map::om_root</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00157">osd_obj_seq::oos_dirs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00155">osd_obj_seq::oos_subdir_count</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd__compat_8c_source.html#l00760">osd_oid_name()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>, <a class="el" href="lustre__idl_8h_source.html#l00546">ostid_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00531">ostid_seq()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00521">osd_thread_info::oti_child_dentry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a6796c99b4b77e4c92a12b39cadd35342"></a><!-- doxytag: member="osd_compat.c::osd_obj_map_recover" ref="a6796c99b4b77e4c92a12b39cadd35342" args="(struct osd_thread_info *info, struct osd_device *osd, struct inode *src_parent, struct dentry *src_child, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_obj_map_recover </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>src_parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>src_child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l01078">1078</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00377">DTO_INDEX_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00376">DTO_INDEX_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00380">DTO_OBJECT_DELETE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00791">LDISKFS_HT_MISC</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="lustre__compat_8h_source.html#l00370">ll_vfs_unlink</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00157">osd_obj_seq::oos_dirs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00156">osd_obj_seq::oos_root</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00155">osd_obj_seq::oos_subdir_count</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01782">osd_dto_credits_noquota</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00792">osd_journal_start_sb</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00436">osd_ldiskfs_add_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd__compat_8c_source.html#l00760">osd_oid_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>, <a class="el" href="lustre__idl_8h_source.html#l00546">ostid_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00531">ostid_seq()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00521">osd_thread_info::oti_child_dentry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01900">osd_ios_lf_fill()</a>.</p>

</div>
</div>
<a class="anchor" id="af7ceac3ba31fbb4e99e7d5ee05ea56e1"></a><!-- doxytag: member="osd_compat.c::osd_obj_map_update" ref="af7ceac3ba31fbb4e99e7d5ee05ea56e1" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, const struct osd_inode_id *id, handle_t *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_obj_map_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l01050">1050</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00157">osd_obj_seq::oos_dirs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00155">osd_obj_seq::oos_subdir_count</a>, <a class="el" href="osd__compat_8c_source.html#l00521">osd_obj_update_entry()</a>, <a class="el" href="osd__compat_8c_source.html#l00760">osd_oid_name()</a>, <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>, <a class="el" href="lustre__idl_8h_source.html#l00546">ostid_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00531">ostid_seq()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00799">osd_oi_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a512631c3f2624b3ab23ba2682d23d76b"></a><!-- doxytag: member="osd_compat.c::osd_obj_spec_insert" ref="a512631c3f2624b3ab23ba2682d23d76b" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, const struct osd_inode_id *id, handle_t *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_obj_spec_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l01242">1242</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd__compat_8c_source.html#l00696">osd_obj_add_entry()</a>, <a class="el" href="osd__compat_8c_source.html#l01195">osd_object_spec_find()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="acf638db426fadf0f91bb5d9f6c9a0bfd"></a><!-- doxytag: member="osd_compat.c::osd_obj_spec_lookup" ref="acf638db426fadf0f91bb5d9f6c9a0bfd" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, struct osd_inode_id *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_obj_spec_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l01263">1263</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lvfs_8h_source.html#l00084">ll_lookup_one_len()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00156">osd_obj_seq::oos_root</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd__scrub_8c_source.html#l02356">osd_lf_fid2name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a4bbbc298d63715bbcf630c97e707142a"></a><!-- doxytag: member="osd_compat.c::osd_obj_spec_update" ref="a4bbbc298d63715bbcf630c97e707142a" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, const struct osd_inode_id *id, handle_t *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_obj_spec_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l01221">1221</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd__compat_8c_source.html#l00521">osd_obj_update_entry()</a>, <a class="el" href="osd__compat_8c_source.html#l01195">osd_object_spec_find()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00799">osd_oi_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a602b788a175367a837f87b3d869ec799"></a><!-- doxytag: member="osd_compat.c::osd_obj_update_entry" ref="a602b788a175367a837f87b3d869ec799" args="(struct osd_thread_info *info, struct osd_device *osd, struct dentry *dir, const char *name, const struct lu_fid *fid, const struct osd_inode_id *id, handle_t *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_obj_update_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the specified OI mapping. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1,changed</em>&nbsp;</td><td>nothing </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0,changed</em>&nbsp;</td><td>successfully </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00521">521</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00525">fid_idif_ost_idx()</a>, <a class="el" href="lustre__idl_8h_source.html#l00462">fid_is_idif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00259">osd_device::od_index</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00641">osd_get_idif()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00930">osd_is_ea_inode()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="lustre__idl_8h_source.html#l00659">ostid_to_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00521">osd_thread_info::oti_child_dentry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00537">osd_thread_info::oti_fid3</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00540">osd_thread_info::oti_id3</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00973">osd_obj_map_insert()</a>, <a class="el" href="osd__compat_8c_source.html#l01050">osd_obj_map_update()</a>, and <a class="el" href="osd__compat_8c_source.html#l01221">osd_obj_spec_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a439a086253592c036f08e36e4b868be3"></a><!-- doxytag: member="osd_compat.c::osd_object_spec_find" ref="a439a086253592c036f08e36e4b868be3" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, char **name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct dentry* osd_object_spec_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l01195">1195</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="osd__scrub_8c_source.html#l02356">osd_lf_fid2name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l01242">osd_obj_spec_insert()</a>, and <a class="el" href="osd__compat_8c_source.html#l01221">osd_obj_spec_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ac85344073525d3b16b6d503da057fc34"></a><!-- doxytag: member="osd_compat.c::osd_oid_name" ref="ac85344073525d3b16b6d503da057fc34" args="(char *name, size_t name_size, const struct lu_fid *fid, u64 id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_oid_name </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>name_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00760">760</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00457">fid_seq_is_idif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00342">fid_seq_is_mdt0()</a>, <a class="el" href="lustre__idl_8h_source.html#l00373">fid_seq_is_rsvd()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, and <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00048">LPX64i</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l01019">osd_obj_map_delete()</a>, <a class="el" href="osd__compat_8c_source.html#l00973">osd_obj_map_insert()</a>, <a class="el" href="osd__compat_8c_source.html#l00911">osd_obj_map_lookup()</a>, <a class="el" href="osd__compat_8c_source.html#l01078">osd_obj_map_recover()</a>, and <a class="el" href="osd__compat_8c_source.html#l01050">osd_obj_map_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a70f153a73a120e6f26e215a7b1fe0d9b"></a><!-- doxytag: member="osd_compat.c::osd_ost_fini" ref="a70f153a73a120e6f26e215a7b1fe0d9b" args="(struct osd_device *osd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_ost_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00443">443</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00268">osd_device::od_ost_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00163">osd_obj_map::om_root</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00165">osd_obj_map::om_seq_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00164">osd_obj_map::om_seq_list_lock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00159">osd_obj_seq::oos_seq_list</a>, and <a class="el" href="osd__compat_8c_source.html#l00424">osd_seq_free()</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00508">osd_obj_map_fini()</a>, and <a class="el" href="osd__compat_8c_source.html#l00469">osd_obj_map_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fea064edb3e545b7168937588fbaf6f"></a><!-- doxytag: member="osd_compat.c::osd_ost_init" ref="a0fea064edb3e545b7168937588fbaf6f" args="(const struct lu_env *env, struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ost_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00355">355</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lvfs_8h_source.html#l00084">ll_lookup_one_len()</a>, <a class="el" href="lustre__idl_8h_source.html#l00184">LMAC_FID_ON_OST</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__idl_8h_source.html#l00754">lu_igif_build()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_maybe_new</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00242">osd_device::od_mnt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00268">osd_device::od_ost_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00167">osd_obj_map::om_dir_init_mutex</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00163">osd_obj_map::om_root</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00165">osd_obj_map::om_seq_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00164">osd_obj_map::om_seq_list_lock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00166">osd_obj_map::om_subdir_count</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd__compat_8c_source.html#l00123">osd_last_rcvd_subdir_count()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd__compat_8c_source.html#l00061">osd_push_ctxt()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00537">osd_thread_info::oti_fid3</a>, <a class="el" href="sec__ctx_8c_source.html#l00078">pop_ctxt()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osd__compat_8c_source.html#l00076">simple_mkdir()</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00469">osd_obj_map_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a00531be1cb90f9d655520a8c9c44e3cd"></a><!-- doxytag: member="osd_compat.c::osd_push_ctxt" ref="a00531be1cb90f9d655520a8c9c44e3cd" args="(const struct osd_device *dev, struct lvfs_run_ctxt *newctxt, struct lvfs_run_ctxt *save)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_push_ctxt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlvfs__run__ctxt.html">lvfs_run_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>newctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlvfs__run__ctxt.html">lvfs_run_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>save</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00061">61</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="lvfs_8h_source.html#l00061">lvfs_run_ctxt::dt</a>, <a class="el" href="lvfs_8h_source.html#l00059">lvfs_run_ctxt::fs</a>, <a class="el" href="lvfs_8h_source.html#l00067">OBD_SET_CTXT_MAGIC()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00242">osd_device::od_mnt</a>, <a class="el" href="sec__ctx_8c_source.html#l00050">push_ctxt()</a>, <a class="el" href="lvfs_8h_source.html#l00058">lvfs_run_ctxt::pwd</a>, <a class="el" href="lvfs_8h_source.html#l00057">lvfs_run_ctxt::pwdmnt</a>, and <a class="el" href="lvfs_8h_source.html#l00060">lvfs_run_ctxt::umask</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00162">osd_mdt_init()</a>, and <a class="el" href="osd__compat_8c_source.html#l00355">osd_ost_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a622272c17931e7cb5a33e9d89eb13089"></a><!-- doxytag: member="osd_compat.c::osd_seq_find" ref="a622272c17931e7cb5a33e9d89eb13089" args="(struct osd_obj_map *map, u64 seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a>* osd_seq_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__obj__map.html">osd_obj_map</a> *&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00498">498</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00164">osd_obj_map::om_seq_list_lock</a>, and <a class="el" href="osd__compat_8c_source.html#l00487">osd_seq_find_locked()</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>.</p>

</div>
</div>
<a class="anchor" id="a43762c76e639a7893aa78485f0338938"></a><!-- doxytag: member="osd_compat.c::osd_seq_find_locked" ref="a43762c76e639a7893aa78485f0338938" args="(struct osd_obj_map *map, u64 seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a>* osd_seq_find_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__obj__map.html">osd_obj_map</a> *&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00487">487</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00165">osd_obj_map::om_seq_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00158">osd_obj_seq::oos_seq</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00159">osd_obj_seq::oos_seq_list</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00498">osd_seq_find()</a>, and <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>.</p>

</div>
</div>
<a class="anchor" id="aee3a22c7c51fb997b9c4f3ed4ef88279"></a><!-- doxytag: member="osd_compat.c::osd_seq_free" ref="aee3a22c7c51fb997b9c4f3ed4ef88279" args="(struct osd_obj_seq *osd_seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_seq_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a> *&nbsp;</td>
          <td class="paramname"> <em>osd_seq</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00424">424</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00157">osd_obj_seq::oos_dirs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00156">osd_obj_seq::oos_root</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00155">osd_obj_seq::oos_subdir_count</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00443">osd_ost_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a4904d41208ad0fc9a8bd5fefbde1b938"></a><!-- doxytag: member="osd_compat.c::osd_seq_load" ref="a4904d41208ad0fc9a8bd5fefbde1b938" args="(struct osd_thread_info *info, struct osd_device *osd, u64 seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a>* osd_seq_load </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00855">855</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="fsx_8c_source.html#l01082">cleanup()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00268">osd_device::od_ost_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00167">osd_obj_map::om_dir_init_mutex</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00163">osd_obj_map::om_root</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00165">osd_obj_map::om_seq_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00164">osd_obj_map::om_seq_list_lock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00166">osd_obj_map::om_subdir_count</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00158">osd_obj_seq::oos_seq</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00159">osd_obj_seq::oos_seq_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00155">osd_obj_seq::oos_subdir_count</a>, <a class="el" href="osd__compat_8c_source.html#l00498">osd_seq_find()</a>, <a class="el" href="osd__compat_8c_source.html#l00487">osd_seq_find_locked()</a>, <a class="el" href="osd__compat_8c_source.html#l00770">osd_seq_load_locked()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l01019">osd_obj_map_delete()</a>, <a class="el" href="osd__compat_8c_source.html#l00973">osd_obj_map_insert()</a>, <a class="el" href="osd__compat_8c_source.html#l00911">osd_obj_map_lookup()</a>, <a class="el" href="osd__compat_8c_source.html#l01078">osd_obj_map_recover()</a>, <a class="el" href="osd__compat_8c_source.html#l01050">osd_obj_map_update()</a>, <a class="el" href="osd__compat_8c_source.html#l01263">osd_obj_spec_lookup()</a>, and <a class="el" href="osd__compat_8c_source.html#l01195">osd_object_spec_find()</a>.</p>

</div>
</div>
<a class="anchor" id="a15bd86ab4051b65f026f92ca66e58ff1"></a><!-- doxytag: member="osd_compat.c::osd_seq_load_locked" ref="a15bd86ab4051b65f026f92ca66e58ff1" args="(struct osd_thread_info *info, struct osd_device *osd, struct osd_obj_seq *osd_seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_seq_load_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__obj__seq.html">osd_obj_seq</a> *&nbsp;</td>
          <td class="paramname"> <em>osd_seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00770">770</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l00184">LMAC_FID_ON_OST</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__idl_8h_source.html#l00754">lu_igif_build()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00242">osd_device::od_mnt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00268">osd_device::od_ost_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00163">osd_obj_map::om_root</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00157">osd_obj_seq::oos_dirs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00156">osd_obj_seq::oos_root</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00158">osd_obj_seq::oos_seq</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00155">osd_obj_seq::oos_subdir_count</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd__compat_8c_source.html#l00752">osd_seq_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00537">osd_thread_info::oti_fid3</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osd__compat_8c_source.html#l00076">simple_mkdir()</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00855">osd_seq_load()</a>.</p>

</div>
</div>
<a class="anchor" id="a9885dd654e8888d8918f290fc7e32cf3"></a><!-- doxytag: member="osd_compat.c::osd_seq_name" ref="a9885dd654e8888d8918f290fc7e32cf3" args="(char *seq_name, size_t name_size, u64 seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_seq_name </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>seq_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>name_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Use LPU64 for legacy OST sequences, but use LPX64i for new sequences <a class="el" href="structnames.html">names</a>, so that the O/{seq}/dN/{oid} more closely follows the DFID/PFID format. </p>
<p>This makes it easier to map from debug messages to objects in the future, and the legacy space of FID_SEQ_OST_MDT0 will be unused in the future. </p>

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00752">752</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00457">fid_seq_is_idif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00342">fid_seq_is_mdt0()</a>, <a class="el" href="lustre__idl_8h_source.html#l00373">fid_seq_is_rsvd()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, and <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00048">LPX64i</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00770">osd_seq_load_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="ae138bc534a1cdec4a105cb5ec73062c7"></a><!-- doxytag: member="osd_compat.c::simple_mkdir" ref="ae138bc534a1cdec4a105cb5ec73062c7" args="(struct dentry *dir, struct vfsmount *mnt, const char *name, int mode, int fix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct dentry* simple_mkdir </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct vfsmount *&nbsp;</td>
          <td class="paramname"> <em>mnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00076">76</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00153">D_CONFIG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lvfs_8h_source.html#l00084">ll_lookup_one_len()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00162">osd_mdt_init()</a>, <a class="el" href="osd__compat_8c_source.html#l00355">osd_ost_init()</a>, and <a class="el" href="osd__compat_8c_source.html#l00770">osd_seq_load_locked()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a48dd339c7351d566807fcf3495bb19a0"></a><!-- doxytag: member="osd_compat.c::remote_parent_dir" ref="a48dd339c7351d566807fcf3495bb19a0" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="osd__compat_8c.html#a48dd339c7351d566807fcf3495bb19a0">remote_parent_dir</a>[] = &quot;REMOTE_PARENT_DIR&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__compat_8c_source.html#l00161">161</a> of file <a class="el" href="osd__compat_8c_source.html">osd_compat.c</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00162">osd_mdt_init()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
