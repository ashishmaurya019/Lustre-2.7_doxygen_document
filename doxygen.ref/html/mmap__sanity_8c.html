<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/tests/mmap_sanity.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/tests/mmap_sanity.c File Reference</h1><code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/wait.h&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;sys/mman.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;getopt.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="param_8h_source.html">libcfs/util/param.h</a>&gt;</code><br/>

<p><a href="mmap__sanity_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtest__case.html">test_case</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f">usage</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a08d908391716fd3a4c49d98cefc29e8a">remote_tst</a> (int tc, char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#aaf830f76e99943f475f72d6d3b4d8004">mmap_run</a> (int tc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a29421888ad11892e097cb15309a10269">mmap_initialize</a> (char *myself)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#ad3dcbf237cc8af18b16a87ffbc12534c">mmap_finalize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a29d61e1cdede013141a42f3b83540f95">mmap_tst1</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a21424d41b6d224bcd874b248a0ad105f">mmap_tst2</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#ade3f035ab43592b1a5ee3bc1405a553e">mmap_tst3</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#abb6988ace532f1f702b4b44962990559">remote_tst3</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#af2cd81b9938da6bb92f52081cff7c9da">mmap_tst4</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a395c66d04e291270b2708986c01aace7">remote_tst4</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a4b19ae1588067a77bc554e61c8b2718a">cancel_lru_locks</a> (char *filter)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a317fcd1affaa9e5ff5c84798454642db">mmap_tst5</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#aefd61e598d3ea85c4f62cfb3930a73d9">mmap_tst6</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a88caf2fdfb172282ff552d7374165440">mmap_tst7_func</a> (char *mnt, int rw)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a24e6c851b7054c14df44a07074e2b53c">mmap_tst7</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#ad4def25e97d9a66ecef93e1663104e2a">mmap_tst8</a> (char *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a73da71b9c136e698a3ccaa1366e455a8">dir</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#ab3b79825aa65ca009ffe75f8e4c8933a">dir2</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a92da31231112ad2d62144ceff4a04e6d">page_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a2caf608284132660225285d02b5ac2e0">mmap_sanity</a> [256]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtest__case.html">test_case</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmap__sanity_8c.html#a9b49875a52c7e1adebb35cbe42ec4630">tests</a> []</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4b19ae1588067a77bc554e61c8b2718a"></a><!-- doxytag: member="mmap_sanity.c::cancel_lru_locks" ref="a4b19ae1588067a77bc554e61c8b2718a" args="(char *filter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cancel_lru_locks </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>filter</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00443">443</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="param_8h_source.html#l00032">cfs_free_param_data()</a>, <a class="el" href="param_8h.html#ab992648c3810a57150c7ed45b54de8d2">cfs_get_param_paths()</a>, and <a class="el" href="lustre__rsync_8c_source.html#l00187">status</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00497">mmap_tst5()</a>, and <a class="el" href="mmap__sanity_8c_source.html#l00557">mmap_tst6()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a><!-- doxytag: member="mmap_sanity.c::main" ref="a3c04138a5bfe5d72780bb7e82a18e627" args="(int argc, char **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00796">796</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00775">test_case::desc</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir2</a>, <a class="el" href="mmap__sanity_8c_source.html#l00140">mmap_finalize()</a>, <a class="el" href="mmap__sanity_8c_source.html#l00088">mmap_initialize()</a>, <a class="el" href="mmap__sanity_8c_source.html#l00777">test_case::node_cnt</a>, <a class="el" href="rename__many_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>, <a class="el" href="mmap__sanity_8c_source.html#l00778">test_case::skipped</a>, <a class="el" href="mmap__sanity_8c_source.html#l00774">test_case::tc</a>, <a class="el" href="fsx_8c_source.html#l01013">test()</a>, <a class="el" href="structtest__case.html#a19a56e7ed3972e8e4ffe976b0b0bd66e">test_case::test_fn</a>, and <a class="el" href="mmap__cat_8c_source.html#l00045">usage</a>.</p>

</div>
</div>
<a class="anchor" id="ad3dcbf237cc8af18b16a87ffbc12534c"></a><!-- doxytag: member="mmap_sanity.c::mmap_finalize" ref="ad3dcbf237cc8af18b16a87ffbc12534c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mmap_finalize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00140">140</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00055">mmap_sanity</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00796">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a29421888ad11892e097cb15309a10269"></a><!-- doxytag: member="mmap_sanity.c::mmap_initialize" ref="a29421888ad11892e097cb15309a10269" args="(char *myself)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_initialize </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>myself</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00088">88</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="mmap__sanity_8c_source.html#l00055">mmap_sanity</a>, and <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00796">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf830f76e99943f475f72d6d3b4d8004"></a><!-- doxytag: member="mmap_sanity.c::mmap_run" ref="aaf830f76e99943f475f72d6d3b4d8004" args="(int tc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_run </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00068">68</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00053">dir2</a>, and <a class="el" href="mmap__sanity_8c_source.html#l00755">remote_tst()</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00246">mmap_tst3()</a>, and <a class="el" href="mmap__sanity_8c_source.html#l00322">mmap_tst4()</a>.</p>

</div>
</div>
<a class="anchor" id="a29d61e1cdede013141a42f3b83540f95"></a><!-- doxytag: member="mmap_sanity.c::mmap_tst1" ref="a29d61e1cdede013141a42f3b83540f95" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_tst1 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00146">146</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

</div>
</div>
<a class="anchor" id="a21424d41b6d224bcd874b248a0ad105f"></a><!-- doxytag: member="mmap_sanity.c::mmap_tst2" ref="a21424d41b6d224bcd874b248a0ad105f" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_tst2 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00186">186</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, and <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

</div>
</div>
<a class="anchor" id="ade3f035ab43592b1a5ee3bc1405a553e"></a><!-- doxytag: member="mmap_sanity.c::mmap_tst3" ref="ade3f035ab43592b1a5ee3bc1405a553e" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_tst3 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00246">246</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00068">mmap_run()</a>, and <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

</div>
</div>
<a class="anchor" id="af2cd81b9938da6bb92f52081cff7c9da"></a><!-- doxytag: member="mmap_sanity.c::mmap_tst4" ref="af2cd81b9938da6bb92f52081cff7c9da" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_tst4 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00322">322</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00068">mmap_run()</a>, and <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

</div>
</div>
<a class="anchor" id="a317fcd1affaa9e5ff5c84798454642db"></a><!-- doxytag: member="mmap_sanity.c::mmap_tst5" ref="a317fcd1affaa9e5ff5c84798454642db" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_tst5 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00497">497</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00443">cancel_lru_locks()</a>, and <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

</div>
</div>
<a class="anchor" id="aefd61e598d3ea85c4f62cfb3930a73d9"></a><!-- doxytag: member="mmap_sanity.c::mmap_tst6" ref="aefd61e598d3ea85c4f62cfb3930a73d9" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_tst6 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00557">557</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00443">cancel_lru_locks()</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir2</a>, and <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

</div>
</div>
<a class="anchor" id="a24e6c851b7054c14df44a07074e2b53c"></a><!-- doxytag: member="mmap_sanity.c::mmap_tst7" ref="a24e6c851b7054c14df44a07074e2b53c" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_tst7 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00681">681</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00630">mmap_tst7_func()</a>.</p>

</div>
</div>
<a class="anchor" id="a88caf2fdfb172282ff552d7374165440"></a><!-- doxytag: member="mmap_sanity.c::mmap_tst7_func" ref="a88caf2fdfb172282ff552d7374165440" args="(char *mnt, int rw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_tst7_func </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rw</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00630">630</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="fsx_8c_source.html#l00118">fname</a>, and <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00681">mmap_tst7()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4def25e97d9a66ecef93e1663104e2a"></a><!-- doxytag: member="mmap_sanity.c::mmap_tst8" ref="ad4def25e97d9a66ecef93e1663104e2a" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mmap_tst8 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00692">692</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="fsx_8c_source.html#l00118">fname</a>, <a class="el" href="fsx_8c_source.html#l00112">page_size</a>, and <a class="el" href="lustre__rsync_8c_source.html#l00187">status</a>.</p>

</div>
</div>
<a class="anchor" id="a08d908391716fd3a4c49d98cefc29e8a"></a><!-- doxytag: member="mmap_sanity.c::remote_tst" ref="a08d908391716fd3a4c49d98cefc29e8a" args="(int tc, char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int remote_tst </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00755">755</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00291">remote_tst3()</a>, and <a class="el" href="mmap__sanity_8c_source.html#l00396">remote_tst4()</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00068">mmap_run()</a>.</p>

</div>
</div>
<a class="anchor" id="abb6988ace532f1f702b4b44962990559"></a><!-- doxytag: member="mmap_sanity.c::remote_tst3" ref="abb6988ace532f1f702b4b44962990559" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int remote_tst3 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00291">291</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00755">remote_tst()</a>.</p>

</div>
</div>
<a class="anchor" id="a395c66d04e291270b2708986c01aace7"></a><!-- doxytag: member="mmap_sanity.c::remote_tst4" ref="a395c66d04e291270b2708986c01aace7" args="(char *mnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int remote_tst4 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mnt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00396">396</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>References <a class="el" href="fsx_8c_source.html#l00112">page_size</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00755">remote_tst()</a>.</p>

</div>
</div>
<a class="anchor" id="ad96d407a911fbb914fa8e4cfbf2faf0f"></a><!-- doxytag: member="mmap_sanity.c::usage" ref="ad96d407a911fbb914fa8e4cfbf2faf0f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void usage </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00057">57</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a73da71b9c136e698a3ccaa1366e455a8"></a><!-- doxytag: member="mmap_sanity.c::dir" ref="a73da71b9c136e698a3ccaa1366e455a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00053">53</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="liblustreapi_8c_source.html#l02690">cb_find_init()</a>, <a class="el" href="mgs__llog_8c_source.html#l00059">class_dentry_readdir()</a>, <a class="el" href="svcgssd_8c_source.html#l00063">closeall()</a>, <a class="el" href="lhsmtool__posix_8c_source.html#l01703">ct_dir_level_max()</a>, <a class="el" href="lhsmtool__posix_8c_source.html#l01467">ct_import_recurse()</a>, <a class="el" href="dt__object_8c_source.html#l00368">dt_store_open()</a>, <a class="el" href="echo__client_8c_source.html#l02557">echo_client_iocontrol()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00678">lfsck_master_dir_engine()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05012">lfsck_namespace_assistant_handler_p1()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l02248">lfsck_namespace_handle_striped_master()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05869">lfsck_namespace_rescan_striped_dir()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01817">lfsck_namespace_striped_dir_rescan()</a>, <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, <a class="el" href="llite__nfs_8c_source.html#l00221">ll_get_name()</a>, <a class="el" href="dcache_8c_source.html#l00322">ll_revalidate_dentry()</a>, <a class="el" href="statahead_8c_source.html#l00653">ll_statahead_interpret()</a>, <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>, <a class="el" href="liblustreapi_8c_source.html#l00728">llapi_dir_create_pool()</a>, <a class="el" href="liblustreapi_8c_source.html#l00803">llapi_direntry_remove()</a>, <a class="el" href="liblustreapi_8c_source.html#l01138">llapi_get_poollist()</a>, <a class="el" href="liblustreapi_8c_source.html#l01991">llapi_ostlist()</a>, <a class="el" href="llog__osd_8c_source.html#l01120">llog_osd_dir_get()</a>, <a class="el" href="llog__osd_8c_source.html#l01295">llog_osd_get_regular_fid_dir()</a>, <a class="el" href="llog__osd_8c_source.html#l01342">llog_osd_regular_fid_add_name_entry()</a>, <a class="el" href="llog__osd_8c_source.html#l01604">llog_osd_regular_fid_del_name_entry()</a>, <a class="el" href="ll__dirstripe__verify_8c_source.html#l00210">main()</a>, <a class="el" href="mdc__request_8c_source.html#l01286">mdc_read_page()</a>, <a class="el" href="mdt__reint_8c_source.html#l01776">mdt_object_find_check()</a>, <a class="el" href="mmap__sanity_8c_source.html#l00088">mmap_initialize()</a>, <a class="el" href="mdsrate_8c_source.html#l00613">next_file()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">osd_dirent_check_repair()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05489">osd_dirent_reinsert()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03973">osd_index_ea_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03676">osd_index_try()</a>, <a class="el" href="osd__scrub_8c_source.html#l01900">osd_ios_lf_fill()</a>, <a class="el" href="osd__compat_8c_source.html#l00660">osd_obj_del_entry()</a>, <a class="el" href="osd__compat_8c_source.html#l00911">osd_obj_map_lookup()</a>, <a class="el" href="osd__compat_8c_source.html#l01078">osd_obj_map_recover()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00103">osd_oi_index_create_one()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00215">osd_oi_open()</a>, <a class="el" href="osd__compat_8c_source.html#l00770">osd_seq_load_locked()</a>, <a class="el" href="mdsrate_8c_source.html#l00266">process_args()</a>, <a class="el" href="statahead_8c_source.html#l00563">sa_instantiate()</a>, <a class="el" href="statahead_8c_source.html#l00830">sa_statahead()</a>, <a class="el" href="osd__iam_8c_source.html#l01886">split_index_node()</a>, <a class="el" href="sec__config_8c_source.html#l00186">sptlrpc_parse_rule()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01035">test25()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l01074">test26()</a>.</p>

</div>
</div>
<a class="anchor" id="ab3b79825aa65ca009ffe75f8e4c8933a"></a><!-- doxytag: member="mmap_sanity.c::dir2" ref="ab3b79825aa65ca009ffe75f8e4c8933a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * <a class="el" href="mmap__sanity_8c.html#ab3b79825aa65ca009ffe75f8e4c8933a">dir2</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00053">53</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00796">main()</a>, <a class="el" href="mmap__sanity_8c_source.html#l00068">mmap_run()</a>, and <a class="el" href="mmap__sanity_8c_source.html#l00557">mmap_tst6()</a>.</p>

</div>
</div>
<a class="anchor" id="a2caf608284132660225285d02b5ac2e0"></a><!-- doxytag: member="mmap_sanity.c::mmap_sanity" ref="a2caf608284132660225285d02b5ac2e0" args="[256]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="mmap__sanity_8c.html#a2caf608284132660225285d02b5ac2e0">mmap_sanity</a>[256]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00055">55</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

<p>Referenced by <a class="el" href="mmap__sanity_8c_source.html#l00140">mmap_finalize()</a>, and <a class="el" href="mmap__sanity_8c_source.html#l00088">mmap_initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a92da31231112ad2d62144ceff4a04e6d"></a><!-- doxytag: member="mmap_sanity.c::page_size" ref="a92da31231112ad2d62144ceff4a04e6d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="mmap__sanity_8c.html#a92da31231112ad2d62144ceff4a04e6d">page_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00054">54</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9b49875a52c7e1adebb35cbe42ec4630"></a><!-- doxytag: member="mmap_sanity.c::tests" ref="a9b49875a52c7e1adebb35cbe42ec4630" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtest__case.html">test_case</a> <a class="el" href="mmap__sanity_8c.html#a9b49875a52c7e1adebb35cbe42ec4630">tests</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        { 1, <span class="stringliteral">&quot;mmap test1: basic mmap operation&quot;</span>, <a class="code" href="mmap__sanity_8c.html#a29d61e1cdede013141a42f3b83540f95">mmap_tst1</a>, 1 },
        { 2, <span class="stringliteral">&quot;mmap test2: MAP_PRIVATE not write back&quot;</span>, <a class="code" href="mmap__sanity_8c.html#a21424d41b6d224bcd874b248a0ad105f">mmap_tst2</a>, 1 },
        { 3, <span class="stringliteral">&quot;mmap test3: concurrent mmap ops on two nodes&quot;</span>, <a class="code" href="mmap__sanity_8c.html#ade3f035ab43592b1a5ee3bc1405a553e">mmap_tst3</a>, 2 },
        { 4, <span class="stringliteral">&quot;mmap test4: c1 write to f1 from mmapped f2, &quot;</span>
             <span class="stringliteral">&quot;c2 write to f1 from mmapped f1&quot;</span>, <a class="code" href="mmap__sanity_8c.html#af2cd81b9938da6bb92f52081cff7c9da">mmap_tst4</a>, 2 },
        { 5, <span class="stringliteral">&quot;mmap test5: read/write file to/from the buffer &quot;</span>
             <span class="stringliteral">&quot;which mmapped to just this file&quot;</span>, <a class="code" href="mmap__sanity_8c.html#a317fcd1affaa9e5ff5c84798454642db">mmap_tst5</a>, 1 },
        { 6, <span class="stringliteral">&quot;mmap test6: check mmap write/read content on two nodes&quot;</span>,
                <a class="code" href="mmap__sanity_8c.html#aefd61e598d3ea85c4f62cfb3930a73d9">mmap_tst6</a>, 2 },
        { 7, <span class="stringliteral">&quot;mmap test7: file i/o with an unmapped buffer&quot;</span>, <a class="code" href="mmap__sanity_8c.html#a24e6c851b7054c14df44a07074e2b53c">mmap_tst7</a>, 1},
        { 8, <span class="stringliteral">&quot;mmap test8: SIGBUS for beyond file size&quot;</span>, <a class="code" href="mmap__sanity_8c.html#ad4def25e97d9a66ecef93e1663104e2a">mmap_tst8</a>, 1 },
        { 0, NULL, 0, 0 }
}
</pre></div>
<p>Definition at line <a class="el" href="mmap__sanity_8c_source.html#l00781">781</a> of file <a class="el" href="mmap__sanity_8c_source.html">mmap_sanity.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:51 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
