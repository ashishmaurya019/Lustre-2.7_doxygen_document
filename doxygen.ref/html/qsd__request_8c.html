<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/quota/qsd_request.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/quota/qsd_request.c File Reference</h1><code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__import_8h_source.html">lustre_import.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="qsd__internal_8h_source.html">qsd_internal.h</a>&quot;</code><br/>

<p><a href="qsd__request_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structqsd__async__args.html">qsd_async_args</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__request_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LQUOTA</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__request_8c.html#afd310db5947000f77181e8381eb0c688">qsd_dqacq_interpret</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *arg, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__request_8c.html#a5a5bd8edfbce2e89daca55ed81a6f314">qsd_send_dqacq</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structquota__body.html">quota_body</a> *qbody, bool sync, <a class="el" href="qsd__internal_8h.html#afaa2e9191f283aed76275c463a151dd7">qsd_req_completion_t</a> completion, struct <a class="el" href="structqsd__qtype__info.html">qsd_qtype_info</a> *qqi, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__request_8c.html#a26d44d9bf50c6dff6052f5c4356af27c">qsd_intent_interpret</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *arg, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__request_8c.html#a2b0a8cffe6a36fc8ea247968e16b8705">qsd_intent_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structquota__body.html">quota_body</a> *qbody, bool sync, int it_op, <a class="el" href="qsd__internal_8h.html#afaa2e9191f283aed76275c463a151dd7">qsd_req_completion_t</a> completion, struct <a class="el" href="structqsd__qtype__info.html">qsd_qtype_info</a> *qqi, struct <a class="el" href="structlquota__lvb.html">lquota_lvb</a> *lvb, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__request_8c.html#aa044a2ef1155074667c35e46bbc4e5d2">qsd_fetch_index</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structidx__info.html">idx_info</a> *ii, unsigned int npages, struct page **pages, bool *need_swab)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="qsd_request.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LQUOTA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__request_8c_source.html#l00031">31</a> of file <a class="el" href="qsd__request_8c_source.html">qsd_request.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="afd310db5947000f77181e8381eb0c688"></a><!-- doxytag: member="qsd_request.c::qsd_dqacq_interpret" ref="afd310db5947000f77181e8381eb0c688" args="(const struct lu_env *env, struct ptlrpc_request *req, void *arg, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_dqacq_interpret </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__request_8c_source.html#l00060">60</a> of file <a class="el" href="qsd__request_8c_source.html">qsd_request.c</a>.</p>

<p>References <a class="el" href="qsd__request_8c_source.html#l00043">qsd_async_args::aa_arg</a>, <a class="el" href="qsd__request_8c_source.html#l00046">qsd_async_args::aa_completion</a>, <a class="el" href="qsd__request_8c_source.html#l00045">qsd_async_args::aa_lockh</a>, <a class="el" href="qsd__request_8c_source.html#l00042">qsd_async_args::aa_qqi</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00949">RMF_QUOTA_BODY</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="qsd__request_8c_source.html#l00091">qsd_send_dqacq()</a>.</p>

</div>
</div>
<a class="anchor" id="aa044a2ef1155074667c35e46bbc4e5d2"></a><!-- doxytag: member="qsd_request.c::qsd_fetch_index" ref="aa044a2ef1155074667c35e46bbc4e5d2" args="(const struct lu_env *env, struct obd_export *exp, struct idx_info *ii, unsigned int npages, struct page **pages, bool *need_swab)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qsd_fetch_index </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structidx__info.html">idx_info</a> *&nbsp;</td>
          <td class="paramname"> <em>ii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>npages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page **&nbsp;</td>
          <td class="paramname"> <em>pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>need_swab</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__request_8c_source.html#l00351">351</a> of file <a class="el" href="qsd__request_8c_source.html">qsd_request.c</a>.</p>

<p>References <a class="el" href="structptlrpc__bulk__frag__ops.html#a3338125828618910ae190978e235d52a">ptlrpc_bulk_frag_ops::add_kiov_frag</a>, <a class="el" href="lustre__net_8h_source.html#l01451">ptlrpc_bulk_desc::bd_frag_ops</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00076">LUSTRE_OBD_VERSION</a>, <a class="el" href="lustre__idl_8h_source.html#l00104">MDS_BULK_PORTAL</a>, <a class="el" href="lustre__idl_8h_source.html#l00113">MDS_READPAGE_PORTAL</a>, <a class="el" href="lustre__idl_8h_source.html#l03031">OBD_IDX_READ</a>, <a class="el" href="client_8c_source.html#l00293">ptlrpc_at_set_req_timeout()</a>, <a class="el" href="lustre__net_8h_source.html#l01337">PTLRPC_BULK_BUF_KIOV</a>, <a class="el" href="client_8c_source.html#l00050">ptlrpc_bulk_kiov_pin_ops</a>, <a class="el" href="lustre__net_8h_source.html#l01339">PTLRPC_BULK_PUT_SINK</a>, <a class="el" href="client_8c_source.html#l00174">ptlrpc_prep_bulk_imp()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="lustre__net_8h_source.html#l01198">ptlrpc_rep_need_swab()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01155">RMF_IDX_INFO</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01279">RQF_OBD_IDX_READ</a>, and <a class="el" href="sec_8c_source.html#l02286">sptlrpc_cli_unwrap_bulk_read()</a>.</p>

<p>Referenced by <a class="el" href="qsd__reint_8c_source.html#l00181">qsd_reint_index()</a>.</p>

</div>
</div>
<a class="anchor" id="a26d44d9bf50c6dff6052f5c4356af27c"></a><!-- doxytag: member="qsd_request.c::qsd_intent_interpret" ref="a26d44d9bf50c6dff6052f5c4356af27c" args="(const struct lu_env *env, struct ptlrpc_request *req, void *arg, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_intent_interpret </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__request_8c_source.html#l00156">156</a> of file <a class="el" href="qsd__request_8c_source.html">qsd_request.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="qsd__request_8c_source.html#l00043">qsd_async_args::aa_arg</a>, <a class="el" href="qsd__request_8c_source.html#l00046">qsd_async_args::aa_completion</a>, <a class="el" href="qsd__request_8c_source.html#l00041">qsd_async_args::aa_exp</a>, <a class="el" href="qsd__request_8c_source.html#l00045">qsd_async_args::aa_lockh</a>, <a class="el" href="qsd__request_8c_source.html#l00044">qsd_async_args::aa_lvb</a>, <a class="el" href="qsd__request_8c_source.html#l00042">qsd_async_args::aa_qqi</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00295">LCK_CR</a>, <a class="el" href="ldlm__request_8c_source.html#l00541">ldlm_cli_enqueue_fini()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00082">LDLM_FL_HAS_INTENT</a>, <a class="el" href="packet-lustre_8c_source.html#l00298">LDLM_PLAIN</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01044">RMF_LDLM_INTENT</a>, <a class="el" href="layout_8c_source.html#l00949">RMF_QUOTA_BODY</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b0a8cffe6a36fc8ea247968e16b8705"></a><!-- doxytag: member="qsd_request.c::qsd_intent_lock" ref="a2b0a8cffe6a36fc8ea247968e16b8705" args="(const struct lu_env *env, struct obd_export *exp, struct quota_body *qbody, bool sync, int it_op, qsd_req_completion_t completion, struct qsd_qtype_info *qqi, struct lquota_lvb *lvb, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qsd_intent_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structquota__body.html">quota_body</a> *&nbsp;</td>
          <td class="paramname"> <em>qbody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>sync</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>it_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qsd__internal_8h.html#afaa2e9191f283aed76275c463a151dd7">qsd_req_completion_t</a>&nbsp;</td>
          <td class="paramname"> <em>completion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqsd__qtype__info.html">qsd_qtype_info</a> *&nbsp;</td>
          <td class="paramname"> <em>qqi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__lvb.html">lquota_lvb</a> *&nbsp;</td>
          <td class="paramname"> <em>lvb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__request_8c_source.html#l00205">205</a> of file <a class="el" href="qsd__request_8c_source.html">qsd_request.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="qsd__request_8c_source.html#l00043">qsd_async_args::aa_arg</a>, <a class="el" href="qsd__request_8c_source.html#l00046">qsd_async_args::aa_completion</a>, <a class="el" href="qsd__request_8c_source.html#l00041">qsd_async_args::aa_exp</a>, <a class="el" href="qsd__request_8c_source.html#l00045">qsd_async_args::aa_lockh</a>, <a class="el" href="qsd__request_8c_source.html#l00044">qsd_async_args::aa_lvb</a>, <a class="el" href="qsd__request_8c_source.html#l00042">qsd_async_args::aa_qqi</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01103">ldlm_enqueue_info::ei_cbdata</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00574">fid_build_quota_res_name()</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l02882">IT_QUOTA_CONN</a>, <a class="el" href="lustre__idl_8h_source.html#l02881">IT_QUOTA_DQACQ</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="ldlm__request_8c_source.html#l00869">ldlm_cli_enqueue()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00082">LDLM_FL_HAS_INTENT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00289">LDLM_FL_NO_LRU</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="ldlm__request_8c_source.html#l00829">ldlm_prep_enqueue_req()</a>, <a class="el" href="lquota__internal_8h_source.html#l00222">lqe_getref()</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="lustre__idl_8h_source.html#l01032">lustre_handle_copy()</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00648">LVB_T_LQUOTA</a>, <a class="el" href="lustre__idl_8h_source.html#l00113">MDS_READPAGE_PORTAL</a>, <a class="el" href="lustre__idl_8h_source.html#l02887">ldlm_intent::opc</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="lustre__idl_8h_source.html#l01879">quota_body::qb_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l01882">quota_body::qb_id</a>, <a class="el" href="lustre__idl_8h_source.html#l01888">quota_body::qb_lockh</a>, <a class="el" href="qsd__internal_8h_source.html#l00216">qqi_getref()</a>, <a class="el" href="qsd__internal_8h_source.html#l00179">qsd_qtype_info::qqi_reference</a>, <a class="el" href="qsd__lock_8c_source.html#l00046">qsd_glb_einfo</a>, <a class="el" href="qsd__lock_8c_source.html#l00054">qsd_id_einfo</a>, <a class="el" href="qsd__internal_8h_source.html#l00261">qsd_info()</a>, <a class="el" href="qsd__request_8c_source.html#l00156">qsd_intent_interpret()</a>, <a class="el" href="qsd__internal_8h_source.html#l00247">qsd_thread_info::qti_einfo</a>, <a class="el" href="qsd__internal_8h_source.html#l00248">qsd_thread_info::qti_lockh</a>, <a class="el" href="qsd__internal_8h_source.html#l00246">qsd_thread_info::qti_resid</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01049">RMF_DLM_LVB</a>, <a class="el" href="layout_8c_source.html#l01044">RMF_LDLM_INTENT</a>, <a class="el" href="layout_8c_source.html#l00949">RMF_QUOTA_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_delay</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_resend</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_retry_einprogress</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01331">RQF_LDLM_INTENT_QUOTA</a>.</p>

<p>Referenced by <a class="el" href="qsd__handler_8c_source.html#l00530">qsd_acquire_remote()</a>, <a class="el" href="qsd__handler_8c_source.html#l00902">qsd_adjust()</a>, and <a class="el" href="qsd__reint_8c_source.html#l00407">qsd_reint_main()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a5bd8edfbce2e89daca55ed81a6f314"></a><!-- doxytag: member="qsd_request.c::qsd_send_dqacq" ref="a5a5bd8edfbce2e89daca55ed81a6f314" args="(const struct lu_env *env, struct obd_export *exp, struct quota_body *qbody, bool sync, qsd_req_completion_t completion, struct qsd_qtype_info *qqi, struct lustre_handle *lockh, struct lquota_entry *lqe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qsd_send_dqacq </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structquota__body.html">quota_body</a> *&nbsp;</td>
          <td class="paramname"> <em>qbody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>sync</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qsd__internal_8h.html#afaa2e9191f283aed76275c463a151dd7">qsd_req_completion_t</a>&nbsp;</td>
          <td class="paramname"> <em>completion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqsd__qtype__info.html">qsd_qtype_info</a> *&nbsp;</td>
          <td class="paramname"> <em>qqi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__request_8c_source.html#l00091">91</a> of file <a class="el" href="qsd__request_8c_source.html">qsd_request.c</a>.</p>

<p>References <a class="el" href="qsd__request_8c_source.html#l00043">qsd_async_args::aa_arg</a>, <a class="el" href="qsd__request_8c_source.html#l00046">qsd_async_args::aa_completion</a>, <a class="el" href="qsd__request_8c_source.html#l00041">qsd_async_args::aa_exp</a>, <a class="el" href="qsd__request_8c_source.html#l00045">qsd_async_args::aa_lockh</a>, <a class="el" href="qsd__request_8c_source.html#l00042">qsd_async_args::aa_qqi</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l01032">lustre_handle_copy()</a>, <a class="el" href="packet-lustre_8c_source.html#l00077">LUSTRE_MDS_VERSION</a>, <a class="el" href="lustre__idl_8h_source.html#l00113">MDS_READPAGE_PORTAL</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="qsd__request_8c_source.html#l00060">qsd_dqacq_interpret()</a>, <a class="el" href="lustre__idl_8h_source.html#l01988">QUOTA_DQACQ</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00949">RMF_QUOTA_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_delay</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_resend</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_retry_einprogress</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01327">RQF_QUOTA_DQACQ</a>.</p>

<p>Referenced by <a class="el" href="qsd__handler_8c_source.html#l00530">qsd_acquire_remote()</a>, and <a class="el" href="qsd__handler_8c_source.html#l00902">qsd_adjust()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
