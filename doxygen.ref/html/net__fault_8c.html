<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lnet/lnet/net_fault.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lnet/lnet/net_fault.c File Reference</h1><code>#include &lt;<a class="el" href="lib-lnet_8h_source.html">lnet/lib-lnet.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lnetctl_8h_source.html">lnet/lnetctl.h</a>&gt;</code><br/>

<p><a href="net__fault_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlnet__drop__rule.html">lnet_drop_rule</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlnet__delay__rule.html">lnet_delay_rule</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdelay__daemon__data.html">delay_daemon_data</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LNET</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a1a9d1f2ba5724c093315f7150f7d9fea">LNET_MSG_MASK</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a2ba7f0bb990356014896c3fb4ba8e9a0">msg_delay_send</a>&nbsp;&nbsp;&nbsp;msg_ev.hdr_data</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">LNet Delay Simulation.  <a href="#a2ba7f0bb990356014896c3fb4ba8e9a0"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a5460011f52bc27978ee45f50487d8d43">lnet_fault_nid_match</a> (<a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> msg_nid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a72afde4c3efc9c7de5ab09370901b1dd">lnet_fault_attr_match</a> (struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *attr, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> src, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> dst, unsigned int type, unsigned int portal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a16e7392cb47d39ebd58707b3bfdaa555">lnet_fault_attr_validate</a> (struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a3c8f2ebe675520103520ceed9ab03e18">lnet_fault_stat_inc</a> (struct <a class="el" href="structlnet__fault__stat.html">lnet_fault_stat</a> *stat, unsigned int type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a38933e8478056270d5c8377ba23044a3">lnet_drop_rule_add</a> (struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">LNet message drop simulation.  <a href="#a38933e8478056270d5c8377ba23044a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a4ee9c23b66d37e4e2c6fd082836c24cf">lnet_drop_rule_del</a> (<a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> src, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> dst)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove matched drop rules from lnet, all rules that can match <em>src</em> and <em>dst</em> will be removed.  <a href="#a4ee9c23b66d37e4e2c6fd082836c24cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a4945350ed5da8a6f5625876c73d9b6ad">lnet_drop_rule_list</a> (int pos, struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *attr, struct <a class="el" href="structlnet__fault__stat.html">lnet_fault_stat</a> *stat)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List drop rule at position of <em>pos</em>.  <a href="#a4945350ed5da8a6f5625876c73d9b6ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a88c04f04bd6be0abff681fde11bb54a0">lnet_drop_rule_reset</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reset counters for all drop rules  <a href="#a88c04f04bd6be0abff681fde11bb54a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a6f7af96776c3bcf5d89d1c6f0081113c">drop_rule_match</a> (struct <a class="el" href="structlnet__drop__rule.html">lnet_drop_rule</a> *rule, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> src, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> dst, unsigned int type, unsigned int portal)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check source/destination NID, portal, message type and drop rate, decide whether should drop this message or not  <a href="#a6f7af96776c3bcf5d89d1c6f0081113c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a7c0d119d578e1bd95ff500ee3443e569">lnet_drop_rule_match</a> (lnet_hdr_t *hdr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if message from <em>src</em> to <em>dst</em> can match any existed drop rule.  <a href="#a7c0d119d578e1bd95ff500ee3443e569"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a68745a380529b0c2805e15cc63b07368">round_timeout</a> (<a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a> <a class="el" href="o2iblnd__modparams_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a1acb10b010a73ca39dde997ed196349c">delay_rule_decref</a> (struct <a class="el" href="structlnet__delay__rule.html">lnet_delay_rule</a> *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#acbcd64a25280fe165e1d6be19ec46877">delay_rule_match</a> (struct <a class="el" href="structlnet__delay__rule.html">lnet_delay_rule</a> *rule, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> src, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> dst, unsigned int type, unsigned int portal, struct <a class="el" href="structlnet__msg.html">lnet_msg</a> *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check source/destination NID, portal, message type and delay rate, decide whether should delay this message or not  <a href="#acbcd64a25280fe165e1d6be19ec46877"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#af55bf0fb4d99f03cb784dc02a3fce4b8">lnet_delay_rule_match_locked</a> (lnet_hdr_t *hdr, struct <a class="el" href="structlnet__msg.html">lnet_msg</a> *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check if <em>msg</em> can match any Delay Rule, receiving of this message will be delayed if there is a match.  <a href="#af55bf0fb4d99f03cb784dc02a3fce4b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#ab77c567d0e178430349ab2de91b0fb99">delayed_msg_check</a> (struct <a class="el" href="structlnet__delay__rule.html">lnet_delay_rule</a> *rule, bool all, struct <a class="el" href="structlist__head.html">list_head</a> *msg_list)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check out delayed messages for send  <a href="#ab77c567d0e178430349ab2de91b0fb99"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a92301e36ee7b16a2a7ff355be70ab825">delayed_msg_process</a> (struct <a class="el" href="structlist__head.html">list_head</a> *msg_list, bool drop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a463d019543fb77ce7901046605baf496">lnet_delay_rule_check</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process delayed messages for scheduled rules This function can either be called by delay_rule_daemon, or by lnet_finalise.  <a href="#a463d019543fb77ce7901046605baf496"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a6377ae37e5e8c78f4e4a059e9729e982">lnet_delay_rule_daemon</a> (void *arg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">deamon thread to handle delayed messages  <a href="#a6377ae37e5e8c78f4e4a059e9729e982"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a91853cf39f563764a577eb9e9712c098">delay_timer_cb</a> (unsigned long arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#ade253484add34fe60ae621cf7c7bf3bd">lnet_delay_rule_add</a> (struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a new delay rule to LNet There is no check for duplicated delay rule, all rules will be checked for incoming message.  <a href="#ade253484add34fe60ae621cf7c7bf3bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#aa9ee697979a8ea61fdca711940362581">lnet_delay_rule_del</a> (<a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> src, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> dst, bool shutdown)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove matched Delay Rules from lnet, if <em>shutdown</em> is true or both <em>src</em> and <em>dst</em> are zero, all rules will be removed, otherwise only matched rules will be removed.  <a href="#aa9ee697979a8ea61fdca711940362581"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a37ee915fb5d0c650afc6662d5daeb8e1">lnet_delay_rule_list</a> (int pos, struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *attr, struct <a class="el" href="structlnet__fault__stat.html">lnet_fault_stat</a> *stat)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List Delay Rule at position of <em>pos</em>.  <a href="#a37ee915fb5d0c650afc6662d5daeb8e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a6e4398ec3952021fe73e3a5ded726724">lnet_delay_rule_reset</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reset counters for all Delay Rules  <a href="#a6e4398ec3952021fe73e3a5ded726724"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#adb72fd9b6bf582e168bf91ff3de4fe5c">lnet_fault_ctl</a> (int opc, struct <a class="el" href="structlibcfs__ioctl__data.html">libcfs_ioctl_data</a> *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a5622523e14791417b8f7d8acd87eb723">lnet_fault_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#a8375e1fcac37d18a1a095e3788be53ed">lnet_fault_fini</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdelay__daemon__data.html">delay_daemon_data</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__fault_8c.html#ac19ce2f275c201f300a445e288b5a33e">delay_dd</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="net_fault.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LNET</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00037">37</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1a9d1f2ba5724c093315f7150f7d9fea"></a><!-- doxytag: member="net_fault.c::LNET_MSG_MASK" ref="a1a9d1f2ba5724c093315f7150f7d9fea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LNET_MSG_MASK</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">(<a class="code" href="group__lnet__fault__simulation.html#gadb1859122d881e59596ed3d1cc03c793">LNET_PUT_BIT</a> | <a class="code" href="group__lnet__fault__simulation.html#ga80cee7d594c67426431451a3dc97d021">LNET_ACK_BIT</a> | \
                                 <a class="code" href="group__lnet__fault__simulation.html#gaa91fde98de78f9e278f1f20992adea5a">LNET_GET_BIT</a> | <a class="code" href="group__lnet__fault__simulation.html#ga7bc07c3796c9d0f9e6ffe37af06fdfb9">LNET_REPLY_BIT</a>)
</pre></div>
<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00042">42</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00101">lnet_fault_attr_validate()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ba7f0bb990356014896c3fb4ba8e9a0"></a><!-- doxytag: member="net_fault.c::msg_delay_send" ref="a2ba7f0bb990356014896c3fb4ba8e9a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define msg_delay_send&nbsp;&nbsp;&nbsp;msg_ev.hdr_data</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>LNet Delay Simulation. </p>
<p>timestamp (second) to send delayed message </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00395">395</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a1acb10b010a73ca39dde997ed196349c"></a><!-- doxytag: member="net_fault.c::delay_rule_decref" ref="a1acb10b010a73ca39dde997ed196349c" args="(struct lnet_delay_rule *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void delay_rule_decref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlnet__delay__rule.html">lnet_delay_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00456">456</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00414">CFS_FREE_PTR</a>, <a class="el" href="net__fault_8c_source.html#l00399">lnet_delay_rule::dl_link</a>, <a class="el" href="net__fault_8c_source.html#l00422">lnet_delay_rule::dl_msg_list</a>, <a class="el" href="net__fault_8c_source.html#l00407">lnet_delay_rule::dl_refcount</a>, <a class="el" href="net__fault_8c_source.html#l00401">lnet_delay_rule::dl_sched_link</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="list_8h_source.html#l00161">list_empty()</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00659">lnet_delay_rule_check()</a>, and <a class="el" href="net__fault_8c_source.html#l00823">lnet_delay_rule_del()</a>.</p>

</div>
</div>
<a class="anchor" id="acbcd64a25280fe165e1d6be19ec46877"></a><!-- doxytag: member="net_fault.c::delay_rule_match" ref="acbcd64a25280fe165e1d6be19ec46877" args="(struct lnet_delay_rule *rule, lnet_nid_t src, lnet_nid_t dst, unsigned int type, unsigned int portal, struct lnet_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool delay_rule_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlnet__delay__rule.html">lnet_delay_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>portal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlnet__msg.html">lnet_msg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>check source/destination NID, portal, message type and delay rate, decide whether should delay this message or not </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00472">472</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="prng_8c_source.html#l00078">cfs_rand()</a>, <a class="el" href="libcfs__time_8h_source.html#l00056">cfs_time_after()</a>, <a class="el" href="libcfs__time_8h_source.html#l00061">cfs_time_aftereq()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="linux-time_8h_source.html#l00262">CFS_TIME_T</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="structlnet__fault__stat.html#aa9371659ea3fa0d7017ad121123207c9">lnet_fault_stat::delay</a>, <a class="el" href="structlnet__fault__attr.html#a52d2c13d7018147bd8ef6f347ea23b04">lnet_fault_attr::delay</a>, <a class="el" href="net__fault_8c_source.html#l00403">lnet_delay_rule::dl_attr</a>, <a class="el" href="net__fault_8c_source.html#l00412">lnet_delay_rule::dl_delay_at</a>, <a class="el" href="net__fault_8c_source.html#l00416">lnet_delay_rule::dl_delay_time</a>, <a class="el" href="net__fault_8c_source.html#l00405">lnet_delay_rule::dl_lock</a>, <a class="el" href="net__fault_8c_source.html#l00422">lnet_delay_rule::dl_msg_list</a>, <a class="el" href="net__fault_8c_source.html#l00420">lnet_delay_rule::dl_msg_send</a>, <a class="el" href="net__fault_8c_source.html#l00424">lnet_delay_rule::dl_stat</a>, <a class="el" href="net__fault_8c_source.html#l00418">lnet_delay_rule::dl_time_base</a>, <a class="el" href="net__fault_8c_source.html#l00426">lnet_delay_rule::dl_timer</a>, <a class="el" href="lnetctl_8h_source.html#l00055">lnet_fault_attr::fa_dst</a>, <a class="el" href="lnetctl_8h_source.html#l00053">lnet_fault_attr::fa_src</a>, <a class="el" href="lnetctl_8h_source.html#l00103">lnet_fault_stat::fs_count</a>, <a class="el" href="lnetctl_8h_source.html#l00091">lnet_fault_attr::la_interval</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="net__fault_8c_source.html#l00081">lnet_fault_attr_match()</a>, <a class="el" href="net__fault_8c_source.html#l00120">lnet_fault_stat_inc()</a>, <a class="el" href="lib-types_8h_source.html#l00072">lnet_msg::msg_list</a>, <a class="el" href="createmany_8c_source.html#l00069">now()</a>, <a class="el" href="net__fault_8c_source.html#l00449">round_timeout()</a>, <a class="el" href="structlnet__fault__stat.html#af6547cf757f3390a40b6f0c678577474">lnet_fault_stat::u</a>, and <a class="el" href="structlnet__fault__attr.html#a0f0d8f27aade1561646c8c2690ffc104">lnet_fault_attr::u</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00547">lnet_delay_rule_match_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a91853cf39f563764a577eb9e9712c098"></a><!-- doxytag: member="net_fault.c::delay_timer_cb" ref="a91853cf39f563764a577eb9e9712c098" args="(unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void delay_timer_cb </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00711">711</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="net__fault_8c_source.html#l00433">delay_daemon_data::dd_lock</a>, <a class="el" href="net__fault_8c_source.html#l00441">delay_daemon_data::dd_running</a>, <a class="el" href="net__fault_8c_source.html#l00435">delay_daemon_data::dd_sched_rules</a>, <a class="el" href="net__fault_8c_source.html#l00437">delay_daemon_data::dd_waitq</a>, <a class="el" href="net__fault_8c_source.html#l00446">delay_dd</a>, <a class="el" href="net__fault_8c_source.html#l00407">lnet_delay_rule::dl_refcount</a>, <a class="el" href="net__fault_8c_source.html#l00401">lnet_delay_rule::dl_sched_link</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, and <a class="el" href="list_8h_source.html#l00161">list_empty()</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00730">lnet_delay_rule_add()</a>.</p>

</div>
</div>
<a class="anchor" id="ab77c567d0e178430349ab2de91b0fb99"></a><!-- doxytag: member="net_fault.c::delayed_msg_check" ref="ab77c567d0e178430349ab2de91b0fb99" args="(struct lnet_delay_rule *rule, bool all, struct list_head *msg_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void delayed_msg_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlnet__delay__rule.html">lnet_delay_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>all</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>msg_list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>check out delayed messages for send </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00574">574</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="net__fault_8c_source.html#l00405">lnet_delay_rule::dl_lock</a>, <a class="el" href="net__fault_8c_source.html#l00422">lnet_delay_rule::dl_msg_list</a>, <a class="el" href="net__fault_8c_source.html#l00420">lnet_delay_rule::dl_msg_send</a>, <a class="el" href="net__fault_8c_source.html#l00426">lnet_delay_rule::dl_timer</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="multiop_8c_source.html#l00063">msg</a>, <a class="el" href="lib-types_8h_source.html#l00072">lnet_msg::msg_list</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, and <a class="el" href="createmany_8c_source.html#l00069">now()</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00659">lnet_delay_rule_check()</a>, and <a class="el" href="net__fault_8c_source.html#l00823">lnet_delay_rule_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a92301e36ee7b16a2a7ff355be70ab825"></a><!-- doxytag: member="net_fault.c::delayed_msg_process" ref="a92301e36ee7b16a2a7ff355be70ab825" args="(struct list_head *msg_list, bool drop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void delayed_msg_process </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>msg_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>drop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00609">609</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="lib-types_8h_source.html#l00425">LNET_CREDIT_OK</a>, <a class="el" href="lib-types_8h_source.html#l00427">LNET_CREDIT_WAIT</a>, <a class="el" href="lib-move_8c_source.html#l01409">lnet_drop_message()</a>, <a class="el" href="lib-msg_8c_source.html#l00438">lnet_finalize()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-move_8c_source.html#l00563">lnet_ni_recv()</a>, <a class="el" href="lib-move_8c_source.html#l01683">lnet_parse_forward_locked()</a>, <a class="el" href="lib-move_8c_source.html#l01707">lnet_parse_local()</a>, <a class="el" href="lib-types_8h_source.html#l00369">lnet_peer::lp_ni</a>, <a class="el" href="multiop_8c_source.html#l00063">msg</a>, <a class="el" href="lib-types_8h_source.html#l00113">lnet_msg::msg_len</a>, <a class="el" href="lib-types_8h_source.html#l00072">lnet_msg::msg_list</a>, <a class="el" href="lib-types_8h_source.html#l00110">lnet_msg::msg_private</a>, <a class="el" href="lib-types_8h_source.html#l00096">lnet_msg::msg_routing</a>, <a class="el" href="lib-types_8h_source.html#l00086">lnet_msg::msg_rx_cpt</a>, <a class="el" href="lib-types_8h_source.html#l00108">lnet_msg::msg_rxpeer</a>, and <a class="el" href="list_8h_source.html#l00043">list_head::next</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00659">lnet_delay_rule_check()</a>, and <a class="el" href="net__fault_8c_source.html#l00823">lnet_delay_rule_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f7af96776c3bcf5d89d1c6f0081113c"></a><!-- doxytag: member="net_fault.c::drop_rule_match" ref="a6f7af96776c3bcf5d89d1c6f0081113c" args="(struct lnet_drop_rule *rule, lnet_nid_t src, lnet_nid_t dst, unsigned int type, unsigned int portal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool drop_rule_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlnet__drop__rule.html">lnet_drop_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>portal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>check source/destination NID, portal, message type and drop rate, decide whether should drop this message or not </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00303">303</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="prng_8c_source.html#l00078">cfs_rand()</a>, <a class="el" href="libcfs__time_8h_source.html#l00056">cfs_time_after()</a>, <a class="el" href="libcfs__time_8h_source.html#l00061">cfs_time_aftereq()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="linux-time_8h_source.html#l00262">CFS_TIME_T</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="lnetctl_8h_source.html#l00082">lnet_fault_attr::da_interval</a>, <a class="el" href="net__fault_8c_source.html#l00049">lnet_drop_rule::dr_attr</a>, <a class="el" href="net__fault_8c_source.html#l00056">lnet_drop_rule::dr_drop_at</a>, <a class="el" href="net__fault_8c_source.html#l00060">lnet_drop_rule::dr_drop_time</a>, <a class="el" href="net__fault_8c_source.html#l00051">lnet_drop_rule::dr_lock</a>, <a class="el" href="net__fault_8c_source.html#l00064">lnet_drop_rule::dr_stat</a>, <a class="el" href="net__fault_8c_source.html#l00062">lnet_drop_rule::dr_time_base</a>, <a class="el" href="structlnet__fault__stat.html#a0bc1cc1d885d727fed97c7b0dd06894e">lnet_fault_stat::drop</a>, <a class="el" href="structlnet__fault__attr.html#a1b81d0bd675a90f554445aeeee8e597a">lnet_fault_attr::drop</a>, <a class="el" href="lnetctl_8h_source.html#l00055">lnet_fault_attr::fa_dst</a>, <a class="el" href="lnetctl_8h_source.html#l00053">lnet_fault_attr::fa_src</a>, <a class="el" href="lnetctl_8h_source.html#l00103">lnet_fault_stat::fs_count</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="net__fault_8c_source.html#l00081">lnet_fault_attr_match()</a>, <a class="el" href="net__fault_8c_source.html#l00120">lnet_fault_stat_inc()</a>, <a class="el" href="createmany_8c_source.html#l00069">now()</a>, <a class="el" href="structlnet__fault__stat.html#af6547cf757f3390a40b6f0c678577474">lnet_fault_stat::u</a>, and <a class="el" href="structlnet__fault__attr.html#a0f0d8f27aade1561646c8c2690ffc104">lnet_fault_attr::u</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00363">lnet_drop_rule_match()</a>.</p>

</div>
</div>
<a class="anchor" id="ade253484add34fe60ae621cf7c7bf3bd"></a><!-- doxytag: member="net_fault.c::lnet_delay_rule_add" ref="ade253484add34fe60ae621cf7c7bf3bd" args="(struct lnet_fault_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_delay_rule_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a new delay rule to LNet There is no check for duplicated delay rule, all rules will be checked for incoming message. </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00730">730</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__private_8h_source.html#l00413">CFS_ALLOC_PTR</a>, <a class="el" href="libcfs__private_8h_source.html#l00414">CFS_FREE_PTR</a>, <a class="el" href="prng_8c_source.html#l00078">cfs_rand()</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="net__fault_8c_source.html#l00439">delay_daemon_data::dd_ctl_waitq</a>, <a class="el" href="net__fault_8c_source.html#l00431">delay_daemon_data::dd_mutex</a>, <a class="el" href="net__fault_8c_source.html#l00441">delay_daemon_data::dd_running</a>, <a class="el" href="structlnet__fault__attr.html#a52d2c13d7018147bd8ef6f347ea23b04">lnet_fault_attr::delay</a>, <a class="el" href="net__fault_8c_source.html#l00446">delay_dd</a>, <a class="el" href="net__fault_8c_source.html#l00711">delay_timer_cb()</a>, <a class="el" href="net__fault_8c_source.html#l00403">lnet_delay_rule::dl_attr</a>, <a class="el" href="net__fault_8c_source.html#l00412">lnet_delay_rule::dl_delay_at</a>, <a class="el" href="net__fault_8c_source.html#l00416">lnet_delay_rule::dl_delay_time</a>, <a class="el" href="net__fault_8c_source.html#l00399">lnet_delay_rule::dl_link</a>, <a class="el" href="net__fault_8c_source.html#l00405">lnet_delay_rule::dl_lock</a>, <a class="el" href="net__fault_8c_source.html#l00422">lnet_delay_rule::dl_msg_list</a>, <a class="el" href="net__fault_8c_source.html#l00420">lnet_delay_rule::dl_msg_send</a>, <a class="el" href="net__fault_8c_source.html#l00407">lnet_delay_rule::dl_refcount</a>, <a class="el" href="net__fault_8c_source.html#l00401">lnet_delay_rule::dl_sched_link</a>, <a class="el" href="net__fault_8c_source.html#l00418">lnet_delay_rule::dl_time_base</a>, <a class="el" href="net__fault_8c_source.html#l00426">lnet_delay_rule::dl_timer</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lnetctl_8h_source.html#l00053">lnet_fault_attr::fa_src</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="lib-types_8h_source.html#l00602">lnet_t::ln_delay_rules</a>, <a class="el" href="net__fault_8c_source.html#l00690">lnet_delay_rule_daemon()</a>, <a class="el" href="net__fault_8c_source.html#l00101">lnet_fault_attr_validate()</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="structlnet__fault__attr.html#a0f0d8f27aade1561646c8c2690ffc104">lnet_fault_attr::u</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00952">lnet_fault_ctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a463d019543fb77ce7901046605baf496"></a><!-- doxytag: member="net_fault.c::lnet_delay_rule_check" ref="a463d019543fb77ce7901046605baf496" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_delay_rule_check </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process delayed messages for scheduled rules This function can either be called by delay_rule_daemon, or by lnet_finalise. </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00659">659</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="net__fault_8c_source.html#l00433">delay_daemon_data::dd_lock</a>, <a class="el" href="net__fault_8c_source.html#l00435">delay_daemon_data::dd_sched_rules</a>, <a class="el" href="net__fault_8c_source.html#l00446">delay_dd</a>, <a class="el" href="net__fault_8c_source.html#l00456">delay_rule_decref()</a>, <a class="el" href="net__fault_8c_source.html#l00574">delayed_msg_check()</a>, <a class="el" href="net__fault_8c_source.html#l00609">delayed_msg_process()</a>, <a class="el" href="net__fault_8c_source.html#l00401">lnet_delay_rule::dl_sched_link</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, and <a class="el" href="list_8h_source.html#l00043">list_head::next</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00690">lnet_delay_rule_daemon()</a>, and <a class="el" href="lib-msg_8c_source.html#l00438">lnet_finalize()</a>.</p>

</div>
</div>
<a class="anchor" id="a6377ae37e5e8c78f4e4a059e9729e982"></a><!-- doxytag: member="net_fault.c::lnet_delay_rule_daemon" ref="a6377ae37e5e8c78f4e4a059e9729e982" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_delay_rule_daemon </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>deamon thread to handle delayed messages </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00690">690</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="net__fault_8c_source.html#l00439">delay_daemon_data::dd_ctl_waitq</a>, <a class="el" href="net__fault_8c_source.html#l00441">delay_daemon_data::dd_running</a>, <a class="el" href="net__fault_8c_source.html#l00435">delay_daemon_data::dd_sched_rules</a>, <a class="el" href="net__fault_8c_source.html#l00443">delay_daemon_data::dd_stopped</a>, <a class="el" href="net__fault_8c_source.html#l00437">delay_daemon_data::dd_waitq</a>, <a class="el" href="net__fault_8c_source.html#l00446">delay_dd</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, and <a class="el" href="net__fault_8c_source.html#l00659">lnet_delay_rule_check()</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00730">lnet_delay_rule_add()</a>.</p>

</div>
</div>
<a class="anchor" id="aa9ee697979a8ea61fdca711940362581"></a><!-- doxytag: member="net_fault.c::lnet_delay_rule_del" ref="aa9ee697979a8ea61fdca711940362581" args="(lnet_nid_t src, lnet_nid_t dst, bool shutdown)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_delay_rule_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>shutdown</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove matched Delay Rules from lnet, if <em>shutdown</em> is true or both <em>src</em> and <em>dst</em> are zero, all rules will be removed, otherwise only matched rules will be removed. </p>
<p>If <em>src</em> is zero, then all rules have <em>dst</em> as destination will be remove If <em>dst</em> is zero, then all rules have <em>src</em> as source will be removed</p>
<p>When a delay rule is removed, all delayed messages of this rule will be processed immediately. </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00823">823</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="fsx_8c_source.html#l01082">cleanup()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="net__fault_8c_source.html#l00439">delay_daemon_data::dd_ctl_waitq</a>, <a class="el" href="net__fault_8c_source.html#l00431">delay_daemon_data::dd_mutex</a>, <a class="el" href="net__fault_8c_source.html#l00441">delay_daemon_data::dd_running</a>, <a class="el" href="net__fault_8c_source.html#l00443">delay_daemon_data::dd_stopped</a>, <a class="el" href="net__fault_8c_source.html#l00437">delay_daemon_data::dd_waitq</a>, <a class="el" href="structlnet__fault__attr.html#a52d2c13d7018147bd8ef6f347ea23b04">lnet_fault_attr::delay</a>, <a class="el" href="net__fault_8c_source.html#l00446">delay_dd</a>, <a class="el" href="net__fault_8c_source.html#l00456">delay_rule_decref()</a>, <a class="el" href="net__fault_8c_source.html#l00574">delayed_msg_check()</a>, <a class="el" href="net__fault_8c_source.html#l00609">delayed_msg_process()</a>, <a class="el" href="net__fault_8c_source.html#l00403">lnet_delay_rule::dl_attr</a>, <a class="el" href="net__fault_8c_source.html#l00399">lnet_delay_rule::dl_link</a>, <a class="el" href="net__fault_8c_source.html#l00426">lnet_delay_rule::dl_timer</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lnetctl_8h_source.html#l00055">lnet_fault_attr::fa_dst</a>, <a class="el" href="lnetctl_8h_source.html#l00053">lnet_fault_attr::fa_src</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00137">list_move()</a>, <a class="el" href="lib-types_8h_source.html#l00602">lnet_t::ln_delay_rules</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="structlnet__fault__attr.html#a0f0d8f27aade1561646c8c2690ffc104">lnet_fault_attr::u</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00952">lnet_fault_ctl()</a>, and <a class="el" href="net__fault_8c_source.html#l01033">lnet_fault_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a37ee915fb5d0c650afc6662d5daeb8e1"></a><!-- doxytag: member="net_fault.c::lnet_delay_rule_list" ref="a37ee915fb5d0c650afc6662d5daeb8e1" args="(int pos, struct lnet_fault_attr *attr, struct lnet_fault_stat *stat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_delay_rule_list </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlnet__fault__stat.html">lnet_fault_stat</a> *&nbsp;</td>
          <td class="paramname"> <em>stat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List Delay Rule at position of <em>pos</em>. </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00892">892</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="net__fault_8c_source.html#l00403">lnet_delay_rule::dl_attr</a>, <a class="el" href="net__fault_8c_source.html#l00399">lnet_delay_rule::dl_link</a>, <a class="el" href="net__fault_8c_source.html#l00405">lnet_delay_rule::dl_lock</a>, <a class="el" href="net__fault_8c_source.html#l00424">lnet_delay_rule::dl_stat</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lib-types_8h_source.html#l00602">lnet_t::ln_delay_rules</a>, <a class="el" href="lib-lnet_8h_source.html#l00165">lnet_net_lock_current()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00952">lnet_fault_ctl()</a>.</p>

</div>
</div>
<a class="anchor" id="af55bf0fb4d99f03cb784dc02a3fce4b8"></a><!-- doxytag: member="net_fault.c::lnet_delay_rule_match_locked" ref="af55bf0fb4d99f03cb784dc02a3fce4b8" args="(lnet_hdr_t *hdr, struct lnet_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lnet_delay_rule_match_locked </td>
          <td>(</td>
          <td class="paramtype">lnet_hdr_t *&nbsp;</td>
          <td class="paramname"> <em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlnet__msg.html">lnet_msg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>check if <em>msg</em> can match any Delay Rule, receiving of this message will be delayed if there is a match. </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00547">547</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="net__fault_8c_source.html#l00472">delay_rule_match()</a>, <a class="el" href="net__fault_8c_source.html#l00399">lnet_delay_rule::dl_link</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lib-types_8h_source.html#l00602">lnet_t::ln_delay_rules</a>, <a class="el" href="packet-lnet_8c_source.html#l00157">LNET_MSG_GET</a>, <a class="el" href="packet-lnet_8c_source.html#l00156">LNET_MSG_PUT</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="lib-move_8c_source.html#l01815">lnet_parse()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e4398ec3952021fe73e3a5ded726724"></a><!-- doxytag: member="net_fault.c::lnet_delay_rule_reset" ref="a6e4398ec3952021fe73e3a5ded726724" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_delay_rule_reset </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reset counters for all Delay Rules </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00922">922</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="prng_8c_source.html#l00078">cfs_rand()</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="structlnet__fault__attr.html#a52d2c13d7018147bd8ef6f347ea23b04">lnet_fault_attr::delay</a>, <a class="el" href="net__fault_8c_source.html#l00403">lnet_delay_rule::dl_attr</a>, <a class="el" href="net__fault_8c_source.html#l00412">lnet_delay_rule::dl_delay_at</a>, <a class="el" href="net__fault_8c_source.html#l00416">lnet_delay_rule::dl_delay_time</a>, <a class="el" href="net__fault_8c_source.html#l00399">lnet_delay_rule::dl_link</a>, <a class="el" href="net__fault_8c_source.html#l00405">lnet_delay_rule::dl_lock</a>, <a class="el" href="net__fault_8c_source.html#l00424">lnet_delay_rule::dl_stat</a>, <a class="el" href="net__fault_8c_source.html#l00418">lnet_delay_rule::dl_time_base</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lnetctl_8h_source.html#l00091">lnet_fault_attr::la_interval</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lib-types_8h_source.html#l00602">lnet_t::ln_delay_rules</a>, <a class="el" href="lib-lnet_8h_source.html#l00165">lnet_net_lock_current()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="structlnet__fault__attr.html#a0f0d8f27aade1561646c8c2690ffc104">lnet_fault_attr::u</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00952">lnet_fault_ctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a38933e8478056270d5c8377ba23044a3"></a><!-- doxytag: member="net_fault.c::lnet_drop_rule_add" ref="a38933e8478056270d5c8377ba23044a3" args="(struct lnet_fault_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_drop_rule_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>LNet message drop simulation. </p>
<p>Add a new drop rule to LNet There is no check for duplicated drop rule, all rules will be checked for incoming message. </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00149">149</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__private_8h_source.html#l00413">CFS_ALLOC_PTR</a>, <a class="el" href="prng_8c_source.html#l00078">cfs_rand()</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="net__fault_8c_source.html#l00049">lnet_drop_rule::dr_attr</a>, <a class="el" href="net__fault_8c_source.html#l00056">lnet_drop_rule::dr_drop_at</a>, <a class="el" href="net__fault_8c_source.html#l00060">lnet_drop_rule::dr_drop_time</a>, <a class="el" href="net__fault_8c_source.html#l00047">lnet_drop_rule::dr_link</a>, <a class="el" href="net__fault_8c_source.html#l00051">lnet_drop_rule::dr_lock</a>, <a class="el" href="net__fault_8c_source.html#l00062">lnet_drop_rule::dr_time_base</a>, <a class="el" href="structlnet__fault__attr.html#a1b81d0bd675a90f554445aeeee8e597a">lnet_fault_attr::drop</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lnetctl_8h_source.html#l00053">lnet_fault_attr::fa_src</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="lib-types_8h_source.html#l00601">lnet_t::ln_drop_rules</a>, <a class="el" href="net__fault_8c_source.html#l00101">lnet_fault_attr_validate()</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="structlnet__fault__attr.html#a0f0d8f27aade1561646c8c2690ffc104">lnet_fault_attr::u</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00952">lnet_fault_ctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ee9c23b66d37e4e2c6fd082836c24cf"></a><!-- doxytag: member="net_fault.c::lnet_drop_rule_del" ref="a4ee9c23b66d37e4e2c6fd082836c24cf" args="(lnet_nid_t src, lnet_nid_t dst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_drop_rule_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>dst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove matched drop rules from lnet, all rules that can match <em>src</em> and <em>dst</em> will be removed. </p>
<p>If <em>src</em> is zero, then all rules have <em>dst</em> as destination will be remove If <em>dst</em> is zero, then all rules have <em>src</em> as source will be removed If both of them are zero, all rules will be removed </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00198">198</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__private_8h_source.html#l00414">CFS_FREE_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="net__fault_8c_source.html#l00049">lnet_drop_rule::dr_attr</a>, <a class="el" href="net__fault_8c_source.html#l00047">lnet_drop_rule::dr_link</a>, <a class="el" href="structlnet__fault__attr.html#a1b81d0bd675a90f554445aeeee8e597a">lnet_fault_attr::drop</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lnetctl_8h_source.html#l00055">lnet_fault_attr::fa_dst</a>, <a class="el" href="lnetctl_8h_source.html#l00053">lnet_fault_attr::fa_src</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00137">list_move()</a>, <a class="el" href="lib-types_8h_source.html#l00601">lnet_t::ln_drop_rules</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="structlnet__fault__attr.html#a0f0d8f27aade1561646c8c2690ffc104">lnet_fault_attr::u</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00952">lnet_fault_ctl()</a>, and <a class="el" href="net__fault_8c_source.html#l01033">lnet_fault_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a4945350ed5da8a6f5625876c73d9b6ad"></a><!-- doxytag: member="net_fault.c::lnet_drop_rule_list" ref="a4945350ed5da8a6f5625876c73d9b6ad" args="(int pos, struct lnet_fault_attr *attr, struct lnet_fault_stat *stat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_drop_rule_list </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlnet__fault__stat.html">lnet_fault_stat</a> *&nbsp;</td>
          <td class="paramname"> <em>stat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List drop rule at position of <em>pos</em>. </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00239">239</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="net__fault_8c_source.html#l00049">lnet_drop_rule::dr_attr</a>, <a class="el" href="net__fault_8c_source.html#l00047">lnet_drop_rule::dr_link</a>, <a class="el" href="net__fault_8c_source.html#l00051">lnet_drop_rule::dr_lock</a>, <a class="el" href="net__fault_8c_source.html#l00064">lnet_drop_rule::dr_stat</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lib-types_8h_source.html#l00601">lnet_t::ln_drop_rules</a>, <a class="el" href="lib-lnet_8h_source.html#l00165">lnet_net_lock_current()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00952">lnet_fault_ctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c0d119d578e1bd95ff500ee3443e569"></a><!-- doxytag: member="net_fault.c::lnet_drop_rule_match" ref="a7c0d119d578e1bd95ff500ee3443e569" args="(lnet_hdr_t *hdr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lnet_drop_rule_match </td>
          <td>(</td>
          <td class="paramtype">lnet_hdr_t *&nbsp;</td>
          <td class="paramname"> <em>hdr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if message from <em>src</em> to <em>dst</em> can match any existed drop rule. </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00363">363</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="net__fault_8c_source.html#l00047">lnet_drop_rule::dr_link</a>, <a class="el" href="net__fault_8c_source.html#l00303">drop_rule_match()</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lib-types_8h_source.html#l00601">lnet_t::ln_drop_rules</a>, <a class="el" href="packet-lnet_8c_source.html#l00157">LNET_MSG_GET</a>, <a class="el" href="packet-lnet_8c_source.html#l00156">LNET_MSG_PUT</a>, <a class="el" href="lib-lnet_8h_source.html#l00165">lnet_net_lock_current()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="lib-move_8c_source.html#l01815">lnet_parse()</a>.</p>

</div>
</div>
<a class="anchor" id="a88c04f04bd6be0abff681fde11bb54a0"></a><!-- doxytag: member="net_fault.c::lnet_drop_rule_reset" ref="a88c04f04bd6be0abff681fde11bb54a0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_drop_rule_reset </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reset counters for all drop rules </p>

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00269">269</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="prng_8c_source.html#l00078">cfs_rand()</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="lnetctl_8h_source.html#l00082">lnet_fault_attr::da_interval</a>, <a class="el" href="net__fault_8c_source.html#l00049">lnet_drop_rule::dr_attr</a>, <a class="el" href="net__fault_8c_source.html#l00056">lnet_drop_rule::dr_drop_at</a>, <a class="el" href="net__fault_8c_source.html#l00060">lnet_drop_rule::dr_drop_time</a>, <a class="el" href="net__fault_8c_source.html#l00047">lnet_drop_rule::dr_link</a>, <a class="el" href="net__fault_8c_source.html#l00051">lnet_drop_rule::dr_lock</a>, <a class="el" href="net__fault_8c_source.html#l00064">lnet_drop_rule::dr_stat</a>, <a class="el" href="net__fault_8c_source.html#l00062">lnet_drop_rule::dr_time_base</a>, <a class="el" href="structlnet__fault__attr.html#a1b81d0bd675a90f554445aeeee8e597a">lnet_fault_attr::drop</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lib-types_8h_source.html#l00601">lnet_t::ln_drop_rules</a>, <a class="el" href="lib-lnet_8h_source.html#l00165">lnet_net_lock_current()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="structlnet__fault__attr.html#a0f0d8f27aade1561646c8c2690ffc104">lnet_fault_attr::u</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00952">lnet_fault_ctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a72afde4c3efc9c7de5ab09370901b1dd"></a><!-- doxytag: member="net_fault.c::lnet_fault_attr_match" ref="a72afde4c3efc9c7de5ab09370901b1dd" args="(struct lnet_fault_attr *attr, lnet_nid_t src, lnet_nid_t dst, unsigned int type, unsigned int portal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lnet_fault_attr_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>portal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00081">81</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="lnetctl_8h_source.html#l00055">lnet_fault_attr::fa_dst</a>, <a class="el" href="lnetctl_8h_source.html#l00072">lnet_fault_attr::fa_msg_mask</a>, <a class="el" href="lnetctl_8h_source.html#l00064">lnet_fault_attr::fa_ptl_mask</a>, <a class="el" href="lnetctl_8h_source.html#l00053">lnet_fault_attr::fa_src</a>, and <a class="el" href="net__fault_8c_source.html#l00068">lnet_fault_nid_match()</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00472">delay_rule_match()</a>, and <a class="el" href="net__fault_8c_source.html#l00303">drop_rule_match()</a>.</p>

</div>
</div>
<a class="anchor" id="a16e7392cb47d39ebd58707b3bfdaa555"></a><!-- doxytag: member="net_fault.c::lnet_fault_attr_validate" ref="a16e7392cb47d39ebd58707b3bfdaa555" args="(struct lnet_fault_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_fault_attr_validate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlnet__fault__attr.html">lnet_fault_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00101">101</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="lnetctl_8h_source.html#l00072">lnet_fault_attr::fa_msg_mask</a>, <a class="el" href="lnetctl_8h_source.html#l00064">lnet_fault_attr::fa_ptl_mask</a>, <a class="el" href="lnetctl_8h_source.html#l00043">LNET_GET_BIT</a>, <a class="el" href="net__fault_8c_source.html#l00042">LNET_MSG_MASK</a>, and <a class="el" href="lnetctl_8h_source.html#l00042">LNET_PUT_BIT</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00730">lnet_delay_rule_add()</a>, and <a class="el" href="net__fault_8c_source.html#l00149">lnet_drop_rule_add()</a>.</p>

</div>
</div>
<a class="anchor" id="adb72fd9b6bf582e168bf91ff3de4fe5c"></a><!-- doxytag: member="net_fault.c::lnet_fault_ctl" ref="adb72fd9b6bf582e168bf91ff3de4fe5c" args="(int opc, struct libcfs_ioctl_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_fault_ctl </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>opc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlibcfs__ioctl__data.html">libcfs_ioctl_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00952">952</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="lnetctl_8h_source.html#l00055">lnet_fault_attr::fa_dst</a>, <a class="el" href="lnetctl_8h_source.html#l00053">lnet_fault_attr::fa_src</a>, <a class="el" href="libcfs__ioctl_8h_source.html#l00067">libcfs_ioctl_data::ioc_count</a>, <a class="el" href="libcfs__ioctl_8h_source.html#l00072">libcfs_ioctl_data::ioc_inlbuf1</a>, <a class="el" href="libcfs__ioctl_8h_source.html#l00074">libcfs_ioctl_data::ioc_inlbuf2</a>, <a class="el" href="lnetctl_8h_source.html#l00035">LNET_CTL_DELAY_ADD</a>, <a class="el" href="lnetctl_8h_source.html#l00036">LNET_CTL_DELAY_DEL</a>, <a class="el" href="lnetctl_8h_source.html#l00038">LNET_CTL_DELAY_LIST</a>, <a class="el" href="lnetctl_8h_source.html#l00037">LNET_CTL_DELAY_RESET</a>, <a class="el" href="lnetctl_8h_source.html#l00031">LNET_CTL_DROP_ADD</a>, <a class="el" href="lnetctl_8h_source.html#l00032">LNET_CTL_DROP_DEL</a>, <a class="el" href="lnetctl_8h_source.html#l00034">LNET_CTL_DROP_LIST</a>, <a class="el" href="lnetctl_8h_source.html#l00033">LNET_CTL_DROP_RESET</a>, <a class="el" href="net__fault_8c_source.html#l00730">lnet_delay_rule_add()</a>, <a class="el" href="net__fault_8c_source.html#l00823">lnet_delay_rule_del()</a>, <a class="el" href="net__fault_8c_source.html#l00892">lnet_delay_rule_list()</a>, <a class="el" href="net__fault_8c_source.html#l00922">lnet_delay_rule_reset()</a>, <a class="el" href="net__fault_8c_source.html#l00149">lnet_drop_rule_add()</a>, <a class="el" href="net__fault_8c_source.html#l00198">lnet_drop_rule_del()</a>, <a class="el" href="net__fault_8c_source.html#l00239">lnet_drop_rule_list()</a>, and <a class="el" href="net__fault_8c_source.html#l00269">lnet_drop_rule_reset()</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>.</p>

</div>
</div>
<a class="anchor" id="a8375e1fcac37d18a1a095e3788be53ed"></a><!-- doxytag: member="net_fault.c::lnet_fault_fini" ref="a8375e1fcac37d18a1a095e3788be53ed" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_fault_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l01033">1033</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="net__fault_8c_source.html#l00435">delay_daemon_data::dd_sched_rules</a>, <a class="el" href="net__fault_8c_source.html#l00446">delay_dd</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lib-types_8h_source.html#l00602">lnet_t::ln_delay_rules</a>, <a class="el" href="lib-types_8h_source.html#l00601">lnet_t::ln_drop_rules</a>, <a class="el" href="net__fault_8c_source.html#l00823">lnet_delay_rule_del()</a>, <a class="el" href="net__fault_8c_source.html#l00198">lnet_drop_rule_del()</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01639">LNetNIFini()</a>.</p>

</div>
</div>
<a class="anchor" id="a5622523e14791417b8f7d8acd87eb723"></a><!-- doxytag: member="net_fault.c::lnet_fault_init" ref="a5622523e14791417b8f7d8acd87eb723" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_fault_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l01016">1016</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="net__fault_8c_source.html#l00439">delay_daemon_data::dd_ctl_waitq</a>, <a class="el" href="net__fault_8c_source.html#l00433">delay_daemon_data::dd_lock</a>, <a class="el" href="net__fault_8c_source.html#l00431">delay_daemon_data::dd_mutex</a>, <a class="el" href="net__fault_8c_source.html#l00435">delay_daemon_data::dd_sched_rules</a>, <a class="el" href="net__fault_8c_source.html#l00437">delay_daemon_data::dd_waitq</a>, <a class="el" href="net__fault_8c_source.html#l00446">delay_dd</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lnetctl_8h_source.html#l00041">LNET_ACK_BIT</a>, <a class="el" href="lnetctl_8h_source.html#l00043">LNET_GET_BIT</a>, <a class="el" href="packet-lnet_8c_source.html#l00155">LNET_MSG_ACK</a>, <a class="el" href="packet-lnet_8c_source.html#l00157">LNET_MSG_GET</a>, <a class="el" href="packet-lnet_8c_source.html#l00156">LNET_MSG_PUT</a>, <a class="el" href="packet-lnet_8c_source.html#l00158">LNET_MSG_REPLY</a>, <a class="el" href="lnetctl_8h_source.html#l00042">LNET_PUT_BIT</a>, and <a class="el" href="lnetctl_8h_source.html#l00044">LNET_REPLY_BIT</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01516">LNetNIInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a5460011f52bc27978ee45f50487d8d43"></a><!-- doxytag: member="net_fault.c::lnet_fault_nid_match" ref="a5460011f52bc27978ee45f50487d8d43" args="(lnet_nid_t nid, lnet_nid_t msg_nid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lnet_fault_nid_match </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>msg_nid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00068">68</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00085">LNET_NIDADDR()</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00081">lnet_fault_attr_match()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c8f2ebe675520103520ceed9ab03e18"></a><!-- doxytag: member="net_fault.c::lnet_fault_stat_inc" ref="a3c8f2ebe675520103520ceed9ab03e18" args="(struct lnet_fault_stat *stat, unsigned int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_fault_stat_inc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlnet__fault__stat.html">lnet_fault_stat</a> *&nbsp;</td>
          <td class="paramname"> <em>stat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00120">120</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="lnetctl_8h_source.html#l00107">lnet_fault_stat::fs_ack</a>, <a class="el" href="lnetctl_8h_source.html#l00109">lnet_fault_stat::fs_get</a>, <a class="el" href="lnetctl_8h_source.html#l00105">lnet_fault_stat::fs_put</a>, <a class="el" href="lnetctl_8h_source.html#l00111">lnet_fault_stat::fs_reply</a>, <a class="el" href="packet-lnet_8c_source.html#l00155">LNET_MSG_ACK</a>, <a class="el" href="packet-lnet_8c_source.html#l00157">LNET_MSG_GET</a>, <a class="el" href="packet-lnet_8c_source.html#l00156">LNET_MSG_PUT</a>, and <a class="el" href="packet-lnet_8c_source.html#l00158">LNET_MSG_REPLY</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00472">delay_rule_match()</a>, and <a class="el" href="net__fault_8c_source.html#l00303">drop_rule_match()</a>.</p>

</div>
</div>
<a class="anchor" id="a68745a380529b0c2805e15cc63b07368"></a><!-- doxytag: member="net_fault.c::round_timeout" ref="a68745a380529b0c2805e15cc63b07368" args="(cfs_time_t timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a> round_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a>&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00449">449</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00188">cfs_duration_sec()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, and <a class="el" href="libcfs__time_8h_source.html#l00051">cfs_time_sub()</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00472">delay_rule_match()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ac19ce2f275c201f300a445e288b5a33e"></a><!-- doxytag: member="net_fault.c::delay_dd" ref="ac19ce2f275c201f300a445e288b5a33e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdelay__daemon__data.html">delay_daemon_data</a> <a class="el" href="net__fault_8c.html#ac19ce2f275c201f300a445e288b5a33e">delay_dd</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="net__fault_8c_source.html#l00446">446</a> of file <a class="el" href="net__fault_8c_source.html">net_fault.c</a>.</p>

<p>Referenced by <a class="el" href="net__fault_8c_source.html#l00711">delay_timer_cb()</a>, <a class="el" href="net__fault_8c_source.html#l00730">lnet_delay_rule_add()</a>, <a class="el" href="net__fault_8c_source.html#l00659">lnet_delay_rule_check()</a>, <a class="el" href="net__fault_8c_source.html#l00690">lnet_delay_rule_daemon()</a>, <a class="el" href="net__fault_8c_source.html#l00823">lnet_delay_rule_del()</a>, <a class="el" href="net__fault_8c_source.html#l01033">lnet_fault_fini()</a>, and <a class="el" href="net__fault_8c_source.html#l01016">lnet_fault_init()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:46 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
