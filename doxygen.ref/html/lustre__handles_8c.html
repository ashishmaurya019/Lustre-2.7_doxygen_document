<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/obdclass/lustre_handles.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/obdclass/lustre_handles.c File Reference</h1><code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__handles_8h_source.html">lustre_handles.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__lib_8h_source.html">lustre_lib.h</a>&gt;</code><br/>

<p><a href="lustre__handles_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhandle__bucket.html">handle_bucket</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustre__handles_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_CLASS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustre__handles_8c.html#a7b75197ed2cb3d58acc8bbe95281a8ed">HANDLE_INCR</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustre__handles_8c.html#a78e6d512ef95663b2f1494b8b7e13279">HANDLE_HASH_SIZE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 16)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustre__handles_8c.html#a2e118411cce0dceed55186b91551d4d5">HANDLE_HASH_MASK</a>&nbsp;&nbsp;&nbsp;(HANDLE_HASH_SIZE - 1)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handles.html#ga51d8362225fc0e9cab9f67070945b713">class_handle_hash</a> (struct <a class="el" href="structportals__handle.html">portals_handle</a> *h, struct <a class="el" href="structportals__handle__ops.html">portals_handle_ops</a> *ops)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustre__handles_8c.html#a7fd3d3e2e467908ba431a94dfe05833b">class_handle_unhash_nolock</a> (struct <a class="el" href="structportals__handle.html">portals_handle</a> *h)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handles.html#gae730f35cebade5f4aed6c81e3e3cf1c1">class_handle_unhash</a> (struct <a class="el" href="structportals__handle.html">portals_handle</a> *h)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handles.html#ga574f42037e1a70760130c6bcdd0d1a88">class_handle_hash_back</a> (struct <a class="el" href="structportals__handle.html">portals_handle</a> *h)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handles.html#ga2bc637745ca97deb9ede4f4150f657a3">class_handle2object</a> (<a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cookie, const void *owner)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handles.html#ga32081a3d977d915ee79958dfa44cf08e">class_handle_free_cb</a> (struct rcu_head *rcu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handles.html#ga19b4df0b02dc1f9e7139574b8c1df507">class_handle_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustre__handles_8c.html#ae4c7d3cc61fe5b73ca80ed9ec42524cc">cleanup_all_handles</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handles.html#ga0fe2d00befa7668e70f2ea28b769f367">class_handle_cleanup</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustre__handles_8c.html#aa861a14e9c15bf9887e2626981938101">handle_base</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static spinlock_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustre__handles_8c.html#adc30bf809314a8c625676874cb3289d7">handle_base_lock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhandle__bucket.html">handle_bucket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustre__handles_8c.html#a680e90b478a90d787f4c443efe2f9d13">handle_hash</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="lustre_handles.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_CLASS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__handles_8c_source.html#l00041">41</a> of file <a class="el" href="lustre__handles_8c_source.html">lustre_handles.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2e118411cce0dceed55186b91551d4d5"></a><!-- doxytag: member="lustre_handles.c::HANDLE_HASH_MASK" ref="a2e118411cce0dceed55186b91551d4d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HANDLE_HASH_MASK&nbsp;&nbsp;&nbsp;(HANDLE_HASH_SIZE - 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__handles_8c_source.html#l00058">58</a> of file <a class="el" href="lustre__handles_8c_source.html">lustre_handles.c</a>.</p>

<p>Referenced by <a class="el" href="lustre__handles_8c_source.html#l00155">class_handle2object()</a>, <a class="el" href="lustre__handles_8c_source.html#l00064">class_handle_hash()</a>, <a class="el" href="lustre__handles_8c_source.html#l00139">class_handle_hash_back()</a>, and <a class="el" href="lustre__handles_8c_source.html#l00128">class_handle_unhash()</a>.</p>

</div>
</div>
<a class="anchor" id="a78e6d512ef95663b2f1494b8b7e13279"></a><!-- doxytag: member="lustre_handles.c::HANDLE_HASH_SIZE" ref="a78e6d512ef95663b2f1494b8b7e13279" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HANDLE_HASH_SIZE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 16)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__handles_8c_source.html#l00057">57</a> of file <a class="el" href="lustre__handles_8c_source.html">lustre_handles.c</a>.</p>

<p>Referenced by <a class="el" href="lustre__handles_8c_source.html#l00254">class_handle_cleanup()</a>, <a class="el" href="lustre__handles_8c_source.html#l00202">class_handle_init()</a>, and <a class="el" href="lustre__handles_8c_source.html#l00232">cleanup_all_handles()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b75197ed2cb3d58acc8bbe95281a8ed"></a><!-- doxytag: member="lustre_handles.c::HANDLE_INCR" ref="a7b75197ed2cb3d58acc8bbe95281a8ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HANDLE_INCR&nbsp;&nbsp;&nbsp;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__handles_8c_source.html#l00049">49</a> of file <a class="el" href="lustre__handles_8c_source.html">lustre_handles.c</a>.</p>

<p>Referenced by <a class="el" href="lustre__handles_8c_source.html#l00064">class_handle_hash()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a7fd3d3e2e467908ba431a94dfe05833b"></a><!-- doxytag: member="lustre_handles.c::class_handle_unhash_nolock" ref="a7fd3d3e2e467908ba431a94dfe05833b" args="(struct portals_handle *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void class_handle_unhash_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structportals__handle.html">portals_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__handles_8c_source.html#l00107">107</a> of file <a class="el" href="lustre__handles_8c_source.html">lustre_handles.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__handles_8h_source.html#l00067">portals_handle::h_cookie</a>, <a class="el" href="lustre__handles_8h_source.html#l00075">portals_handle::h_in</a>, <a class="el" href="lustre__handles_8h_source.html#l00066">portals_handle::h_link</a>, <a class="el" href="lustre__handles_8h_source.html#l00073">portals_handle::h_lock</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, and <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>.</p>

<p>Referenced by <a class="el" href="lustre__handles_8c_source.html#l00128">class_handle_unhash()</a>, and <a class="el" href="lustre__handles_8c_source.html#l00232">cleanup_all_handles()</a>.</p>

</div>
</div>
<a class="anchor" id="ae4c7d3cc61fe5b73ca80ed9ec42524cc"></a><!-- doxytag: member="lustre_handles.c::cleanup_all_handles" ref="ae4c7d3cc61fe5b73ca80ed9ec42524cc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cleanup_all_handles </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__handles_8c_source.html#l00232">232</a> of file <a class="el" href="lustre__handles_8c_source.html">lustre_handles.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__handles_8c_source.html#l00107">class_handle_unhash_nolock()</a>, <a class="el" href="lustre__handles_8h_source.html#l00067">portals_handle::h_cookie</a>, <a class="el" href="lustre__handles_8h_source.html#l00066">portals_handle::h_link</a>, <a class="el" href="lustre__handles_8h_source.html#l00069">portals_handle::h_ops</a>, <a class="el" href="lustre__handles_8c.html#a680e90b478a90d787f4c443efe2f9d13">handle_hash</a>, <a class="el" href="lustre__handles_8c_source.html#l00057">HANDLE_HASH_SIZE</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, and <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>.</p>

<p>Referenced by <a class="el" href="lustre__handles_8c_source.html#l00254">class_handle_cleanup()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aa861a14e9c15bf9887e2626981938101"></a><!-- doxytag: member="lustre_handles.c::handle_base" ref="aa861a14e9c15bf9887e2626981938101" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="lustre__handles_8c.html#aa861a14e9c15bf9887e2626981938101">handle_base</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__handles_8c_source.html#l00048">48</a> of file <a class="el" href="lustre__handles_8c_source.html">lustre_handles.c</a>.</p>

<p>Referenced by <a class="el" href="lustre__handles_8c_source.html#l00064">class_handle_hash()</a>, and <a class="el" href="lustre__handles_8c_source.html#l00202">class_handle_init()</a>.</p>

</div>
</div>
<a class="anchor" id="adc30bf809314a8c625676874cb3289d7"></a><!-- doxytag: member="lustre_handles.c::handle_base_lock" ref="adc30bf809314a8c625676874cb3289d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t <a class="el" href="lustre__handles_8c.html#adc30bf809314a8c625676874cb3289d7">handle_base_lock</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__handles_8c_source.html#l00050">50</a> of file <a class="el" href="lustre__handles_8c_source.html">lustre_handles.c</a>.</p>

<p>Referenced by <a class="el" href="lustre__handles_8c_source.html#l00064">class_handle_hash()</a>, and <a class="el" href="lustre__handles_8c_source.html#l00202">class_handle_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a680e90b478a90d787f4c443efe2f9d13"></a><!-- doxytag: member="lustre_handles.c::handle_hash" ref="a680e90b478a90d787f4c443efe2f9d13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhandle__bucket.html">handle_bucket</a> * <a class="el" href="lustre__handles_8c.html#a680e90b478a90d787f4c443efe2f9d13">handle_hash</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="lustre__handles_8c_source.html#l00155">class_handle2object()</a>, <a class="el" href="lustre__handles_8c_source.html#l00254">class_handle_cleanup()</a>, <a class="el" href="lustre__handles_8c_source.html#l00064">class_handle_hash()</a>, <a class="el" href="lustre__handles_8c_source.html#l00139">class_handle_hash_back()</a>, <a class="el" href="lustre__handles_8c_source.html#l00202">class_handle_init()</a>, <a class="el" href="lustre__handles_8c_source.html#l00128">class_handle_unhash()</a>, and <a class="el" href="lustre__handles_8c_source.html#l00232">cleanup_all_handles()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
