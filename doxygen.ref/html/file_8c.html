<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/llite/file.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/llite/file.c File Reference</h1><code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code><br/>
<code>#include &lt;linux/pagemap.h&gt;</code><br/>
<code>#include &lt;linux/file.h&gt;</code><br/>
<code>#include &lt;linux/sched.h&gt;</code><br/>
<code>#include &lt;linux/user_namespace.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="ll__fiemap_8h_source.html">lustre/ll_fiemap.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__ioctl_8h_source.html">lustre_ioctl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__swab_8h_source.html">lustre_swab.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="cl__object_8h_source.html">cl_object.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="llite__internal_8h_source.html">llite_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vvp__internal_8h_source.html">vvp_internal.h</a>&quot;</code><br/>

<p><a href="file_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structll__swap__stack.html">ll_swap_stack</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllioc__ctl__data.html">llioc_ctl_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllioc__data.html">llioc_data</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LLITE</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#abdbdd981cc5eeb6f814f66042de35e82">ll_put_grouplock</a> (struct inode *inode, struct file *file, unsigned long arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a39e46892e54da51516a22748b277e5af">ll_lease_close</a> (struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *och, struct inode *inode, bool *lease_broken)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release lease and close the file.  <a href="#a39e46892e54da51516a22748b277e5af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="llite__internal_8h.html#aa24705c91135269499f54807b2bd5795">llioc_iter</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a02a94a34bc9b9975cbf5ff580e966e54">ll_iocontrol_call</a> (struct inode *inode, struct file *file, unsigned int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, unsigned long arg, int *rcp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structll__file__data.html">ll_file_data</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a03a821d564f2afcfaf53816bc635d136">ll_file_data_get</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a2aadf30b6fee0f228e8bd0210ab1a57d">ll_file_data_put</a> (struct <a class="el" href="structll__file__data.html">ll_file_data</a> *fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a800a324419ea7f1db314e3bfd1ccd97e">ll_prepare_close</a> (struct inode *inode, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *op_data, struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *och)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Packs all the attributes into  for the CLOSE rpc.  <a href="#a800a324419ea7f1db314e3bfd1ccd97e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aafba7966a8acffab775780d4dcdce7b2">ll_close_inode_openhandle</a> (struct inode *inode, struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *och, enum <a class="el" href="group__lustreidl.html#ga4b1c62e9fc5c50b5ad2eff80f77eb0e9">mds_op_bias</a> bias, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform a close, possibly with a bias.  <a href="#aafba7966a8acffab775780d4dcdce7b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a72ad5fc7204977ef854b59c40575fe9f">ll_md_real_close</a> (struct inode *inode, fmode_t fmode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ab2ace19379d98e66ba658ee8e0169c80">ll_md_close</a> (struct inode *inode, struct file *file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a3bc9157679435b46f834741207896073">ll_file_release</a> (struct inode *inode, struct file *file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a04cb4dc422e01387dfa7d47cc72997c5">ll_intent_file_open</a> (struct file *file, void *lmm, int lmmsize, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *itp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a61a72d86ccbc067824eece3d7cfdaa5b">ll_och_fill</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *md_exp, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *och)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a901bedee0eec9ecb8f126c23fe636aa8">ll_local_open</a> (struct file *file, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structll__file__data.html">ll_file_data</a> *fd, struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *och)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aa74dd0b574db12023c97215de31d0637">ll_file_open</a> (struct inode *inode, struct file *file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a0200e4d25f6a7911e67c229a9937b832">ll_md_blocking_lease_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *desc, void *data, int flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a50c14036f2428d628e1574b5b9019db2">ll_lease_open</a> (struct inode *inode, struct file *file, fmode_t fmode, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> open_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Acquire a lease and open the file.  <a href="#a50c14036f2428d628e1574b5b9019db2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a0befc89173dc52fb94b23d72e8369495">ll_check_swap_layouts_validity</a> (struct inode *inode1, struct inode *inode2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether a layout swap can be done between two inodes.  <a href="#a0befc89173dc52fb94b23d72e8369495"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a1e282e89b24b55e28fdb5c3a72bb6a99">ll_swap_layouts_close</a> (struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *och, struct inode *inode, struct inode *inode2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a3bedf7e284e40a33585ec35c11696e6e">ll_merge_attr</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct inode *inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a783e2fafb4773f0c536ffb24cff114ef">file_is_noatime</a> (const struct file *file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ad31f213d7eacb1084da973c013085a3e">ll_io_init</a> (struct <a class="el" href="structcl__io.html">cl_io</a> *io, const struct file *file, int write)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a87b79fc058e2131b8f52e97c89dd3f41">ll_file_io_generic</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structvvp__io__args.html">vvp_io_args</a> *args, struct file *file, enum <a class="el" href="group__cl__io.html#ga7ce44ceebcd945560fa661571e3a4378">cl_io_type</a> iot, loff_t *ppos, size_t count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a2dbe3a1fc2179546912e5ef277d8f256">ll_file_read_iter</a> (struct kiocb *iocb, struct iov_iter *to)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a5c428194cdfaa696caffc4fa020c71da">ll_file_write_iter</a> (struct kiocb *iocb, struct iov_iter *from)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a23a057525a16b026f23e84a569e24fdf">ll_file_get_iov_count</a> (const struct iovec *iov, unsigned long *nr_segs, size_t *count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a79ead6cfd4e700ddc5a670ed87b7a906">ll_file_aio_read</a> (struct kiocb *iocb, const struct iovec *iov, unsigned long nr_segs, loff_t pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ad73f2d47259b3075134a188071ef1890">ll_file_read</a> (struct file *file, char __user *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, size_t count, loff_t *ppos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a095b319362de3de1bd6e1c2151965be2">ll_file_aio_write</a> (struct kiocb *iocb, const struct iovec *iov, unsigned long nr_segs, loff_t pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aa7f0a79b2f333ed6577cb4f1aa5a2cef">ll_file_write</a> (struct file *file, const char __user *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, size_t count, loff_t *ppos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a95cb0774754369f099a2733270b51c78">ll_file_splice_read</a> (struct file *in_file, loff_t *ppos, struct pipe_inode_info *pipe, size_t count, unsigned int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a4c15cd8e9ec1c37f79d348837642cb33">ll_lov_setstripe_ea_info</a> (struct inode *inode, struct file *file, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags, struct lov_user_md *lum, int lum_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a7bcdd1598909bde27c0ad103f39b76d2">ll_lov_getstripe_ea_info</a> (struct inode *inode, const char *<a class="el" href="parallel__grouplock_8c.html#a582cf4e6d51f51bab9e0e27ce07bb334">filename</a>, struct lov_mds_md **lmmp, int *lmm_size, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> **request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ae31fba8751c02f42dd7dafcf75bb90d1">ll_lov_setea</a> (struct inode *inode, struct file *file, unsigned long arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a8d7f30ca96f02008dbda95231f70c300">ll_file_getstripe</a> (struct inode *inode, struct lov_user_md __user *lum)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a19c519fa26b8eb4961aafbb7e31d094f">ll_lov_setstripe</a> (struct inode *inode, struct file *file, unsigned long arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#afe36d3e9efc68623cbd7e3f86aeb47a4">ll_get_grouplock</a> (struct inode *inode, struct file *file, unsigned long arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ac6d1485bf1884fea2c285563aae2da51">ll_release_openhandle</a> (struct dentry *dentry, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close inode open handle.  <a href="#ac6d1485bf1884fea2c285563aae2da51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#acd4c1c3c3f0587d5bfd8cf60683b95eb">ll_do_fiemap</a> (struct inode *inode, struct fiemap *fiemap, size_t num_bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get size for inode for which FIEMAP mapping is requested.  <a href="#acd4c1c3c3f0587d5bfd8cf60683b95eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ab25c22981eeca3484266cc0c4180a85f">ll_fid2path</a> (struct inode *inode, void __user *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a2042771d3fe6ff450d5ce477a8631d4e">ll_data_version</a> (struct inode *inode, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *data_version, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ae2c997e354bc1e8c1224401aaf17a54a">ll_hsm_release</a> (struct inode *inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a2c6947a74f5a1694a80029edb82ab5ed">ll_swap_layouts</a> (struct file *file1, struct file *file2, struct <a class="el" href="structlustre__swap__layouts.html">lustre_swap_layouts</a> *lsl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a351d7d449bcc0980c68009f8206eba37">ll_hsm_state_set</a> (struct inode *inode, struct <a class="el" href="structhsm__state__set.html">hsm_state_set</a> *hss)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#abaa701387c632b84dbfe295eac81ce30">ll_hsm_import</a> (struct inode *inode, struct file *file, struct <a class="el" href="structhsm__user__import.html">hsm_user_import</a> *hui)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a9621c69f54aed05fd4cb3833450e2b93">ll_lease_type_from_fmode</a> (fmode_t fmode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a8afc73f6ac32aaf9e7f18033598e3677">ll_file_futimes_3</a> (struct file *file, const struct <a class="el" href="structll__futimes__3.html">ll_futimes_3</a> *lfu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a35f0558b5366fc899113ce2f2a039695">ll_ladvise</a> (struct inode *inode, struct file *file, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags, struct <a class="el" href="structlu__ladvise.html">lu_ladvise</a> *ladvise)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ace651feea3dbc055f482bae1e0354489">ll_file_ioctl</a> (struct file *file, unsigned int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, unsigned long arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static loff_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a62500313d78ac2832276edee1240c263">llseek_execute</a> (struct file *file, loff_t offset, loff_t maxsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static loff_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a0bc9a57f2083064f70d5d9aab6cae9a8">generic_file_llseek_size</a> (struct file *file, loff_t offset, int origin, loff_t maxsize, loff_t eof)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static loff_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aa294b5d9c602d73df011106d2f9dfb6a">ll_file_seek</a> (struct file *file, loff_t offset, int origin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aeff63a86395704bf4870f1eed9edb89a">ll_flush</a> (struct file *file, fl_owner_t id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a9b7ba8c39623584747a624db89e26f64">cl_sync_file_range</a> (struct inode *inode, loff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, loff_t end, enum <a class="el" href="group__cl__io.html#gabb7d5d07a2e68b82b9b13cac60256a7d">cl_fsync_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, int ignore_layout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to make sure a portion of file has been written out.  <a href="#a9b7ba8c39623584747a624db89e26f64"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a6a8a62adc93b58d6b8a8fa595a679d23">ll_fsync</a> (struct file *file, struct dentry *dentry, int datasync)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a06fee752f94ed914cece8c884a226119">ll_file_flock</a> (struct file *file, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, struct file_lock *file_lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a327b6b6b09b1c091a5c6dc05f1f41ad6">ll_get_fid_by_name</a> (struct inode *parent, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int namelen, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct inode **inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a3e57f029b18ca34827332b557080f850">ll_migrate</a> (struct inode *parent, struct file *file, int mdtidx, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int namelen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aefb9272a50345f8caa13f9fe99f4ec8c">ll_file_noflock</a> (struct file *file, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, struct file_lock *file_lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a0617074fd91a394b5e385f7006093058">ll_have_md_lock</a> (struct inode *inode, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *bits, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> l_req_mode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">test if some locks matching bits and l_req_mode are acquired</p>
<ul>
<li>bits can be in different locks</li>
<li>if found clear the common lock bits in *bits</li>
<li>the bits not found, are kept in *bits </li>
</ul>
 <a href="#a0617074fd91a394b5e385f7006093058"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#afae34889a41cb38904550a02c82e5f99">ll_take_md_lock</a> (struct inode *inode, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> bits, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a6dc42812cdf59db31d31290ed03007d8">ll_inode_revalidate_fini</a> (struct inode *inode, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a6a81db40621871b06a0fe306ef6ab7a0">__ll_inode_revalidate</a> (struct dentry *dentry, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a38e1069a0111b14060deb87a66701d3d">ll_merge_md_attr</a> (struct inode *inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aec8a2cacddbc2041f27a4a4790ff9358">ll_inode_revalidate</a> (struct dentry *dentry, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a296d53393c74f49054fedce6acac8e13">ll_getattr</a> (struct vfsmount *mnt, struct dentry *de, struct kstat *stat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a060409dcaa9453429998c48806a27fa4">ll_fiemap</a> (struct inode *inode, struct fiemap_extent_info *fieinfo, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct posix_acl *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a17740e5b2534ad3be442f70217831e57">ll_get_acl</a> (struct inode *inode, int type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ace5a25eee28ebdfa295b4fae6294bb5c">ll_check_acl</a> (struct inode *inode, int mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a496700a533be84b5911e049b53eed9b2">ll_inode_permission</a> (struct inode *inode, int mask, struct nameidata *nd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aa6602720fc6befce1e8707bab687f3bb">ll_iocontrol_register</a> (<a class="el" href="llite__internal_8h.html#aee85ea999569c95db185285c59658b57">llioc_callback_t</a> cb, int count, unsigned int *<a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aefa099972409606d30e4060ec128f02e">ll_iocontrol_unregister</a> (void *magic)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aad0e01b10871ba010c5c5bf16715cac3">ll_layout_conf</a> (struct inode *inode, const struct <a class="el" href="structcl__object__conf.html">cl_object_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#af0364be1470707b71ce471b1cb2cf32e">ll_layout_fetch</a> (struct inode *inode, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a75e735b21066504ee2ce75bfb5138059">ll_layout_lock_set</a> (struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, struct inode *inode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Apply the layout to the inode.  <a href="#a75e735b21066504ee2ce75bfb5138059"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#acd9f6f57cf9674a2d8d92aa804f2528e">ll_layout_refresh_locked</a> (struct inode *inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a6097aa05b339d83f30b9116d71e3a8cf">ll_layout_refresh</a> (struct inode *inode, __u32 *gen)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function checks if there exists a LAYOUT lock on the client side, or enqueues it if it doesn't have one in cache.  <a href="#a6097aa05b339d83f30b9116d71e3a8cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a9ddb9a2a80df52ed287dad8a9c7bc12f">ll_layout_restore</a> (struct inode *inode, loff_t offset, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function send a restore request to the MDT.  <a href="#a9ddb9a2a80df52ed287dad8a9c7bc12f"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct file_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aad68d2b9148120523f1e46bee31b14f9">ll_file_operations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct file_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a74663ca5f06b4393f96e5001777ae1b7">ll_file_operations_flock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct file_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a6e4db99bf8de8ce8e24f2c753782dca0">ll_file_operations_noflock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct inode_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a7ded3b43962e9fd8fba0087cc7faaa90">ll_file_inode_operations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structllioc__ctl__data.html">llioc_ctl_data</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a337b3c9e74b3e3bf420bd5f3711eb832">llioc</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="file.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LLITE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00043">43</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6a81db40621871b06a0fe306ef6ab7a0"></a><!-- doxytag: member="file.c::__ll_inode_revalidate" ref="a6a81db40621871b06a0fe306ef6ab7a0" args="(struct dentry *dentry, __u64 ibits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __ll_inode_revalidate </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03324">3324</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="llite__internal_8h_source.html#l01454">d_lustre_invalidate()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="packet-lustre_8c_source.html#l00237">IT_LOOKUP</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00290">LCK_MINMODE</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__lib_8c_source.html#l00649">ll_get_default_mdsize()</a>, <a class="el" href="file_8c_source.html#l03238">ll_have_md_lock()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="file_8c_source.html#l03297">ll_inode_revalidate_fini()</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="llite__internal_8h_source.html#l01416">ll_lock_dcache()</a>, <a class="el" href="dcache_8c_source.html#l00299">ll_lookup_finish_locks()</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="llite__lib_8c_source.html#l02284">ll_prep_inode()</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="dcache_8c_source.html#l00281">ll_revalidate_it_finish()</a>, <a class="el" href="llite__internal_8h_source.html#l01425">ll_unlock_dcache()</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="obd__class_8h_source.html#l01282">md_getattr()</a>, <a class="el" href="obd__class_8h_source.html#l01359">md_intent_lock()</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l01197">OBD_CONNECT_ATTRFID</a>, <a class="el" href="lustre__idl_8h_source.html#l01672">OBD_MD_FLEASIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l01720">OBD_MD_FLGETATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01687">OBD_MD_FLMODEASIZE</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00826">md_op_data::op_valid</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03601">ll_inode_permission()</a>, and <a class="el" href="file_8c_source.html#l03438">ll_inode_revalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b7ba8c39623584747a624db89e26f64"></a><!-- doxytag: member="file.c::cl_sync_file_range" ref="a9b7ba8c39623584747a624db89e26f64" args="(struct inode *inode, loff_t start, loff_t end, enum cl_fsync_mode mode, int ignore_layout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_sync_file_range </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__io.html#gabb7d5d07a2e68b82b9b13cac60256a7d">cl_fsync_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ignore_layout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called to make sure a portion of file has been written out. </p>
<p>if  is not CL_FSYNC_LOCAL, it will send OST_SYNC RPCs to OST.</p>
<p>Return how many pages have been written. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l02787">2787</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a2f7294640051b726b4ff0d1dbfb51298">cl_io::ci_fsync</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_ignore_layout</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01819">cl_io::ci_result</a>, <a class="el" href="cl__object_8h_source.html#l01377">CIT_FSYNC</a>, <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="cl__object_8h_source.html#l01728">CL_FSYNC_ALL</a>, <a class="el" href="cl__object_8h_source.html#l01725">CL_FSYNC_DISCARD</a>, <a class="el" href="cl__object_8h_source.html#l01723">CL_FSYNC_LOCAL</a>, <a class="el" href="cl__object_8h_source.html#l01721">CL_FSYNC_NONE</a>, <a class="el" href="cl__io_8c_source.html#l00103">cl_io_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00211">cl_io_init()</a>, <a class="el" href="cl__io_8c_source.html#l00779">cl_io_loop()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, and <a class="el" href="vvp__internal_8h_source.html#l00186">vvp_env_thread_io()</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l02040">ll_delete_inode()</a>, <a class="el" href="file_8c_source.html#l02846">ll_fsync()</a>, <a class="el" href="rw_8c_source.html#l00887">ll_writepage()</a>, <a class="el" href="rw_8c_source.html#l00981">ll_writepages()</a>, and <a class="el" href="vvp__object_8c_source.html#l00159">vvp_prune()</a>.</p>

</div>
</div>
<a class="anchor" id="a783e2fafb4773f0c536ffb24cff114ef"></a><!-- doxytag: member="file.c::file_is_noatime" ref="a783e2fafb4773f0c536ffb24cff114ef" args="(const struct file *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool file_is_noatime </td>
          <td>(</td>
          <td class="paramtype">const struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00985">985</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01012">ll_io_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a0bc9a57f2083064f70d5d9aab6cae9a8"></a><!-- doxytag: member="file.c::generic_file_llseek_size" ref="a0bc9a57f2083064f70d5d9aab6cae9a8" args="(struct file *file, loff_t offset, int origin, loff_t maxsize, loff_t eof)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static loff_t generic_file_llseek_size </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>maxsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>eof</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02680">2680</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="file_8c_source.html#l02665">llseek_execute()</a>, <a class="el" href="lustre__compat_8h_source.html#l00258">SEEK_DATA</a>, and <a class="el" href="lustre__compat_8h_source.html#l00261">SEEK_HOLE</a>.</p>

</div>
</div>
<a class="anchor" id="ace5a25eee28ebdfa295b4fae6294bb5c"></a><!-- doxytag: member="file.c::ll_check_acl" ref="ace5a25eee28ebdfa295b4fae6294bb5c" args="(struct inode *inode, int mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_check_acl </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03568">3568</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="file_8c_source.html#l03549">ll_get_acl()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03601">ll_inode_permission()</a>.</p>

</div>
</div>
<a class="anchor" id="a0befc89173dc52fb94b23d72e8369495"></a><!-- doxytag: member="file.c::ll_check_swap_layouts_validity" ref="a0befc89173dc52fb94b23d72e8369495" args="(struct inode *inode1, struct inode *inode2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_check_swap_layouts_validity </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check whether a layout swap can be done between two inodes. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>inode1</em>&nbsp;</td><td>First inode to check </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>inode2</em>&nbsp;</td><td>Second inode to check</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success, layout swap can be performed between both inodes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error code if requirements are not met </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l00844">844</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01968">ll_swap_layouts()</a>, and <a class="el" href="file_8c_source.html#l00860">ll_swap_layouts_close()</a>.</p>

</div>
</div>
<a class="anchor" id="aafba7966a8acffab775780d4dcdce7b2"></a><!-- doxytag: member="file.c::ll_close_inode_openhandle" ref="aafba7966a8acffab775780d4dcdce7b2" args="(struct inode *inode, struct obd_client_handle *och, enum mds_op_bias bias, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_close_inode_openhandle </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>och</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga4b1c62e9fc5c50b5ad2eff80f77eb0e9">mds_op_bias</a>&nbsp;</td>
          <td class="paramname"> <em>bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform a close, possibly with a bias. </p>
<p>The meaning of "data" depends on the value of "bias".</p>
<p>If <em>bias</em> is MDS_HSM_RELEASE then <em>data</em> is a pointer to the data version. If <em>bias</em> is MDS_CLOSE_LAYOUT_SWAP then <em>data</em> is a pointer to the inode to swap layouts with. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l00130">130</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lustre__compat_8h_source.html#l00075">ATTR_BLOCKS</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="lustre__idl_8h_source.html#l01019">DEAD_HANDLE_MAGIC</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="file_8c_source.html#l00093">ll_prepare_close()</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="obd__class_8h_source.html#l01520">md_clear_open_replay_data()</a>, <a class="el" href="obd__class_8h_source.html#l01304">md_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l02372">MDS_CLOSE_LAYOUT_SWAP</a>, <a class="el" href="lustre__idl_8h_source.html#l02370">MDS_HSM_RELEASE</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01715">OBD_MD_CLOSE_INTENT_EXECED</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00990">obd_client_handle::och_fh</a>, <a class="el" href="obd_8h_source.html#l00993">obd_client_handle::och_lease_handle</a>, <a class="el" href="obd_8h_source.html#l00992">obd_client_handle::och_mod</a>, <a class="el" href="obd_8h_source.html#l00823">md_op_data::op_attr</a>, <a class="el" href="obd_8h_source.html#l00831">md_op_data::op_bias</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00841">md_op_data::op_data_version</a>, <a class="el" href="obd_8h_source.html#l00804">md_op_data::op_fid2</a>, <a class="el" href="obd_8h_source.html#l00842">md_op_data::op_lease_handle</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01915">ll_hsm_release()</a>, <a class="el" href="file_8c_source.html#l00901">ll_lease_close()</a>, <a class="el" href="file_8c_source.html#l00700">ll_lease_open()</a>, <a class="el" href="file_8c_source.html#l00245">ll_md_close()</a>, <a class="el" href="file_8c_source.html#l00203">ll_md_real_close()</a>, <a class="el" href="file_8c_source.html#l01719">ll_release_openhandle()</a>, and <a class="el" href="file_8c_source.html#l00860">ll_swap_layouts_close()</a>.</p>

</div>
</div>
<a class="anchor" id="a2042771d3fe6ff450d5ce477a8631d4e"></a><!-- doxytag: member="file.c::ll_data_version" ref="a2042771d3fe6ff450d5ce477a8631d4e" args="(struct inode *inode, __u64 *data_version, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_data_version </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>data_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01869">1869</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a10f9e99cde8891be535075974b4552f2">cl_io::ci_data_version</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_need_restart</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01819">cl_io::ci_result</a>, <a class="el" href="cl__object_8h_source.html#l01368">CIT_DATA_VERSION</a>, <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="cl__io_8c_source.html#l00103">cl_io_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00211">cl_io_init()</a>, <a class="el" href="cl__io_8c_source.html#l00779">cl_io_loop()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="vvp__internal_8h_source.html#l00186">vvp_env_thread_io()</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>, <a class="el" href="file_8c_source.html#l01915">ll_hsm_release()</a>, <a class="el" href="dir_8c_source.html#l00829">ll_ioc_copy_end()</a>, <a class="el" href="dir_8c_source.html#l00750">ll_ioc_copy_start()</a>, <a class="el" href="file_8c_source.html#l03083">ll_migrate()</a>, and <a class="el" href="file_8c_source.html#l01968">ll_swap_layouts()</a>.</p>

</div>
</div>
<a class="anchor" id="acd4c1c3c3f0587d5bfd8cf60683b95eb"></a><!-- doxytag: member="file.c::ll_do_fiemap" ref="acd4c1c3c3f0587d5bfd8cf60683b95eb" args="(struct inode *inode, struct fiemap *fiemap, size_t num_bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_do_fiemap </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fiemap *&nbsp;</td>
          <td class="paramname"> <em>fiemap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>num_bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get size for inode for which FIEMAP mapping is requested. </p>
<p>Make the FIEMAP get_info call and returns the result. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fiemap</em>&nbsp;</td><td>kernel buffer to hold extens </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_bytes</em>&nbsp;</td><td>kernel buffer size </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l01760">1760</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="cl__object_8c_source.html#l00376">cl_object_fiemap()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="obd_8h_source.html#l00743">KEY_FIEMAP</a>, <a class="el" href="lustre__idl_8h_source.html#l03493">ll_fiemap_info_key::lfik_fiemap</a>, <a class="el" href="lustre__idl_8h_source.html#l03491">ll_fiemap_info_key::lfik_name</a>, <a class="el" href="lustre__idl_8h_source.html#l03492">ll_fiemap_info_key::lfik_oa</a>, <a class="el" href="llite__internal_8h_source.html#l01247">ll_glimpse_size()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="lustre__user_8h_source.html#l00097">LUSTRE_FIEMAP_FLAGS_COMPAT</a>, <a class="el" href="lustre__idl_8h_source.html#l03386">obdo::o_size</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l01679">OBD_MD_FLGROUP</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="lustre__idl_8h_source.html#l01660">OBD_MD_FLSIZE</a>, <a class="el" href="obdo_8c_source.html#l00063">obdo_from_inode()</a>, <a class="el" href="obdo_8c_source.html#l00052">obdo_set_parent_fid()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03511">ll_fiemap()</a>.</p>

</div>
</div>
<a class="anchor" id="ab25c22981eeca3484266cc0c4180a85f"></a><!-- doxytag: member="file.c::ll_fid2path" ref="ab25c22981eeca3484266cc0c4180a85f" args="(struct inode *inode, void __user *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_fid2path </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void __user *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01811">1811</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="curproc_8h_source.html#l00114">CFS_CAP_DAC_READ_SEARCH</a>, <a class="el" href="linux-curproc_8c_source.html#l00128">cfs_capable()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l03696">getinfo_fid2path::gf_pathlen</a>, <a class="el" href="lustre__idl_8h_source.html#l03699">getinfo_fid2path::gf_root_fid</a>, <a class="el" href="structgetinfo__fid2path.html#afc20bdbe4bf31576ca10fc0ad6a7e8e9">getinfo_fid2path::gf_u</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00443">LL_SBI_USER_FID2PATH</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00362">OBD_IOC_FID2PATH</a>, <a class="el" href="obd__class_8h_source.html#l01132">obd_iocontrol()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="dir_8c_source.html#l01097">ll_dir_ioctl()</a>, and <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a060409dcaa9453429998c48806a27fa4"></a><!-- doxytag: member="file.c::ll_fiemap" ref="a060409dcaa9453429998c48806a27fa4" args="(struct inode *inode, struct fiemap_extent_info *fieinfo, __u64 start, __u64 len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_fiemap </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fiemap_extent_info *&nbsp;</td>
          <td class="paramname"> <em>fieinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03511">3511</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="file_8c_source.html#l01760">ll_do_fiemap()</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a79ead6cfd4e700ddc5a670ed87b7a906"></a><!-- doxytag: member="file.c::ll_file_aio_read" ref="a79ead6cfd4e700ddc5a670ed87b7a906" args="(struct kiocb *iocb, const struct iovec *iov, unsigned long nr_segs, loff_t pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ll_file_aio_read </td>
          <td>(</td>
          <td class="paramtype">struct kiocb *&nbsp;</td>
          <td class="paramname"> <em>iocb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct iovec *&nbsp;</td>
          <td class="paramname"> <em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>nr_segs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>pos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01245">1245</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l01021">ll_env_info()</a>, <a class="el" href="file_8c_source.html#l01217">ll_file_get_iov_count()</a>, <a class="el" href="file_8c_source.html#l01168">ll_file_read_iter()</a>, <a class="el" href="llite__internal_8h_source.html#l01012">ll_thread_info::lti_local_iov</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00067">READ</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01300">ll_file_read()</a>.</p>

</div>
</div>
<a class="anchor" id="a095b319362de3de1bd6e1c2151965be2"></a><!-- doxytag: member="file.c::ll_file_aio_write" ref="a095b319362de3de1bd6e1c2151965be2" args="(struct kiocb *iocb, const struct iovec *iov, unsigned long nr_segs, loff_t pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ll_file_aio_write </td>
          <td>(</td>
          <td class="paramtype">struct kiocb *&nbsp;</td>
          <td class="paramname"> <em>iocb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct iovec *&nbsp;</td>
          <td class="paramname"> <em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>nr_segs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>pos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01334">1334</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l01021">ll_env_info()</a>, <a class="el" href="file_8c_source.html#l01217">ll_file_get_iov_count()</a>, <a class="el" href="file_8c_source.html#l01192">ll_file_write_iter()</a>, <a class="el" href="llite__internal_8h_source.html#l01012">ll_thread_info::lti_local_iov</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="parallel__grouplock_8c_source.html#l00068">WRITE</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01387">ll_file_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a03a821d564f2afcfaf53816bc635d136"></a><!-- doxytag: member="file.c::ll_file_data_get" ref="a03a821d564f2afcfaf53816bc635d136" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structll__file__data.html">ll_file_data</a>* ll_file_data_get </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00071">71</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00689">ll_file_data::fd_write_failed</a>, <a class="el" href="llite__lib_8c_source.html#l00065">ll_file_data_slab</a>, and <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00491">ll_file_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a2aadf30b6fee0f228e8bd0210ab1a57d"></a><!-- doxytag: member="file.c::ll_file_data_put" ref="a2aadf30b6fee0f228e8bd0210ab1a57d" args="(struct ll_file_data *fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_file_data_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__file__data.html">ll_file_data</a> *&nbsp;</td>
          <td class="paramname"> <em>fd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00084">84</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="llite__lib_8c_source.html#l00065">ll_file_data_slab</a>, and <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00491">ll_file_open()</a>, <a class="el" href="file_8c_source.html#l00314">ll_file_release()</a>, and <a class="el" href="file_8c_source.html#l00245">ll_md_close()</a>.</p>

</div>
</div>
<a class="anchor" id="a06fee752f94ed914cece8c884a226119"></a><!-- doxytag: member="file.c::ll_file_flock" ref="a06fee752f94ed914cece8c884a226119" args="(struct file *file, int cmd, struct file_lock *file_lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_file_flock </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&nbsp;</td>
          <td class="paramname"> <em>file_lock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02907">2907</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00145">D_DLMTRACE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="lustre__dlm_8h_source.html#l00623">ldlm_flock::end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00634">ldlm_policy_data::l_flock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00296">LCK_NL</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00108">LDLM_FL_BLOCK_NOWAIT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00114">LDLM_FL_TEST_LOCK</a>, <a class="el" href="packet-lustre_8c_source.html#l00300">LDLM_FLOCK</a>, <a class="el" href="ldlm__flock_8c_source.html#l00662">ldlm_flock_completion_ast()</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00756">LPROC_LL_FLOCK</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="obd__class_8h_source.html#l01330">md_enqueue()</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00624">ldlm_flock::owner</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="lustre__dlm_8h_source.html#l00629">ldlm_flock::pid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__dlm_8h_source.html#l00622">ldlm_flock::start</a>.</p>

</div>
</div>
<a class="anchor" id="a8afc73f6ac32aaf9e7f18033598e3677"></a><!-- doxytag: member="file.c::ll_file_futimes_3" ref="a8afc73f6ac32aaf9e7f18033598e3677" args="(struct file *file, const struct ll_futimes_3 *lfu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_file_futimes_3 </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structll__futimes__3.html">ll_futimes_3</a> *&nbsp;</td>
          <td class="paramname"> <em>lfu</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02174">2174</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="lustre__patchless__compat_8h_source.html#l00135">ATTR_CTIME_SET</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00229">ll_futimes_3::lfu_atime_nsec</a>, <a class="el" href="lustre__user_8h_source.html#l00228">ll_futimes_3::lfu_atime_sec</a>, <a class="el" href="lustre__user_8h_source.html#l00233">ll_futimes_3::lfu_ctime_nsec</a>, <a class="el" href="lustre__user_8h_source.html#l00232">ll_futimes_3::lfu_ctime_sec</a>, <a class="el" href="lustre__user_8h_source.html#l00231">ll_futimes_3::lfu_mtime_nsec</a>, <a class="el" href="lustre__user_8h_source.html#l00230">ll_futimes_3::lfu_mtime_sec</a>, <a class="el" href="llite__lib_8c_source.html#l01574">ll_setattr_raw()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a23a057525a16b026f23e84a569e24fdf"></a><!-- doxytag: member="file.c::ll_file_get_iov_count" ref="a23a057525a16b026f23e84a569e24fdf" args="(const struct iovec *iov, unsigned long *nr_segs, size_t *count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_file_get_iov_count </td>
          <td>(</td>
          <td class="paramtype">const struct iovec *&nbsp;</td>
          <td class="paramname"> <em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>nr_segs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01217">1217</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01245">ll_file_aio_read()</a>, and <a class="el" href="file_8c_source.html#l01334">ll_file_aio_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d7f30ca96f02008dbda95231f70c300"></a><!-- doxytag: member="file.c::ll_file_getstripe" ref="a8d7f30ca96f02008dbda95231f70c300" args="(struct inode *inode, struct lov_user_md __user *lum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_file_getstripe </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct lov_user_md __user *&nbsp;</td>
          <td class="paramname"> <em>lum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01583">1583</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="cl__object_8c_source.html#l00345">cl_object_getstripe()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>, and <a class="el" href="file_8c_source.html#l01600">ll_lov_setstripe()</a>.</p>

</div>
</div>
<a class="anchor" id="a87b79fc058e2131b8f52e97c89dd3f41"></a><!-- doxytag: member="file.c::ll_file_io_generic" ref="a87b79fc058e2131b8f52e97c89dd3f41" args="(const struct lu_env *env, struct vvp_io_args *args, struct file *file, enum cl_io_type iot, loff_t *ppos, size_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ll_file_io_generic </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structvvp__io__args.html">vvp_io_args</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__io.html#ga7ce44ceebcd945560fa661571e3a4378">cl_io_type</a>&nbsp;</td>
          <td class="paramname"> <em>iot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>ppos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01036">1036</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_need_restart</a>, <a class="el" href="cl__object_8h_source.html#l01818">cl_io::ci_nob</a>, <a class="el" href="cl__object_8h_source.html#l01819">cl_io::ci_result</a>, <a class="el" href="structcl__io.html#a60575f788129abb9beff0cb40bc3eb36">cl_io::ci_wr</a>, <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="cl__io_8c_source.html#l00103">cl_io_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00779">cl_io_loop()</a>, <a class="el" href="cl__io_8c_source.html#l00229">cl_io_rw_init()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00679">ll_file_data::fd_flags</a>, <a class="el" href="llite__internal_8h_source.html#l00689">ll_file_data::fd_write_failed</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="vvp__internal_8h_source.html#l00056">IO_NORMAL</a>, <a class="el" href="vvp__internal_8h_source.html#l00058">IO_SPLICE</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="rw_8c_source.html#l01051">ll_cl_add()</a>, <a class="el" href="rw_8c_source.html#l01067">ll_cl_remove()</a>, <a class="el" href="lustre__user_8h_source.html#l00330">LL_FILE_GROUP_LOCKED</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="file_8c_source.html#l01012">ll_io_init()</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00212">ll_inode_info::lli_write_tree</a>, <a class="el" href="llite__internal_8h_source.html#l00743">LPROC_LL_READ_BYTES</a>, <a class="el" href="llite__internal_8h_source.html#l00744">LPROC_LL_WRITE_BYTES</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__user_8h_source.html#l00082">LUSTRE_EOF</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, <a class="el" href="structvvp__io__args.html#afb542a8545c8182d435167d2abc60851">vvp_io_args::normal</a>, <a class="el" href="range__lock_8c_source.html#l00196">range_lock()</a>, <a class="el" href="range__lock_8c_source.html#l00064">range_lock_init()</a>, <a class="el" href="range__lock_8c_source.html#l00124">range_unlock()</a>, <a class="el" href="range__lock_8h_source.html#l00042">RL_FMT</a>, <a class="el" href="range__lock_8h_source.html#l00043">RL_PARA</a>, <a class="el" href="structvvp__io__args.html#a05ab796973006da79fe006222a07091f">vvp_io_args::splice</a>, <a class="el" href="structvvp__io.html#a92239590f396fc743c4f81ca4082a86d">vvp_io::splice</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="structvvp__io.html#aa4cca354b98a062eac6e342355230fba">vvp_io::u</a>, <a class="el" href="structvvp__io__args.html#ad97e675c591bead41d5751ce5309a4c0">vvp_io_args::u</a>, <a class="el" href="llite__internal_8h_source.html#l00989">vvp_io_args::via_io_subtype</a>, <a class="el" href="vvp__internal_8h_source.html#l00133">vvp_io::vui_fd</a>, <a class="el" href="vvp__internal_8h_source.html#l00124">vvp_io::vui_io_subtype</a>, <a class="el" href="vvp__internal_8h_source.html#l00134">vvp_io::vui_iocb</a>, <a class="el" href="vvp__internal_8h_source.html#l00071">vvp_io::vui_iter</a>, <a class="el" href="vvp__internal_8h_source.html#l00076">vvp_io::vui_tot_nrsegs</a>, <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>, and <a class="el" href="vvp__internal_8h_source.html#l00186">vvp_env_thread_io()</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01168">ll_file_read_iter()</a>, <a class="el" href="file_8c_source.html#l01422">ll_file_splice_read()</a>, and <a class="el" href="file_8c_source.html#l01192">ll_file_write_iter()</a>.</p>

</div>
</div>
<a class="anchor" id="ace651feea3dbc055f482bae1e0354489"></a><!-- doxytag: member="file.c::ll_file_ioctl" ref="ace651feea3dbc055f482bae1e0354489" args="(struct file *file, unsigned int cmd, unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static long ll_file_ioctl </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02260">2260</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="ioctl_8h_source.html#l00048">__user</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00679">ll_file_data::fd_flags</a>, <a class="el" href="llite__internal_8h_source.html#l00683">ll_file_data::fd_lease_och</a>, <a class="el" href="lustre__idl_8h_source.html#l02308">FMODE_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="lustre__user_8h_source.html#l00088">FSFILT_IOC_GETFLAGS</a>, <a class="el" href="lustre__user_8h_source.html#l00090">FSFILT_IOC_GETVERSION</a>, <a class="el" href="lustre__user_8h_source.html#l00092">FSFILT_IOC_GETVERSION_OLD</a>, <a class="el" href="lustre__user_8h_source.html#l00089">FSFILT_IOC_SETFLAGS</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__user_8h_source.html#l01026">ioc_data_version::idv_flags</a>, <a class="el" href="lustre__user_8h_source.html#l01025">ioc_data_version::idv_version</a>, <a class="el" href="lustre__user_8h_source.html#l00260">IOC_OBD_STATFS</a>, <a class="el" href="lustre__user_8h_source.html#l01411">LADVISE_MAGIC</a>, <a class="el" href="lustre__user_8h_source.html#l01420">ladvise_hdr::lah_advise</a>, <a class="el" href="lustre__user_8h_source.html#l01416">ladvise_hdr::lah_count</a>, <a class="el" href="lustre__user_8h_source.html#l01423">LAH_COUNT_MAX</a>, <a class="el" href="lustre__user_8h_source.html#l01417">ladvise_hdr::lah_flags</a>, <a class="el" href="lustre__user_8h_source.html#l01415">ladvise_hdr::lah_magic</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00186">ldlm_is_cancel</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="file_8c_source.html#l01869">ll_data_version()</a>, <a class="el" href="lustre__user_8h_source.html#l01028">LL_DV_RD_FLUSH</a>, <a class="el" href="lustre__user_8h_source.html#l01029">LL_DV_WR_FLUSH</a>, <a class="el" href="file_8c_source.html#l01811">ll_fid2path()</a>, <a class="el" href="file_8c_source.html#l02174">ll_file_futimes_3()</a>, <a class="el" href="file_8c_source.html#l01583">ll_file_getstripe()</a>, <a class="el" href="lustre__user_8h_source.html#l00329">LL_FILE_IGNORE_LOCK</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__lib_8c_source.html#l02145">ll_flush_ctx()</a>, <a class="el" href="file_8c_source.html#l01629">ll_get_grouplock()</a>, <a class="el" href="dir_8c_source.html#l00734">ll_get_mdt_idx()</a>, <a class="el" href="llite__lib_8c_source.html#l02555">ll_get_obd_name()</a>, <a class="el" href="llite__lib_8c_source.html#l02770">ll_getparent()</a>, <a class="el" href="file_8c_source.html#l02108">ll_hsm_import()</a>, <a class="el" href="file_8c_source.html#l02074">ll_hsm_state_set()</a>, <a class="el" href="llite__internal_8h_source.html#l01095">ll_i2dtexp()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="lustre__user_8h_source.html#l00249">LL_IOC_CLRFLAGS</a>, <a class="el" href="lustre__user_8h_source.html#l00281">LL_IOC_DATA_VERSION</a>, <a class="el" href="lustre__user_8h_source.html#l00262">LL_IOC_FLUSHCTX</a>, <a class="el" href="lustre__user_8h_source.html#l00272">LL_IOC_FUTIMES_3</a>, <a class="el" href="lustre__user_8h_source.html#l00291">LL_IOC_GET_LEASE</a>, <a class="el" href="lustre__user_8h_source.html#l00271">LL_IOC_GET_MDTIDX</a>, <a class="el" href="lustre__user_8h_source.html#l00247">LL_IOC_GETFLAGS</a>, <a class="el" href="lustre__user_8h_source.html#l00296">LL_IOC_GETPARENT</a>, <a class="el" href="lustre__user_8h_source.html#l00255">LL_IOC_GROUP_LOCK</a>, <a class="el" href="lustre__user_8h_source.html#l00256">LL_IOC_GROUP_UNLOCK</a>, <a class="el" href="lustre__user_8h_source.html#l00284">LL_IOC_HSM_ACTION</a>, <a class="el" href="lustre__user_8h_source.html#l00292">LL_IOC_HSM_IMPORT</a>, <a class="el" href="lustre__user_8h_source.html#l00274">LL_IOC_HSM_STATE_GET</a>, <a class="el" href="lustre__user_8h_source.html#l00275">LL_IOC_HSM_STATE_SET</a>, <a class="el" href="lustre__user_8h_source.html#l00297">LL_IOC_LADVISE</a>, <a class="el" href="lustre__user_8h_source.html#l00251">LL_IOC_LOV_GETSTRIPE</a>, <a class="el" href="lustre__user_8h_source.html#l00252">LL_IOC_LOV_SETEA</a>, <a class="el" href="lustre__user_8h_source.html#l00250">LL_IOC_LOV_SETSTRIPE</a>, <a class="el" href="lustre__user_8h_source.html#l00282">LL_IOC_LOV_SWAP_LAYOUTS</a>, <a class="el" href="lustre__user_8h_source.html#l00269">LL_IOC_PATH2FID</a>, <a class="el" href="lustre__user_8h_source.html#l00290">LL_IOC_SET_LEASE</a>, <a class="el" href="lustre__user_8h_source.html#l00248">LL_IOC_SETFLAGS</a>, <a class="el" href="llite__lib_8c_source.html#l02064">ll_iocontrol()</a>, <a class="el" href="file_8c_source.html#l03845">ll_iocontrol_call()</a>, <a class="el" href="file_8c_source.html#l02224">ll_ladvise()</a>, <a class="el" href="file_8c_source.html#l00901">ll_lease_close()</a>, <a class="el" href="file_8c_source.html#l00700">ll_lease_open()</a>, <a class="el" href="lustre__user_8h_source.html#l00301">LL_LEASE_RDLCK</a>, <a class="el" href="file_8c_source.html#l02168">ll_lease_type_from_fmode()</a>, <a class="el" href="lustre__user_8h_source.html#l00303">LL_LEASE_UNLCK</a>, <a class="el" href="lustre__user_8h_source.html#l00302">LL_LEASE_WRLCK</a>, <a class="el" href="file_8c_source.html#l01556">ll_lov_setea()</a>, <a class="el" href="file_8c_source.html#l01600">ll_lov_setstripe()</a>, <a class="el" href="llite__lib_8c_source.html#l02369">ll_obd_statfs()</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="file_8c_source.html#l01676">ll_put_grouplock()</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="file_8c_source.html#l01968">ll_swap_layouts()</a>, <a class="el" href="file_8c_source.html#l00860">ll_swap_layouts_close()</a>, <a class="el" href="llite__internal_8h_source.html#l00152">ll_inode_info::lli_och_mutex</a>, <a class="el" href="llite__internal_8h_source.html#l01307">LLIOC_STOP</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="lustre__user_8h_source.html#l00383">lov_user_md</a>, <a class="el" href="llite__internal_8h_source.html#l00747">LPROC_LL_IOCTL</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00362">OBD_IOC_FID2PATH</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00347">OBD_IOC_GETDTNAME</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00346">OBD_IOC_GETMDNAME</a>, <a class="el" href="obd__class_8h_source.html#l01132">obd_iocontrol()</a>, <a class="el" href="obd_8h_source.html#l00995">obd_client_handle::och_flags</a>, <a class="el" href="obd_8h_source.html#l00993">obd_client_handle::och_lease_handle</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__user_8h_source.html#l00700">lustre_swap_layouts::sl_fd</a>, <a class="el" href="lustre__user_8h_source.html#l00699">lustre_swap_layouts::sl_flags</a>, <a class="el" href="lustre__user_8h_source.html#l00694">SWAP_LAYOUTS_CLOSE</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="aefb9272a50345f8caa13f9fe99f4ec8c"></a><!-- doxytag: member="file.c::ll_file_noflock" ref="aefb9272a50345f8caa13f9fe99f4ec8c" args="(struct file *file, int cmd, struct file_lock *file_lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_file_noflock </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file_lock *&nbsp;</td>
          <td class="paramname"> <em>file_lock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03221">3221</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="aa74dd0b574db12023c97215de31d0637"></a><!-- doxytag: member="file.c::ll_file_open" ref="aa74dd0b574db12023c97215de31d0637" args="(struct inode *inode, struct file *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_file_open </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00491">491</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__mdc_8h_source.html#l00233">cl_lov_delay_create_clear()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__idl_8h_source.html#l02068">DISP_ENQ_OPEN_REF</a>, <a class="el" href="lustre__idl_8h_source.html#l02066">DISP_OPEN_OPEN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00685">ll_file_data::fd_file</a>, <a class="el" href="llite__internal_8h_source.html#l00057">FMODE_EXEC</a>, <a class="el" href="lustre__idl_8h_source.html#l02308">FMODE_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__intent_8h_source.html#l00067">it_clear_disposition()</a>, <a class="el" href="packet-lustre_8c_source.html#l00234">IT_CREAT</a>, <a class="el" href="lustre__intent_8h_source.html#l00057">it_disposition()</a>, <a class="el" href="lustre__intent_8h_source.html#l00046">lookup_intent::it_disposition</a>, <a class="el" href="lustre__intent_8h_source.html#l00045">lookup_intent::it_flags</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="packet-lustre_8c_source.html#l00233">IT_OPEN</a>, <a class="el" href="mdc__locks_8c_source.html#l00058">it_open_error()</a>, <a class="el" href="lustre__intent_8h_source.html#l00053">lookup_intent::it_request</a>, <a class="el" href="lustre__intent_8h_source.html#l00047">lookup_intent::it_status</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="statahead_8c_source.html#l01198">ll_authorize_statahead()</a>, <a class="el" href="statahead_8c_source.html#l01220">ll_deauthorize_statahead()</a>, <a class="el" href="file_8c_source.html#l00071">ll_file_data_get()</a>, <a class="el" href="file_8c_source.html#l00084">ll_file_data_put()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="file_8c_source.html#l00369">ll_intent_file_open()</a>, <a class="el" href="file_8c_source.html#l00449">ll_local_open()</a>, <a class="el" href="file_8c_source.html#l01719">ll_release_openhandle()</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00147">ll_inode_info::lli_mds_exec_och</a>, <a class="el" href="llite__internal_8h_source.html#l00145">ll_inode_info::lli_mds_read_och</a>, <a class="el" href="llite__internal_8h_source.html#l00146">ll_inode_info::lli_mds_write_och</a>, <a class="el" href="llite__internal_8h_source.html#l00152">ll_inode_info::lli_och_mutex</a>, <a class="el" href="llite__internal_8h_source.html#l00150">ll_inode_info::lli_open_fd_exec_count</a>, <a class="el" href="llite__internal_8h_source.html#l00148">ll_inode_info::lli_open_fd_read_count</a>, <a class="el" href="llite__internal_8h_source.html#l00149">ll_inode_info::lli_open_fd_write_count</a>, <a class="el" href="llite__internal_8h_source.html#l00175">ll_inode_info::lli_opendir_key</a>, <a class="el" href="llite__internal_8h_source.html#l00748">LPROC_LL_OPEN</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, <a class="el" href="lustre__idl_8h_source.html#l02328">MDS_OPEN_BY_FID</a>, <a class="el" href="lustre__idl_8h_source.html#l02337">MDS_OPEN_LOCK</a>, <a class="el" href="lustre__idl_8h_source.html#l02330">MDS_OPEN_OWNEROVERRIDE</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="dir_8c_source.html#l01778">ll_dir_open()</a>.</p>

</div>
</div>
<a class="anchor" id="ad73f2d47259b3075134a188071ef1890"></a><!-- doxytag: member="file.c::ll_file_read" ref="ad73f2d47259b3075134a188071ef1890" args="(struct file *file, char __user *buf, size_t count, loff_t *ppos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ll_file_read </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char __user *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>ppos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01300">1300</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l01021">ll_env_info()</a>, <a class="el" href="file_8c_source.html#l01245">ll_file_aio_read()</a>, <a class="el" href="llite__internal_8h_source.html#l01015">ll_thread_info::lti_kiocb</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a2dbe3a1fc2179546912e5ef277d8f256"></a><!-- doxytag: member="file.c::ll_file_read_iter" ref="a2dbe3a1fc2179546912e5ef277d8f256" args="(struct kiocb *iocb, struct iov_iter *to)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ll_file_read_iter </td>
          <td>(</td>
          <td class="paramtype">struct kiocb *&nbsp;</td>
          <td class="paramname"> <em>iocb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iov_iter *&nbsp;</td>
          <td class="paramname"> <em>to</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01168">1168</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="vvp__internal_8h_source.html#l00056">IO_NORMAL</a>, <a class="el" href="llite__internal_8h_source.html#l01031">ll_env_args()</a>, <a class="el" href="file_8c_source.html#l01036">ll_file_io_generic()</a>, <a class="el" href="structvvp__io__args.html#afb542a8545c8182d435167d2abc60851">vvp_io_args::normal</a>, and <a class="el" href="structvvp__io__args.html#ad97e675c591bead41d5751ce5309a4c0">vvp_io_args::u</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01245">ll_file_aio_read()</a>.</p>

</div>
</div>
<a class="anchor" id="a3bc9157679435b46f834741207896073"></a><!-- doxytag: member="file.c::ll_file_release" ref="a3bc9157679435b46f834741207896073" args="(struct inode *inode, struct file *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_file_release </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00314">314</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__fail_8h_source.html#l00142">CFS_FAIL_TIMEOUT_MS</a>, <a class="el" href="fail_8c_source.html#l00039">cfs_fail_val</a>, <a class="el" href="linux_2libcfs_8h_source.html#l00145">current_pid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00679">ll_file_data::fd_flags</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00251">libcfs_debug_dumplog()</a>, <a class="el" href="statahead_8c_source.html#l01220">ll_deauthorize_statahead()</a>, <a class="el" href="llite__internal_8h_source.html#l00582">ll_sb_info::ll_et</a>, <a class="el" href="file_8c_source.html#l00084">ll_file_data_put()</a>, <a class="el" href="lustre__user_8h_source.html#l00334">LL_FILE_RMTACL</a>, <a class="el" href="llite__internal_8h_source.html#l00528">ll_sb_info::ll_flags</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="file_8c_source.html#l00245">ll_md_close()</a>, <a class="el" href="llite__internal_8h_source.html#l00581">ll_sb_info::ll_rct</a>, <a class="el" href="llite__internal_8h_source.html#l00431">LL_SBI_RMT_CLIENT</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00220">ll_inode_info::lli_async_rc</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="llite__internal_8h_source.html#l00175">ll_inode_info::lli_opendir_key</a>, <a class="el" href="lov__object_8c_source.html#l01545">lov_read_and_clear_async_rc()</a>, <a class="el" href="llite__internal_8h_source.html#l00749">LPROC_LL_RELEASE</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, <a class="el" href="obd__support_8h_source.html#l00406">OBD_FAIL_PTLRPC_DUMP_LOG</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="dir_8c_source.html#l01784">ll_dir_release()</a>.</p>

</div>
</div>
<a class="anchor" id="aa294b5d9c602d73df011106d2f9dfb6a"></a><!-- doxytag: member="file.c::ll_file_seek" ref="aa294b5d9c602d73df011106d2f9dfb6a" args="(struct file *file, loff_t offset, int origin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static loff_t ll_file_seek </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>origin</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02730">2730</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l01115">ll_file_maxbytes()</a>, <a class="el" href="lustre__compat_8h_source.html#l00116">ll_generic_file_llseek_size</a>, <a class="el" href="llite__internal_8h_source.html#l01247">ll_glimpse_size()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00751">LPROC_LL_LLSEEK</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__compat_8h_source.html#l00258">SEEK_DATA</a>, and <a class="el" href="lustre__compat_8h_source.html#l00261">SEEK_HOLE</a>.</p>

</div>
</div>
<a class="anchor" id="a95cb0774754369f099a2733270b51c78"></a><!-- doxytag: member="file.c::ll_file_splice_read" ref="a95cb0774754369f099a2733270b51c78" args="(struct file *in_file, loff_t *ppos, struct pipe_inode_info *pipe, size_t count, unsigned int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ll_file_splice_read </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>in_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>ppos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pipe_inode_info *&nbsp;</td>
          <td class="paramname"> <em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01422">1422</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="vvp__internal_8h_source.html#l00058">IO_SPLICE</a>, <a class="el" href="llite__internal_8h_source.html#l01031">ll_env_args()</a>, <a class="el" href="file_8c_source.html#l01036">ll_file_io_generic()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structvvp__io__args.html#a05ab796973006da79fe006222a07091f">vvp_io_args::splice</a>, and <a class="el" href="structvvp__io__args.html#ad97e675c591bead41d5751ce5309a4c0">vvp_io_args::u</a>.</p>

</div>
</div>
<a class="anchor" id="aa7f0a79b2f333ed6577cb4f1aa5a2cef"></a><!-- doxytag: member="file.c::ll_file_write" ref="aa7f0a79b2f333ed6577cb4f1aa5a2cef" args="(struct file *file, const char __user *buf, size_t count, loff_t *ppos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ll_file_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>ppos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01387">1387</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="ioctl_8h_source.html#l00048">__user</a>, <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l01021">ll_env_info()</a>, <a class="el" href="file_8c_source.html#l01334">ll_file_aio_write()</a>, <a class="el" href="llite__internal_8h_source.html#l01015">ll_thread_info::lti_kiocb</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a5c428194cdfaa696caffc4fa020c71da"></a><!-- doxytag: member="file.c::ll_file_write_iter" ref="a5c428194cdfaa696caffc4fa020c71da" args="(struct kiocb *iocb, struct iov_iter *from)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ll_file_write_iter </td>
          <td>(</td>
          <td class="paramtype">struct kiocb *&nbsp;</td>
          <td class="paramname"> <em>iocb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iov_iter *&nbsp;</td>
          <td class="paramname"> <em>from</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01192">1192</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="vvp__internal_8h_source.html#l00056">IO_NORMAL</a>, <a class="el" href="llite__internal_8h_source.html#l01031">ll_env_args()</a>, <a class="el" href="file_8c_source.html#l01036">ll_file_io_generic()</a>, <a class="el" href="structvvp__io__args.html#afb542a8545c8182d435167d2abc60851">vvp_io_args::normal</a>, and <a class="el" href="structvvp__io__args.html#ad97e675c591bead41d5751ce5309a4c0">vvp_io_args::u</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01334">ll_file_aio_write()</a>.</p>

</div>
</div>
<a class="anchor" id="aeff63a86395704bf4870f1eed9edb89a"></a><!-- doxytag: member="file.c::ll_flush" ref="aeff63a86395704bf4870f1eed9edb89a" args="(struct file *file, fl_owner_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_flush </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fl_owner_t&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02755">2755</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00689">ll_file_data::fd_write_failed</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00220">ll_inode_info::lli_async_rc</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="lov__object_8c_source.html#l01545">lov_read_and_clear_async_rc()</a>, and <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>.</p>

</div>
</div>
<a class="anchor" id="a6a8a62adc93b58d6b8a8fa595a679d23"></a><!-- doxytag: member="file.c::ll_fsync" ref="a6a8a62adc93b58d6b8a8fa595a679d23" args="(struct file *file, struct dentry *dentry, int datasync)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_fsync </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>datasync</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02846">2846</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01728">CL_FSYNC_ALL</a>, <a class="el" href="file_8c_source.html#l02787">cl_sync_file_range()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00689">ll_file_data::fd_write_failed</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00220">ll_inode_info::lli_async_rc</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="lov__object_8c_source.html#l01545">lov_read_and_clear_async_rc()</a>, <a class="el" href="llite__internal_8h_source.html#l00752">LPROC_LL_FSYNC</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, <a class="el" href="obd__class_8h_source.html#l01411">md_fsync()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a17740e5b2534ad3be442f70217831e57"></a><!-- doxytag: member="file.c::ll_get_acl" ref="a17740e5b2534ad3be442f70217831e57" args="(struct inode *inode, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct posix_acl* ll_get_acl </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03549">3549</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00125">ll_inode_info::lli_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00128">ll_inode_info::lli_posix_acl</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03568">ll_check_acl()</a>.</p>

</div>
</div>
<a class="anchor" id="a327b6b6b09b1c091a5c6dc05f1f41ad6"></a><!-- doxytag: member="file.c::ll_get_fid_by_name" ref="a327b6b6b09b1c091a5c6dc05f1f41ad6" args="(struct inode *parent, const char *name, int namelen, struct lu_fid *fid, struct inode **inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_get_fid_by_name </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode **&nbsp;</td>
          <td class="paramname"> <em>inode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03049">3049</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__lib_8c_source.html#l02284">ll_prep_inode()</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="obd__class_8h_source.html#l01347">md_getattr_name()</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="lustre__idl_8h_source.html#l01664">OBD_MD_FLTYPE</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00826">md_op_data::op_valid</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="dir_8c_source.html#l01097">ll_dir_ioctl()</a>, and <a class="el" href="file_8c_source.html#l03083">ll_migrate()</a>.</p>

</div>
</div>
<a class="anchor" id="afe36d3e9efc68623cbd7e3f86aeb47a4"></a><!-- doxytag: member="file.c::ll_get_grouplock" ref="afe36d3e9efc68623cbd7e3f86aeb47a4" args="(struct inode *inode, struct file *file, unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_get_grouplock </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01629">1629</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lcommon__misc_8c_source.html#l00124">cl_get_grouplock()</a>, <a class="el" href="lcommon__misc_8c_source.html#l00181">cl_put_grouplock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00679">ll_file_data::fd_flags</a>, <a class="el" href="llite__internal_8h_source.html#l00677">ll_file_data::fd_grouplock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00120">ll_grouplock::lg_gid</a>, <a class="el" href="llite__internal_8h_source.html#l00119">ll_grouplock::lg_lock</a>, <a class="el" href="lustre__user_8h_source.html#l00330">LL_FILE_GROUP_LOCKED</a>, <a class="el" href="llite__internal_8h_source.html#l01369">ll_file_nolock()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00125">ll_inode_info::lli_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>, and <a class="el" href="file_8c_source.html#l01968">ll_swap_layouts()</a>.</p>

</div>
</div>
<a class="anchor" id="a296d53393c74f49054fedce6acac8e13"></a><!-- doxytag: member="file.c::ll_getattr" ref="a296d53393c74f49054fedce6acac8e13" args="(struct vfsmount *mnt, struct dentry *de, struct kstat *stat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_getattr </td>
          <td>(</td>
          <td class="paramtype">struct vfsmount *&nbsp;</td>
          <td class="paramname"> <em>mnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>de</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kstat *&nbsp;</td>
          <td class="paramname"> <em>stat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03474">3474</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="lcommon__cl_8c_source.html#l00269">cl_fid_build_ino()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="file_8c_source.html#l03438">ll_inode_revalidate()</a>, <a class="el" href="llite__internal_8h_source.html#l00706">ll_need_32bit_api()</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="llite__internal_8h_source.html#l00757">LPROC_LL_GETATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="obd__support_8h_source.html#l00514">OBD_FAIL_GETATTR_DELAY</a>, and <a class="el" href="obd__support_8h_source.html#l00624">OBD_FAIL_TIMEOUT</a>.</p>

</div>
</div>
<a class="anchor" id="a0617074fd91a394b5e385f7006093058"></a><!-- doxytag: member="file.c::ll_have_md_lock" ref="a0617074fd91a394b5e385f7006093058" args="(struct inode *inode, __u64 *bits, enum ldlm_mode l_req_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_have_md_lock </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>l_req_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>test if some locks matching bits and l_req_mode are acquired</p>
<ul>
<li>bits can be in different locks</li>
<li>if found clear the common lock bits in *bits</li>
<li>the bits not found, are kept in *bits </li>
</ul>
</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inode</em>&nbsp;</td><td>[IN] </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bits</em>&nbsp;</td><td>[IN] searched lock bits [IN] </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>l_req_mode</em>&nbsp;</td><td>[IN] searched lock mode </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>boolean,true</em>&nbsp;</td><td>iff all bits are found </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l03238">3238</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lustre__idl_8h_source.html#l02841">ldlm_inodebits::bits</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="packet-lustre_8c_source.html#l00295">LCK_CR</a>, <a class="el" href="packet-lustre_8c_source.html#l00294">LCK_CW</a>, <a class="el" href="packet-lustre_8c_source.html#l00290">LCK_MINMODE</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00040">LDLM_FL_BLOCK_GRANTED</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00173">LDLM_FL_CBPENDING</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00114">LDLM_FL_TEST_LOCK</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="ldlm__lock_8c_source.html#l00052">ldlm_lockname</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="obd__class_8h_source.html#l01554">md_lock_match()</a>, <a class="el" href="lustre__idl_8h_source.html#l02095">MDS_INODELOCK_MAXSHIFT</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03324">__ll_inode_revalidate()</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, and <a class="el" href="dir_8c_source.html#l00328">ll_readdir()</a>.</p>

</div>
</div>
<a class="anchor" id="abaa701387c632b84dbfe295eac81ce30"></a><!-- doxytag: member="file.c::ll_hsm_import" ref="abaa701387c632b84dbfe295eac81ce30" args="(struct inode *inode, struct file *file, struct hsm_user_import *hui)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_hsm_import </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhsm__user__import.html">hsm_user_import</a> *&nbsp;</td>
          <td class="paramname"> <em>hui</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02108">2108</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__user_8h_source.html#l01048">HS_ARCHIVED</a>, <a class="el" href="lustre__user_8h_source.html#l01045">HS_EXISTS</a>, <a class="el" href="lustre__user_8h_source.html#l01047">HS_RELEASED</a>, <a class="el" href="lustre__idl_8h_source.html#l01739">hsm_state_set::hss_archive_id</a>, <a class="el" href="lustre__idl_8h_source.html#l01734">HSS_ARCHIVE_ID</a>, <a class="el" href="lustre__idl_8h_source.html#l01740">hsm_state_set::hss_setmask</a>, <a class="el" href="lustre__idl_8h_source.html#l01732">HSS_SETMASK</a>, <a class="el" href="lustre__idl_8h_source.html#l01738">hsm_state_set::hss_valid</a>, <a class="el" href="lustre__user_8h_source.html#l01344">hsm_user_import::hui_archive_id</a>, <a class="el" href="lustre__user_8h_source.html#l01337">hsm_user_import::hui_atime</a>, <a class="el" href="lustre__user_8h_source.html#l01339">hsm_user_import::hui_atime_ns</a>, <a class="el" href="lustre__user_8h_source.html#l01342">hsm_user_import::hui_gid</a>, <a class="el" href="lustre__user_8h_source.html#l01343">hsm_user_import::hui_mode</a>, <a class="el" href="lustre__user_8h_source.html#l01338">hsm_user_import::hui_mtime</a>, <a class="el" href="lustre__user_8h_source.html#l01340">hsm_user_import::hui_mtime_ns</a>, <a class="el" href="lustre__user_8h_source.html#l01336">hsm_user_import::hui_size</a>, <a class="el" href="lustre__user_8h_source.html#l01341">hsm_user_import::hui_uid</a>, <a class="el" href="file_8c_source.html#l02074">ll_hsm_state_set()</a>, <a class="el" href="llite__lib_8c_source.html#l01574">ll_setattr_raw()</a>, <a class="el" href="curproc_8h_source.html#l00075">make_kgid()</a>, <a class="el" href="curproc_8h_source.html#l00070">make_kuid()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2c997e354bc1e8c1224401aaf17a54a"></a><!-- doxytag: member="file.c::ll_hsm_release" ref="ae2c997e354bc1e8c1224401aaf17a54a" args="(struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_hsm_release </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01915">1915</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="file_8c_source.html#l00130">ll_close_inode_openhandle()</a>, <a class="el" href="file_8c_source.html#l01869">ll_data_version()</a>, <a class="el" href="lustre__user_8h_source.html#l01029">LL_DV_WR_FLUSH</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="file_8c_source.html#l00901">ll_lease_close()</a>, <a class="el" href="file_8c_source.html#l00700">ll_lease_open()</a>, <a class="el" href="file_8c_source.html#l00929">ll_merge_attr()</a>, <a class="el" href="lustre__idl_8h_source.html#l02370">MDS_HSM_RELEASE</a>, <a class="el" href="lustre__idl_8h_source.html#l02349">MDS_OPEN_RELEASE</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="dir_8c_source.html#l01097">ll_dir_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a351d7d449bcc0980c68009f8206eba37"></a><!-- doxytag: member="file.c::ll_hsm_state_set" ref="a351d7d449bcc0980c68009f8206eba37" args="(struct inode *inode, struct hsm_state_set *hss)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_hsm_state_set </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhsm__state__set.html">hsm_state_set</a> *&nbsp;</td>
          <td class="paramname"> <em>hss</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02074">2074</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="curproc_8h_source.html#l00118">CFS_CAP_SYS_ADMIN</a>, <a class="el" href="linux-curproc_8c_source.html#l00128">cfs_capable()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l01064">HSM_FLAGS_MASK</a>, <a class="el" href="lustre__user_8h_source.html#l01055">HSM_USER_MASK</a>, <a class="el" href="lustre__idl_8h_source.html#l01739">hsm_state_set::hss_archive_id</a>, <a class="el" href="lustre__idl_8h_source.html#l01734">HSS_ARCHIVE_ID</a>, <a class="el" href="lustre__idl_8h_source.html#l01741">hsm_state_set::hss_clearmask</a>, <a class="el" href="lustre__idl_8h_source.html#l01740">hsm_state_set::hss_setmask</a>, <a class="el" href="lustre__idl_8h_source.html#l01738">hsm_state_set::hss_valid</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="lustre__idl_8h_source.html#l00214">LL_HSM_MAX_ARCHIVE</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="lustre__user_8h_source.html#l00275">LL_IOC_HSM_STATE_SET</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="obd__class_8h_source.html#l01132">obd_iocontrol()</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>, <a class="el" href="file_8c_source.html#l02108">ll_hsm_import()</a>, and <a class="el" href="llite__lib_8c_source.html#l01574">ll_setattr_raw()</a>.</p>

</div>
</div>
<a class="anchor" id="a496700a533be84b5911e049b53eed9b2"></a><!-- doxytag: member="file.c::ll_inode_permission" ref="a496700a533be84b5911e049b53eed9b2" args="(struct inode *inode, int mask, struct nameidata *nd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_inode_permission </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nameidata *&nbsp;</td>
          <td class="paramname"> <em>nd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03601">3601</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="curproc_8h_source.html#l00065">__kgid_val()</a>, <a class="el" href="curproc_8h_source.html#l00060">__kuid_val()</a>, <a class="el" href="file_8c_source.html#l03324">__ll_inode_revalidate()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="curproc_8h_source.html#l00122">CFS_CAP_FS_MASK</a>, <a class="el" href="libcfs__debug_8h_source.html#l00141">D_OTHER</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="curproc_8h_source.html#l00057">GLOBAL_ROOT_UID</a>, <a class="el" href="file_8c_source.html#l03568">ll_check_acl()</a>, <a class="el" href="llite__internal_8h_source.html#l00528">ll_sb_info::ll_flags</a>, <a class="el" href="lustre__compat_8h_source.html#l00103">ll_generic_permission</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00445">LL_SBI_NOROOTSQUASH</a>, <a class="el" href="llite__internal_8h_source.html#l00431">LL_SBI_RMT_CLIENT</a>, <a class="el" href="llite__internal_8h_source.html#l00585">ll_sb_info::ll_squash</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00773">LPROC_LL_INODE_PERM</a>, <a class="el" href="remote__perm_8c_source.html#l00256">lustre_check_remote_perm()</a>, <a class="el" href="curproc_8h_source.html#l00075">make_kgid()</a>, <a class="el" href="curproc_8h_source.html#l00070">make_kuid()</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="obd__class_8h_source.html#l01723">root_squash_info::rsi_gid</a>, <a class="el" href="obd__class_8h_source.html#l01722">root_squash_info::rsi_uid</a>, <a class="el" href="curproc_8h_source.html#l00090">uid_eq()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="aec8a2cacddbc2041f27a4a4790ff9358"></a><!-- doxytag: member="file.c::ll_inode_revalidate" ref="aec8a2cacddbc2041f27a4a4790ff9358" args="(struct dentry *dentry, __u64 ibits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_inode_revalidate </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03438">3438</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="file_8c_source.html#l03324">__ll_inode_revalidate()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00296">ll_file_test_flag()</a>, <a class="el" href="llite__internal_8h_source.html#l01247">ll_glimpse_size()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="file_8c_source.html#l03415">ll_merge_md_attr()</a>, <a class="el" href="llite__internal_8h_source.html#l00157">ll_inode_info::lli_atime</a>, <a class="el" href="llite__internal_8h_source.html#l00159">ll_inode_info::lli_ctime</a>, <a class="el" href="llite__internal_8h_source.html#l00158">ll_inode_info::lli_mtime</a>, <a class="el" href="llite__internal_8h_source.html#l00279">LLIF_FILE_RESTORING</a>, <a class="el" href="lustre__compat_8h_source.html#l00094">LTIME_S</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03474">ll_getattr()</a>.</p>

</div>
</div>
<a class="anchor" id="a6dc42812cdf59db31d31290ed03007d8"></a><!-- doxytag: member="file.c::ll_inode_revalidate_fini" ref="a6dc42812cdf59db31d31290ed03007d8" args="(struct inode *inode, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_inode_revalidate_fini </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03297">3297</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00266">CDEBUG_LIMIT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03324">__ll_inode_revalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="a04cb4dc422e01387dfa7d47cc72997c5"></a><!-- doxytag: member="file.c::ll_intent_file_open" ref="a04cb4dc422e01387dfa7d47cc72997c5" args="(struct file *file, void *lmm, int lmmsize, struct lookup_intent *itp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_intent_file_open </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>lmm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lmmsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>itp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00369">369</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__idl_8h_source.html#l02063">DISP_LOOKUP_NEG</a>, <a class="el" href="lustre__idl_8h_source.html#l02066">DISP_OPEN_OPEN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__intent_8h_source.html#l00057">it_disposition()</a>, <a class="el" href="lustre__intent_8h_source.html#l00045">lookup_intent::it_flags</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="mdc__locks_8c_source.html#l00058">it_open_error()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="dcache_8c_source.html#l00204">ll_intent_drop_lock()</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="llite__lib_8c_source.html#l02284">ll_prep_inode()</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="file_8c_source.html#l01719">ll_release_openhandle()</a>, <a class="el" href="llite__internal_8h_source.html#l01379">ll_set_lock_data()</a>, <a class="el" href="lu__object_8h_source.html#l01310">lu_name_is_valid_2()</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="obd__class_8h_source.html#l01359">md_intent_lock()</a>, <a class="el" href="lustre__idl_8h_source.html#l02328">MDS_OPEN_BY_FID</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="lustre__idl_8h_source.html#l01240">OBD_CONNECT_OPEN_BY_FID</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00820">md_op_data::op_data_size</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00491">ll_file_open()</a>, and <a class="el" href="file_8c_source.html#l01445">ll_lov_setstripe_ea_info()</a>.</p>

</div>
</div>
<a class="anchor" id="ad31f213d7eacb1084da973c013085a3e"></a><!-- doxytag: member="file.c::ll_io_init" ref="ad31f213d7eacb1084da973c013085a3e" args="(struct cl_io *io, const struct file *file, int write)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_io_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>write</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01012">1012</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01763">cl_io::ci_lockreq</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_no_srvlock</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_noatime</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01773">cl_io::ci_rw</a>, <a class="el" href="structcl__io.html#a60575f788129abb9beff0cb40bc3eb36">cl_io::ci_wr</a>, <a class="el" href="cl__object_8h_source.html#l01712">CILR_MANDATORY</a>, <a class="el" href="cl__object_8h_source.html#l01714">CILR_MAYBE</a>, <a class="el" href="cl__object_8h_source.html#l01716">CILR_NEVER</a>, <a class="el" href="cl__object_8h_source.html#l01734">cl_io_rw_common::crw_nonblock</a>, <a class="el" href="file_8c_source.html#l00985">file_is_noatime()</a>, <a class="el" href="llite__internal_8h_source.html#l01369">ll_file_nolock()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01036">ll_file_io_generic()</a>.</p>

</div>
</div>
<a class="anchor" id="a02a94a34bc9b9975cbf5ff580e966e54"></a><!-- doxytag: member="file.c::ll_iocontrol_call" ref="a02a94a34bc9b9975cbf5ff580e966e54" args="(struct inode *inode, struct file *file, unsigned int cmd, unsigned long arg, int *rcp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="llite__internal_8h.html#aa24705c91135269499f54807b2bd5795">llioc_iter</a> ll_iocontrol_call </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>rcp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03845">3845</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="file_8c_source.html#l03774">llioc_ctl_data::ioc_head</a>, <a class="el" href="file_8c_source.html#l03773">llioc_ctl_data::ioc_sem</a>, <a class="el" href="file_8c_source.html#l03784">llioc_data::iocd_cb</a>, <a class="el" href="file_8c_source.html#l03786">llioc_data::iocd_cmd</a>, <a class="el" href="file_8c_source.html#l03785">llioc_data::iocd_count</a>, <a class="el" href="file_8c_source.html#l03782">llioc_data::iocd_list</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="file_8c.html#a337b3c9e74b3e3bf420bd5f3711eb832">llioc</a>, <a class="el" href="llite__internal_8h_source.html#l01306">LLIOC_CONT</a>, <a class="el" href="llite__internal_8h_source.html#l01307">LLIOC_STOP</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6602720fc6befce1e8707bab687f3bb"></a><!-- doxytag: member="file.c::ll_iocontrol_register" ref="aa6602720fc6befce1e8707bab687f3bb" args="(llioc_callback_t cb, int count, unsigned int *cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ll_iocontrol_register </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="llite__internal_8h.html#aee85ea999569c95db185285c59658b57">llioc_callback_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03789">3789</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="file_8c_source.html#l03774">llioc_ctl_data::ioc_head</a>, <a class="el" href="file_8c_source.html#l03773">llioc_ctl_data::ioc_sem</a>, <a class="el" href="file_8c_source.html#l03784">llioc_data::iocd_cb</a>, <a class="el" href="file_8c_source.html#l03786">llioc_data::iocd_cmd</a>, <a class="el" href="file_8c_source.html#l03785">llioc_data::iocd_count</a>, <a class="el" href="file_8c_source.html#l03782">llioc_data::iocd_list</a>, <a class="el" href="file_8c_source.html#l03783">llioc_data::iocd_size</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="file_8c.html#a337b3c9e74b3e3bf420bd5f3711eb832">llioc</a>, <a class="el" href="llite__internal_8h_source.html#l01310">LLIOC_MAX_CMD</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="lloop_8c_source.html#l00813">lloop_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aefa099972409606d30e4060ec128f02e"></a><!-- doxytag: member="file.c::ll_iocontrol_unregister" ref="aefa099972409606d30e4060ec128f02e" args="(void *magic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_iocontrol_unregister </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>magic</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03817">3817</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="file_8c_source.html#l03774">llioc_ctl_data::ioc_head</a>, <a class="el" href="file_8c_source.html#l03773">llioc_ctl_data::ioc_sem</a>, <a class="el" href="file_8c_source.html#l03782">llioc_data::iocd_list</a>, <a class="el" href="file_8c_source.html#l03783">llioc_data::iocd_size</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="file_8c.html#a337b3c9e74b3e3bf420bd5f3711eb832">llioc</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="lloop_8c_source.html#l00897">lloop_exit()</a>, and <a class="el" href="lloop_8c_source.html#l00813">lloop_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a35f0558b5366fc899113ce2f2a039695"></a><!-- doxytag: member="file.c::ll_ladvise" ref="a35f0558b5366fc899113ce2f2a039695" args="(struct inode *inode, struct file *file, __u64 flags, struct lu_ladvise *ladvise)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_ladvise </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__ladvise.html">lu_ladvise</a> *&nbsp;</td>
          <td class="paramname"> <em>ladvise</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02224">2224</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#abbad06003311557a8f2d3c825ae274f3">cl_io::ci_ladvise</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01819">cl_io::ci_result</a>, <a class="el" href="cl__object_8h_source.html#l01402">CIT_LADVISE</a>, <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="cl__io_8c_source.html#l00103">cl_io_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00211">cl_io_init()</a>, <a class="el" href="cl__io_8c_source.html#l00779">cl_io_loop()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="lustre__user_8h_source.html#l01401">lu_ladvise::lla_advice</a>, <a class="el" href="lustre__user_8h_source.html#l01403">lu_ladvise::lla_end</a>, <a class="el" href="lustre__user_8h_source.html#l01402">lu_ladvise::lla_start</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, and <a class="el" href="vvp__internal_8h_source.html#l00186">vvp_env_thread_io()</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="aad0e01b10871ba010c5c5bf16715cac3"></a><!-- doxytag: member="file.c::ll_layout_conf" ref="aad0e01b10871ba010c5c5bf16715cac3" args="(struct inode *inode, const struct cl_object_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_layout_conf </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__object__conf.html">cl_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03872">3872</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8c_source.html#l00298">cl_conf_set()</a>, <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="cl__object_8h_source.html#l00290">cl_layout::cl_layout_gen</a>, <a class="el" href="cl__object_8c_source.html#l00397">cl_object_layout_get()</a>, <a class="el" href="cl__object_8h_source.html#l00260">cl_object_conf::coc_lock</a>, <a class="el" href="cl__object_8h_source.html#l00264">cl_object_conf::coc_opc</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm_8h_source.html#l00987">ldlm_has_layout()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01332">ldlm_lock_allow_match()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00257">ll_layout_version_get()</a>, <a class="el" href="llite__internal_8h_source.html#l00268">ll_layout_version_set()</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="cl__object_8h_source.html#l00270">OBJECT_CONF_SET</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03997">ll_layout_lock_set()</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, and <a class="el" href="llite__lib_8c_source.html#l02284">ll_prep_inode()</a>.</p>

</div>
</div>
<a class="anchor" id="af0364be1470707b71ce471b1cb2cf32e"></a><!-- doxytag: member="file.c::ll_layout_fetch" ref="af0364be1470707b71ce471b1cb2cf32e" args="(struct inode *inode, struct ldlm_lock *lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_layout_fetch </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03925">3925</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__dlm_8h_source.html#l00819">ldlm_lock::l_lvb_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00818">ldlm_lock::l_lvb_len</a>, <a class="el" href="lustre__dlm_8h_source.html#l00812">ldlm_lock::l_lvb_type</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00227">ldlm_is_lvb_ready</a>, <a class="el" href="llite__lib_8c_source.html#l00649">ll_get_default_mdsize()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00649">LVB_T_LAYOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="obd__class_8h_source.html#l01496">md_getxattr()</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="lustre__idl_8h_source.html#l01694">OBD_MD_FLXATTR</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l02186">req_capsule_server_sized_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03997">ll_layout_lock_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a75e735b21066504ee2ce75bfb5138059"></a><!-- doxytag: member="file.c::ll_layout_lock_set" ref="a75e735b21066504ee2ce75bfb5138059" args="(struct lustre_handle *lockh, enum ldlm_mode mode, struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_layout_lock_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Apply the layout to the inode. </p>
<p>Layout lock is held and will be released in this function. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l03997">3997</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l00256">cl_object_conf::coc_inode</a>, <a class="el" href="cl__object_8h_source.html#l00246">cl_object_conf::coc_layout</a>, <a class="el" href="cl__object_8h_source.html#l00260">cl_object_conf::coc_lock</a>, <a class="el" href="cl__object_8h_source.html#l00264">cl_object_conf::coc_opc</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__dlm_8h_source.html#l00819">ldlm_lock::l_lvb_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00818">ldlm_lock::l_lvb_len</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__dlm_8h_source.html#l01168">LDLM_DEBUG</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00987">ldlm_has_layout()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00227">ldlm_is_lvb_ready</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="file_8c_source.html#l03872">ll_layout_conf()</a>, <a class="el" href="file_8c_source.html#l03925">ll_layout_fetch()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="obd__class_8h_source.html#l01529">md_set_lock_data()</a>, <a class="el" href="cl__object_8h_source.html#l00270">OBJECT_CONF_SET</a>, <a class="el" href="cl__object_8h_source.html#l00276">OBJECT_CONF_WAIT</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structcl__object__conf.html#a8a5ff5a6bba630aa3d7852da7a221c7c">cl_object_conf::u</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l04076">ll_layout_refresh_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a6097aa05b339d83f30b9116d71e3a8cf"></a><!-- doxytag: member="file.c::ll_layout_refresh" ref="a6097aa05b339d83f30b9116d71e3a8cf" args="(struct inode *inode, __u32 *gen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_layout_refresh </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>gen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function checks if there exists a LAYOUT lock on the client side, or enqueues it if it doesn't have one in cache. </p>
<p>This function will not hold layout lock so it may be revoked any time after this function returns. Any operations depend on layout should be redone in that case.</p>
<p>This function should be called before <a class="el" href="group__lov.html#gac574558c668ecbfd3bb659c6d4707665" title="Implements cl_object_operations::clo_io_init() method for lov layer.">lov_io_init()</a> to get an uptodate layout version, the caller should save the version number and after IO is finished, this function should be called again to verify that layout is not changed during IO time. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l04155">4155</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00280">CL_LAYOUT_GEN_NONE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00528">ll_sb_info::ll_flags</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="file_8c_source.html#l04076">ll_layout_refresh_locked()</a>, <a class="el" href="llite__internal_8h_source.html#l00257">ll_layout_version_get()</a>, <a class="el" href="llite__internal_8h_source.html#l00442">LL_SBI_LAYOUT_LOCK</a>, <a class="el" href="llite__internal_8h_source.html#l00247">ll_inode_info::lli_layout_mutex</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01600">ll_lov_setstripe()</a>, <a class="el" href="vvp__io_8c_source.html#l00299">vvp_io_fini()</a>, and <a class="el" href="vvp__io_8c_source.html#l01448">vvp_io_init()</a>.</p>

</div>
</div>
<a class="anchor" id="acd9f6f57cf9674a2d8d92aa804f2528e"></a><!-- doxytag: member="file.c::ll_layout_refresh_locked" ref="acd9f6f57cf9674a2d8d92aa804f2528e" args="(struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_layout_refresh_locked </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l04076">4076</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l02880">IT_LAYOUT</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="lustre__intent_8h_source.html#l00053">lookup_intent::it_request</a>, <a class="el" href="packet-lustre_8c_source.html#l00295">LCK_CR</a>, <a class="el" href="packet-lustre_8c_source.html#l00294">LCK_CW</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="ldlm__request_8c_source.html#l00230">ldlm_completion_ast()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01122">LDLM_DEBUG_NOLOCK</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="dcache_8c_source.html#l00204">ll_intent_drop_lock()</a>, <a class="el" href="file_8c_source.html#l03997">ll_layout_lock_set()</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l01379">ll_set_lock_data()</a>, <a class="el" href="file_8c_source.html#l03279">ll_take_md_lock()</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="obd__class_8h_source.html#l01330">md_enqueue()</a>, <a class="el" href="lustre__idl_8h_source.html#l02081">MDS_INODELOCK_LAYOUT</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l04155">ll_layout_refresh()</a>.</p>

</div>
</div>
<a class="anchor" id="a9ddb9a2a80df52ed287dad8a9c7bc12f"></a><!-- doxytag: member="file.c::ll_layout_restore" ref="a9ddb9a2a80df52ed287dad8a9c7bc12f" args="(struct inode *inode, loff_t offset, __u64 length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_layout_restore </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function send a restore request to the MDT. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l04187">4187</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l01163">hsm_request::hr_action</a>, <a class="el" href="lustre__user_8h_source.html#l01164">hsm_request::hr_archive_id</a>, <a class="el" href="lustre__user_8h_source.html#l01165">hsm_request::hr_flags</a>, <a class="el" href="lustre__user_8h_source.html#l01166">hsm_request::hr_itemcount</a>, <a class="el" href="lustre__user_8h_source.html#l01132">HUA_RESTORE</a>, <a class="el" href="lustre__user_8h_source.html#l01172">hsm_user_item::hui_extent</a>, <a class="el" href="lustre__user_8h_source.html#l01171">hsm_user_item::hui_fid</a>, <a class="el" href="lustre__user_8h_source.html#l01176">hsm_user_request::hur_request</a>, <a class="el" href="lustre__user_8h_source.html#l01177">hsm_user_request::hur_user_item</a>, <a class="el" href="lustre__user_8h_source.html#l01088">hsm_extent::length</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="lustre__user_8h_source.html#l00280">LL_IOC_HSM_REQUEST</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__class_8h_source.html#l01132">obd_iocontrol()</a>, <a class="el" href="lustre__user_8h_source.html#l01087">hsm_extent::offset</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00299">vvp_io_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a39e46892e54da51516a22748b277e5af"></a><!-- doxytag: member="file.c::ll_lease_close" ref="a39e46892e54da51516a22748b277e5af" args="(struct obd_client_handle *och, struct inode *inode, bool *lease_broken)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_lease_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>och</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>lease_broken</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release lease and close the file. </p>
<p>It will check if the lease has ever broken. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l00901">901</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="ldlm__request_8c_source.html#l01345">ldlm_cli_cancel()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00186">ldlm_is_cancel</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="file_8c_source.html#l00130">ll_close_inode_openhandle()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="obd_8h_source.html#l00993">obd_client_handle::och_lease_handle</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>, <a class="el" href="file_8c_source.html#l01915">ll_hsm_release()</a>, <a class="el" href="file_8c_source.html#l00245">ll_md_close()</a>, and <a class="el" href="file_8c_source.html#l03083">ll_migrate()</a>.</p>

</div>
</div>
<a class="anchor" id="a50c14036f2428d628e1574b5b9019db2"></a><!-- doxytag: member="file.c::ll_lease_open" ref="a50c14036f2428d628e1574b5b9019db2" args="(struct inode *inode, struct file *file, fmode_t fmode, __u64 open_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a>* ll_lease_open </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmode_t&nbsp;</td>
          <td class="paramname"> <em>fmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>open_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Acquire a lease and open the file. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l00700">700</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__idl_8h_source.html#l02068">DISP_ENQ_OPEN_REF</a>, <a class="el" href="lustre__idl_8h_source.html#l02063">DISP_LOOKUP_NEG</a>, <a class="el" href="lustre__idl_8h_source.html#l02071">DISP_OPEN_LEASE</a>, <a class="el" href="lustre__idl_8h_source.html#l02066">DISP_OPEN_OPEN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00683">ll_file_data::fd_lease_och</a>, <a class="el" href="llite__internal_8h_source.html#l00684">ll_file_data::fd_och</a>, <a class="el" href="llite__internal_8h_source.html#l00057">FMODE_EXEC</a>, <a class="el" href="lustre__idl_8h_source.html#l02308">FMODE_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__intent_8h_source.html#l00057">it_disposition()</a>, <a class="el" href="lustre__intent_8h_source.html#l00045">lookup_intent::it_flags</a>, <a class="el" href="lustre__intent_8h_source.html#l00049">lookup_intent::it_lock_bits</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="packet-lustre_8c_source.html#l00233">IT_OPEN</a>, <a class="el" href="mdc__locks_8c_source.html#l00058">it_open_error()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00349">LDLM_FL_EXCL</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00289">LDLM_FL_NO_LRU</a>, <a class="el" href="ldlm__lock_8c_source.html#l00918">ldlm_lock_decref_and_cancel()</a>, <a class="el" href="file_8c_source.html#l00130">ll_close_inode_openhandle()</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="file_8c_source.html#l00673">ll_md_blocking_lease_ast()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="file_8c_source.html#l00434">ll_och_fill()</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l01379">ll_set_lock_data()</a>, <a class="el" href="llite__internal_8h_source.html#l00145">ll_inode_info::lli_mds_read_och</a>, <a class="el" href="llite__internal_8h_source.html#l00146">ll_inode_info::lli_mds_write_och</a>, <a class="el" href="llite__internal_8h_source.html#l00152">ll_inode_info::lli_och_mutex</a>, <a class="el" href="llite__internal_8h_source.html#l00148">ll_inode_info::lli_open_fd_read_count</a>, <a class="el" href="llite__internal_8h_source.html#l00149">ll_inode_info::lli_open_fd_write_count</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="obd__class_8h_source.html#l01359">md_intent_lock()</a>, <a class="el" href="lustre__idl_8h_source.html#l02080">MDS_INODELOCK_OPEN</a>, <a class="el" href="lustre__idl_8h_source.html#l02328">MDS_OPEN_BY_FID</a>, <a class="el" href="lustre__idl_8h_source.html#l02345">MDS_OPEN_LEASE</a>, <a class="el" href="lustre__idl_8h_source.html#l02337">MDS_OPEN_LOCK</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8h_source.html#l00990">obd_client_handle::och_fh</a>, <a class="el" href="obd_8h_source.html#l00993">obd_client_handle::och_lease_handle</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00808">md_op_data::op_handle</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>, <a class="el" href="file_8c_source.html#l01915">ll_hsm_release()</a>, and <a class="el" href="file_8c_source.html#l03083">ll_migrate()</a>.</p>

</div>
</div>
<a class="anchor" id="a9621c69f54aed05fd4cb3833450e2b93"></a><!-- doxytag: member="file.c::ll_lease_type_from_fmode" ref="a9621c69f54aed05fd4cb3833450e2b93" args="(fmode_t fmode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static long ll_lease_type_from_fmode </td>
          <td>(</td>
          <td class="paramtype">fmode_t&nbsp;</td>
          <td class="paramname"> <em>fmode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02168">2168</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02308">FMODE_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="lustre__user_8h_source.html#l00301">LL_LEASE_RDLCK</a>, and <a class="el" href="lustre__user_8h_source.html#l00302">LL_LEASE_WRLCK</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a901bedee0eec9ecb8f126c23fe636aa8"></a><!-- doxytag: member="file.c::ll_local_open" ref="a901bedee0eec9ecb8f126c23fe636aa8" args="(struct file *file, struct lookup_intent *it, struct ll_file_data *fd, struct obd_client_handle *och)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_local_open </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__file__data.html">ll_file_data</a> *&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>och</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00449">449</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00691">ll_file_data::fd_lccs</a>, <a class="el" href="llite__internal_8h_source.html#l00690">ll_file_data::fd_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00680">ll_file_data::fd_omode</a>, <a class="el" href="llite__internal_8h_source.html#l00676">ll_file_data::fd_ras</a>, <a class="el" href="llite__internal_8h_source.html#l00057">FMODE_EXEC</a>, <a class="el" href="lustre__idl_8h_source.html#l02308">FMODE_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lustre__intent_8h_source.html#l00045">lookup_intent::it_flags</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="file_8c_source.html#l00434">ll_och_fill()</a>, <a class="el" href="rw_8c_source.html#l00605">ll_readahead_init()</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00491">ll_file_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a7bcdd1598909bde27c0ad103f39b76d2"></a><!-- doxytag: member="file.c::ll_lov_getstripe_ea_info" ref="a7bcdd1598909bde27c0ad103f39b76d2" args="(struct inode *inode, const char *filename, struct lov_mds_md **lmmp, int *lmm_size, struct ptlrpc_request **request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_lov_getstripe_ea_info </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct lov_mds_md **&nbsp;</td>
          <td class="paramname"> <em>lmmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>lmm_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> **&nbsp;</td>
          <td class="paramname"> <em>request</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01471">1471</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="byteorder_8h_source.html#l00054">le16_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__lib_8c_source.html#l00649">ll_get_default_mdsize()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="packet-lustre_8c_source.html#l00086">LOV_MAGIC</a>, <a class="el" href="packet-lustre_8c_source.html#l00085">LOV_MAGIC_V1</a>, <a class="el" href="lustre__idl_8h_source.html#l01471">LOV_MAGIC_V3</a>, <a class="el" href="lustre__idl_8h_source.html#l01502">lov_mds_md</a>, <a class="el" href="lustre__user_8h_source.html#l00352">LOV_PATTERN_F_RELEASED</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="pack__generic_8c_source.html#l02198">lustre_swab_lov_user_md_objects()</a>, <a class="el" href="pack__generic_8c_source.html#l02165">lustre_swab_lov_user_md_v1()</a>, <a class="el" href="pack__generic_8c_source.html#l02174">lustre_swab_lov_user_md_v3()</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02205">mdt_body::mbo_mode</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="obd__class_8h_source.html#l01347">md_getattr_name()</a>, <a class="el" href="lustre__idl_8h_source.html#l01684">OBD_MD_FLDIREA</a>, <a class="el" href="lustre__idl_8h_source.html#l01672">OBD_MD_FLEASIZE</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00826">md_op_data::op_valid</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l02186">req_capsule_server_sized_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="layout_8c_source.html#l01058">RMF_MDT_MD</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="dir_8c_source.html#l01097">ll_dir_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="ae31fba8751c02f42dd7dafcf75bb90d1"></a><!-- doxytag: member="file.c::ll_lov_setea" ref="ae31fba8751c02f42dd7dafcf75bb90d1" args="(struct inode *inode, struct file *file, unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_lov_setea </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01556">1556</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="ioctl_8h_source.html#l00048">__user</a>, <a class="el" href="curproc_8h_source.html#l00118">CFS_CAP_SYS_ADMIN</a>, <a class="el" href="linux-curproc_8c_source.html#l00128">cfs_capable()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="file_8c_source.html#l01445">ll_lov_setstripe_ea_info()</a>, <a class="el" href="lustre__user_8h_source.html#l00383">lov_user_md</a>, <a class="el" href="lustre__idl_8h_source.html#l02339">MDS_OPEN_HAS_OBJS</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a19c519fa26b8eb4961aafbb7e31d094f"></a><!-- doxytag: member="file.c::ll_lov_setstripe" ref="a19c519fa26b8eb4961aafbb7e31d094f" args="(struct inode *inode, struct file *file, unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_lov_setstripe </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01600">1600</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="llite__lib_8c_source.html#l02653">ll_copy_user_md()</a>, <a class="el" href="file_8c_source.html#l01583">ll_file_getstripe()</a>, <a class="el" href="file_8c_source.html#l04155">ll_layout_refresh()</a>, <a class="el" href="file_8c_source.html#l01445">ll_lov_setstripe_ea_info()</a>, <a class="el" href="lustre__user_8h_source.html#l00383">lov_user_md</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c15cd8e9ec1c37f79d348837642cb33"></a><!-- doxytag: member="file.c::ll_lov_setstripe_ea_info" ref="a4c15cd8e9ec1c37f79d348837642cb33" args="(struct inode *inode, struct file *file, __u64 flags, struct lov_user_md *lum, int lum_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_lov_setstripe_ea_info </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct lov_user_md *&nbsp;</td>
          <td class="paramname"> <em>lum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lum_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01445">1445</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="lustre__mdc_8h_source.html#l00233">cl_lov_delay_create_clear()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="packet-lustre_8c_source.html#l00233">IT_OPEN</a>, <a class="el" href="llite__lib_8c_source.html#l01847">ll_inode_size_lock()</a>, <a class="el" href="llite__lib_8c_source.html#l01857">ll_inode_size_unlock()</a>, <a class="el" href="file_8c_source.html#l00369">ll_intent_file_open()</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="file_8c_source.html#l01719">ll_release_openhandle()</a>, <a class="el" href="lustre__idl_8h_source.html#l02328">MDS_OPEN_BY_FID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01556">ll_lov_setea()</a>, <a class="el" href="file_8c_source.html#l01600">ll_lov_setstripe()</a>, and <a class="el" href="xattr_8c_source.html#l00265">ll_setxattr()</a>.</p>

</div>
</div>
<a class="anchor" id="a0200e4d25f6a7911e67c229a9937b832"></a><!-- doxytag: member="file.c::ll_md_blocking_lease_ast" ref="a0200e4d25f6a7911e67c229a9937b832" args="(struct ldlm_lock *lock, struct ldlm_lock_desc *desc, void *data, int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_md_blocking_lease_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00673">673</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00616">LCF_ASYNC</a>, <a class="el" href="lustre__dlm_8h_source.html#l00103">LDLM_CB_BLOCKING</a>, <a class="el" href="lustre__dlm_8h_source.html#l00104">LDLM_CB_CANCELING</a>, <a class="el" href="ldlm__request_8c_source.html#l01345">ldlm_cli_cancel()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00582">ldlm_lock2handle()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00700">ll_lease_open()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2ace19379d98e66ba658ee8e0169c80"></a><!-- doxytag: member="file.c::ll_md_close" ref="ab2ace19379d98e66ba658ee8e0169c80" args="(struct inode *inode, struct file *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_md_close </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00245">245</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00679">ll_file_data::fd_flags</a>, <a class="el" href="llite__internal_8h_source.html#l00677">ll_file_data::fd_grouplock</a>, <a class="el" href="llite__internal_8h_source.html#l00683">ll_file_data::fd_lease_och</a>, <a class="el" href="llite__internal_8h_source.html#l00684">ll_file_data::fd_och</a>, <a class="el" href="llite__internal_8h_source.html#l00680">ll_file_data::fd_omode</a>, <a class="el" href="llite__internal_8h_source.html#l00057">FMODE_EXEC</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00295">LCK_CR</a>, <a class="el" href="packet-lustre_8c_source.html#l00294">LCK_CW</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00040">LDLM_FL_BLOCK_GRANTED</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00114">LDLM_FL_TEST_LOCK</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="llite__internal_8h_source.html#l00120">ll_grouplock::lg_gid</a>, <a class="el" href="file_8c_source.html#l00130">ll_close_inode_openhandle()</a>, <a class="el" href="file_8c_source.html#l00084">ll_file_data_put()</a>, <a class="el" href="lustre__user_8h_source.html#l00330">LL_FILE_GROUP_LOCKED</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="file_8c_source.html#l00901">ll_lease_close()</a>, <a class="el" href="file_8c_source.html#l00203">ll_md_real_close()</a>, <a class="el" href="file_8c_source.html#l01676">ll_put_grouplock()</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="llite__internal_8h_source.html#l00152">ll_inode_info::lli_och_mutex</a>, <a class="el" href="llite__internal_8h_source.html#l00150">ll_inode_info::lli_open_fd_exec_count</a>, <a class="el" href="llite__internal_8h_source.html#l00148">ll_inode_info::lli_open_fd_read_count</a>, <a class="el" href="llite__internal_8h_source.html#l00149">ll_inode_info::lli_open_fd_write_count</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, <a class="el" href="obd__class_8h_source.html#l01554">md_lock_match()</a>, <a class="el" href="lustre__idl_8h_source.html#l02080">MDS_INODELOCK_OPEN</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00314">ll_file_release()</a>.</p>

</div>
</div>
<a class="anchor" id="a72ad5fc7204977ef854b59c40575fe9f"></a><!-- doxytag: member="file.c::ll_md_real_close" ref="a72ad5fc7204977ef854b59c40575fe9f" args="(struct inode *inode, fmode_t fmode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_md_real_close </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmode_t&nbsp;</td>
          <td class="paramname"> <em>fmode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00203">203</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00057">FMODE_EXEC</a>, <a class="el" href="lustre__idl_8h_source.html#l02308">FMODE_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="file_8c_source.html#l00130">ll_close_inode_openhandle()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00147">ll_inode_info::lli_mds_exec_och</a>, <a class="el" href="llite__internal_8h_source.html#l00145">ll_inode_info::lli_mds_read_och</a>, <a class="el" href="llite__internal_8h_source.html#l00146">ll_inode_info::lli_mds_write_och</a>, <a class="el" href="llite__internal_8h_source.html#l00152">ll_inode_info::lli_och_mutex</a>, <a class="el" href="llite__internal_8h_source.html#l00150">ll_inode_info::lli_open_fd_exec_count</a>, <a class="el" href="llite__internal_8h_source.html#l00148">ll_inode_info::lli_open_fd_read_count</a>, <a class="el" href="llite__internal_8h_source.html#l00149">ll_inode_info::lli_open_fd_write_count</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l01433">ll_clear_inode()</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, and <a class="el" href="file_8c_source.html#l00245">ll_md_close()</a>.</p>

</div>
</div>
<a class="anchor" id="a3bedf7e284e40a33585ec35c11696e6e"></a><!-- doxytag: member="file.c::ll_merge_attr" ref="a3bedf7e284e40a33585ec35c11696e6e" args="(const struct lu_env *env, struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_merge_attr </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00929">929</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00153">cl_attr::cat_atime</a>, <a class="el" href="cl__object_8h_source.html#l00161">cl_attr::cat_blocks</a>, <a class="el" href="cl__object_8h_source.html#l00155">cl_attr::cat_ctime</a>, <a class="el" href="cl__object_8h_source.html#l00151">cl_attr::cat_mtime</a>, <a class="el" href="cl__object_8h_source.html#l00143">cl_attr::cat_size</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8c_source.html#l00204">cl_object_attr_get()</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__lib_8c_source.html#l01847">ll_inode_size_lock()</a>, <a class="el" href="llite__lib_8c_source.html#l01857">ll_inode_size_unlock()</a>, <a class="el" href="llite__internal_8h_source.html#l00157">ll_inode_info::lli_atime</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="llite__internal_8h_source.html#l00159">ll_inode_info::lli_ctime</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="llite__internal_8h_source.html#l00158">ll_inode_info::lli_mtime</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__compat_8h_source.html#l00094">LTIME_S</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="vvp__internal_8h_source.html#l00177">vvp_env_thread_attr()</a>.</p>

<p>Referenced by <a class="el" href="glimpse_8c_source.html#l00085">cl_glimpse_lock()</a>, <a class="el" href="file_8c_source.html#l01915">ll_hsm_release()</a>, <a class="el" href="vvp__io_8c_source.html#l00968">vvp_io_write_commit()</a>, and <a class="el" href="vvp__io_8c_source.html#l01048">vvp_io_write_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a38e1069a0111b14060deb87a66701d3d"></a><!-- doxytag: member="file.c::ll_merge_md_attr" ref="a38e1069a0111b14060deb87a66701d3d" args="(struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_merge_md_attr </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03415">3415</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00153">cl_attr::cat_atime</a>, <a class="el" href="cl__object_8h_source.html#l00161">cl_attr::cat_blocks</a>, <a class="el" href="cl__object_8h_source.html#l00155">cl_attr::cat_ctime</a>, <a class="el" href="cl__object_8h_source.html#l00151">cl_attr::cat_mtime</a>, <a class="el" href="cl__object_8h_source.html#l00172">cl_attr::cat_nlink</a>, <a class="el" href="cl__object_8h_source.html#l00143">cl_attr::cat_size</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, <a class="el" href="llite__internal_8h_source.html#l00157">ll_inode_info::lli_atime</a>, <a class="el" href="llite__internal_8h_source.html#l00159">ll_inode_info::lli_ctime</a>, <a class="el" href="llite__internal_8h_source.html#l00158">ll_inode_info::lli_mtime</a>, <a class="el" href="obd__class_8h_source.html#l01471">md_merge_attr()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__compat_8h_source.html#l00316">set_nlink()</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03438">ll_inode_revalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="a3e57f029b18ca34827332b557080f850"></a><!-- doxytag: member="file.c::ll_migrate" ref="a3e57f029b18ca34827332b557080f850" args="(struct inode *parent, struct file *file, int mdtidx, const char *name, int namelen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_migrate </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mdtidx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03083">3083</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00799">CLI_MIGRATE</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__idl_8h_source.html#l01019">DEAD_HANDLE_MAGIC</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="file_8c_source.html#l01869">ll_data_version()</a>, <a class="el" href="lustre__user_8h_source.html#l01029">LL_DV_WR_FLUSH</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="file_8c_source.html#l03049">ll_get_fid_by_name()</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="dir_8c_source.html#l00709">ll_get_mdt_idx_by_fid()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="file_8c_source.html#l00901">ll_lease_close()</a>, <a class="el" href="file_8c_source.html#l00700">ll_lease_open()</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="namei_8c_source.html#l00927">ll_update_times()</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="obd__class_8h_source.html#l01520">md_clear_open_replay_data()</a>, <a class="el" href="obd__class_8h_source.html#l01386">md_rename()</a>, <a class="el" href="lustre__idl_8h_source.html#l02371">MDS_RENAME_MIGRATE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01715">OBD_MD_CLOSE_INTENT_EXECED</a>, <a class="el" href="obd_8h_source.html#l01130">obd_mod_put</a>, <a class="el" href="obd_8h_source.html#l00990">obd_client_handle::och_fh</a>, <a class="el" href="obd_8h_source.html#l00993">obd_client_handle::och_lease_handle</a>, <a class="el" href="obd_8h_source.html#l00992">obd_client_handle::och_mod</a>, <a class="el" href="obd_8h_source.html#l00831">md_op_data::op_bias</a>, <a class="el" href="obd_8h_source.html#l00838">md_op_data::op_cli_flags</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00841">md_op_data::op_data_version</a>, <a class="el" href="obd_8h_source.html#l00805">md_op_data::op_fid3</a>, <a class="el" href="obd_8h_source.html#l00808">md_op_data::op_handle</a>, <a class="el" href="obd_8h_source.html#l00842">md_op_data::op_lease_handle</a>, <a class="el" href="obd_8h_source.html#l00807">md_op_data::op_mds</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="dir_8c_source.html#l01097">ll_dir_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a61a72d86ccbc067824eece3d7cfdaa5b"></a><!-- doxytag: member="file.c::ll_och_fill" ref="a61a72d86ccbc067824eece3d7cfdaa5b" args="(struct obd_export *md_exp, struct lookup_intent *it, struct obd_client_handle *och)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_och_fill </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>md_exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>och</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00434">434</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="lustre__intent_8h_source.html#l00045">lookup_intent::it_flags</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00053">lookup_intent::it_request</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="lustre__idl_8h_source.html#l02191">mdt_body::mbo_handle</a>, <a class="el" href="obd__class_8h_source.html#l01510">md_set_open_replay_data()</a>, <a class="el" href="obd_8h_source.html#l00998">OBD_CLIENT_HANDLE_MAGIC</a>, <a class="el" href="obd_8h_source.html#l00990">obd_client_handle::och_fh</a>, <a class="el" href="obd_8h_source.html#l00991">obd_client_handle::och_fid</a>, <a class="el" href="obd_8h_source.html#l00995">obd_client_handle::och_flags</a>, <a class="el" href="obd_8h_source.html#l00993">obd_client_handle::och_lease_handle</a>, <a class="el" href="obd_8h_source.html#l00994">obd_client_handle::och_magic</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00700">ll_lease_open()</a>, <a class="el" href="file_8c_source.html#l00449">ll_local_open()</a>, and <a class="el" href="file_8c_source.html#l01719">ll_release_openhandle()</a>.</p>

</div>
</div>
<a class="anchor" id="a800a324419ea7f1db314e3bfd1ccd97e"></a><!-- doxytag: member="file.c::ll_prepare_close" ref="a800a324419ea7f1db314e3bfd1ccd97e" args="(struct inode *inode, struct md_op_data *op_data, struct obd_client_handle *och)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_prepare_close </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>op_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>och</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Packs all the attributes into  for the CLOSE rpc. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l00093">93</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="lustre__patchless__compat_8h_source.html#l00135">ATTR_CTIME_SET</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="llite__internal_8h_source.html#l00302">ll_file_test_and_clear_flag()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l00277">LLIF_DATA_MODIFIED</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="lustre__idl_8h_source.html#l02367">MDS_DATA_MODIFIED</a>, <a class="el" href="obd_8h_source.html#l00990">obd_client_handle::och_fh</a>, <a class="el" href="obd_8h_source.html#l00995">obd_client_handle::och_flags</a>, <a class="el" href="obd_8h_source.html#l00823">md_op_data::op_attr</a>, <a class="el" href="obd_8h_source.html#l00824">md_op_data::op_attr_blocks</a>, <a class="el" href="obd_8h_source.html#l00825">md_op_data::op_attr_flags</a>, <a class="el" href="obd_8h_source.html#l00831">md_op_data::op_bias</a>, and <a class="el" href="obd_8h_source.html#l00808">md_op_data::op_handle</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00130">ll_close_inode_openhandle()</a>.</p>

</div>
</div>
<a class="anchor" id="abdbdd981cc5eeb6f814f66042de35e82"></a><!-- doxytag: member="file.c::ll_put_grouplock" ref="abdbdd981cc5eeb6f814f66042de35e82" args="(struct inode *inode, struct file *file, unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_put_grouplock </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01676">1676</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lcommon__misc_8c_source.html#l00181">cl_put_grouplock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00679">ll_file_data::fd_flags</a>, <a class="el" href="llite__internal_8h_source.html#l00677">ll_file_data::fd_grouplock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00120">ll_grouplock::lg_gid</a>, <a class="el" href="llite__internal_8h_source.html#l00119">ll_grouplock::lg_lock</a>, <a class="el" href="lustre__user_8h_source.html#l00330">LL_FILE_GROUP_LOCKED</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00125">ll_inode_info::lli_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>, <a class="el" href="file_8c_source.html#l00245">ll_md_close()</a>, and <a class="el" href="file_8c_source.html#l01968">ll_swap_layouts()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6d1485bf1884fea2c285563aae2da51"></a><!-- doxytag: member="file.c::ll_release_openhandle" ref="ac6d1485bf1884fea2c285563aae2da51" args="(struct dentry *dentry, struct lookup_intent *it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_release_openhandle </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close inode open handle. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dentry</em>&nbsp;</td><td>[in] dentry which contains the inode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>it</em>&nbsp;</td><td>[in,out] intent which contains open info and result</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>&lt;0</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l01719">1719</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02068">DISP_ENQ_OPEN_REF</a>, <a class="el" href="lustre__idl_8h_source.html#l02066">DISP_OPEN_OPEN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__intent_8h_source.html#l00067">it_clear_disposition()</a>, <a class="el" href="lustre__intent_8h_source.html#l00057">it_disposition()</a>, <a class="el" href="mdc__locks_8c_source.html#l00058">it_open_error()</a>, <a class="el" href="lustre__intent_8h_source.html#l00053">lookup_intent::it_request</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="file_8c_source.html#l00130">ll_close_inode_openhandle()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="file_8c_source.html#l00434">ll_och_fill()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00491">ll_file_open()</a>, <a class="el" href="file_8c_source.html#l00369">ll_intent_file_open()</a>, <a class="el" href="namei_8c_source.html#l00551">ll_lookup_it()</a>, and <a class="el" href="file_8c_source.html#l01445">ll_lov_setstripe_ea_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a2c6947a74f5a1694a80029edb82ab5ed"></a><!-- doxytag: member="file.c::ll_swap_layouts" ref="a2c6947a74f5a1694a80029edb82ab5ed" args="(struct file *file1, struct file *file2, struct lustre_swap_layouts *lsl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_swap_layouts </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__swap__layouts.html">lustre_swap_layouts</a> *&nbsp;</td>
          <td class="paramname"> <em>lsl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l01968">1968</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="file_8c_source.html#l01964">ll_swap_stack::check_dv1</a>, <a class="el" href="file_8c_source.html#l01965">ll_swap_stack::check_dv2</a>, <a class="el" href="file_8c_source.html#l01960">ll_swap_stack::dv1</a>, <a class="el" href="file_8c_source.html#l01961">ll_swap_stack::dv2</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="file_8c_source.html#l01962">ll_swap_stack::inode1</a>, <a class="el" href="file_8c_source.html#l01963">ll_swap_stack::inode2</a>, <a class="el" href="file_8c_source.html#l00844">ll_check_swap_layouts_validity()</a>, <a class="el" href="file_8c_source.html#l01869">ll_data_version()</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="file_8c_source.html#l01629">ll_get_grouplock()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="lustre__user_8h_source.html#l00282">LL_IOC_LOV_SWAP_LAYOUTS</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="file_8c_source.html#l01676">ll_put_grouplock()</a>, <a class="el" href="lustre__idl_8h_source.html#l00814">lu_fid_cmp()</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="lustre__idl_8h_source.html#l03983">mdc_swap_layouts::msl_flags</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd__class_8h_source.html#l01132">obd_iocontrol()</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__user_8h_source.html#l00702">lustre_swap_layouts::sl_dv1</a>, <a class="el" href="lustre__user_8h_source.html#l00703">lustre_swap_layouts::sl_dv2</a>, <a class="el" href="lustre__user_8h_source.html#l00699">lustre_swap_layouts::sl_flags</a>, <a class="el" href="lustre__user_8h_source.html#l00701">lustre_swap_layouts::sl_gid</a>, <a class="el" href="osd__iam_8h_source.html#l01014">swap</a>, <a class="el" href="lustre__user_8h_source.html#l00690">SWAP_LAYOUTS_CHECK_DV1</a>, and <a class="el" href="lustre__user_8h_source.html#l00691">SWAP_LAYOUTS_CHECK_DV2</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e282e89b24b55e28fdb5c3a72bb6a99"></a><!-- doxytag: member="file.c::ll_swap_layouts_close" ref="a1e282e89b24b55e28fdb5c3a72bb6a99" args="(struct obd_client_handle *och, struct inode *inode, struct inode *inode2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_swap_layouts_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__client__handle.html">obd_client_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>och</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00860">860</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="file_8c_source.html#l00844">ll_check_swap_layouts_validity()</a>, <a class="el" href="file_8c_source.html#l00130">ll_close_inode_openhandle()</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l00814">lu_fid_cmp()</a>, <a class="el" href="lustre__idl_8h_source.html#l02372">MDS_CLOSE_LAYOUT_SWAP</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02260">ll_file_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="afae34889a41cb38904550a02c82e5f99"></a><!-- doxytag: member="file.c::ll_take_md_lock" ref="afae34889a41cb38904550a02c82e5f99" args="(struct inode *inode, __u64 bits, struct lustre_handle *lockh, __u64 flags, enum ldlm_mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> ll_take_md_lock </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l03279">3279</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00040">LDLM_FL_BLOCK_GRANTED</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="obd__class_8h_source.html#l01554">md_lock_match()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l04076">ll_layout_refresh_locked()</a>, and <a class="el" href="xattr__cache_8c_source.html#l00311">ll_xattr_find_get_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a62500313d78ac2832276edee1240c263"></a><!-- doxytag: member="file.c::llseek_execute" ref="a62500313d78ac2832276edee1240c263" args="(struct file *file, loff_t offset, loff_t maxsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static loff_t llseek_execute </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>maxsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l02665">2665</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="lustre__compat_8h_source.html#l00265">FMODE_UNSIGNED_OFFSET</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l02680">generic_file_llseek_size()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a7ded3b43962e9fd8fba0087cc7faaa90"></a><!-- doxytag: member="file.c::ll_file_inode_operations" ref="a7ded3b43962e9fd8fba0087cc7faaa90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct inode_operations <a class="el" href="llite__internal_8h.html#a7ded3b43962e9fd8fba0087cc7faaa90">ll_file_inode_operations</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .setattr        = <a class="code" href="llite__internal_8h.html#ac81bde41cf4fce997db9e8cf78f6560d">ll_setattr</a>,
        .getattr        = <a class="code" href="file_8c.html#a296d53393c74f49054fedce6acac8e13">ll_getattr</a>,
        .permission     = <a class="code" href="file_8c.html#a496700a533be84b5911e049b53eed9b2">ll_inode_permission</a>,
        .setxattr       = <a class="code" href="llite__internal_8h.html#abc2ddedfc641284707d3b0d1841922a3">ll_setxattr</a>,
        .getxattr       = <a class="code" href="llite__internal_8h.html#a705797a3631232c1108cfa4862b33d48">ll_getxattr</a>,
        .listxattr      = <a class="code" href="llite__internal_8h.html#a267f288aaa54c4f2c5f58b784ae12167">ll_listxattr</a>,
        .removexattr    = <a class="code" href="llite__internal_8h.html#a38bdae160a0182cca8ed5275747df6c0">ll_removexattr</a>,
        .fiemap         = <a class="code" href="file_8c.html#a060409dcaa9453429998c48806a27fa4">ll_fiemap</a>,



}
</pre></div>
<p>Definition at line <a class="el" href="file_8c_source.html#l03757">3757</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l01987">ll_read_inode2()</a>.</p>

</div>
</div>
<a class="anchor" id="aad68d2b9148120523f1e46bee31b14f9"></a><!-- doxytag: member="file.c::ll_file_operations" ref="aad68d2b9148120523f1e46bee31b14f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file_operations <a class="el" href="llite__internal_8h.html#aad68d2b9148120523f1e46bee31b14f9">ll_file_operations</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {







 
        .read           = <a class="code" href="file_8c.html#ad73f2d47259b3075134a188071ef1890">ll_file_read</a>,
        .aio_read       = <a class="code" href="file_8c.html#a79ead6cfd4e700ddc5a670ed87b7a906">ll_file_aio_read</a>,
        .write          = <a class="code" href="file_8c.html#aa7f0a79b2f333ed6577cb4f1aa5a2cef">ll_file_write</a>,
        .aio_write      = <a class="code" href="file_8c.html#a095b319362de3de1bd6e1c2151965be2">ll_file_aio_write</a>,

        .unlocked_ioctl = <a class="code" href="file_8c.html#ace651feea3dbc055f482bae1e0354489">ll_file_ioctl</a>,
        .open           = <a class="code" href="file_8c.html#aa74dd0b574db12023c97215de31d0637">ll_file_open</a>,
        .release        = <a class="code" href="file_8c.html#a3bc9157679435b46f834741207896073">ll_file_release</a>,
        .mmap           = <a class="code" href="llite__internal_8h.html#ad850d32388ed2bf59cb3e8027653ba9c">ll_file_mmap</a>,
        .llseek         = <a class="code" href="file_8c.html#aa294b5d9c602d73df011106d2f9dfb6a">ll_file_seek</a>,
        .splice_read    = <a class="code" href="file_8c.html#a95cb0774754369f099a2733270b51c78">ll_file_splice_read</a>,
        .fsync          = <a class="code" href="file_8c.html#a6a8a62adc93b58d6b8a8fa595a679d23">ll_fsync</a>,
        .flush          = <a class="code" href="file_8c.html#aeff63a86395704bf4870f1eed9edb89a">ll_flush</a>
}
</pre></div>
<p>Definition at line <a class="el" href="file_8c_source.html#l03680">3680</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l00164">client_common_fill_super()</a>.</p>

</div>
</div>
<a class="anchor" id="a74663ca5f06b4393f96e5001777ae1b7"></a><!-- doxytag: member="file.c::ll_file_operations_flock" ref="a74663ca5f06b4393f96e5001777ae1b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file_operations <a class="el" href="llite__internal_8h.html#a74663ca5f06b4393f96e5001777ae1b7">ll_file_operations_flock</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {







 
        .read           = <a class="code" href="file_8c.html#ad73f2d47259b3075134a188071ef1890">ll_file_read</a>,
        .aio_read       = <a class="code" href="file_8c.html#a79ead6cfd4e700ddc5a670ed87b7a906">ll_file_aio_read</a>,
        .write          = <a class="code" href="file_8c.html#aa7f0a79b2f333ed6577cb4f1aa5a2cef">ll_file_write</a>,
        .aio_write      = <a class="code" href="file_8c.html#a095b319362de3de1bd6e1c2151965be2">ll_file_aio_write</a>,

        .unlocked_ioctl = <a class="code" href="file_8c.html#ace651feea3dbc055f482bae1e0354489">ll_file_ioctl</a>,
        .open           = <a class="code" href="file_8c.html#aa74dd0b574db12023c97215de31d0637">ll_file_open</a>,
        .release        = <a class="code" href="file_8c.html#a3bc9157679435b46f834741207896073">ll_file_release</a>,
        .mmap           = <a class="code" href="llite__internal_8h.html#ad850d32388ed2bf59cb3e8027653ba9c">ll_file_mmap</a>,
        .llseek         = <a class="code" href="file_8c.html#aa294b5d9c602d73df011106d2f9dfb6a">ll_file_seek</a>,
        .splice_read    = <a class="code" href="file_8c.html#a95cb0774754369f099a2733270b51c78">ll_file_splice_read</a>,
        .fsync          = <a class="code" href="file_8c.html#a6a8a62adc93b58d6b8a8fa595a679d23">ll_fsync</a>,
        .flush          = <a class="code" href="file_8c.html#aeff63a86395704bf4870f1eed9edb89a">ll_flush</a>,
        .flock          = <a class="code" href="file_8c.html#a06fee752f94ed914cece8c884a226119">ll_file_flock</a>,
        .lock           = <a class="code" href="file_8c.html#a06fee752f94ed914cece8c884a226119">ll_file_flock</a>
}
</pre></div>
<p>Definition at line <a class="el" href="file_8c_source.html#l03704">3704</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l00164">client_common_fill_super()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e4db99bf8de8ce8e24f2c753782dca0"></a><!-- doxytag: member="file.c::ll_file_operations_noflock" ref="a6e4db99bf8de8ce8e24f2c753782dca0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file_operations <a class="el" href="llite__internal_8h.html#a6e4db99bf8de8ce8e24f2c753782dca0">ll_file_operations_noflock</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {







 
        .read           = <a class="code" href="file_8c.html#ad73f2d47259b3075134a188071ef1890">ll_file_read</a>,
        .aio_read       = <a class="code" href="file_8c.html#a79ead6cfd4e700ddc5a670ed87b7a906">ll_file_aio_read</a>,
        .write          = <a class="code" href="file_8c.html#aa7f0a79b2f333ed6577cb4f1aa5a2cef">ll_file_write</a>,
        .aio_write      = <a class="code" href="file_8c.html#a095b319362de3de1bd6e1c2151965be2">ll_file_aio_write</a>,

        .unlocked_ioctl = <a class="code" href="file_8c.html#ace651feea3dbc055f482bae1e0354489">ll_file_ioctl</a>,
        .open           = <a class="code" href="file_8c.html#aa74dd0b574db12023c97215de31d0637">ll_file_open</a>,
        .release        = <a class="code" href="file_8c.html#a3bc9157679435b46f834741207896073">ll_file_release</a>,
        .mmap           = <a class="code" href="llite__internal_8h.html#ad850d32388ed2bf59cb3e8027653ba9c">ll_file_mmap</a>,
        .llseek         = <a class="code" href="file_8c.html#aa294b5d9c602d73df011106d2f9dfb6a">ll_file_seek</a>,
        .splice_read    = <a class="code" href="file_8c.html#a95cb0774754369f099a2733270b51c78">ll_file_splice_read</a>,
        .fsync          = <a class="code" href="file_8c.html#a6a8a62adc93b58d6b8a8fa595a679d23">ll_fsync</a>,
        .flush          = <a class="code" href="file_8c.html#aeff63a86395704bf4870f1eed9edb89a">ll_flush</a>,
        .flock          = <a class="code" href="file_8c.html#aefb9272a50345f8caa13f9fe99f4ec8c">ll_file_noflock</a>,
        .lock           = <a class="code" href="file_8c.html#aefb9272a50345f8caa13f9fe99f4ec8c">ll_file_noflock</a>
}
</pre></div>
<p>Definition at line <a class="el" href="file_8c_source.html#l03731">3731</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l00164">client_common_fill_super()</a>.</p>

</div>
</div>
<a class="anchor" id="a337b3c9e74b3e3bf420bd5f3711eb832"></a><!-- doxytag: member="file.c::llioc" ref="a337b3c9e74b3e3bf420bd5f3711eb832" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structllioc__ctl__data.html">llioc_ctl_data</a>  <a class="el" href="file_8c.html#a337b3c9e74b3e3bf420bd5f3711eb832">llioc</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="file_8c_source.html#l03845">ll_iocontrol_call()</a>, <a class="el" href="file_8c_source.html#l03789">ll_iocontrol_register()</a>, and <a class="el" href="file_8c_source.html#l03817">ll_iocontrol_unregister()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:47 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
