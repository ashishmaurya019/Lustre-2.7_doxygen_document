<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/include/upcall_cache.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/include/upcall_cache.h File Reference</h1><code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lnet_2include_2lnet_2types_8h_source.html">lnet/types.h</a>&gt;</code><br/>

<p><a href="upcall__cache_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmd__perm.html">md_perm</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmd__identity.html">md_identity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupcall__cache__entry.html">upcall_cache_entry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupcall__cache__ops.html">upcall_cache_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupcall__cache.html">upcall_cache</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga8e8d506a1842245f0b2f9fd7f3d36970">UC_CACHE_NEW</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga86aae2dfd8c84cb7870e9d25d056ba1b">UC_CACHE_ACQUIRING</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gab4aee0c5cc541f3ce784d5bebb4f1607">UC_CACHE_INVALID</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga64927779c203e628628acf567c95d319">UC_CACHE_EXPIRED</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga59bfc019f2b6429ee81f58d2d9040a60">UC_CACHE_IS_NEW</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_NEW)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gaf406f70abf361fe8b29dde05e05c9d49">UC_CACHE_IS_INVALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_INVALID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga3b9a59ae851a3a4e9719df51557c5a85">UC_CACHE_IS_ACQUIRING</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_ACQUIRING)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gac9abb368bfe59bc2ec8390025c1a63bb">UC_CACHE_IS_EXPIRED</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_EXPIRED)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gaf000e795c64143b8f12a0e24afb04953">UC_CACHE_IS_VALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags == 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga5c496729336074ed5904b46d7a8ebea6">UC_CACHE_SET_NEW</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_NEW)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gaa99c77bb0f2ff531bd6ce41016195fd6">UC_CACHE_SET_INVALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_INVALID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga9b9a664740313d66c412a401709b54aa">UC_CACHE_SET_ACQUIRING</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_ACQUIRING)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga7dc154b6f848d51f657d84707fa862bc">UC_CACHE_SET_EXPIRED</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_EXPIRED)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gad95e4b4cd0dd8ffb19ca935ddeb56993">UC_CACHE_SET_VALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags = 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga916d70a49df7382066f3ac2e5dd43204">UC_CACHE_CLEAR_NEW</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_NEW)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga1f875fcee75b3ee50b3b7054085a86f6">UC_CACHE_CLEAR_ACQUIRING</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_ACQUIRING)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga427167036e2923f16912fda5caa9af83">UC_CACHE_CLEAR_INVALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_INVALID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga81bee9ca0df20a823ae4bd9440c9102e">UC_CACHE_CLEAR_EXPIRED</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_EXPIRED)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga8c305a8a3b91dcff3648e5d221e45da8">UC_CACHE_HASH_SIZE</a>&nbsp;&nbsp;&nbsp;(128)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gafbb733b13000cbef89ad34f81d710707">UC_CACHE_HASH_INDEX</a>(id)&nbsp;&nbsp;&nbsp;((id) &amp; (UC_CACHE_HASH_SIZE - 1))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga99001e7abf8fbd9982a0df6b0fedca29">UC_CACHE_UPCALL_MAXPATH</a>&nbsp;&nbsp;&nbsp;(1024UL)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structupcall__cache__entry.html">upcall_cache_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gae93c8b65f20884550db308d115a39000">upcall_cache_get_entry</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> key, void *args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga5e76a747caae8426b519cadff0163174">upcall_cache_put_entry</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, struct <a class="el" href="structupcall__cache__entry.html">upcall_cache_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga4b2702f5835e4e751b7273d69b51fdda">upcall_cache_downcall</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, __u32 err, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> key, void *args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga868d8ba9f2b9eb33ec3d826c795548ae">upcall_cache_flush</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, int force)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga5b509fbd3ae479f658d0ec1b8cc271eb">upcall_cache_flush_idle</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gafbf5f589f7bee143cb6ebfa3573de3ff">upcall_cache_flush_all</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga11b4323101878adb4f74646076cd51c5">upcall_cache_flush_one</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> key, void *args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga059dfb5805e4b52cc037f2445971ae05">upcall_cache_init</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const char *upcall, struct <a class="el" href="structupcall__cache__ops.html">upcall_cache_ops</a> *ops)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga49e938043b0c9fba3acde64c9d44c4d7">upcall_cache_cleanup</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache)</td></tr>
</table>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:47 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
