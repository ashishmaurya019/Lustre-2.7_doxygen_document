<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: cl_lock_operations Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cl_lock_operations Struct Reference<br/>
<small>
[<a class="el" href="group__cl__lock.html">cl_lock</a>]</small>
</h1><!-- doxytag: class="cl_lock_operations" -->
<p><code>#include &lt;<a class="el" href="cl__object_8h_source.html">cl_object.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__lock__operations.html#a4b649544378d50bf50bcb9c65d49795a">clo_fini</a> )(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#a4b649544378d50bf50bcb9c65d49795a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__lock__operations.html#a0fddd0bb9b01d44087eec935c0a355ec">clo_print</a> )(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> p, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optional debugging helper.  <a href="#a0fddd0bb9b01d44087eec935c0a355ec"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__lock__operations.html#ac662a1c9135cac8c084a7c95d6fc19d7">clo_enqueue</a> )(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__sync__io.html">cl_sync_io</a> *anchor)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempts to enqueue the lock.  <a href="#ac662a1c9135cac8c084a7c95d6fc19d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__lock__operations.html#adac391a682e572a776b39e552fa6e931">clo_cancel</a> )(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cancel a lock, release its DLM lock ref, while does not cancel the DLM lock.  <a href="#adac391a682e572a776b39e552fa6e931"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="vvp__lock_8c.html#aa87712a560b38e7f6597936077fdac7d">vvp_lock_ops</a>, <a class="el" href="group__lov.html#gad68b7bbb3df82a2411c3d3d8873b37a9">lov_lock_ops</a>, <a class="el" href="group__lov.html#ga3f92e8bbcbce48f1097df1e140c43cf7">lovsub_lock_ops</a>, <a class="el" href="group__osc.html#gaf69bf16bf23d5ce82362b480fcb0a331">osc_lock_ops</a> </dd></dl>

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l01215">1215</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="adac391a682e572a776b39e552fa6e931"></a><!-- doxytag: member="cl_lock_operations::clo_cancel" ref="adac391a682e572a776b39e552fa6e931" args=")(const struct lu_env *env, const struct cl_lock_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structcl__lock__operations.html#adac391a682e572a776b39e552fa6e931">cl_lock_operations::clo_cancel</a>)(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancel a lock, release its DLM lock ref, while does not cancel the DLM lock. </p>

<p>Referenced by <a class="el" href="cl__lock_8c_source.html#l00149">cl_lock_cancel()</a>.</p>

</div>
</div>
<a class="anchor" id="ac662a1c9135cac8c084a7c95d6fc19d7"></a><!-- doxytag: member="cl_lock_operations::clo_enqueue" ref="ac662a1c9135cac8c084a7c95d6fc19d7" args=")(const struct lu_env *env, const struct cl_lock_slice *slice, struct cl_io *io, struct cl_sync_io *anchor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structcl__lock__operations.html#ac662a1c9135cac8c084a7c95d6fc19d7">cl_lock_operations::clo_enqueue</a>)(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__sync__io.html">cl_sync_io</a> *anchor)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attempts to enqueue the lock. </p>
<p>Called top-to-bottom.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>this layer has enqueued the lock successfully </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>&gt;0</em>&nbsp;</td><td>this layer has enqueued the lock, but need to wait on <a class="anchor" id="for"></a> resources </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="vvp__lock_8c.html#af827f4e40e5da861455bf8741050efd9">vvp_lock_enqueue()</a>, <a class="el" href="group__lov.html#ga84944835b5803ca76b2858ed9b2a261f" title="Implementation of cl_lock_operations::clo_enqueue() for lov layer.">lov_lock_enqueue()</a>, lovsub_lock_enqueue(), </dd>
<dd>
<a class="el" href="group__osc.html#ga7593097c6dc02fd995d0453038fbecd2" title="Implementation of cl_lock_operations::clo_enqueue() method for osc layer.">osc_lock_enqueue()</a> </dd></dl>

<p>Referenced by <a class="el" href="cl__lock_8c_source.html#l00171">cl_lock_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b649544378d50bf50bcb9c65d49795a"></a><!-- doxytag: member="cl_lock_operations::clo_fini" ref="a4b649544378d50bf50bcb9c65d49795a" args=")(const struct lu_env *env, struct cl_lock_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structcl__lock__operations.html#a4b649544378d50bf50bcb9c65d49795a">cl_lock_operations::clo_fini</a>)(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>Frees resources and the slice.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="vvp__lock_8c.html#ac8d512f918ff8e2640cbd11e6ba358de">vvp_lock_fini()</a>, <a class="el" href="group__lov.html#ga1183dd544b95fdf5c5f08e61ff36a52d">lov_lock_fini()</a>, <a class="el" href="group__lov.html#gaa7b896e5b03f7fc45100b8d82b0d11f7">lovsub_lock_fini()</a>, </dd>
<dd>
<a class="el" href="group__osc.html#gab6bded0dd5d3b8886cb39393501ee7e3">osc_lock_fini()</a> </dd></dl>

<p>Referenced by <a class="el" href="cl__lock_8c_source.html#l00085">cl_lock_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fddd0bb9b01d44087eec935c0a355ec"></a><!-- doxytag: member="cl_lock_operations::clo_print" ref="a0fddd0bb9b01d44087eec935c0a355ec" args=")(const struct lu_env *env, void *cookie, lu_printer_t p, const struct cl_lock_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structcl__lock__operations.html#a0fddd0bb9b01d44087eec935c0a355ec">cl_lock_operations::clo_print</a>)(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> p, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Optional debugging helper. </p>
<p>Prints given lock slice. </p>

<p>Referenced by <a class="el" href="cl__lock_8c_source.html#l00273">cl_lock_print()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="cl__object_8h_source.html">cl_object.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:52 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
