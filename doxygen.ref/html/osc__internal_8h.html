<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/osc/osc_internal.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/osc/osc_internal.h File Reference</h1><code>#include &lt;<a class="el" href="cl__object_8h_source.html">cl_object.h</a>&gt;</code><br/>

<p><a href="osc__internal_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__async__page.html">osc_async_page</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__cache__waiter.html">osc_cache_waiter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__device.html">osc_device</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__device_1_1osc__stats.html">osc_device::osc_stats</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__quota__info.html">osc_quota_info</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__async__args.html">osc_async_args</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a22a2aa4f349895a0bbb4b1c6792c3ccf">OAP_MAGIC</a>&nbsp;&nbsp;&nbsp;8675309</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a9293fe599d7660bb57d0068917efcc1a">oap_page</a>&nbsp;&nbsp;&nbsp;oap_brw_page.pg</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a251153c8e0710426186cc8acbea8e511">oap_count</a>&nbsp;&nbsp;&nbsp;oap_brw_page.count</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#ad3c1ee9b8bcf6ab60cd95b7af9dd2ae7">oap_brw_flags</a>&nbsp;&nbsp;&nbsp;oap_brw_page.flag</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a571fb08c9d47c410a616edec580ff121">min_t</a>(type, x, y)&nbsp;&nbsp;&nbsp;({ type __x = (x); type __y = (y); __x &lt; __y ? __x: __y; })</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a5809fffe78bdf9f7d43e4e427c7ec90f">osc_enqueue_upcall_f</a> )(void *cookie, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, int rc)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a36cf53ab9257aa954efdd53080c6c74d">async_flags</a> { <a class="el" href="osc__internal_8h.html#a36cf53ab9257aa954efdd53080c6c74da0f63b531554194e976a0e8d8770e095a">ASYNC_READY</a> =  0x1, 
<a class="el" href="osc__internal_8h.html#a36cf53ab9257aa954efdd53080c6c74daa6b1b2ba0b2389cb791448e63cb52551">ASYNC_URGENT</a> =  0x2, 
<a class="el" href="osc__internal_8h.html#a36cf53ab9257aa954efdd53080c6c74dad52ed9228404b8af90de9f6d70451d1b">ASYNC_COUNT_STABLE</a> =  0x4, 
<a class="el" href="osc__internal_8h.html#a36cf53ab9257aa954efdd53080c6c74da8d866a0ae1a7be310c6c316ecbb7cb5f">ASYNC_HP</a> =  0x10
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a89099d25428f6679c80d1b0bffc08660">osc_dap_flags</a> { <a class="el" href="osc__internal_8h.html#a89099d25428f6679c80d1b0bffc08660ac8fc793fe979069b05b695bef936f66e">OSC_DAP_FL_TEST_LOCK</a> =  1 &lt;&lt; 0, 
<a class="el" href="osc__internal_8h.html#a89099d25428f6679c80d1b0bffc08660ade85f028b77dd34a1e01d9a502f7e7a6">OSC_DAP_FL_CANCELING</a> =  1 &lt;&lt; 1
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Bit flags for osc_dlm_lock_at_pageoff(). </p>
 <a href="osc__internal_8h.html#a89099d25428f6679c80d1b0bffc08660">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a99c46c9f7744d8e4c5f020c984a2a3b3">brw_page2oap</a> (struct <a class="el" href="structbrw__page.html">brw_page</a> *pga)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6d219e813ad848aa526b59c3c304f025">osc_wake_cache_waiters</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a0ba02232e65b9ab6f3f3bf9df37f680f">osc_shrink_grant_to_target</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> target_bytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#ae781f70fd0834571ed12450b9e80e056">osc_update_next_shrink</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#aad7a0f5242c750c4920c0b3f801ea07f">osc_enqueue_base</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a> *res_id, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *flags, union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy, struct <a class="el" href="structost__lvb.html">ost_lvb</a> *lvb, int kms_valid, <a class="el" href="osc__internal_8h.html#a5809fffe78bdf9f7d43e4e427c7ec90f">osc_enqueue_upcall_f</a> upcall, void *cookie, struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *einfo, struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *rqset, int async, int agl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#af6ccff10ed40679babebb500c67e4930">osc_match_base</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a> *res_id, __u32 type, union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy, __u32 <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *flags, void *data, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, int unref)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#aaaf0b04104be5c6a1fdc895320de3672">osc_setattr_async</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structobdo.html">obdo</a> *oa, <a class="el" href="obd_8h.html#a66d7b2a62168416c332d67cac492ee06">obd_enqueue_update_f</a> upcall, void *cookie, struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *rqset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a988c94871f582ca6f797eb81f410444c">osc_punch_base</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structobdo.html">obdo</a> *oa, <a class="el" href="obd_8h.html#a66d7b2a62168416c332d67cac492ee06">obd_enqueue_update_f</a> upcall, void *cookie, struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *rqset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a3da20799a254179d8c1757fb1a491490">osc_sync_base</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct <a class="el" href="structobdo.html">obdo</a> *oa, <a class="el" href="obd_8h.html#a66d7b2a62168416c332d67cac492ee06">obd_enqueue_update_f</a> upcall, void *cookie, struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *rqset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a295afb19bf1b5748882f9b403b11332e">osc_ladvise_base</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structobdo.html">obdo</a> *oa, struct <a class="el" href="structladvise__hdr.html">ladvise_hdr</a> *<a class="el" href="structladvise__hdr.html">ladvise_hdr</a>, <a class="el" href="obd_8h.html#a66d7b2a62168416c332d67cac492ee06">obd_enqueue_update_f</a> upcall, void *cookie, struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *rqset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If rqset is NULL, do not wait for response.  <a href="#a295afb19bf1b5748882f9b403b11332e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a2f641977fdc619422fcaf925bf72635e">osc_process_config_base</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a3df8b1dbc227408f5afb2694aa8f3b51">osc_build_rpc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structlist__head.html">list_head</a> *ext_list, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Build an RPC by the list of extent .  <a href="#a3df8b1dbc227408f5afb2694aa8f3b51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gacad2bab69d5c52c6248c0b76fcf1e93a">osc_lru_shrink</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, long target, bool force)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drop  of pages from LRU at most.  <a href="group__osc.html#gacad2bab69d5c52c6248c0b76fcf1e93a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6739eb4d14ea9d44005f4e5131ba8ade">osc_lru_reserve</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, unsigned long npages)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="group__osc.html#ga6739eb4d14ea9d44005f4e5131ba8ade" title="osc_lru_reserve() is called to reserve enough LRU slots for I/O.">osc_lru_reserve()</a> is called to reserve enough LRU slots for I/O.  <a href="group__osc.html#ga6739eb4d14ea9d44005f4e5131ba8ade"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaacf75a0c2b6ddc3e431b00b684de8eed">osc_lru_unreserve</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, unsigned long npages)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="group__osc.html#gaacf75a0c2b6ddc3e431b00b684de8eed" title="osc_lru_unreserve() is called to unreserve LRU slots.">osc_lru_unreserve()</a> is called to unreserve LRU slots.  <a href="group__osc.html#gaacf75a0c2b6ddc3e431b00b684de8eed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga35e11197afdf291ad1614fe6217d4108">osc_ldlm_weigh_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *dlmlock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the weight of dlm lock for early cancellation.  <a href="group__osc.html#ga35e11197afdf291ad1614fe6217d4108"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a163511e7f0d11d70004d43b7bac180ab">osc_cleanup</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#ab5abce3f88c14488cd26fd0e8d2810a0">osc_setup</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a3de1e3d996a20bc3d1424f4099912c08">lproc_osc_attach_seqstat</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#afb69d39b4c1886726a12b19fa6dbf15b">osc_recoverable_error</a> (int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a254c83164c149952783ddfd4cce71966">rpcs_in_flight</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#ab7e9270f77b23c30fb3e224636599297">cli_name</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__device.html">osc_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#aef09785b56bd2106b33f7928f4fac9ac">obd2osc_dev</a> (const struct <a class="el" href="structobd__device.html">obd_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a4e27cb486abbbacbaa64f1114008a891">osc_quota_setup</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a0a545d9c0566c69930c5fdefafa0cc87">osc_quota_cleanup</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a9b5198d7a4e4b9d3e140637c8b026be3">osc_quota_setdq</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, const unsigned int qid[], u64 valid, u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a1f51814353304e21a57f0a1364f9ba29">osc_quota_chkdq</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, const unsigned int qid[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#ad397cf8e319601fa2af9db561af49b96">osc_quotactl</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *unused, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structobd__quotactl.html">obd_quotactl</a> *oqctl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaba135e313f6a93ebb5d5cc3a823116c4">osc_inc_unstable_pages</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">"unstable" page accounting.  <a href="group__osc.html#gaba135e313f6a93ebb5d5cc3a823116c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga06cb0f9449c99e3cec373a61af41929a">osc_dec_unstable_pages</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Performs "unstable" page accounting.  <a href="group__osc.html#ga06cb0f9449c99e3cec373a61af41929a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa2bc86b38907996c03e4debb5953688b">osc_over_unstable_soft_limit</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if it piggybacks SOFT_SYNC flag to OST from this OSC.  <a href="group__osc.html#gaa2bc86b38907996c03e4debb5953688b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8977a8e1e24c419f01c5a96f6fbf65a2">osc_dlmlock_at_pgoff</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, pgoff_t index, enum <a class="el" href="osc__internal_8h.html#a89099d25428f6679c80d1b0bffc08660">osc_dap_flags</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds an existing lock covering given index and optionally different from a given <em>except</em> lock.  <a href="group__osc.html#ga8977a8e1e24c419f01c5a96f6fbf65a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a6914789817c912d8c4c3f7b4eea41654">osc_pack_req_body</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structobdo.html">obdo</a> *oa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6fff2cb3d86d8a7b0206286da8bbfc6b">osc_object_invalidate</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaec0dd919ecdfdb232dca4819b15617c5">osc_cache_shrink_count</a> (struct shrinker *sk, struct <a class="el" href="structshrink__control.html">shrink_control</a> *sc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return how many LRU pages in the cache of all OSC devices.  <a href="group__osc.html#gaec0dd919ecdfdb232dca4819b15617c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga084c788be8d116db87ebdd3c273d9a23">osc_cache_shrink_scan</a> (struct shrinker *sk, struct <a class="el" href="structshrink__control.html">shrink_control</a> *sc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scan and try to reclaim sc-&gt;nr_to_scan cached LRU pages.  <a href="group__osc.html#ga084c788be8d116db87ebdd3c273d9a23"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">atomic_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a40433657b0d5e1348f12083791abfa95">osc_pool_req_count</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#aeeaa8bc80f7b5d1079c7ed29fc995a30">osc_reqpool_maxreqcount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a9ec91111565b812522a60e72faacebf7">osc_rq_pool</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#aa45a2aadf67d5ff2d284201e7e354b52">PTLRPCD_SET</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gac38b7ef212655bdc25df953d7917a0dc">osc_caches</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__device__type.html">lu_device_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga40d14c8c546010ba5c116bc0ee4fa598">osc_device_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga70b280b4f8aa627b91e8b1ba485c9e6c">osc_quota_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a4520307af53ff804c0158fa8a7fa392c">osc_shrink_list</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">osc shrink list to link all osc client obd  <a href="#a4520307af53ff804c0158fa8a7fa392c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">spinlock_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__internal_8h.html#a6b7e64f1fbdfc9ae9ec34c5d6d2a5a8a">osc_shrink_lock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">spin lock to protect osc_shrink_list  <a href="#a6b7e64f1fbdfc9ae9ec34c5d6d2a5a8a"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a571fb08c9d47c410a616edec580ff121"></a><!-- doxytag: member="osc_internal.h::min_t" ref="a571fb08c9d47c410a616edec580ff121" args="(type, x, y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define min_t</td>
          <td>(</td>
          <td class="paramtype">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">y&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;({ type __x = (x); type __y = (y); __x &lt; __y ? __x: __y; })</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00177">177</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

<p>Referenced by <a class="el" href="router__proc_8c_source.html#l00567">__proc_lnet_buffers()</a>, <a class="el" href="router__proc_8c_source.html#l00790">__proc_lnet_portal_rotor()</a>, <a class="el" href="router__proc_8c_source.html#l00079">__proc_lnet_stats()</a>, <a class="el" href="linux-curproc_8c_source.html#l00187">cfs_get_environ()</a>, <a class="el" href="cl__object_8c_source.html#l00412">cl_object_maxbytes()</a>, <a class="el" href="ldlm__lib_8c_source.html#l00261">client_obd_setup()</a>, <a class="el" href="dt__object_8c_source.html#l00812">dt_index_walk()</a>, <a class="el" href="sec__bulk_8c_source.html#l00256">enc_pools_shrink_scan()</a>, <a class="el" href="ldlm__request_8c_source.html#l00724">ldlm_req_handles_avail()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>, <a class="el" href="llite__internal_8h_source.html#l01115">ll_file_maxbytes()</a>, <a class="el" href="rw_8c_source.html#l00085">ll_ra_count_get()</a>, <a class="el" href="symlink_8c_source.html#l00045">ll_readlink_internal()</a>, <a class="el" href="lod__qos_8c_source.html#l00755">lod_qos_dev_is_full()</a>, <a class="el" href="lov__obd_8c_source.html#l01269">lov_get_info()</a>, <a class="el" href="lov__io_8c_source.html#l00631">lov_io_read_ahead()</a>, <a class="el" href="lov__io_8c_source.html#l00480">lov_io_rw_iter_init()</a>, <a class="el" href="lov__obd_8c_source.html#l01082">lov_iocontrol()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00437">lprocfs_mds_evict_client_seq_write()</a>, <a class="el" href="lov__ea_8c_source.html#l00154">lsm_unpackmd_common()</a>, <a class="el" href="conrpc_8c_source.html#l00813">lstcon_testrpc_prep()</a>, <a class="el" href="lustre__mdc_8h_source.html#l00207">mdc_update_max_ea_from_body()</a>, <a class="el" href="mdd__object_8c_source.html#l01958">mdd_readpage()</a>, <a class="el" href="mdd__device_8c_source.html#l01102">mdd_statfs()</a>, <a class="el" href="mdt__handler_8c_source.html#l00905">mdt_getattr_internal()</a>, <a class="el" href="mdt__handler_8c_source.html#l01736">mdt_readpage()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="mgs__nids_8c_source.html#l00598">mgs_get_ir_logs()</a>, <a class="el" href="ofd__grant_8c_source.html#l01264">ofd_grant_commit()</a>, <a class="el" href="ofd__obd_8c_source.html#l00806">ofd_statfs()</a>, <a class="el" href="ofd__obd_8c_source.html#l00701">ofd_statfs_internal()</a>, <a class="el" href="osc__request_8c_source.html#l01064">osc_checksum_bulk()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osd-zfs_2osd__io_8c_source.html#l00323">osd_bufs_get_read()</a>, <a class="el" href="osd-zfs_2osd__io_8c_source.html#l00407">osd_bufs_get_write()</a>, <a class="el" href="osd-zfs_2osd__handler_8c_source.html#l00513">osd_statfs()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__precreate_8c_source.html#l00948">osp_pre_update_status()</a>, <a class="el" href="import_8c_source.html#l01550">ptlrpc_disconnect_import()</a>, <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>, <a class="el" href="qmt__entry_8c_source.html#l00514">qmt_alloc_expand()</a>, <a class="el" href="qsd__reint_8c_source.html#l00181">qsd_reint_index()</a>, <a class="el" href="qsd__internal_8h_source.html#l00332">qsd_wait_timeout()</a>, <a class="el" href="tgt__handler_8c_source.html#l01185">tgt_obd_idx_read()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01141">tgt_sendpage()</a>.</p>

</div>
</div>
<a class="anchor" id="ad3c1ee9b8bcf6ab60cd95b7af9dd2ae7"></a><!-- doxytag: member="osc_internal.h::oap_brw_flags" ref="ad3c1ee9b8bcf6ab60cd95b7af9dd2ae7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define oap_brw_flags&nbsp;&nbsp;&nbsp;oap_brw_page.flag</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00081">81</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a251153c8e0710426186cc8acbea8e511"></a><!-- doxytag: member="osc_internal.h::oap_count" ref="a251153c8e0710426186cc8acbea8e511" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define oap_count&nbsp;&nbsp;&nbsp;oap_brw_page.count</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00080">80</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a22a2aa4f349895a0bbb4b1c6792c3ccf"></a><!-- doxytag: member="osc_internal.h::OAP_MAGIC" ref="a22a2aa4f349895a0bbb4b1c6792c3ccf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OAP_MAGIC&nbsp;&nbsp;&nbsp;8675309</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00040">40</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00427">osc_page_submit()</a>.</p>

</div>
</div>
<a class="anchor" id="a9293fe599d7660bb57d0068917efcc1a"></a><!-- doxytag: member="osc_internal.h::oap_page" ref="a9293fe599d7660bb57d0068917efcc1a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define oap_page&nbsp;&nbsp;&nbsp;oap_brw_page.pg</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00079">79</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a5809fffe78bdf9f7d43e4e427c7ec90f"></a><!-- doxytag: member="osc_internal.h::osc_enqueue_upcall_f" ref="a5809fffe78bdf9f7d43e4e427c7ec90f" args=")(void *cookie, struct lustre_handle *lockh, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="osc__internal_8h.html#a5809fffe78bdf9f7d43e4e427c7ec90f">osc_enqueue_upcall_f</a>)(void *cookie, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, int rc)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00108">108</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a36cf53ab9257aa954efdd53080c6c74d"></a><!-- doxytag: member="osc_internal.h::async_flags" ref="a36cf53ab9257aa954efdd53080c6c74d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="osc__internal_8h.html#a36cf53ab9257aa954efdd53080c6c74d">async_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a36cf53ab9257aa954efdd53080c6c74da0f63b531554194e976a0e8d8770e095a"></a><!-- doxytag: member="ASYNC_READY" ref="a36cf53ab9257aa954efdd53080c6c74da0f63b531554194e976a0e8d8770e095a" args="" -->ASYNC_READY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a36cf53ab9257aa954efdd53080c6c74daa6b1b2ba0b2389cb791448e63cb52551"></a><!-- doxytag: member="ASYNC_URGENT" ref="a36cf53ab9257aa954efdd53080c6c74daa6b1b2ba0b2389cb791448e63cb52551" args="" -->ASYNC_URGENT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a36cf53ab9257aa954efdd53080c6c74dad52ed9228404b8af90de9f6d70451d1b"></a><!-- doxytag: member="ASYNC_COUNT_STABLE" ref="a36cf53ab9257aa954efdd53080c6c74dad52ed9228404b8af90de9f6d70451d1b" args="" -->ASYNC_COUNT_STABLE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a36cf53ab9257aa954efdd53080c6c74da8d866a0ae1a7be310c6c316ecbb7cb5f"></a><!-- doxytag: member="ASYNC_HP" ref="a36cf53ab9257aa954efdd53080c6c74da8d866a0ae1a7be310c6c316ecbb7cb5f" args="" -->ASYNC_HP</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00048">48</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a89099d25428f6679c80d1b0bffc08660"></a><!-- doxytag: member="osc_internal.h::osc_dap_flags" ref="a89099d25428f6679c80d1b0bffc08660" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="osc__internal_8h.html#a89099d25428f6679c80d1b0bffc08660">osc_dap_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bit flags for osc_dlm_lock_at_pageoff(). </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a89099d25428f6679c80d1b0bffc08660ac8fc793fe979069b05b695bef936f66e"></a><!-- doxytag: member="OSC_DAP_FL_TEST_LOCK" ref="a89099d25428f6679c80d1b0bffc08660ac8fc793fe979069b05b695bef936f66e" args="" -->OSC_DAP_FL_TEST_LOCK</em>&nbsp;</td><td>
<p>Just check if the desired lock exists, it won't hold reference count on lock. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a89099d25428f6679c80d1b0bffc08660ade85f028b77dd34a1e01d9a502f7e7a6"></a><!-- doxytag: member="OSC_DAP_FL_CANCELING" ref="a89099d25428f6679c80d1b0bffc08660ade85f028b77dd34a1e01d9a502f7e7a6" args="" -->OSC_DAP_FL_CANCELING</em>&nbsp;</td><td>
<p>Return the lock even if it is being canceled. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00226">226</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a99c46c9f7744d8e4c5f020c984a2a3b3"></a><!-- doxytag: member="osc_internal.h::brw_page2oap" ref="a99c46c9f7744d8e4c5f020c984a2a3b3" args="(struct brw_page *pga)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__async__page.html">osc_async_page</a>* brw_page2oap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__page.html">brw_page</a> *&nbsp;</td>
          <td class="paramname"> <em>pga</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00083">83</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

<p>References <a class="el" href="osc__internal_8h_source.html#l00070">osc_async_page::oap_brw_page</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="ab7e9270f77b23c30fb3e224636599297"></a><!-- doxytag: member="osc_internal.h::cli_name" ref="ab7e9270f77b23c30fb3e224636599297" args="(struct client_obd *cli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* cli_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00171">171</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, and <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00261">client_obd_setup()</a>, <a class="el" href="osc__page_8c_source.html#l00521">lru_queue_work()</a>, <a class="el" href="osc__request_8c_source.html#l00884">osc_add_shrink_grant()</a>, <a class="el" href="osc__request_8c_source.html#l00663">osc_announce_cached()</a>, <a class="el" href="osc__cache_8c_source.html#l01557">osc_enter_cache()</a>, <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>, <a class="el" href="osc__request_8c_source.html#l00907">osc_init_grant()</a>, <a class="el" href="osc__page_8c_source.html#l00583">osc_lru_del()</a>, <a class="el" href="osc__page_8c_source.html#l00808">osc_lru_reclaim()</a>, <a class="el" href="osc__page_8c_source.html#l00936">osc_lru_reserve()</a>, <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>, <a class="el" href="osc__page_8c_source.html#l01102">osc_over_unstable_soft_limit()</a>, and <a class="el" href="osc__quota_8c_source.html#l00074">osc_quota_setdq()</a>.</p>

</div>
</div>
<a class="anchor" id="a3de1e3d996a20bc3d1424f4099912c08"></a><!-- doxytag: member="osc_internal.h::lproc_osc_attach_seqstat" ref="a3de1e3d996a20bc3d1424f4099912c08" args="(struct obd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lproc_osc_attach_seqstat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00155">155</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="aef09785b56bd2106b33f7928f4fac9ac"></a><!-- doxytag: member="osc_internal.h::obd2osc_dev" ref="aef09785b56bd2106b33f7928f4fac9ac" args="(const struct obd_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__device.html">osc_device</a>* obd2osc_dev </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00197">197</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00131">cl_device::cd_lu_dev</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, and <a class="el" href="osc__internal_8h_source.html#l00182">osc_device::od_cl</a>.</p>

</div>
</div>
<a class="anchor" id="a3df8b1dbc227408f5afb2694aa8f3b51"></a><!-- doxytag: member="osc_internal.h::osc_build_rpc" ref="a3df8b1dbc227408f5afb2694aa8f3b51" args="(const struct lu_env *env, struct client_obd *cli, struct list_head *ext_list, int cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_build_rpc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>ext_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Build an RPC by the list of extent . </p>
<p>The caller must ensure that the total pages in this list are NOT over max pages per RPC. Extents in the list must be in OES_RPC state. </p>

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l01764">1764</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="osc__request_8c_source.html#l00076">osc_brw_async_args::aa_exts</a>, <a class="el" href="osc__request_8c_source.html#l00075">osc_brw_async_args::aa_oaps</a>, <a class="el" href="osc__request_8c_source.html#l01741">brw_commit()</a>, <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__prim_8h_source.html#l00083">cfs_memory_pressure_get_and_set()</a>, <a class="el" href="libcfs__prim_8h_source.html#l00092">cfs_memory_pressure_restore()</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="obd_8h_source.html#l00239">client_obd::cl_r_in_flight</a>, <a class="el" href="obd_8h_source.html#l00250">client_obd::cl_read_offset_hist</a>, <a class="el" href="obd_8h_source.html#l00248">client_obd::cl_read_page_hist</a>, <a class="el" href="obd_8h_source.html#l00246">client_obd::cl_read_rpc_hist</a>, <a class="el" href="cl__io_8c_source.html#l01174">cl_req_attr_set()</a>, <a class="el" href="obd_8h_source.html#l00240">client_obd::cl_w_in_flight</a>, <a class="el" href="obd_8h_source.html#l00251">client_obd::cl_write_offset_hist</a>, <a class="el" href="obd_8h_source.html#l00249">client_obd::cl_write_page_hist</a>, <a class="el" href="obd_8h_source.html#l00247">client_obd::cl_write_rpc_hist</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="cl__object_8h_source.html#l01865">cl_req_attr::cra_flags</a>, <a class="el" href="cl__object_8h_source.html#l01870">cl_req_attr::cra_jobid</a>, <a class="el" href="cl__object_8h_source.html#l01868">cl_req_attr::cra_oa</a>, <a class="el" href="cl__object_8h_source.html#l01866">cl_req_attr::cra_page</a>, <a class="el" href="cl__object_8h_source.html#l01864">cl_req_attr::cra_type</a>, <a class="el" href="cl__object_8h_source.html#l00787">CRT_READ</a>, <a class="el" href="cl__object_8h_source.html#l00788">CRT_WRITE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="list_8h_source.html#l00227">list_splice_init()</a>, <a class="el" href="lprocfs__status_8h_source.html#l01031">lprocfs_oh_tally()</a>, <a class="el" href="lprocfs__status_8h_source.html#l01034">lprocfs_oh_tally_log2()</a>, <a class="el" href="pack__generic_8c_source.html#l01496">lustre_msg_set_jobid()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="lustre__idl_8h_source.html#l03486">ost_body::oa</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00535">oap2cl_page()</a>, <a class="el" href="osc__internal_8h_source.html#l00070">osc_async_page::oap_brw_page</a>, <a class="el" href="osc__internal_8h_source.html#l00061">osc_async_page::oap_interrupted</a>, <a class="el" href="osc__internal_8h_source.html#l00066">osc_async_page::oap_obj_off</a>, <a class="el" href="osc__internal_8h_source.html#l00067">osc_async_page::oap_page_off</a>, <a class="el" href="osc__internal_8h_source.html#l00072">osc_async_page::oap_request</a>, <a class="el" href="osc__internal_8h_source.html#l00064">osc_async_page::oap_rpc_item</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="lustre__idl_8h_source.html#l01759">OBD_BRW_MEMALLOC</a>, <a class="el" href="lustre__idl_8h_source.html#l01746">OBD_BRW_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l01762">OBD_BRW_SOFT_SYNC</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__idl_8h_source.html#l01657">OBD_MD_FLATIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01659">OBD_MD_FLCTIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01658">OBD_MD_FLMTIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01767">OBD_OBJECT_EOF</a>, <a class="el" href="obd__class_8h_source.html#l01651">OBDO_ALLOC</a>, <a class="el" href="obd__class_8h_source.html#l01656">OBDO_FREE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00638">osc_extent::oe_grants</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_memalloc</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00640">osc_extent::oe_nr_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00642">osc_extent::oe_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00577">OES_RPC</a>, <a class="el" href="obd_8h_source.html#l00118">brw_page::off</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="group__osc.html#gaf6b8a4d60ebeba7a3b97618165e566b3">osc_extent_finish()</a>, <a class="el" href="osc__page_8c_source.html#l01102">osc_over_unstable_soft_limit()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00113">osc_thread_info::oti_req_attr</a>, <a class="el" href="client_8c_source.html#l02168">ptlrpc_mark_interrupted()</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l02757">ptlrpc_request_addref()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01105">RMF_OST_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_intr</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_memalloc</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, and <a class="el" href="osc__request_8c_source.html#l01594">sort_brw_pages()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02086">osc_send_read_rpc()</a>, and <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="a163511e7f0d11d70004d43b7bac180ab"></a><!-- doxytag: member="osc_internal.h::osc_cleanup" ref="a163511e7f0d11d70004d43b7bac180ab" args="(struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l02874">2874</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l02203">cl_client_cache::ccc_lru_lock</a>, <a class="el" href="cl__object_8h_source.html#l02183">cl_client_cache::ccc_users</a>, <a class="el" href="obd_8h_source.html#l00254">client_obd::cl_cache</a>, <a class="el" href="cl__page_8c_source.html#l01136">cl_cache_decref()</a>, <a class="el" href="obd_8h_source.html#l00260">client_obd::cl_lru_left</a>, <a class="el" href="obd_8h_source.html#l00256">client_obd::cl_lru_osc</a>, <a class="el" href="obd_8h_source.html#l00286">client_obd::cl_shrink_list</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="ldlm__lib_8c_source.html#l00504">client_obd_cleanup()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="osc__quota_8c_source.html#l00236">osc_quota_cleanup()</a>, <a class="el" href="osc__internal_8h.html#a6b7e64f1fbdfc9ae9ec34c5d6d2a5a8a">osc_shrink_lock</a>, <a class="el" href="ptlrpcd_8c_source.html#l00971">ptlrpcd_decref()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

</div>
</div>
<a class="anchor" id="aad7a0f5242c750c4920c0b3f801ea07f"></a><!-- doxytag: member="osc_internal.h::osc_enqueue_base" ref="aad7a0f5242c750c4920c0b3f801ea07f" args="(struct obd_export *exp, struct ldlm_res_id *res_id, __u64 *flags, union ldlm_policy_data *policy, struct ost_lvb *lvb, int kms_valid, osc_enqueue_upcall_f upcall, void *cookie, struct ldlm_enqueue_info *einfo, struct ptlrpc_request_set *rqset, int async, int agl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_enqueue_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a> *&nbsp;</td>
          <td class="paramname"> <em>res_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structost__lvb.html">ost_lvb</a> *&nbsp;</td>
          <td class="paramname"> <em>lvb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>kms_valid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="osc__internal_8h.html#a5809fffe78bdf9f7d43e4e427c7ec90f">osc_enqueue_upcall_f</a>&nbsp;</td>
          <td class="paramname"> <em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>einfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rqset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>async</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>agl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l02052">2052</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01103">ldlm_enqueue_info::ei_cbdata</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="lustre__dlm_8h_source.html#l00075">ELDLM_LOCK_MATCHED</a>, <a class="el" href="lustre__dlm_8h_source.html#l00074">ELDLM_OK</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="ldlm__request_8c_source.html#l00869">ldlm_cli_enqueue()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00040">LDLM_FL_BLOCK_GRANTED</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00082">LDLM_FL_HAS_INTENT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00226">LDLM_FL_LVB_READY</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00120">LDLM_FL_MATCH_LOCK</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00114">LDLM_FL_TEST_LOCK</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="ldlm__request_8c_source.html#l00829">ldlm_prep_enqueue_req()</a>, <a class="el" href="lustre__idl_8h_source.html#l01032">lustre_handle_copy()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00647">LVB_T_OST</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="osc__request_8c_source.html#l00109">osc_enqueue_args::oa_agl</a>, <a class="el" href="osc__request_8c_source.html#l00106">osc_enqueue_args::oa_cookie</a>, <a class="el" href="osc__request_8c_source.html#l00101">osc_enqueue_args::oa_exp</a>, <a class="el" href="osc__request_8c_source.html#l00104">osc_enqueue_args::oa_flags</a>, <a class="el" href="osc__request_8c_source.html#l00108">osc_enqueue_args::oa_lockh</a>, <a class="el" href="osc__request_8c_source.html#l00107">osc_enqueue_args::oa_lvb</a>, <a class="el" href="osc__request_8c_source.html#l00103">osc_enqueue_args::oa_mode</a>, <a class="el" href="osc__request_8c_source.html#l00102">osc_enqueue_args::oa_type</a>, <a class="el" href="osc__request_8c_source.html#l00105">osc_enqueue_args::oa_upcall</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="osc__request_8c_source.html#l01952">osc_enqueue_fini()</a>, <a class="el" href="osc__request_8c_source.html#l01990">osc_enqueue_interpret()</a>, <a class="el" href="osc__request_8c_source.html#l01934">osc_set_lock_data()</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="client_8c_source.html#l01050">ptlrpc_set_add_req()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01049">RMF_DLM_LVB</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01446">RQF_LDLM_ENQUEUE_LVB</a>, and <a class="el" href="lustre__idl_8h_source.html#l02822">ldlm_extent::start</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a295afb19bf1b5748882f9b403b11332e"></a><!-- doxytag: member="osc_internal.h::osc_ladvise_base" ref="a295afb19bf1b5748882f9b403b11332e" args="(struct obd_export *exp, struct obdo *oa, struct ladvise_hdr *ladvise_hdr, obd_enqueue_update_f upcall, void *cookie, struct ptlrpc_request_set *rqset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_ladvise_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobdo.html">obdo</a> *&nbsp;</td>
          <td class="paramname"> <em>oa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structladvise__hdr.html">ladvise_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>ladvise_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd_8h.html#a66d7b2a62168416c332d67cac492ee06">obd_enqueue_update_f</a>&nbsp;</td>
          <td class="paramname"> <em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rqset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If rqset is NULL, do not wait for response. </p>
<p>Upcall and cookie could also be NULL in this case </p>

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00303">303</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="osc__request_8c_source.html#l00097">osc_ladvise_args::la_cookie</a>, <a class="el" href="osc__request_8c_source.html#l00095">osc_ladvise_args::la_oa</a>, <a class="el" href="osc__request_8c_source.html#l00096">osc_ladvise_args::la_upcall</a>, <a class="el" href="lustre__user_8h_source.html#l01420">ladvise_hdr::lah_advise</a>, <a class="el" href="lustre__user_8h_source.html#l01416">ladvise_hdr::lah_count</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00078">LUSTRE_OST_VERSION</a>, <a class="el" href="lustre__obdo_8h_source.html#l00048">lustre_set_wire_obdo()</a>, <a class="el" href="lustre__idl_8h_source.html#l03486">ost_body::oa</a>, <a class="el" href="osc__request_8c_source.html#l00278">osc_ladvise_interpret()</a>, <a class="el" href="lustre__idl_8h_source.html#l00096">OST_IO_PORTAL</a>, <a class="el" href="packet-lustre_8c_source.html#l00184">OST_LADVISE</a>, <a class="el" href="client_8c_source.html#l00293">ptlrpc_at_set_req_timeout()</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="client_8c_source.html#l01050">ptlrpc_set_add_req()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="osc__request_8c_source.html#l02043">PTLRPCD_SET</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01105">RMF_OST_BODY</a>, <a class="el" href="layout_8c_source.html#l01225">RMF_OST_LADVISE</a>, <a class="el" href="layout_8c_source.html#l01219">RMF_OST_LADVISE_HDR</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01688">RQF_OST_LADVISE</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00843">osc_io_ladvise_start()</a>.</p>

</div>
</div>
<a class="anchor" id="af6ccff10ed40679babebb500c67e4930"></a><!-- doxytag: member="osc_internal.h::osc_match_base" ref="af6ccff10ed40679babebb500c67e4930" args="(struct obd_export *exp, struct ldlm_res_id *res_id, __u32 type, union ldlm_policy_data *policy, __u32 mode, __u64 *flags, void *data, struct lustre_handle *lockh, int unref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_match_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a> *&nbsp;</td>
          <td class="paramname"> <em>res_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01210">osc_dlmlock_at_pgoff()</a>.</p>

</div>
</div>
<a class="anchor" id="a6914789817c912d8c4c3f7b4eea41654"></a><!-- doxytag: member="osc_internal.h::osc_pack_req_body" ref="a6914789817c912d8c4c3f7b4eea41654" args="(struct ptlrpc_request *req, struct obdo *oa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_pack_req_body </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobdo.html">obdo</a> *&nbsp;</td>
          <td class="paramname"> <em>oa</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00116">116</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__obdo_8h_source.html#l00048">lustre_set_wire_obdo()</a>, <a class="el" href="lustre__idl_8h_source.html#l03486">ost_body::oa</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l01105">RMF_OST_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l00126">osc_getattr()</a>, <a class="el" href="osc__request_8c_source.html#l00169">osc_setattr()</a>, and <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f641977fdc619422fcaf925bf72635e"></a><!-- doxytag: member="osc_internal.h::osc_process_config_base" ref="a2f641977fdc619422fcaf925bf72635e" args="(struct obd_device *obd, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_process_config_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l02905">2905</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="obd__config_8c_source.html#l01322">class_process_proc_param()</a>, <a class="el" href="obd_8h_source.html#l00716">obd_device::obd_vars</a>, and <a class="el" href="lustre__param_8h_source.html#l00108">PARAM_OSC</a>.</p>

<p>Referenced by <a class="el" href="osc__dev_8c_source.html#l00165">osc_cl_process_config()</a>, and <a class="el" href="osc__request_8c_source.html#l02911">osc_process_config()</a>.</p>

</div>
</div>
<a class="anchor" id="a988c94871f582ca6f797eb81f410444c"></a><!-- doxytag: member="osc_internal.h::osc_punch_base" ref="a988c94871f582ca6f797eb81f410444c" args="(struct obd_export *exp, struct obdo *oa, obd_enqueue_update_f upcall, void *cookie, struct ptlrpc_request_set *rqset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_punch_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobdo.html">obdo</a> *&nbsp;</td>
          <td class="paramname"> <em>oa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd_8h.html#a66d7b2a62168416c332d67cac492ee06">obd_enqueue_update_f</a>&nbsp;</td>
          <td class="paramname"> <em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rqset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00417">417</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00078">LUSTRE_OST_VERSION</a>, <a class="el" href="lustre__obdo_8h_source.html#l00048">lustre_set_wire_obdo()</a>, <a class="el" href="lustre__idl_8h_source.html#l03486">ost_body::oa</a>, <a class="el" href="osc__request_8c_source.html#l00210">osc_setattr_interpret()</a>, <a class="el" href="lustre__idl_8h_source.html#l00096">OST_IO_PORTAL</a>, <a class="el" href="packet-lustre_8c_source.html#l00173">OST_PUNCH</a>, <a class="el" href="client_8c_source.html#l00293">ptlrpc_at_set_req_timeout()</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="client_8c_source.html#l01050">ptlrpc_set_add_req()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="osc__request_8c_source.html#l02043">PTLRPCD_SET</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01105">RMF_OST_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01626">RQF_OST_PUNCH</a>, <a class="el" href="osc__request_8c_source.html#l00084">osc_setattr_args::sa_cookie</a>, <a class="el" href="osc__request_8c_source.html#l00082">osc_setattr_args::sa_oa</a>, and <a class="el" href="osc__request_8c_source.html#l00083">osc_setattr_args::sa_upcall</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f51814353304e21a57f0a1364f9ba29"></a><!-- doxytag: member="osc_internal.h::osc_quota_chkdq" ref="a1f51814353304e21a57f0a1364f9ba29" args="(struct client_obd *cli, const unsigned int qid[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_quota_chkdq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&nbsp;</td>
          <td class="paramname"> <em>qid</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__quota_8c_source.html#l00045">45</a> of file <a class="el" href="osc__quota_8c_source.html">osc_quota.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>, <a class="el" href="obd_8h_source.html#l00330">client_obd::cl_quota_hash</a>, <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__compat_8h_source.html#l00254">NO_QUOTA</a>, <a class="el" href="lustre__compat_8h_source.html#l00251">QUOTA_OK</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a0a545d9c0566c69930c5fdefafa0cc87"></a><!-- doxytag: member="osc_internal.h::osc_quota_cleanup" ref="a0a545d9c0566c69930c5fdefafa0cc87" args="(struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_quota_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__quota_8c_source.html#l00236">236</a> of file <a class="el" href="osc__quota_8c_source.html">osc_quota.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01148">cfs_hash_putref()</a>, <a class="el" href="obd_8h_source.html#l00330">client_obd::cl_quota_hash</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02874">osc_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b5198d7a4e4b9d3e140637c8b026be3"></a><!-- doxytag: member="osc_internal.h::osc_quota_setdq" ref="a9b5198d7a4e4b9d3e140637c8b026be3" args="(struct client_obd *cli, const unsigned int qid[], u64 valid, u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_quota_setdq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&nbsp;</td>
          <td class="paramname"> <em>qid</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&nbsp;</td>
          <td class="paramname"> <em>valid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__quota_8c_source.html#l00074">74</a> of file <a class="el" href="osc__quota_8c_source.html">osc_quota.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="hash_8c_source.html#l01259">cfs_hash_add_unique()</a>, <a class="el" href="hash_8c_source.html#l01331">cfs_hash_del_key()</a>, <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>, <a class="el" href="obd_8h_source.html#l00330">client_obd::cl_quota_hash</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osc__quota_8c_source.html#l00071">FL_QUOTA_FLAG</a>, <a class="el" href="osc__quota_8c_source.html#l00069">MD_QUOTA_FLAG</a>, <a class="el" href="lustre__idl_8h_source.html#l01686">OBD_MD_FLGRPQUOTA</a>, <a class="el" href="lustre__idl_8h_source.html#l01685">OBD_MD_FLUSRQUOTA</a>, <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, <a class="el" href="osc__internal_8h_source.html#l00205">osc_quota_info::oqi_hash</a>, <a class="el" href="osc__quota_8c_source.html#l00034">osc_oqi_alloc()</a>, <a class="el" href="osc__dev_8c_source.html#l00057">osc_quota_kmem</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01369">osc_brw_fini_request()</a>.</p>

</div>
</div>
<a class="anchor" id="a4e27cb486abbbacbaa64f1114008a891"></a><!-- doxytag: member="osc_internal.h::osc_quota_setup" ref="a4e27cb486abbbacbaa64f1114008a891" args="(struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_quota_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__quota_8c_source.html#l00207">207</a> of file <a class="el" href="osc__quota_8c_source.html">osc_quota.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00165">CFS_HASH_DEFAULT</a>, <a class="el" href="libcfs__hash_8h_source.html#l00775">CFS_HASH_MAX_THETA</a>, <a class="el" href="libcfs__hash_8h_source.html#l00774">CFS_HASH_MIN_THETA</a>, <a class="el" href="hash_8c_source.html#l01148">cfs_hash_putref()</a>, <a class="el" href="obd_8h_source.html#l00330">client_obd::cl_quota_hash</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osc__quota_8c_source.html#l00193">HASH_QUOTA_BKT_BITS</a>, <a class="el" href="osc__quota_8c_source.html#l00194">HASH_QUOTA_CUR_BITS</a>, <a class="el" href="osc__quota_8c_source.html#l00195">HASH_QUOTA_MAX_BITS</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ad397cf8e319601fa2af9db561af49b96"></a><!-- doxytag: member="osc_internal.h::osc_quotactl" ref="ad397cf8e319601fa2af9db561af49b96" args="(struct obd_device *unused, struct obd_export *exp, struct obd_quotactl *oqctl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_quotactl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>unused</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__quotactl.html">obd_quotactl</a> *&nbsp;</td>
          <td class="paramname"> <em>oqctl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__quota_8c_source.html#l00248">248</a> of file <a class="el" href="osc__quota_8c_source.html">osc_quota.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="packet-lustre_8c_source.html#l00078">LUSTRE_OST_VERSION</a>, <a class="el" href="packet-lustre_8c_source.html#l00182">OST_QUOTACTL</a>, <a class="el" href="client_8c_source.html#l00293">ptlrpc_at_set_req_timeout()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00943">RMF_OBD_QUOTACTL</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_resend</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, and <a class="el" href="layout_8c_source.html#l01323">RQF_OST_QUOTACTL</a>.</p>

</div>
</div>
<a class="anchor" id="afb69d39b4c1886726a12b19fa6dbf15b"></a><!-- doxytag: member="osc_internal.h::osc_recoverable_error" ref="afb69d39b4c1886726a12b19fa6dbf15b" args="(int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_recoverable_error </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00160">160</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="aaaf0b04104be5c6a1fdc895320de3672"></a><!-- doxytag: member="osc_internal.h::osc_setattr_async" ref="aaaf0b04104be5c6a1fdc895320de3672" args="(struct obd_export *exp, struct obdo *oa, obd_enqueue_update_f upcall, void *cookie, struct ptlrpc_request_set *rqset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_setattr_async </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobdo.html">obdo</a> *&nbsp;</td>
          <td class="paramname"> <em>oa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd_8h.html#a66d7b2a62168416c332d67cac492ee06">obd_enqueue_update_f</a>&nbsp;</td>
          <td class="paramname"> <em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rqset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00231">231</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="packet-lustre_8c_source.html#l00078">LUSTRE_OST_VERSION</a>, <a class="el" href="osc__request_8c_source.html#l00116">osc_pack_req_body()</a>, <a class="el" href="osc__request_8c_source.html#l00210">osc_setattr_interpret()</a>, <a class="el" href="packet-lustre_8c_source.html#l00165">OST_SETATTR</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="client_8c_source.html#l01050">ptlrpc_set_add_req()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="osc__request_8c_source.html#l02043">PTLRPCD_SET</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01618">RQF_OST_SETATTR</a>, <a class="el" href="osc__request_8c_source.html#l00084">osc_setattr_args::sa_cookie</a>, <a class="el" href="osc__request_8c_source.html#l00082">osc_setattr_args::sa_oa</a>, and <a class="el" href="osc__request_8c_source.html#l00083">osc_setattr_args::sa_upcall</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5abce3f88c14488cd26fd0e8d2810a0"></a><!-- doxytag: member="osc_internal.h::osc_setup" ref="ab5abce3f88c14488cd26fd0e8d2810a0" args="(struct obd_device *obd, struct lustre_cfg *lcfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l02738">2738</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="osc__request_8c_source.html#l02728">brw_queue_work()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00206">client_obd::cl_grant_shrink_interval</a>, <a class="el" href="obd_8h_source.html#l00205">client_obd::cl_grant_shrink_list</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00328">client_obd::cl_lru_work</a>, <a class="el" href="obd_8h_source.html#l00245">client_obd::cl_max_rpcs_in_flight</a>, <a class="el" href="obd_8h_source.html#l00286">client_obd::cl_shrink_list</a>, <a class="el" href="obd_8h_source.html#l00327">client_obd::cl_writeback_work</a>, <a class="el" href="genops_8c_source.html#l00103">class_search_type()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="ldlm__lib_8c_source.html#l00504">client_obd_cleanup()</a>, <a class="el" href="ldlm__lib_8c_source.html#l00261">client_obd_setup()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="obd__support_8h_source.html#l00157">GRANT_SHRINK_INTERVAL</a>, <a class="el" href="rename__many_8c_source.html#l00079">handler()</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="osc__internal_8h_source.html#l00155">lproc_osc_attach_seqstat()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00957">lprocfs_obd_setup()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00949">lprocfs_register()</a>, <a class="el" href="osc__page_8c_source.html#l00521">lru_queue_work()</a>, <a class="el" href="obd_8h_source.html#l00453">LUSTRE_OSP_NAME</a>, <a class="el" href="lustre__dlm_8h_source.html#l00559">ns_register_cancel()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="obd_8h_source.html#l00712">obd_device::obd_proc_entry</a>, <a class="el" href="obd_8h_source.html#l00716">obd_device::obd_vars</a>, <a class="el" href="osc__request_8c_source.html#l02715">osc_cancel_weight()</a>, <a class="el" href="osc__request_8c_source.html#l00059">osc_pool_req_count</a>, <a class="el" href="osc__quota_8c_source.html#l00207">osc_quota_setup()</a>, <a class="el" href="osc__request_8c_source.html#l00060">osc_reqpool_maxreqcount</a>, <a class="el" href="osc__request_8c_source.html#l02940">osc_shrink_list</a>, <a class="el" href="osc__internal_8h.html#a6b7e64f1fbdfc9ae9ec34c5d6d2a5a8a">osc_shrink_lock</a>, <a class="el" href="client_8c_source.html#l00533">ptlrpc_add_rqs_to_pool()</a>, <a class="el" href="lustre__net_8h_source.html#l02660">ptlrpc_lprocfs_register_obd()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00955">ptlrpcd_addref()</a>, <a class="el" href="client_8c_source.html#l03315">ptlrpcd_alloc_work()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00971">ptlrpcd_decref()</a>, <a class="el" href="client_8c_source.html#l03353">ptlrpcd_destroy_work()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="sec__lproc_8c_source.html#l00145">sptlrpc_lprocfs_cliobd_attach()</a>, <a class="el" href="obd_8h_source.html#l00109">obd_type::typ_procsym</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="osc__dev_8c_source.html#l00200">osc_device_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ba02232e65b9ab6f3f3bf9df37f680f"></a><!-- doxytag: member="osc_internal.h::osc_shrink_grant_to_target" ref="a0ba02232e65b9ab6f3f3bf9df37f680f" args="(struct client_obd *cli, __u64 target_bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_shrink_grant_to_target </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>target_bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00804">804</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="osc__request_8c_source.html#l00732">__osc_update_grant()</a>, <a class="el" href="obd_8h_source.html#l00193">client_obd::cl_avail_grant</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="obd_8h_source.html#l00745">KEY_GRANT_SHRINK</a>, <a class="el" href="lustre__idl_8h_source.html#l03398">obdo::o_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03391">obdo::o_grant</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l03486">ost_body::oa</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01441">OBD_FL_SHRINK_GRANT</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01667">OBD_MD_FLFLAGS</a>, <a class="el" href="obd_8h_source.html#l00655">obd_device::obd_self_export</a>, <a class="el" href="osc__request_8c_source.html#l00663">osc_announce_cached()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l00724">osc_update_next_shrink()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l00791">osc_shrink_grant()</a>.</p>

</div>
</div>
<a class="anchor" id="a3da20799a254179d8c1757fb1a491490"></a><!-- doxytag: member="osc_internal.h::osc_sync_base" ref="a3da20799a254179d8c1757fb1a491490" args="(struct osc_object *obj, struct obdo *oa, obd_enqueue_update_f upcall, void *cookie, struct ptlrpc_request_set *rqset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_sync_base </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobdo.html">obdo</a> *&nbsp;</td>
          <td class="paramname"> <em>oa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd_8h.html#a66d7b2a62168416c332d67cac492ee06">obd_enqueue_update_f</a>&nbsp;</td>
          <td class="paramname"> <em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rqset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00498">498</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osc__request_8c_source.html#l00091">osc_fsync_args::fa_cookie</a>, <a class="el" href="osc__request_8c_source.html#l00089">osc_fsync_args::fa_oa</a>, <a class="el" href="osc__request_8c_source.html#l00088">osc_fsync_args::fa_obj</a>, <a class="el" href="osc__request_8c_source.html#l00090">osc_fsync_args::fa_upcall</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00078">LUSTRE_OST_VERSION</a>, <a class="el" href="lustre__obdo_8h_source.html#l00048">lustre_set_wire_obdo()</a>, <a class="el" href="lustre__idl_8h_source.html#l03486">ost_body::oa</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__request_8c_source.html#l00459">osc_sync_interpret()</a>, <a class="el" href="packet-lustre_8c_source.html#l00179">OST_SYNC</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="client_8c_source.html#l01050">ptlrpc_set_add_req()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="osc__request_8c_source.html#l02043">PTLRPCD_SET</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01105">RMF_OST_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01630">RQF_OST_SYNC</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00754">osc_fsync_ost()</a>.</p>

</div>
</div>
<a class="anchor" id="ae781f70fd0834571ed12450b9e80e056"></a><!-- doxytag: member="osc_internal.h::osc_update_next_shrink" ref="ae781f70fd0834571ed12450b9e80e056" args="(struct client_obd *cli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_update_next_shrink </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00724">724</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="obd_8h_source.html#l00206">client_obd::cl_grant_shrink_interval</a>, <a class="el" href="obd_8h_source.html#l00204">client_obd::cl_next_shrink_grant</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l00884">osc_add_shrink_grant()</a>, <a class="el" href="osc__cache_8c_source.html#l01376">osc_consume_write_grant()</a>, <a class="el" href="osc__request_8c_source.html#l00849">osc_should_shrink_grant()</a>, <a class="el" href="osc__request_8c_source.html#l00773">osc_shrink_grant_local()</a>, and <a class="el" href="osc__request_8c_source.html#l00804">osc_shrink_grant_to_target()</a>.</p>

</div>
</div>
<a class="anchor" id="a254c83164c149952783ddfd4cce71966"></a><!-- doxytag: member="osc_internal.h::rpcs_in_flight" ref="a254c83164c149952783ddfd4cce71966" args="(struct client_obd *cli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long rpcs_in_flight </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__internal_8h_source.html#l00166">166</a> of file <a class="el" href="osc__internal_8h_source.html">osc_internal.h</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00239">client_obd::cl_r_in_flight</a>, and <a class="el" href="obd_8h_source.html#l00240">client_obd::cl_w_in_flight</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, and <a class="el" href="osc__cache_8c_source.html#l01695">osc_max_rpc_in_flight()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a40433657b0d5e1348f12083791abfa95"></a><!-- doxytag: member="osc_internal.h::osc_pool_req_count" ref="a40433657b0d5e1348f12083791abfa95" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t <a class="el" href="osc__request_8c.html#a40433657b0d5e1348f12083791abfa95">osc_pool_req_count</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00059">59</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>, and <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="aeeaa8bc80f7b5d1079c7ed29fc995a30"></a><!-- doxytag: member="osc_internal.h::osc_reqpool_maxreqcount" ref="aeeaa8bc80f7b5d1079c7ed29fc995a30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="osc__request_8c.html#aeeaa8bc80f7b5d1079c7ed29fc995a30">osc_reqpool_maxreqcount</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00060">60</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>, and <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a9ec91111565b812522a60e72faacebf7"></a><!-- doxytag: member="osc_internal.h::osc_rq_pool" ref="a9ec91111565b812522a60e72faacebf7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a>* <a class="el" href="osc__request_8c.html#a9ec91111565b812522a60e72faacebf7">osc_rq_pool</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l00061">61</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4520307af53ff804c0158fa8a7fa392c"></a><!-- doxytag: member="osc_internal.h::osc_shrink_list" ref="a4520307af53ff804c0158fa8a7fa392c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="osc__request_8c.html#a4520307af53ff804c0158fa8a7fa392c">osc_shrink_list</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>osc shrink list to link all osc client obd </p>

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l02940">2940</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l01134">osc_cache_shrink_count()</a>, <a class="el" href="osc__page_8c_source.html#l01161">osc_cache_shrink_scan()</a>, and <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b7e64f1fbdfc9ae9ec34c5d6d2a5a8a"></a><!-- doxytag: member="osc_internal.h::osc_shrink_lock" ref="a6b7e64f1fbdfc9ae9ec34c5d6d2a5a8a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t <a class="el" href="osc__internal_8h.html#a6b7e64f1fbdfc9ae9ec34c5d6d2a5a8a">osc_shrink_lock</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>spin lock to protect osc_shrink_list </p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l01134">osc_cache_shrink_count()</a>, <a class="el" href="osc__page_8c_source.html#l01161">osc_cache_shrink_scan()</a>, <a class="el" href="osc__request_8c_source.html#l02874">osc_cleanup()</a>, and <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="aa45a2aadf67d5ff2d284201e7e354b52"></a><!-- doxytag: member="osc_internal.h::PTLRPCD_SET" ref="aa45a2aadf67d5ff2d284201e7e354b52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a>* <a class="el" href="osc__request_8c.html#aa45a2aadf67d5ff2d284201e7e354b52">PTLRPCD_SET</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__request_8c_source.html#l02043">2043</a> of file <a class="el" href="osc__request_8c_source.html">osc_request.c</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00754">osc_fsync_ost()</a>, <a class="el" href="osc__io_8c_source.html#l00843">osc_io_ladvise_start()</a>, <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>, and <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
