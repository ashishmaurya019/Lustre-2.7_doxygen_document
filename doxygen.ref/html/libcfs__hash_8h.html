<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: libcfs/include/libcfs/libcfs_hash.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>libcfs/include/libcfs/libcfs_hash.h File Reference</h1><code>#include &lt;linux/hash.h&gt;</code><br/>

<p><a href="libcfs__hash_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">union &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="structcfs__hash__bucket.html" title="cfs_hash_bucket is a container of:lock, counter .">cfs_hash_bucket</a> is a container of:</p>
<ul>
<li>lock, counter . </li>
</ul>
 <a href="structcfs__hash__bucket.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> bucket descriptor, it's normally in stack of caller  <a href="structcfs__hash__bd.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash.html">cfs_hash</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> is a hash-table implementation for general purpose, it can support: <a href="structcfs__hash.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__hlist__ops.html">cfs_hash_hlist_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a6e398883ad7891b44a67dba92b283718">CFS_GOLDEN_RATIO_PRIME_32</a>&nbsp;&nbsp;&nbsp;0x9e370001UL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aba3ba1be810dc1d3ee66edfde73c2774">CFS_GOLDEN_RATIO_PRIME_64</a>&nbsp;&nbsp;&nbsp;0x9e37fffffffc0001ULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ac07d810501020830bf67b939838e9300">CFS_HASH_DEBUG_NONE</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">disable debug  <a href="#ac07d810501020830bf67b939838e9300"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#af5da3ee798fdfe52c4f5b97887e2b108">CFS_HASH_DEBUG_1</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">record hash depth and output to console when it's too deep, computing overhead is low but consume more memory  <a href="#af5da3ee798fdfe52c4f5b97887e2b108"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a67c84fa4ee76a1ddf20401bb01455c77">CFS_HASH_DEBUG_2</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">expensive, check key validation  <a href="#a67c84fa4ee76a1ddf20401bb01455c77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a1acd7b9705ce2dd2a4154ca884e00093">CFS_HASH_DEBUG_LEVEL</a>&nbsp;&nbsp;&nbsp;CFS_HASH_DEBUG_NONE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a83c977a9c3ddeff3fd6c481c5cc401ed">CFS_HASH_NAME_LEN</a>&nbsp;&nbsp;&nbsp;16</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">default name length  <a href="#a83c977a9c3ddeff3fd6c481c5cc401ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a0179855e327d872580069be93fc9bf70">CFS_HASH_BIGNAME_LEN</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">bigname for param tree  <a href="#a0179855e327d872580069be93fc9bf70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a57cd54c344b0f93fef1f05ea6c035998">CFS_HASH_BKT_BITS</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">default bits of bucket  <a href="#a57cd54c344b0f93fef1f05ea6c035998"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ae03b6242e9a6c8e60ce345e1e24028d7">CFS_HASH_BITS_MAX</a>&nbsp;&nbsp;&nbsp;30</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">max bits of bucket  <a href="#ae03b6242e9a6c8e60ce345e1e24028d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ac63e60273587b83e9ac04898cbe905fc">CFS_HASH_BITS_MIN</a>&nbsp;&nbsp;&nbsp;CFS_HASH_BKT_BITS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a68014ed0d9f2f03b2ea65e43967dc88b">CFS_HASH_DEFAULT</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">most used attributes  <a href="#a68014ed0d9f2f03b2ea65e43967dc88b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a21616d175fa191b35028b6e3e7e6b9ff">CFS_HASH_NBKT</a>(hs)&nbsp;&nbsp;&nbsp;(1U &lt;&lt; ((hs)-&gt;hs_cur_bits - (hs)-&gt;hs_bkt_bits))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">total number of buckets in   <a href="#a21616d175fa191b35028b6e3e7e6b9ff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a7376876e74e08230f72b397f9c8799ce">CFS_HASH_RH_NBKT</a>(hs)&nbsp;&nbsp;&nbsp;(1U &lt;&lt; ((hs)-&gt;hs_rehash_bits - (hs)-&gt;hs_bkt_bits))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">total number of buckets in  while rehashing  <a href="#a7376876e74e08230f72b397f9c8799ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a634367fadc5636ffa525a6c06ca22b8b">CFS_HASH_BKT_NHLIST</a>(hs)&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (hs)-&gt;hs_bkt_bits)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of hlist for in bucket  <a href="#a634367fadc5636ffa525a6c06ca22b8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ae11f5f152572880c9f55afc835c46718">CFS_HASH_NHLIST</a>(hs)&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (hs)-&gt;hs_cur_bits)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">total number of hlist in   <a href="#ae11f5f152572880c9f55afc835c46718"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a6c0273f3e1f2fcc8aa2a4f702194efd2">CFS_HASH_RH_NHLIST</a>(hs)&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (hs)-&gt;hs_rehash_bits)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">total number of hlist in  while rehashing  <a href="#a6c0273f3e1f2fcc8aa2a4f702194efd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a8f2842755de38b1d1eaebfac592eaab1">CFS_HASH_LOOP_HOG</a>&nbsp;&nbsp;&nbsp;1024</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ae59fd6659d50af247fd6dc67bbe61020">CFS_HASH_THETA_BITS</a>&nbsp;&nbsp;&nbsp;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a2c3ce7b72b12720a577cf7706505d73b">CFS_HASH_MIN_THETA</a>&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (CFS_HASH_THETA_BITS - 1))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#add0e3c18f8ccacb3a4eb94a4fe753d7d">CFS_HASH_MAX_THETA</a>&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (CFS_HASH_THETA_BITS + 1))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a0eec130a2f9a408237057eb76233191c">cfs_hash_for_each_bd</a>(bds, n, i)&nbsp;&nbsp;&nbsp;for (i = 0; i &lt; n &amp;&amp; (bds)[i].bd_bucket != NULL; i++)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">iterate over all buckets in  (array of struct <a class="el" href="structcfs__hash__bd.html" title="cfs_hash bucket descriptor, it&#39;s normally in stack of caller">cfs_hash_bd</a>)  <a href="#a0eec130a2f9a408237057eb76233191c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a351294473bed384a2a65a42d2108332e">cfs_hash_for_each_bucket</a>(hs, bd, pos)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">iterate over all buckets of   <a href="#a351294473bed384a2a65a42d2108332e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a94ab89e8df894d98c9ac00e63213e852">cfs_hash_bd_for_each_hlist</a>(hs, bd, hlist)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">iterate over all hlist of bucket   <a href="#a94ab89e8df894d98c9ac00e63213e852"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a> )(struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *node, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ae067a1c5ff5f7ec118ed9fa0b438d091">cfs_hash_cond_opt_cb_t</a> )(void *obj, void *data)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638da">cfs_hash_tag</a> { <br/>
&nbsp;&nbsp;<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daa5d8e3156b7ab78491bbf659db2973c91">CFS_HASH_NO_LOCK</a> =  1 &lt;&lt; 0, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daa740daefb9119623f8d81fb562af8dcd4">CFS_HASH_NO_BKTLOCK</a> =  1 &lt;&lt; 1, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daac4570f28dfa6d6b9e8b446cadc6dda8a">CFS_HASH_RW_BKTLOCK</a> =  1 &lt;&lt; 2, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daa4d0dc57b5df26902ea7afb4db75260c1">CFS_HASH_SPIN_BKTLOCK</a> =  1 &lt;&lt; 3, 
<br/>
&nbsp;&nbsp;<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daaff5d6844544c7c3d4e0127bd95d41b98">CFS_HASH_ADD_TAIL</a> =  1 &lt;&lt; 4, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daaa20af5224c359575af714be3a479199a">CFS_HASH_NO_ITEMREF</a> =  1 &lt;&lt; 5, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daad55b601b56e99ba6abf5f57de557c671">CFS_HASH_BIGNAME</a> =  1 &lt;&lt; 6, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daa5b58925033341dcb6eb1db047641d1ab">CFS_HASH_COUNTER</a> =  1 &lt;&lt; 7, 
<br/>
&nbsp;&nbsp;<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daab9bdef72e16e9ee9adb10885ec267faa">CFS_HASH_REHASH_KEY</a> =  1 &lt;&lt; 8, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daa14479c83f146677d265c471bf919537f">CFS_HASH_REHASH</a> =  1 &lt;&lt; 9, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daa6f141e6d6cce3d3ef73c653df065e6cc">CFS_HASH_SHRINK</a> =  1 &lt;&lt; 10, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daa9ada6c80ef52087617e40801226f5536">CFS_HASH_ASSERT_EMPTY</a> =  1 &lt;&lt; 11, 
<br/>
&nbsp;&nbsp;<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daaf0f8c686022a673a04d499f22583cdc5">CFS_HASH_DEPTH</a> =  1 &lt;&lt; 12, 
<a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daacbd3fb62a09920f6c5e21db04999da3c">CFS_HASH_NBLK_CHANGE</a> =  1 &lt;&lt; 13
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>common hash attributes. </p>
 <a href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638da">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a4c1861a6230d3695fec196b09effb95a">cfs_hash_with_no_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a44598852e76126211cfacf97fcbfa62d">cfs_hash_with_no_bktlock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a72cd02f97c180016222f0573f4da0510">cfs_hash_with_rw_bktlock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a61a95ba5e24ceccd46a8c53492b359be">cfs_hash_with_spin_bktlock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aaeec53b819cd1edaff35cb022ccfb3ef">cfs_hash_with_add_tail</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a7f0ad5a879edbc2743c94ebb16c80a64">cfs_hash_with_no_itemref</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a95352b6086234bfc0a4eb0a7e137c062">cfs_hash_with_bigname</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a455ef78c67457e0ed8712882d9a274cc">cfs_hash_with_counter</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#abc89189c4f2f0b73b3274bbf4e9c095f">cfs_hash_with_rehash</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aa66470abdbbca99116c52ec9328fbfae">cfs_hash_with_rehash_key</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ad8de77233428631d054936b0005e66b4">cfs_hash_with_shrink</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a72c425b330683c14e4272778edaebce3">cfs_hash_with_assert_empty</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a3532c64bdcbb6e014c6d8e45ee8f0f52">cfs_hash_with_depth</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a22715b20bb86f1f841990568f0782f4e">cfs_hash_with_nblk_change</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ab541928c1c9be224abcfc2df0979ad03">cfs_hash_is_exiting</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ae3c4fadb77a6470d8157dc4e29500387">cfs_hash_is_rehashing</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a696239208141c3ddcf67ed3185ed6735">cfs_hash_is_iterating</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a6df6c3f3d5ad70fc75b0b6a1eb694e6d">cfs_hash_bkt_size</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aec3d87bfb99f3dfc38d6c33c8fea6062">cfs_hash_id</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, unsigned mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a1f83a814291eddcaa16a9f942e5b7003">cfs_hash_key</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aa2da7360fd3e215411d0cca4f1ed73a3">cfs_hash_keycpy</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ac54a57c9c10143988d3035f986ce2909">cfs_hash_keycmp</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 1 on a match,.  <a href="#ac54a57c9c10143988d3035f986ce2909"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a5087718522e8f0cfe2280a6bc1ad7a36">cfs_hash_object</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a23baa6dbe7b636b913451d44c7579dc4">cfs_hash_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a93ed10f014c01a5816c5384a208fd1ea">cfs_hash_put_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aa26b03f44cb617e6c642613453fefcbd">cfs_hash_put</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aca3c783e520dbd7fee65c1bea9bc395f">cfs_hash_exit</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a2aab571881de0ee3d53f0424a4463b6c">cfs_hash_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#abe28f72edafde43614f72fd8091c97e8">cfs_hash_unlock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a578378256820b614712b004c5057b15e">cfs_hash_dec_and_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, atomic_t *condition)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a73d8b0c043b8df46937d717bdf55e400">cfs_hash_bd_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ad7e2e963f92010d43ac98dd1b45b932e">cfs_hash_bd_unlock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ab49ef4d8b2fd1b890c12e346076c8708">cfs_hash_bd_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">operations on <a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> bucket (bd: bucket descriptor), they are normally for hash-table without rehash  <a href="#ab49ef4d8b2fd1b890c12e346076c8708"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a889f7eb2fbb03eac4e4467bc5624595a">cfs_hash_bd_get_and_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ac1f1fdbdd3e83c483e335646a9385ff8">cfs_hash_bd_index_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ab5eea5970b22a29b4c3dd734bb449569">cfs_hash_bd_index_set</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, unsigned index, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a8c90e2743ebc32b0745f9849f96527e1">cfs_hash_bd_extra_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static __u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a14eb32ca7f134978c0a14926abf51ca0">cfs_hash_bd_version_get</a> (struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static __u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#adaac5e5920f810485d40bd76dc030446">cfs_hash_bd_count_get</a> (struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ab625317d6dee78e5899364b32a87eb55">cfs_hash_bd_depmax_get</a> (struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#abe0ea73f8c1ba959c8e75a755ed25f1e">cfs_hash_bd_compare</a> (struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd1, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a57fd5b5de61b99b5495702d56412922f">cfs_hash_bd_add_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aa406194af50e72d789650113d4ef5543">cfs_hash_bd_del_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a7c04dc300c14ceae6ce4b69c0c2ad6a5">cfs_hash_bd_move_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd_old, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd_new, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a332fc5691f3ad2bfae6a1e4a898dd4df">cfs_hash_bd_dec_and_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, atomic_t *condition)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__head.html">hlist_head</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a280e712906e46336f01993f75aca9b09">cfs_hash_bd_hhead</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a4733470a584e7a9c2e1bfed2cf118202">cfs_hash_bd_lookup_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, const void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a59e87159906b48387505a24e623e1482">cfs_hash_bd_peek_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, const void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a47f2aadc7e76bb65253d4b700edb0377">cfs_hash_bd_findadd_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, int insist_add)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aece0d1c42eac70a04ed11029d0eefb43">cfs_hash_bd_finddel_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aa7a09ec42ba99ae42eb00726d49713f9">cfs_hash_dual_bd_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">operations on <a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> bucket (bd: bucket descriptor), they are safe for hash-table with rehash  <a href="#aa7a09ec42ba99ae42eb00726d49713f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a483b5dce37e2f0210aed1537aa96044c">cfs_hash_dual_bd_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a887d858f4122419101c382deafce322d">cfs_hash_dual_bd_unlock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aeecdcf64ddc0be2a312cdc5ea21e82d2">cfs_hash_dual_bd_get_and_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a007d325e7cbaa2e73aa658405878a328">cfs_hash_dual_bd_lookup_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, const void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ac2ec0e8afc9527f787a43a04a768af60">cfs_hash_dual_bd_findadd_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, int insist_add)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#af3f19dce78283041d70420359b2e4125">cfs_hash_dual_bd_finddel_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ac9cb7b7e72de26117281d8844ac80c61">cfs_hash_create</a> (char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, unsigned cur_bits, unsigned max_bits, unsigned bkt_bits, unsigned extra_bytes, unsigned min_theta, unsigned max_theta, struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a> *ops, unsigned flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a911b0cdf3c5eb118a068657ea3f5361d">cfs_hash_getref</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a2e4028cb849fd08c386ca9e72da3d720">cfs_hash_putref</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a4c3552d7ca8aac343e6b257197cd0170">cfs_hash_add</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add item  to libcfs hash  using .  <a href="#a4c3552d7ca8aac343e6b257197cd0170"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a4be9049de769cd2632a3941b4517c26f">cfs_hash_add_unique</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add item  to libcfs hash  using .  <a href="#a4be9049de769cd2632a3941b4517c26f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a3971c1ab71095c51183005c429e1e19c">cfs_hash_findadd_unique</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add item  to libcfs hash  using .  <a href="#a3971c1ab71095c51183005c429e1e19c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aae06334dd2f9136524fe92c7ddfdcdd0">cfs_hash_del</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete item  from the libcfs hash  using .  <a href="#aae06334dd2f9136524fe92c7ddfdcdd0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a076b3fecfda52c19b151c57c16f7414a">cfs_hash_del_key</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete item given  in libcfs hash .  <a href="#a076b3fecfda52c19b151c57c16f7414a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a8e2a5b89d520bf4a2d61a615d2b4db59">cfs_hash_lookup</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup an item using  in the libcfs hash  and return it.  <a href="#a8e2a5b89d520bf4a2d61a615d2b4db59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#acf28087eedf4a15b2129894920690349">cfs_hash_for_each</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a88202d3dec5ad7ee11705c6a6574d840">cfs_hash_for_each_safe</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ae3ee940fb33702700bbbc6874558411e">cfs_hash_for_each_nolock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>, void *data, int <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ae469569d00483aed0d99d122bfbf3b29">cfs_hash_for_each_empty</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For each hash bucket in the libcfs hash  call the passed callback  until all the hash buckets are empty.  <a href="#ae469569d00483aed0d99d122bfbf3b29"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#afb941ac4dbb23c46c85a5bc69887cf9c">cfs_hash_for_each_key</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a047c411e8a562e1eedd76522b02d4b29">cfs_hash_cond_del</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#ae067a1c5ff5f7ec118ed9fa0b438d091">cfs_hash_cond_opt_cb_t</a>, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete item from the libcfs hash  when  return true.  <a href="#a047c411e8a562e1eedd76522b02d4b29"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#acf0061bbbb532c284cef3c46f82c31e8">cfs_hash_hlist_for_each</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, unsigned hindex, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#af591c6ad2b9de437584348a42c0bfb45">cfs_hash_is_empty</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#af52de8ab3e05033cdddecf1d5d33534d">cfs_hash_size_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#ae9b61ff0c4fb91626990e5884fd9800e">cfs_hash_rehash_cancel_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rehash the libcfs hash  to the given .  <a href="#ae9b61ff0c4fb91626990e5884fd9800e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#af74115d94e7198ba300b1e380c2419e6">cfs_hash_rehash_cancel</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a80d843e062c8f2d6812696a028cfb2db">cfs_hash_rehash</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, int do_rehash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a32df2bf8d0c966f41fa6ffbe0649b511">cfs_hash_rehash_key</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *old_key, void *new_key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rehash the object referenced by  in the libcfs hash .  <a href="#a32df2bf8d0c966f41fa6ffbe0649b511"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a7d09e8f478777c3f8b6dfae0cfb0fa09">cfs_hash_key_validate</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a2128db00defb2348974d300d84d7fc96">cfs_hash_bucket_validate</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a63e216ebf74420f89a98ba2ff113cb1e">__cfs_hash_theta_int</a> (int theta)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a5fadc92e2bdd3984e19cfa7008544714">__cfs_hash_theta_frac</a> (int theta)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a0f731ea553ac829e9ce2cecdeac879f7">__cfs_hash_theta</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a126ab8132f06a3f324230ace77f748ca">__cfs_hash_set_theta</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, int min, int <a class="el" href="lnet_2utils_2debug_8c.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#aedabce721eb11143239e7c7b391bb9e9">cfs_hash_debug_header</a> (struct seq_file *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a96e755f9e1778c7d9461d6a0271017fd">cfs_hash_debug_str</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct seq_file *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a913ea151171a4bad3abc7f12e2753c9a">cfs_hash_djb2_hash</a> (const void *key, size_t <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, unsigned mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#abe0d05ea4969cca49e722ce143c39732">cfs_hash_u32_hash</a> (const __u32 key, unsigned mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__hash_8h.html#a3eeea7a1184aa29e759249dccc5a5493">cfs_hash_u64_hash</a> (const <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> key, unsigned mask)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a6e398883ad7891b44a67dba92b283718"></a><!-- doxytag: member="libcfs_hash.h::CFS_GOLDEN_RATIO_PRIME_32" ref="a6e398883ad7891b44a67dba92b283718" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_GOLDEN_RATIO_PRIME_32&nbsp;&nbsp;&nbsp;0x9e370001UL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00058">58</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00829">cfs_hash_u32_hash()</a>.</p>

</div>
</div>
<a class="anchor" id="aba3ba1be810dc1d3ee66edfde73c2774"></a><!-- doxytag: member="libcfs_hash.h::CFS_GOLDEN_RATIO_PRIME_64" ref="aba3ba1be810dc1d3ee66edfde73c2774" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_GOLDEN_RATIO_PRIME_64&nbsp;&nbsp;&nbsp;0x9e37fffffffc0001ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00060">60</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00838">cfs_hash_u64_hash()</a>.</p>

</div>
</div>
<a class="anchor" id="a94ab89e8df894d98c9ac00e63213e852"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_for_each_hlist" ref="a94ab89e8df894d98c9ac00e63213e852" args="(hs, bd, hlist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cfs_hash_bd_for_each_hlist</td>
          <td>(</td>
          <td class="paramtype">hs, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hlist&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">for</span> ((bd)-&gt;bd_offset = 0;                               \
             (bd)-&gt;bd_offset &lt; <a class="code" href="libcfs__hash_8h.html#a634367fadc5636ffa525a6c06ca22b8b" title="number of hlist for in bucket">CFS_HASH_BKT_NHLIST</a>(hs) &amp;&amp;       \
             (hlist = <a class="code" href="libcfs__hash_8h.html#a280e712906e46336f01993f75aca9b09">cfs_hash_bd_hhead</a>(hs, bd)) != NULL;       \
             (bd)-&gt;bd_offset++)
</pre></div>
<p>iterate over all hlist of bucket  </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00854">854</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01864">cfs_hash_rehash_bd()</a>, and <a class="el" href="lu__object_8c_source.html#l01937">lu_site_stats_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a0179855e327d872580069be93fc9bf70"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_BIGNAME_LEN" ref="a0179855e327d872580069be93fc9bf70" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_BIGNAME_LEN&nbsp;&nbsp;&nbsp;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>bigname for param tree </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00112">112</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, <a class="el" href="hash_8c_source.html#l02042">cfs_hash_debug_header()</a>, <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>, and <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="ae03b6242e9a6c8e60ce345e1e24028d7"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_BITS_MAX" ref="ae03b6242e9a6c8e60ce345e1e24028d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_BITS_MAX&nbsp;&nbsp;&nbsp;30</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>max bits of bucket </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00115">115</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac63e60273587b83e9ac04898cbe905fc"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_BITS_MIN" ref="ac63e60273587b83e9ac04898cbe905fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_BITS_MIN&nbsp;&nbsp;&nbsp;CFS_HASH_BKT_BITS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00116">116</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57cd54c344b0f93fef1f05ea6c035998"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_BKT_BITS" ref="a57cd54c344b0f93fef1f05ea6c035998" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_BKT_BITS&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>default bits of bucket </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00114">114</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a634367fadc5636ffa525a6c06ca22b8b"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_BKT_NHLIST" ref="a634367fadc5636ffa525a6c06ca22b8b" args="(hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_BKT_NHLIST</td>
          <td>(</td>
          <td class="paramtype">hs&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (hs)-&gt;hs_bkt_bits)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of hlist for in bucket </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00328">328</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00563">cfs_hash_bd_index_set()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00446">cfs_hash_bkt_size()</a>.</p>

</div>
</div>
<a class="anchor" id="af5da3ee798fdfe52c4f5b97887e2b108"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_DEBUG_1" ref="af5da3ee798fdfe52c4f5b97887e2b108" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_DEBUG_1&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>record hash depth and output to console when it's too deep, computing overhead is low but consume more memory </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00066">66</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a67c84fa4ee76a1ddf20401bb01455c77"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_DEBUG_2" ref="a67c84fa4ee76a1ddf20401bb01455c77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_DEBUG_2&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>expensive, check key validation </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00068">68</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1acd7b9705ce2dd2a4154ca884e00093"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_DEBUG_LEVEL" ref="a1acd7b9705ce2dd2a4154ca884e00093" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_DEBUG_LEVEL&nbsp;&nbsp;&nbsp;CFS_HASH_DEBUG_NONE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00070">70</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac07d810501020830bf67b939838e9300"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_DEBUG_NONE" ref="ac07d810501020830bf67b939838e9300" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_DEBUG_NONE&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>disable debug </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00063">63</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a68014ed0d9f2f03b2ea65e43967dc88b"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_DEFAULT" ref="a68014ed0d9f2f03b2ea65e43967dc88b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_DEFAULT</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">(<a class="code" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daac4570f28dfa6d6b9e8b446cadc6dda8a" title="rwlock to protect bucket">CFS_HASH_RW_BKTLOCK</a> | \
                                <a class="code" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daa5b58925033341dcb6eb1db047641d1ab" title="track global count">CFS_HASH_COUNTER</a> | <a class="code" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638daa14479c83f146677d265c471bf919537f" title="Enable dynamic hash resizing.">CFS_HASH_REHASH</a>)
</pre></div>
<p>most used attributes </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00165">165</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="obd__config_8c_source.html#l00445">class_setup()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02884">ldlm_init_export()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00936">ldlm_init_flock_export()</a>, <a class="el" href="lod__lov_8c_source.html#l01280">lod_pools_init()</a>, <a class="el" href="lov__obd_8c_source.html#l00782">lov_setup()</a>, <a class="el" href="lquota__entry_8c_source.html#l00198">lquota_site_alloc()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00174">nodemap_init_hash()</a>, <a class="el" href="osc__quota_8c_source.html#l00207">osc_quota_setup()</a>, <a class="el" href="connection_8c_source.html#l00140">ptlrpc_connection_init()</a>, and <a class="el" href="qmt__pool_8c_source.html#l00434">qmt_pool_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a0eec130a2f9a408237057eb76233191c"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_for_each_bd" ref="a0eec130a2f9a408237057eb76233191c" args="(bds, n, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cfs_hash_for_each_bd</td>
          <td>(</td>
          <td class="paramtype">bds, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;for (i = 0; i &lt; n &amp;&amp; (bds)[i].bd_bucket != NULL; i++)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>iterate over all buckets in  (array of struct <a class="el" href="structcfs__hash__bd.html" title="cfs_hash bucket descriptor, it&#39;s normally in stack of caller">cfs_hash_bd</a>) </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00844">844</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01758">cfs_hash_for_each_key()</a>, <a class="el" href="hash_8c_source.html#l00739">cfs_hash_multi_bd_findadd_locked()</a>, <a class="el" href="hash_8c_source.html#l00770">cfs_hash_multi_bd_finddel_locked()</a>, <a class="el" href="hash_8c_source.html#l00685">cfs_hash_multi_bd_lock()</a>, <a class="el" href="hash_8c_source.html#l00723">cfs_hash_multi_bd_lookup_locked()</a>, and <a class="el" href="hash_8c_source.html#l00708">cfs_hash_multi_bd_unlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a351294473bed384a2a65a42d2108332e"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_for_each_bucket" ref="a351294473bed384a2a65a42d2108332e" args="(hs, bd, pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cfs_hash_for_each_bucket</td>
          <td>(</td>
          <td class="paramtype">hs, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pos&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">for</span> (pos = 0;                                           \
             pos &lt; <a class="code" href="libcfs__hash_8h.html#a21616d175fa191b35028b6e3e7e6b9ff" title="total number of buckets in ">CFS_HASH_NBKT</a>(hs) &amp;&amp;                         \
             ((bd)-&gt;bd_bucket = (hs)-&gt;hs_buckets[pos]) != NULL; pos++)
</pre></div>
<p>iterate over all buckets of  </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00848">848</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, and <a class="el" href="lu__object_8c_source.html#l01937">lu_site_stats_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f2842755de38b1d1eaebfac592eaab1"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_LOOP_HOG" ref="a8f2842755de38b1d1eaebfac592eaab1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_LOOP_HOG&nbsp;&nbsp;&nbsp;1024</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00699">699</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01193">cfs_hash_rehash_inline()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="add0e3c18f8ccacb3a4eb94a4fe753d7d"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_MAX_THETA" ref="add0e3c18f8ccacb3a4eb94a4fe753d7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_MAX_THETA&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (CFS_HASH_THETA_BITS + 1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00775">775</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00726">cl_env_store_init()</a>, <a class="el" href="obd__config_8c_source.html#l00445">class_setup()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02884">ldlm_init_export()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00936">ldlm_init_flock_export()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="lod__lov_8c_source.html#l01280">lod_pools_init()</a>, <a class="el" href="lov__obd_8c_source.html#l00782">lov_setup()</a>, <a class="el" href="lquota__entry_8c_source.html#l00198">lquota_site_alloc()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00174">nodemap_init_hash()</a>, <a class="el" href="osc__quota_8c_source.html#l00207">osc_quota_setup()</a>, <a class="el" href="connection_8c_source.html#l00140">ptlrpc_connection_init()</a>, and <a class="el" href="qmt__pool_8c_source.html#l00434">qmt_pool_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a2c3ce7b72b12720a577cf7706505d73b"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_MIN_THETA" ref="a2c3ce7b72b12720a577cf7706505d73b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_MIN_THETA&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (CFS_HASH_THETA_BITS - 1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00774">774</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00726">cl_env_store_init()</a>, <a class="el" href="obd__config_8c_source.html#l00445">class_setup()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02884">ldlm_init_export()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00936">ldlm_init_flock_export()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="lod__lov_8c_source.html#l01280">lod_pools_init()</a>, <a class="el" href="lov__obd_8c_source.html#l00782">lov_setup()</a>, <a class="el" href="lquota__entry_8c_source.html#l00198">lquota_site_alloc()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00174">nodemap_init_hash()</a>, <a class="el" href="osc__quota_8c_source.html#l00207">osc_quota_setup()</a>, <a class="el" href="connection_8c_source.html#l00140">ptlrpc_connection_init()</a>, and <a class="el" href="qmt__pool_8c_source.html#l00434">qmt_pool_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a83c977a9c3ddeff3fd6c481c5cc401ed"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_NAME_LEN" ref="a83c977a9c3ddeff3fd6c481c5cc401ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_NAME_LEN&nbsp;&nbsp;&nbsp;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>default name length </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00111">111</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, and <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a21616d175fa191b35028b6e3e7e6b9ff"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_NBKT" ref="a21616d175fa191b35028b6e3e7e6b9ff" args="(hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_NBKT</td>
          <td>(</td>
          <td class="paramtype">hs&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(1U &lt;&lt; ((hs)-&gt;hs_cur_bits - (hs)-&gt;hs_bkt_bits))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>total number of buckets in  </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00320">320</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="hash_8c_source.html#l02062">cfs_hash_full_nbkt()</a>, <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00516">ldlm_res_hop_fid_hash()</a>, <a class="el" href="lu__object_8c_source.html#l00976">lu_obj_hop_hash()</a>, and <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>.</p>

</div>
</div>
<a class="anchor" id="ae11f5f152572880c9f55afc835c46718"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_NHLIST" ref="ae11f5f152572880c9f55afc835c46718" args="(hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_NHLIST</td>
          <td>(</td>
          <td class="paramtype">hs&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (hs)-&gt;hs_cur_bits)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>total number of hlist in  </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00331">331</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01723">cfs_hash_hlist_for_each()</a>, <a class="el" href="lu__object_8c_source.html#l02224">lu_site_stats_seq_print()</a>, and <a class="el" href="vvp__dev_8c_source.html#l00459">vvp_pgcache_find()</a>.</p>

</div>
</div>
<a class="anchor" id="a7376876e74e08230f72b397f9c8799ce"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_RH_NBKT" ref="a7376876e74e08230f72b397f9c8799ce" args="(hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_RH_NBKT</td>
          <td>(</td>
          <td class="paramtype">hs&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(1U &lt;&lt; ((hs)-&gt;hs_rehash_bits - (hs)-&gt;hs_bkt_bits))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>total number of buckets in  while rehashing </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00324">324</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l02062">cfs_hash_full_nbkt()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c0273f3e1f2fcc8aa2a4f702194efd2"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_RH_NHLIST" ref="a6c0273f3e1f2fcc8aa2a4f702194efd2" args="(hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_RH_NHLIST</td>
          <td>(</td>
          <td class="paramtype">hs&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(1U &lt;&lt; (hs)-&gt;hs_rehash_bits)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>total number of hlist in  while rehashing </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00334">334</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae59fd6659d50af247fd6dc67bbe61020"></a><!-- doxytag: member="libcfs_hash.h::CFS_HASH_THETA_BITS" ref="ae59fd6659d50af247fd6dc67bbe61020" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_HASH_THETA_BITS&nbsp;&nbsp;&nbsp;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00773">773</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00790">__cfs_hash_theta()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00784">__cfs_hash_theta_frac()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00778">__cfs_hash_theta_int()</a>, and <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ae067a1c5ff5f7ec118ed9fa0b438d091"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_cond_opt_cb_t" ref="ae067a1c5ff5f7ec118ed9fa0b438d091" args=")(void *obj, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="libcfs__hash_8h.html#ae067a1c5ff5f7ec118ed9fa0b438d091">cfs_hash_cond_opt_cb_t</a>)(void *obj, void *data)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00720">720</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5689f90a0e5839a04f09941582de1cac"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_for_each_cb_t" ref="a5689f90a0e5839a04f09941582de1cac" args=")(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *node, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>)(struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *node, void *data)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00701">701</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ab14b360fdfa395fb532139fd71d638da"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_tag" ref="ab14b360fdfa395fb532139fd71d638da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="libcfs__hash_8h.html#ab14b360fdfa395fb532139fd71d638da">cfs_hash_tag</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>common hash attributes. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daa5d8e3156b7ab78491bbf659db2973c91"></a><!-- doxytag: member="CFS_HASH_NO_LOCK" ref="ab14b360fdfa395fb532139fd71d638daa5d8e3156b7ab78491bbf659db2973c91" args="" -->CFS_HASH_NO_LOCK</em>&nbsp;</td><td>
<p>don't need any lock, caller will protect operations with it's own lock. </p>
<p>With this flag: . CFS_HASH_NO_BKTLOCK, CFS_HASH_RW_BKTLOCK, CFS_HASH_SPIN_BKTLOCK will be ignored. . Some functions will be disabled with this flag, i.e: cfs_hash_for_each_empty, cfs_hash_rehash </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daa740daefb9119623f8d81fb562af8dcd4"></a><!-- doxytag: member="CFS_HASH_NO_BKTLOCK" ref="ab14b360fdfa395fb532139fd71d638daa740daefb9119623f8d81fb562af8dcd4" args="" -->CFS_HASH_NO_BKTLOCK</em>&nbsp;</td><td>
<p>no bucket lock, use one spinlock to protect the whole hash </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daac4570f28dfa6d6b9e8b446cadc6dda8a"></a><!-- doxytag: member="CFS_HASH_RW_BKTLOCK" ref="ab14b360fdfa395fb532139fd71d638daac4570f28dfa6d6b9e8b446cadc6dda8a" args="" -->CFS_HASH_RW_BKTLOCK</em>&nbsp;</td><td>
<p>rwlock to protect bucket </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daa4d0dc57b5df26902ea7afb4db75260c1"></a><!-- doxytag: member="CFS_HASH_SPIN_BKTLOCK" ref="ab14b360fdfa395fb532139fd71d638daa4d0dc57b5df26902ea7afb4db75260c1" args="" -->CFS_HASH_SPIN_BKTLOCK</em>&nbsp;</td><td>
<p>spinlock to protect bucket </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daaff5d6844544c7c3d4e0127bd95d41b98"></a><!-- doxytag: member="CFS_HASH_ADD_TAIL" ref="ab14b360fdfa395fb532139fd71d638daaff5d6844544c7c3d4e0127bd95d41b98" args="" -->CFS_HASH_ADD_TAIL</em>&nbsp;</td><td>
<p>always add new item to tail </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daaa20af5224c359575af714be3a479199a"></a><!-- doxytag: member="CFS_HASH_NO_ITEMREF" ref="ab14b360fdfa395fb532139fd71d638daaa20af5224c359575af714be3a479199a" args="" -->CFS_HASH_NO_ITEMREF</em>&nbsp;</td><td>
<p>hash-table doesn't have refcount on item </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daad55b601b56e99ba6abf5f57de557c671"></a><!-- doxytag: member="CFS_HASH_BIGNAME" ref="ab14b360fdfa395fb532139fd71d638daad55b601b56e99ba6abf5f57de557c671" args="" -->CFS_HASH_BIGNAME</em>&nbsp;</td><td>
<p>big name for param-tree </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daa5b58925033341dcb6eb1db047641d1ab"></a><!-- doxytag: member="CFS_HASH_COUNTER" ref="ab14b360fdfa395fb532139fd71d638daa5b58925033341dcb6eb1db047641d1ab" args="" -->CFS_HASH_COUNTER</em>&nbsp;</td><td>
<p>track global count </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daab9bdef72e16e9ee9adb10885ec267faa"></a><!-- doxytag: member="CFS_HASH_REHASH_KEY" ref="ab14b360fdfa395fb532139fd71d638daab9bdef72e16e9ee9adb10885ec267faa" args="" -->CFS_HASH_REHASH_KEY</em>&nbsp;</td><td>
<p>rehash item by new key </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daa14479c83f146677d265c471bf919537f"></a><!-- doxytag: member="CFS_HASH_REHASH" ref="ab14b360fdfa395fb532139fd71d638daa14479c83f146677d265c471bf919537f" args="" -->CFS_HASH_REHASH</em>&nbsp;</td><td>
<p>Enable dynamic hash resizing. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daa6f141e6d6cce3d3ef73c653df065e6cc"></a><!-- doxytag: member="CFS_HASH_SHRINK" ref="ab14b360fdfa395fb532139fd71d638daa6f141e6d6cce3d3ef73c653df065e6cc" args="" -->CFS_HASH_SHRINK</em>&nbsp;</td><td>
<p>can shrink hash-size </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daa9ada6c80ef52087617e40801226f5536"></a><!-- doxytag: member="CFS_HASH_ASSERT_EMPTY" ref="ab14b360fdfa395fb532139fd71d638daa9ada6c80ef52087617e40801226f5536" args="" -->CFS_HASH_ASSERT_EMPTY</em>&nbsp;</td><td>
<p>assert hash is empty on exit </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daaf0f8c686022a673a04d499f22583cdc5"></a><!-- doxytag: member="CFS_HASH_DEPTH" ref="ab14b360fdfa395fb532139fd71d638daaf0f8c686022a673a04d499f22583cdc5" args="" -->CFS_HASH_DEPTH</em>&nbsp;</td><td>
<p>record hlist depth </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab14b360fdfa395fb532139fd71d638daacbd3fb62a09920f6c5e21db04999da3c"></a><!-- doxytag: member="CFS_HASH_NBLK_CHANGE" ref="ab14b360fdfa395fb532139fd71d638daacbd3fb62a09920f6c5e21db04999da3c" args="" -->CFS_HASH_NBLK_CHANGE</em>&nbsp;</td><td>
<p>rehash is always scheduled in a different thread, so current change on hash table is non-blocking </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00121">121</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a126ab8132f06a3f324230ace77f748ca"></a><!-- doxytag: member="libcfs_hash.h::__cfs_hash_set_theta" ref="a126ab8132f06a3f324230ace77f748ca" args="(struct cfs_hash *hs, int min, int max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __cfs_hash_set_theta </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00797">797</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00242">cfs_hash::hs_max_theta</a>, <a class="el" href="libcfs__hash_8h_source.html#l00240">cfs_hash::hs_min_theta</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f731ea553ac829e9ce2cecdeac879f7"></a><!-- doxytag: member="libcfs_hash.h::__cfs_hash_theta" ref="a0f731ea553ac829e9ce2cecdeac879f7" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cfs_hash_theta </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00790">790</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00773">CFS_HASH_THETA_BITS</a>, <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="a5fadc92e2bdd3984e19cfa7008544714"></a><!-- doxytag: member="libcfs_hash.h::__cfs_hash_theta_frac" ref="a5fadc92e2bdd3984e19cfa7008544714" args="(int theta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cfs_hash_theta_frac </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>theta</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00784">784</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00778">__cfs_hash_theta_int()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00773">CFS_HASH_THETA_BITS</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>.</p>

</div>
</div>
<a class="anchor" id="a63e216ebf74420f89a98ba2ff113cb1e"></a><!-- doxytag: member="libcfs_hash.h::__cfs_hash_theta_int" ref="a63e216ebf74420f89a98ba2ff113cb1e" args="(int theta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __cfs_hash_theta_int </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>theta</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00778">778</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00773">CFS_HASH_THETA_BITS</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00784">__cfs_hash_theta_frac()</a>, and <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c3552d7ca8aac343e6b257197cd0170"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_add" ref="a4c3552d7ca8aac343e6b257197cd0170" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add item  to libcfs hash  using . </p>
<p>The registered ops-&gt;hs_get function will be called when the item is added. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01204">1204</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00549">cfs_hash_bd_get_and_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00764">cfs_hash_key_validate()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="hash_8c_source.html#l01193">cfs_hash_rehash_inline()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="list_8h_source.html#l00318">hlist_unhashed()</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="ldlm__flock_8c_source.html#l00098">ldlm_flock_blocking_link()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00289">ldlm_process_flock_lock()</a>, and <a class="el" href="mdt__handler_8c_source.html#l03121">mdt_intent_lock_replace()</a>.</p>

</div>
</div>
<a class="anchor" id="a4be9049de769cd2632a3941b4517c26f"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_add_unique" ref="a4be9049de769cd2632a3941b4517c26f" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_add_unique </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add item  to libcfs hash  using . </p>
<p>The registered ops-&gt;hs_get function will be called if the item was added. Returns 0 on success or -EALREADY on key collisions. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01259">1259</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00702">cl_env_attach()</a>, <a class="el" href="genops_8c_source.html#l00836">class_new_export()</a>, <a class="el" href="lod__pool_8c_source.html#l00643">lod_pool_new()</a>, <a class="el" href="lov__pool_8c_source.html#l00433">lov_pool_new()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00772">nodemap_create()</a>, <a class="el" href="osc__quota_8c_source.html#l00074">osc_quota_setdq()</a>, <a class="el" href="qmt__pool_8c_source.html#l00235">qmt_pool_alloc()</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l01369">tgt_clients_data_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a57fd5b5de61b99b5495702d56412922f"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_add_locked" ref="a57fd5b5de61b99b5495702d56412922f" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_bd_add_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00529">529</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="hash_8c_source.html#l00506">cfs_hash_bd_dep_record()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00488">cfs_hash_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00386">cfs_hash_with_counter()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00371">cfs_hash_with_no_itemref()</a>, <a class="el" href="structcfs__hash__hlist__ops.html#a4395bdbd505057aeb99e1c81a02f4914">cfs_hash_hlist_ops::hop_hnode_add</a>, <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00216">cfs_hash::hs_hops</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00095">cfs_hash_bucket::hsb_version</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, <a class="el" href="hash_8c_source.html#l00739">cfs_hash_multi_bd_findadd_locked()</a>, <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="lu__object_8c_source.html#l02290">lu_object_assign_fid()</a>, <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>, and <a class="el" href="lu__object_8c_source.html#l00675">lu_object_new()</a>.</p>

</div>
</div>
<a class="anchor" id="abe0ea73f8c1ba959c8e75a755ed25f1e"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_compare" ref="abe0ea73f8c1ba959c8e75a755ed25f1e" args="(struct cfs_hash_bd *bd1, struct cfs_hash_bd *bd2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_bd_compare </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00598">598</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00096">cfs_hash_bucket::hsb_index</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00570">cfs_hash_bd_move_locked()</a>, and <a class="el" href="hash_8c_source.html#l00787">cfs_hash_bd_order()</a>.</p>

</div>
</div>
<a class="anchor" id="adaac5e5920f810485d40bd76dc030446"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_count_get" ref="adaac5e5920f810485d40bd76dc030446" args="(struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static __u32 cfs_hash_bd_count_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00585">585</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01267">__ldlm_resource_putref_final()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, and <a class="el" href="lu__object_8c_source.html#l01937">lu_site_stats_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a332fc5691f3ad2bfae6a1e4a898dd4df"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_dec_and_lock" ref="a332fc5691f3ad2bfae6a1e4a898dd4df" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, atomic_t *condition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_bd_dec_and_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">atomic_t *&nbsp;</td>
          <td class="paramname"> <em>condition</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00618">618</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00358">cfs_hash_with_spin_bktlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00093">cfs_hash_bucket::hsb_lock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00078">cfs_hash_lock::spin</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01295">ldlm_resource_putref()</a>, and <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>.</p>

</div>
</div>
<a class="anchor" id="aa406194af50e72d789650113d4ef5543"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_del_locked" ref="aa406194af50e72d789650113d4ef5543" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_bd_del_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00549">549</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00494">cfs_hash_put_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00386">cfs_hash_with_counter()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00371">cfs_hash_with_no_itemref()</a>, <a class="el" href="structcfs__hash__hlist__ops.html#ac59495ad8a636ac17f1f5ba821cec874">cfs_hash_hlist_ops::hop_hnode_del</a>, <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00216">cfs_hash::hs_hops</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00095">cfs_hash_bucket::hsb_version</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01267">__ldlm_resource_putref_final()</a>, <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, <a class="el" href="hash_8c_source.html#l01483">cfs_hash_cond_del_locked()</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="lquota__entry_8c_source.html#l00118">lqe_iter_cb()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__object_8c_source.html#l00204">lu_object_unhash()</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l01109">nodemap_cleanup_iter_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="ab625317d6dee78e5899364b32a87eb55"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_depmax_get" ref="ab625317d6dee78e5899364b32a87eb55" args="(struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_bd_depmax_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00592">592</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00097">cfs_hash_bucket::hsb_depmax</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01937">lu_site_stats_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c90e2743ebc32b0745f9849f96527e1"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_extra_get" ref="a8c90e2743ebc32b0745f9849f96527e1" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* cfs_hash_bd_extra_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00571">571</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00446">cfs_hash_bkt_size()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00224">cfs_hash::hs_extra_bytes</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00586">htable_lookup()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__object_8c_source.html#l00204">lu_object_unhash()</a>, <a class="el" href="lu__object_8h_source.html#l00653">lu_site_bkt_from_fid()</a>, <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, and <a class="el" href="lu__object_8c_source.html#l01937">lu_site_stats_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a47f2aadc7e76bb65253d4b700edb0377"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_findadd_locked" ref="a47f2aadc7e76bb65253d4b700edb0377" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, const void *key, struct hlist_node *hnode, int insist_add)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_bd_findadd_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>insist_add</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aece0d1c42eac70a04ed11029d0eefb43"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_finddel_locked" ref="aece0d1c42eac70a04ed11029d0eefb43" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_bd_finddel_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab49ef4d8b2fd1b890c12e346076c8708"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_get" ref="ab49ef4d8b2fd1b890c12e346076c8708" args="(struct cfs_hash *hs, const void *key, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_bd_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>operations on <a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> bucket (bd: bucket descriptor), they are normally for hash-table without rehash </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00491">491</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00479">cfs_hash_bd_from_key()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00252">cfs_hash::hs_rehash_buckets</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00549">cfs_hash_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00739">cfs_hash_multi_bd_findadd_locked()</a>, <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01295">ldlm_resource_putref()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__object_8h_source.html#l00653">lu_site_bkt_from_fid()</a>, and <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>.</p>

</div>
</div>
<a class="anchor" id="a889f7eb2fbb03eac4e4467bc5624595a"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_get_and_lock" ref="a889f7eb2fbb03eac4e4467bc5624595a" args="(struct cfs_hash *hs, const void *key, struct cfs_hash_bd *bd, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_bd_get_and_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00549">549</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00491">cfs_hash_bd_get()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="lu__object_8c_source.html#l02290">lu_object_assign_fid()</a>, <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>, <a class="el" href="lu__object_8c_source.html#l00675">lu_object_new()</a>, and <a class="el" href="lu__object_8c_source.html#l00204">lu_object_unhash()</a>.</p>

</div>
</div>
<a class="anchor" id="a280e712906e46336f01993f75aca9b09"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_hhead" ref="a280e712906e46336f01993f75aca9b09" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__head.html">hlist_head</a>* cfs_hash_bd_hhead </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00626">626</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="structcfs__hash__hlist__ops.html#a4912de5b61836b53257430b333af36ab">cfs_hash_hlist_ops::hop_hhead</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00216">cfs_hash::hs_hops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, <a class="el" href="hash_8c_source.html#l01758">cfs_hash_for_each_key()</a>, and <a class="el" href="hash_8c_source.html#l01723">cfs_hash_hlist_for_each()</a>.</p>

</div>
</div>
<a class="anchor" id="ac1f1fdbdd3e83c483e335646a9385ff8"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_index_get" ref="ac1f1fdbdd3e83c483e335646a9385ff8" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned cfs_hash_bd_index_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00557">557</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, <a class="el" href="libcfs__hash_8h_source.html#l00238">cfs_hash::hs_bkt_bits</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00096">cfs_hash_bucket::hsb_index</a>.</p>

</div>
</div>
<a class="anchor" id="ab5eea5970b22a29b4c3dd734bb449569"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_index_set" ref="ab5eea5970b22a29b4c3dd734bb449569" args="(struct cfs_hash *hs, unsigned index, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_bd_index_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00563">563</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, <a class="el" href="libcfs__hash_8h_source.html#l00328">CFS_HASH_BKT_NHLIST</a>, <a class="el" href="libcfs__hash_8h_source.html#l00238">cfs_hash::hs_bkt_bits</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01723">cfs_hash_hlist_for_each()</a>.</p>

</div>
</div>
<a class="anchor" id="a73d8b0c043b8df46937d717bdf55e400"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_lock" ref="a73d8b0c043b8df46937d717bdf55e400" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_bd_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00529">529</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="structcfs__hash__lock__ops.html#a6425075b49eb2f6ee1291c52c91e978e">cfs_hash_lock_ops::hs_bkt_lock</a>, <a class="el" href="libcfs__hash_8h_source.html#l00214">cfs_hash::hs_lops</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00093">cfs_hash_bucket::hsb_lock</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00549">cfs_hash_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>, <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01723">cfs_hash_hlist_for_each()</a>, <a class="el" href="hash_8c_source.html#l00685">cfs_hash_multi_bd_lock()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, and <a class="el" href="lu__object_8c_source.html#l01937">lu_site_stats_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a4733470a584e7a9c2e1bfed2cf118202"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_lookup_locked" ref="a4733470a584e7a9c2e1bfed2cf118202" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_bd_lookup_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00667">667</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, and <a class="el" href="hash_8c_source.html#l00612">CFS_HS_LOOKUP_IT_FIND</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c04dc300c14ceae6ce4b69c0c2ad6a5"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_move_locked" ref="a7c04dc300c14ceae6ce4b69c0c2ad6a5" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd_old, struct cfs_hash_bd *bd_new, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_bd_move_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00570">570</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00598">cfs_hash_bd_compare()</a>, <a class="el" href="hash_8c_source.html#l00506">cfs_hash_bd_dep_record()</a>, <a class="el" href="structcfs__hash__hlist__ops.html#a4395bdbd505057aeb99e1c81a02f4914">cfs_hash_hlist_ops::hop_hnode_add</a>, <a class="el" href="structcfs__hash__hlist__ops.html#ac59495ad8a636ac17f1f5ba821cec874">cfs_hash_hlist_ops::hop_hnode_del</a>, <a class="el" href="libcfs__hash_8h_source.html#l00216">cfs_hash::hs_hops</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00095">cfs_hash_bucket::hsb_version</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01864">cfs_hash_rehash_bd()</a>, and <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="a59e87159906b48387505a24e623e1482"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_peek_locked" ref="a59e87159906b48387505a24e623e1482" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_bd_peek_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00676">676</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, and <a class="el" href="hash_8c_source.html#l00610">CFS_HS_LOOKUP_IT_PEEK</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00586">htable_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7e2e963f92010d43ac98dd1b45b932e"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_unlock" ref="ad7e2e963f92010d43ac98dd1b45b932e" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_bd_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00535">535</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="structcfs__hash__lock__ops.html#aab0307f68cdbcdf4be3adfd645b20266">cfs_hash_lock_ops::hs_bkt_unlock</a>, <a class="el" href="libcfs__hash_8h_source.html#l00214">cfs_hash::hs_lops</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00093">cfs_hash_bucket::hsb_lock</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>, <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01723">cfs_hash_hlist_for_each()</a>, <a class="el" href="hash_8c_source.html#l00708">cfs_hash_multi_bd_unlock()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01295">ldlm_resource_putref()</a>, <a class="el" href="lu__object_8c_source.html#l02290">lu_object_assign_fid()</a>, <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>, <a class="el" href="lu__object_8c_source.html#l00675">lu_object_new()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__object_8c_source.html#l00204">lu_object_unhash()</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, and <a class="el" href="lu__object_8c_source.html#l01937">lu_site_stats_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a14eb32ca7f134978c0a14926abf51ca0"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bd_version_get" ref="a14eb32ca7f134978c0a14926abf51ca0" args="(struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static __u32 cfs_hash_bd_version_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00578">578</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00095">cfs_hash_bucket::hsb_version</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="lu__object_8c_source.html#l00586">htable_lookup()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a6df6c3f3d5ad70fc75b0b6a1eb694e6d"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bkt_size" ref="a6df6c3f3d5ad70fc75b0b6a1eb694e6d" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_bkt_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00446">446</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00328">CFS_HASH_BKT_NHLIST</a>, <a class="el" href="structcfs__hash__hlist__ops.html#aadc5e6c8e3a84c59611d3f595ab88c91">cfs_hash_hlist_ops::hop_hhead_size</a>, <a class="el" href="libcfs__hash_8h_source.html#l00224">cfs_hash::hs_extra_bytes</a>, <a class="el" href="libcfs__hash_8h_source.html#l00216">cfs_hash::hs_hops</a>, and <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00571">cfs_hash_bd_extra_get()</a>, <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="a2128db00defb2348974d300d84d7fc96"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_bucket_validate" ref="a2128db00defb2348974d300d84d7fc96" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_bucket_validate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00768">768</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01758">cfs_hash_for_each_key()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, and <a class="el" href="hash_8c_source.html#l01864">cfs_hash_rehash_bd()</a>.</p>

</div>
</div>
<a class="anchor" id="a047c411e8a562e1eedd76522b02d4b29"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_cond_del" ref="a047c411e8a562e1eedd76522b02d4b29" args="(struct cfs_hash *hs, cfs_hash_cond_opt_cb_t, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_cond_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#ae067a1c5ff5f7ec118ed9fa0b438d091">cfs_hash_cond_opt_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete item from the libcfs hash  when  return true. </p>
<p>The write lock being hold during loop for each bucket to avoid any object be reference. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01499">1499</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01483">cfs_hash_cond_del_locked()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, and <a class="el" href="hash_8c_source.html#l01478">cfs_hash_cond_arg::func</a>.</p>

</div>
</div>
<a class="anchor" id="ac9cb7b7e72de26117281d8844ac80c61"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_create" ref="ac9cb7b7e72de26117281d8844ac80c61" args="(char *name, unsigned cur_bits, unsigned max_bits, unsigned bkt_bits, unsigned extra_bytes, unsigned min_theta, unsigned max_theta, struct cfs_hash_ops *ops, unsigned flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash.html">cfs_hash</a>* cfs_hash_create </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>cur_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>max_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>bkt_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>extra_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>min_theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>max_theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01003">1003</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00797">__cfs_hash_set_theta()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00142">CFS_HASH_BIGNAME</a>, <a class="el" href="libcfs__hash_8h_source.html#l00112">CFS_HASH_BIGNAME_LEN</a>, <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00144">CFS_HASH_COUNTER</a>, <a class="el" href="hash_8c_source.html#l00997">cfs_hash_depth_wi_init()</a>, <a class="el" href="hash_8c_source.html#l00467">cfs_hash_hlist_setup()</a>, <a class="el" href="hash_8c_source.html#l00210">cfs_hash_lock_setup()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00111">CFS_HASH_NAME_LEN</a>, <a class="el" href="libcfs__hash_8h_source.html#l00320">CFS_HASH_NBKT</a>, <a class="el" href="libcfs__hash_8h_source.html#l00130">CFS_HASH_NO_LOCK</a>, <a class="el" href="libcfs__hash_8h_source.html#l00148">CFS_HASH_REHASH</a>, <a class="el" href="libcfs__hash_8h_source.html#l00146">CFS_HASH_REHASH_KEY</a>, <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00773">CFS_HASH_THETA_BITS</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="libcfs__workitem_8h_source.html#l00091">cfs_wi_init()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="libcfs__hash_8h_source.html#l00238">cfs_hash::hs_bkt_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00224">cfs_hash::hs_extra_bytes</a>, <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>, <a class="el" href="structcfs__hash__ops.html#a5810a1a7b4df3002af1ca3be9e0d29a6">cfs_hash_ops::hs_get</a>, <a class="el" href="structcfs__hash__ops.html#a648437e728a587206b341e66ea8f6c32">cfs_hash_ops::hs_hash</a>, <a class="el" href="structcfs__hash__ops.html#a35150ae3b6ae74cedc795d3c51a5dffa">cfs_hash_ops::hs_key</a>, <a class="el" href="structcfs__hash__ops.html#ad89a763126edc3f03dfdf0d90ce88bb6">cfs_hash_ops::hs_keycmp</a>, <a class="el" href="structcfs__hash__ops.html#a57c9eb7be7971a93ebaaab3291743e4c">cfs_hash_ops::hs_keycpy</a>, <a class="el" href="libcfs__hash_8h_source.html#l00234">cfs_hash::hs_max_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00232">cfs_hash::hs_min_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00268">cfs_hash::hs_name</a>, <a class="el" href="structcfs__hash__ops.html#a420c928e978afc8e2251415eaf769722">cfs_hash_ops::hs_object</a>, <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>, <a class="el" href="structcfs__hash__ops.html#afc0a485f1a54389003f39391a5e3d155">cfs_hash_ops::hs_put</a>, <a class="el" href="structcfs__hash__ops.html#a357fb8d761ace14633b0dd711ea9aab4">cfs_hash_ops::hs_put_locked</a>, <a class="el" href="libcfs__hash_8h_source.html#l00250">cfs_hash::hs_refcount</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00248">cfs_hash::hs_rehash_wi</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00291">LIBCFS_ALLOC</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00726">cl_env_store_init()</a>, <a class="el" href="obd__config_8c_source.html#l00445">class_setup()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02884">ldlm_init_export()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00936">ldlm_init_flock_export()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="lod__lov_8c_source.html#l01280">lod_pools_init()</a>, <a class="el" href="lov__obd_8c_source.html#l00782">lov_setup()</a>, <a class="el" href="lquota__entry_8c_source.html#l00198">lquota_site_alloc()</a>, <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00174">nodemap_init_hash()</a>, <a class="el" href="osc__quota_8c_source.html#l00207">osc_quota_setup()</a>, <a class="el" href="connection_8c_source.html#l00140">ptlrpc_connection_init()</a>, and <a class="el" href="qmt__pool_8c_source.html#l00434">qmt_pool_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aedabce721eb11143239e7c7b391bb9e9"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_debug_header" ref="aedabce721eb11143239e7c7b391bb9e9" args="(struct seq_file *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_debug_header </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l02042">2042</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00112">CFS_HASH_BIGNAME_LEN</a>.</p>

</div>
</div>
<a class="anchor" id="a96e755f9e1778c7d9461d6a0271017fd"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_debug_str" ref="a96e755f9e1778c7d9461d6a0271017fd" args="(struct cfs_hash *hs, struct seq_file *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_debug_str </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l02073">2073</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00790">__cfs_hash_theta()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00784">__cfs_hash_theta_frac()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00778">__cfs_hash_theta_int()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00112">CFS_HASH_BIGNAME_LEN</a>, <a class="el" href="hash_8c_source.html#l02050">cfs_hash_full_bkts()</a>, <a class="el" href="hash_8c_source.html#l02062">cfs_hash_full_nbkt()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>, <a class="el" href="libcfs__hash_8h_source.html#l00234">cfs_hash::hs_max_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00242">cfs_hash::hs_max_theta</a>, <a class="el" href="libcfs__hash_8h_source.html#l00232">cfs_hash::hs_min_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00240">cfs_hash::hs_min_theta</a>, <a class="el" href="libcfs__hash_8h_source.html#l00268">cfs_hash::hs_name</a>, <a class="el" href="libcfs__hash_8h_source.html#l00244">cfs_hash::hs_rehash_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00097">cfs_hash_bucket::hsb_depmax</a>, and <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>.</p>

</div>
</div>
<a class="anchor" id="a578378256820b614712b004c5057b15e"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_dec_and_lock" ref="a578378256820b614712b004c5057b15e" args="(struct cfs_hash *hs, atomic_t *condition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_dec_and_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">atomic_t *&nbsp;</td>
          <td class="paramname"> <em>condition</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00522">522</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00344">cfs_hash_with_no_bktlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00210">cfs_hash::hs_lock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00078">cfs_hash_lock::spin</a>.</p>

</div>
</div>
<a class="anchor" id="aae06334dd2f9136524fe92c7ddfdcdd0"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_del" ref="aae06334dd2f9136524fe92c7ddfdcdd0" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cfs_hash_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete item  from the libcfs hash  using . </p>
<p>The  is required to ensure the correct hash bucket is locked since there is no direct linkage from the item to the bucket. The object removed from the hash will be returned and obs-&gt;hs_put is called on the removed object. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01291">1291</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="hash_8c_source.html#l00549">cfs_hash_bd_del_locked()</a>, <a class="el" href="hash_8c_source.html#l00862">cfs_hash_dual_bd_finddel_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00840">cfs_hash_dual_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00482">cfs_hash_object()</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="hash_8c_source.html#l01193">cfs_hash_rehash_inline()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, and <a class="el" href="list_8h_source.html#l00318">hlist_unhashed()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01331">cfs_hash_del_key()</a>, <a class="el" href="cl__object_8c_source.html#l00715">cl_env_do_detach()</a>, <a class="el" href="genops_8c_source.html#l01220">class_disconnect()</a>, <a class="el" href="genops_8c_source.html#l00836">class_new_export()</a>, <a class="el" href="genops_8c_source.html#l00932">class_unlink_export()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00118">ldlm_flock_blocking_unlink()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00352">ldlm_lock_destroy_internal()</a>, <a class="el" href="qmt__pool_8c_source.html#l00393">qmt_pool_fini()</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l00395">tgt_client_free()</a>.</p>

</div>
</div>
<a class="anchor" id="a076b3fecfda52c19b151c57c16f7414a"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_del_key" ref="a076b3fecfda52c19b151c57c16f7414a" args="(struct cfs_hash *hs, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cfs_hash_del_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete item given  in libcfs hash . </p>
<p>The first  found in the hash will be removed, if the key exists multiple times in the hash  this function must be called once per key. The removed object will be returned and ops-&gt;hs_put is called on the removed object. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01331">1331</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>.</p>

<p>Referenced by <a class="el" href="lod__pool_8c_source.html#l00726">lod_pool_del()</a>, <a class="el" href="lov__pool_8c_source.html#l00504">lov_pool_del()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01033">nodemap_del()</a>, and <a class="el" href="osc__quota_8c_source.html#l00074">osc_quota_setdq()</a>.</p>

</div>
</div>
<a class="anchor" id="a913ea151171a4bad3abc7f12e2753c9a"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_djb2_hash" ref="a913ea151171a4bad3abc7f12e2753c9a" args="(const void *key, size_t size, unsigned mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned cfs_hash_djb2_hash </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00813">813</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="connection_8c_source.html#l00167">conn_hashfn()</a>, <a class="el" href="obd__config_8c_source.html#l02153">gen_hash()</a>, <a class="el" href="obd__config_8c_source.html#l02029">nid_hash()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00110">nodemap_hashfn()</a>, <a class="el" href="lod__pool_8c_source.html#l00143">pool_hashfn()</a>, and <a class="el" href="obd__config_8c_source.html#l01958">uuid_hash()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2ec0e8afc9527f787a43a04a768af60"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_dual_bd_findadd_locked" ref="ac2ec0e8afc9527f787a43a04a768af60" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, const void *key, struct hlist_node *hnode, int insist_add)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_dual_bd_findadd_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>insist_add</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00853">853</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00739">cfs_hash_multi_bd_findadd_locked()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>.</p>

</div>
</div>
<a class="anchor" id="af3f19dce78283041d70420359b2e4125"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_dual_bd_finddel_locked" ref="af3f19dce78283041d70420359b2e4125" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_dual_bd_finddel_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00862">862</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00770">cfs_hash_multi_bd_finddel_locked()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, and <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7a09ec42ba99ae42eb00726d49713f9"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_dual_bd_get" ref="aa7a09ec42ba99ae42eb00726d49713f9" args="(struct cfs_hash *hs, const void *key, struct cfs_hash_bd *bds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_dual_bd_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>operations on <a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> bucket (bd: bucket descriptor), they are safe for hash-table with rehash </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00814">814</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="hash_8c_source.html#l00479">cfs_hash_bd_from_key()</a>, <a class="el" href="hash_8c_source.html#l00787">cfs_hash_bd_order()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00252">cfs_hash::hs_rehash_buckets</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>, and <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="aeecdcf64ddc0be2a312cdc5ea21e82d2"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_dual_bd_get_and_lock" ref="aeecdcf64ddc0be2a312cdc5ea21e82d2" args="(struct cfs_hash *hs, const void *key, struct cfs_hash_bd *bds, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_dual_bd_get_and_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00657">657</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00814">cfs_hash_dual_bd_get()</a>, and <a class="el" href="hash_8c_source.html#l00834">cfs_hash_dual_bd_lock()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, <a class="el" href="hash_8c_source.html#l01758">cfs_hash_for_each_key()</a>, and <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a483b5dce37e2f0210aed1537aa96044c"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_dual_bd_lock" ref="a483b5dce37e2f0210aed1537aa96044c" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_dual_bd_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00834">834</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00685">cfs_hash_multi_bd_lock()</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a007d325e7cbaa2e73aa658405878a328"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_dual_bd_lookup_locked" ref="a007d325e7cbaa2e73aa658405878a328" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_dual_bd_lookup_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00846">846</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00723">cfs_hash_multi_bd_lookup_locked()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a887d858f4122419101c382deafce322d"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_dual_bd_unlock" ref="a887d858f4122419101c382deafce322d" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_dual_bd_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00840">840</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00708">cfs_hash_multi_bd_unlock()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, <a class="el" href="hash_8c_source.html#l01758">cfs_hash_for_each_key()</a>, and <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="aca3c783e520dbd7fee65c1bea9bc395f"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_exit" ref="aca3c783e520dbd7fee65c1bea9bc395f" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00506">506</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="structcfs__hash__ops.html#af64b47c3047674fa5b6f5318ae57f53c">cfs_hash_ops::hs_exit</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a3971c1ab71095c51183005c429e1e19c"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_findadd_unique" ref="a3971c1ab71095c51183005c429e1e19c" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cfs_hash_findadd_unique </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add item  to libcfs hash  using . </p>
<p>If this  already exists in the hash then ops-&gt;hs_get will be called on the conflicting entry and that entry will be returned to the caller. Otherwise ops-&gt;hs_get is called on the item which was added. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01274">1274</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00482">cfs_hash_object()</a>.</p>

<p>Referenced by <a class="el" href="lquota__entry_8c_source.html#l00313">lqe_locate()</a>, and <a class="el" href="connection_8c_source.html#l00048">ptlrpc_connection_get()</a>.</p>

</div>
</div>
<a class="anchor" id="acf28087eedf4a15b2129894920690349"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_for_each" ref="acf28087eedf4a15b2129894920690349" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_for_each </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01511">1511</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00905">lu_site_print()</a>.</p>

</div>
</div>
<a class="anchor" id="ae469569d00483aed0d99d122bfbf3b29"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_for_each_empty" ref="ae469569d00483aed0d99d122bfbf3b29" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_for_each_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For each hash bucket in the libcfs hash  call the passed callback  until all the hash buckets are empty. </p>
<p>The passed callback  or the previously registered callback hs-&gt;hs_put must remove the item from the hash. You may either use the <a class="el" href="libcfs__hash_8h.html#aae06334dd2f9136524fe92c7ddfdcdd0" title="Delete item  from the libcfs hash  using .">cfs_hash_del()</a> or <a class="el" href="group__hlist.html#gaa7bb9806633e74fad4c0f4ba8d3ac850">hlist_del()</a> functions. No rwlocks will be held during the callback  it is safe to sleep if needed. This function will not terminate until the hash is empty. Note it is still possible to concurrently add new items in to the hash. It is the callers responsibility to ensure the required locking is in place to prevent concurrent insertions. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01698">1698</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="structcfs__hash__ops.html#a5810a1a7b4df3002af1ca3be9e0d29a6">cfs_hash_ops::hs_get</a>, <a class="el" href="libcfs__hash_8h_source.html#l00268">cfs_hash::hs_name</a>, <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>, <a class="el" href="structcfs__hash__ops.html#afc0a485f1a54389003f39391a5e3d155">cfs_hash_ops::hs_put</a>, <a class="el" href="structcfs__hash__ops.html#a357fb8d761ace14633b0dd711ea9aab4">cfs_hash_ops::hs_put_locked</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lock_8c_source.html#l02401">ldlm_export_cancel_locks()</a>.</p>

</div>
</div>
<a class="anchor" id="afb941ac4dbb23c46c85a5bc69887cf9c"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_for_each_key" ref="afb941ac4dbb23c46c85a5bc69887cf9c" args="(struct cfs_hash *hs, const void *key, cfs_hash_for_each_cb_t, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_for_each_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01758">1758</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00626">cfs_hash_bd_hhead()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00768">cfs_hash_bucket_validate()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00840">cfs_hash_dual_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00844">cfs_hash_for_each_bd</a>, <a class="el" href="libcfs__hash_8h_source.html#l00476">cfs_hash_keycmp()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, and <a class="el" href="list_8h_source.html#l00384">hlist_for_each</a>.</p>

<p>Referenced by <a class="el" href="ldlm__flock_8c_source.html#l00192">ldlm_flock_deadlock()</a>, and <a class="el" href="mdt__lproc_8c_source.html#l00903">lprocfs_mdt_open_files_seq_show()</a>.</p>

</div>
</div>
<a class="anchor" id="ae3ee940fb33702700bbbc6874558411e"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_for_each_nolock" ref="ae3ee940fb33702700bbbc6874558411e" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t, void *data, int start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_for_each_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>start</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01663">1663</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00371">cfs_hash_with_no_itemref()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00398">cfs_hash_with_rehash_key()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="structcfs__hash__ops.html#a5810a1a7b4df3002af1ca3be9e0d29a6">cfs_hash_ops::hs_get</a>, <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>, <a class="el" href="structcfs__hash__ops.html#afc0a485f1a54389003f39391a5e3d155">cfs_hash_ops::hs_put</a>, <a class="el" href="structcfs__hash__ops.html#a357fb8d761ace14633b0dd711ea9aab4">cfs_hash_ops::hs_put_locked</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l02029">ldlm_cli_cancel_unused()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00892">ldlm_namespace_cleanup()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01425">ldlm_namespace_dump()</a>, <a class="el" href="ldlm__request_8c_source.html#l02115">ldlm_namespace_foreach()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02128">ldlm_reprocess_all_ns()</a>, and <a class="el" href="osc__request_8c_source.html#l02632">osc_import_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a88202d3dec5ad7ee11705c6a6574d840"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_for_each_safe" ref="a88202d3dec5ad7ee11705c6a6574d840" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_for_each_safe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01519">1519</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>.</p>

<p>Referenced by <a class="el" href="lquota__entry_8c_source.html#l00155">lqe_cleanup()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01286">nm_member_revoke_all()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01126">nodemap_config_cleanup()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01190">nodemap_config_set_active()</a>, and <a class="el" href="qsd__reint_8c_source.html#l00574">qsd_pending_updates()</a>.</p>

</div>
</div>
<a class="anchor" id="a23baa6dbe7b636b913451d44c7579dc4"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_get" ref="a23baa6dbe7b636b913451d44c7579dc4" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00488">488</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="structcfs__hash__ops.html#a5810a1a7b4df3002af1ca3be9e0d29a6">cfs_hash_ops::hs_get</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="lu__object_8c_source.html#l00586">htable_lookup()</a>, and <a class="el" href="vvp__dev_8c_source.html#l00414">vvp_pgcache_obj_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a911b0cdf3c5eb118a068657ea3f5361d"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_getref" ref="a911b0cdf3c5eb118a068657ea3f5361d" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash.html">cfs_hash</a>* cfs_hash_getref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01140">1140</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00250">cfs_hash::hs_refcount</a>.</p>

<p>Referenced by <a class="el" href="genops_8c_source.html#l00836">class_new_export()</a>, <a class="el" href="genops_8c_source.html#l00932">class_unlink_export()</a>, <a class="el" href="genops_8c_source.html#l01442">obd_export_evict_by_nid()</a>, <a class="el" href="genops_8c_source.html#l01490">obd_export_evict_by_uuid()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01369">tgt_clients_data_init()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01806">tgt_reply_data_init()</a>, and <a class="el" href="update__recovery_8c_source.html#l01066">update_recovery_update_ses()</a>.</p>

</div>
</div>
<a class="anchor" id="acf0061bbbb532c284cef3c46f82c31e8"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_hlist_for_each" ref="acf0061bbbb532c284cef3c46f82c31e8" args="(struct cfs_hash *hs, unsigned hindex, cfs_hash_for_each_cb_t, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_hlist_for_each </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>hindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01723">1723</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00626">cfs_hash_bd_hhead()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00563">cfs_hash_bd_index_set()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00331">CFS_HASH_NHLIST</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, and <a class="el" href="list_8h_source.html#l00384">hlist_for_each</a>.</p>

<p>Referenced by <a class="el" href="vvp__dev_8c_source.html#l00431">vvp_pgcache_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="aec3d87bfb99f3dfc38d6c33c8fea6062"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_id" ref="aec3d87bfb99f3dfc38d6c33c8fea6062" args="(struct cfs_hash *hs, const void *key, unsigned mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned cfs_hash_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00454">454</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="structcfs__hash__ops.html#a648437e728a587206b341e66ea8f6c32">cfs_hash_ops::hs_hash</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00479">cfs_hash_bd_from_key()</a>.</p>

</div>
</div>
<a class="anchor" id="af591c6ad2b9de437584348a42c0bfb45"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_is_empty" ref="af591c6ad2b9de437584348a42c0bfb45" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_is_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01535">1535</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01527">cfs_hash_peek()</a>, and <a class="el" href="layout_8c_source.html#l00074">empty</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, <a class="el" href="ofd__dev_8c_source.html#l00220">ofd_stack_fini()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06530">osd_device_free()</a>.</p>

</div>
</div>
<a class="anchor" id="ab541928c1c9be224abcfc2df0979ad03"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_is_exiting" ref="ab541928c1c9be224abcfc2df0979ad03" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_is_exiting </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00428">428</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00228">cfs_hash::hs_exiting</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="a696239208141c3ddcf67ed3185ed6735"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_is_iterating" ref="a696239208141c3ddcf67ed3185ed6735" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_is_iterating </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00440">440</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00226">cfs_hash::hs_iterating</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00246">cfs_hash::hs_iterators</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="ae3c4fadb77a6470d8157dc4e29500387"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_is_rehashing" ref="ae3c4fadb77a6470d8157dc4e29500387" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_is_rehashing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00434">434</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="hash_8c_source.html#l01799">cfs_hash_rehash_cancel_locked()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f83a814291eddcaa16a9f942e5b7003"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_key" ref="a1f83a814291eddcaa16a9f942e5b7003" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* cfs_hash_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00460">460</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="structcfs__hash__ops.html#a35150ae3b6ae74cedc795d3c51a5dffa">cfs_hash_ops::hs_key</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01864">cfs_hash_rehash_bd()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d09e8f478777c3f8b6dfae0cfb0fa09"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_key_validate" ref="a7d09e8f478777c3f8b6dfae0cfb0fa09" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_key_validate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00764">764</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, and <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>.</p>

</div>
</div>
<a class="anchor" id="ac54a57c9c10143988d3035f986ce2909"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_keycmp" ref="ac54a57c9c10143988d3035f986ce2909" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_keycmp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns 1 on a match,. </p>

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00476">476</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="structcfs__hash__ops.html#ad89a763126edc3f03dfdf0d90ce88bb6">cfs_hash_ops::hs_keycmp</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, and <a class="el" href="hash_8c_source.html#l01758">cfs_hash_for_each_key()</a>.</p>

</div>
</div>
<a class="anchor" id="aa2da7360fd3e215411d0cca4f1ed73a3"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_keycpy" ref="aa2da7360fd3e215411d0cca4f1ed73a3" args="(struct cfs_hash *hs, struct hlist_node *hnode, void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_keycpy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00466">466</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="structcfs__hash__ops.html#a57c9eb7be7971a93ebaaab3291743e4c">cfs_hash_ops::hs_keycpy</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="a2aab571881de0ee3d53f0424a4463b6c"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_lock" ref="a2aab571881de0ee3d53f0424a4463b6c" args="(struct cfs_hash *hs, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00512">512</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00210">cfs_hash::hs_lock</a>, <a class="el" href="structcfs__hash__lock__ops.html#ace4167a7dea5c64d5bd1e579f7e6914f">cfs_hash_lock_ops::hs_lock</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00214">cfs_hash::hs_lops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="hash_8c_source.html#l01758">cfs_hash_for_each_key()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01723">cfs_hash_hlist_for_each()</a>, <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01827">cfs_hash_rehash_cancel()</a>, <a class="el" href="hash_8c_source.html#l01799">cfs_hash_rehash_cancel_locked()</a>, <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e2a5b89d520bf4a2d61a615d2b4db59"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_lookup" ref="a8e2a5b89d520bf4a2d61a615d2b4db59" args="(struct cfs_hash *hs, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cfs_hash_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lookup an item using  in the libcfs hash  and return it. </p>
<p>If the  is found in the hash hs-&gt;hs_get() is called and the matching objects is returned. It is the callers responsibility to call the counterpart ops-&gt;hs_put using the <a class="el" href="libcfs__hash_8h.html#aa26b03f44cb617e6c642613453fefcbd">cfs_hash_put()</a> macro when when finished with the object. If the  was not found in the hash  NULL is returned. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01346">1346</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00846">cfs_hash_dual_bd_lookup_locked()</a>, <a class="el" href="hash_8c_source.html#l00840">cfs_hash_dual_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00482">cfs_hash_object()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00693">cl_env_fetch()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00173">ldlm_flock_lookup_cb()</a>, <a class="el" href="lod__pool_8c_source.html#l00909">lod_find_pool()</a>, <a class="el" href="lod__pool_8c_source.html#l00766">lod_pool_add()</a>, <a class="el" href="lod__pool_8c_source.html#l00823">lod_pool_remove()</a>, <a class="el" href="lov__pool_8c_source.html#l00535">lov_pool_add()</a>, <a class="el" href="lov__pool_8c_source.html#l00580">lov_pool_remove()</a>, <a class="el" href="lquota__entry_8c_source.html#l00313">lqe_locate()</a>, <a class="el" href="obd__mount__server_8c_source.html#l00405">lustre_register_lwp_item()</a>, <a class="el" href="mdt__hsm__cdt__agent_8c_source.html#l00322">mdt_hsm_agent_send()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01190">nodemap_config_set_active()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00487">nodemap_process_keyrec()</a>, <a class="el" href="genops_8c_source.html#l01442">obd_export_evict_by_nid()</a>, <a class="el" href="genops_8c_source.html#l01490">obd_export_evict_by_uuid()</a>, <a class="el" href="osc__quota_8c_source.html#l00045">osc_quota_chkdq()</a>, <a class="el" href="osc__quota_8c_source.html#l00074">osc_quota_setdq()</a>, <a class="el" href="connection_8c_source.html#l00048">ptlrpc_connection_get()</a>, <a class="el" href="qmt__pool_8c_source.html#l00358">qmt_pool_lookup()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01806">tgt_reply_data_init()</a>, and <a class="el" href="update__recovery_8c_source.html#l01066">update_recovery_update_ses()</a>.</p>

</div>
</div>
<a class="anchor" id="a5087718522e8f0cfe2280a6bc1ad7a36"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_object" ref="a5087718522e8f0cfe2280a6bc1ad7a36" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* cfs_hash_object </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00482">482</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="structcfs__hash__ops.html#a420c928e978afc8e2251415eaf769722">cfs_hash_ops::hs_object</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01483">cfs_hash_cond_del_locked()</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01274">cfs_hash_findadd_unique()</a>, <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02341">ldlm_cancel_locks_for_export_cb()</a>, <a class="el" href="ldlm__request_8c_source.html#l02010">ldlm_cli_hash_cancel_unused()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00173">ldlm_flock_lookup_cb()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02113">ldlm_reprocess_res()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01408">ldlm_res_hash_dump()</a>, <a class="el" href="ldlm__request_8c_source.html#l02105">ldlm_res_iter_helper()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00856">ldlm_resource_clean()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00869">ldlm_resource_complain()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00882">lprocfs_mdt_print_open_files()</a>, <a class="el" href="osc__request_8c_source.html#l02601">osc_ldlm_resource_invalidate()</a>, and <a class="el" href="vvp__dev_8c_source.html#l00414">vvp_pgcache_obj_get()</a>.</p>

</div>
</div>
<a class="anchor" id="aa26b03f44cb617e6c642613453fefcbd"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_put" ref="aa26b03f44cb617e6c642613453fefcbd" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00500">500</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>, and <a class="el" href="structcfs__hash__ops.html#afc0a485f1a54389003f39391a5e3d155">cfs_hash_ops::hs_put</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, and <a class="el" href="ldlm__flock_8c_source.html#l00192">ldlm_flock_deadlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a93ed10f014c01a5816c5384a208fd1ea"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_put_locked" ref="a93ed10f014c01a5816c5384a208fd1ea" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_put_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00494">494</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>, and <a class="el" href="structcfs__hash__ops.html#a357fb8d761ace14633b0dd711ea9aab4">cfs_hash_ops::hs_put_locked</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00549">cfs_hash_bd_del_locked()</a>, and <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e4028cb849fd08c386ca9e72da3d720"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_putref" ref="a2e4028cb849fd08c386ca9e72da3d720" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_putref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01148">1148</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00250">cfs_hash::hs_refcount</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00737">cl_env_store_fini()</a>, <a class="el" href="obd__config_8c_source.html#l00616">class_cleanup()</a>, <a class="el" href="genops_8c_source.html#l00836">class_new_export()</a>, <a class="el" href="obd__config_8c_source.html#l00445">class_setup()</a>, <a class="el" href="genops_8c_source.html#l00932">class_unlink_export()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02913">ldlm_destroy_export()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00955">ldlm_destroy_flock_export()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01007">ldlm_namespace_free_post()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="lod__lov_8c_source.html#l01372">lod_pools_fini()</a>, <a class="el" href="lod__lov_8c_source.html#l01280">lod_pools_init()</a>, <a class="el" href="lov__obd_8c_source.html#l00886">lov_cleanup()</a>, <a class="el" href="lquota__entry_8c_source.html#l00245">lquota_site_free()</a>, <a class="el" href="lu__object_8c_source.html#l01140">lu_site_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01126">nodemap_config_cleanup()</a>, <a class="el" href="genops_8c_source.html#l01442">obd_export_evict_by_nid()</a>, <a class="el" href="genops_8c_source.html#l01490">obd_export_evict_by_uuid()</a>, <a class="el" href="osc__quota_8c_source.html#l00236">osc_quota_cleanup()</a>, <a class="el" href="osc__quota_8c_source.html#l00207">osc_quota_setup()</a>, <a class="el" href="connection_8c_source.html#l00157">ptlrpc_connection_fini()</a>, <a class="el" href="qmt__pool_8c_source.html#l00393">qmt_pool_fini()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01369">tgt_clients_data_init()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01806">tgt_reply_data_init()</a>, and <a class="el" href="update__recovery_8c_source.html#l01066">update_recovery_update_ses()</a>.</p>

</div>
</div>
<a class="anchor" id="a80d843e062c8f2d6812696a028cfb2db"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_rehash" ref="a80d843e062c8f2d6812696a028cfb2db" args="(struct cfs_hash *hs, int do_rehash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_rehash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>do_rehash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01835">1835</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="workitem_8c_source.html#l00183">cfs_wi_schedule()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00248">cfs_hash::hs_rehash_wi</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, and <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>.</p>

</div>
</div>
<a class="anchor" id="af74115d94e7198ba300b1e380c2419e6"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_rehash_cancel" ref="af74115d94e7198ba300b1e380c2419e6" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_rehash_cancel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01827">1827</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l01799">cfs_hash_rehash_cancel_locked()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9b61ff0c4fb91626990e5884fd9800e"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_rehash_cancel_locked" ref="ae9b61ff0c4fb91626990e5884fd9800e" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_rehash_cancel_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Rehash the libcfs hash  to the given . </p>
<p>This can be used to grow the hash size when excessive chaining is detected, or to shrink the hash when it is larger than needed. When the CFS_HASH_REHASH flag is set in  the libcfs hash may be dynamically rehashed during addition or removal if the hash's theta value exceeds either the hs-&gt;hs_min_theta or hs-&gt;max_theta values. By default these values are tuned to keep the chained hash depth small, and this approach assumes a reasonably uniform hashing function. The theta thresholds for  are tunable via cfs_hash_set_theta(). </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01799">1799</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__hash_8h_source.html#l00434">cfs_hash_is_rehashing()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="workitem_8c_source.html#l00142">cfs_wi_deschedule()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00139">D_WARNING</a>, <a class="el" href="libcfs__hash_8h_source.html#l00268">cfs_hash::hs_name</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00248">cfs_hash::hs_rehash_wi</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, and <a class="el" href="hash_8c_source.html#l01827">cfs_hash_rehash_cancel()</a>.</p>

</div>
</div>
<a class="anchor" id="a32df2bf8d0c966f41fa6ffbe0649b511"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_rehash_key" ref="a32df2bf8d0c966f41fa6ffbe0649b511" args="(struct cfs_hash *hs, const void *old_key, void *new_key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_rehash_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>old_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>new_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Rehash the object referenced by  in the libcfs hash . </p>
<p>The  must be provided to locate the objects previous location in the hash, and the  will be used to reinsert the object. Use this function instead of a <a class="el" href="libcfs__hash_8h.html#a4c3552d7ca8aac343e6b257197cd0170" title="Add item  to libcfs hash  using .">cfs_hash_add()</a> + <a class="el" href="libcfs__hash_8h.html#aae06334dd2f9136524fe92c7ddfdcdd0" title="Delete item  from the libcfs hash  using .">cfs_hash_del()</a> combo when it is critical that there is no window in time where the object is missing from the hash. When an object is being rehashed the registered <a class="el" href="libcfs__hash_8h.html#a23baa6dbe7b636b913451d44c7579dc4">cfs_hash_get()</a> and <a class="el" href="libcfs__hash_8h.html#aa26b03f44cb617e6c642613453fefcbd">cfs_hash_put()</a> functions will not be called. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l02004">2004</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="hash_8c_source.html#l00491">cfs_hash_bd_get()</a>, <a class="el" href="hash_8c_source.html#l00570">cfs_hash_bd_move_locked()</a>, <a class="el" href="hash_8c_source.html#l00787">cfs_hash_bd_order()</a>, <a class="el" href="hash_8c_source.html#l00862">cfs_hash_dual_bd_finddel_locked()</a>, <a class="el" href="hash_8c_source.html#l00814">cfs_hash_dual_bd_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00466">cfs_hash_keycpy()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l00685">cfs_hash_multi_bd_lock()</a>, <a class="el" href="hash_8c_source.html#l00708">cfs_hash_multi_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="list_8h_source.html#l00318">hlist_unhashed()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l00541">ldlm_cli_enqueue_fini()</a>, and <a class="el" href="ldlm__request_8c_source.html#l02175">replay_lock_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="af52de8ab3e05033cdddecf1d5d33534d"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_size_get" ref="af52de8ab3e05033cdddecf1d5d33534d" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cfs_hash_size_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01545">1545</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00386">cfs_hash_with_counter()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00658">lu_object_limit()</a>.</p>

</div>
</div>
<a class="anchor" id="abe0d05ea4969cca49e722ce143c39732"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_u32_hash" ref="abe0d05ea4969cca49e722ce143c39732" args="(const __u32 key, unsigned mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned cfs_hash_u32_hash </td>
          <td>(</td>
          <td class="paramtype">const __u32&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00829">829</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00058">CFS_GOLDEN_RATIO_PRIME_32</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00652">cl_env_hops_hash()</a>, <a class="el" href="osc__quota_8c_source.html#l00141">oqi_hashfn()</a>, and <a class="el" href="qmt__pool_8c_source.html#l00090">qpi_hash_hash()</a>.</p>

</div>
</div>
<a class="anchor" id="a3eeea7a1184aa29e759249dccc5a5493"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_u64_hash" ref="a3eeea7a1184aa29e759249dccc5a5493" args="(const __u64 key, unsigned mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned cfs_hash_u64_hash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00838">838</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00060">CFS_GOLDEN_RATIO_PRIME_64</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00652">cl_env_hops_hash()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00867">ldlm_export_flock_hash()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02820">ldlm_export_lock_hash()</a>, and <a class="el" href="lquota__entry_8c_source.html#l00042">lqe64_hash_hash()</a>.</p>

</div>
</div>
<a class="anchor" id="abe28f72edafde43614f72fd8091c97e8"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_unlock" ref="abe28f72edafde43614f72fd8091c97e8" args="(struct cfs_hash *hs, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00517">517</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00210">cfs_hash::hs_lock</a>, <a class="el" href="libcfs__hash_8h_source.html#l00214">cfs_hash::hs_lops</a>, and <a class="el" href="structcfs__hash__lock__ops.html#a0a250ba4bd91d418422d6520508a3151">cfs_hash_lock_ops::hs_unlock</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="hash_8c_source.html#l01758">cfs_hash_for_each_key()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01723">cfs_hash_hlist_for_each()</a>, <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01827">cfs_hash_rehash_cancel()</a>, <a class="el" href="hash_8c_source.html#l01799">cfs_hash_rehash_cancel_locked()</a>, <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="aaeec53b819cd1edaff35cb022ccfb3ef"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_add_tail" ref="aaeec53b819cd1edaff35cb022ccfb3ef" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_add_tail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00365">365</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00138">CFS_HASH_ADD_TAIL</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00467">cfs_hash_hlist_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a72c425b330683c14e4272778edaebce3"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_assert_empty" ref="a72c425b330683c14e4272778edaebce3" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_assert_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00410">410</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00152">CFS_HASH_ASSERT_EMPTY</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a95352b6086234bfc0a4eb0a7e137c062"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_bigname" ref="a95352b6086234bfc0a4eb0a7e137c062" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_bigname </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00380">380</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00142">CFS_HASH_BIGNAME</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a455ef78c67457e0ed8712882d9a274cc"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_counter" ref="a455ef78c67457e0ed8712882d9a274cc" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_counter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00386">386</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00144">CFS_HASH_COUNTER</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="hash_8c_source.html#l00549">cfs_hash_bd_del_locked()</a>, and <a class="el" href="hash_8c_source.html#l01545">cfs_hash_size_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a3532c64bdcbb6e014c6d8e45ee8f0f52"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_depth" ref="a3532c64bdcbb6e014c6d8e45ee8f0f52" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_depth </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00416">416</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00154">CFS_HASH_DEPTH</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00467">cfs_hash_hlist_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a22715b20bb86f1f841990568f0782f4e"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_nblk_change" ref="a22715b20bb86f1f841990568f0782f4e" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_nblk_change </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00422">422</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00159">CFS_HASH_NBLK_CHANGE</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01193">cfs_hash_rehash_inline()</a>.</p>

</div>
</div>
<a class="anchor" id="a44598852e76126211cfacf97fcbfa62d"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_no_bktlock" ref="a44598852e76126211cfacf97fcbfa62d" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_no_bktlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00344">344</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00132">CFS_HASH_NO_BKTLOCK</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00522">cfs_hash_dec_and_lock()</a>, and <a class="el" href="hash_8c_source.html#l00210">cfs_hash_lock_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f0ad5a879edbc2743c94ebb16c80a64"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_no_itemref" ref="a7f0ad5a879edbc2743c94ebb16c80a64" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_no_itemref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00371">371</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00140">CFS_HASH_NO_ITEMREF</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="hash_8c_source.html#l00549">cfs_hash_bd_del_locked()</a>, <a class="el" href="hash_8c_source.html#l01663">cfs_hash_for_each_nolock()</a>, and <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c1861a6230d3695fec196b09effb95a"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_no_lock" ref="a4c1861a6230d3695fec196b09effb95a" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_no_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00337">337</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00130">CFS_HASH_NO_LOCK</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, <a class="el" href="hash_8c_source.html#l01698">cfs_hash_for_each_empty()</a>, <a class="el" href="hash_8c_source.html#l01663">cfs_hash_for_each_nolock()</a>, <a class="el" href="hash_8c_source.html#l00210">cfs_hash_lock_setup()</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, and <a class="el" href="hash_8c_source.html#l01799">cfs_hash_rehash_cancel_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="abc89189c4f2f0b73b3274bbf4e9c095f"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_rehash" ref="abc89189c4f2f0b73b3274bbf4e9c095f" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_rehash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00392">392</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00148">CFS_HASH_REHASH</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="hash_8c_source.html#l00210">cfs_hash_lock_setup()</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="hash_8c_source.html#l01799">cfs_hash_rehash_cancel_locked()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="aa66470abdbbca99116c52ec9328fbfae"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_rehash_key" ref="aa66470abdbbca99116c52ec9328fbfae" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_rehash_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00398">398</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00146">CFS_HASH_REHASH_KEY</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01663">cfs_hash_for_each_nolock()</a>, and <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>.</p>

</div>
</div>
<a class="anchor" id="a72cd02f97c180016222f0573f4da0510"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_rw_bktlock" ref="a72cd02f97c180016222f0573f4da0510" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_rw_bktlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00351">351</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00134">CFS_HASH_RW_BKTLOCK</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, and <a class="el" href="hash_8c_source.html#l00210">cfs_hash_lock_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8de77233428631d054936b0005e66b4"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_shrink" ref="ad8de77233428631d054936b0005e66b4" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_shrink </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00404">404</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00150">CFS_HASH_SHRINK</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>.</p>

</div>
</div>
<a class="anchor" id="a61a95ba5e24ceccd46a8c53492b359be"></a><!-- doxytag: member="libcfs_hash.h::cfs_hash_with_spin_bktlock" ref="a61a95ba5e24ceccd46a8c53492b359be" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_with_spin_bktlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__hash_8h_source.html#l00358">358</a> of file <a class="el" href="libcfs__hash_8h_source.html">libcfs_hash.h</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00136">CFS_HASH_SPIN_BKTLOCK</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00618">cfs_hash_bd_dec_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, and <a class="el" href="hash_8c_source.html#l00210">cfs_hash_lock_setup()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:45 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
