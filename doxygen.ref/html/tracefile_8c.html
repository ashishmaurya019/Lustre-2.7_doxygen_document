<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: libcfs/libcfs/tracefile.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>libcfs/libcfs/tracefile.c File Reference</h1><code>#include &quot;<a class="el" href="tracefile_8h_source.html">tracefile.h</a>&quot;</code><br/>
<code>#include &lt;linux/kthread.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>

<p><a href="tracefile_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LNET</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a12b022e9fef730829eba38ec849f92bf">LUSTRE_TRACEFILE_PRIVATE</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#ac89aef84c5d8909a2e3d7f4ffd1e1ffd">DEFINE_MUTEX</a> (cfs_trace_thread_mutex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a7d715e72d37c16ae87301216afd2c678">put_pages_on_tcd_daemon_list</a> (struct <a class="el" href="structpage__collection.html">page_collection</a> *pc, struct cfs_trace_cpu_data *tcd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a3b64618055ca3fc65eefdd33539ca276">cfs_tage_from_list</a> (struct <a class="el" href="structlist__head.html">list_head</a> *<a class="el" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#aae348487cd4df9ce9944db4fe928a244">cfs_tage_alloc</a> (gfp_t gfp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a80906f8cd157549641e611494e322055">cfs_tage_free</a> (struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a> *tage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a0655484ca89ceebafe2c22a4a7e99182">cfs_tage_to_tail</a> (struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a> *tage, struct <a class="el" href="structlist__head.html">list_head</a> *queue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a3cfb290543692d41f5f542de38e0cfa2">cfs_trace_refill_stock</a> (struct cfs_trace_cpu_data *tcd, gfp_t gfp, struct <a class="el" href="structlist__head.html">list_head</a> *stock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#af7f5cbbe846f8ef5be73252d3de76794">cfs_trace_get_tage_try</a> (struct cfs_trace_cpu_data *tcd, unsigned long len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a39cc1501a52cbab8736bba48b26697f3">cfs_tcd_shrink</a> (struct cfs_trace_cpu_data *tcd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#af36603909dc2aa8078292c5509f4acc2">cfs_trace_get_tage</a> (struct cfs_trace_cpu_data *tcd, unsigned long len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#ac1b651f1d49f61e35e205d4ea7e0b10c">libcfs_debug_msg</a> (struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *msgdata, const char *format,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#ab315e03a079c2b84a666a6ca464e691c">libcfs_debug_vmsg2</a> (struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *msgdata, const char *format1, va_list args, const char *format2,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a503ed67d537461a12a011807aeea218f">cfs_trace_assertion_failed</a> (const char *str, struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *msgdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a681538850aecbaad21bfb57a8afbedca">panic_collect_pages</a> (struct <a class="el" href="structpage__collection.html">page_collection</a> *pc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a1af6eac4c3ad1deced5f35406e748a23">collect_pages_on_all_cpus</a> (struct <a class="el" href="structpage__collection.html">page_collection</a> *pc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a063d4847c51fdda0adde48871d199de3">collect_pages</a> (struct <a class="el" href="structpage__collection.html">page_collection</a> *pc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a8701272576f65fda50b4557de1f10c0f">put_pages_back_on_all_cpus</a> (struct <a class="el" href="structpage__collection.html">page_collection</a> *pc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a372221a4fb1096f5633a3563394a23e3">put_pages_back</a> (struct <a class="el" href="structpage__collection.html">page_collection</a> *pc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a3506474b91821b2cf98f77dcfce3719e">put_pages_on_daemon_list</a> (struct <a class="el" href="structpage__collection.html">page_collection</a> *pc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a878e64c567a3a9c619e786cffe7c3e34">cfs_trace_debug_print</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a26dd0bd047ca6bd72a9850b02496324e">cfs_tracefile_dump_all_pages</a> (char *<a class="el" href="parallel__grouplock_8c.html#a582cf4e6d51f51bab9e0e27ce07bb334">filename</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a014d8576a36d33b63196b25889b71734">cfs_trace_flush_pages</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#abbe8207dd41c61238d458fc42a57bb89">cfs_trace_copyin_string</a> (char *knl_buffer, int knl_buffer_nob, const char __user *usr_buffer, int usr_buffer_nob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#ac94fe51105b202958fe8dd8d44775b69">cfs_trace_copyout_string</a> (char __user *usr_buffer, int usr_buffer_nob, const char *knl_buffer, char *append)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a24ff1dbd5cd87ae8e103ef379af95a2c">cfs_trace_allocate_string_buffer</a> (char **str, int nob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#addee3417b7ed19131334c9cc0dbef18c">cfs_trace_dump_debug_buffer_usrstr</a> (void __user *usr_str, int usr_str_nob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a9fbf124d16096b77b3c4fc5fd9d0ee46">cfs_trace_daemon_command</a> (char *str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a6f768bc221f57977365f1e6ce55722de">cfs_trace_daemon_command_usrstr</a> (void __user *usr_str, int usr_str_nob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a96be81d711fb2328e6135f29a70a1d6e">cfs_trace_set_debug_mb</a> (int mb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#adbd1388eb2a254228d72772b5e21c449">cfs_trace_set_debug_mb_usrstr</a> (void __user *usr_str, int usr_str_nob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a86bf0a9a04daabadb1f27cf2243c8fba">cfs_trace_get_debug_mb</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a7e34df7aaec9032a323544ff2e8107bb">tracefiled</a> (void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a8b5c018ed3896ebd1d0d87e9221102d9">cfs_trace_start_thread</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a7edf7d85c903f890115135d6723c32f4">cfs_trace_stop_thread</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a7924bf787f3e3ae3814f23360e8b68fd">cfs_tracefile_init</a> (int max_pages)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#ac7d6a49fda0f586784cb8803ef5351fe">trace_cleanup_on_all_cpus</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a47427c2b16072f8256baaca2d91f3133">cfs_trace_cleanup</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a553796b9a675aaf9909d4395c56b84f8">cfs_tracefile_exit</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">union <a class="el" href="unioncfs__trace__data__union.html">cfs_trace_data_union</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#ae0e432e0ea8f3c975652c179974f5ab1">__cacheline_aligned</a> [TCD_MAX_TYPES] <a class="el" href="tracefile_8h.html#a89c15abfd199c179369b1849b70a63cf">cfs_trace_data</a>)[NR_CPUS]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a818b3a3bec2a3dc3c1c8b36ff4a7dcad">cfs_tracefile</a> [TRACEFILE_NAME_SIZE]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#ac86dbf85ebea9d9438ea17a27175e634">cfs_tracefile_size</a> = CFS_TRACEFILE_SIZE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structtracefiled__ctl.html">tracefiled_ctl</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#acb3a9e027fc15f5a1439514ed67ad2f0">trace_tctl</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#adbf61a1af6f9211b197dc0d26eaa8c49">thread_running</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static atomic_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tracefile_8c.html#a2794d3edf9dcb66d58a95b83f97fc6be">cfs_tage_allocated</a> = ATOMIC_INIT(0)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="tracefile.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LNET</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00043">43</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

</div>
</div>
<a class="anchor" id="a12b022e9fef730829eba38ec849f92bf"></a><!-- doxytag: member="tracefile.c::LUSTRE_TRACEFILE_PRIVATE" ref="a12b022e9fef730829eba38ec849f92bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LUSTRE_TRACEFILE_PRIVATE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00044">44</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aae348487cd4df9ce9944db4fe928a244"></a><!-- doxytag: member="tracefile.c::cfs_tage_alloc" ref="aae348487cd4df9ce9944db4fe928a244" args="(gfp_t gfp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a>* cfs_tage_alloc </td>
          <td>(</td>
          <td class="paramtype">gfp_t&nbsp;</td>
          <td class="paramname"> <em>gfp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00070">70</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8c_source.html#l00059">cfs_tage_allocated</a>, <a class="el" href="libcfs__prim_8h_source.html#l00068">memory_pressure_get()</a>, and <a class="el" href="tracefile_8h_source.html#l00238">cfs_trace_page::page</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00141">cfs_trace_get_tage_try()</a>, and <a class="el" href="tracefile_8c_source.html#l00118">cfs_trace_refill_stock()</a>.</p>

</div>
</div>
<a class="anchor" id="a80906f8cd157549641e611494e322055"></a><!-- doxytag: member="tracefile.c::cfs_tage_free" ref="a80906f8cd157549641e611494e322055" args="(struct cfs_trace_page *tage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_tage_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a> *&nbsp;</td>
          <td class="paramname"> <em>tage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00099">99</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00306">__LASSERT</a>, <a class="el" href="tracefile_8c_source.html#l00059">cfs_tage_allocated</a>, and <a class="el" href="tracefile_8h_source.html#l00238">cfs_trace_page::page</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00624">cfs_trace_debug_print()</a>, <a class="el" href="tracefile_8c_source.html#l00722">cfs_trace_flush_pages()</a>, <a class="el" href="tracefile_8c_source.html#l00661">cfs_tracefile_dump_all_pages()</a>, <a class="el" href="tracefile_8c_source.html#l00583">put_pages_on_tcd_daemon_list()</a>, and <a class="el" href="tracefile_8c_source.html#l01132">trace_cleanup_on_all_cpus()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b64618055ca3fc65eefdd33539ca276"></a><!-- doxytag: member="tracefile.c::cfs_tage_from_list" ref="a3b64618055ca3fc65eefdd33539ca276" args="(struct list_head *list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a>* cfs_tage_from_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00065">65</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, and <a class="el" href="list_8h_source.html#l00242">list_entry</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00217">cfs_trace_get_tage()</a>, <a class="el" href="tracefile_8c_source.html#l00141">cfs_trace_get_tage_try()</a>, and <a class="el" href="tracefile_8c_source.html#l00583">put_pages_on_tcd_daemon_list()</a>.</p>

</div>
</div>
<a class="anchor" id="a0655484ca89ceebafe2c22a4a7e99182"></a><!-- doxytag: member="tracefile.c::cfs_tage_to_tail" ref="a0655484ca89ceebafe2c22a4a7e99182" args="(struct cfs_trace_page *tage, struct list_head *queue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_tage_to_tail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a> *&nbsp;</td>
          <td class="paramname"> <em>tage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>queue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00109">109</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00306">__LASSERT</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, and <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00217">cfs_trace_get_tage()</a>, <a class="el" href="tracefile_8c_source.html#l00546">put_pages_back_on_all_cpus()</a>, and <a class="el" href="tracefile_8c_source.html#l00583">put_pages_on_tcd_daemon_list()</a>.</p>

</div>
</div>
<a class="anchor" id="a39cc1501a52cbab8736bba48b26697f3"></a><!-- doxytag: member="tracefile.c::cfs_tcd_shrink" ref="a39cc1501a52cbab8736bba48b26697f3" args="(struct cfs_trace_cpu_data *tcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_tcd_shrink </td>
          <td>(</td>
          <td class="paramtype">struct cfs_trace_cpu_data *&nbsp;</td>
          <td class="paramname"> <em>tcd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00187">187</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, <a class="el" href="libcfs__private_8h_source.html#l00285">printk</a>, and <a class="el" href="tracefile_8c_source.html#l00583">put_pages_on_tcd_daemon_list()</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00217">cfs_trace_get_tage()</a>.</p>

</div>
</div>
<a class="anchor" id="a24ff1dbd5cd87ae8e103ef379af95a2c"></a><!-- doxytag: member="tracefile.c::cfs_trace_allocate_string_buffer" ref="a24ff1dbd5cd87ae8e103ef379af95a2c" args="(char **str, int nob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_allocate_string_buffer </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nob</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00791">791</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00184">__proc_dobitmasks()</a>, <a class="el" href="tracefile_8c_source.html#l00865">cfs_trace_daemon_command_usrstr()</a>, and <a class="el" href="tracefile_8c_source.html#l00803">cfs_trace_dump_debug_buffer_usrstr()</a>.</p>

</div>
</div>
<a class="anchor" id="a503ed67d537461a12a011807aeea218f"></a><!-- doxytag: member="tracefile.c::cfs_trace_assertion_failed" ref="a503ed67d537461a12a011807aeea218f" args="(const char *str, struct libcfs_debug_msg_data *msgdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_trace_assertion_failed </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *&nbsp;</td>
          <td class="paramname"> <em>msgdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00475">475</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="linux_2libcfs_8h_source.html#l00100">CDEBUG_STACK</a>, <a class="el" href="linux-tracefile_8c_source.html#l00238">cfs_print_to_console()</a>, <a class="el" href="linux-tracefile_8c_source.html#l00191">cfs_set_ptldebug_header()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00147">D_EMERG</a>, <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00090">libcfs_catastrophe</a>, <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00112">libcfs_panic_in_progress</a>, <a class="el" href="libcfs__debug_8h_source.html#l00183">libcfs_debug_msg_data::msg_file</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00184">libcfs_debug_msg_data::msg_fn</a>.</p>

</div>
</div>
<a class="anchor" id="a47427c2b16072f8256baaca2d91f3133"></a><!-- doxytag: member="tracefile.c::cfs_trace_cleanup" ref="a47427c2b16072f8256baaca2d91f3133" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_trace_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l01154">1154</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="linux-tracefile_8c_source.html#l00097">cfs_tracefile_fini_arch()</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, and <a class="el" href="tracefile_8c_source.html#l01132">trace_cleanup_on_all_cpus()</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l01165">cfs_tracefile_exit()</a>.</p>

</div>
</div>
<a class="anchor" id="abbe8207dd41c61238d458fc42a57bb89"></a><!-- doxytag: member="tracefile.c::cfs_trace_copyin_string" ref="abbe8207dd41c61238d458fc42a57bb89" args="(char *knl_buffer, int knl_buffer_nob, const char __user *usr_buffer, int usr_buffer_nob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_copyin_string </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>knl_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>knl_buffer_nob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>usr_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>usr_buffer_nob</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00739">739</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="lnet_2utils_2wirecheck_8c_source.html#l00051">strnlen</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00184">__proc_dobitmasks()</a>, <a class="el" href="router__proc_8c_source.html#l00790">__proc_lnet_portal_rotor()</a>, <a class="el" href="tracefile_8c_source.html#l00865">cfs_trace_daemon_command_usrstr()</a>, <a class="el" href="tracefile_8c_source.html#l00803">cfs_trace_dump_debug_buffer_usrstr()</a>, and <a class="el" href="tracefile_8c_source.html#l00918">cfs_trace_set_debug_mb_usrstr()</a>.</p>

</div>
</div>
<a class="anchor" id="ac94fe51105b202958fe8dd8d44775b69"></a><!-- doxytag: member="tracefile.c::cfs_trace_copyout_string" ref="ac94fe51105b202958fe8dd8d44775b69" args="(char __user *usr_buffer, int usr_buffer_nob, const char *knl_buffer, char *append)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_copyout_string </td>
          <td>(</td>
          <td class="paramtype">char __user *&nbsp;</td>
          <td class="paramname"> <em>usr_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>usr_buffer_nob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>knl_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>append</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00766">766</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00421">__proc_cpt_table()</a>, <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00253">__proc_daemon_file()</a>, <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00277">__proc_debug_mb()</a>, <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00184">__proc_dobitmasks()</a>, <a class="el" href="router__proc_8c_source.html#l00567">__proc_lnet_buffers()</a>, <a class="el" href="router__proc_8c_source.html#l00790">__proc_lnet_portal_rotor()</a>, and <a class="el" href="router__proc_8c_source.html#l00079">__proc_lnet_stats()</a>.</p>

</div>
</div>
<a class="anchor" id="a9fbf124d16096b77b3c4fc5fd9d0ee46"></a><!-- doxytag: member="tracefile.c::cfs_trace_daemon_command" ref="a9fbf124d16096b77b3c4fc5fd9d0ee46" args="(char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_daemon_command </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00827">827</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8c_source.html#l01063">cfs_trace_start_thread()</a>, <a class="el" href="tracefile_8c_source.html#l01089">cfs_trace_stop_thread()</a>, <a class="el" href="tracefile_8c_source.html#l00053">cfs_tracefile</a>, <a class="el" href="tracefile_8h_source.html#l00111">CFS_TRACEFILE_SIZE</a>, <a class="el" href="tracefile_8c_source.html#l00054">cfs_tracefile_size</a>, <a class="el" href="linux-tracefile_8c_source.html#l00125">cfs_tracefile_write_lock()</a>, <a class="el" href="linux-tracefile_8c_source.html#l00130">cfs_tracefile_write_unlock()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00285">printk</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00865">cfs_trace_daemon_command_usrstr()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f768bc221f57977365f1e6ce55722de"></a><!-- doxytag: member="tracefile.c::cfs_trace_daemon_command_usrstr" ref="a6f768bc221f57977365f1e6ce55722de" args="(void __user *usr_str, int usr_str_nob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_daemon_command_usrstr </td>
          <td>(</td>
          <td class="paramtype">void __user *&nbsp;</td>
          <td class="paramname"> <em>usr_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>usr_str_nob</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00865">865</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8c_source.html#l00791">cfs_trace_allocate_string_buffer()</a>, <a class="el" href="tracefile_8c_source.html#l00739">cfs_trace_copyin_string()</a>, and <a class="el" href="tracefile_8c_source.html#l00827">cfs_trace_daemon_command()</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00253">__proc_daemon_file()</a>.</p>

</div>
</div>
<a class="anchor" id="a878e64c567a3a9c619e786cffe7c3e34"></a><!-- doxytag: member="tracefile.c::cfs_trace_debug_print" ref="a878e64c567a3a9c619e786cffe7c3e34" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_trace_debug_print </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00624">624</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00315">__LASSERT_TAGE_INVARIANT</a>, <a class="el" href="linux-tracefile_8c_source.html#l00238">cfs_print_to_console()</a>, <a class="el" href="tracefile_8c_source.html#l00099">cfs_tage_free()</a>, <a class="el" href="tracefile_8c_source.html#l00536">collect_pages()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00147">D_EMERG</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="tracefile_8h_source.html#l00238">cfs_trace_page::page</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, <a class="el" href="tracefile_8h_source.html#l00216">page_collection::pc_want_daemon_pages</a>, <a class="el" href="libcfs__debug_8h_source.html#l00071">ptldebug_header::ph_len</a>, and <a class="el" href="tracefile_8h_source.html#l00247">cfs_trace_page::used</a>.</p>

<p>Referenced by <a class="el" href="linux-debug_8c_source.html#l00273">panic_notifier()</a>.</p>

</div>
</div>
<a class="anchor" id="addee3417b7ed19131334c9cc0dbef18c"></a><!-- doxytag: member="tracefile.c::cfs_trace_dump_debug_buffer_usrstr" ref="addee3417b7ed19131334c9cc0dbef18c" args="(void __user *usr_str, int usr_str_nob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_dump_debug_buffer_usrstr </td>
          <td>(</td>
          <td class="paramtype">void __user *&nbsp;</td>
          <td class="paramname"> <em>usr_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>usr_str_nob</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00803">803</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8c_source.html#l00791">cfs_trace_allocate_string_buffer()</a>, <a class="el" href="tracefile_8c_source.html#l00739">cfs_trace_copyin_string()</a>, and <a class="el" href="tracefile_8c_source.html#l00661">cfs_tracefile_dump_all_pages()</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00236">__proc_dump_kernel()</a>.</p>

</div>
</div>
<a class="anchor" id="a014d8576a36d33b63196b25889b71734"></a><!-- doxytag: member="tracefile.c::cfs_trace_flush_pages" ref="a014d8576a36d33b63196b25889b71734" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_trace_flush_pages </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00722">722</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00315">__LASSERT_TAGE_INVARIANT</a>, <a class="el" href="tracefile_8c_source.html#l00099">cfs_tage_free()</a>, <a class="el" href="tracefile_8c_source.html#l00536">collect_pages()</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, and <a class="el" href="tracefile_8h_source.html#l00216">page_collection::pc_want_daemon_pages</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00322">libcfs_debug_clear_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a86bf0a9a04daabadb1f27cf2243c8fba"></a><!-- doxytag: member="tracefile.c::cfs_trace_get_debug_mb" ref="a86bf0a9a04daabadb1f27cf2243c8fba" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_get_debug_mb </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00930">930</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00196">cfs_tcd_for_each</a>, <a class="el" href="linux-tracefile_8c_source.html#l00115">cfs_tracefile_read_lock()</a>, and <a class="el" href="linux-tracefile_8c_source.html#l00120">cfs_tracefile_read_unlock()</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00277">__proc_debug_mb()</a>.</p>

</div>
</div>
<a class="anchor" id="af36603909dc2aa8078292c5509f4acc2"></a><!-- doxytag: member="tracefile.c::cfs_trace_get_tage" ref="af36603909dc2aa8078292c5509f4acc2" args="(struct cfs_trace_cpu_data *tcd, unsigned long len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a>* cfs_trace_get_tage </td>
          <td>(</td>
          <td class="paramtype">struct cfs_trace_cpu_data *&nbsp;</td>
          <td class="paramname"> <em>tcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00217">217</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8c_source.html#l00065">cfs_tage_from_list()</a>, <a class="el" href="tracefile_8c_source.html#l00109">cfs_tage_to_tail()</a>, <a class="el" href="tracefile_8c_source.html#l00187">cfs_tcd_shrink()</a>, <a class="el" href="tracefile_8c_source.html#l00141">cfs_trace_get_tage_try()</a>, <a class="el" href="libcfs__private_8h_source.html#l00285">printk</a>, <a class="el" href="tracefile_8c_source.html#l00057">thread_running</a>, and <a class="el" href="tracefile_8h_source.html#l00247">cfs_trace_page::used</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00260">libcfs_debug_vmsg2()</a>.</p>

</div>
</div>
<a class="anchor" id="af7f5cbbe846f8ef5be73252d3de76794"></a><!-- doxytag: member="tracefile.c::cfs_trace_get_tage_try" ref="af7f5cbbe846f8ef5be73252d3de76794" args="(struct cfs_trace_cpu_data *tcd, unsigned long len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcfs__trace__page.html">cfs_trace_page</a>* cfs_trace_get_tage_try </td>
          <td>(</td>
          <td class="paramtype">struct cfs_trace_cpu_data *&nbsp;</td>
          <td class="paramname"> <em>tcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00141">141</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00306">__LASSERT</a>, <a class="el" href="tracefile_8c_source.html#l00070">cfs_tage_alloc()</a>, <a class="el" href="tracefile_8c_source.html#l00065">cfs_tage_from_list()</a>, <a class="el" href="tracefile_8h_source.html#l00251">cfs_trace_page::cpu</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="libcfs__prim_8h_source.html#l00068">memory_pressure_get()</a>, <a class="el" href="libcfs__private_8h_source.html#l00285">printk</a>, <a class="el" href="tracefile_8h_source.html#l00224">tracefiled_ctl::tctl_waitq</a>, <a class="el" href="tracefile_8c_source.html#l00057">thread_running</a>, <a class="el" href="tracefile_8c_source.html#l00055">trace_tctl</a>, <a class="el" href="tracefile_8h_source.html#l00255">cfs_trace_page::type</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="tracefile_8h_source.html#l00247">cfs_trace_page::used</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00217">cfs_trace_get_tage()</a>.</p>

</div>
</div>
<a class="anchor" id="a3cfb290543692d41f5f542de38e0cfa2"></a><!-- doxytag: member="tracefile.c::cfs_trace_refill_stock" ref="a3cfb290543692d41f5f542de38e0cfa2" args="(struct cfs_trace_cpu_data *tcd, gfp_t gfp, struct list_head *stock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_refill_stock </td>
          <td>(</td>
          <td class="paramtype">struct cfs_trace_cpu_data *&nbsp;</td>
          <td class="paramname"> <em>tcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gfp_t&nbsp;</td>
          <td class="paramname"> <em>gfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>stock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00118">118</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8c_source.html#l00070">cfs_tage_alloc()</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, and <a class="el" href="tracefile_8h_source.html#l00109">TCD_STOCK_PAGES</a>.</p>

</div>
</div>
<a class="anchor" id="a96be81d711fb2328e6135f29a70a1d6e"></a><!-- doxytag: member="tracefile.c::cfs_trace_set_debug_mb" ref="a96be81d711fb2328e6135f29a70a1d6e" args="(int mb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_set_debug_mb </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00883">883</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00196">cfs_tcd_for_each</a>, <a class="el" href="linux-tracefile_8c_source.html#l00268">cfs_trace_max_debug_mb()</a>, <a class="el" href="linux-tracefile_8c_source.html#l00125">cfs_tracefile_write_lock()</a>, <a class="el" href="linux-tracefile_8c_source.html#l00130">cfs_tracefile_write_unlock()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00285">printk</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00918">cfs_trace_set_debug_mb_usrstr()</a>.</p>

</div>
</div>
<a class="anchor" id="adbd1388eb2a254228d72772b5e21c449"></a><!-- doxytag: member="tracefile.c::cfs_trace_set_debug_mb_usrstr" ref="adbd1388eb2a254228d72772b5e21c449" args="(void __user *usr_str, int usr_str_nob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_set_debug_mb_usrstr </td>
          <td>(</td>
          <td class="paramtype">void __user *&nbsp;</td>
          <td class="paramname"> <em>usr_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>usr_str_nob</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00918">918</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8c_source.html#l00739">cfs_trace_copyin_string()</a>, and <a class="el" href="tracefile_8c_source.html#l00883">cfs_trace_set_debug_mb()</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00277">__proc_debug_mb()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b5c018ed3896ebd1d0d87e9221102d9"></a><!-- doxytag: member="tracefile.c::cfs_trace_start_thread" ref="a8b5c018ed3896ebd1d0d87e9221102d9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_trace_start_thread </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l01063">1063</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00226">tracefiled_ctl::tctl_shutdown</a>, <a class="el" href="tracefile_8h_source.html#l00222">tracefiled_ctl::tctl_start</a>, <a class="el" href="tracefile_8h_source.html#l00223">tracefiled_ctl::tctl_stop</a>, <a class="el" href="tracefile_8h_source.html#l00224">tracefiled_ctl::tctl_waitq</a>, <a class="el" href="tracefile_8c_source.html#l00057">thread_running</a>, <a class="el" href="tracefile_8c_source.html#l00055">trace_tctl</a>, and <a class="el" href="tracefile_8c_source.html#l00947">tracefiled()</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00827">cfs_trace_daemon_command()</a>.</p>

</div>
</div>
<a class="anchor" id="a7edf7d85c903f890115135d6723c32f4"></a><!-- doxytag: member="tracefile.c::cfs_trace_stop_thread" ref="a7edf7d85c903f890115135d6723c32f4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_trace_stop_thread </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l01089">1089</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00285">printk</a>, <a class="el" href="tracefile_8h_source.html#l00226">tracefiled_ctl::tctl_shutdown</a>, <a class="el" href="tracefile_8h_source.html#l00223">tracefiled_ctl::tctl_stop</a>, <a class="el" href="tracefile_8c_source.html#l00057">thread_running</a>, and <a class="el" href="tracefile_8c_source.html#l00055">trace_tctl</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00827">cfs_trace_daemon_command()</a>, and <a class="el" href="tracefile_8c_source.html#l01165">cfs_tracefile_exit()</a>.</p>

</div>
</div>
<a class="anchor" id="a26dd0bd047ca6bd72a9850b02496324e"></a><!-- doxytag: member="tracefile.c::cfs_tracefile_dump_all_pages" ref="a26dd0bd047ca6bd72a9850b02496324e" args="(char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_tracefile_dump_all_pages </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>filename</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00661">661</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00306">__LASSERT</a>, <a class="el" href="tracefile_8h_source.html#l00315">__LASSERT_TAGE_INVARIANT</a>, <a class="el" href="ioctl_8h_source.html#l00048">__user</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="tracefile_8c_source.html#l00099">cfs_tage_free()</a>, <a class="el" href="linux-tracefile_8c_source.html#l00125">cfs_tracefile_write_lock()</a>, <a class="el" href="linux-tracefile_8c_source.html#l00130">cfs_tracefile_write_unlock()</a>, <a class="el" href="tracefile_8c_source.html#l00536">collect_pages()</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="linux-fs_8h_source.html#l00062">ll_vfs_fsync_range</a>, <a class="el" href="tracefile_8h_source.html#l00238">cfs_trace_page::page</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, <a class="el" href="tracefile_8h_source.html#l00216">page_collection::pc_want_daemon_pages</a>, <a class="el" href="libcfs__private_8h_source.html#l00285">printk</a>, <a class="el" href="tracefile_8c_source.html#l00573">put_pages_back()</a>, and <a class="el" href="tracefile_8h_source.html#l00247">cfs_trace_page::used</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00803">cfs_trace_dump_debug_buffer_usrstr()</a>, and <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00219">libcfs_debug_dumplog_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a553796b9a675aaf9909d4395c56b84f8"></a><!-- doxytag: member="tracefile.c::cfs_tracefile_exit" ref="a553796b9a675aaf9909d4395c56b84f8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_tracefile_exit </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l01165">1165</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8c_source.html#l01154">cfs_trace_cleanup()</a>, and <a class="el" href="tracefile_8c_source.html#l01089">cfs_trace_stop_thread()</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00315">libcfs_debug_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a7924bf787f3e3ae3814f23360e8b68fd"></a><!-- doxytag: member="tracefile.c::cfs_tracefile_init" ref="a7924bf787f3e3ae3814f23360e8b68fd" args="(int max_pages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_tracefile_init </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_pages</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l01104">1104</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00196">cfs_tcd_for_each</a>, <a class="el" href="linux-tracefile_8c_source.html#l00054">cfs_tracefile_init_arch()</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00279">libcfs_debug_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a063d4847c51fdda0adde48871d199de3"></a><!-- doxytag: member="tracefile.c::collect_pages" ref="a063d4847c51fdda0adde48871d199de3" args="(struct page_collection *pc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void collect_pages </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpage__collection.html">page_collection</a> *&nbsp;</td>
          <td class="paramname"> <em>pc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00536">536</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8c_source.html#l00518">collect_pages_on_all_cpus()</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00112">libcfs_panic_in_progress</a>, <a class="el" href="tracefile_8c_source.html#l00495">panic_collect_pages()</a>, and <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00624">cfs_trace_debug_print()</a>, <a class="el" href="tracefile_8c_source.html#l00722">cfs_trace_flush_pages()</a>, <a class="el" href="tracefile_8c_source.html#l00661">cfs_tracefile_dump_all_pages()</a>, and <a class="el" href="tracefile_8c_source.html#l00947">tracefiled()</a>.</p>

</div>
</div>
<a class="anchor" id="a1af6eac4c3ad1deced5f35406e748a23"></a><!-- doxytag: member="tracefile.c::collect_pages_on_all_cpus" ref="a1af6eac4c3ad1deced5f35406e748a23" args="(struct page_collection *pc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void collect_pages_on_all_cpus </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpage__collection.html">page_collection</a> *&nbsp;</td>
          <td class="paramname"> <em>pc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00518">518</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00202">cfs_tcd_for_each_type_lock</a>, <a class="el" href="list_8h_source.html#l00227">list_splice_init()</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, and <a class="el" href="tracefile_8h_source.html#l00216">page_collection::pc_want_daemon_pages</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00536">collect_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="ac89aef84c5d8909a2e3d7f4ffd1e1ffd"></a><!-- doxytag: member="tracefile.c::DEFINE_MUTEX" ref="ac89aef84c5d8909a2e3d7f4ffd1e1ffd" args="(cfs_trace_thread_mutex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_MUTEX </td>
          <td>(</td>
          <td class="paramtype">cfs_trace_thread_mutex&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1b651f1d49f61e35e205d4ea7e0b10c"></a><!-- doxytag: member="tracefile.c::libcfs_debug_msg" ref="ac1b651f1d49f61e35e205d4ea7e0b10c" args="(struct libcfs_debug_msg_data *msgdata, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int libcfs_debug_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *&nbsp;</td>
          <td class="paramname"> <em>msgdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00246">246</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h.html#a8877fb34a6211d9fb620a7a35d97468c">libcfs_debug_vmsg2()</a>.</p>

</div>
</div>
<a class="anchor" id="ab315e03a079c2b84a666a6ca464e691c"></a><!-- doxytag: member="tracefile.c::libcfs_debug_vmsg2" ref="ab315e03a079c2b84a666a6ca464e691c" args="(struct libcfs_debug_msg_data *msgdata, const char *format1, va_list args, const char *format2,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int libcfs_debug_vmsg2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *&nbsp;</td>
          <td class="paramname"> <em>msgdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00260">260</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00306">__LASSERT</a>, <a class="el" href="linux_2libcfs_8h_source.html#l00100">CDEBUG_STACK</a>, <a class="el" href="linux-tracefile_8c_source.html#l00238">cfs_print_to_console()</a>, <a class="el" href="linux-tracefile_8c_source.html#l00191">cfs_set_ptldebug_header()</a>, <a class="el" href="libcfs__time_8h_source.html#l00056">cfs_time_after()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="tracefile_8h_source.html#l00115">CFS_TRACE_CONSOLE_BUFFER_SIZE</a>, <a class="el" href="tracefile_8h_source.html#l00271">cfs_trace_get_console_buffer()</a>, <a class="el" href="tracefile_8c_source.html#l00217">cfs_trace_get_tage()</a>, <a class="el" href="tracefile_8h_source.html#l00279">cfs_trace_get_tcd()</a>, <a class="el" href="tracefile_8h_source.html#l00289">cfs_trace_put_tcd()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00081">libcfs_console_backoff</a>, <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00073">libcfs_console_max_delay</a>, <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00077">libcfs_console_min_delay</a>, <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00069">libcfs_console_ratelimit</a>, <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00085">libcfs_debug_binary</a>, <a class="el" href="portals_8c_source.html#l00046">libcfs_printk</a>, <a class="el" href="libcfs__debug_8h_source.html#l00188">libcfs_debug_msg_data::msg_cdls</a>, <a class="el" href="libcfs__debug_8h_source.html#l00183">libcfs_debug_msg_data::msg_file</a>, <a class="el" href="libcfs__debug_8h_source.html#l00184">libcfs_debug_msg_data::msg_fn</a>, <a class="el" href="libcfs__debug_8h_source.html#l00186">libcfs_debug_msg_data::msg_line</a>, <a class="el" href="libcfs__debug_8h_source.html#l00187">libcfs_debug_msg_data::msg_mask</a>, <a class="el" href="tracefile_8h_source.html#l00238">cfs_trace_page::page</a>, <a class="el" href="libcfs__debug_8h_source.html#l00086">PH_FLAG_FIRST_RECORD</a>, <a class="el" href="libcfs__debug_8h_source.html#l00072">ptldebug_header::ph_flags</a>, <a class="el" href="libcfs__debug_8h_source.html#l00071">ptldebug_header::ph_len</a>, <a class="el" href="libcfs__private_8h_source.html#l00285">printk</a>, and <a class="el" href="tracefile_8h_source.html#l00247">cfs_trace_page::used</a>.</p>

</div>
</div>
<a class="anchor" id="a681538850aecbaad21bfb57a8afbedca"></a><!-- doxytag: member="tracefile.c::panic_collect_pages" ref="a681538850aecbaad21bfb57a8afbedca" args="(struct page_collection *pc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void panic_collect_pages </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpage__collection.html">page_collection</a> *&nbsp;</td>
          <td class="paramname"> <em>pc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00495">495</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00196">cfs_tcd_for_each</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00227">list_splice_init()</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, and <a class="el" href="tracefile_8h_source.html#l00216">page_collection::pc_want_daemon_pages</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00536">collect_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="a372221a4fb1096f5633a3563394a23e3"></a><!-- doxytag: member="tracefile.c::put_pages_back" ref="a372221a4fb1096f5633a3563394a23e3" args="(struct page_collection *pc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void put_pages_back </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpage__collection.html">page_collection</a> *&nbsp;</td>
          <td class="paramname"> <em>pc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00573">573</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="libcfs_2libcfs_2debug_8c_source.html#l00112">libcfs_panic_in_progress</a>, and <a class="el" href="tracefile_8c_source.html#l00546">put_pages_back_on_all_cpus()</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00661">cfs_tracefile_dump_all_pages()</a>, and <a class="el" href="tracefile_8c_source.html#l00947">tracefiled()</a>.</p>

</div>
</div>
<a class="anchor" id="a8701272576f65fda50b4557de1f10c0f"></a><!-- doxytag: member="tracefile.c::put_pages_back_on_all_cpus" ref="a8701272576f65fda50b4557de1f10c0f" args="(struct page_collection *pc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void put_pages_back_on_all_cpus </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpage__collection.html">page_collection</a> *&nbsp;</td>
          <td class="paramname"> <em>pc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00546">546</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00315">__LASSERT_TAGE_INVARIANT</a>, <a class="el" href="tracefile_8c_source.html#l00109">cfs_tage_to_tail()</a>, <a class="el" href="tracefile_8h_source.html#l00202">cfs_tcd_for_each_type_lock</a>, <a class="el" href="tracefile_8h_source.html#l00251">cfs_trace_page::cpu</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, and <a class="el" href="tracefile_8h_source.html#l00255">cfs_trace_page::type</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00573">put_pages_back()</a>.</p>

</div>
</div>
<a class="anchor" id="a3506474b91821b2cf98f77dcfce3719e"></a><!-- doxytag: member="tracefile.c::put_pages_on_daemon_list" ref="a3506474b91821b2cf98f77dcfce3719e" args="(struct page_collection *pc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void put_pages_on_daemon_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpage__collection.html">page_collection</a> *&nbsp;</td>
          <td class="paramname"> <em>pc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00613">613</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00202">cfs_tcd_for_each_type_lock</a>, and <a class="el" href="tracefile_8c_source.html#l00583">put_pages_on_tcd_daemon_list()</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00947">tracefiled()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d715e72d37c16ae87301216afd2c678"></a><!-- doxytag: member="tracefile.c::put_pages_on_tcd_daemon_list" ref="a7d715e72d37c16ae87301216afd2c678" args="(struct page_collection *pc, struct cfs_trace_cpu_data *tcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void put_pages_on_tcd_daemon_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpage__collection.html">page_collection</a> *&nbsp;</td>
          <td class="paramname"> <em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct cfs_trace_cpu_data *&nbsp;</td>
          <td class="paramname"> <em>tcd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00583">583</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00306">__LASSERT</a>, <a class="el" href="tracefile_8h_source.html#l00315">__LASSERT_TAGE_INVARIANT</a>, <a class="el" href="tracefile_8c_source.html#l00099">cfs_tage_free()</a>, <a class="el" href="tracefile_8c_source.html#l00065">cfs_tage_from_list()</a>, <a class="el" href="tracefile_8c_source.html#l00109">cfs_tage_to_tail()</a>, <a class="el" href="tracefile_8h_source.html#l00251">cfs_trace_page::cpu</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, and <a class="el" href="tracefile_8h_source.html#l00255">cfs_trace_page::type</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00187">cfs_tcd_shrink()</a>, and <a class="el" href="tracefile_8c_source.html#l00613">put_pages_on_daemon_list()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7d6a49fda0f586784cb8803ef5351fe"></a><!-- doxytag: member="tracefile.c::trace_cleanup_on_all_cpus" ref="ac7d6a49fda0f586784cb8803ef5351fe" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void trace_cleanup_on_all_cpus </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l01132">1132</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00315">__LASSERT_TAGE_INVARIANT</a>, <a class="el" href="tracefile_8c_source.html#l00099">cfs_tage_free()</a>, <a class="el" href="tracefile_8h_source.html#l00202">cfs_tcd_for_each_type_lock</a>, <a class="el" href="tracefile_8h_source.html#l00251">cfs_trace_page::cpu</a>, <a class="el" href="tracefile_8h_source.html#l00243">cfs_trace_page::linkage</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, and <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l01154">cfs_trace_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e34df7aaec9032a323544ff2e8107bb"></a><!-- doxytag: member="tracefile.c::tracefiled" ref="a7e34df7aaec9032a323544ff2e8107bb" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int tracefiled </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00947">947</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>References <a class="el" href="tracefile_8h_source.html#l00306">__LASSERT</a>, <a class="el" href="tracefile_8h_source.html#l00315">__LASSERT_TAGE_INVARIANT</a>, <a class="el" href="ioctl_8h_source.html#l00048">__user</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="tracefile_8c_source.html#l00053">cfs_tracefile</a>, <a class="el" href="linux-tracefile_8c_source.html#l00115">cfs_tracefile_read_lock()</a>, <a class="el" href="linux-tracefile_8c_source.html#l00120">cfs_tracefile_read_unlock()</a>, <a class="el" href="tracefile_8c_source.html#l00054">cfs_tracefile_size</a>, <a class="el" href="tracefile_8c_source.html#l00536">collect_pages()</a>, <a class="el" href="tracefile_8h_source.html#l00251">cfs_trace_page::cpu</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="tracefile_8h_source.html#l00238">cfs_trace_page::page</a>, <a class="el" href="tracefile_8h_source.html#l00210">page_collection::pc_pages</a>, <a class="el" href="tracefile_8h_source.html#l00216">page_collection::pc_want_daemon_pages</a>, <a class="el" href="libcfs__private_8h_source.html#l00285">printk</a>, <a class="el" href="tracefile_8c_source.html#l00573">put_pages_back()</a>, <a class="el" href="tracefile_8c_source.html#l00613">put_pages_on_daemon_list()</a>, <a class="el" href="tracefile_8h_source.html#l00226">tracefiled_ctl::tctl_shutdown</a>, <a class="el" href="tracefile_8h_source.html#l00222">tracefiled_ctl::tctl_start</a>, <a class="el" href="tracefile_8h_source.html#l00223">tracefiled_ctl::tctl_stop</a>, <a class="el" href="tracefile_8h_source.html#l00224">tracefiled_ctl::tctl_waitq</a>, and <a class="el" href="tracefile_8h_source.html#l00247">cfs_trace_page::used</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l01063">cfs_trace_start_thread()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ae0e432e0ea8f3c975652c179974f5ab1"></a><!-- doxytag: member="tracefile.c::__cacheline_aligned" ref="ae0e432e0ea8f3c975652c179974f5ab1" args="[TCD_MAX_TYPES] cfs_trace_data)[NR_CPUS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union <a class="el" href="unioncfs__trace__data__union.html">cfs_trace_data_union</a>(* <a class="el" href="tracefile_8c.html#ae0e432e0ea8f3c975652c179974f5ab1">__cacheline_aligned</a>[TCD_MAX_TYPES] <a class="el" href="tracefile_8h.html#a89c15abfd199c179369b1849b70a63cf">cfs_trace_data</a> )[NR_CPUS]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00051">51</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2794d3edf9dcb66d58a95b83f97fc6be"></a><!-- doxytag: member="tracefile.c::cfs_tage_allocated" ref="a2794d3edf9dcb66d58a95b83f97fc6be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t <a class="el" href="tracefile_8c.html#a2794d3edf9dcb66d58a95b83f97fc6be">cfs_tage_allocated</a> = ATOMIC_INIT(0)<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00059">59</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00070">cfs_tage_alloc()</a>, and <a class="el" href="tracefile_8c_source.html#l00099">cfs_tage_free()</a>.</p>

</div>
</div>
<a class="anchor" id="a818b3a3bec2a3dc3c1c8b36ff4a7dcad"></a><!-- doxytag: member="tracefile.c::cfs_tracefile" ref="a818b3a3bec2a3dc3c1c8b36ff4a7dcad" args="[TRACEFILE_NAME_SIZE]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="tracefile_8h.html#a818b3a3bec2a3dc3c1c8b36ff4a7dcad">cfs_tracefile</a>[TRACEFILE_NAME_SIZE]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00053">53</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00253">__proc_daemon_file()</a>, <a class="el" href="tracefile_8c_source.html#l00827">cfs_trace_daemon_command()</a>, and <a class="el" href="tracefile_8c_source.html#l00947">tracefiled()</a>.</p>

</div>
</div>
<a class="anchor" id="ac86dbf85ebea9d9438ea17a27175e634"></a><!-- doxytag: member="tracefile.c::cfs_tracefile_size" ref="ac86dbf85ebea9d9438ea17a27175e634" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long <a class="el" href="tracefile_8h.html#ac86dbf85ebea9d9438ea17a27175e634">cfs_tracefile_size</a> = CFS_TRACEFILE_SIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00054">54</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00827">cfs_trace_daemon_command()</a>, and <a class="el" href="tracefile_8c_source.html#l00947">tracefiled()</a>.</p>

</div>
</div>
<a class="anchor" id="adbf61a1af6f9211b197dc0d26eaa8c49"></a><!-- doxytag: member="tracefile.c::thread_running" ref="adbf61a1af6f9211b197dc0d26eaa8c49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tracefile_8c.html#adbf61a1af6f9211b197dc0d26eaa8c49">thread_running</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00057">57</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00217">cfs_trace_get_tage()</a>, <a class="el" href="tracefile_8c_source.html#l00141">cfs_trace_get_tage_try()</a>, <a class="el" href="tracefile_8c_source.html#l01063">cfs_trace_start_thread()</a>, and <a class="el" href="tracefile_8c_source.html#l01089">cfs_trace_stop_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="acb3a9e027fc15f5a1439514ed67ad2f0"></a><!-- doxytag: member="tracefile.c::trace_tctl" ref="acb3a9e027fc15f5a1439514ed67ad2f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtracefiled__ctl.html">tracefiled_ctl</a> <a class="el" href="tracefile_8c.html#acb3a9e027fc15f5a1439514ed67ad2f0">trace_tctl</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tracefile_8c_source.html#l00055">55</a> of file <a class="el" href="tracefile_8c_source.html">tracefile.c</a>.</p>

<p>Referenced by <a class="el" href="tracefile_8c_source.html#l00141">cfs_trace_get_tage_try()</a>, <a class="el" href="tracefile_8c_source.html#l01063">cfs_trace_start_thread()</a>, and <a class="el" href="tracefile_8c_source.html#l01089">cfs_trace_stop_thread()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:45 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
