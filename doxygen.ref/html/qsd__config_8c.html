<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/quota/qsd_config.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/quota/qsd_config.c File Reference</h1><code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__param_8h_source.html">lustre_param.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="qsd__internal_8h_source.html">qsd_internal.h</a>&quot;</code><br/>

<p><a href="qsd__config_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__config_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LQUOTA</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__config_8c.html#a01a77b6ef6165b62cbbcad3ec71d1ab6">DEFINE_SPINLOCK</a> (qfs_list_lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__config_8c.html#a3024e4429fa657dd79f912f2f3f458d4">qsd_put_fsinfo</a> (struct <a class="el" href="structqsd__fsinfo.html">qsd_fsinfo</a> *qfs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structqsd__fsinfo.html">qsd_fsinfo</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__config_8c.html#ace04b676672030338f71889f875ef055">qsd_get_fsinfo</a> (char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, bool create)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__config_8c.html#a0c3504d3501e47c7997d8648c7ff7439">qsd_process_config</a> (struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__config_8c.html#ae34164550ca3e8905357041cf03a9446">qfs_list</a> = LIST_HEAD_INIT(<a class="el" href="qsd__config_8c.html#ae34164550ca3e8905357041cf03a9446">qfs_list</a>)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="qsd_config.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LQUOTA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__config_8c_source.html#l00031">31</a> of file <a class="el" href="qsd__config_8c_source.html">qsd_config.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a01a77b6ef6165b62cbbcad3ec71d1ab6"></a><!-- doxytag: member="qsd_config.c::DEFINE_SPINLOCK" ref="a01a77b6ef6165b62cbbcad3ec71d1ab6" args="(qfs_list_lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_SPINLOCK </td>
          <td>(</td>
          <td class="paramtype">qfs_list_lock&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ace04b676672030338f71889f875ef055"></a><!-- doxytag: member="qsd_config.c::qsd_get_fsinfo" ref="ace04b676672030338f71889f875ef055" args="(char *name, bool create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structqsd__fsinfo.html">qsd_fsinfo</a>* qsd_get_fsinfo </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>create</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__config_8c_source.html#l00074">74</a> of file <a class="el" href="qsd__config_8c_source.html">qsd_config.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="qsd__internal_8h_source.html#l00198">qsd_fsinfo::qfs_link</a>, <a class="el" href="qsd__internal_8h_source.html#l00188">qsd_fsinfo::qfs_name</a>, <a class="el" href="qsd__internal_8h_source.html#l00201">qsd_fsinfo::qfs_ref</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qsd__lib_8c_source.html#l00557">qsd_init()</a>, and <a class="el" href="qsd__config_8c_source.html#l00128">qsd_process_config()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c3504d3501e47c7997d8648c7ff7439"></a><!-- doxytag: member="qsd_config.c::qsd_process_config" ref="a0c3504d3501e47c7997d8648c7ff7439" args="(struct lustre_cfg *lcfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qsd_process_config </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__config_8c_source.html#l00128">128</a> of file <a class="el" href="qsd__config_8c_source.html">qsd_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__config_8c_source.html#l00190">class_match_param()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00287">LCONSOLE_ERROR</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__idl_8h_source.html#l01919">LQUOTA_FIRST_RES</a>, <a class="el" href="lustre__idl_8h_source.html#l01917">LQUOTA_RES_DT</a>, <a class="el" href="lustre__idl_8h_source.html#l01916">LQUOTA_RES_MD</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="lustre__param_8h_source.html#l00122">PARAM_QUOTA</a>, <a class="el" href="qsd__internal_8h_source.html#l00191">qsd_fsinfo::qfs_enabled</a>, <a class="el" href="qsd__internal_8h_source.html#l00195">qsd_fsinfo::qfs_mutex</a>, <a class="el" href="qsd__internal_8h_source.html#l00194">qsd_fsinfo::qfs_qsd_list</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_acct_failed</a>, <a class="el" href="qsd__config_8c_source.html#l00074">qsd_get_fsinfo()</a>, <a class="el" href="qsd__internal_8h_source.html#l00098">qsd_instance::qsd_lock</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_prepared</a>, <a class="el" href="qsd__config_8c_source.html#l00047">qsd_put_fsinfo()</a>, <a class="el" href="qsd__reint_8c_source.html#l00624">qsd_start_reint_thread()</a>, <a class="el" href="qsd__internal_8h_source.html#l00046">qsd_instance::qsd_svname</a>, <a class="el" href="qsd__internal_8h_source.html#l00073">qsd_instance::qsd_type_array</a>, <a class="el" href="lustre__quota_8h_source.html#l00074">QUOTA_DATAPOOL_NAME</a>, <a class="el" href="lustre__quota_8h_source.html#l00073">QUOTA_METAPOOL_NAME</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qsd__lib_8c_source.html#l00809">qsd_glb_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a3024e4429fa657dd79f912f2f3f458d4"></a><!-- doxytag: member="qsd_config.c::qsd_put_fsinfo" ref="a3024e4429fa657dd79f912f2f3f458d4" args="(struct qsd_fsinfo *qfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qsd_put_fsinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structqsd__fsinfo.html">qsd_fsinfo</a> *&nbsp;</td>
          <td class="paramname"> <em>qfs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__config_8c_source.html#l00047">47</a> of file <a class="el" href="qsd__config_8c_source.html">qsd_config.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="qsd__internal_8h_source.html#l00198">qsd_fsinfo::qfs_link</a>, <a class="el" href="qsd__internal_8h_source.html#l00194">qsd_fsinfo::qfs_qsd_list</a>, and <a class="el" href="qsd__internal_8h_source.html#l00201">qsd_fsinfo::qfs_ref</a>.</p>

<p>Referenced by <a class="el" href="qsd__lib_8c_source.html#l00474">qsd_fini()</a>, and <a class="el" href="qsd__config_8c_source.html#l00128">qsd_process_config()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ae34164550ca3e8905357041cf03a9446"></a><!-- doxytag: member="qsd_config.c::qfs_list" ref="ae34164550ca3e8905357041cf03a9446" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="qsd__config_8c.html#ae34164550ca3e8905357041cf03a9446">qfs_list</a> = LIST_HEAD_INIT(<a class="el" href="qsd__config_8c.html#ae34164550ca3e8905357041cf03a9446">qfs_list</a>)<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__config_8c_source.html#l00038">38</a> of file <a class="el" href="qsd__config_8c_source.html">qsd_config.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
