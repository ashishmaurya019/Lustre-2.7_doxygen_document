<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/include/lprocfs_status.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>lustre/include/lprocfs_status.h</h1><a href="lprocfs__status_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * GPL HEADER START</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * This program is free software; you can redistribute it and/or modify</span>
<a name="l00007"></a>00007 <span class="comment"> * it under the terms of the GNU General Public License version 2 only,</span>
<a name="l00008"></a>00008 <span class="comment"> * as published by the Free Software Foundation.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * This program is distributed in the hope that it will be useful, but</span>
<a name="l00011"></a>00011 <span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00013"></a>00013 <span class="comment"> * General Public License version 2 for more details (a copy is included</span>
<a name="l00014"></a>00014 <span class="comment"> * in the LICENSE file that accompanied this code).</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment"> * version 2 along with this program; If not, see</span>
<a name="l00018"></a>00018 <span class="comment"> * http://www.sun.com/software/products/lustre/docs/GPLv2.pdf</span>
<a name="l00019"></a>00019 <span class="comment"> *</span>
<a name="l00020"></a>00020 <span class="comment"> * Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa Clara,</span>
<a name="l00021"></a>00021 <span class="comment"> * CA 95054 USA or visit www.sun.com if you need additional information or</span>
<a name="l00022"></a>00022 <span class="comment"> * have any questions.</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * GPL HEADER END</span>
<a name="l00025"></a>00025 <span class="comment"> */</span>
<a name="l00026"></a>00026 <span class="comment">/*</span>
<a name="l00027"></a>00027 <span class="comment"> * Copyright (c) 2007, 2010, Oracle and/or its affiliates. All rights reserved.</span>
<a name="l00028"></a>00028 <span class="comment"> * Use is subject to license terms.</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> * Copyright (c) 2011, 2015, Intel Corporation.</span>
<a name="l00031"></a>00031 <span class="comment"> */</span>
<a name="l00032"></a>00032 <span class="comment">/*</span>
<a name="l00033"></a>00033 <span class="comment"> * This file is part of Lustre, http://www.lustre.org/</span>
<a name="l00034"></a>00034 <span class="comment"> * Lustre is a trademark of Sun Microsystems, Inc.</span>
<a name="l00035"></a>00035 <span class="comment"> *</span>
<a name="l00036"></a>00036 <span class="comment"> * lustre/include/lprocfs_status.h</span>
<a name="l00037"></a>00037 <span class="comment"> *</span>
<a name="l00038"></a>00038 <span class="comment"> * Top level header file for LProc</span>
<a name="l00039"></a>00039 <span class="comment"> *</span>
<a name="l00040"></a>00040 <span class="comment"> * Author: Hariharan Thantry thantry@users.sourceforge.net</span>
<a name="l00041"></a>00041 <span class="comment"> */</span>
<a name="l00042"></a>00042 <span class="preprocessor">#ifndef _LPROCFS_STATUS_H</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="preprocessor">#define _LPROCFS_STATUS_H</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;linux/fs.h&gt;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;linux/proc_fs.h&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;linux/rwsem.h&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;linux/spinlock.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;linux/seq_file.h&gt;</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;<a class="code" href="lustre__idl_8h.html">lustre/lustre_idl.h</a>&gt;</span>
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="structlprocfs__vars.html">00053</a> <span class="keyword">struct </span><a class="code" href="structlprocfs__vars.html">lprocfs_vars</a> {
<a name="l00054"></a><a class="code" href="structlprocfs__vars.html#a82bce1dcbc678cd6ad77b3124704f8a6">00054</a>         <span class="keyword">const</span> <span class="keywordtype">char</span>                      *<a class="code" href="structlprocfs__vars.html#a82bce1dcbc678cd6ad77b3124704f8a6">name</a>;
<a name="l00055"></a><a class="code" href="structlprocfs__vars.html#a45652362fa9972f934990ee74b6a6b0c">00055</a>         <span class="keyword">const</span> <span class="keyword">struct </span>file_operations    *<a class="code" href="structlprocfs__vars.html#a45652362fa9972f934990ee74b6a6b0c">fops</a>;
<a name="l00056"></a><a class="code" href="structlprocfs__vars.html#a0deeb78ad6fe98a0f10b51cd2abd49fb">00056</a>         <span class="keywordtype">void</span>                            *<a class="code" href="structlprocfs__vars.html#a0deeb78ad6fe98a0f10b51cd2abd49fb">data</a>;
<a name="l00060"></a><a class="code" href="structlprocfs__vars.html#a9d6db9022cb3bf75d466623d92e00c22">00060</a>         mode_t                           <a class="code" href="structlprocfs__vars.html#a9d6db9022cb3bf75d466623d92e00c22" title="/proc file mode.">proc_mode</a>;
<a name="l00061"></a>00061 };
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="comment">/* if we find more consumers this could be generalized */</span>
<a name="l00064"></a><a class="code" href="lprocfs__status_8h.html#a9cac8d9080ece5dd62ac2f0e9d389648">00064</a> <span class="preprocessor">#define OBD_HIST_MAX 32</span>
<a name="l00065"></a><a class="code" href="structobd__histogram.html">00065</a> <span class="preprocessor"></span><span class="keyword">struct </span><a class="code" href="structobd__histogram.html">obd_histogram</a> {
<a name="l00066"></a><a class="code" href="structobd__histogram.html#ae71017c27d7bcc3aaf0164be88e7e49f">00066</a>         spinlock_t      <a class="code" href="structobd__histogram.html#ae71017c27d7bcc3aaf0164be88e7e49f">oh_lock</a>;
<a name="l00067"></a><a class="code" href="structobd__histogram.html#aa89b72324d51d0ef9218e98c0506127c">00067</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   <a class="code" href="structobd__histogram.html#aa89b72324d51d0ef9218e98c0506127c">oh_buckets</a>[<a class="code" href="lprocfs__status_8h.html#a9cac8d9080ece5dd62ac2f0e9d389648">OBD_HIST_MAX</a>];
<a name="l00068"></a>00068 };
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="keyword">enum</span> {
<a name="l00071"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea16be5400b5b48cbb9775640a65c325a6">00071</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea16be5400b5b48cbb9775640a65c325a6">BRW_R_PAGES</a> = 0,
<a name="l00072"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fceadf94c722699ed109328835b7f95b2739">00072</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fceadf94c722699ed109328835b7f95b2739">BRW_W_PAGES</a>,
<a name="l00073"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea7c710d7c497ea72913b77fa75d1359c9">00073</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea7c710d7c497ea72913b77fa75d1359c9">BRW_R_RPC_HIST</a>,
<a name="l00074"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea57c316c49d12b7a6fe57625c8afa5d89">00074</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea57c316c49d12b7a6fe57625c8afa5d89">BRW_W_RPC_HIST</a>,
<a name="l00075"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea1e392763e4d2544e62288b9614777183">00075</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea1e392763e4d2544e62288b9614777183">BRW_R_IO_TIME</a>,
<a name="l00076"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea1478024f1f1a6d9dcbfe26924cb4b240">00076</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea1478024f1f1a6d9dcbfe26924cb4b240">BRW_W_IO_TIME</a>,
<a name="l00077"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea8c49579eb62c04059be46ee3d23ef10a">00077</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea8c49579eb62c04059be46ee3d23ef10a">BRW_R_DISCONT_PAGES</a>,
<a name="l00078"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea0b26f5243e17a84902b66261f5e95715">00078</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea0b26f5243e17a84902b66261f5e95715">BRW_W_DISCONT_PAGES</a>,
<a name="l00079"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcead2688eb15a5fa3bc2f7f9b8b1d51fdc6">00079</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcead2688eb15a5fa3bc2f7f9b8b1d51fdc6">BRW_R_DISCONT_BLOCKS</a>,
<a name="l00080"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fceaba16d1c5902497d54d8cac9d7380558a">00080</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fceaba16d1c5902497d54d8cac9d7380558a">BRW_W_DISCONT_BLOCKS</a>,
<a name="l00081"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea82e25a0ed0e667911ec231ac3bc35663">00081</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea82e25a0ed0e667911ec231ac3bc35663">BRW_R_DISK_IOSIZE</a>,
<a name="l00082"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea1387acd2b7e976a80cbde7a2c262dc78">00082</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea1387acd2b7e976a80cbde7a2c262dc78">BRW_W_DISK_IOSIZE</a>,
<a name="l00083"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fceadac66cd23446638e3b1e0a71a8863e6d">00083</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fceadac66cd23446638e3b1e0a71a8863e6d">BRW_R_DIO_FRAGS</a>,
<a name="l00084"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea720bda45f5f682fc0d2456311c3f90d7">00084</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea720bda45f5f682fc0d2456311c3f90d7">BRW_W_DIO_FRAGS</a>,
<a name="l00085"></a><a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea48607d6990b5ec094570475436eccbfd">00085</a>         <a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea48607d6990b5ec094570475436eccbfd">BRW_LAST</a>,
<a name="l00086"></a>00086 };
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="structbrw__stats.html">00088</a> <span class="keyword">struct </span><a class="code" href="structbrw__stats.html">brw_stats</a> {
<a name="l00089"></a><a class="code" href="structbrw__stats.html#a897a91b63db4344eae12ef2b810d82fc">00089</a>         <span class="keyword">struct </span><a class="code" href="structobd__histogram.html">obd_histogram</a> <a class="code" href="structbrw__stats.html#a897a91b63db4344eae12ef2b810d82fc">hist</a>[<a class="code" href="lprocfs__status_8h.html#aaf105ae5beaca1dee30ae54530691fcea48607d6990b5ec094570475436eccbfd">BRW_LAST</a>];
<a name="l00090"></a>00090 };
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 <span class="keyword">enum</span> {
<a name="l00093"></a><a class="code" href="lprocfs__status_8h.html#a80155586fa275b28773c9b203f52cabaa688ec696e0a7ff1907d0cbb9cd97dd7b">00093</a>         <a class="code" href="lprocfs__status_8h.html#a80155586fa275b28773c9b203f52cabaa688ec696e0a7ff1907d0cbb9cd97dd7b">RENAME_SAMEDIR_SIZE</a> = 0,
<a name="l00094"></a><a class="code" href="lprocfs__status_8h.html#a80155586fa275b28773c9b203f52cabaab7d09e0c2fdbab028843f1f45c3c3884">00094</a>         <a class="code" href="lprocfs__status_8h.html#a80155586fa275b28773c9b203f52cabaab7d09e0c2fdbab028843f1f45c3c3884">RENAME_CROSSDIR_SRC_SIZE</a>,
<a name="l00095"></a><a class="code" href="lprocfs__status_8h.html#a80155586fa275b28773c9b203f52cabaa7a7dbbac73f8140a1aa4e827941b6f6a">00095</a>         <a class="code" href="lprocfs__status_8h.html#a80155586fa275b28773c9b203f52cabaa7a7dbbac73f8140a1aa4e827941b6f6a">RENAME_CROSSDIR_TGT_SIZE</a>,
<a name="l00096"></a><a class="code" href="lprocfs__status_8h.html#a80155586fa275b28773c9b203f52cabaa872d33757caec218f172ae202ce4ca77">00096</a>         <a class="code" href="lprocfs__status_8h.html#a80155586fa275b28773c9b203f52cabaa872d33757caec218f172ae202ce4ca77">RENAME_LAST</a>,
<a name="l00097"></a>00097 };
<a name="l00098"></a>00098 
<a name="l00099"></a><a class="code" href="structrename__stats.html">00099</a> <span class="keyword">struct </span><a class="code" href="structrename__stats.html">rename_stats</a> {
<a name="l00100"></a><a class="code" href="structrename__stats.html#a1006ea7f7d6c02bd608a28e2cfc7d8a9">00100</a>         <span class="keyword">struct </span><a class="code" href="structobd__histogram.html">obd_histogram</a> <a class="code" href="structrename__stats.html#a1006ea7f7d6c02bd608a28e2cfc7d8a9">hist</a>[<a class="code" href="lprocfs__status_8h.html#a80155586fa275b28773c9b203f52cabaa872d33757caec218f172ae202ce4ca77">RENAME_LAST</a>];
<a name="l00101"></a>00101 };
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="comment">/* An lprocfs counter can be configured using the enum bit masks below.</span>
<a name="l00104"></a>00104 <span class="comment"> *</span>
<a name="l00105"></a>00105 <span class="comment"> * LPROCFS_CNTR_EXTERNALLOCK indicates that an external lock already</span>
<a name="l00106"></a>00106 <span class="comment"> * protects this counter from concurrent updates. If not specified,</span>
<a name="l00107"></a>00107 <span class="comment"> * lprocfs an internal per-counter lock variable. External locks are</span>
<a name="l00108"></a>00108 <span class="comment"> * not used to protect counter increments, but are used to protect</span>
<a name="l00109"></a>00109 <span class="comment"> * counter readout and resets.</span>
<a name="l00110"></a>00110 <span class="comment"> *</span>
<a name="l00111"></a>00111 <span class="comment"> * LPROCFS_CNTR_AVGMINMAX indicates a multi-valued counter samples,</span>
<a name="l00112"></a>00112 <span class="comment"> * (i.e. counter can be incremented by more than &quot;1&quot;). When specified,</span>
<a name="l00113"></a>00113 <span class="comment"> * the counter maintains min, max and sum in addition to a simple</span>
<a name="l00114"></a>00114 <span class="comment"> * invocation count. This allows averages to be be computed.</span>
<a name="l00115"></a>00115 <span class="comment"> * If not specified, the counter is an increment-by-1 counter.</span>
<a name="l00116"></a>00116 <span class="comment"> * min, max, sum, etc. are not maintained.</span>
<a name="l00117"></a>00117 <span class="comment"> *</span>
<a name="l00118"></a>00118 <span class="comment"> * LPROCFS_CNTR_STDDEV indicates that the counter should track sum of</span>
<a name="l00119"></a>00119 <span class="comment"> * squares (for multi-valued counter samples only). This allows</span>
<a name="l00120"></a>00120 <span class="comment"> * external computation of standard deviation, but involves a 64-bit</span>
<a name="l00121"></a>00121 <span class="comment"> * multiply per counter increment.</span>
<a name="l00122"></a>00122 <span class="comment"> */</span>
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 <span class="keyword">enum</span> {
<a name="l00125"></a><a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaaa0c90480a931abff11ee99cf6802b1ee">00125</a>         <a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaaa0c90480a931abff11ee99cf6802b1ee">LPROCFS_CNTR_EXTERNALLOCK</a> = 0x0001,
<a name="l00126"></a><a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaa29705a60b4de9b485074ceb16ee896f2">00126</a>         <a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaa29705a60b4de9b485074ceb16ee896f2">LPROCFS_CNTR_AVGMINMAX</a>    = 0x0002,
<a name="l00127"></a><a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaae98209d32563aeaf33fa6a16279fa1c7">00127</a>         <a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaae98209d32563aeaf33fa6a16279fa1c7">LPROCFS_CNTR_STDDEV</a>       = 0x0004,
<a name="l00128"></a>00128 
<a name="l00129"></a>00129         <span class="comment">/* counter data type */</span>
<a name="l00130"></a><a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaad4d97e6479ceae829563dca43be99a14">00130</a>         <a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaad4d97e6479ceae829563dca43be99a14">LPROCFS_TYPE_REGS</a>         = 0x0100,
<a name="l00131"></a><a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaa7fd7318e11bba0f3b72043f77ac42a56">00131</a>         <a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaa7fd7318e11bba0f3b72043f77ac42a56">LPROCFS_TYPE_BYTES</a>        = 0x0200,
<a name="l00132"></a><a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaa4748e6d21723e9de012e4289c210db67">00132</a>         <a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaa4748e6d21723e9de012e4289c210db67">LPROCFS_TYPE_PAGES</a>        = 0x0400,
<a name="l00133"></a><a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaafc98c160544f895f0e5c2b929eeddb2a">00133</a>         <a class="code" href="lprocfs__status_8h.html#a6b7b47dd702d9e331586d485013fd1eaafc98c160544f895f0e5c2b929eeddb2a">LPROCFS_TYPE_CYCLE</a>        = 0x0800,
<a name="l00134"></a>00134 };
<a name="l00135"></a>00135 
<a name="l00136"></a><a class="code" href="lprocfs__status_8h.html#a3ca6292f290801a10d9414d3358dc5a9">00136</a> <span class="preprocessor">#define LC_MIN_INIT ((~(__u64)0) &gt;&gt; 1)</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span>
<a name="l00138"></a><a class="code" href="structlprocfs__counter__header.html">00138</a> <span class="keyword">struct </span><a class="code" href="structlprocfs__counter__header.html">lprocfs_counter_header</a> {
<a name="l00139"></a><a class="code" href="structlprocfs__counter__header.html#a862b7c8f788e42b684ce7da7400026e4">00139</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>            <a class="code" href="structlprocfs__counter__header.html#a862b7c8f788e42b684ce7da7400026e4">lc_config</a>;
<a name="l00140"></a><a class="code" href="structlprocfs__counter__header.html#a573ef21c6d53a1c6603f19ed3e403537">00140</a>         <span class="keyword">const</span> <span class="keywordtype">char</span>              *<a class="code" href="structlprocfs__counter__header.html#a573ef21c6d53a1c6603f19ed3e403537">lc_name</a>;   <span class="comment">/* must be static */</span>
<a name="l00141"></a><a class="code" href="structlprocfs__counter__header.html#aa3459cc4c3bdc0642ee0f3f0b4d5546d">00141</a>         <span class="keyword">const</span> <span class="keywordtype">char</span>              *<a class="code" href="structlprocfs__counter__header.html#aa3459cc4c3bdc0642ee0f3f0b4d5546d">lc_units</a>;  <span class="comment">/* must be static */</span>
<a name="l00142"></a>00142 };
<a name="l00143"></a>00143 
<a name="l00144"></a><a class="code" href="structlprocfs__counter.html">00144</a> <span class="keyword">struct </span><a class="code" href="structlprocfs__counter.html">lprocfs_counter</a> {
<a name="l00145"></a><a class="code" href="structlprocfs__counter.html#ab5b1248f1d6b5a77f158bf8d8c1c75ea">00145</a>         __s64   <a class="code" href="structlprocfs__counter.html#ab5b1248f1d6b5a77f158bf8d8c1c75ea">lc_count</a>;
<a name="l00146"></a><a class="code" href="structlprocfs__counter.html#a376562eac23f2832c8760aa6f33016d4">00146</a>         __s64   <a class="code" href="structlprocfs__counter.html#a376562eac23f2832c8760aa6f33016d4">lc_min</a>;
<a name="l00147"></a><a class="code" href="structlprocfs__counter.html#af2fb5b8a66db06050a6695cb8f065a9c">00147</a>         __s64   <a class="code" href="structlprocfs__counter.html#af2fb5b8a66db06050a6695cb8f065a9c">lc_max</a>;
<a name="l00148"></a><a class="code" href="structlprocfs__counter.html#a3567723b5db12cbb73a8cc46a9fa2e14">00148</a>         __s64   <a class="code" href="structlprocfs__counter.html#a3567723b5db12cbb73a8cc46a9fa2e14">lc_sumsquare</a>;
<a name="l00149"></a>00149         <span class="comment">/*</span>
<a name="l00150"></a>00150 <span class="comment">         * Every counter has lc_array_sum[0], while lc_array_sum[1] is only</span>
<a name="l00151"></a>00151 <span class="comment">         * for irq context counter, i.e. stats with</span>
<a name="l00152"></a>00152 <span class="comment">         * LPROCFS_STATS_FLAG_IRQ_SAFE flag, its counter need</span>
<a name="l00153"></a>00153 <span class="comment">         * lc_array_sum[1]</span>
<a name="l00154"></a>00154 <span class="comment">         */</span>
<a name="l00155"></a><a class="code" href="structlprocfs__counter.html#aee229afbbc8215cfd884cedd8755c5bf">00155</a>         __s64   <a class="code" href="structlprocfs__counter.html#aee229afbbc8215cfd884cedd8755c5bf">lc_array_sum</a>[1];
<a name="l00156"></a>00156 };
<a name="l00157"></a><a class="code" href="lprocfs__status_8h.html#af79624149f9173881d98c8f56b907879">00157</a> <span class="preprocessor">#define lc_sum          lc_array_sum[0]</span>
<a name="l00158"></a><a class="code" href="lprocfs__status_8h.html#abf6267e63b763ea30296cfdcee0b1aa1">00158</a> <span class="preprocessor"></span><span class="preprocessor">#define lc_sum_irq      lc_array_sum[1]</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span>
<a name="l00160"></a><a class="code" href="structlprocfs__percpu.html">00160</a> <span class="keyword">struct </span><a class="code" href="structlprocfs__percpu.html">lprocfs_percpu</a> {
<a name="l00161"></a><a class="code" href="structlprocfs__percpu.html#adc0d3d105c0a4cf01068617d9904c632">00161</a>         <span class="keyword">struct </span><a class="code" href="structlprocfs__counter.html">lprocfs_counter</a> <a class="code" href="structlprocfs__percpu.html#adc0d3d105c0a4cf01068617d9904c632">lp_cntr</a>[0];
<a name="l00162"></a>00162 };
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0ed">00164</a> <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0ed">lprocfs_stats_lock_ops</a> {
<a name="l00165"></a><a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda976571d320b511124b68cb3127b415a0">00165</a>         <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda976571d320b511124b68cb3127b415a0">LPROCFS_GET_NUM_CPU</a>     = 0x0001, <span class="comment">/* number allocated per-CPU stats */</span>
<a name="l00166"></a><a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda22280878ed1e892f18ceb48c921972e4">00166</a>         <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda22280878ed1e892f18ceb48c921972e4">LPROCFS_GET_SMP_ID</a>      = 0x0002, <span class="comment">/* current stat to be updated */</span>
<a name="l00167"></a>00167 };
<a name="l00168"></a>00168 
<a name="l00169"></a><a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073">00169</a> <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073">lprocfs_stats_flags</a> {
<a name="l00170"></a><a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073aa0a98ed9312e5049a583ab7e555a1056">00170</a>         <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073aa0a98ed9312e5049a583ab7e555a1056">LPROCFS_STATS_FLAG_NONE</a>     = 0x0000, <span class="comment">/* per cpu counter */</span>
<a name="l00171"></a><a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073a71d0d355d96717879809c55bf42497f5">00171</a>         <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073a71d0d355d96717879809c55bf42497f5">LPROCFS_STATS_FLAG_NOPERCPU</a> = 0x0001, <span class="comment">/* stats have no percpu</span>
<a name="l00172"></a>00172 <span class="comment">                                               * area and need locking */</span>
<a name="l00173"></a><a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073af93f1b20d8aca1fd062599e3ec0e9131">00173</a>         <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073af93f1b20d8aca1fd062599e3ec0e9131">LPROCFS_STATS_FLAG_IRQ_SAFE</a> = 0x0002, <span class="comment">/* alloc need irq safe */</span>
<a name="l00174"></a>00174 };
<a name="l00175"></a>00175 
<a name="l00176"></a><a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333ba">00176</a> <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333ba">lprocfs_fields_flags</a> {
<a name="l00177"></a><a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa62d64ba634b4d23c2c10b7e43a245698">00177</a>         <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa62d64ba634b4d23c2c10b7e43a245698">LPROCFS_FIELDS_FLAGS_CONFIG</a>     = 0x0001,
<a name="l00178"></a><a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa497cee913d5e28314f679ef414c212cc">00178</a>         <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa497cee913d5e28314f679ef414c212cc">LPROCFS_FIELDS_FLAGS_SUM</a>        = 0x0002,
<a name="l00179"></a><a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa2b24a94885de5c0ee17feb2d1da28cf5">00179</a>         <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa2b24a94885de5c0ee17feb2d1da28cf5">LPROCFS_FIELDS_FLAGS_MIN</a>        = 0x0003,
<a name="l00180"></a><a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa9ee1482dbf7910de6915b8137b588373">00180</a>         <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa9ee1482dbf7910de6915b8137b588373">LPROCFS_FIELDS_FLAGS_MAX</a>        = 0x0004,
<a name="l00181"></a><a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa4a00fedc1afc1d7f8049721abb12129d">00181</a>         <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baa4a00fedc1afc1d7f8049721abb12129d">LPROCFS_FIELDS_FLAGS_AVG</a>        = 0x0005,
<a name="l00182"></a><a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baad3b5a566d0987ebb53e2367e5cb786bd">00182</a>         <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baad3b5a566d0987ebb53e2367e5cb786bd">LPROCFS_FIELDS_FLAGS_SUMSQUARE</a>  = 0x0006,
<a name="l00183"></a><a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baaff878f7bc42448fd94ef6ab2f155c80b">00183</a>         <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333baaff878f7bc42448fd94ef6ab2f155c80b">LPROCFS_FIELDS_FLAGS_COUNT</a>      = 0x0007,
<a name="l00184"></a>00184 };
<a name="l00185"></a>00185 
<a name="l00186"></a><a class="code" href="structlprocfs__stats.html">00186</a> <span class="keyword">struct </span><a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> {
<a name="l00187"></a>00187         <span class="comment">/* # of counters */</span>
<a name="l00188"></a><a class="code" href="structlprocfs__stats.html#a2ca1d068c3145559f69dac0adc63208d">00188</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>                  <a class="code" href="structlprocfs__stats.html#a2ca1d068c3145559f69dac0adc63208d">ls_num</a>;
<a name="l00189"></a>00189         <span class="comment">/* 1 + the biggest cpu # whose ls_percpu slot has been allocated */</span>
<a name="l00190"></a><a class="code" href="structlprocfs__stats.html#a9ef5a8b6a607e72fab7e14dcd4de2a2c">00190</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>                  <a class="code" href="structlprocfs__stats.html#a9ef5a8b6a607e72fab7e14dcd4de2a2c">ls_biggest_alloc_num</a>;
<a name="l00191"></a><a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">00191</a>         <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073">lprocfs_stats_flags</a>        <a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">ls_flags</a>;
<a name="l00192"></a>00192         <span class="comment">/* Lock used when there are no percpu stats areas; For percpu stats,</span>
<a name="l00193"></a>00193 <span class="comment">         * it is used to protect ls_biggest_alloc_num change */</span>
<a name="l00194"></a><a class="code" href="structlprocfs__stats.html#ac7d9d5207bc5cf5dcae69d36711c17f4">00194</a>         spinlock_t                      <a class="code" href="structlprocfs__stats.html#ac7d9d5207bc5cf5dcae69d36711c17f4">ls_lock</a>;
<a name="l00195"></a>00195 
<a name="l00196"></a>00196         <span class="comment">/* has ls_num of counter headers */</span>
<a name="l00197"></a><a class="code" href="structlprocfs__stats.html#a4b34b405768a9a7867ea481454800e54">00197</a>         <span class="keyword">struct </span><a class="code" href="structlprocfs__counter__header.html">lprocfs_counter_header</a>   *<a class="code" href="structlprocfs__stats.html#a4b34b405768a9a7867ea481454800e54">ls_cnt_header</a>;
<a name="l00198"></a><a class="code" href="structlprocfs__stats.html#aecaa8b445cfb51cd734e8ba0417dcaa3">00198</a>         <span class="keyword">struct </span><a class="code" href="structlprocfs__percpu.html">lprocfs_percpu</a>           *<a class="code" href="structlprocfs__stats.html#aecaa8b445cfb51cd734e8ba0417dcaa3">ls_percpu</a>[0];
<a name="l00199"></a>00199 };
<a name="l00200"></a>00200 
<a name="l00201"></a><a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">00201</a> <span class="preprocessor">#define OPC_RANGE(seg) (seg ## _LAST_OPC - seg ## _FIRST_OPC)</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span>
<a name="l00203"></a>00203 <span class="comment">/* Pack all opcodes down into a single monotonically increasing index */</span>
<a name="l00204"></a><a class="code" href="lprocfs__status_8h.html#a904e52a00f9fe88e7f5085893ce5a560">00204</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a904e52a00f9fe88e7f5085893ce5a560">opcode_offset</a>(__u32 opc) {
<a name="l00205"></a>00205         <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#ggadeda0b7c376c32e2a7c49c7eee01c065a0522580c56e6eb26e1a5aedb0f86c7ba">OST_LAST_OPC</a>) {
<a name="l00206"></a>00206                  <span class="comment">/* OST opcode */</span>
<a name="l00207"></a>00207                 <span class="keywordflow">return</span> (opc - <a class="code" href="group__lustreidl.html#gab90542891cd4083f65fd8c7453a12994">OST_FIRST_OPC</a>);
<a name="l00208"></a>00208         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#ggafb46b2fd1532fecf64a120ca96d31c25a10d101254fb7fa2f12a256d13ea95cf1">MDS_LAST_OPC</a>) {
<a name="l00209"></a>00209                 <span class="comment">/* MDS opcode */</span>
<a name="l00210"></a>00210                 <span class="keywordflow">return</span> (opc - <a class="code" href="packet-lustre_8c.html#abfd6182d3534a3aec682135d0fcf4c19">MDS_FIRST_OPC</a> +
<a name="l00211"></a>00211                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00212"></a>00212         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="packet-lustre_8c.html#a0fd02b4d9b347a2c8847e43cb20a2de8a788c00fc2252af3e2dfeb7221dbfb264">LDLM_LAST_OPC</a>) {
<a name="l00213"></a>00213                 <span class="comment">/* LDLM Opcode */</span>
<a name="l00214"></a>00214                 <span class="keywordflow">return</span> (opc - <a class="code" href="packet-lustre_8c.html#a060c9acfc1ac9c6a9f0f7e6296bdb8cb">LDLM_FIRST_OPC</a> +
<a name="l00215"></a>00215                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00216"></a>00216                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00217"></a>00217         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#gga4a3cabbbc37d10b05e826a5027c76c37ab4e67748a068daf081424de59a241016">MGS_LAST_OPC</a>) {
<a name="l00218"></a>00218                 <span class="comment">/* MGS Opcode */</span>
<a name="l00219"></a>00219                 <span class="keywordflow">return</span> (opc - <a class="code" href="packet-lustre_8c.html#afb74c995a6801455771e2308ddaccc40">MGS_FIRST_OPC</a> +
<a name="l00220"></a>00220                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LDLM) +
<a name="l00221"></a>00221                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00222"></a>00222                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00223"></a>00223         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#gga1b9655fabd4bfdcd6a4518355b6ddbdda126e321cef7e32cb1fa5a8c4407aaba7">OBD_LAST_OPC</a>) {
<a name="l00224"></a>00224                 <span class="comment">/* OBD Ping */</span>
<a name="l00225"></a>00225                 <span class="keywordflow">return</span> (opc - <a class="code" href="packet-lustre_8c.html#a21f9cb722fcf1788068607502b814bbc">OBD_FIRST_OPC</a> +
<a name="l00226"></a>00226                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MGS) +
<a name="l00227"></a>00227                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LDLM) +
<a name="l00228"></a>00228                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00229"></a>00229                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00230"></a>00230         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="packet-lustre_8c.html#a396b23a33847d59b05f885fd129138f4a29ba92eb7e12b2624d9c37f2c449f364">LLOG_LAST_OPC</a>) {
<a name="l00231"></a>00231                 <span class="comment">/* LLOG Opcode */</span>
<a name="l00232"></a>00232                 <span class="keywordflow">return</span> (opc - <a class="code" href="packet-lustre_8c.html#a2c50215892cd967a43577e641aebfe50">LLOG_FIRST_OPC</a> +
<a name="l00233"></a>00233                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OBD) +
<a name="l00234"></a>00234                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MGS) +
<a name="l00235"></a>00235                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LDLM) +
<a name="l00236"></a>00236                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00237"></a>00237                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00238"></a>00238         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#gga5545c07fefb90ace330cbbc739c0f1baa06c313cf5cd1779b69a4cbfcab67e44a">QUOTA_LAST_OPC</a>) {
<a name="l00239"></a>00239                 <span class="comment">/* LQUOTA Opcode */</span>
<a name="l00240"></a>00240                 <span class="keywordflow">return</span> (opc - <a class="code" href="group__lustreidl.html#ga5bd21af14fa1339d908c4a9385278be2">QUOTA_FIRST_OPC</a> +
<a name="l00241"></a>00241                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LLOG) +
<a name="l00242"></a>00242                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OBD) +
<a name="l00243"></a>00243                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MGS) +
<a name="l00244"></a>00244                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LDLM) +
<a name="l00245"></a>00245                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00246"></a>00246                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00247"></a>00247         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#gga8cb93eb55524b57eac996fad3361cbc3a104d6831ed6b5c2fe8238e5c6819e26a">SEQ_LAST_OPC</a>) {
<a name="l00248"></a>00248                 <span class="comment">/* SEQ opcode */</span>
<a name="l00249"></a>00249                 <span class="keywordflow">return</span> (opc - <a class="code" href="group__lustreidl.html#gga8cb93eb55524b57eac996fad3361cbc3a4da6daeb20e2cbc1e29dacad0f09c07c">SEQ_FIRST_OPC</a> +
<a name="l00250"></a>00250                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(QUOTA) +
<a name="l00251"></a>00251                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LLOG) +
<a name="l00252"></a>00252                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OBD) +
<a name="l00253"></a>00253                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MGS) +
<a name="l00254"></a>00254                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LDLM) +
<a name="l00255"></a>00255                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00256"></a>00256                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00257"></a>00257         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#ggacdfb3450710c7f7963d56bb45a8f2962af1d8bc7d9180f4bde6dbd5c619f2f358">SEC_LAST_OPC</a>) {
<a name="l00258"></a>00258                 <span class="comment">/* SEC opcode */</span>
<a name="l00259"></a>00259                 <span class="keywordflow">return</span> (opc - <a class="code" href="group__lustreidl.html#ggacdfb3450710c7f7963d56bb45a8f2962a41d3573fe0049998897753e86a8e2ecd">SEC_FIRST_OPC</a> +
<a name="l00260"></a>00260                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(SEQ) +
<a name="l00261"></a>00261                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(QUOTA) +
<a name="l00262"></a>00262                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LLOG) +
<a name="l00263"></a>00263                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OBD) +
<a name="l00264"></a>00264                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MGS) +
<a name="l00265"></a>00265                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LDLM) +
<a name="l00266"></a>00266                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00267"></a>00267                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00268"></a>00268         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#gga185d977a533e9a760303731aaba4388baac88d475dce11604a4ea3bb59ffce0f7">FLD_LAST_OPC</a>) {
<a name="l00269"></a>00269                 <span class="comment">/* FLD opcode */</span>
<a name="l00270"></a>00270                  <span class="keywordflow">return</span> (opc - <a class="code" href="group__lustreidl.html#gga185d977a533e9a760303731aaba4388bae2b0a5d14e7e407bd1b03b1f64dceb16">FLD_FIRST_OPC</a> +
<a name="l00271"></a>00271                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(SEC) +
<a name="l00272"></a>00272                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(SEQ) +
<a name="l00273"></a>00273                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(QUOTA) +
<a name="l00274"></a>00274                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LLOG) +
<a name="l00275"></a>00275                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OBD) +
<a name="l00276"></a>00276                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MGS) +
<a name="l00277"></a>00277                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LDLM) +
<a name="l00278"></a>00278                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00279"></a>00279                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00280"></a>00280         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#gga6950301f8a5a3745922e1e67f00fdecfa895d46a5cf97e59f3e4da9790acb2191">OUT_UPDATE_LAST_OPC</a>) {
<a name="l00281"></a>00281                 <span class="comment">/* update opcode */</span>
<a name="l00282"></a>00282                 <span class="keywordflow">return</span> (opc - <a class="code" href="group__lustreidl.html#ga9c6c756882ea3965a9e9f5cb168cfe52">OUT_UPDATE_FIRST_OPC</a> +
<a name="l00283"></a>00283                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(FLD) +
<a name="l00284"></a>00284                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(SEC) +
<a name="l00285"></a>00285                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(SEQ) +
<a name="l00286"></a>00286                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(QUOTA) +
<a name="l00287"></a>00287                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LLOG) +
<a name="l00288"></a>00288                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OBD) +
<a name="l00289"></a>00289                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MGS) +
<a name="l00290"></a>00290                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LDLM) +
<a name="l00291"></a>00291                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00292"></a>00292                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00293"></a>00293         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc &lt; <a class="code" href="group__lustreidl.html#gga9b4b9538cdfa57b61f2346ba69a6d8e7a3faf0719b6f565261830bb59e45167c9">LFSCK_LAST_OPC</a>) {
<a name="l00294"></a>00294                 <span class="comment">/* LFSCK opcode */</span>
<a name="l00295"></a>00295                 <span class="keywordflow">return</span> (opc - <a class="code" href="group__lustreidl.html#gga9b4b9538cdfa57b61f2346ba69a6d8e7a87b3198cd0c686c88130d2eb84d19467">LFSCK_FIRST_OPC</a> +
<a name="l00296"></a>00296                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(<a class="code" href="group__lustreidl.html#gga6950301f8a5a3745922e1e67f00fdecfa33a3469616644da74db154c9c58eea45">OUT_UPDATE</a>) +
<a name="l00297"></a>00297                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(FLD) +
<a name="l00298"></a>00298                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(SEC) +
<a name="l00299"></a>00299                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(SEQ) +
<a name="l00300"></a>00300                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(QUOTA) +
<a name="l00301"></a>00301                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LLOG) +
<a name="l00302"></a>00302                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OBD) +
<a name="l00303"></a>00303                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MGS) +
<a name="l00304"></a>00304                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(LDLM) +
<a name="l00305"></a>00305                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(MDS) +
<a name="l00306"></a>00306                         <a class="code" href="lprocfs__status_8h.html#a849bd8ac65e0226e7f8beeb275be271f">OPC_RANGE</a>(OST));
<a name="l00307"></a>00307         } <span class="keywordflow">else</span> {
<a name="l00308"></a>00308                 <span class="comment">/* Unknown Opcode */</span>
<a name="l00309"></a>00309                 <span class="keywordflow">return</span> -1;
<a name="l00310"></a>00310         }
<a name="l00311"></a>00311 }
<a name="l00312"></a>00312 
<a name="l00313"></a>00313 
<a name="l00314"></a><a class="code" href="lprocfs__status_8h.html#a561d65a042b0fc805cc98795448c27ae">00314</a> <span class="preprocessor">#define LUSTRE_MAX_OPCODES (OPC_RANGE(OST)  + \</span>
<a name="l00315"></a>00315 <span class="preprocessor">                            OPC_RANGE(MDS)  + \</span>
<a name="l00316"></a>00316 <span class="preprocessor">                            OPC_RANGE(LDLM) + \</span>
<a name="l00317"></a>00317 <span class="preprocessor">                            OPC_RANGE(MGS)  + \</span>
<a name="l00318"></a>00318 <span class="preprocessor">                            OPC_RANGE(OBD)  + \</span>
<a name="l00319"></a>00319 <span class="preprocessor">                            OPC_RANGE(LLOG) + \</span>
<a name="l00320"></a>00320 <span class="preprocessor">                            OPC_RANGE(SEC)  + \</span>
<a name="l00321"></a>00321 <span class="preprocessor">                            OPC_RANGE(SEQ)  + \</span>
<a name="l00322"></a>00322 <span class="preprocessor">                            OPC_RANGE(SEC)  + \</span>
<a name="l00323"></a>00323 <span class="preprocessor">                            OPC_RANGE(FLD)  + \</span>
<a name="l00324"></a>00324 <span class="preprocessor">                            OPC_RANGE(OUT_UPDATE) + \</span>
<a name="l00325"></a>00325 <span class="preprocessor">                            OPC_RANGE(LFSCK))</span>
<a name="l00326"></a>00326 <span class="preprocessor"></span>
<a name="l00327"></a><a class="code" href="lprocfs__status_8h.html#a4abf2f876f25b8f4e8f296b3c2c111e1">00327</a> <span class="preprocessor">#define EXTRA_MAX_OPCODES ((PTLRPC_LAST_CNTR - PTLRPC_FIRST_CNTR)  + \</span>
<a name="l00328"></a>00328 <span class="preprocessor">                            OPC_RANGE(EXTRA))</span>
<a name="l00329"></a>00329 <span class="preprocessor"></span>
<a name="l00330"></a>00330 <span class="keyword">enum</span> {
<a name="l00331"></a><a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960aad5d8e98da076b066a93d3baf2667ec7">00331</a>         <a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960aad5d8e98da076b066a93d3baf2667ec7">PTLRPC_REQWAIT_CNTR</a> = 0,
<a name="l00332"></a><a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960afaae8d6d503e339b226c14af351838aa">00332</a>         <a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960afaae8d6d503e339b226c14af351838aa">PTLRPC_REQQDEPTH_CNTR</a>,
<a name="l00333"></a><a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960a526a138a6295e6476b7172b944790e5f">00333</a>         <a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960a526a138a6295e6476b7172b944790e5f">PTLRPC_REQACTIVE_CNTR</a>,
<a name="l00334"></a><a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960a3e3dc4a981bb2c3e62bded0abf320077">00334</a>         <a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960a3e3dc4a981bb2c3e62bded0abf320077">PTLRPC_TIMEOUT</a>,
<a name="l00335"></a><a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960a9ba3085b0f13829314303f58b198b116">00335</a>         <a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960a9ba3085b0f13829314303f58b198b116">PTLRPC_REQBUF_AVAIL_CNTR</a>,
<a name="l00336"></a><a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960aeeabd3556d77dd5dc9f786100b57b0f9">00336</a>         <a class="code" href="lprocfs__status_8h.html#af9bdc3014f3d54c426b6d2df10de4960aeeabd3556d77dd5dc9f786100b57b0f9">PTLRPC_LAST_CNTR</a>
<a name="l00337"></a>00337 };
<a name="l00338"></a>00338 
<a name="l00339"></a><a class="code" href="lprocfs__status_8h.html#aed076958db416dcdbb163979868e6860">00339</a> <span class="preprocessor">#define PTLRPC_FIRST_CNTR PTLRPC_REQWAIT_CNTR</span>
<a name="l00340"></a>00340 <span class="preprocessor"></span>
<a name="l00341"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27">00341</a> <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27">lprocfs_extra_opc</a> {
<a name="l00342"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a3a5da6e09936a2622fa87bc0ed79e86f">00342</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a3a5da6e09936a2622fa87bc0ed79e86f">LDLM_GLIMPSE_ENQUEUE</a> = 0,
<a name="l00343"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27acd24cb4839fbc7a49da0681606714b2f">00343</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27acd24cb4839fbc7a49da0681606714b2f">LDLM_PLAIN_ENQUEUE</a>,
<a name="l00344"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a5f2d3c7de7517a2c982ad1be6b3fb830">00344</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a5f2d3c7de7517a2c982ad1be6b3fb830">LDLM_EXTENT_ENQUEUE</a>,
<a name="l00345"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a500b64058d2da5904c521f744cbff4f8">00345</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a500b64058d2da5904c521f744cbff4f8">LDLM_FLOCK_ENQUEUE</a>,
<a name="l00346"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a1ce836244e240e4d81ec87789bafeb4d">00346</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a1ce836244e240e4d81ec87789bafeb4d">LDLM_IBITS_ENQUEUE</a>,
<a name="l00347"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a8056bef99077a6fcd6222cd74aad39ed">00347</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a8056bef99077a6fcd6222cd74aad39ed">MDS_REINT_SETATTR</a>,
<a name="l00348"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a3241e0bb45c2a89073fa400cf2791a07">00348</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a3241e0bb45c2a89073fa400cf2791a07">MDS_REINT_CREATE</a>,
<a name="l00349"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a1c11498c0bb060b065385eefeb57a1d5">00349</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a1c11498c0bb060b065385eefeb57a1d5">MDS_REINT_LINK</a>,
<a name="l00350"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a89cbe42e1c1008215930577b00c9cb65">00350</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a89cbe42e1c1008215930577b00c9cb65">MDS_REINT_UNLINK</a>,
<a name="l00351"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a84e6ecdc412c7b00a30929f7f2e918b4">00351</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a84e6ecdc412c7b00a30929f7f2e918b4">MDS_REINT_RENAME</a>,
<a name="l00352"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27aec1a32e8abc16efd0a97536d8b10daad">00352</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27aec1a32e8abc16efd0a97536d8b10daad">MDS_REINT_OPEN</a>,
<a name="l00353"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a9ef0e1400049f22a82f5bda7a2615ff1">00353</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a9ef0e1400049f22a82f5bda7a2615ff1">MDS_REINT_SETXATTR</a>,
<a name="l00354"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27ae509ec3b8cfdc7c7a145e5277ba73f91">00354</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27ae509ec3b8cfdc7c7a145e5277ba73f91">BRW_READ_BYTES</a>,
<a name="l00355"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27ae1dff4d897ac0d41132f0aaf620571b7">00355</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27ae1dff4d897ac0d41132f0aaf620571b7">BRW_WRITE_BYTES</a>,
<a name="l00356"></a><a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a07af049bf929aa269956bef917860f97">00356</a>         <a class="code" href="lprocfs__status_8h.html#a3b8e8668cc1b12a69dfe51ccf4631a27a07af049bf929aa269956bef917860f97">EXTRA_LAST_OPC</a>
<a name="l00357"></a>00357 };
<a name="l00358"></a>00358 
<a name="l00359"></a><a class="code" href="lprocfs__status_8h.html#adbdde59a550f1fcdbbe6fbd3c2c8381e">00359</a> <span class="preprocessor">#define EXTRA_FIRST_OPC LDLM_GLIMPSE_ENQUEUE</span>
<a name="l00360"></a>00360 <span class="preprocessor"></span><span class="comment">/* class_obd.c */</span>
<a name="l00361"></a>00361 <span class="keyword">extern</span> <span class="keyword">struct </span>proc_dir_entry *<a class="code" href="lprocfs__status_8h.html#a0b3a69edc70a6b3e15414462aefde5a3">proc_lustre_root</a>;
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 <span class="keyword">struct </span><a class="code" href="structobd__device.html">obd_device</a>;
<a name="l00364"></a>00364 <span class="keyword">struct </span><a class="code" href="structobd__histogram.html">obd_histogram</a>;
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 <span class="comment">/* Days / hours / mins / seconds format */</span>
<a name="l00367"></a><a class="code" href="structdhms.html">00367</a> <span class="keyword">struct </span><a class="code" href="structdhms.html">dhms</a> {
<a name="l00368"></a><a class="code" href="structdhms.html#a8f5f0d2d6570a09652a5390eb4b6fb10">00368</a>         <span class="keywordtype">int</span> <a class="code" href="structdhms.html#a003829564f798cb3a2760769d3c7a10b">d</a>,<a class="code" href="structdhms.html#af23732775cca7e79f20426e10aaa345c">h</a>,<a class="code" href="structdhms.html#a420a1b7ea466eedc2973ba4bde92dfbb">m</a>,<a class="code" href="structdhms.html#a8f5f0d2d6570a09652a5390eb4b6fb10">s</a>;
<a name="l00369"></a>00369 };
<a name="l00370"></a><a class="code" href="lprocfs__status_8h.html#a99719b2daca3d2f26271be4fb252b9f4">00370</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a99719b2daca3d2f26271be4fb252b9f4">s2dhms</a>(<span class="keyword">struct</span> <a class="code" href="structdhms.html">dhms</a> *ts, time_t secs)
<a name="l00371"></a>00371 {
<a name="l00372"></a>00372         ts-&gt;<a class="code" href="structdhms.html#a003829564f798cb3a2760769d3c7a10b">d</a> = secs / 86400;
<a name="l00373"></a>00373         secs = secs % 86400;
<a name="l00374"></a>00374         ts-&gt;<a class="code" href="structdhms.html#af23732775cca7e79f20426e10aaa345c">h</a> = secs / 3600;
<a name="l00375"></a>00375         secs = secs % 3600;
<a name="l00376"></a>00376         ts-&gt;<a class="code" href="structdhms.html#a420a1b7ea466eedc2973ba4bde92dfbb">m</a> = secs / 60;
<a name="l00377"></a>00377         ts-&gt;<a class="code" href="structdhms.html#a8f5f0d2d6570a09652a5390eb4b6fb10">s</a> = secs % 60;
<a name="l00378"></a>00378 }
<a name="l00379"></a><a class="code" href="lprocfs__status_8h.html#a2b47f40c827c1f495a091f0de7844f55">00379</a> <span class="preprocessor">#define DHMS_FMT &quot;%dd%dh%02dm%02ds&quot;</span>
<a name="l00380"></a><a class="code" href="lprocfs__status_8h.html#aafb73a0fa03e8aaa631c47ef9ed9bbe4">00380</a> <span class="preprocessor"></span><span class="preprocessor">#define DHMS_VARS(x) (x)-&gt;d, (x)-&gt;h, (x)-&gt;m, (x)-&gt;s</span>
<a name="l00381"></a>00381 <span class="preprocessor"></span>
<a name="l00382"></a><a class="code" href="lprocfs__status_8h.html#a77947e75df14f405d0a1421b832ce36e">00382</a> <span class="preprocessor">#define JOBSTATS_JOBID_VAR_MAX_LEN      20</span>
<a name="l00383"></a><a class="code" href="lprocfs__status_8h.html#ae8c0d8157efda291098f3b9d6f76be39">00383</a> <span class="preprocessor"></span><span class="preprocessor">#define JOBSTATS_DISABLE                &quot;disable&quot;</span>
<a name="l00384"></a><a class="code" href="lprocfs__status_8h.html#af027793fa5130fa927d521aac1fa09d2">00384</a> <span class="preprocessor"></span><span class="preprocessor">#define JOBSTATS_PROCNAME_UID           &quot;procname_uid&quot;</span>
<a name="l00385"></a><a class="code" href="lprocfs__status_8h.html#a21343a288be76894d40a7937a0c3360a">00385</a> <span class="preprocessor"></span><span class="preprocessor">#define JOBSTATS_NODELOCAL              &quot;nodelocal&quot;</span>
<a name="l00386"></a>00386 <span class="preprocessor"></span>
<a name="l00387"></a><a class="code" href="lprocfs__status_8h.html#a5a0fb3a4937907153b02b3a496cb6ffc">00387</a> <span class="keyword">typedef</span> void (*<a class="code" href="lprocfs__status_8h.html#a5a0fb3a4937907153b02b3a496cb6ffc">cntr_init_callback</a>)(<span class="keyword">struct </span><a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats);
<a name="l00388"></a>00388 
<a name="l00389"></a><a class="code" href="structobd__job__stats.html">00389</a> <span class="keyword">struct </span><a class="code" href="structobd__job__stats.html">obd_job_stats</a> {
<a name="l00390"></a><a class="code" href="structobd__job__stats.html#ae83a815f1bbf09d92323c90f5216bcdc">00390</a>         <span class="keyword">struct </span><a class="code" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a>        *<a class="code" href="structobd__job__stats.html#ae83a815f1bbf09d92323c90f5216bcdc">ojs_hash</a>;       <span class="comment">/* hash of jobids */</span>
<a name="l00391"></a><a class="code" href="structobd__job__stats.html#a4d139e29ca617f5a272c1020913df5e0">00391</a>         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        <a class="code" href="structobd__job__stats.html#a4d139e29ca617f5a272c1020913df5e0">ojs_list</a>;       <span class="comment">/* list of job_stat structs */</span>
<a name="l00392"></a><a class="code" href="structobd__job__stats.html#a124f483b5e635098b27bf3bda0b73532">00392</a>         rwlock_t                <a class="code" href="structobd__job__stats.html#a124f483b5e635098b27bf3bda0b73532">ojs_lock</a>;       <span class="comment">/* protect ojs_list/js_list */</span>
<a name="l00393"></a><a class="code" href="structobd__job__stats.html#a71b6e86e280eed0241a4794f155ad299">00393</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>            <a class="code" href="structobd__job__stats.html#a71b6e86e280eed0241a4794f155ad299">ojs_cleanup_interval</a>;<span class="comment">/* seconds before expiry */</span>
<a name="l00394"></a><a class="code" href="structobd__job__stats.html#ab9bbd4939361b2e10b7ce43c3b3fa990">00394</a>         time_t                  <a class="code" href="structobd__job__stats.html#ab9bbd4939361b2e10b7ce43c3b3fa990">ojs_last_cleanup</a>; <span class="comment">/* previous cleanup time */</span>
<a name="l00395"></a><a class="code" href="structobd__job__stats.html#a802efd5ca2911bd006148f0da4f65bce">00395</a>         <a class="code" href="lprocfs__status_8h.html#a5a0fb3a4937907153b02b3a496cb6ffc">cntr_init_callback</a>      <a class="code" href="structobd__job__stats.html#a802efd5ca2911bd006148f0da4f65bce">ojs_cntr_init_fn</a>;<span class="comment">/* lprocfs_stats initializer */</span>
<a name="l00396"></a><a class="code" href="structobd__job__stats.html#a30008b710e23d84c21e02479bfcb91a5">00396</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>          <a class="code" href="structobd__job__stats.html#a30008b710e23d84c21e02479bfcb91a5">ojs_cntr_num</a>;   <span class="comment">/* number of stats in struct */</span>
<a name="l00397"></a><a class="code" href="structobd__job__stats.html#ad651dcccfbafeeb7707ba06cba61cdd9">00397</a>         <span class="keywordtype">bool</span>                    <a class="code" href="structobd__job__stats.html#ad651dcccfbafeeb7707ba06cba61cdd9">ojs_cleaning</a>;   <span class="comment">/* currently expiring stats */</span>
<a name="l00398"></a>00398 };
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 <span class="preprocessor">#ifdef CONFIG_PROC_FS</span>
<a name="l00401"></a>00401 <span class="preprocessor"></span>
<a name="l00402"></a>00402 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_stats_alloc_one(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats,
<a name="l00403"></a>00403                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpuid);
<a name="l00404"></a>00404 
<a name="l00432"></a>00432 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> lprocfs_stats_lock(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats,
<a name="l00433"></a>00433                                      <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0ed">lprocfs_stats_lock_ops</a> opc,
<a name="l00434"></a>00434                                      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *flags)
<a name="l00435"></a>00435 {
<a name="l00436"></a>00436         <span class="keywordflow">if</span> (stats-&gt;<a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">ls_flags</a> &amp; <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073a71d0d355d96717879809c55bf42497f5">LPROCFS_STATS_FLAG_NOPERCPU</a>) {
<a name="l00437"></a>00437                 <span class="keywordflow">if</span> (stats-&gt;<a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">ls_flags</a> &amp; <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073af93f1b20d8aca1fd062599e3ec0e9131">LPROCFS_STATS_FLAG_IRQ_SAFE</a>)
<a name="l00438"></a>00438                         spin_lock_irqsave(&amp;stats-&gt;<a class="code" href="structlprocfs__stats.html#ac7d9d5207bc5cf5dcae69d36711c17f4">ls_lock</a>, *flags);
<a name="l00439"></a>00439                 <span class="keywordflow">else</span>
<a name="l00440"></a>00440                         spin_lock(&amp;stats-&gt;<a class="code" href="structlprocfs__stats.html#ac7d9d5207bc5cf5dcae69d36711c17f4">ls_lock</a>);
<a name="l00441"></a>00441                 <span class="keywordflow">return</span> opc == <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda976571d320b511124b68cb3127b415a0">LPROCFS_GET_NUM_CPU</a> ? 1 : 0;
<a name="l00442"></a>00442         }
<a name="l00443"></a>00443 
<a name="l00444"></a>00444         <span class="keywordflow">switch</span> (opc) {
<a name="l00445"></a>00445         <span class="keywordflow">case</span> <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda22280878ed1e892f18ceb48c921972e4">LPROCFS_GET_SMP_ID</a>: {
<a name="l00446"></a>00446                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpuid = get_cpu();
<a name="l00447"></a>00447 
<a name="l00448"></a>00448                 <span class="keywordflow">if</span> (<a class="code" href="libcfs__private_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(stats-&gt;<a class="code" href="structlprocfs__stats.html#aecaa8b445cfb51cd734e8ba0417dcaa3">ls_percpu</a>[cpuid] == NULL)) {
<a name="l00449"></a>00449                         <span class="keywordtype">int</span> rc = lprocfs_stats_alloc_one(stats, cpuid);
<a name="l00450"></a>00450                         <span class="keywordflow">if</span> (rc &lt; 0) {
<a name="l00451"></a>00451                                 put_cpu();
<a name="l00452"></a>00452                                 <span class="keywordflow">return</span> rc;
<a name="l00453"></a>00453                         }
<a name="l00454"></a>00454                 }
<a name="l00455"></a>00455                 <span class="keywordflow">return</span> cpuid;
<a name="l00456"></a>00456         }
<a name="l00457"></a>00457         <span class="keywordflow">case</span> <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda976571d320b511124b68cb3127b415a0">LPROCFS_GET_NUM_CPU</a>:
<a name="l00458"></a>00458                 <span class="keywordflow">return</span> stats-&gt;<a class="code" href="structlprocfs__stats.html#a9ef5a8b6a607e72fab7e14dcd4de2a2c">ls_biggest_alloc_num</a>;
<a name="l00459"></a>00459         <span class="keywordflow">default</span>:
<a name="l00460"></a>00460                 <a class="code" href="libcfs__private_8h.html#a08eceadb65d1adcf8c198cff27081d5f">LBUG</a>();
<a name="l00461"></a>00461         }
<a name="l00462"></a>00462 }
<a name="l00463"></a>00463 
<a name="l00477"></a>00477 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> lprocfs_stats_unlock(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats,
<a name="l00478"></a>00478                                         <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0ed">lprocfs_stats_lock_ops</a> opc,
<a name="l00479"></a>00479                                         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *flags)
<a name="l00480"></a>00480 {
<a name="l00481"></a>00481         <span class="keywordflow">if</span> (stats-&gt;<a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">ls_flags</a> &amp; <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073a71d0d355d96717879809c55bf42497f5">LPROCFS_STATS_FLAG_NOPERCPU</a>) {
<a name="l00482"></a>00482                 <span class="keywordflow">if</span> (stats-&gt;<a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">ls_flags</a> &amp; <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073af93f1b20d8aca1fd062599e3ec0e9131">LPROCFS_STATS_FLAG_IRQ_SAFE</a>)
<a name="l00483"></a>00483                         spin_unlock_irqrestore(&amp;stats-&gt;<a class="code" href="structlprocfs__stats.html#ac7d9d5207bc5cf5dcae69d36711c17f4">ls_lock</a>, *flags);
<a name="l00484"></a>00484                 <span class="keywordflow">else</span>
<a name="l00485"></a>00485                         spin_unlock(&amp;stats-&gt;<a class="code" href="structlprocfs__stats.html#ac7d9d5207bc5cf5dcae69d36711c17f4">ls_lock</a>);
<a name="l00486"></a>00486         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opc == <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda22280878ed1e892f18ceb48c921972e4">LPROCFS_GET_SMP_ID</a>) {
<a name="l00487"></a>00487                 put_cpu();
<a name="l00488"></a>00488         }
<a name="l00489"></a>00489 }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00492"></a>00492 lprocfs_stats_counter_size(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats)
<a name="l00493"></a>00493 {
<a name="l00494"></a>00494         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> percpusize;
<a name="l00495"></a>00495 
<a name="l00496"></a>00496         percpusize = <a class="code" href="group__lustreuser.html#gad4a7496cd704df3829c87864e7dbd703">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__percpu.html">lprocfs_percpu</a>, lp_cntr[stats-&gt;<a class="code" href="structlprocfs__stats.html#a2ca1d068c3145559f69dac0adc63208d">ls_num</a>]);
<a name="l00497"></a>00497 
<a name="l00498"></a>00498         <span class="comment">/* irq safe stats need lc_array_sum[1] */</span>
<a name="l00499"></a>00499         <span class="keywordflow">if</span> ((stats-&gt;<a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">ls_flags</a> &amp; <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073af93f1b20d8aca1fd062599e3ec0e9131">LPROCFS_STATS_FLAG_IRQ_SAFE</a>) != 0)
<a name="l00500"></a>00500                 percpusize += stats-&gt;<a class="code" href="structlprocfs__stats.html#a2ca1d068c3145559f69dac0adc63208d">ls_num</a> * <span class="keyword">sizeof</span>(__s64);
<a name="l00501"></a>00501 
<a name="l00502"></a>00502         <span class="keywordflow">if</span> ((stats-&gt;<a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">ls_flags</a> &amp; <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073a71d0d355d96717879809c55bf42497f5">LPROCFS_STATS_FLAG_NOPERCPU</a>) == 0)
<a name="l00503"></a>00503                 percpusize = L1_CACHE_ALIGN(percpusize);
<a name="l00504"></a>00504 
<a name="l00505"></a>00505         <span class="keywordflow">return</span> percpusize;
<a name="l00506"></a>00506 }
<a name="l00507"></a>00507 
<a name="l00508"></a>00508 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structlprocfs__counter.html">lprocfs_counter</a> *
<a name="l00509"></a>00509 lprocfs_stats_counter_get(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpuid,
<a name="l00510"></a>00510                           <span class="keywordtype">int</span> index)
<a name="l00511"></a>00511 {
<a name="l00512"></a>00512         <span class="keyword">struct </span><a class="code" href="structlprocfs__counter.html">lprocfs_counter</a> *cntr;
<a name="l00513"></a>00513 
<a name="l00514"></a>00514         cntr = &amp;stats-&gt;<a class="code" href="structlprocfs__stats.html#aecaa8b445cfb51cd734e8ba0417dcaa3">ls_percpu</a>[cpuid]-&gt;<a class="code" href="structlprocfs__percpu.html#adc0d3d105c0a4cf01068617d9904c632">lp_cntr</a>[index];
<a name="l00515"></a>00515 
<a name="l00516"></a>00516         <span class="keywordflow">if</span> ((stats-&gt;<a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">ls_flags</a> &amp; <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073af93f1b20d8aca1fd062599e3ec0e9131">LPROCFS_STATS_FLAG_IRQ_SAFE</a>) != 0)
<a name="l00517"></a>00517                 cntr = (<span class="keywordtype">void</span> *)cntr + index * <span class="keyword">sizeof</span>(__s64);
<a name="l00518"></a>00518 
<a name="l00519"></a>00519         <span class="keywordflow">return</span> cntr;
<a name="l00520"></a>00520 }
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 <span class="comment">/* Two optimized LPROCFS counter increment functions are provided:</span>
<a name="l00523"></a>00523 <span class="comment"> *     lprocfs_counter_incr(cntr, value) - optimized for by-one counters</span>
<a name="l00524"></a>00524 <span class="comment"> *     lprocfs_counter_add(cntr) - use for multi-valued counters</span>
<a name="l00525"></a>00525 <span class="comment"> * Counter data layout allows config flag, counter lock and the</span>
<a name="l00526"></a>00526 <span class="comment"> * count itself to reside within a single cache line.</span>
<a name="l00527"></a>00527 <span class="comment"> */</span>
<a name="l00528"></a>00528 
<a name="l00529"></a>00529 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a5757deead2e3930997728dc4d173c24b">lprocfs_counter_add</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats, <span class="keywordtype">int</span> idx,
<a name="l00530"></a>00530                                 <span class="keywordtype">long</span> amount);
<a name="l00531"></a>00531 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a5e0c90acaa4b93f824aba4e21edf6a61">lprocfs_counter_sub</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats, <span class="keywordtype">int</span> idx,
<a name="l00532"></a>00532                                 <span class="keywordtype">long</span> amount);
<a name="l00533"></a>00533 
<a name="l00534"></a>00534 <span class="preprocessor">#define lprocfs_counter_incr(stats, idx) \</span>
<a name="l00535"></a>00535 <span class="preprocessor">        lprocfs_counter_add(stats, idx, 1)</span>
<a name="l00536"></a>00536 <span class="preprocessor"></span><span class="preprocessor">#define lprocfs_counter_decr(stats, idx) \</span>
<a name="l00537"></a>00537 <span class="preprocessor">        lprocfs_counter_sub(stats, idx, 1)</span>
<a name="l00538"></a>00538 <span class="preprocessor"></span>
<a name="l00539"></a>00539 <span class="keyword">extern</span> __s64 lprocfs_read_helper(<span class="keyword">struct</span> <a class="code" href="structlprocfs__counter.html">lprocfs_counter</a> *lc,
<a name="l00540"></a>00540                                  <span class="keyword">struct</span> <a class="code" href="structlprocfs__counter__header.html">lprocfs_counter_header</a> *<a class="code" href="it__test_8c.html#a65579ed4f1bdcc045f97e6ccee22e9a9">header</a>,
<a name="l00541"></a>00541                                  <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073">lprocfs_stats_flags</a> flags,
<a name="l00542"></a>00542                                  <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333ba">lprocfs_fields_flags</a> field);
<a name="l00543"></a>00543 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="code" href="lprocfs__status_8h.html#a2727ee7497be6f173c5db24c243417cf">lprocfs_stats_collector</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats,
<a name="l00544"></a>00544                                             <span class="keywordtype">int</span> idx,
<a name="l00545"></a>00545                                             <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333ba">lprocfs_fields_flags</a> field)
<a name="l00546"></a>00546 {
<a name="l00547"></a>00547         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  i;
<a name="l00548"></a>00548         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  num_cpu;
<a name="l00549"></a>00549         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flags     = 0;
<a name="l00550"></a>00550         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>         <a class="code" href="utils_2wirehdr_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a>       = 0;
<a name="l00551"></a>00551 
<a name="l00552"></a>00552         <a class="code" href="utils_2wirehdr_8c.html#a40eabc293a68a6404ce1de507c99c4b5">LASSERT</a>(stats != NULL);
<a name="l00553"></a>00553 
<a name="l00554"></a>00554         num_cpu = lprocfs_stats_lock(stats, <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda976571d320b511124b68cb3127b415a0">LPROCFS_GET_NUM_CPU</a>, &amp;flags);
<a name="l00555"></a>00555         <span class="keywordflow">for</span> (i = 0; i &lt; num_cpu; i++) {
<a name="l00556"></a>00556                 <span class="keywordflow">if</span> (stats-&gt;<a class="code" href="structlprocfs__stats.html#aecaa8b445cfb51cd734e8ba0417dcaa3">ls_percpu</a>[i] == NULL)
<a name="l00557"></a>00557                         <span class="keywordflow">continue</span>;
<a name="l00558"></a>00558                 ret += lprocfs_read_helper(
<a name="l00559"></a>00559                                 lprocfs_stats_counter_get(stats, i, idx),
<a name="l00560"></a>00560                                 &amp;stats-&gt;<a class="code" href="structlprocfs__stats.html#a4b34b405768a9a7867ea481454800e54">ls_cnt_header</a>[idx], stats-&gt;<a class="code" href="structlprocfs__stats.html#a0d62a55b27b83b7c3d4a241412a976ee">ls_flags</a>,
<a name="l00561"></a>00561                                 field);
<a name="l00562"></a>00562         }
<a name="l00563"></a>00563         lprocfs_stats_unlock(stats, <a class="code" href="lprocfs__status_8h.html#a475dd9f9526053da256a5cdd58bfd0eda976571d320b511124b68cb3127b415a0">LPROCFS_GET_NUM_CPU</a>, &amp;flags);
<a name="l00564"></a>00564         <span class="keywordflow">return</span> ret;
<a name="l00565"></a>00565 }
<a name="l00566"></a>00566 
<a name="l00567"></a>00567 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *
<a name="l00568"></a>00568 <a class="code" href="lprocfs__status_8h.html#a76291495ae0f9c57e34e4965864d7592">lprocfs_alloc_stats</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num, <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073">lprocfs_stats_flags</a> flags);
<a name="l00569"></a>00569 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a2719edeac77129986c1c1a073d375e2a">lprocfs_clear_stats</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats);
<a name="l00570"></a>00570 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a09416ca2aeaac615fdb530e9c0cba02f">lprocfs_free_stats</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> **stats);
<a name="l00571"></a>00571 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a48252dce6544a29ca6a693e96ac0ce28">lprocfs_init_ops_stats</a>(<span class="keywordtype">int</span> num_private_stats,
<a name="l00572"></a>00572                                    <span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats);
<a name="l00573"></a>00573 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#abb4bd96daec72381da8453ea4a2a2103">lprocfs_init_mps_stats</a>(<span class="keywordtype">int</span> num_private_stats,
<a name="l00574"></a>00574                                    <span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats);
<a name="l00575"></a>00575 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ae689c152d2b788b6f8407b8ced3d32c1">lprocfs_init_ldlm_stats</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *ldlm_stats);
<a name="l00576"></a>00576 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a8ea9127aa9d203cd8337ab09fdf0bbd7">lprocfs_alloc_obd_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obddev,
<a name="l00577"></a>00577                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_private_stats);
<a name="l00578"></a>00578 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a344be3bf5dd74a27ec378734a9b51581">lprocfs_alloc_md_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obddev,
<a name="l00579"></a>00579                                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_private_stats);
<a name="l00580"></a>00580 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a2ed4a15b7fa1d54e5b57c45c64d50eb6">lprocfs_counter_init</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats, <span class="keywordtype">int</span> index,
<a name="l00581"></a>00581                                  <span class="keywordtype">unsigned</span> conf, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00582"></a>00582                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *units);
<a name="l00583"></a>00583 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#aca9938257fbfe9371fe759f3efae1129">lprocfs_free_obd_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obddev);
<a name="l00584"></a>00584 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#aaf56c490bc014c4386e0ab30d944060d">lprocfs_free_md_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obddev);
<a name="l00585"></a>00585 <span class="keyword">struct </span><a class="code" href="structobd__export.html" title="Export structure.">obd_export</a>;
<a name="l00586"></a>00586 <span class="keyword">struct </span><a class="code" href="structnid__stat.html" title="per-NID statistics structure.">nid_stat</a>;
<a name="l00587"></a>00587 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a68ad25d17153e4aec968de0bdbdb6726">lprocfs_add_clear_entry</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> * obd,
<a name="l00588"></a>00588                                    <span class="keyword">struct</span> proc_dir_entry *entry);
<a name="l00589"></a>00589 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00590"></a>00590 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_exp_setup(<span class="keyword">struct</span> <a class="code" href="structobd__export.html" title="Export structure.">obd_export</a> *exp, <a class="code" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312" title="Address of an end-point in an LNet network.">lnet_nid_t</a> *peer_nid);
<a name="l00591"></a>00591 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#af0ff7834403a989234b362517b4707dc">lprocfs_exp_cleanup</a>(<span class="keyword">struct</span> <a class="code" href="structobd__export.html" title="Export structure.">obd_export</a> *exp);
<a name="l00592"></a>00592 <span class="preprocessor">#else</span>
<a name="l00593"></a>00593 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#af0ff7834403a989234b362517b4707dc">lprocfs_exp_cleanup</a>(<span class="keyword">struct</span> <a class="code" href="structobd__export.html" title="Export structure.">obd_export</a> *exp)
<a name="l00594"></a>00594 { <span class="keywordflow">return</span> 0; }
<a name="l00595"></a>00595 <span class="preprocessor">#endif</span>
<a name="l00596"></a>00596 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keyword">struct </span>proc_dir_entry *
<a name="l00597"></a>00597 <a class="code" href="lprocfs__status_8h.html#a83a9a2ebd19213ed17f3febbafcddb44">lprocfs_add_simple</a>(<span class="keyword">struct</span> proc_dir_entry *root, <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00598"></a>00598                    <span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keyword">struct</span> file_operations *fops);
<a name="l00599"></a>00599 <span class="keyword">extern</span> <span class="keyword">struct </span>proc_dir_entry *
<a name="l00600"></a>00600 <a class="code" href="lprocfs__status_8h.html#a343ca57d34496aac06c99f2a13fa417c">lprocfs_add_symlink</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keyword">struct</span> proc_dir_entry *parent,
<a name="l00601"></a>00601                     <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...);
<a name="l00602"></a>00602 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a6cb82f424967115881c6f1aac2409c25">lprocfs_free_per_client_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obd);
<a name="l00603"></a>00603 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00604"></a>00604 <span class="preprocessor"></span><span class="keyword">extern</span> ssize_t
<a name="l00605"></a>00605 lprocfs_nid_stats_clear_seq_write(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00606"></a>00606                                         <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00607"></a>00607 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_nid_stats_clear_seq_show(<span class="keyword">struct</span> seq_file *file, <span class="keywordtype">void</span> *data);
<a name="l00608"></a>00608 <span class="preprocessor">#endif</span>
<a name="l00609"></a>00609 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a2da3007f8df48c14ad09dd2b6aa95215">lprocfs_register_stats</a>(<span class="keyword">struct</span> proc_dir_entry *root, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00610"></a>00610                                   <span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats);
<a name="l00611"></a>00611 
<a name="l00612"></a>00612 <span class="comment">/* lprocfs_status.c */</span>
<a name="l00613"></a>00613 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a66ac6a548c5e5d6f151672e6766f1742">lprocfs_add_vars</a>(<span class="keyword">struct</span> proc_dir_entry *root,
<a name="l00614"></a>00614                             <span class="keyword">struct</span> <a class="code" href="structlprocfs__vars.html">lprocfs_vars</a> *var, <span class="keywordtype">void</span> *data);
<a name="l00615"></a>00615 <span class="keyword">extern</span> <span class="keyword">struct </span>proc_dir_entry *
<a name="l00616"></a>00616 <a class="code" href="lprocfs__status_8h.html#a706c7ec709abc61f28de92cbf08e78cf">lprocfs_register</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keyword">struct</span> proc_dir_entry *parent,
<a name="l00617"></a>00617                  <span class="keyword">struct</span> <a class="code" href="structlprocfs__vars.html">lprocfs_vars</a> *<a class="code" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>, <span class="keywordtype">void</span> *data);
<a name="l00618"></a>00618 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a64457b3c159bcc83be25b73908b966ee">lprocfs_remove</a>(<span class="keyword">struct</span> proc_dir_entry **root);
<a name="l00619"></a>00619 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a1680f2f845838562a376c659699dceaf">lprocfs_remove_proc_entry</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00620"></a>00620                                       <span class="keyword">struct</span> proc_dir_entry *parent);
<a name="l00621"></a>00621 <span class="preprocessor">#ifndef HAVE_REMOVE_PROC_SUBTREE</span>
<a name="l00622"></a>00622 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> remove_proc_subtree(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00623"></a>00623                                <span class="keyword">struct</span> proc_dir_entry *parent);
<a name="l00624"></a>00624 <span class="preprocessor">#define PDE_DATA(inode)         (PDE(inode)-&gt;data)</span>
<a name="l00625"></a>00625 <span class="preprocessor"></span>
<a name="l00626"></a>00626 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> LPROCFS_ENTRY_CHECK(<span class="keyword">struct</span> inode *inode)
<a name="l00627"></a>00627 {
<a name="l00628"></a>00628         <span class="keyword">struct </span>proc_dir_entry *dp = PDE(inode);
<a name="l00629"></a>00629         <span class="keywordtype">int</span> deleted = 0;
<a name="l00630"></a>00630 
<a name="l00631"></a>00631         spin_lock(&amp;(dp)-&gt;pde_unload_lock);
<a name="l00632"></a>00632         <span class="keywordflow">if</span> (dp-&gt;proc_fops == NULL)
<a name="l00633"></a>00633                 deleted = 1;
<a name="l00634"></a>00634         spin_unlock(&amp;(dp)-&gt;pde_unload_lock);
<a name="l00635"></a>00635         <span class="keywordflow">if</span> (deleted)
<a name="l00636"></a>00636                 <span class="keywordflow">return</span> -ENODEV;
<a name="l00637"></a>00637         <span class="keywordflow">return</span> 0;
<a name="l00638"></a>00638 }
<a name="l00639"></a>00639 <span class="preprocessor">#else</span>
<a name="l00640"></a>00640 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> LPROCFS_ENTRY_CHECK(<span class="keyword">struct</span> inode *inode)
<a name="l00641"></a>00641 { <span class="keywordflow">return</span> 0; }
<a name="l00642"></a>00642 <span class="preprocessor">#endif</span>
<a name="l00643"></a>00643 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a9af4b6c3edbc6ce382a10dbd4af81177">lprocfs_obd_setup</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *dev);
<a name="l00644"></a>00644 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a15158cecf82a91ab6030698de9743884">lprocfs_obd_cleanup</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obd);
<a name="l00645"></a>00645 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00646"></a>00646 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>file_operations lprocfs_evict_client_fops;
<a name="l00647"></a>00647 <span class="preprocessor">#endif</span>
<a name="l00648"></a>00648 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_seq_create(<span class="keyword">struct</span> proc_dir_entry *parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00649"></a>00649                               mode_t <a class="code" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>,
<a name="l00650"></a>00650                               <span class="keyword">const</span> <span class="keyword">struct</span> file_operations *seq_fops,
<a name="l00651"></a>00651                               <span class="keywordtype">void</span> *data);
<a name="l00652"></a>00652 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_obd_seq_create(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *dev, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00653"></a>00653                                   mode_t <a class="code" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>,
<a name="l00654"></a>00654                                   <span class="keyword">const</span> <span class="keyword">struct</span> file_operations *seq_fops,
<a name="l00655"></a>00655                                   <span class="keywordtype">void</span> *data);
<a name="l00656"></a>00656 
<a name="l00657"></a>00657 <span class="comment">/* Generic callbacks */</span>
<a name="l00658"></a>00658 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_u64_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00659"></a>00659 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_atomic_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00660"></a>00660 <span class="keyword">extern</span> ssize_t lprocfs_atomic_seq_write(<span class="keyword">struct</span> file *file,
<a name="l00661"></a>00661                                         <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00662"></a>00662                                         <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00663"></a>00663 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_uint_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00664"></a>00664 <span class="keyword">extern</span> ssize_t lprocfs_uint_seq_write(<span class="keyword">struct</span> file *file,
<a name="l00665"></a>00665                                       <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00666"></a>00666                                       <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00667"></a>00667 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_wr_uint(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00668"></a>00668                            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> count, <span class="keywordtype">void</span> *data);
<a name="l00669"></a>00669 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#ae25c8aa53d32b066c6a7e84c8aaa0bcc">lprocfs_uuid_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00670"></a>00670 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#abdcf26a5ddff576a4ab8a5d1f0318117">lprocfs_name_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00671"></a>00671 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_server_uuid_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00672"></a>00672 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a407e0df7188d91bfda7d5081d486c944">lprocfs_conn_uuid_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00673"></a>00673 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a35c9cb889d1eefb3abe52325b6e1af5a">lprocfs_import_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00674"></a>00674 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a5fd0e4e28deb671d27822d895bfb7035">lprocfs_state_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00675"></a>00675 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#aae2b370b71b2fb027b3f2602c36ed658">lprocfs_connect_flags_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00676"></a>00676 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00677"></a>00677 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_num_exports_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00678"></a>00678 <span class="preprocessor">#endif</span>
<a name="l00679"></a>00679 <span class="preprocessor"></span><span class="keyword">struct </span><a class="code" href="structadaptive__timeout.html">adaptive_timeout</a>;
<a name="l00680"></a>00680 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#ace9d62c5d9b8a11b3cde91efd1ac5f23">lprocfs_at_hist_helper</a>(<span class="keyword">struct</span> seq_file *m,
<a name="l00681"></a>00681                                   <span class="keyword">struct</span> <a class="code" href="structadaptive__timeout.html">adaptive_timeout</a> *at);
<a name="l00682"></a>00682 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a51862677c78f647e153c8754ae0a41dc">lprocfs_timeouts_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00683"></a>00683 <span class="keyword">extern</span> ssize_t
<a name="l00684"></a>00684 <a class="code" href="lprocfs__status_8h.html#a4b887438eb5fd2e50347a874e9035f5d">lprocfs_timeouts_seq_write</a>(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00685"></a>00685                            <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00686"></a>00686 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00687"></a>00687 <span class="preprocessor"></span><span class="keyword">extern</span> ssize_t
<a name="l00688"></a>00688 lprocfs_evict_client_seq_write(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00689"></a>00689                                 <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00690"></a>00690 <span class="preprocessor">#endif</span>
<a name="l00691"></a>00691 <span class="preprocessor"></span><span class="keyword">extern</span> ssize_t
<a name="l00692"></a>00692 <a class="code" href="lprocfs__status_8h.html#a705b8624ec71f23c5235bcc186c346cd">lprocfs_ping_seq_write</a>(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00693"></a>00693                        <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00694"></a>00694 <span class="keyword">extern</span> ssize_t
<a name="l00695"></a>00695 <a class="code" href="lprocfs__status_8h.html#ae744953f8a9b55a25f4e782ab9263f89">lprocfs_import_seq_write</a>(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00696"></a>00696                          <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00697"></a>00697 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a903754efe0ef33496e6197d295b21071">lprocfs_pinger_recov_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00698"></a>00698 <span class="keyword">extern</span> ssize_t
<a name="l00699"></a>00699 <a class="code" href="lprocfs__status_8h.html#a9a73a50161055b675d74e6c2a9ccdcf3">lprocfs_pinger_recov_seq_write</a>(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00700"></a>00700                                <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00701"></a>00701 
<a name="l00702"></a>00702 <span class="comment">/* Statfs helpers */</span>
<a name="l00703"></a>00703 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a14cc35227a8ea9f1a5632aaf55966ae0">lprocfs_blksize_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00704"></a>00704 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a1def0ce1f6ca51018d6ebf3b42993366">lprocfs_kbytestotal_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00705"></a>00705 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a5463daa5949f4fe07e50c60a266e86b7">lprocfs_kbytesfree_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00706"></a>00706 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a5f87c86bc96c53ed817ed24a2cc5d96d">lprocfs_kbytesavail_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00707"></a>00707 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a9c498c86eed90403e878a3e72d9ea68b">lprocfs_filestotal_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00708"></a>00708 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a5877855a91e109ba8af427ca848ce2d6">lprocfs_filesfree_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00709"></a>00709 
<a name="l00710"></a>00710 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_seq_read_frac_helper(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">long</span> val, <span class="keywordtype">int</span> <a class="code" href="sec__bulk_8c.html#a8c7a49e8b19a4c7c79ff1486de8577bd">mult</a>);
<a name="l00711"></a>00711 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_read_frac_helper(<span class="keywordtype">char</span> *buffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> count,
<a name="l00712"></a>00712                                     <span class="keywordtype">long</span> val, <span class="keywordtype">int</span> <a class="code" href="sec__bulk_8c.html#a8c7a49e8b19a4c7c79ff1486de8577bd">mult</a>);
<a name="l00713"></a>00713 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_str_to_s64(<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> count,
<a name="l00714"></a>00714                               __s64 *val);
<a name="l00715"></a>00715 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_str_with_units_to_s64(<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00716"></a>00716                                          <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> count, __s64 *val,
<a name="l00717"></a>00717                                          <span class="keywordtype">char</span> defunit);
<a name="l00718"></a>00718 <span class="keywordtype">char</span> *lprocfs_find_named_value(<span class="keyword">const</span> <span class="keywordtype">char</span> *buffer, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00719"></a>00719                                 <span class="keywordtype">size_t</span> *count);
<a name="l00720"></a>00720 <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ad58e32dd24da0565e955ed25ead0bcef">lprocfs_oh_tally</a>(<span class="keyword">struct</span> <a class="code" href="structobd__histogram.html">obd_histogram</a> *oh, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value);
<a name="l00721"></a>00721 <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ae5b436ceaa79581d736211a8feaf0e2b">lprocfs_oh_tally_log2</a>(<span class="keyword">struct</span> <a class="code" href="structobd__histogram.html">obd_histogram</a> *oh, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value);
<a name="l00722"></a>00722 <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ae1804e09f7115dea6cc1ca37647b5e1f">lprocfs_oh_clear</a>(<span class="keyword">struct</span> <a class="code" href="structobd__histogram.html">obd_histogram</a> *oh);
<a name="l00723"></a>00723 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="lprocfs__status_8h.html#ac426640020a09e1dfe7ef69c132885b4">lprocfs_oh_sum</a>(<span class="keyword">struct</span> <a class="code" href="structobd__histogram.html">obd_histogram</a> *oh);
<a name="l00724"></a>00724 
<a name="l00725"></a>00725 <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#abe006323d2ad1dd38bd46a59e811f74f">lprocfs_stats_collect</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats, <span class="keywordtype">int</span> idx,
<a name="l00726"></a>00726                            <span class="keyword">struct</span> <a class="code" href="structlprocfs__counter.html">lprocfs_counter</a> *cnt);
<a name="l00727"></a>00727 
<a name="l00728"></a>00728 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00729"></a>00729 <span class="preprocessor"></span><span class="comment">/* lprocfs_status.c: recovery status */</span>
<a name="l00730"></a>00730 <span class="keywordtype">int</span> lprocfs_recovery_status_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00731"></a>00731 
<a name="l00732"></a>00732 <span class="comment">/* lprocfs_status.c: hash statistics */</span>
<a name="l00733"></a>00733 <span class="keywordtype">int</span> lprocfs_hash_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00734"></a>00734 
<a name="l00735"></a>00735 <span class="comment">/* lprocfs_status.c: IR factor */</span>
<a name="l00736"></a>00736 <span class="keywordtype">int</span> lprocfs_ir_factor_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00737"></a>00737 ssize_t
<a name="l00738"></a>00738 lprocfs_ir_factor_seq_write(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00739"></a>00739                                 <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00740"></a>00740 <span class="preprocessor">#endif</span>
<a name="l00741"></a>00741 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_single_release(<span class="keyword">struct</span> inode *, <span class="keyword">struct</span> file *);
<a name="l00742"></a>00742 <span class="keyword">extern</span> <span class="keywordtype">int</span> lprocfs_seq_release(<span class="keyword">struct</span> inode *, <span class="keyword">struct</span> file *);
<a name="l00743"></a>00743 
<a name="l00744"></a>00744 <span class="comment">/* You must use these macros when you want to refer to</span>
<a name="l00745"></a>00745 <span class="comment"> * the import in a client obd_device for a lprocfs entry */</span>
<a name="l00746"></a>00746 <span class="preprocessor">#define LPROCFS_CLIMP_CHECK(obd) do {           \</span>
<a name="l00747"></a>00747 <span class="preprocessor">        typecheck(struct obd_device *, obd);    \</span>
<a name="l00748"></a>00748 <span class="preprocessor">        down_read(&amp;(obd)-&gt;u.cli.cl_sem);    \</span>
<a name="l00749"></a>00749 <span class="preprocessor">        if ((obd)-&gt;u.cli.cl_import == NULL) {   \</span>
<a name="l00750"></a>00750 <span class="preprocessor">             up_read(&amp;(obd)-&gt;u.cli.cl_sem); \</span>
<a name="l00751"></a>00751 <span class="preprocessor">             return -ENODEV;                    \</span>
<a name="l00752"></a>00752 <span class="preprocessor">        }                                       \</span>
<a name="l00753"></a>00753 <span class="preprocessor">} while(0)</span>
<a name="l00754"></a>00754 <span class="preprocessor"></span><span class="preprocessor">#define LPROCFS_CLIMP_EXIT(obd)                 \</span>
<a name="l00755"></a>00755 <span class="preprocessor">        up_read(&amp;(obd)-&gt;u.cli.cl_sem);</span>
<a name="l00756"></a>00756 <span class="preprocessor"></span>
<a name="l00757"></a>00757 <span class="comment">/* write the name##_seq_show function, call LPROC_SEQ_FOPS_RO for read-only</span>
<a name="l00758"></a>00758 <span class="comment">  proc entries; otherwise, you will define name##_seq_write function also for</span>
<a name="l00759"></a>00759 <span class="comment">  a read-write proc entry, and then call LPROC_SEQ_SEQ instead. Finally,</span>
<a name="l00760"></a>00760 <span class="comment">  call lprocfs_obd_seq_create(obd, filename, 0444, &amp;name#_fops, data); */</span>
<a name="l00761"></a>00761 <span class="preprocessor">#define __LPROC_SEQ_FOPS(name, custom_seq_write)                        \</span>
<a name="l00762"></a>00762 <span class="preprocessor">static int name##_single_open(struct inode *inode, struct file *file)   \</span>
<a name="l00763"></a>00763 <span class="preprocessor">{                                                                       \</span>
<a name="l00764"></a>00764 <span class="preprocessor">        int rc;                                                         \</span>
<a name="l00765"></a>00765 <span class="preprocessor">                                                                        \</span>
<a name="l00766"></a>00766 <span class="preprocessor">        rc = LPROCFS_ENTRY_CHECK(inode);                                \</span>
<a name="l00767"></a>00767 <span class="preprocessor">        if (rc &lt; 0)                                                     \</span>
<a name="l00768"></a>00768 <span class="preprocessor">                return rc;                                              \</span>
<a name="l00769"></a>00769 <span class="preprocessor">                                                                        \</span>
<a name="l00770"></a>00770 <span class="preprocessor">        return single_open(file, name##_seq_show, PDE_DATA(inode));     \</span>
<a name="l00771"></a>00771 <span class="preprocessor">}                                                                       \</span>
<a name="l00772"></a>00772 <span class="preprocessor">static const struct file_operations name##_fops = {                     \</span>
<a name="l00773"></a>00773 <span class="preprocessor">        .owner   = THIS_MODULE,                                         \</span>
<a name="l00774"></a>00774 <span class="preprocessor">        .open    = name##_single_open,                                  \</span>
<a name="l00775"></a>00775 <span class="preprocessor">        .read    = seq_read,                                            \</span>
<a name="l00776"></a>00776 <span class="preprocessor">        .write   = custom_seq_write,                                    \</span>
<a name="l00777"></a>00777 <span class="preprocessor">        .llseek  = seq_lseek,                                           \</span>
<a name="l00778"></a>00778 <span class="preprocessor">        .release = lprocfs_single_release,                              \</span>
<a name="l00779"></a>00779 <span class="preprocessor">}</span>
<a name="l00780"></a>00780 <span class="preprocessor"></span>
<a name="l00781"></a>00781 <span class="preprocessor">#define LPROC_SEQ_FOPS_RO(name)         __LPROC_SEQ_FOPS(name, NULL)</span>
<a name="l00782"></a>00782 <span class="preprocessor"></span><span class="preprocessor">#define LPROC_SEQ_FOPS(name)            __LPROC_SEQ_FOPS(name, name##_seq_write)</span>
<a name="l00783"></a>00783 <span class="preprocessor"></span>
<a name="l00784"></a>00784 <span class="preprocessor">#define LPROC_SEQ_FOPS_RO_TYPE(name, type)                              \</span>
<a name="l00785"></a>00785 <span class="preprocessor">        static int name##_##type##_seq_show(struct seq_file *m, void *v)\</span>
<a name="l00786"></a>00786 <span class="preprocessor">        {                                                               \</span>
<a name="l00787"></a>00787 <span class="preprocessor">                return lprocfs_##type##_seq_show(m, m-&gt;private);        \</span>
<a name="l00788"></a>00788 <span class="preprocessor">        }                                                               \</span>
<a name="l00789"></a>00789 <span class="preprocessor">        LPROC_SEQ_FOPS_RO(name##_##type)</span>
<a name="l00790"></a>00790 <span class="preprocessor"></span>
<a name="l00791"></a>00791 <span class="preprocessor">#define LPROC_SEQ_FOPS_RW_TYPE(name, type)                              \</span>
<a name="l00792"></a>00792 <span class="preprocessor">        static int name##_##type##_seq_show(struct seq_file *m, void *v)\</span>
<a name="l00793"></a>00793 <span class="preprocessor">        {                                                               \</span>
<a name="l00794"></a>00794 <span class="preprocessor">                return lprocfs_##type##_seq_show(m, m-&gt;private);        \</span>
<a name="l00795"></a>00795 <span class="preprocessor">        }                                                               \</span>
<a name="l00796"></a>00796 <span class="preprocessor">        static ssize_t name##_##type##_seq_write(struct file *file,     \</span>
<a name="l00797"></a>00797 <span class="preprocessor">                        const char __user *buffer, size_t count,        \</span>
<a name="l00798"></a>00798 <span class="preprocessor">                        loff_t *off)                                    \</span>
<a name="l00799"></a>00799 <span class="preprocessor">        {                                                               \</span>
<a name="l00800"></a>00800 <span class="preprocessor">                struct seq_file *seq = file-&gt;private_data;              \</span>
<a name="l00801"></a>00801 <span class="preprocessor">                return lprocfs_##type##_seq_write(file, buffer,         \</span>
<a name="l00802"></a>00802 <span class="preprocessor">                                                count, seq-&gt;private);   \</span>
<a name="l00803"></a>00803 <span class="preprocessor">        }                                                               \</span>
<a name="l00804"></a>00804 <span class="preprocessor">        LPROC_SEQ_FOPS(name##_##type);</span>
<a name="l00805"></a>00805 <span class="preprocessor"></span>
<a name="l00806"></a>00806 <span class="preprocessor">#define LPROC_SEQ_FOPS_WO_TYPE(name, type)                              \</span>
<a name="l00807"></a>00807 <span class="preprocessor">        static ssize_t name##_##type##_write(struct file *file,         \</span>
<a name="l00808"></a>00808 <span class="preprocessor">                        const char __user *buffer, size_t count,        \</span>
<a name="l00809"></a>00809 <span class="preprocessor">                        loff_t *off)                                    \</span>
<a name="l00810"></a>00810 <span class="preprocessor">        {                                                               \</span>
<a name="l00811"></a>00811 <span class="preprocessor">                return lprocfs_##type##_seq_write(file, buffer, count, off);\</span>
<a name="l00812"></a>00812 <span class="preprocessor">        }                                                               \</span>
<a name="l00813"></a>00813 <span class="preprocessor">        static int name##_##type##_open(struct inode *inode, struct file *file)\</span>
<a name="l00814"></a>00814 <span class="preprocessor">        {                                                               \</span>
<a name="l00815"></a>00815 <span class="preprocessor">                return single_open(file, NULL, PDE_DATA(inode));        \</span>
<a name="l00816"></a>00816 <span class="preprocessor">        }                                                               \</span>
<a name="l00817"></a>00817 <span class="preprocessor">        static const struct file_operations name##_##type##_fops = {    \</span>
<a name="l00818"></a>00818 <span class="preprocessor">                .open    = name##_##type##_open,                        \</span>
<a name="l00819"></a>00819 <span class="preprocessor">                .write   = name##_##type##_write,                       \</span>
<a name="l00820"></a>00820 <span class="preprocessor">                .release = lprocfs_single_release,                      \</span>
<a name="l00821"></a>00821 <span class="preprocessor">        };</span>
<a name="l00822"></a>00822 <span class="preprocessor"></span>
<a name="l00823"></a>00823 <span class="comment">/* lproc_ptlrpc.c */</span>
<a name="l00824"></a>00824 <span class="keyword">struct </span><a class="code" href="structptlrpc__request.html" title="Represents remote procedure call.">ptlrpc_request</a>;
<a name="l00825"></a>00825 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ae2f02d415948834736ffbb30b329c762">target_print_req</a>(<span class="keywordtype">void</span> *seq_file, <span class="keyword">struct</span> <a class="code" href="structptlrpc__request.html" title="Represents remote procedure call.">ptlrpc_request</a> *req);
<a name="l00826"></a>00826 
<a name="l00827"></a>00827 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00828"></a>00828 <span class="preprocessor"></span><span class="comment">/* lprocfs_jobstats.c */</span>
<a name="l00829"></a>00829 <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#ac7b1c96fe0f0c099a608f1201cc6cd01">lprocfs_job_stats_log</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obd, <span class="keywordtype">char</span> *jobid,
<a name="l00830"></a>00830                           <span class="keywordtype">int</span> event, <span class="keywordtype">long</span> amount);
<a name="l00831"></a>00831 <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ab45bdb3144b4ebb5d1998c3c9c9ebee0">lprocfs_job_stats_fini</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obd);
<a name="l00832"></a>00832 <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a662b1c1a545cc7f42b3561cc7598b1fe">lprocfs_job_stats_init</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obd, <span class="keywordtype">int</span> cntr_num,
<a name="l00833"></a>00833                            <a class="code" href="lprocfs__status_8h.html#a5a0fb3a4937907153b02b3a496cb6ffc">cntr_init_callback</a> fn);
<a name="l00834"></a>00834 <span class="keywordtype">int</span> lprocfs_job_interval_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00835"></a>00835 ssize_t
<a name="l00836"></a>00836 lprocfs_job_interval_seq_write(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00837"></a>00837                                 <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00838"></a>00838 <span class="comment">/* lproc_status.c */</span>
<a name="l00839"></a>00839 <span class="keywordtype">int</span> lprocfs_recovery_time_soft_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00840"></a>00840 ssize_t lprocfs_recovery_time_soft_seq_write(<span class="keyword">struct</span> file *file,
<a name="l00841"></a>00841                                                 <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00842"></a>00842                                                 <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00843"></a>00843 <span class="keywordtype">int</span> lprocfs_recovery_time_hard_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00844"></a>00844 ssize_t
<a name="l00845"></a>00845 lprocfs_recovery_time_hard_seq_write(<span class="keyword">struct</span> file *file,
<a name="l00846"></a>00846                                      <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00847"></a>00847                                      <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00848"></a>00848 <span class="keywordtype">int</span> lprocfs_target_instance_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00849"></a>00849 <span class="preprocessor">#endif</span>
<a name="l00850"></a>00850 <span class="preprocessor"></span><span class="keywordtype">int</span> lprocfs_obd_max_pages_per_rpc_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data);
<a name="l00851"></a>00851 ssize_t
<a name="l00852"></a>00852 lprocfs_obd_max_pages_per_rpc_seq_write(<span class="keyword">struct</span> file *file,
<a name="l00853"></a>00853                                         <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00854"></a>00854                                         <span class="keywordtype">size_t</span> count, loff_t *off);
<a name="l00855"></a>00855 
<a name="l00856"></a>00856 <span class="keyword">struct </span><a class="code" href="structroot__squash__info.html">root_squash_info</a>;
<a name="l00857"></a>00857 <span class="keywordtype">int</span> lprocfs_wr_root_squash(<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> count,
<a name="l00858"></a>00858                            <span class="keyword">struct</span> <a class="code" href="structroot__squash__info.html">root_squash_info</a> *squash, <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l00859"></a>00859 <span class="keywordtype">int</span> lprocfs_wr_nosquash_nids(<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> count,
<a name="l00860"></a>00860                              <span class="keyword">struct</span> <a class="code" href="structroot__squash__info.html">root_squash_info</a> *squash, <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l00861"></a>00861 
<a name="l00862"></a>00862 <span class="preprocessor">#else </span><span class="comment">/* !CONFIG_PROC_FS */</span>
<a name="l00863"></a>00863 
<a name="l00864"></a><a class="code" href="lprocfs__status_8h.html#a0b3a69edc70a6b3e15414462aefde5a3">00864</a> <span class="preprocessor">#define proc_lustre_root NULL</span>
<a name="l00865"></a>00865 <span class="preprocessor"></span>
<a name="l00866"></a><a class="code" href="lprocfs__status_8h.html#a5757deead2e3930997728dc4d173c24b">00866</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a5757deead2e3930997728dc4d173c24b">lprocfs_counter_add</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats,
<a name="l00867"></a>00867                                        <span class="keywordtype">int</span> index, <span class="keywordtype">long</span> amount)
<a name="l00868"></a>00868 { <span class="keywordflow">return</span>; }
<a name="l00869"></a><a class="code" href="lprocfs__status_8h.html#a946b270e7159049c410c693bf81157f0">00869</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a946b270e7159049c410c693bf81157f0">lprocfs_counter_incr</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats,
<a name="l00870"></a>00870                                         <span class="keywordtype">int</span> index)
<a name="l00871"></a>00871 { <span class="keywordflow">return</span>; }
<a name="l00872"></a><a class="code" href="lprocfs__status_8h.html#a5e0c90acaa4b93f824aba4e21edf6a61">00872</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a5e0c90acaa4b93f824aba4e21edf6a61">lprocfs_counter_sub</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats,
<a name="l00873"></a>00873                                        <span class="keywordtype">int</span> index, <span class="keywordtype">long</span> amount)
<a name="l00874"></a>00874 { <span class="keywordflow">return</span>; }
<a name="l00875"></a><a class="code" href="lprocfs__status_8h.html#a6375c2adae18a41ffb7102fba8f096d2">00875</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a6375c2adae18a41ffb7102fba8f096d2">lprocfs_counter_decr</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats,
<a name="l00876"></a>00876                                         <span class="keywordtype">int</span> index)
<a name="l00877"></a>00877 { <span class="keywordflow">return</span>; }
<a name="l00878"></a><a class="code" href="lprocfs__status_8h.html#a2ed4a15b7fa1d54e5b57c45c64d50eb6">00878</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a2ed4a15b7fa1d54e5b57c45c64d50eb6">lprocfs_counter_init</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats,
<a name="l00879"></a>00879                                         <span class="keywordtype">int</span> index, <span class="keywordtype">unsigned</span> conf,
<a name="l00880"></a>00880                                         <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *units)
<a name="l00881"></a>00881 { <span class="keywordflow">return</span>; }
<a name="l00882"></a>00882 
<a name="l00883"></a><a class="code" href="lprocfs__status_8h.html#a40daf914dcc5c1922e9f5b6ece48f1db">00883</a> <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="code" href="lprocfs__status_8h.html#a40daf914dcc5c1922e9f5b6ece48f1db">lc_read_helper</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__counter.html">lprocfs_counter</a> *lc,
<a name="l00884"></a>00884                                    <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333ba">lprocfs_fields_flags</a> field)
<a name="l00885"></a>00885 { <span class="keywordflow">return</span> 0; }
<a name="l00886"></a>00886 
<a name="l00887"></a>00887 <span class="comment">/* NB: we return !NULL to satisfy error checker */</span>
<a name="l00888"></a>00888 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *
<a name="l00889"></a><a class="code" href="lprocfs__status_8h.html#a76291495ae0f9c57e34e4965864d7592">00889</a> <a class="code" href="lprocfs__status_8h.html#a76291495ae0f9c57e34e4965864d7592">lprocfs_alloc_stats</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num, <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#a7b44b028cbf398221a98a25bf2d7c073">lprocfs_stats_flags</a> flags)
<a name="l00890"></a>00890 { <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *)1; }
<a name="l00891"></a><a class="code" href="lprocfs__status_8h.html#a2719edeac77129986c1c1a073d375e2a">00891</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a2719edeac77129986c1c1a073d375e2a">lprocfs_clear_stats</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats)
<a name="l00892"></a>00892 { <span class="keywordflow">return</span>; }
<a name="l00893"></a><a class="code" href="lprocfs__status_8h.html#a09416ca2aeaac615fdb530e9c0cba02f">00893</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a09416ca2aeaac615fdb530e9c0cba02f">lprocfs_free_stats</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> **stats)
<a name="l00894"></a>00894 { <span class="keywordflow">return</span>; }
<a name="l00895"></a><a class="code" href="lprocfs__status_8h.html#a2da3007f8df48c14ad09dd2b6aa95215">00895</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a2da3007f8df48c14ad09dd2b6aa95215">lprocfs_register_stats</a>(<span class="keyword">struct</span> proc_dir_entry *root,
<a name="l00896"></a>00896                                          <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00897"></a>00897                                          <span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats)
<a name="l00898"></a>00898 { <span class="keywordflow">return</span> 0; }
<a name="l00899"></a><a class="code" href="lprocfs__status_8h.html#a48252dce6544a29ca6a693e96ac0ce28">00899</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a48252dce6544a29ca6a693e96ac0ce28">lprocfs_init_ops_stats</a>(<span class="keywordtype">int</span> num_private_stats,
<a name="l00900"></a>00900                                           <span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats)
<a name="l00901"></a>00901 { <span class="keywordflow">return</span>; }
<a name="l00902"></a><a class="code" href="lprocfs__status_8h.html#abb4bd96daec72381da8453ea4a2a2103">00902</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#abb4bd96daec72381da8453ea4a2a2103">lprocfs_init_mps_stats</a>(<span class="keywordtype">int</span> num_private_stats,
<a name="l00903"></a>00903                                           <span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats)
<a name="l00904"></a>00904 { <span class="keywordflow">return</span>; }
<a name="l00905"></a><a class="code" href="lprocfs__status_8h.html#ae689c152d2b788b6f8407b8ced3d32c1">00905</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ae689c152d2b788b6f8407b8ced3d32c1">lprocfs_init_ldlm_stats</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *ldlm_stats)
<a name="l00906"></a>00906 { <span class="keywordflow">return</span>; }
<a name="l00907"></a><a class="code" href="lprocfs__status_8h.html#a8ea9127aa9d203cd8337ab09fdf0bbd7">00907</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a8ea9127aa9d203cd8337ab09fdf0bbd7">lprocfs_alloc_obd_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obddev,
<a name="l00908"></a>00908                                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_private_stats)
<a name="l00909"></a>00909 { <span class="keywordflow">return</span> 0; }
<a name="l00910"></a><a class="code" href="lprocfs__status_8h.html#a344be3bf5dd74a27ec378734a9b51581">00910</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a344be3bf5dd74a27ec378734a9b51581">lprocfs_alloc_md_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obddev,
<a name="l00911"></a>00911                                          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_private_stats)
<a name="l00912"></a>00912 { <span class="keywordflow">return</span> 0; }
<a name="l00913"></a><a class="code" href="lprocfs__status_8h.html#aca9938257fbfe9371fe759f3efae1129">00913</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#aca9938257fbfe9371fe759f3efae1129">lprocfs_free_obd_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obddev)
<a name="l00914"></a>00914 { <span class="keywordflow">return</span>; }
<a name="l00915"></a><a class="code" href="lprocfs__status_8h.html#aaf56c490bc014c4386e0ab30d944060d">00915</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#aaf56c490bc014c4386e0ab30d944060d">lprocfs_free_md_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obddev)
<a name="l00916"></a>00916 { <span class="keywordflow">return</span>; }
<a name="l00917"></a>00917 
<a name="l00918"></a>00918 <span class="keyword">struct </span><a class="code" href="structobd__export.html" title="Export structure.">obd_export</a>;
<a name="l00919"></a><a class="code" href="lprocfs__status_8h.html#a68ad25d17153e4aec968de0bdbdb6726">00919</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a68ad25d17153e4aec968de0bdbdb6726">lprocfs_add_clear_entry</a>(<span class="keyword">struct</span> <a class="code" href="structobd__export.html" title="Export structure.">obd_export</a> *exp)
<a name="l00920"></a>00920 { <span class="keywordflow">return</span> 0; }
<a name="l00921"></a><a class="code" href="lprocfs__status_8h.html#a6cb82f424967115881c6f1aac2409c25">00921</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a6cb82f424967115881c6f1aac2409c25">lprocfs_free_per_client_stats</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obd)
<a name="l00922"></a>00922 { <span class="keywordflow">return</span>; }
<a name="l00923"></a>00923 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00924"></a>00924 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00925"></a>00925 ssize_t lprocfs_nid_stats_seq_write(<span class="keyword">struct</span> file *file,
<a name="l00926"></a>00926                                     <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00927"></a>00927                                     <span class="keywordtype">size_t</span> count, loff_t *off)
<a name="l00928"></a>00928 {<span class="keywordflow">return</span> 0;}
<a name="l00929"></a>00929 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00930"></a>00930 <span class="keywordtype">int</span> lprocfs_nid_stats_clear_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00931"></a>00931 {<span class="keywordflow">return</span> 0;}
<a name="l00932"></a>00932 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> lprocfs_exp_setup(<span class="keyword">struct</span> <a class="code" href="structobd__export.html" title="Export structure.">obd_export</a> *exp,<a class="code" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312" title="Address of an end-point in an LNet network.">lnet_nid_t</a> *peer_nid)
<a name="l00933"></a>00933 { <span class="keywordflow">return</span> 0; }
<a name="l00934"></a>00934 <span class="preprocessor">#endif</span>
<a name="l00935"></a><a class="code" href="lprocfs__status_8h.html#af0ff7834403a989234b362517b4707dc">00935</a> <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#af0ff7834403a989234b362517b4707dc">lprocfs_exp_cleanup</a>(<span class="keyword">struct</span> <a class="code" href="structobd__export.html" title="Export structure.">obd_export</a> *exp)
<a name="l00936"></a>00936 { <span class="keywordflow">return</span> 0; }
<a name="l00937"></a>00937 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>proc_dir_entry *
<a name="l00938"></a><a class="code" href="lprocfs__status_8h.html#a83a9a2ebd19213ed17f3febbafcddb44">00938</a> <a class="code" href="lprocfs__status_8h.html#a83a9a2ebd19213ed17f3febbafcddb44">lprocfs_add_simple</a>(<span class="keyword">struct</span> proc_dir_entry *root, <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00939"></a>00939                    <span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keyword">struct</span> file_operations *fops)
<a name="l00940"></a>00940 {<span class="keywordflow">return</span> 0; }
<a name="l00941"></a>00941 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>proc_dir_entry *
<a name="l00942"></a><a class="code" href="lprocfs__status_8h.html#a343ca57d34496aac06c99f2a13fa417c">00942</a> <a class="code" href="lprocfs__status_8h.html#a343ca57d34496aac06c99f2a13fa417c">lprocfs_add_symlink</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keyword">struct</span> proc_dir_entry *parent,
<a name="l00943"></a>00943                     <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...)
<a name="l00944"></a>00944 {<span class="keywordflow">return</span> NULL; }
<a name="l00945"></a><a class="code" href="lprocfs__status_8h.html#a66ac6a548c5e5d6f151672e6766f1742">00945</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a66ac6a548c5e5d6f151672e6766f1742">lprocfs_add_vars</a>(<span class="keyword">struct</span> proc_dir_entry *root,
<a name="l00946"></a>00946                                    <span class="keyword">struct</span> <a class="code" href="structlprocfs__vars.html">lprocfs_vars</a> *var, <span class="keywordtype">void</span> *data)
<a name="l00947"></a>00947 { <span class="keywordflow">return</span> 0; }
<a name="l00948"></a>00948 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>proc_dir_entry *
<a name="l00949"></a><a class="code" href="lprocfs__status_8h.html#a706c7ec709abc61f28de92cbf08e78cf">00949</a> <a class="code" href="lprocfs__status_8h.html#a706c7ec709abc61f28de92cbf08e78cf">lprocfs_register</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keyword">struct</span> proc_dir_entry *parent,
<a name="l00950"></a>00950                  <span class="keyword">struct</span> <a class="code" href="structlprocfs__vars.html">lprocfs_vars</a> *<a class="code" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>, <span class="keywordtype">void</span> *data)
<a name="l00951"></a>00951 { <span class="keywordflow">return</span> NULL; }
<a name="l00952"></a><a class="code" href="lprocfs__status_8h.html#a64457b3c159bcc83be25b73908b966ee">00952</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a64457b3c159bcc83be25b73908b966ee">lprocfs_remove</a>(<span class="keyword">struct</span> proc_dir_entry **root)
<a name="l00953"></a>00953 { <span class="keywordflow">return</span>; }
<a name="l00954"></a><a class="code" href="lprocfs__status_8h.html#a1680f2f845838562a376c659699dceaf">00954</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#a1680f2f845838562a376c659699dceaf">lprocfs_remove_proc_entry</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,
<a name="l00955"></a>00955                                              <span class="keyword">struct</span> proc_dir_entry *parent)
<a name="l00956"></a>00956 { <span class="keywordflow">return</span>; }
<a name="l00957"></a><a class="code" href="lprocfs__status_8h.html#a9af4b6c3edbc6ce382a10dbd4af81177">00957</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a9af4b6c3edbc6ce382a10dbd4af81177">lprocfs_obd_setup</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *dev)
<a name="l00958"></a>00958 { <span class="keywordflow">return</span> 0; }
<a name="l00959"></a><a class="code" href="lprocfs__status_8h.html#a15158cecf82a91ab6030698de9743884">00959</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a15158cecf82a91ab6030698de9743884">lprocfs_obd_cleanup</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *dev)
<a name="l00960"></a>00960 { <span class="keywordflow">return</span> 0; }
<a name="l00961"></a><a class="code" href="lprocfs__status_8h.html#ae25c8aa53d32b066c6a7e84c8aaa0bcc">00961</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#ae25c8aa53d32b066c6a7e84c8aaa0bcc">lprocfs_uuid_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00962"></a>00962 { <span class="keywordflow">return</span> 0; }
<a name="l00963"></a><a class="code" href="lprocfs__status_8h.html#abdcf26a5ddff576a4ab8a5d1f0318117">00963</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#abdcf26a5ddff576a4ab8a5d1f0318117">lprocfs_name_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00964"></a>00964 { <span class="keywordflow">return</span> 0; }
<a name="l00965"></a><a class="code" href="lprocfs__status_8h.html#a3b1ad72c0e0ce26a710f2c1bf1c08f2d">00965</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a3b1ad72c0e0ce26a710f2c1bf1c08f2d">lprocfs_server_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00966"></a>00966 { <span class="keywordflow">return</span> 0; }
<a name="l00967"></a><a class="code" href="lprocfs__status_8h.html#a407e0df7188d91bfda7d5081d486c944">00967</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a407e0df7188d91bfda7d5081d486c944">lprocfs_conn_uuid_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00968"></a>00968 { <span class="keywordflow">return</span> 0; }
<a name="l00969"></a><a class="code" href="lprocfs__status_8h.html#a35c9cb889d1eefb3abe52325b6e1af5a">00969</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a35c9cb889d1eefb3abe52325b6e1af5a">lprocfs_import_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00970"></a>00970 { <span class="keywordflow">return</span> 0; }
<a name="l00971"></a><a class="code" href="lprocfs__status_8h.html#a5fd0e4e28deb671d27822d895bfb7035">00971</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a5fd0e4e28deb671d27822d895bfb7035">lprocfs_state_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00972"></a>00972 { <span class="keywordflow">return</span> 0; }
<a name="l00973"></a><a class="code" href="lprocfs__status_8h.html#aae2b370b71b2fb027b3f2602c36ed658">00973</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#aae2b370b71b2fb027b3f2602c36ed658">lprocfs_connect_flags_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00974"></a>00974 { <span class="keywordflow">return</span> 0; }
<a name="l00975"></a>00975 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00976"></a>00976 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> lprocfs_num_exports_seq_show(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00977"></a>00977 { <span class="keywordflow">return</span> 0; }
<a name="l00978"></a>00978 <span class="preprocessor">#endif</span>
<a name="l00979"></a>00979 <span class="preprocessor"></span><span class="keyword">struct </span><a class="code" href="structadaptive__timeout.html">adaptive_timeout</a>;
<a name="l00980"></a><a class="code" href="lprocfs__status_8h.html#ace9d62c5d9b8a11b3cde91efd1ac5f23">00980</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#ace9d62c5d9b8a11b3cde91efd1ac5f23">lprocfs_at_hist_helper</a>(<span class="keyword">struct</span> seq_file *m,
<a name="l00981"></a>00981                                          <span class="keyword">struct</span> <a class="code" href="structadaptive__timeout.html">adaptive_timeout</a> *at)
<a name="l00982"></a>00982 { <span class="keywordflow">return</span> 0; }
<a name="l00983"></a><a class="code" href="lprocfs__status_8h.html#a51862677c78f647e153c8754ae0a41dc">00983</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a51862677c78f647e153c8754ae0a41dc">lprocfs_timeouts_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l00984"></a>00984 { <span class="keywordflow">return</span> 0; }
<a name="l00985"></a>00985 <span class="keyword">static</span> <span class="keyword">inline</span> ssize_t
<a name="l00986"></a><a class="code" href="lprocfs__status_8h.html#a4b887438eb5fd2e50347a874e9035f5d">00986</a> <a class="code" href="lprocfs__status_8h.html#a4b887438eb5fd2e50347a874e9035f5d">lprocfs_timeouts_seq_write</a>(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00987"></a>00987                            <span class="keywordtype">size_t</span> count, loff_t *off)
<a name="l00988"></a>00988 { <span class="keywordflow">return</span> 0; }
<a name="l00989"></a>00989 <span class="preprocessor">#ifdef HAVE_SERVER_SUPPORT</span>
<a name="l00990"></a>00990 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> ssize_t
<a name="l00991"></a>00991 lprocfs_evict_client_seq_write(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00992"></a>00992                                <span class="keywordtype">size_t</span> count, loff_t *off)
<a name="l00993"></a>00993 { <span class="keywordflow">return</span> 0; }
<a name="l00994"></a>00994 <span class="preprocessor">#endif</span>
<a name="l00995"></a>00995 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keyword">inline</span> ssize_t
<a name="l00996"></a><a class="code" href="lprocfs__status_8h.html#a705b8624ec71f23c5235bcc186c346cd">00996</a> <a class="code" href="lprocfs__status_8h.html#a705b8624ec71f23c5235bcc186c346cd">lprocfs_ping_seq_write</a>(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l00997"></a>00997                        <span class="keywordtype">size_t</span> count, loff_t *off)
<a name="l00998"></a>00998 { <span class="keywordflow">return</span> 0; }
<a name="l00999"></a>00999 <span class="keyword">static</span> <span class="keyword">inline</span> ssize_t
<a name="l01000"></a><a class="code" href="lprocfs__status_8h.html#ae744953f8a9b55a25f4e782ab9263f89">01000</a> <a class="code" href="lprocfs__status_8h.html#ae744953f8a9b55a25f4e782ab9263f89">lprocfs_import_seq_write</a>(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l01001"></a>01001                          <span class="keywordtype">size_t</span> count, loff_t *off)
<a name="l01002"></a>01002 { <span class="keywordflow">return</span> 0; }
<a name="l01003"></a>01003 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l01004"></a><a class="code" href="lprocfs__status_8h.html#a903754efe0ef33496e6197d295b21071">01004</a> <a class="code" href="lprocfs__status_8h.html#a903754efe0ef33496e6197d295b21071">lprocfs_pinger_recov_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l01005"></a>01005 { <span class="keywordflow">return</span> 0; }
<a name="l01006"></a>01006 <span class="keyword">static</span> <span class="keyword">inline</span> ssize_t
<a name="l01007"></a><a class="code" href="lprocfs__status_8h.html#a9a73a50161055b675d74e6c2a9ccdcf3">01007</a> <a class="code" href="lprocfs__status_8h.html#a9a73a50161055b675d74e6c2a9ccdcf3">lprocfs_pinger_recov_seq_write</a>(<span class="keyword">struct</span> file *file, <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ioctl_8h.html#ace6f17999da4ea3b93c4227beafcab95">__user</a> *buffer,
<a name="l01008"></a>01008                                <span class="keywordtype">size_t</span> count, loff_t *off)
<a name="l01009"></a>01009 { <span class="keywordflow">return</span> 0; }
<a name="l01010"></a>01010 
<a name="l01011"></a>01011 <span class="comment">/* Statfs helpers */</span>
<a name="l01012"></a>01012 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01013"></a><a class="code" href="lprocfs__status_8h.html#a14cc35227a8ea9f1a5632aaf55966ae0">01013</a> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a14cc35227a8ea9f1a5632aaf55966ae0">lprocfs_blksize_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l01014"></a>01014 { <span class="keywordflow">return</span> 0; }
<a name="l01015"></a>01015 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01016"></a><a class="code" href="lprocfs__status_8h.html#a1def0ce1f6ca51018d6ebf3b42993366">01016</a> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a1def0ce1f6ca51018d6ebf3b42993366">lprocfs_kbytestotal_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l01017"></a>01017 { <span class="keywordflow">return</span> 0; }
<a name="l01018"></a>01018 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01019"></a><a class="code" href="lprocfs__status_8h.html#a5463daa5949f4fe07e50c60a266e86b7">01019</a> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a5463daa5949f4fe07e50c60a266e86b7">lprocfs_kbytesfree_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l01020"></a>01020 { <span class="keywordflow">return</span> 0; }
<a name="l01021"></a>01021 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01022"></a><a class="code" href="lprocfs__status_8h.html#a5f87c86bc96c53ed817ed24a2cc5d96d">01022</a> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a5f87c86bc96c53ed817ed24a2cc5d96d">lprocfs_kbytesavail_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l01023"></a>01023 { <span class="keywordflow">return</span> 0; }
<a name="l01024"></a>01024 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01025"></a><a class="code" href="lprocfs__status_8h.html#a9c498c86eed90403e878a3e72d9ea68b">01025</a> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a9c498c86eed90403e878a3e72d9ea68b">lprocfs_filestotal_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l01026"></a>01026 { <span class="keywordflow">return</span> 0; }
<a name="l01027"></a>01027 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01028"></a><a class="code" href="lprocfs__status_8h.html#a5877855a91e109ba8af427ca848ce2d6">01028</a> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a5877855a91e109ba8af427ca848ce2d6">lprocfs_filesfree_seq_show</a>(<span class="keyword">struct</span> seq_file *m, <span class="keywordtype">void</span> *data)
<a name="l01029"></a>01029 { <span class="keywordflow">return</span> 0; }
<a name="l01030"></a>01030 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01031"></a><a class="code" href="lprocfs__status_8h.html#ad58e32dd24da0565e955ed25ead0bcef">01031</a> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ad58e32dd24da0565e955ed25ead0bcef">lprocfs_oh_tally</a>(<span class="keyword">struct</span> <a class="code" href="structobd__histogram.html">obd_histogram</a> *oh, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value)
<a name="l01032"></a>01032 { <span class="keywordflow">return</span>; }
<a name="l01033"></a>01033 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01034"></a><a class="code" href="lprocfs__status_8h.html#ae5b436ceaa79581d736211a8feaf0e2b">01034</a> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ae5b436ceaa79581d736211a8feaf0e2b">lprocfs_oh_tally_log2</a>(<span class="keyword">struct</span> <a class="code" href="structobd__histogram.html">obd_histogram</a> *oh, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value)
<a name="l01035"></a>01035 { <span class="keywordflow">return</span>; }
<a name="l01036"></a>01036 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01037"></a><a class="code" href="lprocfs__status_8h.html#ae1804e09f7115dea6cc1ca37647b5e1f">01037</a> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ae1804e09f7115dea6cc1ca37647b5e1f">lprocfs_oh_clear</a>(<span class="keyword">struct</span> <a class="code" href="structobd__histogram.html">obd_histogram</a> *oh)
<a name="l01038"></a>01038 { <span class="keywordflow">return</span>; }
<a name="l01039"></a>01039 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01040"></a><a class="code" href="lprocfs__status_8h.html#ac426640020a09e1dfe7ef69c132885b4">01040</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="lprocfs__status_8h.html#ac426640020a09e1dfe7ef69c132885b4">lprocfs_oh_sum</a>(<span class="keyword">struct</span> <a class="code" href="structobd__histogram.html">obd_histogram</a> *oh)
<a name="l01041"></a>01041 { <span class="keywordflow">return</span> 0; }
<a name="l01042"></a>01042 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01043"></a><a class="code" href="lprocfs__status_8h.html#abe006323d2ad1dd38bd46a59e811f74f">01043</a> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#abe006323d2ad1dd38bd46a59e811f74f">lprocfs_stats_collect</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats, <span class="keywordtype">int</span> idx,
<a name="l01044"></a>01044                            <span class="keyword">struct</span> <a class="code" href="structlprocfs__counter.html">lprocfs_counter</a> *cnt)
<a name="l01045"></a>01045 { <span class="keywordflow">return</span>; }
<a name="l01046"></a>01046 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01047"></a><a class="code" href="lprocfs__status_8h.html#a2727ee7497be6f173c5db24c243417cf">01047</a> <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="code" href="lprocfs__status_8h.html#a2727ee7497be6f173c5db24c243417cf">lprocfs_stats_collector</a>(<span class="keyword">struct</span> <a class="code" href="structlprocfs__stats.html">lprocfs_stats</a> *stats, <span class="keywordtype">int</span> idx,
<a name="l01048"></a>01048                                <span class="keyword">enum</span> <a class="code" href="lprocfs__status_8h.html#ab4c3da04a4d43153dba07f51e61333ba">lprocfs_fields_flags</a> field)
<a name="l01049"></a>01049 { <span class="keywordflow">return</span> (<a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>)0; }
<a name="l01050"></a>01050 
<a name="l01051"></a><a class="code" href="lprocfs__status_8h.html#ab80e24df1f4d70adcaf142ee3c44c7b4">01051</a> <span class="preprocessor">#define LPROC_SEQ_FOPS_RO(name)</span>
<a name="l01052"></a><a class="code" href="lprocfs__status_8h.html#a1263869d390d093ccebb3d162154377a">01052</a> <span class="preprocessor"></span><span class="preprocessor">#define LPROC_SEQ_FOPS(name)</span>
<a name="l01053"></a><a class="code" href="lprocfs__status_8h.html#a7137e7cb6d7b338162e10295369ecf50">01053</a> <span class="preprocessor"></span><span class="preprocessor">#define LPROC_SEQ_FOPS_RO_TYPE(name, type)</span>
<a name="l01054"></a><a class="code" href="lprocfs__status_8h.html#a405435f9081ce228bbdedc90ee575ee5">01054</a> <span class="preprocessor"></span><span class="preprocessor">#define LPROC_SEQ_FOPS_RW_TYPE(name, type)</span>
<a name="l01055"></a><a class="code" href="lprocfs__status_8h.html#a3e4ef89d69a52a37183f4152e3c47e71">01055</a> <span class="preprocessor"></span><span class="preprocessor">#define LPROC_SEQ_FOPS_WO_TYPE(name, type)</span>
<a name="l01056"></a>01056 <span class="preprocessor"></span>
<a name="l01057"></a>01057 <span class="comment">/* lprocfs_jobstats.c */</span>
<a name="l01058"></a>01058 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01059"></a><a class="code" href="lprocfs__status_8h.html#ac7b1c96fe0f0c099a608f1201cc6cd01">01059</a> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#ac7b1c96fe0f0c099a608f1201cc6cd01">lprocfs_job_stats_log</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obd, <span class="keywordtype">char</span> *jobid, <span class="keywordtype">int</span> event,
<a name="l01060"></a>01060                           <span class="keywordtype">long</span> amount)
<a name="l01061"></a>01061 { <span class="keywordflow">return</span> 0; }
<a name="l01062"></a>01062 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01063"></a><a class="code" href="lprocfs__status_8h.html#ab45bdb3144b4ebb5d1998c3c9c9ebee0">01063</a> <span class="keywordtype">void</span> <a class="code" href="lprocfs__status_8h.html#ab45bdb3144b4ebb5d1998c3c9c9ebee0">lprocfs_job_stats_fini</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obd)
<a name="l01064"></a>01064 { <span class="keywordflow">return</span>; }
<a name="l01065"></a>01065 <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l01066"></a><a class="code" href="lprocfs__status_8h.html#a662b1c1a545cc7f42b3561cc7598b1fe">01066</a> <span class="keywordtype">int</span> <a class="code" href="lprocfs__status_8h.html#a662b1c1a545cc7f42b3561cc7598b1fe">lprocfs_job_stats_init</a>(<span class="keyword">struct</span> <a class="code" href="structobd__device.html">obd_device</a> *obd, <span class="keywordtype">int</span> cntr_num,
<a name="l01067"></a>01067                            <a class="code" href="lprocfs__status_8h.html#a5a0fb3a4937907153b02b3a496cb6ffc">cntr_init_callback</a> fn)
<a name="l01068"></a>01068 { <span class="keywordflow">return</span> 0; }
<a name="l01069"></a>01069 
<a name="l01070"></a>01070 
<a name="l01071"></a>01071 <span class="comment">/* lproc_ptlrpc.c */</span>
<a name="l01072"></a><a class="code" href="lprocfs__status_8h.html#ae2f02d415948834736ffbb30b329c762">01072</a> <span class="preprocessor">#define target_print_req NULL</span>
<a name="l01073"></a>01073 <span class="preprocessor"></span>
<a name="l01074"></a>01074 <span class="preprocessor">#endif </span><span class="comment">/* CONFIG_PROC_FS */</span>
<a name="l01075"></a>01075 
<a name="l01076"></a>01076 <span class="preprocessor">#endif </span><span class="comment">/* LPROCFS_STATUS_H */</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:35 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
