<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/utils/gss/lgss_krb5_utils.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/utils/gss/lgss_krb5_utils.c File Reference</h1><code>#include &quot;config.h&quot;</code><br/>
<code>#include &lt;sys/param.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/utsname.h&gt;</code><br/>
<code>#include &lt;sys/socket.h&gt;</code><br/>
<code>#include &lt;arpa/inet.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br/>
<code>#include &lt;dirent.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;time.h&gt;</code><br/>
<code>#include &lt;gssapi/gssapi.h&gt;</code><br/>
<code>#include &lt;krb5.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="lsupport_8h_source.html">lsupport.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lgss__utils_8h_source.html">lgss_utils.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lgss__krb5__utils_8h_source.html">lgss_krb5_utils.h</a>&quot;</code><br/>

<p><a href="lgss__krb5__utils_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlgss__krb5__cred.html">lgss_krb5_cred</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#ae9593d6b98f97d47667e2d5e6e976fc1">krb5_err_msg</a>(code)&nbsp;&nbsp;&nbsp;error_message(code)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a05092963afc0e22f49c7136b92908180">lgss_krb5_mutex_lock</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a742cc482a2a9a7f8505d469a10332e90">lgss_krb5_mutex_unlock</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a118bc1143d1eea2c606954768076b5f2">lgss_krb5_set_ccache_name</a> (const char *ccname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a6f9b1b535e581ee74d113b760528541e">lgss_krb5_get_local_realm</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#ac2c98c3b8eb71b05eedc6852f179ba06">princ_is_local_realm</a> (krb5_context ctx, krb5_principal princ)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a75e586aab6894b55c543f057fd75ad03">svc_princ_verify_host</a> (krb5_context ctx, krb5_principal princ, uint64_t self_nid, <a class="el" href="lgss__utils_8h.html#a24e101a095456e946efea0b971fc2ee3">loglevel_t</a> loglevel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a9b4c5433144a80031705e04d0ac7adb3">lkrb5_cc_check_tgt_princ</a> (krb5_context ctx, krb5_ccache ccache, krb5_principal princ, unsigned int flag, uint64_t self_nid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#abf5e8dd5ecf1a5138f5ebfeea159b497">get_root_tgt_ccname</a> (char *ccname, int <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, unsigned int flag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">compose the TGT cc name, according to the root flags.  <a href="#abf5e8dd5ecf1a5138f5ebfeea159b497"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a73356a56dff023e52934744fd8137c24">lkrb5_check_root_tgt_cc_base</a> (krb5_context ctx, krb5_ccache ccache, char *ccname, unsigned int flag, uint64_t self_nid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a97bd68a31ab975d67b7dd02378498405">lkrb5_check_root_tgt_cc</a> (krb5_context ctx, krb5_ccache ccache, unsigned int root_flags, uint64_t self_nid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">find out whether current TGT cache is valid or not  <a href="#a97bd68a31ab975d67b7dd02378498405"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a5e90034b2da0790f4349fc6412536c4f">lkrb5_get_root_tgt_keytab</a> (krb5_context ctx, krb5_ccache ccache, krb5_keytab kt, krb5_principal princ, const char *ccname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a2e77b3c1426146b2402a0438f0797f03">lkrb5_refresh_root_tgt_cc</a> (krb5_context ctx, krb5_ccache ccache, unsigned int root_flags, uint64_t self_nid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a2323bd52e9a1797b92e9d3e012ae614c">lkrb5_prepare_root_cred</a> (struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *cred)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a17379cf8c65b82781331850788950225">lkrb5_prepare_user_cred</a> (struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *cred)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a02e771ad9c819e800f694f11e1117fdd">lgss_krb5_prepare_cred</a> (struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *cred)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a172c66f4fa8b3cc6a73509410e2a436c">lgss_krb5_release_cred</a> (struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *cred)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a34f27eed2889a4caa608c5deecaf40ec">krb5_cc_type_mem</a> = &quot;MEMORY:&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a041a7780aa8df193154ab1743b5aaa32">krb5_cc_type_file</a> = &quot;FILE:&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#aa4431b383f5eaa9ca052bb2cf4a7ae9b">krb5_cred_root_suffix</a> = &quot;lustre_root&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a4640d390912903d1b22fe51e867ae780">krb5_cred_mds_suffix</a> = &quot;lustre_mds&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#ad5db2d13b219dd8468eb714e8bbd88c1">krb5_cred_oss_suffix</a> = &quot;lustre_oss&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a7d775a8abaa3c097f311af734cefaca3">krb5_this_realm</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a51a7c4518948d1b62b82df2d9139208e">krb5_keytab_file</a> = &quot;/etc/krb5.keytab&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a1da237aec99e9740862c856446de2b26">krb5_cc_type</a> = &quot;FILE:&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a6b94566fdc03594f1d9fc758fa1bdc66">krb5_cc_dir</a> = &quot;/tmp&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#af7b853af9fe2b8eb32ee8fb99b3ae5dd">krb5_cred_prefix</a> = &quot;krb5cc_&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlgss__mech__type.html">lgss_mech_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__krb5__utils_8c.html#a5dbf23bb9df6c5b981330761de448cb1">lgss_mech_krb5</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ae9593d6b98f97d47667e2d5e6e976fc1"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_err_msg" ref="ae9593d6b98f97d47667e2d5e6e976fc1" args="(code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define krb5_err_msg</td>
          <td>(</td>
          <td class="paramtype">code&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;error_message(code)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00156">156</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00203">lgss_krb5_get_local_realm()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00398">lkrb5_check_root_tgt_cc_base()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00562">lkrb5_get_root_tgt_keytab()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">lkrb5_prepare_root_cred()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00653">lkrb5_refresh_root_tgt_cc()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="abf5e8dd5ecf1a5138f5ebfeea159b497"></a><!-- doxytag: member="lgss_krb5_utils.c::get_root_tgt_ccname" ref="abf5e8dd5ecf1a5138f5ebfeea159b497" args="(char *ccname, int size, unsigned int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void get_root_tgt_ccname </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ccname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>compose the TGT cc name, according to the root flags. </p>

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">374</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00167">krb5_cc_dir</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00166">krb5_cc_type</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00161">krb5_cred_mds_suffix</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00162">krb5_cred_oss_suffix</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00168">krb5_cred_prefix</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00160">krb5_cred_root_suffix</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00164">krb5_this_realm</a>, <a class="el" href="lgss__utils_8h_source.html#l00118">lassert</a>, <a class="el" href="lgss__utils_8h_source.html#l00165">LGSS_ROOT_CRED_MDT</a>, <a class="el" href="lgss__utils_8h_source.html#l00166">LGSS_ROOT_CRED_OST</a>, and <a class="el" href="lgss__utils_8h_source.html#l00164">LGSS_ROOT_CRED_ROOT</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00522">lkrb5_check_root_tgt_cc()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00653">lkrb5_refresh_root_tgt_cc()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f9b1b535e581ee74d113b760528541e"></a><!-- doxytag: member="lgss_krb5_utils.c::lgss_krb5_get_local_realm" ref="a6f9b1b535e581ee74d113b760528541e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lgss_krb5_get_local_realm </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00203">203</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00156">krb5_err_msg</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00164">krb5_this_realm</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00845">lgss_krb5_prepare_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a05092963afc0e22f49c7136b92908180"></a><!-- doxytag: member="lgss_krb5_utils.c::lgss_krb5_mutex_lock" ref="a05092963afc0e22f49c7136b92908180" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lgss_krb5_mutex_lock </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00135">135</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__utils_8h_source.html#l00066">LGSS_MUTEX_KRB5</a>, <a class="el" href="lgss__utils_8c_source.html#l00164">lgss_mutex_lock()</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">lkrb5_prepare_root_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a742cc482a2a9a7f8505d469a10332e90"></a><!-- doxytag: member="lgss_krb5_utils.c::lgss_krb5_mutex_unlock" ref="a742cc482a2a9a7f8505d469a10332e90" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lgss_krb5_mutex_unlock </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00143">143</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__utils_8h_source.html#l00066">LGSS_MUTEX_KRB5</a>, <a class="el" href="lgss__utils_8c_source.html#l00196">lgss_mutex_unlock()</a>, <a class="el" href="lgss__utils_8h_source.html#l00087">LL_WARN</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">lkrb5_prepare_root_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a02e771ad9c819e800f694f11e1117fdd"></a><!-- doxytag: member="lgss_krb5_utils.c::lgss_krb5_prepare_cred" ref="a02e771ad9c819e800f694f11e1117fdd" args="(struct lgss_cred *cred)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lgss_krb5_prepare_cred </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *&nbsp;</td>
          <td class="paramname"> <em>cred</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00845">845</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00171">lgss_krb5_cred::kc_ccname</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00172">lgss_krb5_cred::kc_remove</a>, <a class="el" href="lgss__utils_8h_source.html#l00179">lgss_cred::lc_mech_cred</a>, <a class="el" href="lgss__utils_8h_source.html#l00173">lgss_cred::lc_root_flags</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00203">lgss_krb5_get_local_realm()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">lkrb5_prepare_root_cred()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00818">lkrb5_prepare_user_cred()</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

</div>
</div>
<a class="anchor" id="a172c66f4fa8b3cc6a73509410e2a436c"></a><!-- doxytag: member="lgss_krb5_utils.c::lgss_krb5_release_cred" ref="a172c66f4fa8b3cc6a73509410e2a436c" args="(struct lgss_cred *cred)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lgss_krb5_release_cred </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *&nbsp;</td>
          <td class="paramname"> <em>cred</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00873">873</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__utils_8h_source.html#l00179">lgss_cred::lc_mech_cred</a>.</p>

</div>
</div>
<a class="anchor" id="a118bc1143d1eea2c606954768076b5f2"></a><!-- doxytag: member="lgss_krb5_utils.c::lgss_krb5_set_ccache_name" ref="a118bc1143d1eea2c606954768076b5f2" args="(const char *ccname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lgss_krb5_set_ccache_name </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>ccname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00176">176</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="gss__err_8h_source.html#l00091">GSS_S_COMPLETE</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">lkrb5_prepare_root_cred()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00818">lkrb5_prepare_user_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b4c5433144a80031705e04d0ac7adb3"></a><!-- doxytag: member="lgss_krb5_utils.c::lkrb5_cc_check_tgt_princ" ref="a9b4c5433144a80031705e04d0ac7adb3" args="(krb5_context ctx, krb5_ccache ccache, krb5_principal princ, unsigned int flag, uint64_t self_nid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lkrb5_cc_check_tgt_princ </td>
          <td>(</td>
          <td class="paramtype">krb5_context&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_ccache&nbsp;</td>
          <td class="paramname"> <em>ccache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_principal&nbsp;</td>
          <td class="paramname"> <em>princ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>self_nid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00291">291</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00164">krb5_this_realm</a>, <a class="el" href="lgss__utils_8h_source.html#l00118">lassert</a>, <a class="el" href="lgss__utils_8h_source.html#l00165">LGSS_ROOT_CRED_MDT</a>, <a class="el" href="lgss__utils_8h_source.html#l00166">LGSS_ROOT_CRED_OST</a>, <a class="el" href="lgss__utils_8h_source.html#l00164">LGSS_ROOT_CRED_ROOT</a>, <a class="el" href="lgss__utils_8h_source.html#l00048">LGSS_SVC_MDS_STR</a>, <a class="el" href="lgss__utils_8h_source.html#l00049">LGSS_SVC_OSS_STR</a>, <a class="el" href="lgss__utils_8h_source.html#l00050">LGSS_USR_ROOT_STR</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, <a class="el" href="lgss__utils_8h_source.html#l00087">LL_WARN</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00232">princ_is_local_realm()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00239">svc_princ_verify_host()</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00398">lkrb5_check_root_tgt_cc_base()</a>.</p>

</div>
</div>
<a class="anchor" id="a97bd68a31ab975d67b7dd02378498405"></a><!-- doxytag: member="lgss_krb5_utils.c::lkrb5_check_root_tgt_cc" ref="a97bd68a31ab975d67b7dd02378498405" args="(krb5_context ctx, krb5_ccache ccache, unsigned int root_flags, uint64_t self_nid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lkrb5_check_root_tgt_cc </td>
          <td>(</td>
          <td class="paramtype">krb5_context&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_ccache&nbsp;</td>
          <td class="paramname"> <em>ccache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>root_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>self_nid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>find out whether current TGT cache is valid or not </p>

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00522">522</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">get_root_tgt_ccname()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00166">krb5_cc_type</a>, <a class="el" href="lgss__utils_8h_source.html#l00168">LGSS_ROOT_CRED_NR</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00398">lkrb5_check_root_tgt_cc_base()</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">lkrb5_prepare_root_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a73356a56dff023e52934744fd8137c24"></a><!-- doxytag: member="lgss_krb5_utils.c::lkrb5_check_root_tgt_cc_base" ref="a73356a56dff023e52934744fd8137c24" args="(krb5_context ctx, krb5_ccache ccache, char *ccname, unsigned int flag, uint64_t self_nid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lkrb5_check_root_tgt_cc_base </td>
          <td>(</td>
          <td class="paramtype">krb5_context&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_ccache&nbsp;</td>
          <td class="paramname"> <em>ccache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ccname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>self_nid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00398">398</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00156">krb5_err_msg</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00164">krb5_this_realm</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00291">lkrb5_cc_check_tgt_princ()</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, and <a class="el" href="createmany_8c_source.html#l00069">now()</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00522">lkrb5_check_root_tgt_cc()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e90034b2da0790f4349fc6412536c4f"></a><!-- doxytag: member="lgss_krb5_utils.c::lkrb5_get_root_tgt_keytab" ref="a5e90034b2da0790f4349fc6412536c4f" args="(krb5_context ctx, krb5_ccache ccache, krb5_keytab kt, krb5_principal princ, const char *ccname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lkrb5_get_root_tgt_keytab </td>
          <td>(</td>
          <td class="paramtype">krb5_context&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_ccache&nbsp;</td>
          <td class="paramname"> <em>ccache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_keytab&nbsp;</td>
          <td class="paramname"> <em>kt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_principal&nbsp;</td>
          <td class="paramname"> <em>princ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>ccname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00562">562</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00156">krb5_err_msg</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00088">LL_INFO</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00653">lkrb5_refresh_root_tgt_cc()</a>.</p>

</div>
</div>
<a class="anchor" id="a2323bd52e9a1797b92e9d3e012ae614c"></a><!-- doxytag: member="lgss_krb5_utils.c::lkrb5_prepare_root_cred" ref="a2323bd52e9a1797b92e9d3e012ae614c" args="(struct lgss_cred *cred)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lkrb5_prepare_root_cred </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *&nbsp;</td>
          <td class="paramname"> <em>cred</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">759</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00171">lgss_krb5_cred::kc_ccname</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00158">krb5_cc_type_mem</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00156">krb5_err_msg</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00164">krb5_this_realm</a>, <a class="el" href="lgss__utils_8h_source.html#l00118">lassert</a>, <a class="el" href="lgss__utils_8h_source.html#l00179">lgss_cred::lc_mech_cred</a>, <a class="el" href="lgss__utils_8h_source.html#l00173">lgss_cred::lc_root_flags</a>, <a class="el" href="lgss__utils_8h_source.html#l00174">lgss_cred::lc_self_nid</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00135">lgss_krb5_mutex_lock()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00143">lgss_krb5_mutex_unlock()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00176">lgss_krb5_set_ccache_name()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00522">lkrb5_check_root_tgt_cc()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00653">lkrb5_refresh_root_tgt_cc()</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00845">lgss_krb5_prepare_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a17379cf8c65b82781331850788950225"></a><!-- doxytag: member="lgss_krb5_utils.c::lkrb5_prepare_user_cred" ref="a17379cf8c65b82781331850788950225" args="(struct lgss_cred *cred)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lkrb5_prepare_user_cred </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *&nbsp;</td>
          <td class="paramname"> <em>cred</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00818">818</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00171">lgss_krb5_cred::kc_ccname</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00167">krb5_cc_dir</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00166">krb5_cc_type</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00168">krb5_cred_prefix</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00164">krb5_this_realm</a>, <a class="el" href="lgss__utils_8h_source.html#l00118">lassert</a>, <a class="el" href="lgss__utils_8h_source.html#l00179">lgss_cred::lc_mech_cred</a>, <a class="el" href="lgss__utils_8h_source.html#l00172">lgss_cred::lc_uid</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00176">lgss_krb5_set_ccache_name()</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00845">lgss_krb5_prepare_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e77b3c1426146b2402a0438f0797f03"></a><!-- doxytag: member="lgss_krb5_utils.c::lkrb5_refresh_root_tgt_cc" ref="a2e77b3c1426146b2402a0438f0797f03" args="(krb5_context ctx, krb5_ccache ccache, unsigned int root_flags, uint64_t self_nid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lkrb5_refresh_root_tgt_cc </td>
          <td>(</td>
          <td class="paramtype">krb5_context&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_ccache&nbsp;</td>
          <td class="paramname"> <em>ccache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>root_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>self_nid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00653">653</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">get_root_tgt_ccname()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00156">krb5_err_msg</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00165">krb5_keytab_file</a>, <a class="el" href="lgss__utils_8h_source.html#l00118">lassert</a>, <a class="el" href="lgss__utils_8h_source.html#l00165">LGSS_ROOT_CRED_MDT</a>, <a class="el" href="lgss__utils_8h_source.html#l00166">LGSS_ROOT_CRED_OST</a>, <a class="el" href="lgss__utils_8h_source.html#l00164">LGSS_ROOT_CRED_ROOT</a>, <a class="el" href="lgss__utils_8h_source.html#l00048">LGSS_SVC_MDS_STR</a>, <a class="el" href="lgss__utils_8h_source.html#l00049">LGSS_SVC_OSS_STR</a>, <a class="el" href="lgss__utils_8h_source.html#l00050">LGSS_USR_ROOT_STR</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00562">lkrb5_get_root_tgt_keytab()</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00232">princ_is_local_realm()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00239">svc_princ_verify_host()</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">lkrb5_prepare_root_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2c98c3b8eb71b05eedc6852f179ba06"></a><!-- doxytag: member="lgss_krb5_utils.c::princ_is_local_realm" ref="ac2c98c3b8eb71b05eedc6852f179ba06" args="(krb5_context ctx, krb5_principal princ)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int princ_is_local_realm </td>
          <td>(</td>
          <td class="paramtype">krb5_context&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_principal&nbsp;</td>
          <td class="paramname"> <em>princ</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00232">232</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lgss__krb5__utils_8c_source.html#l00164">krb5_this_realm</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00291">lkrb5_cc_check_tgt_princ()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00653">lkrb5_refresh_root_tgt_cc()</a>.</p>

</div>
</div>
<a class="anchor" id="a75e586aab6894b55c543f057fd75ad03"></a><!-- doxytag: member="lgss_krb5_utils.c::svc_princ_verify_host" ref="a75e586aab6894b55c543f057fd75ad03" args="(krb5_context ctx, krb5_principal princ, uint64_t self_nid, loglevel_t loglevel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int svc_princ_verify_host </td>
          <td>(</td>
          <td class="paramtype">krb5_context&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">krb5_principal&nbsp;</td>
          <td class="paramname"> <em>princ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>self_nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lgss__utils_8h.html#a24e101a095456e946efea0b971fc2ee3">loglevel_t</a>&nbsp;</td>
          <td class="paramname"> <em>loglevel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00239">239</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>References <a class="el" href="lsupport_8c_source.html#l00312">lnet_nid2hostname()</a>, and <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00291">lkrb5_cc_check_tgt_princ()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00653">lkrb5_refresh_root_tgt_cc()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a6b94566fdc03594f1d9fc758fa1bdc66"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_cc_dir" ref="a6b94566fdc03594f1d9fc758fa1bdc66" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="lgss__krb5__utils_8c.html#a6b94566fdc03594f1d9fc758fa1bdc66">krb5_cc_dir</a> = &quot;/tmp&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00167">167</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">get_root_tgt_ccname()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00818">lkrb5_prepare_user_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a1da237aec99e9740862c856446de2b26"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_cc_type" ref="a1da237aec99e9740862c856446de2b26" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="lgss__krb5__utils_8c.html#a1da237aec99e9740862c856446de2b26">krb5_cc_type</a> = &quot;FILE:&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00166">166</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">get_root_tgt_ccname()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00522">lkrb5_check_root_tgt_cc()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00818">lkrb5_prepare_user_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a041a7780aa8df193154ab1743b5aaa32"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_cc_type_file" ref="a041a7780aa8df193154ab1743b5aaa32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="lgss__krb5__utils_8c.html#a041a7780aa8df193154ab1743b5aaa32">krb5_cc_type_file</a> = &quot;FILE:&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00159">159</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="a34f27eed2889a4caa608c5deecaf40ec"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_cc_type_mem" ref="a34f27eed2889a4caa608c5deecaf40ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="lgss__krb5__utils_8c.html#a34f27eed2889a4caa608c5deecaf40ec">krb5_cc_type_mem</a> = &quot;MEMORY:&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00158">158</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">lkrb5_prepare_root_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="a4640d390912903d1b22fe51e867ae780"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_cred_mds_suffix" ref="a4640d390912903d1b22fe51e867ae780" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="lgss__krb5__utils_8c.html#a4640d390912903d1b22fe51e867ae780">krb5_cred_mds_suffix</a> = &quot;lustre_mds&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00161">161</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">get_root_tgt_ccname()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5db2d13b219dd8468eb714e8bbd88c1"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_cred_oss_suffix" ref="ad5db2d13b219dd8468eb714e8bbd88c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="lgss__krb5__utils_8c.html#ad5db2d13b219dd8468eb714e8bbd88c1">krb5_cred_oss_suffix</a> = &quot;lustre_oss&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00162">162</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">get_root_tgt_ccname()</a>.</p>

</div>
</div>
<a class="anchor" id="af7b853af9fe2b8eb32ee8fb99b3ae5dd"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_cred_prefix" ref="af7b853af9fe2b8eb32ee8fb99b3ae5dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="lgss__krb5__utils_8c.html#af7b853af9fe2b8eb32ee8fb99b3ae5dd">krb5_cred_prefix</a> = &quot;krb5cc_&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00168">168</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">get_root_tgt_ccname()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00818">lkrb5_prepare_user_cred()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4431b383f5eaa9ca052bb2cf4a7ae9b"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_cred_root_suffix" ref="aa4431b383f5eaa9ca052bb2cf4a7ae9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="lgss__krb5__utils_8c.html#aa4431b383f5eaa9ca052bb2cf4a7ae9b">krb5_cred_root_suffix</a> = &quot;lustre_root&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00160">160</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">get_root_tgt_ccname()</a>.</p>

</div>
</div>
<a class="anchor" id="a51a7c4518948d1b62b82df2d9139208e"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_keytab_file" ref="a51a7c4518948d1b62b82df2d9139208e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="lgss__krb5__utils_8c.html#a51a7c4518948d1b62b82df2d9139208e">krb5_keytab_file</a> = &quot;/etc/krb5.keytab&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00165">165</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00653">lkrb5_refresh_root_tgt_cc()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d775a8abaa3c097f311af734cefaca3"></a><!-- doxytag: member="lgss_krb5_utils.c::krb5_this_realm" ref="a7d775a8abaa3c097f311af734cefaca3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="lgss__krb5__utils_8c.html#a7d775a8abaa3c097f311af734cefaca3">krb5_this_realm</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00164">164</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__krb5__utils_8c_source.html#l00374">get_root_tgt_ccname()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00203">lgss_krb5_get_local_realm()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00291">lkrb5_cc_check_tgt_princ()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00398">lkrb5_check_root_tgt_cc_base()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00759">lkrb5_prepare_root_cred()</a>, <a class="el" href="lgss__krb5__utils_8c_source.html#l00818">lkrb5_prepare_user_cred()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00232">princ_is_local_realm()</a>.</p>

</div>
</div>
<a class="anchor" id="a5dbf23bb9df6c5b981330761de448cb1"></a><!-- doxytag: member="lgss_krb5_utils.c::lgss_mech_krb5" ref="a5dbf23bb9df6c5b981330761de448cb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlgss__mech__type.html">lgss_mech_type</a> <a class="el" href="lgss__krb5__utils_8h.html#a5dbf23bb9df6c5b981330761de448cb1">lgss_mech_krb5</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> 
{
        .lmt_name               = <span class="stringliteral">&quot;krb5&quot;</span>,
        .lmt_mech_n             = <a class="code" href="lgss__utils_8h.html#aeb4f403587599fe05e88b84a7ec7e35ea8aff4d48ef23d10f1f90331426616642">LGSS_MECH_KRB5</a>,
        .lmt_prepare_cred       = <a class="code" href="lgss__krb5__utils_8c.html#a02e771ad9c819e800f694f11e1117fdd">lgss_krb5_prepare_cred</a>,
        .lmt_release_cred       = <a class="code" href="lgss__krb5__utils_8c.html#a172c66f4fa8b3cc6a73509410e2a436c">lgss_krb5_release_cred</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="lgss__krb5__utils_8c_source.html#l00883">883</a> of file <a class="el" href="lgss__krb5__utils_8c_source.html">lgss_krb5_utils.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__utils_8c_source.html#l00327">lgss_name2mech()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:51 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
