<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/lov/lov_request.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/lov/lov_request.c File Reference</h1><code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__idl_8h_source.html">lustre/lustre_idl.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="lov__internal_8h_source.html">lov_internal.h</a>&quot;</code><br/>

<p><a href="lov__request_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LOV</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#a90e49fa77aa67c2bc0f7b59d919e6f54">LOV_U64_MAX</a>&nbsp;&nbsp;&nbsp;((<a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>)~0ULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#a522cadd9ae0ed80dc1512b087f705487">LOV_SUM_MAX</a>(tot, add)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#adcd23277f880291ed77ea7b348003299">lov_init_set</a> (struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#adc7fa89bae3cfb01d65716b13bb62329">lov_finish_set</a> (struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#a9034ef1ef08e376bd05d2438bf08fc1e">lov_set_finished</a> (struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *set, int idempotent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#af8cca6118055ff4ec884ff061d9144e0">lov_update_set</a> (struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *set, struct <a class="el" href="structlov__request.html">lov_request</a> *req, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#a3af135751bbafab3faf17b5167f87d7e">lov_set_add_req</a> (struct <a class="el" href="structlov__request.html">lov_request</a> *req, struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#a8abcbcfd855cf443208b093a6d2cea1c">lov_check_set</a> (struct <a class="el" href="structlov__obd.html">lov_obd</a> *lov, int idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#ac0bb29b97b89cf4148b8fa75b3e850f3">lov_check_and_wait_active</a> (struct <a class="el" href="structlov__obd.html">lov_obd</a> *lov, int ost_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#a0ae5e2db6b4edff2369c0a92fd97f588">lov_fini_statfs</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structobd__statfs.html">obd_statfs</a> *osfs, int success)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#a90b1a10205c7ce2c6c3acc3226f8778e">lov_fini_statfs_set</a> (struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#aea6beae1b5ab79a5d71c01c9cc1a196d">lov_update_statfs</a> (struct <a class="el" href="structobd__statfs.html">obd_statfs</a> *osfs, struct <a class="el" href="structobd__statfs.html">obd_statfs</a> *lov_sfs, int success)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#a9894424c9b9ecb7dee26071de5bbe030">cb_statfs_update</a> (void *cookie, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lov__request_8c.html#af5b5dac60b156b521c9e282b8333db52">lov_prep_statfs_set</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structobd__info.html">obd_info</a> *oinfo, struct <a class="el" href="structlov__request__set.html">lov_request_set</a> **reqset)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="lov_request.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LOV</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00037">37</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

</div>
</div>
<a class="anchor" id="a522cadd9ae0ed80dc1512b087f705487"></a><!-- doxytag: member="lov_request.c::LOV_SUM_MAX" ref="a522cadd9ae0ed80dc1512b087f705487" args="(tot, add)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOV_SUM_MAX</td>
          <td>(</td>
          <td class="paramtype">tot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">add&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                            \
                <span class="keywordflow">if</span> ((tot) + (add) &lt; (tot))                              \
                        (tot) = <a class="code" href="lov__request_8c.html#a90e49fa77aa67c2bc0f7b59d919e6f54">LOV_U64_MAX</a>;                            \
                <span class="keywordflow">else</span>                                                    \
                        (tot) += (add);                                 \
        } <span class="keywordflow">while</span>(0)
</pre></div>
<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00170">170</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00216">lov_update_statfs()</a>.</p>

</div>
</div>
<a class="anchor" id="a90e49fa77aa67c2bc0f7b59d919e6f54"></a><!-- doxytag: member="lov_request.c::LOV_U64_MAX" ref="a90e49fa77aa67c2bc0f7b59d919e6f54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOV_U64_MAX&nbsp;&nbsp;&nbsp;((<a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>)~0ULL)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00169">169</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00178">lov_fini_statfs()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a9894424c9b9ecb7dee26071de5bbe030"></a><!-- doxytag: member="lov_request.c::cb_statfs_update" ref="a9894424c9b9ecb7dee26071de5bbe030" args="(void *cookie, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cb_statfs_update </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00286">286</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00235">cfs_time_current_64</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="obd_8h_source.html#l00701">obd_device::lov</a>, <a class="el" href="lov__request_8c_source.html#l00078">lov_set_finished()</a>, <a class="el" href="lov__obd_8c_source.html#l01001">lov_statfs_interpret()</a>, <a class="el" href="obd_8h_source.html#l00373">lov_obd::lov_tgts</a>, <a class="el" href="lov__request_8c_source.html#l00093">lov_update_set()</a>, <a class="el" href="lov__request_8c_source.html#l00216">lov_update_statfs()</a>, <a class="el" href="obd_8h_source.html#l00366">lov_tgt_desc::ltd_active</a>, <a class="el" href="obd_8h_source.html#l00363">lov_tgt_desc::ltd_exp</a>, <a class="el" href="obd__class_8h_source.html#l00954">obd_getref()</a>, <a class="el" href="obd_8h_source.html#l00646">obd_device::obd_osfs</a>, <a class="el" href="obd_8h_source.html#l00647">obd_device::obd_osfs_age</a>, <a class="el" href="obd_8h_source.html#l00645">obd_device::obd_osfs_lock</a>, <a class="el" href="obd__class_8h_source.html#l00964">obd_putref()</a>, <a class="el" href="obd__class_8h_source.html#l00050">OBD_STATFS_FROM_CACHE</a>, <a class="el" href="obd__class_8h_source.html#l00052">OBD_STATFS_PTLRPCD</a>, <a class="el" href="obd_8h_source.html#l00094">obd_info::oi_flags</a>, <a class="el" href="obd_8h_source.html#l00096">obd_info::oi_osfs</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lov__internal_8h_source.html#l00159">lov_request::rq_idx</a>, <a class="el" href="lov__internal_8h_source.html#l00157">lov_request::rq_rqset</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00337">lov_prep_statfs_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0bb29b97b89cf4148b8fa75b3e850f3"></a><!-- doxytag: member="lov_request.c::lov_check_and_wait_active" ref="ac0bb29b97b89cf4148b8fa75b3e850f3" args="(struct lov_obd *lov, int ost_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lov_check_and_wait_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlov__obd.html">lov_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>lov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ost_idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00132">132</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_connect_tried</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lov__request_8c_source.html#l00113">lov_check_set()</a>, <a class="el" href="obd_8h_source.html#l00376">lov_obd::lov_lock</a>, <a class="el" href="obd_8h_source.html#l00373">lov_obd::lov_tgts</a>, <a class="el" href="obd_8h_source.html#l00366">lov_tgt_desc::ltd_active</a>, <a class="el" href="obd_8h_source.html#l00363">lov_tgt_desc::ltd_exp</a>, <a class="el" href="lustre__lib_8h_source.html#l00180">LWI_TIMEOUT_INTERVAL</a>, <a class="el" href="class__obd_8c_source.html#l00083">obd_timeout</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00337">lov_prep_statfs_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a8abcbcfd855cf443208b093a6d2cea1c"></a><!-- doxytag: member="lov_request.c::lov_check_set" ref="a8abcbcfd855cf443208b093a6d2cea1c" args="(struct lov_obd *lov, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lov_check_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlov__obd.html">lov_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>lov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00113">113</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_connect_tried</a>, <a class="el" href="obd_8h_source.html#l00376">lov_obd::lov_lock</a>, <a class="el" href="obd_8h_source.html#l00373">lov_obd::lov_tgts</a>, <a class="el" href="obd_8h_source.html#l00366">lov_tgt_desc::ltd_active</a>, and <a class="el" href="obd_8h_source.html#l00363">lov_tgt_desc::ltd_exp</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00132">lov_check_and_wait_active()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ae5e2db6b4edff2369c0a92fd97f588"></a><!-- doxytag: member="lov_request.c::lov_fini_statfs" ref="a0ae5e2db6b4edff2369c0a92fd97f588" args="(struct obd_device *obd, struct obd_statfs *osfs, int success)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lov_fini_statfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__statfs.html">obd_statfs</a> *&nbsp;</td>
          <td class="paramname"> <em>osfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>success</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00178">178</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00235">cfs_time_current_64</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="obd_8h_source.html#l00701">obd_device::lov</a>, <a class="el" href="lov__pack_8c_source.html#l00184">lov_get_stripecnt()</a>, <a class="el" href="packet-lustre_8c_source.html#l00086">LOV_MAGIC</a>, <a class="el" href="lov__request_8c_source.html#l00169">LOV_U64_MAX</a>, <a class="el" href="obd_8h_source.html#l00646">obd_device::obd_osfs</a>, <a class="el" href="obd_8h_source.html#l00647">obd_device::obd_osfs_age</a>, <a class="el" href="obd_8h_source.html#l00645">obd_device::obd_osfs_lock</a>, <a class="el" href="lustre__user_8h_source.html#l00113">obd_statfs::os_ffree</a>, <a class="el" href="lustre__user_8h_source.html#l00112">obd_statfs::os_files</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00200">lov_fini_statfs_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a90b1a10205c7ce2c6c3acc3226f8778e"></a><!-- doxytag: member="lov_request.c::lov_fini_statfs_set" ref="a90b1a10205c7ce2c6c3acc3226f8778e" args="(struct lov_request_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lov_fini_statfs_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00200">200</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lov__request_8c_source.html#l00178">lov_fini_statfs()</a>, <a class="el" href="lov__internal_8h_source.html#l00186">lov_put_reqset()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00337">lov_prep_statfs_set()</a>, <a class="el" href="lov__obd_8c_source.html#l01014">lov_statfs_async()</a>, and <a class="el" href="lov__obd_8c_source.html#l01001">lov_statfs_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="adc7fa89bae3cfb01d65716b13bb62329"></a><!-- doxytag: member="lov_request.c::lov_finish_set" ref="adc7fa89bae3cfb01d65716b13bb62329" args="(struct lov_request_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lov_finish_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00057">57</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8h_source.html#l00096">obd_info::oi_osfs</a>, <a class="el" href="lov__internal_8h_source.html#l00158">lov_request::rq_link</a>, and <a class="el" href="lov__internal_8h_source.html#l00156">lov_request::rq_oi</a>.</p>

<p>Referenced by <a class="el" href="lov__internal_8h_source.html#l00186">lov_put_reqset()</a>.</p>

</div>
</div>
<a class="anchor" id="adcd23277f880291ed77ea7b348003299"></a><!-- doxytag: member="lov_request.c::lov_init_set" ref="adcd23277f880291ed77ea7b348003299" args="(struct lov_request_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lov_init_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00046">46</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00337">lov_prep_statfs_set()</a>.</p>

</div>
</div>
<a class="anchor" id="af5b5dac60b156b521c9e282b8333db52"></a><!-- doxytag: member="lov_request.c::lov_prep_statfs_set" ref="af5b5dac60b156b521c9e282b8333db52" args="(struct obd_device *obd, struct obd_info *oinfo, struct lov_request_set **reqset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lov_prep_statfs_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__info.html">obd_info</a> *&nbsp;</td>
          <td class="paramname"> <em>oinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlov__request__set.html">lov_request_set</a> **&nbsp;</td>
          <td class="paramname"> <em>reqset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00337">337</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="lov__request_8c_source.html#l00286">cb_statfs_update()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="obd_8h_source.html#l00372">lov_obd::desc</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l02747">lov_desc::ld_tgt_count</a>, <a class="el" href="obd_8h_source.html#l00701">obd_device::lov</a>, <a class="el" href="lov__request_8c_source.html#l00132">lov_check_and_wait_active()</a>, <a class="el" href="lov__request_8c_source.html#l00200">lov_fini_statfs_set()</a>, <a class="el" href="lov__request_8c_source.html#l00046">lov_init_set()</a>, <a class="el" href="lov__request_8c_source.html#l00106">lov_set_add_req()</a>, <a class="el" href="obd_8h_source.html#l00373">lov_obd::lov_tgts</a>, <a class="el" href="obd_8h_source.html#l00366">lov_tgt_desc::ltd_active</a>, <a class="el" href="obd_8h_source.html#l00363">lov_tgt_desc::ltd_exp</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__class_8h_source.html#l00048">OBD_STATFS_NODELAY</a>, <a class="el" href="obd_8h_source.html#l00101">obd_info::oi_cb_up</a>, <a class="el" href="obd_8h_source.html#l00094">obd_info::oi_flags</a>, <a class="el" href="obd_8h_source.html#l00096">obd_info::oi_osfs</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lov__internal_8h_source.html#l00159">lov_request::rq_idx</a>, <a class="el" href="lov__internal_8h_source.html#l00156">lov_request::rq_oi</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="lov__obd_8c_source.html#l01014">lov_statfs_async()</a>.</p>

</div>
</div>
<a class="anchor" id="a3af135751bbafab3faf17b5167f87d7e"></a><!-- doxytag: member="lov_request.c::lov_set_add_req" ref="a3af135751bbafab3faf17b5167f87d7e" args="(struct lov_request *req, struct lov_request_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lov_set_add_req </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlov__request.html">lov_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00106">106</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="lov__internal_8h_source.html#l00158">lov_request::rq_link</a>, and <a class="el" href="lov__internal_8h_source.html#l00157">lov_request::rq_rqset</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00337">lov_prep_statfs_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a9034ef1ef08e376bd05d2438bf08fc1e"></a><!-- doxytag: member="lov_request.c::lov_set_finished" ref="a9034ef1ef08e376bd05d2438bf08fc1e" args="(struct lov_request_set *set, int idempotent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lov_set_finished </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idempotent</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00078">78</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00286">cb_statfs_update()</a>.</p>

</div>
</div>
<a class="anchor" id="af8cca6118055ff4ec884ff061d9144e0"></a><!-- doxytag: member="lov_request.c::lov_update_set" ref="af8cca6118055ff4ec884ff061d9144e0" args="(struct lov_request_set *set, struct lov_request *req, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lov_update_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlov__request__set.html">lov_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlov__request.html">lov_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00093">93</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="lov__internal_8h_source.html#l00161">lov_request::rq_complete</a>, and <a class="el" href="lov__internal_8h_source.html#l00162">lov_request::rq_rc</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00286">cb_statfs_update()</a>.</p>

</div>
</div>
<a class="anchor" id="aea6beae1b5ab79a5d71c01c9cc1a196d"></a><!-- doxytag: member="lov_request.c::lov_update_statfs" ref="aea6beae1b5ab79a5d71c01c9cc1a196d" args="(struct obd_statfs *osfs, struct obd_statfs *lov_sfs, int success)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lov_update_statfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__statfs.html">obd_statfs</a> *&nbsp;</td>
          <td class="paramname"> <em>osfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__statfs.html">obd_statfs</a> *&nbsp;</td>
          <td class="paramname"> <em>lov_sfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>success</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lov__request_8c_source.html#l00216">216</a> of file <a class="el" href="lov__request_8c_source.html">lov_request.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lov__request_8c_source.html#l00170">LOV_SUM_MAX</a>, <a class="el" href="lustre__user_8h_source.html#l00111">obd_statfs::os_bavail</a>, <a class="el" href="lustre__user_8h_source.html#l00110">obd_statfs::os_bfree</a>, <a class="el" href="lustre__user_8h_source.html#l00109">obd_statfs::os_blocks</a>, <a class="el" href="lustre__user_8h_source.html#l00115">obd_statfs::os_bsize</a>, <a class="el" href="lustre__user_8h_source.html#l00113">obd_statfs::os_ffree</a>, <a class="el" href="lustre__user_8h_source.html#l00112">obd_statfs::os_files</a>, and <a class="el" href="lustre__rsync_8c_source.html#l00199">quit</a>.</p>

<p>Referenced by <a class="el" href="lov__request_8c_source.html#l00286">cb_statfs_update()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
