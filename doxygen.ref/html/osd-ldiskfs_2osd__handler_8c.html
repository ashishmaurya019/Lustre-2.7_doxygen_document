<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/osd-ldiskfs/osd_handler.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/osd-ldiskfs/osd_handler.c File Reference</h1><code>#include &lt;linux/module.h&gt;</code><br/>
<code>#include &lt;linux/user_namespace.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__ver_8h_source.html">lustre_ver.h</a>&gt;</code><br/>
<code>#include &lt;linux/types.h&gt;</code><br/>
<code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/xattr.h&gt;</code><br/>
<code>#include &lt;ldiskfs/ldiskfs.h&gt;</code><br/>
<code>#include &lt;ldiskfs/xattr.h&gt;</code><br/>
<code>#include &lt;ldiskfs/ldiskfs_extents.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__fid_8h_source.html">lustre_fid.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__param_8h_source.html">lustre_param.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="osd-zfs_2osd__internal_8h_source.html">osd_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="osd__dynlocks_8h_source.html">osd_dynlocks.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="md__object_8h_source.html">md_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__quota_8h_source.html">lustre_quota.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__linkea_8h_source.html">lustre_linkea.h</a>&gt;</code><br/>

<p><a href="osd-ldiskfs_2osd__handler_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosd__filldir__cbs.html">osd_filldir_cbs</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_OSD</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a10b789c8f4fdee0d797e2cccc07bf8e8">osd_th_alloced</a>(h)&nbsp;&nbsp;&nbsp;do {} while(0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a20449084f58930e82ac2e17f9f9144dd">osd_th_started</a>(h)&nbsp;&nbsp;&nbsp;do {} while(0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#acc02ad6efbdb92503a530577c19567b3">OSD_CHECK_SLOW_TH</a>(oth, dev, expr)&nbsp;&nbsp;&nbsp;expr</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aa4b34874ea04da56cd81b5cab96f3ae8">PER_OBJ_USAGE</a>&nbsp;&nbsp;&nbsp;LDISKFS_DIR_REC_LEN(20)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Estimate space needed for file creations.  <a href="#aa4b34874ea04da56cd81b5cab96f3ae8"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a2740682d411ce19397d5eb22ad45d052">osd_obj_type_f</a> )(struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *, struct <a class="el" href="structosd__object.html">osd_object</a> *, struct <a class="el" href="structlu__attr.html">lu_attr</a> *, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a85c7862086c1f92e4fb4108e176d8140a9e533fb5b884922797c5a848e5b71e9d">OSD_TXN_OI_DELETE_CREDITS</a> =  20, 
<a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a85c7862086c1f92e4fb4108e176d8140a2425e68c1459747e13176f3ac50373ab">OSD_TXN_INODE_DELETE_CREDITS</a> =  20
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a52864abcf6ebd8d120995b36fe6ce06ea197f261586d57ae2b7cbe04f2d78e4d1">OSD_NAME_LEN</a> =  255
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ac0b7d443b20c0a5456ebdb663a6b3fde">module_param</a> (<a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a3215c9997e34962b3f09a573dfd8ea39">ldiskfs_pdo</a>, int, 0644)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a98213ab7e48c41ecd007cab2620f4106">MODULE_PARM_DESC</a> (<a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a3215c9997e34962b3f09a573dfd8ea39">ldiskfs_pdo</a>,&quot;ldiskfs with parallel <a class="el" href="mdsrate_8c.html#ae200ffe5a8144d902ca2c3413ff7329d">directory</a> operations&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ad67d136f49ddc822cf611850691dcc37">module_param</a> (<a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a9de56a4f2fb731a6a3521d1762bcf984">ldiskfs_track_declares_assert</a>, int, 0644)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ac2fbcee3f5793e76606bce40b2ebe29b">MODULE_PARM_DESC</a> (<a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a9de56a4f2fb731a6a3521d1762bcf984">ldiskfs_track_declares_assert</a>,&quot;LBUG during tracking of declares&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a61bd4e5ef8db6badbfced16894c04b0b">osd_remote_fid</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a3417b468e784f46683d3e00fb2772be2">osd_process_scheduled_agent_removals</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a2bffada51e2f681d56df5d325bc0c3e9">osd_has_index</a> (const struct <a class="el" href="structosd__object.html">osd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aff0766e7327a833b33547927986f19f6">osd_object_invariant</a> (const struct <a class="el" href="structlu__object.html">lu_object</a> *l)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1edf0425fb63b9c01d7651ed67c4d318">osd_write_locked</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ad53e9dc79f4f5e10d0c3ec1fe3a8907f">osd_root_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *dev, struct <a class="el" href="structlu__fid.html">lu_fid</a> *f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#af35fc7053f3fc9445683e71bcaa671a3">osd_idc_find</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1e554072f579d1f0f8a5b7e320d6c237">osd_idc_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#acf963d1fa8d2ad180f0223ec141eebe9">osd_idc_find_or_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a236fcf10f7acee7a8f852f38aaead91b">osd_idc_find_and_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct <a class="el" href="structosd__object.html">osd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab3027a55b4e8d2e81d336341701972cd">osd_object_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *hdr, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a33a698e1f63ed2ae2a915e4bcbce92e8">osd_get_lma</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct inode *inode, struct dentry *dentry, struct <a class="el" href="structlustre__mdt__attrs.html">lustre_mdt_attrs</a> *lma)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct inode *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a322e19443e9c62cb02a6a8c9eec6626d">osd_iget</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#afa5d40e10d49cbfad614e5a3b663da1d">osd_ldiskfs_add_entry</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, handle_t *handle, struct dentry *child, struct inode *inode, struct htree_lock *hlock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct inode *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a49debbb4a418b6c2ee57090fd0582bfe">osd_iget_fid</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct inode *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab9b15f45d69532a5bdd92a2f7c954194">osd_iget_check</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, bool cached)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7bb7106be26bf680a8a943af1c90ef29">osd_get_idif</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct inode *inode, struct dentry *dentry, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a2a88d570ac6f3ce6ec582a4d28ceb42f">osd_lma_self_repair</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct inode *inode, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, __u32 compat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#adbdf82f746a1173dac1e86a673b19fbd">osd_check_lma</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aaafb47b2e2fd24c999b581d2de1ff338">osd_fid_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab48c0b03cf5ad9b5599e3ca0c770a713">osd_object_init0</a> (struct <a class="el" href="structosd__object.html">osd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#affacc9caaa4ec75f283ab9491224ab1d">osd_object_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *l, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a31c4f5f77920a19ce7b512c2697c0947">osd_object_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *l)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ac249f0252a30664f156ec09240e673df">osd_index_fini</a> (struct <a class="el" href="structosd__object.html">osd_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a988699c7f93ead88bf65bc7f0e53e147">osd_inode_unlinked</a> (const struct inode *inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a313ad2f30f74ca03e5e49edbe669b6ce">osd_param_is_not_sane</a> (const struct <a class="el" href="structosd__device.html">osd_device</a> *dev, const struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a6be53a4d1489ce19d1f3124f6edf8911">osd_trans_commit_cb</a> (struct super_block *sb, struct ldiskfs_journal_cb_entry *jcb, int error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a31832c549d1c5ac7170ad86eb07a181d">osd_trans_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a2aca305ee7edbdde2f7d1f84a075bcb6">osd_trans_dump_creds</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a4ac1d8eae8fc1e33b5da4c82d9446092">osd_trans_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *d, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7d261d571c889f4d6c1b4f5a9cee6d1c">osd_seq_exists</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, u64 seq)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7c05f934b27a6332588fcbe2194bc415">osd_trans_stop_cb</a> (struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *oth, int result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aa101a3ebabb8612fed4e486c7fd42046">osd_trans_stop</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a25369537aa363b1d01a9e1d7f2587054">osd_trans_cb_add</a> (struct <a class="el" href="structthandle.html">thandle</a> *th, struct <a class="el" href="structdt__txn__commit__cb.html">dt_txn_commit_cb</a> *dcb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ac09ce1e09b94642ed2d9e47b5246158a">osd_object_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *l)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#abae64cbdf268d72534cbe0d375a86812">osd_object_release</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *l)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a810b6d8b773a8d48c9d55ab112616e89">osd_object_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> p, const struct <a class="el" href="structlu__object.html">lu_object</a> *l)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a0e4f6c907c6284be39139b21963e044c">osd_statfs</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *d, struct <a class="el" href="structobd__statfs.html">obd_statfs</a> *sfs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7f7524388930e4573ea49c41c7eb3529">osd_conf_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structdt__device.html">dt_device</a> *dev, struct <a class="el" href="structdt__device__param.html">dt_device_param</a> *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a02e579d5033b1d4f3f5b4691291188cc">osd_sync</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ad91a97b98654f2ae5119a4756ac088c9">osd_commit_async</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start commit for OSD device.  <a href="#ad91a97b98654f2ae5119a4756ac088c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ae9f456749443c7e1e4ddd3c59410cbb8">osd_ro</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a10d58b4bc743588d6f8ac8921126285b">osd_object_read_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, unsigned role)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a422cc56d5664a8176ed227f17021f7dc">osd_object_write_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, unsigned role)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a3dc1404c9d3284f030355f4b69c8e087">osd_object_read_unlock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a23662410a95ee7c0c12286b5e7c7ef88">osd_object_write_unlock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a677700883eca41df1cb2160814b664dd">osd_object_write_locked</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct timespec *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a3daedf4a2e72e4a50eaa65d207f0b662">osd_inode_time</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct inode *inode, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="mdsrate_8c.html#a77bd4f876bdc3afed5acdd936f775d34">seconds</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a05abafd5c4b69b6d1b3d2c288ba7950d">osd_inode_getattr</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct inode *inode, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aef013c42695073284fd80f920c7a72a7">osd_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a431704ecbdd131861aca8b13f930dceb">osd_declare_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab28dd16ff6b86e9465309b87a94a39f3">osd_inode_setattr</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct inode *inode, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1456e30edc58dff4ea93b087488df186">osd_quota_transfer</a> (struct inode *inode, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a546ba6151957c930a55b4f884a299ec8">osd_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct dentry *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a980025c1584a4deab460677c47af13bc">osd_child_dentry_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const int namelen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a0a92e16f3a89e192de3bbe0534e309c7">osd_mkfile</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, umode_t <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a3102a5e61d628c6ea338223302d119c1">osd_mkdir</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a4756e67556550d252890ca93e1b4b1c3">osd_mk_index</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a2b08e2831f3575abaf3841d562adb1df">osd_mkreg</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aa7e33affba9e4c05158e62ab26677f9c">osd_mksym</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a9281ba7cc79bdd31dafc38b723511c2f">osd_mknod</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="osd__object_8c.html#a6e7eaa662da5292c55cbafe7893377b5">osd_obj_type_f</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a5da8e05ed21843bb81e50b27a357b38a">osd_create_type_f</a> (enum <a class="el" href="group__dt.html#ga51d4c45efee77175aa61574dbc46b53e">dt_format_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aaf7119b072f35baec6fa0bbd137f0710">osd_ah_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *ah, struct <a class="el" href="structdt__object.html">dt_object</a> *parent, struct <a class="el" href="structdt__object.html">dt_object</a> *child, umode_t child_mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a27766d837df6f75c59df19f771a18667">osd_attr_init</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ae1f8cbd89c5ad17a5386f2d042a17295">__osd_object_create</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function for <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aaa893ad91ccae2c40ab9964e84aea966">osd_object_create()</a>.  <a href="#ae1f8cbd89c5ad17a5386f2d042a17295"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ac154991c406be967f3808e3cb7a0bcb8">__osd_oi_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function for <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aaa893ad91ccae2c40ab9964e84aea966">osd_object_create()</a>.  <a href="#ac154991c406be967f3808e3cb7a0bcb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a3f9dcf494255fd8bafc2a6b7f7235422">osd_fld_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, u64 seq, struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a4ce35bb11a113577653fe79289af08a3">osd_declare_object_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aaa893ad91ccae2c40ab9964e84aea966">osd_object_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a6dd981596d61fea6c11133b5cb307a2e">osd_declare_object_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to destroy on-disk representation of the object.  <a href="#a6dd981596d61fea6c11133b5cb307a2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ac7f84096219447ad50577b4ed902daaa">osd_object_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a961b35fafee504af03541e003ae1ddb1">osd_ea_fid_set</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct inode *inode, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, __u32 compat, __u32 incompat)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put the fid into <a class="el" href="structlustre__mdt__attrs.html" title="Following struct for object attributes, that will be kept inode&#39;s EA.">lustre_mdt_attrs</a>, and then place the structure inode's ea.  <a href="#a961b35fafee504af03541e003ae1ddb1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a9853029e8125ec6eeeba0014fcadf26a">osd_get_ldiskfs_dirent_param</a> (struct ldiskfs_dentry_param *param, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ldiskfs supports fid in dirent, it is passed in dentry-&gt;d_fsdata.  <a href="#a9853029e8125ec6eeeba0014fcadf26a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a2cf99a805c3d11ad43fe29256293e47e">osd_ea_fid_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, __u32 ino, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Try to read the fid from inode ea into dt_rec.  <a href="#a2cf99a805c3d11ad43fe29256293e47e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ace3847382f40cbd87c80330592388c5f">osd_add_dot_dotdot_internal</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct inode *parent_dir, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *dot_fid, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *dot_dot_fid, struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *oth)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct inode *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a01a2584f0e1348bfd375fc64a463abed">osd_create_local_agent_inode</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct <a class="el" href="structosd__object.html">osd_object</a> *pobj, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, __u32 type, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an local agent inode for remote entry.  <a href="#a01a2584f0e1348bfd375fc64a463abed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aac1d0d9f81936130ca25ccf1fdd82f42">osd_schedule_agent_inode_removal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *oh, __u32 ino)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">when direntry is deleted, we have to take care of possible agent inode referenced by that.  <a href="#aac1d0d9f81936130ca25ccf1fdd82f42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a864ec19a5c8bb9cc23a9d78ca472f395">osd_object_ea_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OSD layer object create function for interoperability mode (b11826).  <a href="#a864ec19a5c8bb9cc23a9d78ca472f395"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a64ad4de2e613fbc62c5810706e28f343">osd_declare_object_ref_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a880ec462b356e763fe870b2fbf552526">osd_object_ref_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aba7500664fd0edabde8a2375652b4dd3">osd_declare_object_ref_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#abecde582245b9b2af1fa0376cc2773f6">osd_object_ref_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#acdc33f9b7beb2f947d151cc379d93c75">osd_object_version_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, <a class="el" href="group__dt.html#gad589f42840c693e67e09774b46036250">dt_obj_version_t</a> *ver)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a9a209f6bcdd49419343058341b965dfa">osd_xattr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab2d6b08a16dea10356bf1dd0bb35d3dd">osd_declare_xattr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a8369357da12023d1b0190ae5e70690d1">osd_object_version_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, <a class="el" href="group__dt.html#gad589f42840c693e67e09774b46036250">dt_obj_version_t</a> *new_version)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ad64cc100a26db12bdbe4acde07433a03">osd_xattr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a9d9e9bf049703d1f87df3866d8c6b57a">osd_xattr_list</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a702a181910c59f4a55ee1e6cf8b0ce74">osd_declare_xattr_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a0d33a476fe1a05fa84f6e1748664ff1c">osd_xattr_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab893b054b4b0fd4ac6b7952a88ad99ea">osd_object_sync</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> end)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a30ddc189d5d1ebcead599c1a9913c182">osd_iam_index_probe</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *o, const struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *feat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a71d37a1cccc877d557091674c7a7c393">osd_iam_container_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structosd__directory.html">osd_directory</a> *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1b136f690ad1ddb9c79612f4337dd58f">osd_index_try</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *feat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1eb6f2ed3d23e791c009d199e7b09444">osd_otable_it_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a3ca27d59b821963d6b99a1e58735ae7e">osd_index_declare_iam_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a044851396ce067181190c0ae310bab4b">osd_index_iam_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">delete a (key, value) pair from index <em>dt</em> specified by <em>key</em>  <a href="#a044851396ce067181190c0ae310bab4b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ac0116850e6c7fc559451e7a754aa4985">osd_index_declare_ea_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a0dcb29d8b3b0f41fd8b624f038120951">osd_get_fid_from_dentry</a> (struct ldiskfs_dir_entry_2 *de, struct dt_rec *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aeb125db0bc7ec337b61adadd75c3dd7e">osd_index_ea_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index delete function for interoperability mode (b11826).  <a href="#aeb125db0bc7ec337b61adadd75c3dd7e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a21f7bf2f45ca186e70b5407b8686fb53">osd_index_iam_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup index for <em>key</em> and copy record to <em>rec</em>.  <a href="#a21f7bf2f45ca186e70b5407b8686fb53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ad3c9d6e576c4a44e1842482e249e332a">osd_index_declare_iam_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a5686940f12d228e4bc52df9c7b224b65">osd_index_iam_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *th, int ignore_quota)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inserts (key, value) pair in <em>dt</em> index object.  <a href="#a5686940f12d228e4bc52df9c7b224b65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a54e48c705ed0d03fdc259560e766802f">__osd_ea_add_rec</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *pobj, struct inode *cinode, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct htree_lock *hlock, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calls ldiskfs_add_entry() to add directory entry into the directory.  <a href="#a54e48c705ed0d03fdc259560e766802f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a4387088b509515702a0dc9fecf0f392e">osd_add_dot_dotdot</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__object.html">osd_object</a> *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct inode *parent_dir, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *dot_fid, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *dot_dot_fid, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calls ldiskfs_add_dot_dotdot() to add dot and dotdot entries into the directory.Also sets flags into osd object to indicate dot and dotdot are created.  <a href="#a4387088b509515702a0dc9fecf0f392e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ae74dc7ebe014398477290e8a3e23356c">osd_ea_add_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *pobj, struct inode *cinode, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It will call the appropriate osd_add* function and return the value, return by respective functions.  <a href="#ae74dc7ebe014398477290e8a3e23356c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a308325283bd3988f8fd744423f2442c9">osd_consistency_check</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *oti, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *oic)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7d600bf901f1da19bfdbd03e3daa53fb">osd_fail_fid_lookup</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *oti, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *oic, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, __u32 ino)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a6a92ec612fb05e9eb42cfb6b91310933">osd_add_oi_cache</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7ccc54a9b5a1fa905b4d3b42f03ad0c3">osd_get_pfid_from_linkea</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get parent FID from the linkEA.  <a href="#a7ccc54a9b5a1fa905b4d3b42f03ad0c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1fa330ceec068d8d6cdb213c06063de1">osd_ea_lookup_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calls -&gt;<a class="el" href="iam__ut_8c.html#a8a036fe43302ce2891c4f2854f4c44e8">lookup()</a> to find dentry.  <a href="#a1fa330ceec068d8d6cdb213c06063de1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ace9f75d885542270b17e11222018fb4f">osd_object_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put the osd object once done with it.  <a href="#ace9f75d885542270b17e11222018fb4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a703cec73cf6c56de200cae4d27eb61d3">osd_index_declare_ea_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a0044ba97696e52907ae6f670b03186ce">osd_index_ea_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *th, int ignore_quota)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index add function for interoperability mode (b11826).  <a href="#a0044ba97696e52907ae6f670b03186ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct dt_it *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a50e706bc5882fca1d582e9be3ecc3e30">osd_it_iam_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, __u32 unused)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize osd Iterator for given osd index object.  <a href="#a50e706bc5882fca1d582e9be3ecc3e30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a036e858fa7e4557811e6d4d9a4326a2b">osd_it_iam_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">free given Iterator.  <a href="#a036e858fa7e4557811e6d4d9a4326a2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a4e1d0e5686800730a4eddb3945c6f942">osd_it_iam_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move Iterator to record specified by <em>key</em>.  <a href="#a4e1d0e5686800730a4eddb3945c6f942"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab734a34cbcd06767369364225ce11d99">osd_it_iam_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release Iterator.  <a href="#ab734a34cbcd06767369364225ce11d99"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a6d3d256b1beecd0a78c1f305b39a9ee5">osd_it_iam_next</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move iterator by one record.  <a href="#a6d3d256b1beecd0a78c1f305b39a9ee5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aeb639d757241029651088f8a1ab87699">osd_it_iam_key</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return pointer to the key under iterator.  <a href="#aeb639d757241029651088f8a1ab87699"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7ddaeee4aa271369d494f5bf77716612">osd_it_iam_key_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return size of key under iterator (in bytes).  <a href="#a7ddaeee4aa271369d494f5bf77716612"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a55ac01000a798291a6b6b59806d17d58">osd_it_append_attrs</a> (struct <a class="el" href="structlu__dirent.html">lu_dirent</a> *ent, int len, __u16 type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#adaa4f50dffcd4ffa7d1101bc90eeaf6a">osd_it_pack_dirent</a> (struct <a class="el" href="structlu__dirent.html">lu_dirent</a> *ent, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> offset, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, __u16 namelen, __u16 type, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">build lu direct from backend fs dirent.  <a href="#adaa4f50dffcd4ffa7d1101bc90eeaf6a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a8e645d1204c3b91ba42afd3bd1a225d4">osd_it_iam_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, struct dt_rec *dtrec, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return pointer to the record under iterator.  <a href="#a8e645d1204c3b91ba42afd3bd1a225d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a3a77cfd533d9d83cb54f98d7fee1e77f">osd_it_iam_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns cookie for current Iterator position.  <a href="#a3a77cfd533d9d83cb54f98d7fee1e77f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ac5490456b86b3e9da68dd0a29022b0da">osd_it_iam_load</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> hash)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Restore iterator from cookie.  <a href="#ac5490456b86b3e9da68dd0a29022b0da"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct dt_it *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a38ba8bc6c3d6ab7be6cf241948b83aed">osd_it_ea_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates or initializes iterator context.  <a href="#a38ba8bc6c3d6ab7be6cf241948b83aed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a022c712bb76d8ce78c9cb02884af42ac">osd_it_ea_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy or finishes iterator context.  <a href="#a022c712bb76d8ce78c9cb02884af42ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#af9b970941879f443fbc8b553b546373a">osd_it_ea_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It position the iterator at given key, so that next lookup continues from that key Or it is similar to dio_it-&gt;load() but based on a key, rather than file position.  <a href="#af9b970941879f443fbc8b553b546373a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7b218e7b8fd45a565033c030e6e27d6d">osd_it_ea_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Does nothing.  <a href="#a7b218e7b8fd45a565033c030e6e27d6d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a5280e9da97c7c431f7b88669b6d9602b">osd_ldiskfs_filldir</a> (void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int namelen, loff_t offset, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ino, unsigned d_type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It is called internally by -&gt;readdir().  <a href="#a5280e9da97c7c431f7b88669b6d9602b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1f98f35468bc147b1b98f63f6f1db571">osd_ldiskfs_it_fill</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calls -&gt;readdir() to load a directory entry at a time and stored it in iterator's in-memory data structure.  <a href="#a1f98f35468bc147b1b98f63f6f1db571"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab8cf9e71a9dfd8e48569c9f7e788aade">osd_it_ea_next</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It calls <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1f98f35468bc147b1b98f63f6f1db571" title="Calls -&gt;readdir() to load a directory entry at a time and stored it in iterator&#39;s...">osd_ldiskfs_it_fill()</a> which will use -&gt;readdir() to load a directory entry at a time and stored it in iterator's in-memory data structure.  <a href="#ab8cf9e71a9dfd8e48569c9f7e788aade"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1ffa3b6f47dd1f461ff5d2c915f9eec9">osd_it_ea_key</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the key at current position from iterator's in memory structure.  <a href="#a1ffa3b6f47dd1f461ff5d2c915f9eec9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a29cd004f5272c410468b8874a37f627b">osd_it_ea_key_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the key's size at current position from iterator's in memory structure.  <a href="#a29cd004f5272c410468b8874a37f627b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1ef77ead71318e82508e5326d2f1924d">osd_dot_dotdot_has_space</a> (struct ldiskfs_dir_entry_2 *de, int dot_dotdot)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a138cb5ecf74d13e3d66d4aea6e90cc04">osd_dirent_has_space</a> (struct ldiskfs_dir_entry_2 *de, __u16 namelen, unsigned blocksize, int dot_dotdot)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a404455eb7047cf2c547690ccef9d719a">osd_dirent_reinsert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, handle_t *jh, struct dentry *dentry, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct buffer_head *bh, struct ldiskfs_dir_entry_2 *de, struct htree_lock *hlock, int dot_dotdot)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a6a78c4ae6ec19d8506f1e5c17d4d3a3f">osd_dirent_check_repair</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__object.html">osd_object</a> *obj, struct <a class="el" href="structosd__it__ea.html">osd_it_ea</a> *it, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, __u32 *attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a2737b2d1c31f6c08876328734880de09">osd_it_ea_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, struct dt_rec *dtrec, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the value at current position from iterator's in memory structure.  <a href="#a2737b2d1c31f6c08876328734880de09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a67becec3bb64ffe9a3967125aa2f196a">osd_it_ea_rec_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the record size size at current position.  <a href="#a67becec3bb64ffe9a3967125aa2f196a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a49670eecc060ce2be5c05ded521e988a">osd_it_ea_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a cookie for current position of the iterator head, so that user can use this cookie to load/start the iterator next time.  <a href="#a49670eecc060ce2be5c05ded521e988a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aab048f5b77747159400c001bd7935586">osd_it_ea_load</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> hash)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It calls <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1f98f35468bc147b1b98f63f6f1db571" title="Calls -&gt;readdir() to load a directory entry at a time and stored it in iterator&#39;s...">osd_ldiskfs_it_fill()</a> which will use -&gt;readdir() to load a directory entry at a time and stored it i inn, in iterator's in-memory data structure.  <a href="#aab048f5b77747159400c001bd7935586"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a704eb9e17b1cd5fc06862d39d634d035">osd_index_ea_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index lookup function for interoperability mode (b11826).  <a href="#a704eb9e17b1cd5fc06862d39d634d035"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a2f0d2c31ef2ece6f47d23ccc53c93f2e">osd_key_init</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ae84baacaddbc0fec104e3d62f66cef9e">osd_key_fini</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a9cf636ce8bf2937e5417ab417502eeaf">osd_key_exit</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a6c22d1bbc3168e60439d0aec5241aa8a">LU_TYPE_INIT_FINI</a> (osd,&amp;<a class="el" href="osd-zfs_2osd__internal_8h.html#aeec1bbe93dd8e9437856bc428708caa4">osd_key</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a75f0571fe8ca734311bc51378ad44251">osd_device_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structlu__device.html">lu_device</a> *next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a20dd9dc177e63706a4074ba5af002eb1">osd_fid_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a459240fb2a20daec5f3c2efde6f9c3e3">osd_fid_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *osd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab7532bf2eebe4169bc7de5b0f70cb7d9">osd_shutdown</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a73e49c78bd0eabb0018de99cb75052fc">osd_umount</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1cb3f1b42a9cd729412d2ed0ac1fa06e">osd_mount</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *o, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ad471f191db233aea3b8441cdffc360cb">osd_device_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a782d693aab95e6c8ae8d4f21d5823abe">osd_device_init0</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *o, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a4c2419759ab5a3c5907d9c52987ef422">osd_device_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *t, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a0d7bcd05b273464f91d1110e4ffb7748">osd_device_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ae02a43ae598bb1c1ae6ad78e93f2404b">osd_process_config</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ada2170472b1fb89d6a4a521866552f52">osd_recovery_complete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a87881f83ad267ff320ac3c9f8551f651">osd_obd_connect</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> **exp, struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *cluuid, struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *data, void *localdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ab3feaf4eba85748c8149b82553c04ec7">osd_obd_disconnect</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a12f1893815ed9f47db04de91fd6255d6">osd_prepare</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *pdev, struct <a class="el" href="structlu__device.html">lu_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a8e45b6c8acfeeae66b89830f58c46dc4">osd_fid_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *op_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a0a07c825e7505aa47b2edff203b6af51">osd_health_check</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int __init&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aa5303ec283dbd3b4209948507623d193">osd_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void __exit&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aa7cff774f9a77f832ebf4d233d9c5efc">osd_exit</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#adc10f40acba3bb9b2640e985276b0a7c">MODULE_AUTHOR</a> (&quot;OpenSFS, Inc. &lt;http://www.lustre.org/&gt;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#adbf831dc60dc6dd85ec63780f2e5f87a">MODULE_DESCRIPTION</a> (&quot;Lustre Object Storage Device (&quot;LUSTRE_OSD_LDISKFS_NAME&quot;)&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ae9c321be2136fb8501887ee69dac11a2">MODULE_VERSION</a> (LUSTRE_VERSION_STRING)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ad94b36675e7eb067ea3ce6ff9e244a44">MODULE_LICENSE</a> (&quot;GPL&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a075ad34b5277d0163faadd000f981a43">module_init</a> (osd_init)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a604753191d4289798c41c2f843669975">module_exit</a> (osd_exit)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a3215c9997e34962b3f09a573dfd8ea39">ldiskfs_pdo</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a9de56a4f2fb731a6a3521d1762bcf984">ldiskfs_track_declares_assert</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a910895d69a79a724854f18a2ca888b2e">dynlock_cachep</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a09679a364db130332b8643d023e57a43">osd_itea_cachep</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a91d04b688d67b92460e3268dce22f54c">ldiskfs_caches</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#abe6cafa537717678814801ed8d6cb180">dot</a> [] = &quot;.&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7914eee395b20d62ae6bc4a189f3a468">dotdot</a> [] = &quot;..&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aa0139ba183372cc4e157e932ac2d64e2">remote_obj_dir</a> [] = &quot;REM_OBJ_DIR&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a721a2c7a2741e00356f3711b548029f9">osd_lu_obj_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a6ce531672589613935817f964564a5ae">osd_obj_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a91489ef85b0ec1f065f0824ecc5c2482">osd_obj_ea_ops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="structdt__object__operations.html" title="A dt_object provides common operations to create and destroy objects and to manage...">dt_object_operations</a> for interoperability mode (i.e.  <a href="#a91489ef85b0ec1f065f0824ecc5c2482"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7c3c42021e75655b20f87cf4df79f17a">osd_obj_otable_it_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a26bea11abb0ea4fb2dc6ddaa607b7a48">osd_index_iam_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#afc66377b7930afd272aa09cd2b02d6bb">osd_index_ea_ops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index and Iterator operations for interoperability mode (i.e.  <a href="#afc66377b7930afd272aa09cd2b02d6bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a83377d22d7c0dbe8d0669bfa1f206095">osd_trans_declare_op2rb</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a629dd8c8b646bfa837e2dfe966091175">osd_dto_credits_noquota</a> [DTO_NR]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Note: we do not count into QUOTA here.  <a href="#a629dd8c8b646bfa837e2dfe966091175"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__device__operations.html">dt_device_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aa7cdc85c4aa2b8df3fdb7c6002981e13">osd_dt_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__context__key.html">lu_context_key</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aeec1bbe93dd8e9437856bc428708caa4">osd_key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a3d60ffc9efe910c72a37d09413b5c0d6">osd_lu_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <br class="typebreak"/>
<a class="el" href="structlu__device__type__operations.html">lu_device_type_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a33ce5a53b0b97e708dbd5ee4e7025a88">osd_device_type_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device__type.html">lu_device_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a919841195629ecbb654d9ec7408977d7">osd_device_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structobd__ops.html">obd_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__handler_8c.html#ae9fdda838244d0f97140d0763a06f518">osd_obd_device_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="osd_handler.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_OSD</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00044">44</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="acc02ad6efbdb92503a530577c19567b3"></a><!-- doxytag: member="osd_handler.c::OSD_CHECK_SLOW_TH" ref="acc02ad6efbdb92503a530577c19567b3" args="(oth, dev, expr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSD_CHECK_SLOW_TH</td>
          <td>(</td>
          <td class="paramtype">oth, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dev, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">expr&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;expr</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01164">1164</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01413">osd_trans_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a10b789c8f4fdee0d797e2cccc07bf8e8"></a><!-- doxytag: member="osd_handler.c::osd_th_alloced" ref="a10b789c8f4fdee0d797e2cccc07bf8e8" args="(h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define osd_th_alloced</td>
          <td>(</td>
          <td class="paramtype">h&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;do {} while(0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01162">1162</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01216">osd_trans_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a20449084f58930e82ac2e17f9f9144dd"></a><!-- doxytag: member="osd_handler.c::osd_th_started" ref="a20449084f58930e82ac2e17f9f9144dd" args="(h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define osd_th_started</td>
          <td>(</td>
          <td class="paramtype">h&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;do {} while(0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01163">1163</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01303">osd_trans_start()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4b34874ea04da56cd81b5cab96f3ae8"></a><!-- doxytag: member="osd_handler.c::PER_OBJ_USAGE" ref="aa4b34874ea04da56cd81b5cab96f3ae8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PER_OBJ_USAGE&nbsp;&nbsp;&nbsp;LDISKFS_DIR_REC_LEN(20)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Estimate space needed for file creations. </p>
<p>We assume the largest filename which is 2^64 - 1, hence a filename of 20 chars. This is 28 bytes per object which is 28MB for 1M objects ... no so bad. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01651">1651</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01657">osd_conf_get()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a2740682d411ce19397d5eb22ad45d052"></a><!-- doxytag: member="osd_handler.c::osd_obj_type_f" ref="a2740682d411ce19397d5eb22ad45d052" args=")(struct osd_thread_info *, struct osd_object *, struct lu_attr *, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="osd__object_8c.html#a6e7eaa662da5292c55cbafe7893377b5">osd_obj_type_f</a>)(struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *, struct <a class="el" href="structosd__object.html">osd_object</a> *, struct <a class="el" href="structlu__attr.html">lu_attr</a> *, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02460">2460</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a85c7862086c1f92e4fb4108e176d8140"></a><!-- doxytag: member="osd_handler.c::@143" ref="a85c7862086c1f92e4fb4108e176d8140" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a85c7862086c1f92e4fb4108e176d8140a9e533fb5b884922797c5a848e5b71e9d"></a><!-- doxytag: member="OSD_TXN_OI_DELETE_CREDITS" ref="a85c7862086c1f92e4fb4108e176d8140a9e533fb5b884922797c5a848e5b71e9d" args="" -->OSD_TXN_OI_DELETE_CREDITS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a85c7862086c1f92e4fb4108e176d8140a2425e68c1459747e13176f3ac50373ab"></a><!-- doxytag: member="OSD_TXN_INODE_DELETE_CREDITS" ref="a85c7862086c1f92e4fb4108e176d8140a2425e68c1459747e13176f3ac50373ab" args="" -->OSD_TXN_INODE_DELETE_CREDITS</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01083">1083</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a52864abcf6ebd8d120995b36fe6ce06e"></a><!-- doxytag: member="osd_handler.c::@144" ref="a52864abcf6ebd8d120995b36fe6ce06e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a52864abcf6ebd8d120995b36fe6ce06ea197f261586d57ae2b7cbe04f2d78e4d1"></a><!-- doxytag: member="OSD_NAME_LEN" ref="a52864abcf6ebd8d120995b36fe6ce06ea197f261586d57ae2b7cbe04f2d78e4d1" args="" -->OSD_NAME_LEN</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02350">2350</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a54e48c705ed0d03fdc259560e766802f"></a><!-- doxytag: member="osd_handler.c::__osd_ea_add_rec" ref="a54e48c705ed0d03fdc259560e766802f" args="(struct osd_thread_info *info, struct osd_object *pobj, struct inode *cinode, const char *name, const struct lu_fid *fid, struct htree_lock *hlock, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __osd_ea_add_rec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>pobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>cinode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct htree_lock *&nbsp;</td>
          <td class="paramname"> <em>hlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calls ldiskfs_add_entry() to add directory entry into the directory. </p>
<p>This is required for interoperability mode (b11826)</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0,on</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04240">4240</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00555">OBD_FAIL_LFSCK_BAD_TYPE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02291">osd_child_dentry_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02889">osd_get_ldiskfs_dirent_param()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00436">osd_ldiskfs_add_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00603">osd_thread_info::oti_ldp</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04305">osd_add_dot_dotdot()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04362">osd_ea_add_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="ae1f8cbd89c5ad17a5386f2d042a17295"></a><!-- doxytag: member="osd_handler.c::__osd_object_create" ref="ae1f8cbd89c5ad17a5386f2d042a17295" args="(struct osd_thread_info *info, struct osd_object *obj, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __osd_object_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function for <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aaa893ad91ccae2c40ab9964e84aea966">osd_object_create()</a>. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0,on</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02554">2554</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00396">dt_object_format::dof_type</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02511">osd_attr_init()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02466">osd_create_type_f()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00989">osd_object_init0()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00338">OSD_OT_CREATE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02691">osd_object_create()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03108">osd_object_ea_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ac154991c406be967f3808e3cb7a0bcb8"></a><!-- doxytag: member="osd_handler.c::__osd_oi_insert" ref="ac154991c406be967f3808e3cb7a0bcb8" args="(const struct lu_env *env, struct osd_object *obj, const struct lu_fid *fid, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __osd_oi_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function for <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aaa893ad91ccae2c40ab9964e84aea966">osd_object_create()</a>. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0,on</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02597">2597</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd__oi_8h_source.html#l00137">OI_CHECK_FLD</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00343">OSD_OT_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00538">osd_thread_info::oti_id</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02691">osd_object_create()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03108">osd_object_ea_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c22d1bbc3168e60439d0aec5241aa8a"></a><!-- doxytag: member="osd_handler.c::LU_TYPE_INIT_FINI" ref="a6c22d1bbc3168e60439d0aec5241aa8a" args="(osd,&amp;osd_key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_TYPE_INIT_FINI </td>
          <td>(</td>
          <td class="paramtype">osd&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&nbsp;</td>
          <td class="paramname"> <em>osd_key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adc10f40acba3bb9b2640e985276b0a7c"></a><!-- doxytag: member="osd_handler.c::MODULE_AUTHOR" ref="adc10f40acba3bb9b2640e985276b0a7c" args="(&quot;OpenSFS, Inc. &lt;http://www.lustre.org/&gt;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_AUTHOR </td>
          <td>(</td>
          <td class="paramtype">&quot;&nbsp;</td>
          <td class="paramname"> <em>OpenSFS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Inc.&lt; http://www.lustre.org/&gt;&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adbf831dc60dc6dd85ec63780f2e5f87a"></a><!-- doxytag: member="osd_handler.c::MODULE_DESCRIPTION" ref="adbf831dc60dc6dd85ec63780f2e5f87a" args="(&quot;Lustre Object Storage Device (&quot;LUSTRE_OSD_LDISKFS_NAME&quot;)&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_DESCRIPTION </td>
          <td>(</td>
          <td class="paramtype">&quot;Lustre Object Storage Device (&quot;LUSTRE_OSD_LDISKFS_NAME&quot;)&quot;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a604753191d4289798c41c2f843669975"></a><!-- doxytag: member="osd_handler.c::module_exit" ref="a604753191d4289798c41c2f843669975" args="(osd_exit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_exit </td>
          <td>(</td>
          <td class="paramtype">osd_exit&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a075ad34b5277d0163faadd000f981a43"></a><!-- doxytag: member="osd_handler.c::module_init" ref="a075ad34b5277d0163faadd000f981a43" args="(osd_init)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_init </td>
          <td>(</td>
          <td class="paramtype">osd_init&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad94b36675e7eb067ea3ce6ff9e244a44"></a><!-- doxytag: member="osd_handler.c::MODULE_LICENSE" ref="ad94b36675e7eb067ea3ce6ff9e244a44" args="(&quot;GPL&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_LICENSE </td>
          <td>(</td>
          <td class="paramtype">&quot;GPL&quot;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad67d136f49ddc822cf611850691dcc37"></a><!-- doxytag: member="osd_handler.c::module_param" ref="ad67d136f49ddc822cf611850691dcc37" args="(ldiskfs_track_declares_assert, int, 0644)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a9de56a4f2fb731a6a3521d1762bcf984">ldiskfs_track_declares_assert</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0644&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac0b7d443b20c0a5456ebdb663a6b3fde"></a><!-- doxytag: member="osd_handler.c::module_param" ref="ac0b7d443b20c0a5456ebdb663a6b3fde" args="(ldiskfs_pdo, int, 0644)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a3215c9997e34962b3f09a573dfd8ea39">ldiskfs_pdo</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0644&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac2fbcee3f5793e76606bce40b2ebe29b"></a><!-- doxytag: member="osd_handler.c::MODULE_PARM_DESC" ref="ac2fbcee3f5793e76606bce40b2ebe29b" args="(ldiskfs_track_declares_assert,&quot;LBUG during tracking of declares&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a9de56a4f2fb731a6a3521d1762bcf984">ldiskfs_track_declares_assert</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;LBUG during tracking of declares&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a98213ab7e48c41ecd007cab2620f4106"></a><!-- doxytag: member="osd_handler.c::MODULE_PARM_DESC" ref="a98213ab7e48c41ecd007cab2620f4106" args="(ldiskfs_pdo,&quot;ldiskfs with parallel directory operations&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a3215c9997e34962b3f09a573dfd8ea39">ldiskfs_pdo</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;ldiskfs with parallel <a class="el" href="mdsrate_8c.html#ae200ffe5a8144d902ca2c3413ff7329d">directory</a> operations&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9c321be2136fb8501887ee69dac11a2"></a><!-- doxytag: member="osd_handler.c::MODULE_VERSION" ref="ae9c321be2136fb8501887ee69dac11a2" args="(LUSTRE_VERSION_STRING)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_VERSION </td>
          <td>(</td>
          <td class="paramtype">LUSTRE_VERSION_STRING&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4387088b509515702a0dc9fecf0f392e"></a><!-- doxytag: member="osd_handler.c::osd_add_dot_dotdot" ref="a4387088b509515702a0dc9fecf0f392e" args="(struct osd_thread_info *info, struct osd_object *dir, struct inode *parent_dir, const char *name, const struct lu_fid *dot_fid, const struct lu_fid *dot_dot_fid, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_add_dot_dotdot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>parent_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>dot_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>dot_dot_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calls ldiskfs_add_dot_dotdot() to add dot and dotdot entries into the directory.Also sets flags into osd object to indicate dot and dotdot are created. </p>
<p>This is required for interoperability mode (b11826)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>directory for dot and dotdot fixup. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>child object for linking</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0,on</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04305">4305</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04240">__osd_ea_add_rec()</a>, <a class="el" href="lustre__user_8h_source.html#l00147">lu_fid::f_oid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00551">OBD_FAIL_LFSCK_BAD_PARENT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00144">osd_object::oo_compat_dot_created</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00145">osd_object::oo_compat_dotdot_created</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02927">osd_add_dot_dotdot_internal()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04362">osd_ea_add_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="ace3847382f40cbd87c80330592388c5f"></a><!-- doxytag: member="osd_handler.c::osd_add_dot_dotdot_internal" ref="ace3847382f40cbd87c80330592388c5f" args="(struct osd_thread_info *info, struct inode *dir, struct inode *parent_dir, const struct lu_fid *dot_fid, const struct lu_fid *dot_dot_fid, struct osd_thandle *oth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_add_dot_dotdot_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>parent_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>dot_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>dot_dot_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>oth</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02927">2927</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02889">osd_get_ldiskfs_dirent_param()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00603">osd_thread_info::oti_ldp</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00604">osd_thread_info::oti_ldp2</a>, and <a class="el" href="lustre__compat_8h_source.html#l00316">set_nlink()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04305">osd_add_dot_dotdot()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02967">osd_create_local_agent_inode()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a92ec612fb05e9eb42cfb6b91310933"></a><!-- doxytag: member="osd_handler.c::osd_add_oi_cache" ref="a6a92ec612fb05e9eb42cfb6b91310933" args="(struct osd_thread_info *info, struct osd_device *osd, struct osd_inode_id *id, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osd_add_oi_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04508">4508</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="osd__oi_8h_source.html#l00090">osd_idmap_cache::oic_dev</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00577">osd_thread_info::oti_cache</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05862">osd_it_ea_rec()</a>, and <a class="el" href="osd__compat_8c_source.html#l00311">osd_lookup_in_remote_parent()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf7119b072f35baec6fa0bbd137f0710"></a><!-- doxytag: member="osd_handler.c::osd_ah_init" ref="aaf7119b072f35baec6fa0bbd137f0710" args="(const struct lu_env *env, struct dt_allocation_hint *ah, struct dt_object *parent, struct dt_object *child, umode_t child_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_ah_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>ah</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">umode_t&nbsp;</td>
          <td class="paramname"> <em>child_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02495">2495</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00373">dt_allocation_hint::dah_mode</a>, <a class="el" href="dt__object_8h_source.html#l00370">dt_allocation_hint::dah_parent</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00293">osd_idc_find_and_init()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>.</p>

</div>
</div>
<a class="anchor" id="aef013c42695073284fd80f920c7a72a7"></a><!-- doxytag: member="osd_handler.c::osd_attr_get" ref="aef013c42695073284fd80f920c7a72a7" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_attr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01953">1953</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lustre__idl_8h_source.html#l02135">LUSTRE_ORPHAN_FL</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00135">osd_object::oo_destroyed</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00133">osd_object::oo_guard</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00138">osd_object::oo_lma_flags</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01930">osd_inode_getattr()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a27766d837df6f75c59df19f771a18667"></a><!-- doxytag: member="osd_handler.c::osd_attr_init" ref="a27766d837df6f75c59df19f771a18667" args="(struct osd_thread_info *info, struct osd_object *obj, struct lu_attr *attr, struct dt_object_format *dof)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_attr_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02511">2511</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="dt__object_8h_source.html#l00384">DFT_NODE</a>, <a class="el" href="dt__object_8h_source.html#l00396">dt_object_format::dof_type</a>, <a class="el" href="lu__object_8h_source.html#l00413">lu_attr::la_atime</a>, <a class="el" href="lu__object_8h_source.html#l00444">LA_ATIME</a>, <a class="el" href="lu__object_8h_source.html#l00415">lu_attr::la_ctime</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00411">lu_attr::la_mtime</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00455">LA_RDEV</a>, <a class="el" href="lu__object_8h_source.html#l00452">LA_TYPE</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__compat_8h_source.html#l00344">ll_dirty_inode</a>, <a class="el" href="lustre__compat_8h_source.html#l00094">LTIME_S</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02123">osd_inode_setattr()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02172">osd_quota_transfer()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02554">__osd_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a546ba6151957c930a55b4f884a299ec8"></a><!-- doxytag: member="osd_handler.c::osd_attr_set" ref="a546ba6151957c930a55b4f884a299ec8" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_attr *attr, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02199">2199</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00477">__osd_xattr_set()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="osd__iam_8c_source.html#l02633">iam_update()</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="lu__object_8h_source.html#l00453">LA_FLAGS</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__compat_8h_source.html#l00344">ll_dirty_inode</a>, <a class="el" href="lustre__user_8h_source.html#l00198">lustre_mdt_attrs::lma_incompat</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l02137">LUSTRE_LMA_FL_MASKS</a>, <a class="el" href="md__attrs_8c_source.html#l00064">lustre_lma_swab()</a>, <a class="el" href="lustre__idl_8h_source.html#l02147">lustre_to_lma_flags()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00273">OBD_FAIL_OSD_FID_MAPPING</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00110">osd_oi::oi_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00133">osd_object::oo_guard</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00138">osd_object::oo_lma_flags</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00853">osd_fid2oi()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00957">osd_idx_ipd_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02123">osd_inode_setattr()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00964">osd_ipd_put()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00335">OSD_OT_ATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00337">OSD_OT_XATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02172">osd_quota_transfer()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00538">osd_thread_info::oti_id</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__idl_8h_source.html#l01595">XATTR_NAME_LMA</a>.</p>

</div>
</div>
<a class="anchor" id="adbdf82f746a1173dac1e86a673b19fbd"></a><!-- doxytag: member="osd_handler.c::osd_check_lma" ref="adbdf82f746a1173dac1e86a673b19fbd" args="(const struct lu_env *env, struct osd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_check_lma </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00691">691</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00227">__osd_xattr_get()</a>, <a class="el" href="libcfs__fail_8h_source.html#l00104">CFS_FAIL_CHECK</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00525">fid_idif_ost_idx()</a>, <a class="el" href="lustre__idl_8h_source.html#l00462">fid_is_idif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00447">fid_is_igif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="lustre__user_8h_source.html#l00198">lustre_mdt_attrs::lma_incompat</a>, <a class="el" href="lustre__idl_8h_source.html#l00200">LMA_INCOMPAT_SUPP</a>, <a class="el" href="lustre__user_8h_source.html#l00208">LMA_OLD_SIZE</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00184">LMAC_FID_ON_OST</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="md__attrs_8c_source.html#l00064">lustre_lma_swab()</a>, <a class="el" href="obd__support_8h_source.html#l00274">OBD_FAIL_OSD_LMA_INCOMPAT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_check_ff</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_index_in_idif</a>, <a class="el" href="structost__id.html#a01d44bff8859d8cd3aabe8a4b0c2ee46">ost_id::oi</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00641">osd_get_idif()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00665">osd_lma_self_repair()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="lustre__idl_8h_source.html#l00659">ostid_to_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00537">osd_thread_info::oti_fid3</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00594">osd_thread_info::oti_mdt_attrs_old</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__idl_8h_source.html#l01595">XATTR_NAME_LMA</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a980025c1584a4deab460677c47af13bc"></a><!-- doxytag: member="osd_handler.c::osd_child_dentry_get" ref="a980025c1584a4deab460677c47af13bc" args="(const struct lu_env *env, struct osd_object *obj, const char *name, const int namelen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct dentry* osd_child_dentry_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>namelen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02291">2291</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00980">osd_child_dentry_by_inode()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04240">__osd_ea_add_rec()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03973">osd_index_ea_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="ad91a97b98654f2ae5119a4756ac088c9"></a><!-- doxytag: member="osd_handler.c::osd_commit_async" ref="ad91a97b98654f2ae5119a4756ac088c9" args="(const struct lu_env *env, struct dt_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_commit_async </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start commit for OSD device. </p>
<p>An implementation of dt_commit_async method for OSD device. Asychronously starts underlayng fs sync and thereby a transaction commit.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>environment </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td>dt device</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__device__operations.html" title="Operations on dt device.">dt_device_operations</a> </dd></dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01735">1735</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="obd_8h_source.html#l00447">LUSTRE_OSD_LDISKFS_NAME</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00872">osd_dt_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a7f7524388930e4573ea49c41c7eb3529"></a><!-- doxytag: member="osd_handler.c::osd_conf_get" ref="a7f7524388930e4573ea49c41c7eb3529" args="(const struct lu_env *env, const struct dt_device *dev, struct dt_device_param *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_conf_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device__param.html">dt_device_param</a> *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01657">1657</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00091">dt_device_param::ddp_extent_tax</a>, <a class="el" href="dt__object_8h_source.html#l00086">dt_device_param::ddp_inodespace</a>, <a class="el" href="dt__object_8h_source.html#l00082">dt_device_param::ddp_max_ea_size</a>, <a class="el" href="dt__object_8h_source.html#l00088">dt_device_param::ddp_max_extent_blks</a>, <a class="el" href="dt__object_8h_source.html#l00078">dt_device_param::ddp_max_name_len</a>, <a class="el" href="dt__object_8h_source.html#l00079">dt_device_param::ddp_max_nlink</a>, <a class="el" href="dt__object_8h_source.html#l00084">dt_device_param::ddp_maxbytes</a>, <a class="el" href="dt__object_8h_source.html#l00081">dt_device_param::ddp_mntopts</a>, <a class="el" href="dt__object_8h_source.html#l00083">dt_device_param::ddp_mount_type</a>, <a class="el" href="dt__object_8h_source.html#l00080">dt_device_param::ddp_symlink_max</a>, <a class="el" href="lustre__disk_8h_source.html#l00122">LDD_MT_LDISKFS</a>, <a class="el" href="dt__object_8h_source.html#l00074">MNTOPT_ACL</a>, <a class="el" href="dt__object_8h_source.html#l00073">MNTOPT_USERXATTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00872">osd_dt_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01651">PER_OBJ_USAGE</a>.</p>

</div>
</div>
<a class="anchor" id="a308325283bd3988f8fd744423f2442c9"></a><!-- doxytag: member="osd_handler.c::osd_consistency_check" ref="a308325283bd3988f8fd744423f2442c9" args="(struct osd_thread_info *oti, struct osd_device *dev, struct osd_idmap_cache *oic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_consistency_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>oti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>oic</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">4413</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00154">D_CONSOLE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00447">fid_is_igif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00477">fid_is_norm()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_noscrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__oi_8h_source.html#l00121">osd_id_eq()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, <a class="el" href="osd__scrub_8c_source.html#l02935">osd_oii_insert()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l02442">osd_scrub_start()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00538">osd_thread_info::oti_id</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00103">SS_AUTO_PARTIAL</a>, <a class="el" href="osd__scrub_8h_source.html#l00109">SS_CLEAR_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00094">SS_CLEAR_FAILOUT</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="a01a2584f0e1348bfd375fc64a463abed"></a><!-- doxytag: member="osd_handler.c::osd_create_local_agent_inode" ref="a01a2584f0e1348bfd375fc64a463abed" args="(const struct lu_env *env, struct osd_device *osd, struct osd_object *pobj, const struct lu_fid *fid, __u32 type, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct inode* osd_create_local_agent_inode </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>pobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create an local agent inode for remote entry. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02967">2967</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00081">LDISKFS_STATE_LUSTRE_NOSCRUB</a>, <a class="el" href="lustre__idl_8h_source.html#l00195">LMAI_AGENT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02927">osd_add_dot_dotdot_internal()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04766">osd_index_ea_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a5da8e05ed21843bb81e50b27a357b38a"></a><!-- doxytag: member="osd_handler.c::osd_create_type_f" ref="a5da8e05ed21843bb81e50b27a357b38a" args="(enum dt_format_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="osd__object_8c.html#a6e7eaa662da5292c55cbafe7893377b5">osd_obj_type_f</a> osd_create_type_f </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__dt.html#ga51d4c45efee77175aa61574dbc46b53e">dt_format_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02466">2466</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00382">DFT_DIR</a>, <a class="el" href="dt__object_8h_source.html#l00386">DFT_INDEX</a>, <a class="el" href="dt__object_8h_source.html#l00384">DFT_NODE</a>, <a class="el" href="dt__object_8h_source.html#l00381">DFT_REGULAR</a>, <a class="el" href="dt__object_8h_source.html#l00388">DFT_SYM</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02373">osd_mk_index()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02354">osd_mkdir()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02432">osd_mknod()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02410">osd_mkreg()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02421">osd_mksym()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02554">__osd_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a431704ecbdd131861aca8b13f930dceb"></a><!-- doxytag: member="osd_handler.c::osd_declare_attr_set" ref="a431704ecbdd131861aca8b13f930dceb" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_attr *attr, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_declare_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01976">1976</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00381">DTO_ATTR_SET_BASE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00382">DTO_XATTR_SET</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00763">i_gid_read()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00758">i_uid_read()</a>, <a class="el" href="lu__object_8h_source.html#l00423">lu_attr::la_gid</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__quota_8h_source.html#l00191">lquota_id_info::lqi_id</a>, <a class="el" href="lustre__quota_8h_source.html#l00205">lquota_id_info::lqi_is_blk</a>, <a class="el" href="lustre__quota_8h_source.html#l00199">lquota_id_info::lqi_space</a>, <a class="el" href="lustre__quota_8h_source.html#l00195">lquota_id_info::lqi_type</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00504">osd_declare_qid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00335">OSD_OT_ATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00337">OSD_OT_XATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00615">osd_thread_info::oti_qi</a>, <a class="el" href="lustre__idl_8h_source.html#l01851">lquota_id::qid_gid</a>, <a class="el" href="lustre__idl_8h_source.html#l01850">lquota_id::qid_uid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01840">toqb</a>.</p>

</div>
</div>
<a class="anchor" id="a4ce35bb11a113577653fe79289af08a3"></a><!-- doxytag: member="osd_handler.c::osd_declare_object_create" ref="a4ce35bb11a113577653fe79289af08a3" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_declare_object_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02648">2648</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00386">DFT_INDEX</a>, <a class="el" href="dt__object_8h_source.html#l00396">dt_object_format::dof_type</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00376">DTO_INDEX_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00379">DTO_OBJECT_CREATE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00423">lu_attr::la_gid</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00590">osd_declare_inode_qid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00293">osd_idc_find_and_init()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00338">OSD_OT_CREATE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00343">OSD_OT_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a6dd981596d61fea6c11133b5cb307a2e"></a><!-- doxytag: member="osd_handler.c::osd_declare_object_destroy" ref="a6dd981596d61fea6c11133b5cb307a2e" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_declare_object_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called to destroy on-disk representation of the object. </p>
<p>Concurrency: must be locked </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02733">2733</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00377">DTO_INDEX_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00380">DTO_OBJECT_DELETE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00763">i_gid_read()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00758">i_uid_read()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00590">osd_declare_inode_qid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00293">osd_idc_find_and_init()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00344">OSD_OT_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00339">OSD_OT_DESTROY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a64ad4de2e613fbc62c5810706e28f343"></a><!-- doxytag: member="osd_handler.c::osd_declare_object_ref_add" ref="a64ad4de2e613fbc62c5810706e28f343" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_declare_object_ref_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03175">3175</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00381">DTO_ATTR_SET_BASE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00340">OSD_OT_REF_ADD</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>.</p>

</div>
</div>
<a class="anchor" id="aba7500664fd0edabde8a2375652b4dd3"></a><!-- doxytag: member="osd_handler.c::osd_declare_object_ref_del" ref="aba7500664fd0edabde8a2375652b4dd3" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_declare_object_ref_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03249">3249</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00381">DTO_ATTR_SET_BASE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00341">OSD_OT_REF_DEL</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>.</p>

</div>
</div>
<a class="anchor" id="a702a181910c59f4a55ee1e6cf8b0ce74"></a><!-- doxytag: member="osd_handler.c::osd_declare_xattr_del" ref="a702a181910c59f4a55ee1e6cf8b0ce74" args="(const struct lu_env *env, struct dt_object *dt, const char *name, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_declare_xattr_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03540">3540</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00382">DTO_XATTR_SET</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00337">OSD_OT_XATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00357">osd_thandle::ot_credits</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>.</p>

</div>
</div>
<a class="anchor" id="ab2d6b08a16dea10356bf1dd0bb35d3dd"></a><!-- doxytag: member="osd_handler.c::osd_declare_xattr_set" ref="ab2d6b08a16dea10356bf1dd0bb35d3dd" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_declare_xattr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03372">3372</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00227">__osd_xattr_get()</a>, <a class="el" href="gnilnd__modparams_8c_source.html#l00028">credits</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00382">DTO_XATTR_SET</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00909">LU_XATTR_REPLACE</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01491">osd_calc_bkmap_credits()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00337">OSD_OT_XATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="lustre__idl_8h_source.html#l01595">XATTR_NAME_LMA</a>, and <a class="el" href="lustre__idl_8h_source.html#l01600">XATTR_NAME_VERSION</a>.</p>

</div>
</div>
<a class="anchor" id="a4c2419759ab5a3c5907d9c52987ef422"></a><!-- doxytag: member="osd_handler.c::osd_device_alloc" ref="a4c2419759ab5a3c5907d9c52987ef422" args="(const struct lu_env *env, struct lu_device_type *t, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* osd_device_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06503">6503</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00164">dt_device_fini()</a>, <a class="el" href="dt__object_8c_source.html#l00157">dt_device_init()</a>, <a class="el" href="lu__object_8c_source.html#l01889">lu_env_refill()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00240">osd_device::od_dt_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00910">osd2lu_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">osd_device_init0()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="ad471f191db233aea3b8441cdffc360cb"></a><!-- doxytag: member="osd_handler.c::osd_device_fini" ref="ad471f191db233aea3b8441cdffc360cb" args="(const struct lu_env *env, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* osd_device_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06389">6389</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd__compat_8c_source.html#l00508">osd_obj_map_fini()</a>, <a class="el" href="osd__scrub_8c_source.html#l02662">osd_scrub_cleanup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06186">osd_shutdown()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06201">osd_umount()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a0d7bcd05b273464f91d1110e4ffb7748"></a><!-- doxytag: member="osd_handler.c::osd_device_free" ref="a0d7bcd05b273464f91d1110e4ffb7748" args="(const struct lu_env *env, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* osd_device_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06530">6530</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01535">cfs_hash_is_empty()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="dt__object_8c_source.html#l00164">dt_device_fini()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="libcfs__debug_8h_source.html#l00201">LIBCFS_DEBUG_MSG_DATA_DECL</a>, <a class="el" href="lu__object_8h_source.html#l00611">lu_site::ls_obj_hash</a>, <a class="el" href="lu__object_8h_source.html#l00619">lu_site::ls_top_dev</a>, <a class="el" href="lu__object_8c_source.html#l00491">lu_cdebug_printer()</a>, <a class="el" href="lu__object_8c_source.html#l01140">lu_site_fini()</a>, <a class="el" href="lu__object_8c_source.html#l00905">lu_site_print()</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00240">osd_device::od_dt_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00266">osd_device::od_site</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a75f0571fe8ca734311bc51378ad44251"></a><!-- doxytag: member="osd_handler.c::osd_device_init" ref="a75f0571fe8ca734311bc51378ad44251" args="(const struct lu_env *env, struct lu_device *d, const char *name, struct lu_device *next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_device_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>next</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06130">6130</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00285">osd_device::od_svname</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

</div>
</div>
<a class="anchor" id="a782d693aab95e6c8ae8d4f21d5823abe"></a><!-- doxytag: member="osd_handler.c::osd_device_init0" ref="a782d693aab95e6c8ae8d4f21d5823abe" args="(const struct lu_env *env, struct osd_device *o, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_device_init0 </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">6404</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="dt__object_8h_source.html#l01724">dt_device::dd_ops</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00319">FULL_SCRUB_THRESHOLD_RATE_DEFAULT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="lu__object_8h_source.html#l00623">lu_site::ls_bottom_dev</a>, <a class="el" href="lu__object_8h_source.html#l00627">lu_site::ls_linkage</a>, <a class="el" href="lu__object_8c_source.html#l01889">lu_env_refill()</a>, <a class="el" href="lu__object_8c_source.html#l01140">lu_site_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>, <a class="el" href="lu__object_8c_source.html#l01166">lu_site_init_finish()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00240">osd_device::od_dt_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00297">osd_device::od_full_scrub_ratio</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00301">osd_device::od_full_scrub_threshold_rate</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00259">osd_device::od_index</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00282">osd_device::od_ios_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_is_ost</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00304">osd_device::od_orphan_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00263">osd_device::od_osfs_lock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00279">osd_device::od_otable_mutex</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00260">osd_device::od_proc_entry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00289">osd_device::od_quota_slave</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00272">osd_device::od_read_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00271">osd_device::od_readcache_max_filesize</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00266">osd_device::od_site</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00285">osd_device::od_svname</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00273">osd_device::od_writethrough_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00316">OFSR_DEFAULT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00910">osd2lu_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06701">osd_lu_ops</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00843">OSD_MAX_CACHE_SIZE</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06216">osd_mount()</a>, <a class="el" href="osd__compat_8c_source.html#l00508">osd_obj_map_fini()</a>, <a class="el" href="osd__compat_8c_source.html#l00469">osd_obj_map_init()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd__scrub_8c_source.html#l02662">osd_scrub_cleanup()</a>, <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06201">osd_umount()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::prev</a>, <a class="el" href="qsd__lib_8c_source.html#l00557">qsd_init()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="obd__mount_8c_source.html#l00790">server_name2index()</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06503">osd_device_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a78c4ae6ec19d8506f1e5c17d4d3a3f"></a><!-- doxytag: member="osd_handler.c::osd_dirent_check_repair" ref="a6a78c4ae6ec19d8506f1e5c17d4d3a3f" args="(const struct lu_env *env, struct osd_object *obj, struct osd_it_ea *it, struct lu_fid *fid, struct osd_inode_id *id, __u32 *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_dirent_check_repair </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__it__ea.html">osd_it_ea</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">5548</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="gnilnd__modparams_8c_source.html#l00028">credits</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="llverdev_8c_source.html#l00112">devname</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00377">DTO_INDEX_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00376">DTO_INDEX_INSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__idl_8h_source.html#l00249">fid_oid()</a>, <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00791">LDISKFS_HT_MISC</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__user_8h_source.html#l00192">lustre_mdt_attrs::lma_compat</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="lustre__idl_8h_source.html#l00754">lu_igif_build()</a>, <a class="el" href="lustre__idl_8h_source.html#l00880">LUDA_IGNORE</a>, <a class="el" href="lustre__idl_8h_source.html#l00884">LUDA_REPAIR</a>, <a class="el" href="lustre__idl_8h_source.html#l00878">LUDA_UNKNOWN</a>, <a class="el" href="lustre__idl_8h_source.html#l00882">LUDA_UPGRADE</a>, <a class="el" href="lustre__idl_8h_source.html#l00886">LUDA_VERIFY_DRYRUN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00258">osd_device::od_dirent_journal</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00425">osd_it_ea_dirent::oied_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00429">osd_it_ea_dirent::oied_name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00427">osd_it_ea_dirent::oied_namelen</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00129">osd_object::oo_ext_idx_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00128">osd_object::oo_hl_head</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00980">osd_child_dentry_by_inode()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05489">osd_dirent_reinsert()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05462">osd_dot_dotdot_has_space()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00792">osd_journal_start_sb</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00533">osd_thread_info::oti_hlock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="lustre__fid_8h_source.html#l00235">REMOTE_PARENT_DIR_OID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05862">osd_it_ea_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="a138cb5ecf74d13e3d66d4aea6e90cc04"></a><!-- doxytag: member="osd_handler.c::osd_dirent_has_space" ref="a138cb5ecf74d13e3d66d4aea6e90cc04" args="(struct ldiskfs_dir_entry_2 *de, __u16 namelen, unsigned blocksize, int dot_dotdot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool osd_dirent_has_space </td>
          <td>(</td>
          <td class="paramtype">struct ldiskfs_dir_entry_2 *&nbsp;</td>
          <td class="paramname"> <em>de</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16&nbsp;</td>
          <td class="paramname"> <em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>blocksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dot_dotdot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05475">5475</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05462">osd_dot_dotdot_has_space()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05489">osd_dirent_reinsert()</a>.</p>

</div>
</div>
<a class="anchor" id="a404455eb7047cf2c547690ccef9d719a"></a><!-- doxytag: member="osd_handler.c::osd_dirent_reinsert" ref="a404455eb7047cf2c547690ccef9d719a" args="(const struct lu_env *env, handle_t *jh, struct dentry *dentry, const struct lu_fid *fid, struct buffer_head *bh, struct ldiskfs_dir_entry_2 *de, struct htree_lock *hlock, int dot_dotdot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_dirent_reinsert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>jh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&nbsp;</td>
          <td class="paramname"> <em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ldiskfs_dir_entry_2 *&nbsp;</td>
          <td class="paramname"> <em>de</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct htree_lock *&nbsp;</td>
          <td class="paramname"> <em>hlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dot_dotdot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05489">5489</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00420">osd_fid_pack::fp_area</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00419">osd_fid_pack::fp_len</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05475">osd_dirent_has_space()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02889">osd_get_ldiskfs_dirent_param()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00436">osd_ldiskfs_add_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00603">osd_thread_info::oti_ldp</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">osd_dirent_check_repair()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ef77ead71318e82508e5326d2f1924d"></a><!-- doxytag: member="osd_handler.c::osd_dot_dotdot_has_space" ref="a1ef77ead71318e82508e5326d2f1924d" args="(struct ldiskfs_dir_entry_2 *de, int dot_dotdot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool osd_dot_dotdot_has_space </td>
          <td>(</td>
          <td class="paramtype">struct ldiskfs_dir_entry_2 *&nbsp;</td>
          <td class="paramname"> <em>de</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dot_dotdot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05462">5462</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">osd_dirent_check_repair()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05475">osd_dirent_has_space()</a>.</p>

</div>
</div>
<a class="anchor" id="ae74dc7ebe014398477290e8a3e23356c"></a><!-- doxytag: member="osd_handler.c::osd_ea_add_rec" ref="ae74dc7ebe014398477290e8a3e23356c" args="(const struct lu_env *env, struct osd_object *pobj, struct inode *cinode, const char *name, const struct lu_fid *fid, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ea_add_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>pobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>cinode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It will call the appropriate osd_add* function and return the value, return by respective functions. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04362">4362</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04240">__osd_ea_add_rec()</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lustre__user_8h_source.html#l00153">lu_fid::f_ver</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00516">OBD_FAIL_FID_INDIR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00129">osd_object::oo_ext_idx_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00128">osd_object::oo_hl_head</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04305">osd_add_dot_dotdot()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00533">osd_thread_info::oti_hlock</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04766">osd_index_ea_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a2cf99a805c3d11ad43fe29256293e47e"></a><!-- doxytag: member="osd_handler.c::osd_ea_fid_get" ref="a2cf99a805c3d11ad43fe29256293e47e" args="(const struct lu_env *env, struct osd_object *obj, __u32 ino, struct lu_fid *fid, struct osd_inode_id *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ea_fid_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try to read the fid from inode ea into dt_rec. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fid</em>&nbsp;</td><td>object fid.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02910">2910</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00484">osd_iget_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05862">osd_it_ea_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="a961b35fafee504af03541e003ae1ddb1"></a><!-- doxytag: member="osd_handler.c::osd_ea_fid_set" ref="a961b35fafee504af03541e003ae1ddb1" args="(struct osd_thread_info *info, struct inode *inode, const struct lu_fid *fid, __u32 compat, __u32 incompat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_ea_fid_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>compat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>incompat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put the fid into <a class="el" href="structlustre__mdt__attrs.html" title="Following struct for object attributes, that will be kept inode&#39;s EA.">lustre_mdt_attrs</a>, and then place the structure inode's ea. </p>
<p>This fid should not be altered during the life time of the inode.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+ve,on</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error</td></tr>
  </table>
  </dd>
</dl>
<p>FIXME: It is good to have/use ldiskfs_xattr_set_handle() here </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">2836</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00227">__osd_xattr_get()</a>, <a class="el" href="osd__xattr_8c_source.html#l00477">__osd_xattr_set()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00192">lustre_mdt_attrs::lma_compat</a>, <a class="el" href="lustre__user_8h_source.html#l00198">lustre_mdt_attrs::lma_incompat</a>, <a class="el" href="lustre__user_8h_source.html#l00208">LMA_OLD_SIZE</a>, <a class="el" href="md__attrs_8c_source.html#l00044">lustre_lma_init()</a>, <a class="el" href="md__attrs_8c_source.html#l00064">lustre_lma_swab()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00517">OBD_FAIL_FID_INLMA</a>, <a class="el" href="obd__support_8h_source.html#l00277">OBD_FAIL_OSD_OST_EA_FID_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00594">osd_thread_info::oti_mdt_attrs_old</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__idl_8h_source.html#l01595">XATTR_NAME_LMA</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02967">osd_create_local_agent_inode()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">osd_dirent_check_repair()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00665">osd_lma_self_repair()</a>, <a class="el" href="osd__compat_8c_source.html#l00162">osd_mdt_init()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06216">osd_mount()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03108">osd_object_ea_create()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00215">osd_oi_open()</a>, <a class="el" href="osd__compat_8c_source.html#l00355">osd_ost_init()</a>, <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>, <a class="el" href="osd__scrub_8c_source.html#l00370">osd_scrub_convert_ff()</a>, <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>, and <a class="el" href="osd__compat_8c_source.html#l00770">osd_seq_load_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a1fa330ceec068d8d6cdb213c06063de1"></a><!-- doxytag: member="osd_handler.c::osd_ea_lookup_rec" ref="a1fa330ceec068d8d6cdb213c06063de1" args="(const struct lu_env *env, struct osd_object *obj, struct dt_rec *rec, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ea_lookup_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calls -&gt;<a class="el" href="iam__ut_8c.html#a8a036fe43302ce2891c4f2854f4c44e8">lookup()</a> to find dentry. </p>
<p>From dentry get inode and read inode's ea to get fid. This is required for interoperability mode (b11826)</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0,on</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">4603</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00519">OBD_FAIL_FID_LOOKUP</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00129">osd_object::oo_ext_idx_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00128">osd_object::oo_hl_head</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04508">osd_add_oi_cache()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02291">osd_child_dentry_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">osd_consistency_check()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02910">osd_ea_fid_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04483">osd_fail_fid_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03925">osd_get_fid_from_dentry()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04540">osd_get_pfid_from_linkea()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03940">osd_remote_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01202">osd_remote_parent_ino()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00577">osd_thread_info::oti_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00533">osd_thread_info::oti_hlock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00538">osd_thread_info::oti_id</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06015">osd_index_ea_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7cff774f9a77f832ebf4d233d9c5efc"></a><!-- doxytag: member="osd_handler.c::osd_exit" ref="aa7cff774f9a77f832ebf4d233d9c5efc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __exit osd_exit </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06772">6772</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00246">class_unregister_type()</a>, <a class="el" href="lu__object_8c_source.html#l02275">lu_kmem_fini()</a>, and <a class="el" href="obd_8h_source.html#l00447">LUSTRE_OSD_LDISKFS_NAME</a>.</p>

</div>
</div>
<a class="anchor" id="a7d600bf901f1da19bfdbd03e3daa53fb"></a><!-- doxytag: member="osd_handler.c::osd_fail_fid_lookup" ref="a7d600bf901f1da19bfdbd03e3daa53fb" args="(struct osd_thread_info *oti, struct osd_device *dev, struct osd_idmap_cache *oic, struct lu_fid *fid, __u32 ino)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_fail_fid_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>oti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>oic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>ino</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04483">4483</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e45b6c8acfeeae66b89830f58c46dc4"></a><!-- doxytag: member="osd_handler.c::osd_fid_alloc" ref="a8e45b6c8acfeeae66b89830f58c46dc4" args="(const struct lu_env *env, struct obd_export *exp, struct lu_fid *fid, struct md_op_data *op_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_fid_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>op_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06684">6684</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00292">osd_device::od_cl_seq</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, and <a class="el" href="fid__request_8c_source.html#l00320">seq_client_alloc_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="a459240fb2a20daec5f3c2efde6f9c3e3"></a><!-- doxytag: member="osd_handler.c::osd_fid_fini" ref="a459240fb2a20daec5f3c2efde6f9c3e3" args="(const struct lu_env *env, struct osd_device *osd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_fid_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06176">6176</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00292">osd_device::od_cl_seq</a>, and <a class="el" href="fid__request_8c_source.html#l00506">seq_client_fini()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06186">osd_shutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="a20dd9dc177e63706a4074ba5af002eb1"></a><!-- doxytag: member="osd_handler.c::osd_fid_init" ref="a20dd9dc177e63706a4074ba5af002eb1" args="(const struct lu_env *env, struct osd_device *osd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_fid_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06141">6141</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00361">lu_client_seq::lcs_space</a>, <a class="el" href="lustre__fid_8h_source.html#l00385">lu_client_seq::lcs_srv</a>, <a class="el" href="lustre__fid_8h_source.html#l00339">LUSTRE_SEQ_METADATA</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00292">osd_device::od_cl_seq</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_is_ost</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00285">osd_device::od_svname</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00920">osd_seq_site()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="fid__request_8c_source.html#l00468">seq_client_init()</a>, <a class="el" href="fid__handler_8c_source.html#l00350">seq_server_alloc_meta()</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, <a class="el" href="lustre__fid_8h_source.html#l00464">seq_server_site::ss_server_seq</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06648">osd_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="aaafb47b2e2fd24c999b581d2de1ff338"></a><!-- doxytag: member="osd_handler.c::osd_fid_lookup" ref="aaafb47b2e2fd24c999b581d2de1ff338" args="(const struct lu_env *env, struct osd_object *obj, const struct lu_fid *fid, const struct lu_object_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_fid_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">769</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00462">fid_is_idif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00447">fid_is_igif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00477">fid_is_norm()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="libcfs__debug_8h_source.html#l00284">LCONSOLE_WARN</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00085">ldiskfs_pdo</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00171">LOC_F_NEW</a>, <a class="el" href="lu__object_8h_source.html#l00187">lu_object_conf::loc_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00302">OBD_FAIL_SRV_ENOENT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_noscrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__oi_8h_source.html#l00137">OI_CHECK_FLD</a>, <a class="el" href="osd__oi_8h_source.html#l00090">osd_idmap_cache::oic_dev</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00144">osd_object::oo_compat_dot_created</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00145">osd_object::oo_compat_dotdot_created</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00128">osd_object::oo_hl_head</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00193">osd_scrub::os_inconsistent_items</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00691">osd_check_lma()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00510">osd_iget_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd__compat_8c_source.html#l00311">osd_lookup_in_remote_parent()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00847">osd_oi_fid2idx()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, <a class="el" href="osd__scrub_8c_source.html#l02990">osd_oii_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l02442">osd_scrub_start()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00577">osd_thread_info::oti_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00538">osd_thread_info::oti_id</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00186">scrub_file::sf_oi_bitmap</a>, <a class="el" href="osd__scrub_8h_source.html#l00100">SS_AUTO_FULL</a>, <a class="el" href="osd__scrub_8h_source.html#l00109">SS_CLEAR_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00094">SS_CLEAR_FAILOUT</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01001">osd_object_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f9dcf494255fd8bafc2a6b7f7235422"></a><!-- doxytag: member="osd_handler.c::osd_fld_lookup" ref="a3f9dcf494255fd8bafc2a6b7f7235422" args="(const struct lu_env *env, struct osd_device *osd, u64 seq, struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_fld_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&nbsp;</td>
          <td class="paramname"> <em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02619">2619</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01372">osd_seq_exists()</a>.</p>

</div>
</div>
<a class="anchor" id="a0dcb29d8b3b0f41fd8b624f038120951"></a><!-- doxytag: member="osd_handler.c::osd_get_fid_from_dentry" ref="a0dcb29d8b3b0f41fd8b624f038120951" args="(struct ldiskfs_dir_entry_2 *de, struct dt_rec *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_get_fid_from_dentry </td>
          <td>(</td>
          <td class="paramtype">struct ldiskfs_dir_entry_2 *&nbsp;</td>
          <td class="paramname"> <em>de</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03925">3925</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01154">osd_fid_unpack()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03973">osd_index_ea_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="a7bb7106be26bf680a8a943af1c90ef29"></a><!-- doxytag: member="osd_handler.c::osd_get_idif" ref="a7bb7106be26bf680a8a943af1c90ef29" args="(struct osd_thread_info *info, struct inode *inode, struct dentry *dentry, struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_get_idif </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+v,:</em>&nbsp;</td><td>new <a class="el" href="structfilter__fid.html">filter_fid</a>, does not contain self-fid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0,:</em>&nbsp;</td><td><a class="el" href="structfilter__fid__old.html">filter_fid_old</a>, contains self-fid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-v,:</em>&nbsp;</td><td>other failure cases </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00641">641</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00227">__osd_xattr_get()</a>, <a class="el" href="lustre__user_8h_source.html#l00173">filter_fid_old::ff_objid</a>, <a class="el" href="lustre__user_8h_source.html#l00174">filter_fid_old::ff_seq</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="lustre__idl_8h_source.html#l00594">ostid_set_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00561">ostid_set_seq()</a>, <a class="el" href="lustre__idl_8h_source.html#l00659">ostid_to_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00595">osd_thread_info::oti_ff</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, and <a class="el" href="lustre__idl_8h_source.html#l01599">XATTR_NAME_FID</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00691">osd_check_lma()</a>, <a class="el" href="osd__compat_8c_source.html#l00521">osd_obj_update_entry()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00853">osd_scrub_get_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="a9853029e8125ec6eeeba0014fcadf26a"></a><!-- doxytag: member="osd_handler.c::osd_get_ldiskfs_dirent_param" ref="a9853029e8125ec6eeeba0014fcadf26a" args="(struct ldiskfs_dentry_param *param, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_get_ldiskfs_dirent_param </td>
          <td>(</td>
          <td class="paramtype">struct ldiskfs_dentry_param *&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ldiskfs supports fid in dirent, it is passed in dentry-&gt;d_fsdata. </p>
<p>lustre 1.8 also uses d_fsdata for passing other info to ldiskfs. To have compatilibility with 1.8 ldiskfs driver we need to have magic number at start of fid data.  is used only to pass fid from osd to ldiskfs. its inmemory API. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02889">2889</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="lustre__fid_8h_source.html#l00301">fid_is_namespace_visible()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, and <a class="el" href="obd__support_8h_source.html#l00518">OBD_FAIL_FID_IGIF</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04240">__osd_ea_add_rec()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02927">osd_add_dot_dotdot_internal()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05489">osd_dirent_reinsert()</a>.</p>

</div>
</div>
<a class="anchor" id="a33a698e1f63ed2ae2a915e4bcbce92e8"></a><!-- doxytag: member="osd_handler.c::osd_get_lma" ref="a33a698e1f63ed2ae2a915e4bcbce92e8" args="(struct osd_thread_info *info, struct inode *inode, struct dentry *dentry, struct lustre_mdt_attrs *lma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_get_lma </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__mdt__attrs.html">lustre_mdt_attrs</a> *&nbsp;</td>
          <td class="paramname"> <em>lma</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">356</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00227">__osd_xattr_get()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__user_8h_source.html#l00198">lustre_mdt_attrs::lma_incompat</a>, <a class="el" href="lustre__idl_8h_source.html#l00200">LMA_INCOMPAT_SUPP</a>, <a class="el" href="lustre__user_8h_source.html#l00208">LMA_OLD_SIZE</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="md__attrs_8c_source.html#l00064">lustre_lma_swab()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00594">osd_thread_info::oti_mdt_attrs_old</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="lustre__idl_8h_source.html#l01595">XATTR_NAME_LMA</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00221">osd_add_to_remote_parent()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02199">osd_attr_set()</a>, <a class="el" href="osd__compat_8c_source.html#l00261">osd_delete_from_remote_parent()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">osd_dirent_check_repair()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04483">osd_fail_fid_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00484">osd_iget_fid()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00436">osd_ldiskfs_add_entry()</a>, <a class="el" href="osd__compat_8c_source.html#l00521">osd_obj_update_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01001">osd_object_init()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, <a class="el" href="osd__scrub_8c_source.html#l00853">osd_scrub_get_fid()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03458">osd_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ccc54a9b5a1fa905b4d3b42f03ad0c3"></a><!-- doxytag: member="osd_handler.c::osd_get_pfid_from_linkea" ref="a7ccc54a9b5a1fa905b4d3b42f03ad0c3" args="(const struct lu_env *env, struct osd_object *obj, struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_get_pfid_from_linkea </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get parent FID from the linkEA. </p>
<p>For a directory which parent resides on remote MDT, to satisfy the local e2fsck, we insert it into the /REMOTE_PARENT_DIR locally. On the other hand, to make the lookup(..) on the directory can return the real parent FID, we append the real parent FID after its ".." name entry in the /REMOTE_PARENT_DIR.</p>
<p>Unfortunately, such PFID-in-dirent cannot be preserved via file-level backup. So after the restore, we cannot get the right parent FID from its ".." name entry in the /REMOTE_PARENT_DIR. Under such case, since we have stored the real parent FID in the directory object's linkEA, we can parse the linkEA for the real parent FID.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the object to be handled </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em></em>&nbsp;</td><td>pointer to the buffer to hold the parent FID</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for getting the real parent FID successfully </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04540">4540</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00227">__osd_xattr_get()</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00041">linkea_data::ld_lee</a>, <a class="el" href="lustre__linkea_8h_source.html#l00042">linkea_data::ld_reclen</a>, <a class="el" href="linkea_8c_source.html#l00097">linkea_entry_unpack()</a>, <a class="el" href="lustre__linkea_8h_source.html#l00057">linkea_first_entry()</a>, <a class="el" href="linkea_8c_source.html#l00047">linkea_init()</a>, <a class="el" href="lu__object_8c_source.html#l02362">lu_buf_realloc()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00589">osd_thread_info::oti_big_buf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05862">osd_it_ea_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="a2bffada51e2f681d56df5d325bc0c3e9"></a><!-- doxytag: member="osd_handler.c::osd_has_index" ref="a2bffada51e2f681d56df5d325bc0c3e9" args="(const struct osd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_has_index </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00145">145</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03676">osd_index_try()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a07c825e7505aa47b2edff203b6af51"></a><!-- doxytag: member="osd_handler.c::osd_health_check" ref="a0a07c825e7505aa47b2edff203b6af51" args="(const struct lu_env *env, struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_health_check </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06729">6729</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00242">osd_device::od_mnt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>.</p>

</div>
</div>
<a class="anchor" id="a71d37a1cccc877d557091674c7a7c393"></a><!-- doxytag: member="osd_handler.c::osd_iam_container_init" ref="a71d37a1cccc877d557091674c7a7c393" args="(const struct lu_env *env, struct osd_object *obj, struct osd_directory *dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_iam_container_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__directory.html">osd_directory</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03652">3652</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="osd__iam_8c_source.html#l00282">iam_container_fini()</a>, <a class="el" href="osd__iam_8c_source.html#l00259">iam_container_init()</a>, <a class="el" href="osd__iam_8c_source.html#l00274">iam_container_setup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00099">osd_directory::od_descr</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00123">osd_index_iam_ops</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03676">osd_index_try()</a>.</p>

</div>
</div>
<a class="anchor" id="a30ddc189d5d1ebcead599c1a9913c182"></a><!-- doxytag: member="osd_handler.c::osd_iam_index_probe" ref="a30ddc189d5d1ebcead599c1a9913c182" args="(const struct lu_env *env, struct osd_object *o, const struct dt_index_features *feat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_iam_index_probe </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *&nbsp;</td>
          <td class="paramname"> <em>feat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03622">3622</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00314">dt_index_features::dif_flags</a>, <a class="el" href="dt__object_8h_source.html#l00318">dt_index_features::dif_keysize_max</a>, <a class="el" href="dt__object_8h_source.html#l00316">dt_index_features::dif_keysize_min</a>, <a class="el" href="dt__object_8h_source.html#l00322">dt_index_features::dif_recsize_max</a>, <a class="el" href="dt__object_8h_source.html#l00320">dt_index_features::dif_recsize_min</a>, <a class="el" href="dt__object_8c_source.html#l00575">dt_directory_features</a>, <a class="el" href="dt__object_8h_source.html#l00335">DT_IND_NONUNQ</a>, <a class="el" href="dt__object_8h_source.html#l00333">DT_IND_UPDATE</a>, <a class="el" href="dt__object_8h_source.html#l00329">DT_IND_VARKEY</a>, <a class="el" href="dt__object_8h_source.html#l00331">DT_IND_VARREC</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="osd__iam_8h_source.html#l00481">iam_container::ic_descr</a>, <a class="el" href="osd__iam_8h_source.html#l00422">iam_descr::id_key_size</a>, <a class="el" href="osd__iam_8h_source.html#l00435">iam_descr::id_rec_size</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00131">osd_object::oo_dir</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00894">osd_object_is_root()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03676">osd_index_try()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e554072f579d1f0f8a5b7e320d6c237"></a><!-- doxytag: member="osd_handler.c::osd_idc_add" ref="a1e554072f579d1f0f8a5b7e320d6c237" args="(const struct lu_env *env, struct osd_device *osd, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a>* osd_idc_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00209">209</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="osd__oi_8h_source.html#l00090">osd_idmap_cache::oic_dev</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd__oi_8h_source.html#l00091">osd_idmap_cache::oic_remote</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00513">OSD_INS_CACHE_SIZE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00580">osd_thread_info::oti_ins_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00581">osd_thread_info::oti_ins_cache_size</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00582">osd_thread_info::oti_ins_cache_used</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00293">osd_idc_find_and_init()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00251">osd_idc_find_or_init()</a>.</p>

</div>
</div>
<a class="anchor" id="af35fc7053f3fc9445683e71bcaa671a3"></a><!-- doxytag: member="osd_handler.c::osd_idc_find" ref="af35fc7053f3fc9445683e71bcaa671a3" args="(const struct lu_env *env, struct osd_device *osd, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a>* osd_idc_find </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00190">190</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="osd__oi_8h_source.html#l00090">osd_idmap_cache::oic_dev</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00580">osd_thread_info::oti_ins_cache</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00582">osd_thread_info::oti_ins_cache_used</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00293">osd_idc_find_and_init()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00251">osd_idc_find_or_init()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04766">osd_index_ea_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a236fcf10f7acee7a8f852f38aaead91b"></a><!-- doxytag: member="osd_handler.c::osd_idc_find_and_init" ref="a236fcf10f7acee7a8f852f38aaead91b" args="(const struct lu_env *env, struct osd_device *osd, struct osd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_idc_find_and_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00293">293</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00209">osd_idc_add()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00190">osd_idc_find()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02495">osd_ah_init()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02648">osd_declare_object_create()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02733">osd_declare_object_destroy()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03108">osd_object_ea_create()</a>.</p>

</div>
</div>
<a class="anchor" id="acf963d1fa8d2ad180f0223ec141eebe9"></a><!-- doxytag: member="osd_handler.c::osd_idc_find_or_init" ref="acf963d1fa8d2ad180f0223ec141eebe9" args="(const struct lu_env *env, struct osd_device *osd, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a>* osd_idc_find_or_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00251">251</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd__oi_8h_source.html#l00091">osd_idmap_cache::oic_remote</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00209">osd_idc_add()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00190">osd_idc_find()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03940">osd_remote_fid()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04701">osd_index_declare_ea_insert()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04766">osd_index_ea_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a322e19443e9c62cb02a6a8c9eec6626d"></a><!-- doxytag: member="osd_handler.c::osd_iget" ref="a322e19443e9c62cb02a6a8c9eec6626d" args="(struct osd_thread_info *info, struct osd_device *dev, struct osd_inode_id *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct inode* osd_iget </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">388</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00082">LDISKFS_STATE_LUSTRE_DESTROY</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">osd_consistency_check()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">osd_dirent_check_repair()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04483">osd_fail_fid_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00484">osd_iget_fid()</a>, <a class="el" href="osd__scrub_8c_source.html#l00940">osd_iit_iget()</a>, <a class="el" href="osd__compat_8c_source.html#l00911">osd_obj_map_lookup()</a>, <a class="el" href="osd__compat_8c_source.html#l00521">osd_obj_update_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00103">osd_oi_index_create_one()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9b15f45d69532a5bdd92a2f7c954194"></a><!-- doxytag: member="osd_handler.c::osd_iget_check" ref="ab9b15f45d69532a5bdd92a2f7c954194" args="(struct osd_thread_info *info, struct osd_device *dev, const struct lu_fid *fid, struct osd_inode_id *id, bool cached)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct inode* osd_iget_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>cached</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00510">510</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00082">LDISKFS_STATE_LUSTRE_DESTROY</a>, <a class="el" href="osd__oi_8h_source.html#l00137">OI_CHECK_FLD</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a49debbb4a418b6c2ee57090fd0582bfe"></a><!-- doxytag: member="osd_handler.c::osd_iget_fid" ref="a49debbb4a418b6c2ee57090fd0582bfe" args="(struct osd_thread_info *info, struct osd_device *dev, struct osd_inode_id *id, struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct inode* osd_iget_fid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00484">484</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00754">lu_igif_build()</a>, <a class="el" href="lustre__fid_8h_source.html#l00242">lu_local_obj_fid()</a>, <a class="el" href="lustre__fid_8h_source.html#l00222">OSD_FS_ROOT_OID</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02910">osd_ea_fid_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03050">osd_process_scheduled_agent_removals()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0116850e6c7fc559451e7a754aa4985"></a><!-- doxytag: member="osd_handler.c::osd_index_declare_ea_delete" ref="ac0116850e6c7fc559451e7a754aa4985" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_key *key, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_declare_ea_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03895">3895</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00377">DTO_INDEX_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00380">DTO_OBJECT_DELETE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00763">i_gid_read()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00758">i_uid_read()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00590">osd_declare_inode_qid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00344">OSD_OT_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a703cec73cf6c56de200cae4d27eb61d3"></a><!-- doxytag: member="osd_handler.c::osd_index_declare_ea_insert" ref="a703cec73cf6c56de200cae4d27eb61d3" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_rec *rec, const struct dt_key *key, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_declare_ea_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04701">4701</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="gnilnd__modparams_8c_source.html#l00028">credits</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00376">DTO_INDEX_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00379">DTO_OBJECT_CREATE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00763">i_gid_read()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00758">i_uid_read()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osd__oi_8h_source.html#l00091">osd_idmap_cache::oic_remote</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00590">osd_declare_inode_qid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00251">osd_idc_find_or_init()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00343">OSD_OT_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="dt__object_8h_source.html#l02684">dt_insert_rec::rec_fid</a>, <a class="el" href="dt__object_8h_source.html#l02689">dt_insert_rec::rec_type</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a3ca27d59b821963d6b99a1e58735ae7e"></a><!-- doxytag: member="osd_handler.c::osd_index_declare_iam_delete" ref="a3ca27d59b821963d6b99a1e58735ae7e" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_key *key, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_declare_iam_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03824">3824</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00377">DTO_INDEX_DELETE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00344">OSD_OT_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>.</p>

</div>
</div>
<a class="anchor" id="ad3c9d6e576c4a44e1842482e249e332a"></a><!-- doxytag: member="osd_handler.c::osd_index_declare_iam_insert" ref="ad3c9d6e576c4a44e1842482e249e332a" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_rec *rec, const struct dt_key *key, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_declare_iam_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04147">4147</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00376">DTO_INDEX_INSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00343">OSD_OT_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01003">osd_trans_declare_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>.</p>

</div>
</div>
<a class="anchor" id="aeb125db0bc7ec337b61adadd75c3dd7e"></a><!-- doxytag: member="osd_handler.c::osd_index_ea_delete" ref="aeb125db0bc7ec337b61adadd75c3dd7e" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_key *key, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_ea_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Index delete function for interoperability mode (b11826). </p>
<p>It will remove the directory entry added by <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a0044ba97696e52907ae6f670b03186ce" title="Index add function for interoperability mode (b11826).">osd_index_ea_insert()</a>. This entry is needed to maintain name-&gt;fid mapping.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key,key</em>&nbsp;</td><td>i.e. file entry to be deleted</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0,on</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03973">3973</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00129">osd_object::oo_ext_idx_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00128">osd_object::oo_hl_head</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02291">osd_child_dentry_get()</a>, <a class="el" href="osd__compat_8c_source.html#l00261">osd_delete_from_remote_parent()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03925">osd_get_fid_from_dentry()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00344">OSD_OT_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03940">osd_remote_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03027">osd_schedule_agent_inode_removal()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00533">osd_thread_info::oti_hlock</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a0044ba97696e52907ae6f670b03186ce"></a><!-- doxytag: member="osd_handler.c::osd_index_ea_insert" ref="a0044ba97696e52907ae6f670b03186ce" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_rec *rec, const struct dt_key *key, struct thandle *th, int ignore_quota)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_ea_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ignore_quota</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Index add function for interoperability mode (b11826). </p>
<p>It will add the directory entry.This entry is needed to maintain name-&gt;fid mapping.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>it is key i.e. file entry to be inserted </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rec</em>&nbsp;</td><td>it is value of given key i.e. fid</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0,on</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04766">4766</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00269">osd_device::od_mdt_map</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd__oi_8h_source.html#l00091">osd_idmap_cache::oic_remote</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00177">osd_mdobj_map::omm_remote_parent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd__compat_8c_source.html#l00221">osd_add_to_remote_parent()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02967">osd_create_local_agent_inode()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04362">osd_ea_add_rec()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00190">osd_idc_find()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00251">osd_idc_find_or_init()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00343">OSD_OT_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00601">osd_thread_info::oti_inode</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="dt__object_8h_source.html#l02684">dt_insert_rec::rec_fid</a>, <a class="el" href="dt__object_8h_source.html#l02689">dt_insert_rec::rec_type</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a704eb9e17b1cd5fc06862d39d634d035"></a><!-- doxytag: member="osd_handler.c::osd_index_ea_lookup" ref="a704eb9e17b1cd5fc06862d39d634d035" args="(const struct lu_env *env, struct dt_object *dt, struct dt_rec *rec, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_ea_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Index lookup function for interoperability mode (b11826). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key,key</em>&nbsp;</td><td>i.e. file name to be searched</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+ve,on</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06015">6015</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ac249f0252a30664f156ec09240e673df"></a><!-- doxytag: member="osd_handler.c::osd_index_fini" ref="ac249f0252a30664f156ec09240e673df" args="(struct osd_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_index_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01058">1058</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__iam_8c_source.html#l00282">iam_container_fini()</a>, <a class="el" href="osd__iam_8h_source.html#l00473">iam_container::ic_object</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00131">osd_object::oo_dir</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01514">osd_object_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="a044851396ce067181190c0ae310bab4b"></a><!-- doxytag: member="osd_handler.c::osd_index_iam_delete" ref="a044851396ce067181190c0ae310bab4b" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_key *key, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_iam_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>delete a (key, value) pair from index <em>dt</em> specified by <em>key</em> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dt</em>&nbsp;</td><td>osd index object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key for index </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rec</em>&nbsp;</td><td>record reference </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03852">3852</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="byteorder_8h_source.html#l00059">cpu_to_le64</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00290">fid_is_quota()</a>, <a class="el" href="libiam_8c_source.html#l00557">iam_delete()</a>, <a class="el" href="osd__iam_8h_source.html#l00473">iam_container::ic_object</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00131">osd_object::oo_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00957">osd_idx_ipd_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00964">osd_ipd_put()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00344">OSD_OT_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00618">osd_thread_info::oti_quota_id</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a5686940f12d228e4bc52df9c7b224b65"></a><!-- doxytag: member="osd_handler.c::osd_index_iam_insert" ref="a5686940f12d228e4bc52df9c7b224b65" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_rec *rec, const struct dt_key *key, struct thandle *th, int ignore_quota)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_iam_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ignore_quota</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inserts (key, value) pair in <em>dt</em> index object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dt</em>&nbsp;</td><td>osd index object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key for index </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rec</em>&nbsp;</td><td>record reference </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04177">4177</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="byteorder_8h_source.html#l00059">cpu_to_le64</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00290">fid_is_quota()</a>, <a class="el" href="libiam_8c_source.html#l00531">iam_insert()</a>, <a class="el" href="osd__iam_8h_source.html#l00473">iam_container::ic_object</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00131">osd_object::oo_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00957">osd_idx_ipd_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00964">osd_ipd_put()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00343">OSD_OT_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00446">osd_quota_pack()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00603">osd_thread_info::oti_ldp</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00618">osd_thread_info::oti_quota_id</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00617">osd_thread_info::oti_quota_rec</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a21f7bf2f45ca186e70b5407b8686fb53"></a><!-- doxytag: member="osd_handler.c::osd_index_iam_lookup" ref="a21f7bf2f45ca186e70b5407b8686fb53" args="(const struct lu_env *env, struct dt_object *dt, struct dt_rec *rec, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_iam_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lookup index for <em>key</em> and copy record to <em>rec</em>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dt</em>&nbsp;</td><td>osd index object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key for index </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rec</em>&nbsp;</td><td>record reference</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+ve</em>&nbsp;</td><td>success : exact mach </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>return record with key not greater than <em>key</em> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04090">4090</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="byteorder_8h_source.html#l00059">cpu_to_le64</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00290">fid_is_quota()</a>, <a class="el" href="osd__iam_8c_source.html#l00733">iam_it_fini()</a>, <a class="el" href="osd__iam_8c_source.html#l01169">iam_it_get()</a>, <a class="el" href="osd__iam_8c_source.html#l00718">iam_it_init()</a>, <a class="el" href="osd__iam_8c_source.html#l01267">iam_it_put()</a>, <a class="el" href="osd__iam_8h_source.html#l00807">iam_reccpy()</a>, <a class="el" href="osd__iam_8h_source.html#l00473">iam_container::ic_object</a>, <a class="el" href="osd__iam_8h_source.html#l00640">iam_iterator::ii_path</a>, <a class="el" href="osd__iam_8h_source.html#l00531">iam_path::ip_leaf</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00131">osd_object::oo_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01154">osd_fid_unpack()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00957">osd_idx_ipd_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00964">osd_ipd_put()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00465">osd_quota_unpack()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00563">osd_thread_info::oti_idx_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00603">osd_thread_info::oti_ldp</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00618">osd_thread_info::oti_quota_id</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a1b136f690ad1ddb9c79612f4337dd58f"></a><!-- doxytag: member="osd_handler.c::osd_index_try" ref="a1b136f690ad1ddb9c79612f4337dd58f" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_index_features *feat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_index_try </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *&nbsp;</td>
          <td class="paramname"> <em>feat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03676">3676</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00605">dt_acct_features</a>, <a class="el" href="dt__object_8c_source.html#l00575">dt_directory_features</a>, <a class="el" href="dt__object_8c_source.html#l00579">dt_otable_features</a>, <a class="el" href="dt__object_8c_source.html#l00616">dt_quota_glb_features</a>, <a class="el" href="lustre__idl_8h_source.html#l00304">FID_SEQ_QUOTA_GLB</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00131">osd_object::oo_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00129">osd_object::oo_ext_idx_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00133">osd_object::oo_guard</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00420">osd_acct_index_ops</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00145">osd_has_index()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03652">osd_iam_container_init()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03622">osd_iam_index_probe()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00124">osd_index_ea_ops</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00894">osd_object_is_root()</a>, <a class="el" href="osd__scrub_8c_source.html#l02915">osd_otable_ops</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00630">osd_quota_migration()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="aa5303ec283dbd3b4209948507623d193"></a><!-- doxytag: member="osd_handler.c::osd_init" ref="aa5303ec283dbd3b4209948507623d193" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __init osd_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06748">6748</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l01023">BH_DXLock</a>, <a class="el" href="genops_8c_source.html#l00167">class_register_type()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8c_source.html#l02275">lu_kmem_fini()</a>, <a class="el" href="lu__object_8c_source.html#l02251">lu_kmem_init()</a>, <a class="el" href="obd_8h_source.html#l00447">LUSTRE_OSD_LDISKFS_NAME</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00826">osd_oi_mod_init()</a>.</p>

<p>Referenced by <a class="el" href="mkfs__lustre_8c_source.html#l00601">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a05abafd5c4b69b6d1b3d2c288ba7950d"></a><!-- doxytag: member="osd_handler.c::osd_inode_getattr" ref="a05abafd5c4b69b6d1b3d2c288ba7950d" args="(const struct lu_env *env, struct inode *inode, struct lu_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_inode_getattr </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01930">1930</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00763">i_gid_read()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00758">i_uid_read()</a>, <a class="el" href="lu__object_8h_source.html#l00413">lu_attr::la_atime</a>, <a class="el" href="lu__object_8h_source.html#l00444">LA_ATIME</a>, <a class="el" href="lu__object_8h_source.html#l00429">lu_attr::la_blkbits</a>, <a class="el" href="lu__object_8h_source.html#l00431">lu_attr::la_blksize</a>, <a class="el" href="lu__object_8h_source.html#l00456">LA_BLKSIZE</a>, <a class="el" href="lu__object_8h_source.html#l00417">lu_attr::la_blocks</a>, <a class="el" href="lu__object_8h_source.html#l00451">LA_BLOCKS</a>, <a class="el" href="lu__object_8h_source.html#l00415">lu_attr::la_ctime</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="lu__object_8h_source.html#l00453">LA_FLAGS</a>, <a class="el" href="lu__object_8h_source.html#l00423">lu_attr::la_gid</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00411">lu_attr::la_mtime</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00427">lu_attr::la_nlink</a>, <a class="el" href="lu__object_8h_source.html#l00454">LA_NLINK</a>, <a class="el" href="lu__object_8h_source.html#l00433">lu_attr::la_rdev</a>, <a class="el" href="lu__object_8h_source.html#l00455">LA_RDEV</a>, <a class="el" href="lu__object_8h_source.html#l00409">lu_attr::la_size</a>, <a class="el" href="lu__object_8h_source.html#l00447">LA_SIZE</a>, <a class="el" href="lu__object_8h_source.html#l00452">LA_TYPE</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, and <a class="el" href="lustre__compat_8h_source.html#l00094">LTIME_S</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01953">osd_attr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="ab28dd16ff6b86e9465309b87a94a39f3"></a><!-- doxytag: member="osd_handler.c::osd_inode_setattr" ref="ab28dd16ff6b86e9465309b87a94a39f3" args="(const struct lu_env *env, struct inode *inode, const struct lu_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_inode_setattr </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02123">2123</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00773">i_gid_write()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00768">i_uid_write()</a>, <a class="el" href="lu__object_8h_source.html#l00413">lu_attr::la_atime</a>, <a class="el" href="lu__object_8h_source.html#l00444">LA_ATIME</a>, <a class="el" href="lu__object_8h_source.html#l00417">lu_attr::la_blocks</a>, <a class="el" href="lu__object_8h_source.html#l00451">LA_BLOCKS</a>, <a class="el" href="lu__object_8h_source.html#l00415">lu_attr::la_ctime</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="lu__object_8h_source.html#l00453">LA_FLAGS</a>, <a class="el" href="lu__object_8h_source.html#l00423">lu_attr::la_gid</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00411">lu_attr::la_mtime</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00427">lu_attr::la_nlink</a>, <a class="el" href="lu__object_8h_source.html#l00454">LA_NLINK</a>, <a class="el" href="lu__object_8h_source.html#l00433">lu_attr::la_rdev</a>, <a class="el" href="lu__object_8h_source.html#l00455">LA_RDEV</a>, <a class="el" href="lu__object_8h_source.html#l00409">lu_attr::la_size</a>, <a class="el" href="lu__object_8h_source.html#l00447">LA_SIZE</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01918">osd_inode_time()</a>, and <a class="el" href="lustre__compat_8h_source.html#l00316">set_nlink()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02511">osd_attr_init()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02199">osd_attr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a3daedf4a2e72e4a50eaa65d207f0b662"></a><!-- doxytag: member="osd_handler.c::osd_inode_time" ref="a3daedf4a2e72e4a50eaa65d207f0b662" args="(const struct lu_env *env, struct inode *inode, __u64 seconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct timespec* osd_inode_time </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>seconds</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01918">1918</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00546">osd_thread_info::oti_time</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02123">osd_inode_setattr()</a>.</p>

</div>
</div>
<a class="anchor" id="a988699c7f93ead88bf65bc7f0e53e147"></a><!-- doxytag: member="osd_handler.c::osd_inode_unlinked" ref="a988699c7f93ead88bf65bc7f0e53e147" args="(const struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_inode_unlinked </td>
          <td>(</td>
          <td class="paramtype">const struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01078">1078</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02773">osd_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a55ac01000a798291a6b6b59806d17d58"></a><!-- doxytag: member="osd_handler.c::osd_it_append_attrs" ref="a55ac01000a798291a6b6b59806d17d58" args="(struct lu_dirent *ent, int len, __u16 type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_it_append_attrs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__dirent.html">lu_dirent</a> *&nbsp;</td>
          <td class="paramname"> <em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05006">5006</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00055">cpu_to_le16</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="linux-fs_8h_source.html#l00083">DTTOIF</a>, <a class="el" href="lustre__idl_8h_source.html#l00908">lu_dirent::lde_attrs</a>, <a class="el" href="lustre__idl_8h_source.html#l00913">lu_dirent::lde_name</a>, <a class="el" href="lustre__idl_8h_source.html#l00941">luda_type::lt_type</a>, and <a class="el" href="lustre__idl_8h_source.html#l00871">LUDA_TYPE</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05026">osd_it_pack_dirent()</a>.</p>

</div>
</div>
<a class="anchor" id="a022c712bb76d8ce78c9cb02884af42ac"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_fini" ref="a022c712bb76d8ce78c9cb02884af42ac" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_it_ea_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy or finishes iterator context. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>iterator structure to be destroyed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05208">5208</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00456">osd_it_ea::oie_buf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00448">osd_it_ea::oie_file</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00446">osd_it_ea::oie_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00439">OSD_IT_EA_BUFSIZE</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00097">osd_itea_cachep</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00559">osd_thread_info::oti_it_ea_buf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00560">osd_thread_info::oti_it_ea_buf_used</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="af9b970941879f443fbc8b553b546373a"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_get" ref="af9b970941879f443fbc8b553b546373a" args="(const struct lu_env *env, struct dt_it *di, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_ea_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It position the iterator at given key, so that next lookup continues from that key Or it is similar to dio_it-&gt;load() but based on a key, rather than file position. </p>
<p>As a special convention, osd_it_ea_get(env, di, "") has to rewind iterator to the beginning.</p>
<p>TODO: Presently return +1 considering it is only used by <a class="el" href="mdd__dir_8c.html#aa8c996645ef9ff5006721588070366c5">mdd_dir_is_empty()</a>. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05236">5236</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00448">osd_it_ea::oie_file</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00452">osd_it_ea::oie_it_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00450">osd_it_ea::oie_rd_dirent</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a38ba8bc6c3d6ab7be6cf241948b83aed"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_init" ref="a38ba8bc6c3d6ab7be6cf241948b83aed" args="(const struct lu_env *env, struct dt_object *dt, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct dt_it* osd_it_ea_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates or initializes iterator context. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>struct</em>&nbsp;</td><td><a class="el" href="structosd__it__ea.html" title="This is iterator&#39;s in-memory data structure in interoperability mode (i.e.">osd_it_ea</a>, iterator structure on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05150">5150</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00709">lu_object_get()</a>, <a class="el" href="lustre__idl_8h_source.html#l00872">LUDA_64BITHASH</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00456">osd_it_ea::oie_buf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00457">osd_it_ea::oie_dentry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00448">osd_it_ea::oie_file</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00452">osd_it_ea::oie_it_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00446">osd_it_ea::oie_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00450">osd_it_ea::oie_rd_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00135">osd_object::oo_destroyed</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00439">OSD_IT_EA_BUFSIZE</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00097">osd_itea_cachep</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00559">osd_thread_info::oti_it_ea_buf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00560">osd_thread_info::oti_it_ea_buf_used</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__compat_8h_source.html#l00350">set_file_inode</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a1ffa3b6f47dd1f461ff5d2c915f9eec9"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_key" ref="a1ffa3b6f47dd1f461ff5d2c915f9eec9" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a>* osd_it_ea_key </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the key at current position from iterator's in memory structure. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>iterator's in memory structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>i.e. struct dt_key on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05439">5439</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00429">osd_it_ea_dirent::oied_name</a>.</p>

</div>
</div>
<a class="anchor" id="a29cd004f5272c410468b8874a37f627b"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_key_size" ref="a29cd004f5272c410468b8874a37f627b" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_ea_key_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the key's size at current position from iterator's in memory structure. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>iterator's in memory structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key_size</em>&nbsp;</td><td>i.e. struct dt_key on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05454">5454</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00427">osd_it_ea_dirent::oied_namelen</a>.</p>

</div>
</div>
<a class="anchor" id="aab048f5b77747159400c001bd7935586"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_load" ref="aab048f5b77747159400c001bd7935586" args="(const struct lu_env *env, const struct dt_it *di, __u64 hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_ea_load </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It calls <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1f98f35468bc147b1b98f63f6f1db571" title="Calls -&gt;readdir() to load a directory entry at a time and stored it in iterator&#39;s...">osd_ldiskfs_it_fill()</a> which will use -&gt;readdir() to load a directory entry at a time and stored it i inn, in iterator's in-memory data structure. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>struct <a class="el" href="structosd__it__ea.html" title="This is iterator&#39;s in-memory data structure in interoperability mode (i.e.">osd_it_ea</a>, iterator's in memory structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+ve</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05988">5988</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00448">osd_it_ea::oie_file</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05342">osd_ldiskfs_it_fill()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ab8cf9e71a9dfd8e48569c9f7e788aade"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_next" ref="ab8cf9e71a9dfd8e48569c9f7e788aade" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_ea_next </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It calls <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a1f98f35468bc147b1b98f63f6f1db571" title="Calls -&gt;readdir() to load a directory entry at a time and stored it in iterator&#39;s...">osd_ldiskfs_it_fill()</a> which will use -&gt;readdir() to load a directory entry at a time and stored it in iterator's in-memory data structure. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>iterator's in memory structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+ve</em>&nbsp;</td><td>iterator reached to end </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>iterator not reached to end </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05408">5408</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01188">ldiskfs_get_htree_eof()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00448">osd_it_ea::oie_file</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00452">osd_it_ea::oie_it_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00450">osd_it_ea::oie_rd_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00427">osd_it_ea_dirent::oied_namelen</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05342">osd_ldiskfs_it_fill()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a7b218e7b8fd45a565033c030e6e27d6d"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_put" ref="a7b218e7b8fd45a565033c030e6e27d6d" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_it_ea_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Does nothing. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05254">5254</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2737b2d1c31f6c08876328734880de09"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_rec" ref="a2737b2d1c31f6c08876328734880de09" args="(const struct lu_env *env, const struct dt_it *di, struct dt_rec *dtrec, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_ea_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>dtrec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the value at current position from iterator's in memory structure. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>struct <a class="el" href="structosd__it__ea.html" title="This is iterator&#39;s in-memory data structure in interoperability mode (i.e.">osd_it_ea</a>, iterator's in memory structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>attr</em>&nbsp;</td><td>attr requested for dirent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lde</em>&nbsp;</td><td>lustre dirent</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>no error and </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lde</em>&nbsp;</td><td>has correct lustre dirent. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05862">5862</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lustre__idl_8h_source.html#l00891">LU_DIRENT_ATTRS_MASK</a>, <a class="el" href="lustre__idl_8h_source.html#l00880">LUDA_IGNORE</a>, <a class="el" href="lustre__idl_8h_source.html#l00878">LUDA_UNKNOWN</a>, <a class="el" href="lustre__idl_8h_source.html#l00888">LUDA_VERIFY</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00519">OBD_FAIL_FID_LOOKUP</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00269">osd_device::od_mdt_map</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00446">osd_it_ea::oie_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00424">osd_it_ea_dirent::oied_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00425">osd_it_ea_dirent::oied_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00429">osd_it_ea_dirent::oied_name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00427">osd_it_ea_dirent::oied_namelen</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00426">osd_it_ea_dirent::oied_off</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00428">osd_it_ea_dirent::oied_type</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00177">osd_mdobj_map::omm_remote_parent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04508">osd_add_oi_cache()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">osd_dirent_check_repair()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02910">osd_ea_fid_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04540">osd_get_pfid_from_linkea()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05026">osd_it_pack_dirent()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03940">osd_remote_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01202">osd_remote_parent_ino()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00538">osd_thread_info::oti_id</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a67becec3bb64ffe9a3967125aa2f196a"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_rec_size" ref="a67becec3bb64ffe9a3967125aa2f196a" args="(const struct lu_env *env, const struct dt_it *di, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_ea_rec_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the record size size at current position. </p>
<p>This function will return record(lu_dirent) size in bytes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>di</em>&nbsp;</td><td>iterator's in memory structure </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>attribute of the entry, only requires LUDA_TYPE to calculate the <a class="el" href="structlu__dirent.html" title="Layout of readdir pages, as transmitted on wire.">lu_dirent</a> size.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>record</em>&nbsp;</td><td>size(in bytes &amp; in memory) of the current <a class="el" href="structlu__dirent.html" title="Layout of readdir pages, as transmitted on wire.">lu_dirent</a> entry. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05955">5955</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00983">lu_dirent_calc_size()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00427">osd_it_ea_dirent::oied_namelen</a>.</p>

</div>
</div>
<a class="anchor" id="a49670eecc060ce2be5c05ded521e988a"></a><!-- doxytag: member="osd_handler.c::osd_it_ea_store" ref="a49670eecc060ce2be5c05ded521e988a" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> osd_it_ea_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a cookie for current position of the iterator head, so that user can use this cookie to load/start the iterator next time. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>iterator's in memory structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cookie</em>&nbsp;</td><td>for current position, on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05971">5971</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00426">osd_it_ea_dirent::oied_off</a>.</p>

</div>
</div>
<a class="anchor" id="a036e858fa7e4557811e6d4d9a4326a2b"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_fini" ref="a036e858fa7e4557811e6d4d9a4326a2b" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_it_iam_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>free given Iterator. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04905">4905</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osd__iam_8c_source.html#l00733">iam_it_fini()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00465">osd_it_iam::oi_ipd</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00464">osd_it_iam::oi_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00131">osd_object::oo_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00964">osd_ipd_put()</a>.</p>

</div>
</div>
<a class="anchor" id="a4e1d0e5686800730a4eddb3945c6f942"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_get" ref="a4e1d0e5686800730a4eddb3945c6f942" args="(const struct lu_env *env, struct dt_it *di, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_iam_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move Iterator to record specified by <em>key</em>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>osd iterator </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key for index</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+ve</em>&nbsp;</td><td>di points to record with least key not larger than key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>di points to exact matched key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04927">4927</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="byteorder_8h_source.html#l00059">cpu_to_le64</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lustre__fid_8h_source.html#l00290">fid_is_quota()</a>, <a class="el" href="osd__iam_8c_source.html#l01169">iam_it_get()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00464">osd_it_iam::oi_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00618">osd_thread_info::oti_quota_id</a>.</p>

</div>
</div>
<a class="anchor" id="a50e706bc5882fca1d582e9be3ecc3e30"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_init" ref="a50e706bc5882fca1d582e9be3ecc3e30" args="(const struct lu_env *env, struct dt_object *dt, __u32 unused)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct dt_it* osd_it_iam_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>unused</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize osd Iterator for given osd index object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dt</em>&nbsp;</td><td>osd index object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04871">4871</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="osd__iam_8c_source.html#l00718">iam_it_init()</a>, <a class="el" href="osd__iam_8h_source.html#l00593">IAM_IT_MOVE</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8h_source.html#l00709">lu_object_get()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00465">osd_it_iam::oi_ipd</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00464">osd_it_iam::oi_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00131">osd_object::oo_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00949">osd_it_ipd_get()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb639d757241029651088f8a1ab87699"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_key" ref="aeb639d757241029651088f8a1ab87699" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a>* osd_it_iam_key </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return pointer to the key under iterator. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04975">4975</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lustre__fid_8h_source.html#l00290">fid_is_quota()</a>, <a class="el" href="osd__iam_8c_source.html#l01623">iam_it_key_get()</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00464">osd_it_iam::oi_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00618">osd_thread_info::oti_quota_id</a>.</p>

</div>
</div>
<a class="anchor" id="a7ddaeee4aa271369d494f5bf77716612"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_key_size" ref="a7ddaeee4aa271369d494f5bf77716612" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_iam_key_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return size of key under iterator (in bytes). </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04998">4998</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__iam_8c_source.html#l01637">iam_it_key_size()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>.</p>

</div>
</div>
<a class="anchor" id="ac5490456b86b3e9da68dd0a29022b0da"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_load" ref="ac5490456b86b3e9da68dd0a29022b0da" args="(const struct lu_env *env, const struct dt_it *di, __u64 hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_iam_load </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Restore iterator from cookie. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>osd iterator </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>Iterator location cookie</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+ve</em>&nbsp;</td><td>di points to record with least key not larger than key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>di points to exact matched key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05115">5115</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__iam_8c_source.html#l02505">iam_it_load()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>.</p>

</div>
</div>
<a class="anchor" id="a6d3d256b1beecd0a78c1f305b39a9ee5"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_next" ref="a6d3d256b1beecd0a78c1f305b39a9ee5" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_iam_next </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move iterator by one record. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>osd iterator</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+1</em>&nbsp;</td><td>end of container reached </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04964">4964</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libiam_8c_source.html#l00583">iam_it_next()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>.</p>

</div>
</div>
<a class="anchor" id="ab734a34cbcd06767369364225ce11d99"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_put" ref="ab734a34cbcd06767369364225ce11d99" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_it_iam_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release Iterator. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>osd iterator </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04947">4947</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__iam_8c_source.html#l01267">iam_it_put()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>.</p>

</div>
</div>
<a class="anchor" id="a8e645d1204c3b91ba42afd3bd1a225d4"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_rec" ref="a8e645d1204c3b91ba42afd3bd1a225d4" args="(const struct lu_env *env, const struct dt_it *di, struct dt_rec *dtrec, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_it_iam_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>dtrec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return pointer to the record under iterator. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05046">5046</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00290">fid_is_quota()</a>, <a class="el" href="osd__iam_8c_source.html#l01623">iam_it_key_get()</a>, <a class="el" href="osd__iam_8c_source.html#l01637">iam_it_key_size()</a>, <a class="el" href="osd__iam_8c_source.html#l01558">iam_it_rec_get()</a>, <a class="el" href="osd__iam_8c_source.html#l02484">iam_it_store()</a>, <a class="el" href="osd__iam_8h_source.html#l00807">iam_reccpy()</a>, <a class="el" href="osd__iam_8h_source.html#l00640">iam_iterator::ii_path</a>, <a class="el" href="osd__iam_8h_source.html#l00531">iam_path::ip_leaf</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l00870">LUDA_FID</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00464">osd_it_iam::oi_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01154">osd_fid_unpack()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05026">osd_it_pack_dirent()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00465">osd_quota_unpack()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a3a77cfd533d9d83cb54f98d7fee1e77f"></a><!-- doxytag: member="osd_handler.c::osd_it_iam_store" ref="a3a77cfd533d9d83cb54f98d7fee1e77f" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> osd_it_iam_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns cookie for current Iterator position. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05097">5097</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__iam_8c_source.html#l02484">iam_it_store()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00466">osd_it_iam::oi_it</a>.</p>

</div>
</div>
<a class="anchor" id="adaa4f50dffcd4ffa7d1101bc90eeaf6a"></a><!-- doxytag: member="osd_handler.c::osd_it_pack_dirent" ref="adaa4f50dffcd4ffa7d1101bc90eeaf6a" args="(struct lu_dirent *ent, struct lu_fid *fid, __u64 offset, char *name, __u16 namelen, __u16 type, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_it_pack_dirent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__dirent.html">lu_dirent</a> *&nbsp;</td>
          <td class="paramname"> <em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16&nbsp;</td>
          <td class="paramname"> <em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>build lu direct from backend fs dirent. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05026">5026</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00055">cpu_to_le16</a>, <a class="el" href="byteorder_8h_source.html#l00059">cpu_to_le64</a>, <a class="el" href="lustre__idl_8h_source.html#l00765">fid_cpu_to_le()</a>, <a class="el" href="lustre__idl_8h_source.html#l00908">lu_dirent::lde_attrs</a>, <a class="el" href="lustre__idl_8h_source.html#l00898">lu_dirent::lde_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00900">lu_dirent::lde_hash</a>, <a class="el" href="lustre__idl_8h_source.html#l00913">lu_dirent::lde_name</a>, <a class="el" href="lustre__idl_8h_source.html#l00904">lu_dirent::lde_namelen</a>, <a class="el" href="lustre__idl_8h_source.html#l00902">lu_dirent::lde_reclen</a>, <a class="el" href="lustre__idl_8h_source.html#l00983">lu_dirent_calc_size()</a>, <a class="el" href="lustre__idl_8h_source.html#l00870">LUDA_FID</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05006">osd_it_append_attrs()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05862">osd_it_ea_rec()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05046">osd_it_iam_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="a9cf636ce8bf2937e5417ab417502eeaf"></a><!-- doxytag: member="osd_handler.c::osd_key_exit" ref="a9cf636ce8bf2937e5417ab417502eeaf" args="(const struct lu_context *ctx, struct lu_context_key *key, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_key_exit </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06109">6109</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00584">osd_thread_info::oti_r_locks</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00586">osd_thread_info::oti_txns</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00585">osd_thread_info::oti_w_locks</a>.</p>

</div>
</div>
<a class="anchor" id="ae84baacaddbc0fec104e3d62f66cef9e"></a><!-- doxytag: member="osd_handler.c::osd_key_fini" ref="ae84baacaddbc0fec104e3d62f66cef9e" args="(const struct lu_context *ctx, struct lu_context_key *key, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_key_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06085">6085</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00505">osd_iobuf::dr_bl_buf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00503">osd_iobuf::dr_pg_buf</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8c_source.html#l02339">lu_buf_free()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00439">OSD_IT_EA_BUFSIZE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00589">osd_thread_info::oti_big_buf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00533">osd_thread_info::oti_hlock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00601">osd_thread_info::oti_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00580">osd_thread_info::oti_ins_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00581">osd_thread_info::oti_ins_cache_size</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00599">osd_thread_info::oti_iobuf</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00559">osd_thread_info::oti_it_ea_buf</a>.</p>

</div>
</div>
<a class="anchor" id="a2f0d2c31ef2ece6f47d23ccc53c93f2e"></a><!-- doxytag: member="osd_handler.c::osd_key_init" ref="a2f0d2c31ef2ece6f47d23ccc53c93f2e" args="(const struct lu_context *ctx, struct lu_context_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* osd_key_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06057">6057</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00439">OSD_IT_EA_BUFSIZE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00533">osd_thread_info::oti_hlock</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00559">osd_thread_info::oti_it_ea_buf</a>.</p>

</div>
</div>
<a class="anchor" id="afa5d40e10d49cbfad614e5a3b663da1d"></a><!-- doxytag: member="osd_handler.c::osd_ldiskfs_add_entry" ref="afa5d40e10d49cbfad614e5a3b663da1d" args="(struct osd_thread_info *info, handle_t *handle, struct dentry *child, struct inode *inode, struct htree_lock *hlock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_ldiskfs_add_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct htree_lock *&nbsp;</td>
          <td class="paramname"> <em>hlock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00436">436</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__user_8h_source.html#l00546">FID_LEN</a>, <a class="el" href="lustre__idl_8h_source.html#l00342">fid_seq_is_mdt0()</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00754">lu_igif_build()</a>, <a class="el" href="lustre__fid_8h_source.html#l00242">lu_local_obj_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_is_ost</a>, <a class="el" href="lustre__fid_8h_source.html#l00222">OSD_FS_ROOT_OID</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00550">osd_thread_info::oti_dev</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04240">__osd_ea_add_rec()</a>, <a class="el" href="osd__compat_8c_source.html#l00221">osd_add_to_remote_parent()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05489">osd_dirent_reinsert()</a>, <a class="el" href="osd__compat_8c_source.html#l00696">osd_obj_add_entry()</a>, <a class="el" href="osd__compat_8c_source.html#l01078">osd_obj_map_recover()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00103">osd_oi_index_create_one()</a>.</p>

</div>
</div>
<a class="anchor" id="a5280e9da97c7c431f7b88669b6d9602b"></a><!-- doxytag: member="osd_handler.c::osd_ldiskfs_filldir" ref="a5280e9da97c7c431f7b88669b6d9602b" args="(void *buf, const char *name, int namelen, loff_t offset, __u64 ino, unsigned d_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ldiskfs_filldir </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>d_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It is called internally by -&gt;readdir(). </p>
<p>It fills the iterator's in-memory data structure with required information i.e. name, namelen, rec_size etc.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>in which information to be filled in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>name of the file in given dir</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>on buffer full </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05279">5279</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00525">lu_object_header::loh_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00456">osd_it_ea::oie_buf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00446">osd_it_ea::oie_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00450">osd_it_ea::oie_rd_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00424">osd_it_ea_dirent::oied_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00425">osd_it_ea_dirent::oied_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00429">osd_it_ea_dirent::oied_name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00427">osd_it_ea_dirent::oied_namelen</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00426">osd_it_ea_dirent::oied_off</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00428">osd_it_ea_dirent::oied_type</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01154">osd_fid_unpack()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00439">OSD_IT_EA_BUFSIZE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05342">osd_ldiskfs_it_fill()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f98f35468bc147b1b98f63f6f1db571"></a><!-- doxytag: member="osd_handler.c::osd_ldiskfs_it_fill" ref="a1f98f35468bc147b1b98f63f6f1db571" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ldiskfs_it_fill </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calls -&gt;readdir() to load a directory entry at a time and stored it in iterator's in-memory data structure. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>di</em>&nbsp;</td><td>iterator's in memory structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>on error </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>+1</em>&nbsp;</td><td>reach the end of entry </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05342">5342</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01188">ldiskfs_get_htree_eof()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00456">osd_it_ea::oie_buf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00454">osd_it_ea::oie_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00448">osd_it_ea::oie_file</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00452">osd_it_ea::oie_it_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00446">osd_it_ea::oie_obj</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00450">osd_it_ea::oie_rd_dirent</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00129">osd_object::oo_ext_idx_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00128">osd_object::oo_hl_head</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05279">osd_ldiskfs_filldir()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00533">osd_thread_info::oti_hlock</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05988">osd_it_ea_load()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05408">osd_it_ea_next()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a88d570ac6f3ce6ec582a4d28ceb42f"></a><!-- doxytag: member="osd_handler.c::osd_lma_self_repair" ref="a2a88d570ac6f3ce6ec582a4d28ceb42f" args="(struct osd_thread_info *info, struct osd_device *osd, struct inode *inode, const struct lu_fid *fid, __u32 compat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_lma_self_repair </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>compat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00665">665</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00382">DTO_XATTR_SET</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00791">LDISKFS_HT_MISC</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01782">osd_dto_credits_noquota</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00792">osd_journal_start_sb</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00691">osd_check_lma()</a>.</p>

</div>
</div>
<a class="anchor" id="a4756e67556550d252890ca93e1b4b1c3"></a><!-- doxytag: member="osd_handler.c::osd_mk_index" ref="a4756e67556550d252890ca93e1b4b1c3" args="(struct osd_thread_info *info, struct osd_object *obj, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_mk_index </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02373">2373</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00314">dt_index_features::dif_flags</a>, <a class="el" href="dt__object_8h_source.html#l00318">dt_index_features::dif_keysize_max</a>, <a class="el" href="dt__object_8h_source.html#l00324">dt_index_features::dif_ptrsize</a>, <a class="el" href="dt__object_8h_source.html#l00322">dt_index_features::dif_recsize_max</a>, <a class="el" href="structdt__object__format.html#a2570277a076882708ae6b6d1419bfa13">dt_object_format::dof_idx</a>, <a class="el" href="dt__object_8h_source.html#l00329">DT_IND_VARKEY</a>, <a class="el" href="osd__iam__lfix_8c_source.html#l00850">iam_lfix_create()</a>, <a class="el" href="osd__iam__lvar_8c_source.html#l01005">iam_lvar_create()</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02298">osd_mkfile()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, and <a class="el" href="structdt__object__format.html#ab53de8222a0a448faf6fe773746a36ed">dt_object_format::u</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02466">osd_create_type_f()</a>.</p>

</div>
</div>
<a class="anchor" id="a3102a5e61d628c6ea338223302d119c1"></a><!-- doxytag: member="osd_handler.c::osd_mkdir" ref="a3102a5e61d628c6ea338223302d119c1" args="(struct osd_thread_info *info, struct osd_object *obj, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_mkdir </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02354">2354</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02298">osd_mkfile()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02466">osd_create_type_f()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a92e16f3a89e192de3bbe0534e309c7"></a><!-- doxytag: member="osd_handler.c::osd_mkfile" ref="a0a92e16f3a89e192de3bbe0534e309c7" args="(struct osd_thread_info *info, struct osd_object *obj, umode_t mode, struct dt_allocation_hint *hint, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_mkfile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">umode_t&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02298">2298</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00370">dt_allocation_hint::dah_parent</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00085">ldiskfs_pdo</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00081">LDISKFS_STATE_LUSTRE_NOSCRUB</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00128">osd_object::oo_hl_head</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02373">osd_mk_index()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02354">osd_mkdir()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02432">osd_mknod()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02410">osd_mkreg()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02421">osd_mksym()</a>.</p>

</div>
</div>
<a class="anchor" id="a9281ba7cc79bdd31dafc38b723511c2f"></a><!-- doxytag: member="osd_handler.c::osd_mknod" ref="a9281ba7cc79bdd31dafc38b723511c2f" args="(struct osd_thread_info *info, struct osd_object *obj, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_mknod </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02432">2432</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00433">lu_attr::la_rdev</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02298">osd_mkfile()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02466">osd_create_type_f()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b08e2831f3575abaf3841d562adb1df"></a><!-- doxytag: member="osd_handler.c::osd_mkreg" ref="a2b08e2831f3575abaf3841d562adb1df" args="(struct osd_thread_info *info, struct osd_object *obj, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_mkreg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02410">2410</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02298">osd_mkfile()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02466">osd_create_type_f()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7e33affba9e4c05158e62ab26677f9c"></a><!-- doxytag: member="osd_handler.c::osd_mksym" ref="aa7e33affba9e4c05158e62ab26677f9c" args="(struct osd_thread_info *info, struct osd_object *obj, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_mksym </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02421">2421</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02298">osd_mkfile()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02466">osd_create_type_f()</a>.</p>

</div>
</div>
<a class="anchor" id="a1cb3f1b42a9cd729412d2ed0ac1fa06e"></a><!-- doxytag: member="osd_handler.c::osd_mount" ref="a1cb3f1b42a9cd729412d2ed0ac1fa06e" args="(const struct lu_env *env, struct osd_device *o, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_mount </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06216">6216</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__disk_8h_source.html#l00250">LMD_FLG_NOSCRUB</a>, <a class="el" href="lustre__fid_8h_source.html#l00242">lu_local_obj_fid()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_is_ost</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00242">osd_device::od_mnt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00286">osd_device::od_mntdev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_noscrub</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="lustre__fid_8h_source.html#l00222">OSD_FS_ROOT_OID</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="string_8c_source.html#l00072">strlcat()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">osd_device_init0()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06549">osd_process_config()</a>.</p>

</div>
</div>
<a class="anchor" id="a87881f83ad267ff320ac3c9f8551f651"></a><!-- doxytag: member="osd_handler.c::osd_obd_connect" ref="a87881f83ad267ff320ac3c9f8551f651" args="(const struct lu_env *env, struct obd_export **exp, struct obd_device *obd, struct obd_uuid *cluuid, struct obd_connect_data *data, void *localdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_obd_connect </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> **&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>cluuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>localdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06599">6599</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="genops_8c_source.html#l00708">class_conn2export()</a>, <a class="el" href="genops_8c_source.html#l01150">class_connect()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00153">D_CONFIG</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00265">osd_device::od_connects</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00263">osd_device::od_osfs_lock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ab3feaf4eba85748c8149b82553c04ec7"></a><!-- doxytag: member="osd_handler.c::osd_obd_disconnect" ref="ab3feaf4eba85748c8149b82553c04ec7" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_obd_disconnect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06627">6627</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l01220">class_disconnect()</a>, <a class="el" href="obd__config_8c_source.html#l01909">class_manual_cleanup()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00265">osd_device::od_connects</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00263">osd_device::od_osfs_lock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ab3027a55b4e8d2e81d336341701972cd"></a><!-- doxytag: member="osd_handler.c::osd_object_alloc" ref="ab3027a55b4e8d2e81d336341701972cd" args="(const struct lu_env *env, const struct lu_object_header *hdr, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object.html">lu_object</a>* osd_object_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *&nbsp;</td>
          <td class="paramname"> <em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00333">333</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="dt__object_8c_source.html#l00170">dt_object_init()</a>, <a class="el" href="lu__object_8h_source.html#l00476">lu_object::lo_ops</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00129">osd_object::oo_ext_idx_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00133">osd_object::oo_guard</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00130">osd_object::oo_sem</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00119">osd_lu_obj_ops</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00121">osd_obj_ea_ops</a>.</p>

</div>
</div>
<a class="anchor" id="aaa893ad91ccae2c40ab9964e84aea966"></a><!-- doxytag: member="osd_handler.c::osd_object_create" ref="aaa893ad91ccae2c40ab9964e84aea966" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02691">2691</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02554">__osd_object_create()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02597">__osd_oi_insert()</a>, <a class="el" href="dt__object_8h_source.html#l01752">dt_object::do_body_ops</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="lustre__fid_8h_source.html#l00283">fid_is_acct()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01945">osd_body_ops</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01941">osd_body_ops_new</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00162">osd_write_locked()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="ac09ce1e09b94642ed2d9e47b5246158a"></a><!-- doxytag: member="osd_handler.c::osd_object_delete" ref="ac09ce1e09b94642ed2d9e47b5246158a" args="(const struct lu_env *env, struct lu_object *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>l</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01514">1514</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00763">i_gid_read()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00758">i_uid_read()</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lustre__quota_8h_source.html#l00191">lquota_id_info::lqi_id</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00289">osd_device::od_quota_slave</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01058">osd_index_fini()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00899">osd_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00615">osd_thread_info::oti_qi</a>, <a class="el" href="lustre__idl_8h_source.html#l01850">lquota_id::qid_uid</a>, and <a class="el" href="qsd__handler_8c_source.html#l01119">qsd_op_adjust()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7f84096219447ad50577b4ed902daaa"></a><!-- doxytag: member="osd_handler.c::osd_object_destroy" ref="ac7f84096219447ad50577b4ed902daaa" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02773">2773</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00283">fid_is_acct()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00082">LDISKFS_STATE_LUSTRE_DESTROY</a>, <a class="el" href="lustre__compat_8h_source.html#l00344">ll_dirty_inode</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00530">lu_object_header::loh_flags</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lu__object_8h_source.html#l00493">LU_OBJECT_HEARD_BANSHEE</a>, <a class="el" href="lu__object_8h_source.html#l00719">lu_object_is_dying()</a>, <a class="el" href="osd__oi_8h_source.html#l00137">OI_CHECK_FLD</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00135">osd_object::oo_destroyed</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00133">osd_object::oo_guard</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd__compat_8c_source.html#l00261">osd_delete_from_remote_parent()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01078">osd_inode_unlinked()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00778">osd_oi_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00339">OSD_OT_DESTROY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a864ec19a5c8bb9cc23a9d78ca472f395"></a><!-- doxytag: member="osd_handler.c::osd_object_ea_create" ref="a864ec19a5c8bb9cc23a9d78ca472f395" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_ea_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>OSD layer object create function for interoperability mode (b11826). </p>
<p>This is mostly similar to <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aaa893ad91ccae2c40ab9964e84aea966">osd_object_create()</a>. Only difference being, fid is inserted into inode ea here.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0,on</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03108">3108</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02554">__osd_object_create()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02597">__osd_oi_insert()</a>, <a class="el" href="dt__object_8h_source.html#l01752">dt_object::do_body_ops</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="lustre__fid_8h_source.html#l00283">fid_is_acct()</a>, <a class="el" href="lustre__idl_8h_source.html#l00462">fid_is_idif()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lustre__idl_8h_source.html#l00184">LMAC_FID_ON_OST</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_index_in_idif</a>, <a class="el" href="structost__id.html#a01d44bff8859d8cd3aabe8a4b0c2ee46">ost_id::oi</a>, <a class="el" href="osd__oi_8h_source.html#l00137">OI_CHECK_FLD</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01945">osd_body_ops</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01941">osd_body_ops_new</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00293">osd_idc_find_and_init()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00884">osd_obj2dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00162">osd_write_locked()</a>, <a class="el" href="lustre__idl_8h_source.html#l00659">ostid_to_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a31c4f5f77920a19ce7b512c2697c0947"></a><!-- doxytag: member="osd_handler.c::osd_object_free" ref="a31c4f5f77920a19ce7b512c2697c0947" args="(const struct lu_env *env, struct lu_object *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>l</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01042">1042</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00178">dt_object_fini()</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00128">osd_object::oo_hl_head</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00899">osd_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="affacc9caaa4ec75f283ab9491224ab1d"></a><!-- doxytag: member="osd_handler.c::osd_object_init" ref="affacc9caaa4ec75f283ab9491224ab1d" args="(const struct lu_env *env, struct lu_object *l, const struct lu_object_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01001">1001</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01752">dt_object::do_body_ops</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="lustre__fid_8h_source.html#l00277">fid_is_otable_it()</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lustre__user_8h_source.html#l00198">lustre_mdt_attrs::lma_incompat</a>, <a class="el" href="lustre__idl_8h_source.html#l02142">lma_to_lustre_flags()</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lu__object_8h_source.html#l00525">lu_object_header::loh_fid</a>, <a class="el" href="lu__object_8h_source.html#l00501">LOHA_EXISTS</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00138">osd_object::oo_lma_flags</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01941">osd_body_ops_new</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00899">osd_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00122">osd_obj_otable_it_ops</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00989">osd_object_init0()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>.</p>

</div>
</div>
<a class="anchor" id="ab48c0b03cf5ad9b5599e3ca0c770a713"></a><!-- doxytag: member="osd_handler.c::osd_object_init0" ref="ab48c0b03cf5ad9b5599e3ca0c770a713" args="(struct osd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_init0 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00989">989</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01752">dt_object::do_body_ops</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lu__object_8h_source.html#l00501">LOHA_EXISTS</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, and <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01945">osd_body_ops</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02554">__osd_object_create()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01001">osd_object_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aff0766e7327a833b33547927986f19f6"></a><!-- doxytag: member="osd_handler.c::osd_object_invariant" ref="aff0766e7327a833b33547927986f19f6" args="(const struct lu_object *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_invariant </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>l</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00150">150</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00899">osd_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a810b6d8b773a8d48c9d55ab112616e89"></a><!-- doxytag: member="osd_handler.c::osd_object_print" ref="a810b6d8b773a8d48c9d55ab112616e89" args="(const struct lu_env *env, void *cookie, lu_printer_t p, const struct lu_object *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_print </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>l</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01565">1565</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00481">iam_container::ic_descr</a>, <a class="el" href="osd__iam_8h_source.html#l00322">iam_operations::id_name</a>, <a class="el" href="osd__iam_8h_source.html#l00447">iam_descr::id_ops</a>, <a class="el" href="obd_8h_source.html#l00447">LUSTRE_OSD_LDISKFS_NAME</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00131">osd_object::oo_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00899">osd_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="ace9f75d885542270b17e11222018fb4f"></a><!-- doxytag: member="osd_handler.c::osd_object_put" ref="ace9f75d885542270b17e11222018fb4f" args="(const struct lu_env *env, struct osd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put the osd object once done with it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>osd object that needs to be put </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04695">4695</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00116">osd_object::oo_dt</a>.</p>

</div>
</div>
<a class="anchor" id="a10d58b4bc743588d6f8ac8921126285b"></a><!-- doxytag: member="osd_handler.c::osd_object_read_lock" ref="a10d58b4bc743588d6f8ac8921126285b" args="(const struct lu_env *env, struct dt_object *dt, unsigned role)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_read_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>role</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01849">1849</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00147">osd_object::oo_owner</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00130">osd_object::oo_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00584">osd_thread_info::oti_r_locks</a>.</p>

</div>
</div>
<a class="anchor" id="a3dc1404c9d3284f030355f4b69c8e087"></a><!-- doxytag: member="osd_handler.c::osd_object_read_unlock" ref="a3dc1404c9d3284f030355f4b69c8e087" args="(const struct lu_env *env, struct dt_object *dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_read_unlock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01880">1880</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00130">osd_object::oo_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00584">osd_thread_info::oti_r_locks</a>.</p>

</div>
</div>
<a class="anchor" id="a880ec462b356e763fe870b2fbf552526"></a><!-- doxytag: member="osd_handler.c::osd_object_ref_add" ref="a880ec462b356e763fe870b2fbf552526" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_ref_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03196">3196</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a4368e7b7c1ced583f56b58dbd21a46e4">ldiskfs_inc_count()</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lustre__compat_8h_source.html#l00344">ll_dirty_inode</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00135">osd_object::oo_destroyed</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00133">osd_object::oo_guard</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00340">OSD_OT_REF_ADD</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00162">osd_write_locked()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="lustre__compat_8h_source.html#l00316">set_nlink()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="abecde582245b9b2af1fa0376cc2773f6"></a><!-- doxytag: member="osd_handler.c::osd_object_ref_del" ref="abecde582245b9b2af1fa0376cc2773f6" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_ref_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03273">3273</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00266">CDEBUG_LIMIT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="lustre__idl_8h_source.html#l00477">fid_is_norm()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a69cd43cc9afcabe50df9073a786a43f4">ldiskfs_dec_count()</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lustre__compat_8h_source.html#l00344">ll_dirty_inode</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00133">osd_object::oo_guard</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00341">OSD_OT_REF_DEL</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00162">osd_write_locked()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

</div>
</div>
<a class="anchor" id="abae64cbdf268d72534cbe0d375a86812"></a><!-- doxytag: member="osd_handler.c::osd_object_release" ref="abae64cbdf268d72534cbe0d375a86812" args="(const struct lu_env *env, struct lu_object *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_release </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>l</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01551">1551</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00135">osd_object::oo_destroyed</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00899">osd_obj()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="ab893b054b4b0fd4ac6b7952a88ad99ea"></a><!-- doxytag: member="osd_handler.c::osd_object_sync" ref="ab893b054b4b0fd4ac6b7952a88ad99ea" args="(const struct lu_env *env, struct dt_object *dt, __u64 start, __u64 end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_sync </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03594">3594</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="linux-fs_8h_source.html#l00062">ll_vfs_fsync_range</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00528">osd_thread_info::oti_file</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__compat_8h_source.html#l00350">set_file_inode</a>.</p>

</div>
</div>
<a class="anchor" id="acdc33f9b7beb2f947d151cc379d93c75"></a><!-- doxytag: member="osd_handler.c::osd_object_version_get" ref="acdc33f9b7beb2f947d151cc379d93c75" args="(const struct lu_env *env, struct dt_object *dt, dt_obj_version_t *ver)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_version_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__dt.html#gad589f42840c693e67e09774b46036250">dt_obj_version_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ver</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03324">3324</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03338">osd_xattr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a8369357da12023d1b0190ae5e70690d1"></a><!-- doxytag: member="osd_handler.c::osd_object_version_set" ref="a8369357da12023d1b0190ae5e70690d1" args="(const struct lu_env *env, struct dt_object *dt, dt_obj_version_t *new_version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_version_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__dt.html#gad589f42840c693e67e09774b46036250">dt_obj_version_t</a> *&nbsp;</td>
          <td class="paramname"> <em>new_version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Version is set after all inode operations are finished, so we should mark it dirty here </p>
</p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03440">3440</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__compat_8h_source.html#l00344">ll_dirty_inode</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03458">osd_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a422cc56d5664a8176ed227f17021f7dc"></a><!-- doxytag: member="osd_handler.c::osd_object_write_lock" ref="a422cc56d5664a8176ed227f17021f7dc" args="(const struct lu_env *env, struct dt_object *dt, unsigned role)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_write_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>role</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01864">1864</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00147">osd_object::oo_owner</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00130">osd_object::oo_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00585">osd_thread_info::oti_w_locks</a>.</p>

</div>
</div>
<a class="anchor" id="a677700883eca41df1cb2160814b664dd"></a><!-- doxytag: member="osd_handler.c::osd_object_write_locked" ref="a677700883eca41df1cb2160814b664dd" args="(const struct lu_env *env, struct dt_object *dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_object_write_locked </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01908">1908</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00147">osd_object::oo_owner</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>.</p>

</div>
</div>
<a class="anchor" id="a23662410a95ee7c0c12286b5e7c7ef88"></a><!-- doxytag: member="osd_handler.c::osd_object_write_unlock" ref="a23662410a95ee7c0c12286b5e7c7ef88" args="(const struct lu_env *env, struct dt_object *dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_object_write_unlock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01893">1893</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00147">osd_object::oo_owner</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00130">osd_object::oo_sem</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00585">osd_thread_info::oti_w_locks</a>.</p>

</div>
</div>
<a class="anchor" id="a1eb6f2ed3d23e791c009d199e7b09444"></a><!-- doxytag: member="osd_handler.c::osd_otable_it_attr_get" ref="a1eb6f2ed3d23e791c009d199e7b09444" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_otable_it_attr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03751">3751</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>.</p>

</div>
</div>
<a class="anchor" id="a313ad2f30f74ca03e5e49edbe669b6ce"></a><!-- doxytag: member="osd_handler.c::osd_param_is_not_sane" ref="a313ad2f30f74ca03e5e49edbe669b6ce" args="(const struct osd_device *dev, const struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_param_is_not_sane </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01171">1171</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00813">osd_transaction_size</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00357">osd_thandle::ot_credits</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01303">osd_trans_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a12f1893815ed9f47db04de91fd6255d6"></a><!-- doxytag: member="osd_handler.c::osd_prepare" ref="a12f1893815ed9f47db04de91fd6255d6" args="(const struct lu_env *env, struct lu_device *pdev, struct lu_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_prepare </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>pdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06648">6648</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lu__object_8h_source.html#l00649">lu_site::ls_tgt</a>, <a class="el" href="lustre__disk_8h_source.html#l00336">lr_server_data::lsd_feature_incompat</a>, <a class="el" href="lustre__disk_8h_source.html#l00335">lr_server_data::lsd_feature_rocompat</a>, <a class="el" href="lu__target_8h_source.html#l00144">lu_target::lut_lsd</a>, <a class="el" href="lustre__disk_8h_source.html#l00289">OBD_COMPAT_OST</a>, <a class="el" href="lustre__disk_8h_source.html#l00298">OBD_ROCOMPAT_IDX_IN_IDIF</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00240">osd_device::od_dt_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_index_in_idif</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00289">osd_device::od_quota_slave</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06141">osd_fid_init()</a>, <a class="el" href="qsd__lib_8c_source.html#l00656">qsd_prepare()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ae02a43ae598bb1c1ae6ad78e93f2404b"></a><!-- doxytag: member="osd_handler.c::osd_process_config" ref="ae02a43ae598bb1c1ae6ad78e93f2404b" args="(const struct lu_env *env, struct lu_device *d, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_process_config </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06549">6549</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="obd__config_8c_source.html#l01322">class_process_proc_param()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00075">LCFG_CLEANUP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00086">LCFG_PARAM</a>, <a class="el" href="lustre__cfg_8h_source.html#l00074">LCFG_SETUP</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lu__object_8c_source.html#l01047">lu_dev_del_linkage()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00240">osd_device::od_dt_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06216">osd_mount()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06186">osd_shutdown()</a>, <a class="el" href="lustre__param_8h_source.html#l00107">PARAM_OSD</a>, <a class="el" href="lustre__param_8h_source.html#l00106">PARAM_OST</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a3417b468e784f46683d3e00fb2772be2"></a><!-- doxytag: member="osd_handler.c::osd_process_scheduled_agent_removals" ref="a3417b468e784f46683d3e00fb2772be2" args="(const struct lu_env *env, struct osd_device *osd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_process_scheduled_agent_removals </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03050">3050</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00791">LDISKFS_HT_MISC</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00304">osd_device::od_orphan_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00263">osd_device::od_osfs_lock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00231">osd_obj_orphan::oor_env</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00232">osd_obj_orphan::oor_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00230">osd_obj_orphan::oor_list</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00484">osd_iget_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00792">osd_journal_start_sb</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03940">osd_remote_fid()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01413">osd_trans_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a1456e30edc58dff4ea93b087488df186"></a><!-- doxytag: member="osd_handler.c::osd_quota_transfer" ref="a1456e30edc58dff4ea93b087488df186" args="(struct inode *inode, const struct lu_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_quota_transfer </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02172">2172</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00763">i_gid_read()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00758">i_uid_read()</a>, <a class="el" href="lu__object_8h_source.html#l00423">lu_attr::la_gid</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="lustre__compat_8h_source.html#l00171">ll_vfs_dq_transfer</a>, <a class="el" href="curproc_8h_source.html#l00075">make_kgid()</a>, and <a class="el" href="curproc_8h_source.html#l00070">make_kuid()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02511">osd_attr_init()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02199">osd_attr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ada2170472b1fb89d6a4a521866552f52"></a><!-- doxytag: member="osd_handler.c::osd_recovery_complete" ref="ada2170472b1fb89d6a4a521866552f52" args="(const struct lu_env *env, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_recovery_complete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06580">6580</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00289">osd_device::od_quota_slave</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="qsd__lib_8c_source.html#l00768">qsd_start()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a61bd4e5ef8db6badbfced16894c04b0b"></a><!-- doxytag: member="osd_handler.c::osd_remote_fid" ref="a61bd4e5ef8db6badbfced16894c04b0b" args="(const struct lu_env *env, struct osd_device *osd, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_remote_fid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03940">3940</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00312">fid_seq_in_fldb()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01372">osd_seq_exists()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00920">osd_seq_site()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__fid_8h_source.html#l00458">seq_server_site::ss_server_fld</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00251">osd_idc_find_or_init()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03973">osd_index_ea_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05862">osd_it_ea_rec()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03050">osd_process_scheduled_agent_removals()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9f456749443c7e1e4ddd3c59410cbb8"></a><!-- doxytag: member="osd_handler.c::osd_ro" ref="ae9f456749443c7e1e4ddd3c59410cbb8" args="(const struct lu_env *env, struct dt_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ro </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01749">1749</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="libcfs__debug_8h_source.html#l00136">D_IOCTL</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00872">osd_dt_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ad53e9dc79f4f5e10d0c3ec1fe3a8907f"></a><!-- doxytag: member="osd_handler.c::osd_root_get" ref="ad53e9dc79f4f5e10d0c3ec1fe3a8907f" args="(const struct lu_env *env, struct dt_device *dev, struct lu_fid *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_root_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00171">171</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="lustre__fid_8h_source.html#l00242">lu_local_obj_fid()</a>, and <a class="el" href="lustre__fid_8h_source.html#l00222">OSD_FS_ROOT_OID</a>.</p>

</div>
</div>
<a class="anchor" id="aac1d0d9f81936130ca25ccf1fdd82f42"></a><!-- doxytag: member="osd_handler.c::osd_schedule_agent_inode_removal" ref="aac1d0d9f81936130ca25ccf1fdd82f42" args="(const struct lu_env *env, struct osd_thandle *oh, __u32 ino)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_schedule_agent_inode_removal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>oh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>ino</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>when direntry is deleted, we have to take care of possible agent inode referenced by that. </p>
<p>unfortunately we can't do this at that point: iget() within a running transaction leads to deadlock and we better do not call that every delete declaration to save performance. so we put a potention agent inode on a list and process that once the transaction is over. Notice it's not any worse in terms of real orphans as regular object destroy doesn't put inodes on the on-disk orphan list. this should be addressed separately </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03027">3027</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00304">osd_device::od_orphan_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00263">osd_device::od_osfs_lock</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00231">osd_obj_orphan::oor_env</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00232">osd_obj_orphan::oor_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00230">osd_obj_orphan::oor_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00872">osd_dt_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00360">osd_thandle::ot_remove_agents</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, and <a class="el" href="dt__object_8h_source.html#l01828">thandle::th_dev</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03973">osd_index_ea_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d261d571c889f4d6c1b4f5a9cee6d1c"></a><!-- doxytag: member="osd_handler.c::osd_seq_exists" ref="a7d261d571c889f4d6c1b4f5a9cee6d1c" args="(const struct lu_env *env, struct osd_device *osd, u64 seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_seq_exists </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01372">1372</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lustre__idl_8h_source.html#l00156">lu_seq_range::lsr_index</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02619">osd_fld_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00920">osd_seq_site()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00619">osd_thread_info::oti_seq_range</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, and <a class="el" href="lustre__fid_8h_source.html#l00458">seq_server_site::ss_server_fld</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03940">osd_remote_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="ab7532bf2eebe4169bc7de5b0f70cb7d9"></a><!-- doxytag: member="osd_handler.c::osd_shutdown" ref="ab7532bf2eebe4169bc7de5b0f70cb7d9" args="(const struct lu_env *env, struct osd_device *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_shutdown </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06186">6186</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00289">osd_device::od_quota_slave</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06176">osd_fid_fini()</a>, <a class="el" href="qsd__lib_8c_source.html#l00474">qsd_fini()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06389">osd_device_fini()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06549">osd_process_config()</a>.</p>

</div>
</div>
<a class="anchor" id="a0e4f6c907c6284be39139b21963e044c"></a><!-- doxytag: member="osd_handler.c::osd_statfs" ref="a0e4f6c907c6284be39139b21963e044c" args="(const struct lu_env *env, struct dt_device *d, struct obd_statfs *sfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_statfs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__statfs.html">obd_statfs</a> *&nbsp;</td>
          <td class="paramname"> <em>sfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01586">1586</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a02e579d5033b1d4f3f5b4691291188cc"></a><!-- doxytag: member="osd_handler.c::osd_sync" ref="a02e579d5033b1d4f3f5b4691291188cc" args="(const struct lu_env *env, struct dt_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_sync </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01709">1709</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="obd_8h_source.html#l00447">LUSTRE_OSD_LDISKFS_NAME</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00872">osd_dt_dev()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06201">osd_umount()</a>.</p>

</div>
</div>
<a class="anchor" id="a25369537aa363b1d01a9e1d7f2587054"></a><!-- doxytag: member="osd_handler.c::osd_trans_cb_add" ref="a25369537aa363b1d01a9e1d7f2587054" args="(struct thandle *th, struct dt_txn_commit_cb *dcb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_trans_cb_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__txn__commit__cb.html">dt_txn_commit_cb</a> *&nbsp;</td>
          <td class="paramname"> <em>dcb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01492">1492</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00113">dt_txn_commit_cb::dcb_flags</a>, <a class="el" href="dt__object_8h_source.html#l00110">dt_txn_commit_cb::dcb_func</a>, <a class="el" href="dt__object_8h_source.html#l00109">dt_txn_commit_cb::dcb_linkage</a>, <a class="el" href="dt__object_8h_source.html#l00112">dt_txn_commit_cb::dcb_magic</a>, <a class="el" href="dt__object_8h_source.html#l00107">DCB_TRANS_STOP</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00353">osd_thandle::ot_commit_dcb_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00354">osd_thandle::ot_stop_dcb_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, and <a class="el" href="dt__object_8h_source.html#l00104">TRANS_COMMIT_CB_MAGIC</a>.</p>

</div>
</div>
<a class="anchor" id="a6be53a4d1489ce19d1f3124f6edf8911"></a><!-- doxytag: member="osd_handler.c::osd_trans_commit_cb" ref="a6be53a4d1489ce19d1f3124f6edf8911" args="(struct super_block *sb, struct ldiskfs_journal_cb_entry *jcb, int error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_trans_commit_cb </td>
          <td>(</td>
          <td class="paramtype">struct super_block *&nbsp;</td>
          <td class="paramname"> <em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ldiskfs_journal_cb_entry *&nbsp;</td>
          <td class="paramname"> <em>jcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01182">1182</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="dt__object_8h_source.html#l00110">dt_txn_commit_cb::dcb_func</a>, <a class="el" href="dt__object_8h_source.html#l00109">dt_txn_commit_cb::dcb_linkage</a>, <a class="el" href="dt__object_8h_source.html#l00112">dt_txn_commit_cb::dcb_magic</a>, <a class="el" href="dt__object_8h_source.html#l00114">dt_txn_commit_cb::dcb_name</a>, <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="dt__object_8c_source.html#l00139">dt_txn_hook_commit()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lu__object_8h_source.html#l00291">lu_device::ld_reference</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lu__object_8c_source.html#l01786">lu_context_exit()</a>, <a class="el" href="lu__object_8c_source.html#l01755">lu_context_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01190">lu_device_put()</a>, <a class="el" href="lu__ref_8h_source.html#l00234">lu_ref_del_at()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00353">osd_thandle::ot_commit_dcb_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00356">osd_thandle::ot_dev_link</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00352">osd_thandle::ot_jcb</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="dt__object_8h_source.html#l01838">thandle::th_ctx</a>, <a class="el" href="dt__object_8h_source.html#l01828">thandle::th_dev</a>, and <a class="el" href="dt__object_8h_source.html#l00104">TRANS_COMMIT_CB_MAGIC</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01413">osd_trans_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a31832c549d1c5ac7170ad86eb07a181d"></a><!-- doxytag: member="osd_handler.c::osd_trans_create" ref="a31832c549d1c5ac7170ad86eb07a181d" args="(const struct lu_env *env, struct dt_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structthandle.html">thandle</a>* osd_trans_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01216">1216</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00495">osd_iobuf::dr_numreqs</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01003">LCT_TX_HANDLE</a>, <a class="el" href="obd__support_8h_source.html#l00705">OBD_ALLOC_GFP</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01162">osd_th_alloced</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00353">osd_thandle::ot_commit_dcb_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00357">osd_thandle::ot_credits</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00362">osd_thandle::ot_quota_trans</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00354">osd_thandle::ot_stop_dcb_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00625">osd_thread_info::oti_declare_ops</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00626">osd_thread_info::oti_declare_ops_cred</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00627">osd_thread_info::oti_declare_ops_used</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00599">osd_thread_info::oti_iobuf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00616">osd_thread_info::oti_quota_trans</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="dt__object_8h_source.html#l01828">thandle::th_dev</a>, <a class="el" href="dt__object_8h_source.html#l01845">thandle::th_result</a>, and <a class="el" href="dt__object_8h_source.html#l01841">thandle::th_tags</a>.</p>

</div>
</div>
<a class="anchor" id="a2aca305ee7edbdde2f7d1f84a075bcb6"></a><!-- doxytag: member="osd_handler.c::osd_trans_dump_creds" ref="a2aca305ee7edbdde2f7d1f84a075bcb6" args="(const struct lu_env *env, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osd_trans_dump_creds </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01252">1252</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00335">OSD_OT_ATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00338">OSD_OT_CREATE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00344">OSD_OT_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00339">OSD_OT_DESTROY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00343">OSD_OT_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00336">OSD_OT_PUNCH</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00345">OSD_OT_QUOTA</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00340">OSD_OT_REF_ADD</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00341">OSD_OT_REF_DEL</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00342">OSD_OT_WRITE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00337">OSD_OT_XATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00625">osd_thread_info::oti_declare_ops</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00626">osd_thread_info::oti_declare_ops_cred</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00627">osd_thread_info::oti_declare_ops_used</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01303">osd_trans_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ac1d8eae8fc1e33b5da4c82d9446092"></a><!-- doxytag: member="osd_handler.c::osd_trans_start" ref="a4ac1d8eae8fc1e33b5da4c82d9446092" args="(const struct lu_env *env, struct dt_device *d, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_trans_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01303">1303</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="dt__object_8c_source.html#l00079">dt_txn_hook_start()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00291">lu_device::ld_reference</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00791">LDISKFS_HT_MISC</a>, <a class="el" href="libcfs__private_8h_source.html#l00302">libcfs_debug_dumpstack</a>, <a class="el" href="lu__object_8c_source.html#l01776">lu_context_enter()</a>, <a class="el" href="lu__object_8c_source.html#l01729">lu_context_init()</a>, <a class="el" href="lu__object_8c_source.html#l01181">lu_device_get()</a>, <a class="el" href="lu__ref_8h_source.html#l00216">lu_ref_add_at()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00872">osd_dt_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00792">osd_journal_start_sb</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01171">osd_param_is_not_sane()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01163">osd_th_started</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01252">osd_trans_dump_creds()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00813">osd_transaction_size</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00357">osd_thandle::ot_credits</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00356">osd_thandle::ot_dev_link</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00586">osd_thread_info::oti_txns</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="dt__object_8h_source.html#l01838">thandle::th_ctx</a>, <a class="el" href="dt__object_8h_source.html#l01841">thandle::th_tags</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="aa101a3ebabb8612fed4e486c7fd42046"></a><!-- doxytag: member="osd_handler.c::osd_trans_stop" ref="aa101a3ebabb8612fed4e486c7fd42046" args="(const struct lu_env *env, struct dt_device *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_trans_stop </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01413">1413</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00498">osd_iobuf::dr_error</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00495">osd_iobuf::dr_numreqs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00494">osd_iobuf::dr_wait</a>, <a class="el" href="dt__object_8c_source.html#l00109">dt_txn_hook_stop()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00289">osd_device::od_quota_slave</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01164">OSD_CHECK_SLOW_TH</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00872">osd_dt_dev()</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l00128">osd_fini_iobuf()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03050">osd_process_scheduled_agent_removals()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01182">osd_trans_commit_cb()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01394">osd_trans_stop_cb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00351">osd_thandle::ot_handle</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00352">osd_thandle::ot_jcb</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00362">osd_thandle::ot_quota_trans</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00360">osd_thandle::ot_remove_agents</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00582">osd_thread_info::oti_ins_cache_used</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00599">osd_thread_info::oti_iobuf</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00586">osd_thread_info::oti_txns</a>, <a class="el" href="qsd__handler_8c_source.html#l01069">qsd_op_end()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="dt__object_8h_source.html#l01828">thandle::th_dev</a>, <a class="el" href="dt__object_8h_source.html#l01845">thandle::th_result</a>, <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_sync</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a7c05f934b27a6332588fcbe2194bc415"></a><!-- doxytag: member="osd_handler.c::osd_trans_stop_cb" ref="a7c05f934b27a6332588fcbe2194bc415" args="(struct osd_thandle *oth, int result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_trans_stop_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thandle.html">osd_thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>oth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01394">1394</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00110">dt_txn_commit_cb::dcb_func</a>, <a class="el" href="dt__object_8h_source.html#l00109">dt_txn_commit_cb::dcb_linkage</a>, <a class="el" href="dt__object_8h_source.html#l00112">dt_txn_commit_cb::dcb_magic</a>, <a class="el" href="dt__object_8h_source.html#l00114">dt_txn_commit_cb::dcb_name</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00354">osd_thandle::ot_stop_dcb_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00350">osd_thandle::ot_super</a>, and <a class="el" href="dt__object_8h_source.html#l00104">TRANS_COMMIT_CB_MAGIC</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01413">osd_trans_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a73e49c78bd0eabb0018de99cb75052fc"></a><!-- doxytag: member="osd_handler.c::osd_umount" ref="a73e49c78bd0eabb0018de99cb75052fc" args="(const struct lu_env *env, struct osd_device *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_umount </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06201">6201</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00240">osd_device::od_dt_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00242">osd_device::od_mnt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01709">osd_sync()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06389">osd_device_fini()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">osd_device_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a1edf0425fb63b9c01d7651ed67c4d318"></a><!-- doxytag: member="osd_handler.c::osd_write_locked" ref="a1edf0425fb63b9c01d7651ed67c4d318" args="(const struct lu_env *env, struct osd_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_write_locked </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__object.html">osd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00162">162</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00147">osd_object::oo_owner</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00585">osd_thread_info::oti_w_locks</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02691">osd_object_create()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03108">osd_object_ea_create()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03196">osd_object_ref_add()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03273">osd_object_ref_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d33a476fe1a05fa84f6e1748664ff1c"></a><!-- doxytag: member="osd_handler.c::osd_xattr_del" ref="a0d33a476fe1a05fa84f6e1748664ff1c" args="(const struct lu_env *env, struct dt_object *dt, const char *name, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_xattr_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03567">3567</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00337">OSD_OT_XATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>.</p>

</div>
</div>
<a class="anchor" id="a9a209f6bcdd49419343058341b965dfa"></a><!-- doxytag: member="osd_handler.c::osd_xattr_get" ref="a9a209f6bcdd49419343058341b965dfa" args="(const struct lu_env *env, struct dt_object *dt, struct lu_buf *buf, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_xattr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03338">3338</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00227">__osd_xattr_get()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03324">osd_object_version_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, and <a class="el" href="lustre__idl_8h_source.html#l01600">XATTR_NAME_VERSION</a>.</p>

</div>
</div>
<a class="anchor" id="a9d9e9bf049703d1f87df3866d8c6b57a"></a><!-- doxytag: member="osd_handler.c::osd_xattr_list" ref="a9d9e9bf049703d1f87df3866d8c6b57a" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_xattr_list </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03520">3520</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>.</p>

</div>
</div>
<a class="anchor" id="ad64cc100a26db12bdbe4acde07433a03"></a><!-- doxytag: member="osd_handler.c::osd_xattr_set" ref="ad64cc100a26db12bdbe4acde07433a03" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_xattr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03458">3458</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00477">__osd_xattr_set()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__user_8h_source.html#l00198">lustre_mdt_attrs::lma_incompat</a>, <a class="el" href="lustre__idl_8h_source.html#l00198">LMAI_STRIPED</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lu__object_8h_source.html#l00910">LU_XATTR_CREATE</a>, <a class="el" href="lu__object_8h_source.html#l00909">LU_XATTR_REPLACE</a>, <a class="el" href="md__attrs_8c_source.html#l00064">lustre_lma_swab()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00559">OBD_FAIL_LFSCK_LINKEA_OVERFLOW</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00124">osd_object::oo_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00905">osd_dt_obj()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03440">osd_object_version_set()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00337">OSD_OT_XATTR_SET</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01090">osd_trans_exec_check()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01025">osd_trans_exec_op()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>, <a class="el" href="lustre__idl_8h_source.html#l01595">XATTR_NAME_LMA</a>, <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>, and <a class="el" href="lustre__idl_8h_source.html#l01600">XATTR_NAME_VERSION</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="abe6cafa537717678814801ed8d6cb180"></a><!-- doxytag: member="osd_handler.c::dot" ref="abe6cafa537717678814801ed8d6cb180" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#abe6cafa537717678814801ed8d6cb180">dot</a>[] = &quot;.&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00115">115</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7914eee395b20d62ae6bc4a189f3a468"></a><!-- doxytag: member="osd_handler.c::dotdot" ref="a7914eee395b20d62ae6bc4a189f3a468" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7914eee395b20d62ae6bc4a189f3a468">dotdot</a>[] = &quot;..&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00116">116</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a910895d69a79a724854f18a2ca888b2e"></a><!-- doxytag: member="osd_handler.c::dynlock_cachep" ref="a910895d69a79a724854f18a2ca888b2e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a910895d69a79a724854f18a2ca888b2e">dynlock_cachep</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00094">94</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd__dynlocks_8c_source.html#l00067">dynlock_lock()</a>, and <a class="el" href="osd__dynlocks_8c_source.html#l00159">dynlock_unlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a91d04b688d67b92460e3268dce22f54c"></a><!-- doxytag: member="osd_handler.c::ldiskfs_caches" ref="a91d04b688d67b92460e3268dce22f54c" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a> <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a91d04b688d67b92460e3268dce22f54c">ldiskfs_caches</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        {
                .ckd_cache = &amp;<a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a910895d69a79a724854f18a2ca888b2e">dynlock_cachep</a>,
                .ckd_name  = <span class="stringliteral">&quot;dynlock_cache&quot;</span>,
                .ckd_size  = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structdynlock__handle.html">dynlock_handle</a>)
        },
        {
                .ckd_cache = &amp;<a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a09679a364db130332b8643d023e57a43">osd_itea_cachep</a>,
                .ckd_name  = <span class="stringliteral">&quot;osd_itea_cache&quot;</span>,
                .ckd_size  = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structosd__it__ea.html" title="This is iterator&amp;#39;s in-memory data structure in interoperability mode (i.e.">osd_it_ea</a>)
        },
        {
                .ckd_cache = NULL
        }
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00099">99</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3215c9997e34962b3f09a573dfd8ea39"></a><!-- doxytag: member="osd_handler.c::ldiskfs_pdo" ref="a3215c9997e34962b3f09a573dfd8ea39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a3215c9997e34962b3f09a573dfd8ea39">ldiskfs_pdo</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00085">85</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02298">osd_mkfile()</a>.</p>

</div>
</div>
<a class="anchor" id="a9de56a4f2fb731a6a3521d1762bcf984"></a><!-- doxytag: member="osd_handler.c::ldiskfs_track_declares_assert" ref="a9de56a4f2fb731a6a3521d1762bcf984" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a9de56a4f2fb731a6a3521d1762bcf984">ldiskfs_track_declares_assert</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00089">89</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a919841195629ecbb654d9ec7408977d7"></a><!-- doxytag: member="osd_handler.c::osd_device_type" ref="a919841195629ecbb654d9ec7408977d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__type.html">lu_device_type</a> <a class="el" href="osd-zfs_2osd__handler_8c.html#a919841195629ecbb654d9ec7408977d7">osd_device_type</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ldt_tags     = <a class="code" href="group__lu.html#ggaa318f5b20c40de1d564f59dd72726345a5b8da75da353b465f5ddc30d87c931d9" title="this is data device">LU_DEVICE_DT</a>,
        .ldt_name     = <a class="code" href="obd_8h.html#ace198fbd08d2d455947f976741715ab1">LUSTRE_OSD_LDISKFS_NAME</a>,
        .ldt_ops      = &amp;<a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a33ce5a53b0b97e708dbd5ee4e7025a88">osd_device_type_ops</a>,
        .ldt_ctx_tags = <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa87bf2c0c71c5af685cf15e809a7ed551" title="Context for local operations.">LCT_LOCAL</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06722">6722</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a33ce5a53b0b97e708dbd5ee4e7025a88"></a><!-- doxytag: member="osd_handler.c::osd_device_type_ops" ref="a33ce5a53b0b97e708dbd5ee4e7025a88" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__type__operations.html">lu_device_type_operations</a> <a class="el" href="osd-zfs_2osd__handler_8c.html#a33ce5a53b0b97e708dbd5ee4e7025a88">osd_device_type_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ldto_init = <a class="code" href="osd-zfs_2osd__handler_8c.html#a693a766c279a010bf8c6b0edaea7b656">osd_type_init</a>,
        .ldto_fini = <a class="code" href="osd-zfs_2osd__handler_8c.html#a79b41036c65eeaff3eda900bfa74a935">osd_type_fini</a>,

        .ldto_start = <a class="code" href="osd-zfs_2osd__handler_8c.html#a7ecccb8ba74b051dac0ec4d25191753e">osd_type_start</a>,
        .ldto_stop  = <a class="code" href="osd-zfs_2osd__handler_8c.html#a9a2d8194a5cc7c1299a3e6ef4a41215e">osd_type_stop</a>,

        .ldto_device_alloc = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a4c2419759ab5a3c5907d9c52987ef422">osd_device_alloc</a>,
        .ldto_device_free  = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a0d7bcd05b273464f91d1110e4ffb7748">osd_device_free</a>,

        .ldto_device_init    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a75f0571fe8ca734311bc51378ad44251">osd_device_init</a>,
        .ldto_device_fini    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ad471f191db233aea3b8441cdffc360cb">osd_device_fini</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06708">6708</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa7cdc85c4aa2b8df3fdb7c6002981e13"></a><!-- doxytag: member="osd_handler.c::osd_dt_ops" ref="aa7cdc85c4aa2b8df3fdb7c6002981e13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__device__operations.html">dt_device_operations</a> <a class="el" href="osd-zfs_2osd__handler_8c.html#aa7cdc85c4aa2b8df3fdb7c6002981e13">osd_dt_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dt_root_get       = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ad53e9dc79f4f5e10d0c3ec1fe3a8907f">osd_root_get</a>,
        .dt_statfs         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a0e4f6c907c6284be39139b21963e044c">osd_statfs</a>,
        .dt_trans_create   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a31832c549d1c5ac7170ad86eb07a181d">osd_trans_create</a>,
        .dt_trans_start    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a4ac1d8eae8fc1e33b5da4c82d9446092">osd_trans_start</a>,
        .dt_trans_stop     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aa101a3ebabb8612fed4e486c7fd42046">osd_trans_stop</a>,
        .dt_trans_cb_add   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a25369537aa363b1d01a9e1d7f2587054">osd_trans_cb_add</a>,
        .dt_conf_get       = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a7f7524388930e4573ea49c41c7eb3529">osd_conf_get</a>,
        .dt_sync           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a02e579d5033b1d4f3f5b4691291188cc">osd_sync</a>,
        .dt_ro             = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ae9f456749443c7e1e4ddd3c59410cbb8">osd_ro</a>,
        .dt_commit_async   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ad91a97b98654f2ae5119a4756ac088c9" title="Start commit for OSD device.">osd_commit_async</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01836">1836</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a629dd8c8b646bfa837e2dfe966091175"></a><!-- doxytag: member="osd_handler.c::osd_dto_credits_noquota" ref="a629dd8c8b646bfa837e2dfe966091175" args="[DTO_NR]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="osd-ldiskfs_2osd__internal_8h.html#adf349fa4ee864466b8a4dd701fc1fa20">osd_dto_credits_noquota</a>[DTO_NR]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008a0db6e2f1bdefe61b343806127ae82084">DTO_INDEX_INSERT</a>]  = 16,
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008a55044b37b8813ad08e1957f41f09c372">DTO_INDEX_DELETE</a>]  = 1,
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008a3dc7795edc123d7e46310cbf530a41f6">DTO_INDEX_UPDATE</a>]  = 16,
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008a812c47bad7436bf0c6d876f3471bb742">DTO_OBJECT_CREATE</a>] = 4,
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008ab059c779ee80e45c48a0e09b7343e555">DTO_OBJECT_DELETE</a>] = 4,
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008af64d01789c934b9f96b4fbdf834142fb">DTO_ATTR_SET_BASE</a>] = 1,
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008acc50ac2f75e6d8feba6445a6946b836e">DTO_XATTR_SET</a>]     = 14,
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008ae505809a719c04852b45483a9783489f">DTO_WRITE_BASE</a>]    = 3,
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008afae5fcb72cc33f95739cd3ee2fb2bc76">DTO_WRITE_BLOCK</a>]   = 14,
        
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a19784b8c9b52fdf1fd273225161d8008a6cf7d624ce0587faee45f79fab0a71a8">DTO_ATTR_SET_CHOWN</a>] = 0
}
</pre></div>
<p>Note: we do not count into QUOTA here. </p>
<p>If we mount with --data_journal we may need more. </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01782">1782</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01764">osd_declare_punch()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00665">osd_lma_self_repair()</a>, <a class="el" href="osd__compat_8c_source.html#l01078">osd_obj_map_recover()</a>, <a class="el" href="osd__scrub_8c_source.html#l00370">osd_scrub_convert_ff()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="afc66377b7930afd272aa09cd2b02d6bb"></a><!-- doxytag: member="osd_handler.c::osd_index_ea_ops" ref="afc66377b7930afd272aa09cd2b02d6bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a> <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#afc66377b7930afd272aa09cd2b02d6bb">osd_index_ea_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dio_lookup         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a704eb9e17b1cd5fc06862d39d634d035" title="Index lookup function for interoperability mode (b11826).">osd_index_ea_lookup</a>,
        .dio_declare_insert = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a703cec73cf6c56de200cae4d27eb61d3">osd_index_declare_ea_insert</a>,
        .dio_insert         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a0044ba97696e52907ae6f670b03186ce" title="Index add function for interoperability mode (b11826).">osd_index_ea_insert</a>,
        .dio_declare_delete = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ac0116850e6c7fc559451e7a754aa4985">osd_index_declare_ea_delete</a>,
        .dio_delete         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aeb125db0bc7ec337b61adadd75c3dd7e" title="Index delete function for interoperability mode (b11826).">osd_index_ea_delete</a>,
        .dio_it     = {
                .init     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a38ba8bc6c3d6ab7be6cf241948b83aed" title="Creates or initializes iterator context.">osd_it_ea_init</a>,
                .fini     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a022c712bb76d8ce78c9cb02884af42ac" title="Destroy or finishes iterator context.">osd_it_ea_fini</a>,
                .get      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#af9b970941879f443fbc8b553b546373a" title="It position the iterator at given key, so that next lookup continues from that key...">osd_it_ea_get</a>,
                .put      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a7b218e7b8fd45a565033c030e6e27d6d" title="Does nothing.">osd_it_ea_put</a>,
                .next     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ab8cf9e71a9dfd8e48569c9f7e788aade" title="It calls osd_ldiskfs_it_fill() which will use -&amp;gt;readdir() to load a directory...">osd_it_ea_next</a>,
                .key      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a1ffa3b6f47dd1f461ff5d2c915f9eec9" title="Returns the key at current position from iterator&amp;#39;s in memory structure.">osd_it_ea_key</a>,
                .key_size = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a29cd004f5272c410468b8874a37f627b" title="Returns the key&amp;#39;s size at current position from iterator&amp;#39;s in memory structure...">osd_it_ea_key_size</a>,
                .rec      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a2737b2d1c31f6c08876328734880de09" title="Returns the value at current position from iterator&amp;#39;s in memory structure.">osd_it_ea_rec</a>,
                .rec_size = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a67becec3bb64ffe9a3967125aa2f196a" title="Returns the record size size at current position.">osd_it_ea_rec_size</a>,
                .store    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a49670eecc060ce2be5c05ded521e988a" title="Returns a cookie for current position of the iterator head, so that user can use...">osd_it_ea_store</a>,
                .load     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aab048f5b77747159400c001bd7935586" title="It calls osd_ldiskfs_it_fill() which will use -&amp;gt;readdir() to load a directory...">osd_it_ea_load</a>
        }
}
</pre></div>
<p>Index and Iterator operations for interoperability mode (i.e. </p>
<p>to run 2.0 mds on 1.8 disk) (b11826) </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00124">124</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03676">osd_index_try()</a>.</p>

</div>
</div>
<a class="anchor" id="a26bea11abb0ea4fb2dc6ddaa607b7a48"></a><!-- doxytag: member="osd_handler.c::osd_index_iam_ops" ref="a26bea11abb0ea4fb2dc6ddaa607b7a48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a> <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a26bea11abb0ea4fb2dc6ddaa607b7a48">osd_index_iam_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dio_lookup         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a21f7bf2f45ca186e70b5407b8686fb53" title="Lookup index for key and copy record to rec.">osd_index_iam_lookup</a>,
        .dio_declare_insert = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ad3c9d6e576c4a44e1842482e249e332a">osd_index_declare_iam_insert</a>,
        .dio_insert         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a5686940f12d228e4bc52df9c7b224b65" title="Inserts (key, value) pair in dt index object.">osd_index_iam_insert</a>,
        .dio_declare_delete = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a3ca27d59b821963d6b99a1e58735ae7e">osd_index_declare_iam_delete</a>,
        .dio_delete         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a044851396ce067181190c0ae310bab4b" title="delete a (key, value) pair from index dt specified by key ">osd_index_iam_delete</a>,
        .dio_it     = {
                .init     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a50e706bc5882fca1d582e9be3ecc3e30" title="Initialize osd Iterator for given osd index object.">osd_it_iam_init</a>,
                .fini     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a036e858fa7e4557811e6d4d9a4326a2b" title="free given Iterator.">osd_it_iam_fini</a>,
                .get      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a4e1d0e5686800730a4eddb3945c6f942" title="Move Iterator to record specified by key.">osd_it_iam_get</a>,
                .put      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ab734a34cbcd06767369364225ce11d99" title="Release Iterator.">osd_it_iam_put</a>,
                .next     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a6d3d256b1beecd0a78c1f305b39a9ee5" title="Move iterator by one record.">osd_it_iam_next</a>,
                .key      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aeb639d757241029651088f8a1ab87699" title="Return pointer to the key under iterator.">osd_it_iam_key</a>,
                .key_size = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a7ddaeee4aa271369d494f5bf77716612" title="Return size of key under iterator (in bytes).">osd_it_iam_key_size</a>,
                .rec      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a8e645d1204c3b91ba42afd3bd1a225d4" title="Return pointer to the record under iterator.">osd_it_iam_rec</a>,
                .store    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a3a77cfd533d9d83cb54f98d7fee1e77f" title="Returns cookie for current Iterator position.">osd_it_iam_store</a>,
                .load     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ac5490456b86b3e9da68dd0a29022b0da" title="Restore iterator from cookie.">osd_it_iam_load</a>
        }
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00123">123</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03652">osd_iam_container_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a09679a364db130332b8643d023e57a43"></a><!-- doxytag: member="osd_handler.c::osd_itea_cachep" ref="a09679a364db130332b8643d023e57a43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a09679a364db130332b8643d023e57a43">osd_itea_cachep</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00097">97</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05208">osd_it_ea_fini()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05150">osd_it_ea_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aeec1bbe93dd8e9437856bc428708caa4"></a><!-- doxytag: member="osd_handler.c::osd_key" ref="aeec1bbe93dd8e9437856bc428708caa4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> <a class="el" href="osd-zfs_2osd__internal_8h.html#aeec1bbe93dd8e9437856bc428708caa4">osd_key</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .lct_tags = <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa130ed4529679eed5a88d5dc63db1921f" title="Thread on dt server.">LCT_DT_THREAD</a> | <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa51f264f8e3ea36a381cf8aaaa9672752" title="Thread on md server.">LCT_MD_THREAD</a> | <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa582fa482375137187e808b1f5f8662d1" title="MGS device thread.">LCT_MG_THREAD</a> | <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa87bf2c0c71c5af685cf15e809a7ed551" title="Context for local operations.">LCT_LOCAL</a>,
        .lct_init = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a2f0d2c31ef2ece6f47d23ccc53c93f2e">osd_key_init</a>,
        .lct_fini = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ae84baacaddbc0fec104e3d62f66cef9e">osd_key_fini</a>,
        .lct_exit = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a9cf636ce8bf2937e5417ab417502eeaf">osd_key_exit</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06122">6122</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-zfs_2osd__handler_8c_source.html#l00660">osd_type_fini()</a>, and <a class="el" href="osd-zfs_2osd__handler_8c_source.html#l00654">osd_type_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a721a2c7a2741e00356f3711b548029f9"></a><!-- doxytag: member="osd_handler.c::osd_lu_obj_ops" ref="a721a2c7a2741e00356f3711b548029f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a> <a class="el" href="osd__object_8c.html#a721a2c7a2741e00356f3711b548029f9">osd_lu_obj_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .loo_object_init      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#affacc9caaa4ec75f283ab9491224ab1d">osd_object_init</a>,
        .loo_object_delete    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ac09ce1e09b94642ed2d9e47b5246158a">osd_object_delete</a>,
        .loo_object_release   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#abae64cbdf268d72534cbe0d375a86812">osd_object_release</a>,
        .loo_object_free      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a31c4f5f77920a19ce7b512c2697c0947">osd_object_free</a>,
        .loo_object_print     = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a810b6d8b773a8d48c9d55ab112616e89">osd_object_print</a>,
        .loo_object_invariant = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aff0766e7327a833b33547927986f19f6">osd_object_invariant</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00119">119</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00333">osd_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d60ffc9efe910c72a37d09413b5c0d6"></a><!-- doxytag: member="osd_handler.c::osd_lu_ops" ref="a3d60ffc9efe910c72a37d09413b5c0d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a> <a class="el" href="osd-zfs_2osd__internal_8h.html#a3d60ffc9efe910c72a37d09413b5c0d6">osd_lu_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ldo_object_alloc      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ab3027a55b4e8d2e81d336341701972cd">osd_object_alloc</a>,
        .ldo_process_config    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ae02a43ae598bb1c1ae6ad78e93f2404b">osd_process_config</a>,
        .ldo_recovery_complete = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ada2170472b1fb89d6a4a521866552f52">osd_recovery_complete</a>,
        .ldo_prepare           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a12f1893815ed9f47db04de91fd6255d6">osd_prepare</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06701">6701</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00867">lu_device_is_osd()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">osd_device_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9fdda838244d0f97140d0763a06f518"></a><!-- doxytag: member="osd_handler.c::osd_obd_device_ops" ref="ae9fdda838244d0f97140d0763a06f518" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structobd__ops.html">obd_ops</a> <a class="el" href="osd-zfs_2osd__handler_8c.html#ae9fdda838244d0f97140d0763a06f518">osd_obd_device_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .o_owner = THIS_MODULE,
        .o_connect      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a87881f83ad267ff320ac3c9f8551f651">osd_obd_connect</a>,
        .o_disconnect   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ab3feaf4eba85748c8149b82553c04ec7">osd_obd_disconnect</a>,
        .o_fid_alloc    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a8e45b6c8acfeeae66b89830f58c46dc4">osd_fid_alloc</a>,
        .o_health_check = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a0a07c825e7505aa47b2edff203b6af51">osd_health_check</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06740">6740</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a91489ef85b0ec1f065f0824ecc5c2482"></a><!-- doxytag: member="osd_handler.c::osd_obj_ea_ops" ref="a91489ef85b0ec1f065f0824ecc5c2482" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a> <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a91489ef85b0ec1f065f0824ecc5c2482">osd_obj_ea_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .do_read_lock         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a10d58b4bc743588d6f8ac8921126285b">osd_object_read_lock</a>,
        .do_write_lock        = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a422cc56d5664a8176ed227f17021f7dc">osd_object_write_lock</a>,
        .do_read_unlock       = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a3dc1404c9d3284f030355f4b69c8e087">osd_object_read_unlock</a>,
        .do_write_unlock      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a23662410a95ee7c0c12286b5e7c7ef88">osd_object_write_unlock</a>,
        .do_write_locked      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a677700883eca41df1cb2160814b664dd">osd_object_write_locked</a>,
        .do_attr_get          = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aef013c42695073284fd80f920c7a72a7">osd_attr_get</a>,
        .do_declare_attr_set  = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a431704ecbdd131861aca8b13f930dceb">osd_declare_attr_set</a>,
        .do_attr_set          = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a546ba6151957c930a55b4f884a299ec8">osd_attr_set</a>,
        .do_ah_init           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aaf7119b072f35baec6fa0bbd137f0710">osd_ah_init</a>,
        .do_declare_create    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a4ce35bb11a113577653fe79289af08a3">osd_declare_object_create</a>,
        .do_create            = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a864ec19a5c8bb9cc23a9d78ca472f395" title="OSD layer object create function for interoperability mode (b11826).">osd_object_ea_create</a>,
        .do_declare_destroy   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a6dd981596d61fea6c11133b5cb307a2e" title="Called to destroy on-disk representation of the object.">osd_declare_object_destroy</a>,
        .do_destroy           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ac7f84096219447ad50577b4ed902daaa">osd_object_destroy</a>,
        .do_index_try         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a1b136f690ad1ddb9c79612f4337dd58f">osd_index_try</a>,
        .do_declare_ref_add   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a64ad4de2e613fbc62c5810706e28f343">osd_declare_object_ref_add</a>,
        .do_ref_add           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a880ec462b356e763fe870b2fbf552526">osd_object_ref_add</a>,
        .do_declare_ref_del   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aba7500664fd0edabde8a2375652b4dd3">osd_declare_object_ref_del</a>,
        .do_ref_del           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#abecde582245b9b2af1fa0376cc2773f6">osd_object_ref_del</a>,
        .do_xattr_get         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a9a209f6bcdd49419343058341b965dfa">osd_xattr_get</a>,
        .do_declare_xattr_set = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ab2d6b08a16dea10356bf1dd0bb35d3dd">osd_declare_xattr_set</a>,
        .do_xattr_set         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ad64cc100a26db12bdbe4acde07433a03">osd_xattr_set</a>,
        .do_declare_xattr_del = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a702a181910c59f4a55ee1e6cf8b0ce74">osd_declare_xattr_del</a>,
        .do_xattr_del         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a0d33a476fe1a05fa84f6e1748664ff1c">osd_xattr_del</a>,
        .do_xattr_list        = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a9d9e9bf049703d1f87df3866d8c6b57a">osd_xattr_list</a>,
        .do_object_sync       = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ab893b054b4b0fd4ac6b7952a88ad99ea">osd_object_sync</a>,
}
</pre></div>
<p><a class="el" href="structdt__object__operations.html" title="A dt_object provides common operations to create and destroy objects and to manage...">dt_object_operations</a> for interoperability mode (i.e. </p>
<p>to run 2.0 mds on 1.8 disk) (b11826) </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00121">121</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00333">osd_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ce531672589613935817f964564a5ae"></a><!-- doxytag: member="osd_handler.c::osd_obj_ops" ref="a6ce531672589613935817f964564a5ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a> <a class="el" href="osd__object_8c.html#a6ce531672589613935817f964564a5ae">osd_obj_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .do_read_lock         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a10d58b4bc743588d6f8ac8921126285b">osd_object_read_lock</a>,
        .do_write_lock        = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a422cc56d5664a8176ed227f17021f7dc">osd_object_write_lock</a>,
        .do_read_unlock       = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a3dc1404c9d3284f030355f4b69c8e087">osd_object_read_unlock</a>,
        .do_write_unlock      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a23662410a95ee7c0c12286b5e7c7ef88">osd_object_write_unlock</a>,
        .do_write_locked      = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a677700883eca41df1cb2160814b664dd">osd_object_write_locked</a>,
        .do_attr_get          = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aef013c42695073284fd80f920c7a72a7">osd_attr_get</a>,
        .do_declare_attr_set  = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a431704ecbdd131861aca8b13f930dceb">osd_declare_attr_set</a>,
        .do_attr_set          = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a546ba6151957c930a55b4f884a299ec8">osd_attr_set</a>,
        .do_ah_init           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aaf7119b072f35baec6fa0bbd137f0710">osd_ah_init</a>,
        .do_declare_create    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a4ce35bb11a113577653fe79289af08a3">osd_declare_object_create</a>,
        .do_create            = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aaa893ad91ccae2c40ab9964e84aea966">osd_object_create</a>,
        .do_declare_destroy   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a6dd981596d61fea6c11133b5cb307a2e" title="Called to destroy on-disk representation of the object.">osd_declare_object_destroy</a>,
        .do_destroy           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ac7f84096219447ad50577b4ed902daaa">osd_object_destroy</a>,
        .do_index_try         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a1b136f690ad1ddb9c79612f4337dd58f">osd_index_try</a>,
        .do_declare_ref_add   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a64ad4de2e613fbc62c5810706e28f343">osd_declare_object_ref_add</a>,
        .do_ref_add           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a880ec462b356e763fe870b2fbf552526">osd_object_ref_add</a>,
        .do_declare_ref_del   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#aba7500664fd0edabde8a2375652b4dd3">osd_declare_object_ref_del</a>,
        .do_ref_del           = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#abecde582245b9b2af1fa0376cc2773f6">osd_object_ref_del</a>,
        .do_xattr_get         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a9a209f6bcdd49419343058341b965dfa">osd_xattr_get</a>,
        .do_declare_xattr_set = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ab2d6b08a16dea10356bf1dd0bb35d3dd">osd_declare_xattr_set</a>,
        .do_xattr_set         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ad64cc100a26db12bdbe4acde07433a03">osd_xattr_set</a>,
        .do_declare_xattr_del = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a702a181910c59f4a55ee1e6cf8b0ce74">osd_declare_xattr_del</a>,
        .do_xattr_del         = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a0d33a476fe1a05fa84f6e1748664ff1c">osd_xattr_del</a>,
        .do_xattr_list        = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a9d9e9bf049703d1f87df3866d8c6b57a">osd_xattr_list</a>,
        .do_object_sync       = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#ab893b054b4b0fd4ac6b7952a88ad99ea">osd_object_sync</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00120">120</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7c3c42021e75655b20f87cf4df79f17a"></a><!-- doxytag: member="osd_handler.c::osd_obj_otable_it_ops" ref="a7c3c42021e75655b20f87cf4df79f17a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a> <a class="el" href="osd__object_8c.html#a7c3c42021e75655b20f87cf4df79f17a">osd_obj_otable_it_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .do_attr_get    = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a1eb6f2ed3d23e791c009d199e7b09444">osd_otable_it_attr_get</a>,
        .do_index_try   = <a class="code" href="osd-ldiskfs_2osd__handler_8c.html#a1b136f690ad1ddb9c79612f4337dd58f">osd_index_try</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00122">122</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01001">osd_object_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a83377d22d7c0dbe8d0669bfa1f206095"></a><!-- doxytag: member="osd_handler.c::osd_trans_declare_op2rb" ref="a83377d22d7c0dbe8d0669bfa1f206095" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="osd-ldiskfs_2osd__internal_8h.html#a83377d22d7c0dbe8d0669bfa1f206095">osd_trans_declare_op2rb</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a908b8933a78a081f6a24e38fae1fa3e0">OSD_OT_ATTR_SET</a>]       = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a908b8933a78a081f6a24e38fae1fa3e0">OSD_OT_ATTR_SET</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a11e5d2e7e9fe426650dd01d5431569ce">OSD_OT_PUNCH</a>]          = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a4b78e76752ad2c573bb04fb606fc6c1b">OSD_OT_MAX</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a3ee8fdd91d4f9e5d2a7595fe7887dacc">OSD_OT_XATTR_SET</a>]      = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a3ee8fdd91d4f9e5d2a7595fe7887dacc">OSD_OT_XATTR_SET</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a66c6623fcfc0f3a4601c8d5dbed82237">OSD_OT_CREATE</a>]         = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a392ce8bd8bc4c73740b22b58b3ae1522">OSD_OT_DESTROY</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a392ce8bd8bc4c73740b22b58b3ae1522">OSD_OT_DESTROY</a>]        = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a66c6623fcfc0f3a4601c8d5dbed82237">OSD_OT_CREATE</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923aed9239d90aabac5da1719a85ba45d37c">OSD_OT_REF_ADD</a>]        = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a12e80d4cf137ab2fce567816f4aabf5a">OSD_OT_REF_DEL</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a12e80d4cf137ab2fce567816f4aabf5a">OSD_OT_REF_DEL</a>]        = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923aed9239d90aabac5da1719a85ba45d37c">OSD_OT_REF_ADD</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923adc3f672fba98283c594a33fe2654415b">OSD_OT_WRITE</a>]          = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923adc3f672fba98283c594a33fe2654415b">OSD_OT_WRITE</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923ad3fadd60e2eda9db562fd6bd8af79e8a">OSD_OT_INSERT</a>]         = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923aef8ecf839c7f518df1aa6e02ef2410a5">OSD_OT_DELETE</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923aef8ecf839c7f518df1aa6e02ef2410a5">OSD_OT_DELETE</a>]         = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923ad3fadd60e2eda9db562fd6bd8af79e8a">OSD_OT_INSERT</a>,
        [<a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a4ac072a258416c36f1569962ac6e1025">OSD_OT_QUOTA</a>]          = <a class="code" href="osd-ldiskfs_2osd__internal_8h.html#a14061dd054afd472999a4f4f6cdf3923a4b78e76752ad2c573bb04fb606fc6c1b">OSD_OT_MAX</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00131">131</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa0139ba183372cc4e157e932ac2d64e2"></a><!-- doxytag: member="osd_handler.c::remote_obj_dir" ref="aa0139ba183372cc4e157e932ac2d64e2" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#aa0139ba183372cc4e157e932ac2d64e2">remote_obj_dir</a>[] = &quot;REM_OBJ_DIR&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00117">117</a> of file <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html">osd_handler.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
