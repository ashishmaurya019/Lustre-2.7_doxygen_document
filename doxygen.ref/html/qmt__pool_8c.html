<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/quota/qmt_pool.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/quota/qmt_pool.c File Reference</h1><code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lprocfs__status_8h_source.html">lprocfs_status.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="qmt__internal_8h_source.html">qmt_internal.h</a>&quot;</code><br/>

<p><a href="qmt__pool_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LQUOTA</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a61a8f1d8889e2664b9ec83db75f97f0a">qmt_pool_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *, struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a82c7883d33c01b0eeeb5d8a95d4cdad5">qpi_getref</a> (struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a> *pool)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#ad8599f191ca0e8e9f0c50949feeb41a1">qpi_putref</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a> *pool)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#aa273dcd30cb783156d2595814b2130ee">qpi_putref_locked</a> (struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a> *pool)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a5818a0181d25defa663079c8d80e5ca1">qpi_hash_hash</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, unsigned mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a55a8aaae5988321f5bed6322c3998353">qpi_hash_key</a> (struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a18fef543a5d063fdc1f1915ae2253aec">qpi_hash_keycmp</a> (const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#ae78abf33e23b24e1be7eb3fa2a76e580">qpi_hash_object</a> (struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#afa4aa3c810d968ee976adf6d8c45cdb9">qpi_hash_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a48789eeec2980beaea1e1c9f50795a2c">qpi_hash_put_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a78933111375cf8837233c26db68bf94c">qpi_hash_exit</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a09603d19252126d8166d846d2a3a59b8">qpi_state_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#adbeb384457788042a154a258a25752a0">LPROC_SEQ_FOPS_RO</a> (qpi_state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a68349c14d88ad3c8e435278794bf936f">qpi_soft_least_qunit_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a28619e36d0d8690cf62b4426131d1ec9">qpi_soft_least_qunit_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a7105c33397c304d23647e5b5bfa0c3a0">LPROC_SEQ_FOPS</a> (qpi_soft_least_qunit)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a2d492c76e2ade694b6c08a2fbe59efc8">qmt_pool_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqmt__device.html">qmt_device</a> *qmt, int pool_id, int pool_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a65824fe91646f75372e72cd429c6e48d">qmt_pool_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqmt__device.html">qmt_device</a> *qmt, int pool_id, int pool_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a497ed2e6181174c0770700b0e2ad25ee">qmt_pool_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqmt__device.html">qmt_device</a> *qmt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a437c3de075b5bb782532ebb78f2ab155">qmt_pool_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqmt__device.html">qmt_device</a> *qmt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a87ff3312ce10489d6221c1c43f6b0846">qmt_slv_cnt</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__fid.html">lu_fid</a> *glb_fid, char *slv_name, struct <a class="el" href="structlu__fid.html">lu_fid</a> *slv_fid, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a3a23b12a8a9ce59fb1c394f7557c4ef5">qmt_pool_prepare</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqmt__device.html">qmt_device</a> *qmt, struct <a class="el" href="structdt__object.html">dt_object</a> *qmt_root)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#ac47e1033fe2b375e860416e61557b276">qmt_pool_new_conn</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqmt__device.html">qmt_device</a> *qmt, struct <a class="el" href="structlu__fid.html">lu_fid</a> *glb_fid, struct <a class="el" href="structlu__fid.html">lu_fid</a> *slv_fid, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *slv_ver, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#ae2c16e7bc89860ed2b2f4b2a66a087d4">qmt_pool_lqe_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqmt__device.html">qmt_device</a> *qmt, int pool_id, int pool_type, int qtype, union <a class="el" href="unionlquota__id.html">lquota_id</a> *qid)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#a3d1e1058cdc30b1e2a5619f71e626860">qpi_hash_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__pool_8c.html#aaad7258451e5b3c7c641e0df3c380f43">lprocfs_quota_qpi_vars</a> []</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="qmt_pool.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LQUOTA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00051">51</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a7105c33397c304d23647e5b5bfa0c3a0"></a><!-- doxytag: member="qmt_pool.c::LPROC_SEQ_FOPS" ref="a7105c33397c304d23647e5b5bfa0c3a0" args="(qpi_soft_least_qunit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS </td>
          <td>(</td>
          <td class="paramtype">qpi_soft_least_qunit&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adbeb384457788042a154a258a25752a0"></a><!-- doxytag: member="qmt_pool.c::LPROC_SEQ_FOPS_RO" ref="adbeb384457788042a154a258a25752a0" args="(qpi_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_RO </td>
          <td>(</td>
          <td class="paramtype">qpi_state&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d492c76e2ade694b6c08a2fbe59efc8"></a><!-- doxytag: member="qmt_pool.c::qmt_pool_alloc" ref="a2d492c76e2ade694b6c08a2fbe59efc8" args="(const struct lu_env *env, struct qmt_device *qmt, int pool_id, int pool_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qmt_pool_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__device.html">qmt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>qmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00235">235</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="hash_8c_source.html#l01259">cfs_hash_add_unique()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00949">lprocfs_register()</a>, <a class="el" href="lquota__internal_8h_source.html#l00279">LQUOTA_LEAST_QUNIT</a>, <a class="el" href="lustre__idl_8h_source.html#l01917">LQUOTA_RES_DT</a>, <a class="el" href="lu__object_8c_source.html#l01181">lu_device_get()</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="qmt__internal_8h_source.html#l00226">qmt2lu_dev()</a>, <a class="el" href="qmt__internal_8h_source.html#l00206">qmt_info()</a>, <a class="el" href="qmt__internal_8h_source.html#l00068">qmt_device::qmt_pool_hash</a>, <a class="el" href="qmt__internal_8h_source.html#l00071">qmt_device::qmt_pool_list</a>, <a class="el" href="qmt__internal_8h_source.html#l00074">qmt_device::qmt_proc</a>, <a class="el" href="qmt__internal_8h_source.html#l00048">qmt_device::qmt_svname</a>, <a class="el" href="qmt__internal_8h_source.html#l00099">qmt_pool_info::qpi_hash</a>, <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>, <a class="el" href="qmt__internal_8h_source.html#l00141">qmt_pool_info::qpi_least_qunit</a>, <a class="el" href="qmt__internal_8h_source.html#l00102">qmt_pool_info::qpi_linkage</a>, <a class="el" href="qmt__internal_8h_source.html#l00133">qmt_pool_info::qpi_proc</a>, <a class="el" href="qmt__pool_8c_source.html#l00071">qpi_putref()</a>, <a class="el" href="qmt__internal_8h_source.html#l00115">qmt_pool_info::qpi_qmt</a>, <a class="el" href="qmt__internal_8h_source.html#l00111">qmt_pool_info::qpi_ref</a>, <a class="el" href="qmt__internal_8h_source.html#l00157">qmt_pool_info::qpi_soft_least_qunit</a>, <a class="el" href="qmt__internal_8h_source.html#l00194">qmt_thread_info::qti_buf</a>, <a class="el" href="lquota__internal_8h_source.html#l00035">RES_NAME</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__pool_8c_source.html#l00434">qmt_pool_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a497ed2e6181174c0770700b0e2ad25ee"></a><!-- doxytag: member="qmt_pool.c::qmt_pool_fini" ref="a497ed2e6181174c0770700b0e2ad25ee" args="(const struct lu_env *env, struct qmt_device *qmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qmt_pool_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__device.html">qmt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>qmt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00393">393</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01148">cfs_hash_putref()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="qmt__internal_8h_source.html#l00068">qmt_device::qmt_pool_hash</a>, <a class="el" href="qmt__internal_8h_source.html#l00071">qmt_device::qmt_pool_list</a>, <a class="el" href="qmt__internal_8h_source.html#l00099">qmt_pool_info::qpi_hash</a>, <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>, <a class="el" href="qmt__internal_8h_source.html#l00102">qmt_pool_info::qpi_linkage</a>, <a class="el" href="qmt__pool_8c_source.html#l00071">qpi_putref()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="qmt__dev_8c_source.html#l00089">qmt_device_fini()</a>, and <a class="el" href="qmt__pool_8c_source.html#l00434">qmt_pool_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a61a8f1d8889e2664b9ec83db75f97f0a"></a><!-- doxytag: member="qmt_pool.c::qmt_pool_free" ref="a61a8f1d8889e2664b9ec83db75f97f0a" args="(const struct lu_env *, struct qmt_pool_info *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qmt_pool_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00304">304</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00291">lu_device::ld_reference</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00952">lprocfs_remove()</a>, <a class="el" href="lquota__internal_8h_source.html#l00228">lqe_putref()</a>, <a class="el" href="lquota__entry_8c_source.html#l00245">lquota_site_free()</a>, <a class="el" href="lu__object_8c_source.html#l01190">lu_device_put()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="qmt__internal_8h_source.html#l00226">qmt2lu_dev()</a>, <a class="el" href="qmt__internal_8h_source.html#l00119">qmt_pool_info::qpi_glb_obj</a>, <a class="el" href="qmt__internal_8h_source.html#l00130">qmt_pool_info::qpi_grace_lqe</a>, <a class="el" href="qmt__internal_8h_source.html#l00102">qmt_pool_info::qpi_linkage</a>, <a class="el" href="qmt__internal_8h_source.html#l00133">qmt_pool_info::qpi_proc</a>, <a class="el" href="qmt__internal_8h_source.html#l00115">qmt_pool_info::qpi_qmt</a>, <a class="el" href="qmt__internal_8h_source.html#l00137">qmt_pool_info::qpi_root</a>, and <a class="el" href="qmt__internal_8h_source.html#l00124">qmt_pool_info::qpi_site</a>.</p>

<p>Referenced by <a class="el" href="qmt__pool_8c_source.html#l00071">qpi_putref()</a>.</p>

</div>
</div>
<a class="anchor" id="a437c3de075b5bb782532ebb78f2ab155"></a><!-- doxytag: member="qmt_pool.c::qmt_pool_init" ref="a437c3de075b5bb782532ebb78f2ab155" args="(const struct lu_env *env, struct qmt_device *qmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qmt_pool_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__device.html">qmt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>qmt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00434">434</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00165">CFS_HASH_DEFAULT</a>, <a class="el" href="libcfs__hash_8h_source.html#l00775">CFS_HASH_MAX_THETA</a>, <a class="el" href="libcfs__hash_8h_source.html#l00774">CFS_HASH_MIN_THETA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="obd__support_8h_source.html#l00081">HASH_POOLS_BKT_BITS</a>, <a class="el" href="obd__support_8h_source.html#l00082">HASH_POOLS_CUR_BITS</a>, <a class="el" href="obd__support_8h_source.html#l00083">HASH_POOLS_MAX_BITS</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lustre__idl_8h_source.html#l01919">LQUOTA_FIRST_RES</a>, <a class="el" href="lustre__idl_8h_source.html#l01918">LQUOTA_LAST_RES</a>, <a class="el" href="qmt__pool_8c_source.html#l00235">qmt_pool_alloc()</a>, <a class="el" href="qmt__pool_8c_source.html#l00393">qmt_pool_fini()</a>, <a class="el" href="qmt__internal_8h_source.html#l00068">qmt_device::qmt_pool_hash</a>, <a class="el" href="qmt__internal_8h_source.html#l00071">qmt_device::qmt_pool_list</a>, <a class="el" href="qmt__internal_8h_source.html#l00048">qmt_device::qmt_svname</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__dev_8c_source.html#l00199">qmt_device_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a65824fe91646f75372e72cd429c6e48d"></a><!-- doxytag: member="qmt_pool.c::qmt_pool_lookup" ref="a65824fe91646f75372e72cd429c6e48d" args="(const struct lu_env *env, struct qmt_device *qmt, int pool_id, int pool_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a>* qmt_pool_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__device.html">qmt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>qmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00358">358</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="qmt__internal_8h_source.html#l00068">qmt_device::qmt_pool_hash</a>, <a class="el" href="qmt__internal_8h_source.html#l00048">qmt_device::qmt_svname</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__pool_8c_source.html#l00710">qmt_pool_lqe_lookup()</a>, and <a class="el" href="qmt__pool_8c_source.html#l00648">qmt_pool_new_conn()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2c16e7bc89860ed2b2f4b2a66a087d4"></a><!-- doxytag: member="qmt_pool.c::qmt_pool_lqe_lookup" ref="ae2c16e7bc89860ed2b2f4b2a66a087d4" args="(const struct lu_env *env, struct qmt_device *qmt, int pool_id, int pool_type, int qtype, union lquota_id *qid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlquota__entry.html">lquota_entry</a>* qmt_pool_lqe_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__device.html">qmt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>qmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pool_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>qtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionlquota__id.html">lquota_id</a> *&nbsp;</td>
          <td class="paramname"> <em>qid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00710">710</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lquota__internal_8h_source.html#l00222">lqe_getref()</a>, <a class="el" href="lquota__entry_8c_source.html#l00313">lqe_locate()</a>, <a class="el" href="lustre__idl_8h_source.html#l01850">lquota_id::qid_uid</a>, <a class="el" href="qmt__pool_8c_source.html#l00358">qmt_pool_lookup()</a>, <a class="el" href="qmt__pool_8c_source.html#l00071">qpi_putref()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00580">qmt_dqacq()</a>, <a class="el" href="qmt__handler_8c_source.html#l00051">qmt_get()</a>, <a class="el" href="qmt__lock_8c_source.html#l00152">qmt_lvbo_init()</a>, and <a class="el" href="qmt__handler_8c_source.html#l00094">qmt_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ac47e1033fe2b375e860416e61557b276"></a><!-- doxytag: member="qmt_pool.c::qmt_pool_new_conn" ref="ac47e1033fe2b375e860416e61557b276" args="(const struct lu_env *env, struct qmt_device *qmt, struct lu_fid *glb_fid, struct lu_fid *slv_fid, __u64 *slv_ver, struct obd_uuid *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qmt_pool_new_conn </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__device.html">qmt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>qmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>glb_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>slv_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>slv_ver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00648">648</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00553">dt_version_get()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lquota__disk_8c_source.html#l00307">lquota_disk_slv_find()</a>, <a class="el" href="lquota__disk_8c_source.html#l00375">lquota_disk_slv_find_create()</a>, <a class="el" href="lquota__lib_8c_source.html#l00256">lquota_extract_fid()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lustre__user_8h_source.html#l00513">obd_uuid2str()</a>, <a class="el" href="qmt__internal_8h_source.html#l00054">qmt_device::qmt_child</a>, <a class="el" href="qmt__pool_8c_source.html#l00358">qmt_pool_lookup()</a>, <a class="el" href="qmt__internal_8h_source.html#l00048">qmt_device::qmt_svname</a>, <a class="el" href="qmt__pool_8c_source.html#l00071">qpi_putref()</a>, <a class="el" href="qmt__internal_8h_source.html#l00137">qmt_pool_info::qpi_root</a>, <a class="el" href="qmt__internal_8h_source.html#l00127">qmt_pool_info::qpi_slv_nr</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__lock_8c_source.html#l00043">qmt_intent_policy()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a23b12a8a9ce59fb1c394f7557c4ef5"></a><!-- doxytag: member="qmt_pool.c::qmt_pool_prepare" ref="a3a23b12a8a9ce59fb1c394f7557c4ef5" args="(const struct lu_env *env, struct qmt_device *qmt, struct dt_object *qmt_root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qmt_pool_prepare </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__device.html">qmt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>qmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>qmt_root</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00494">494</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8c_source.html#l00553">dt_version_get()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lquota__internal_8h.html#a9220e6ffcd148324a7257b7cd36d0df5">lprocfs_quota_seq_fops</a>, <a class="el" href="lquota__entry_8c_source.html#l00313">lqe_locate()</a>, <a class="el" href="lquota__disk_8c_source.html#l00158">lquota_disk_dir_find_create()</a>, <a class="el" href="lquota__disk_8c_source.html#l00461">lquota_disk_for_each_slv()</a>, <a class="el" href="lquota__disk_8c_source.html#l00234">lquota_disk_glb_find_create()</a>, <a class="el" href="lquota__disk_8c_source.html#l00703">lquota_disk_update_ver()</a>, <a class="el" href="lquota__disk_8c_source.html#l00738">lquota_disk_write_glb()</a>, <a class="el" href="lquota__lib_8c_source.html#l00240">lquota_generate_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l01916">LQUOTA_RES_MD</a>, <a class="el" href="lquota__entry_8c_source.html#l00198">lquota_site_alloc()</a>, <a class="el" href="lustre__quota_8h_source.html#l00047">MAX_DQ_TIME</a>, <a class="el" href="lustre__quota_8h_source.html#l00043">MAX_IQ_TIME</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="lustre__idl_8h_source.html#l01942">lquota_glb_rec::qbr_granted</a>, <a class="el" href="lustre__idl_8h_source.html#l01939">lquota_glb_rec::qbr_hardlimit</a>, <a class="el" href="lustre__idl_8h_source.html#l01940">lquota_glb_rec::qbr_softlimit</a>, <a class="el" href="lustre__idl_8h_source.html#l01941">lquota_glb_rec::qbr_time</a>, <a class="el" href="lustre__idl_8h_source.html#l01850">lquota_id::qid_uid</a>, <a class="el" href="qmt__internal_8h_source.html#l00054">qmt_device::qmt_child</a>, <a class="el" href="qmt__internal_8h_source.html#l00206">qmt_info()</a>, <a class="el" href="qmt__entry_8c_source.html#l00131">qmt_lqe_ops</a>, <a class="el" href="qmt__internal_8h_source.html#l00068">qmt_device::qmt_pool_hash</a>, <a class="el" href="qmt__internal_8h_source.html#l00071">qmt_device::qmt_pool_list</a>, <a class="el" href="qmt__pool_8c_source.html#l00473">qmt_slv_cnt()</a>, <a class="el" href="qmt__internal_8h_source.html#l00048">qmt_device::qmt_svname</a>, <a class="el" href="qmt__internal_8h_source.html#l00119">qmt_pool_info::qpi_glb_obj</a>, <a class="el" href="qmt__internal_8h_source.html#l00130">qmt_pool_info::qpi_grace_lqe</a>, <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>, <a class="el" href="qmt__internal_8h_source.html#l00133">qmt_pool_info::qpi_proc</a>, <a class="el" href="qmt__internal_8h_source.html#l00115">qmt_pool_info::qpi_qmt</a>, <a class="el" href="qmt__internal_8h_source.html#l00137">qmt_pool_info::qpi_root</a>, <a class="el" href="qmt__internal_8h_source.html#l00124">qmt_pool_info::qpi_site</a>, <a class="el" href="qmt__internal_8h_source.html#l00127">qmt_pool_info::qpi_slv_nr</a>, <a class="el" href="qmt__internal_8h_source.html#l00194">qmt_thread_info::qti_buf</a>, <a class="el" href="qmt__internal_8h_source.html#l00195">qmt_thread_info::qti_fid</a>, <a class="el" href="qmt__internal_8h_source.html#l00193">qmt_thread_info::qti_id</a>, <a class="el" href="lquota__internal_8h_source.html#l00034">QTYPE_NAME</a>, <a class="el" href="lquota__internal_8h_source.html#l00035">RES_NAME</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="packet-lnet_8c_source.html#l00255">version</a>.</p>

<p>Referenced by <a class="el" href="qmt__dev_8c_source.html#l00432">qmt_device_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a87ff3312ce10489d6221c1c43f6b0846"></a><!-- doxytag: member="qmt_pool.c::qmt_slv_cnt" ref="a87ff3312ce10489d6221c1c43f6b0846" args="(const struct lu_env *env, struct lu_fid *glb_fid, char *slv_name, struct lu_fid *slv_fid, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qmt_slv_cnt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>glb_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>slv_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>slv_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00473">473</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>Referenced by <a class="el" href="qmt__pool_8c_source.html#l00494">qmt_pool_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a82c7883d33c01b0eeeb5d8a95d4cdad5"></a><!-- doxytag: member="qmt_pool.c::qpi_getref" ref="a82c7883d33c01b0eeeb5d8a95d4cdad5" args="(struct qmt_pool_info *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qpi_getref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00066">66</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="qmt__internal_8h_source.html#l00111">qmt_pool_info::qpi_ref</a>.</p>

<p>Referenced by <a class="el" href="qmt__pool_8c_source.html#l00114">qpi_hash_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a78933111375cf8837233c26db68bf94c"></a><!-- doxytag: member="qmt_pool.c::qpi_hash_exit" ref="a78933111375cf8837233c26db68bf94c" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qpi_hash_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00128">128</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>.</p>

</div>
</div>
<a class="anchor" id="afa4aa3c810d968ee976adf6d8c45cdb9"></a><!-- doxytag: member="qmt_pool.c::qpi_hash_get" ref="afa4aa3c810d968ee976adf6d8c45cdb9" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qpi_hash_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00114">114</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, <a class="el" href="qmt__pool_8c_source.html#l00066">qpi_getref()</a>, and <a class="el" href="qmt__internal_8h_source.html#l00099">qmt_pool_info::qpi_hash</a>.</p>

</div>
</div>
<a class="anchor" id="a5818a0181d25defa663079c8d80e5ca1"></a><!-- doxytag: member="qmt_pool.c::qpi_hash_hash" ref="a5818a0181d25defa663079c8d80e5ca1" args="(struct cfs_hash *hs, const void *key, unsigned mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned qpi_hash_hash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00090">90</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00829">cfs_hash_u32_hash()</a>.</p>

</div>
</div>
<a class="anchor" id="a55a8aaae5988321f5bed6322c3998353"></a><!-- doxytag: member="qmt_pool.c::qpi_hash_key" ref="a55a8aaae5988321f5bed6322c3998353" args="(struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* qpi_hash_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00095">95</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, <a class="el" href="qmt__internal_8h_source.html#l00099">qmt_pool_info::qpi_hash</a>, and <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>.</p>

</div>
</div>
<a class="anchor" id="a18fef543a5d063fdc1f1915ae2253aec"></a><!-- doxytag: member="qmt_pool.c::qpi_hash_keycmp" ref="a18fef543a5d063fdc1f1915ae2253aec" args="(const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qpi_hash_keycmp </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00102">102</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, <a class="el" href="qmt__internal_8h_source.html#l00099">qmt_pool_info::qpi_hash</a>, and <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>.</p>

</div>
</div>
<a class="anchor" id="ae78abf33e23b24e1be7eb3fa2a76e580"></a><!-- doxytag: member="qmt_pool.c::qpi_hash_object" ref="ae78abf33e23b24e1be7eb3fa2a76e580" args="(struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* qpi_hash_object </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00109">109</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, and <a class="el" href="qmt__internal_8h_source.html#l00099">qmt_pool_info::qpi_hash</a>.</p>

</div>
</div>
<a class="anchor" id="a48789eeec2980beaea1e1c9f50795a2c"></a><!-- doxytag: member="qmt_pool.c::qpi_hash_put_locked" ref="a48789eeec2980beaea1e1c9f50795a2c" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qpi_hash_put_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00121">121</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, <a class="el" href="qmt__internal_8h_source.html#l00099">qmt_pool_info::qpi_hash</a>, and <a class="el" href="qmt__pool_8c_source.html#l00079">qpi_putref_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8599f191ca0e8e9f0c50949feeb41a1"></a><!-- doxytag: member="qmt_pool.c::qpi_putref" ref="ad8599f191ca0e8e9f0c50949feeb41a1" args="(const struct lu_env *env, struct qmt_pool_info *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qpi_putref </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00071">71</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="qmt__pool_8c_source.html#l00304">qmt_pool_free()</a>, and <a class="el" href="qmt__internal_8h_source.html#l00111">qmt_pool_info::qpi_ref</a>.</p>

<p>Referenced by <a class="el" href="qmt__pool_8c_source.html#l00235">qmt_pool_alloc()</a>, <a class="el" href="qmt__pool_8c_source.html#l00393">qmt_pool_fini()</a>, <a class="el" href="qmt__pool_8c_source.html#l00710">qmt_pool_lqe_lookup()</a>, and <a class="el" href="qmt__pool_8c_source.html#l00648">qmt_pool_new_conn()</a>.</p>

</div>
</div>
<a class="anchor" id="aa273dcd30cb783156d2595814b2130ee"></a><!-- doxytag: member="qmt_pool.c::qpi_putref_locked" ref="aa273dcd30cb783156d2595814b2130ee" args="(struct qmt_pool_info *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qpi_putref_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structqmt__pool__info.html">qmt_pool_info</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00079">79</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="qmt__internal_8h_source.html#l00111">qmt_pool_info::qpi_ref</a>.</p>

<p>Referenced by <a class="el" href="qmt__pool_8c_source.html#l00121">qpi_hash_put_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a68349c14d88ad3c8e435278794bf936f"></a><!-- doxytag: member="qmt_pool.c::qpi_soft_least_qunit_seq_show" ref="a68349c14d88ad3c8e435278794bf936f" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qpi_soft_least_qunit_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00174">174</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="qmt__internal_8h_source.html#l00157">qmt_pool_info::qpi_soft_least_qunit</a>.</p>

</div>
</div>
<a class="anchor" id="a28619e36d0d8690cf62b4426131d1ec9"></a><!-- doxytag: member="qmt_pool.c::qpi_soft_least_qunit_seq_write" ref="a28619e36d0d8690cf62b4426131d1ec9" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t qpi_soft_least_qunit_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00183">183</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l01917">LQUOTA_RES_DT</a>, <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>, <a class="el" href="qmt__internal_8h_source.html#l00141">qmt_pool_info::qpi_least_qunit</a>, and <a class="el" href="qmt__internal_8h_source.html#l00157">qmt_pool_info::qpi_soft_least_qunit</a>.</p>

</div>
</div>
<a class="anchor" id="a09603d19252126d8166d846d2a3a59b8"></a><!-- doxytag: member="qmt_pool.c::qpi_state_seq_show" ref="a09603d19252126d8166d846d2a3a59b8" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qpi_state_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00145">145</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lquota__internal_8h_source.html#l00178">lquota_site::lqs_hash</a>, <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>, <a class="el" href="qmt__internal_8h_source.html#l00141">qmt_pool_info::qpi_least_qunit</a>, <a class="el" href="qmt__internal_8h_source.html#l00111">qmt_pool_info::qpi_ref</a>, <a class="el" href="qmt__internal_8h_source.html#l00124">qmt_pool_info::qpi_site</a>, <a class="el" href="qmt__internal_8h_source.html#l00127">qmt_pool_info::qpi_slv_nr</a>, <a class="el" href="lquota__internal_8h_source.html#l00034">QTYPE_NAME</a>, and <a class="el" href="lquota__internal_8h_source.html#l00035">RES_NAME</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aaad7258451e5b3c7c641e0df3c380f43"></a><!-- doxytag: member="qmt_pool.c::lprocfs_quota_qpi_vars" ref="aaad7258451e5b3c7c641e0df3c380f43" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a> <a class="el" href="qmt__pool_8c.html#aaad7258451e5b3c7c641e0df3c380f43">lprocfs_quota_qpi_vars</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        { .name =       <span class="stringliteral">&quot;info&quot;</span>,
          .fops =       &amp;qpi_state_fops },
        { .name =       <span class="stringliteral">&quot;soft_least_qunit&quot;</span>,
          .fops =       &amp;qpi_soft_least_qunit_fops },
        { NULL }
}
</pre></div>
<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00215">215</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3d1e1058cdc30b1e2a5619f71e626860"></a><!-- doxytag: member="qmt_pool.c::qpi_hash_ops" ref="a3d1e1058cdc30b1e2a5619f71e626860" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a> <a class="el" href="qmt__pool_8c.html#a3d1e1058cdc30b1e2a5619f71e626860">qpi_hash_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .hs_hash        = <a class="code" href="qmt__pool_8c.html#a5818a0181d25defa663079c8d80e5ca1">qpi_hash_hash</a>,
        .hs_key         = <a class="code" href="qmt__pool_8c.html#a55a8aaae5988321f5bed6322c3998353">qpi_hash_key</a>,
        .hs_keycmp      = <a class="code" href="qmt__pool_8c.html#a18fef543a5d063fdc1f1915ae2253aec">qpi_hash_keycmp</a>,
        .hs_object      = <a class="code" href="qmt__pool_8c.html#ae78abf33e23b24e1be7eb3fa2a76e580">qpi_hash_object</a>,
        .hs_get         = <a class="code" href="qmt__pool_8c.html#afa4aa3c810d968ee976adf6d8c45cdb9">qpi_hash_get</a>,
        .hs_put_locked  = <a class="code" href="qmt__pool_8c.html#a48789eeec2980beaea1e1c9f50795a2c">qpi_hash_put_locked</a>,
        .hs_exit        = <a class="code" href="qmt__pool_8c.html#a78933111375cf8837233c26db68bf94c">qpi_hash_exit</a>
}
</pre></div>
<p>Definition at line <a class="el" href="qmt__pool_8c_source.html#l00134">134</a> of file <a class="el" href="qmt__pool_8c_source.html">qmt_pool.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
