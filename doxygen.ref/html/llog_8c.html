<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/obdclass/llog.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/obdclass/llog.c File Reference</h1><code>#include &lt;linux/kthread.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="llog__swab_8h_source.html">llog_swab.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="llog__internal_8h_source.html">llog_internal.h</a>&quot;</code><br/>

<p><a href="llog_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LOG</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog_8c.html#a69bd84641bb79b66971f64f3021f745d">llog_alloc_handle</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog_8c.html#a7236f139e1fd2e9257d83e8180637994">llog_free_handle</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog_8c.html#a6758bef27c12d168b20957085d251cef">llog_handle_get</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog_8c.html#ac0d6206e62438f1c670a131d9ebe6221">llog_handle_put</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog_8c.html#aa92f515c4fd087194e0c14a27817bdf6">llog_declare_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gadac4383f18bef43704ff9b2403398263">llog_trans_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga5fbc4e5a4154513556d4dedc7d23e486">llog_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gae7cdad9d32ae44d0ae5428b11741368d">llog_cancel_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga3dff118eacffed836e2f50775e042350">llog_read_header</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, const struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga546fd23355c24d4ee2a5a668423c0156">llog_init_handle</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, int flags, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog_8c.html#ac9d38e164ec46dc2fb164ee78d093493">llog_process_thread</a> (void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog_8c.html#aaf1a2b67bc5e0f218feaf3e3d657d8cb">llog_process_thread_daemonize</a> (void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaf0d3652ea7d74d6ac5ee335584a33d72">llog_process_or_fork</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cb, void *data, void *catdata, bool fork)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga80616f32350d097166d698292330b6b2">llog_process</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cb, void *data, void *catdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga97008e41a5f1114f3b26e8718c8e73de">llog_reverse_process</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cb, void *data, void *catdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gab4498d20e447d4dbeaff34eb3b305d57">llog_exist</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">new llog API  <a href="group__log.html#gab4498d20e447d4dbeaff34eb3b305d57"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga4f29ac09d8ce9183650aa713038b2c92">llog_declare_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gad1dcf7f6a3d54acd725f99455d849ca8">llog_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga1db1cffd9f210c9f081370af6106a606">llog_declare_write_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, int idx, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga38790001c86a4ad331c76a6e8698b6e9">llog_write_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *logcookies, int idx, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gace38c6753f06b86177bebbe0121fde90">llog_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *lgh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *logcookies, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga682d7fd8bcbf72f370ee2aab71eadfa9">llog_declare_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *lgh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gae96db4e0338a67db6a75218a14d22b4f">llog_open_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__handle.html">llog_handle</a> **res, struct <a class="el" href="structllog__logid.html">llog_logid</a> *logid, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to open llog or create it if doesn't exist.  <a href="group__log.html#gae96db4e0338a67db6a75218a14d22b4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaf5171710a6a625218951e36e3c7d3e01">llog_erase</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__logid.html">llog_logid</a> *logid, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to delete existent llog.  <a href="group__log.html#gaf5171710a6a625218951e36e3c7d3e01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gad1dd01ae4a118379d446d5afcbb261fa">llog_write</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, int idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gae5358b955b7d709ed7f5416022472539">llog_open</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__handle.html">llog_handle</a> **lgh, struct <a class="el" href="structllog__logid.html">llog_logid</a> *logid, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, enum <a class="el" href="group__log.html#ga2f1ab12fceef20a1f6a2c3fbf3b28afa">llog_open_param</a> open_param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga9487d7128a3cf457ff2a9181ce152b74">llog_close</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga313d57d22838eb9027b38ee417701af3">llog_is_empty</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to get the llog size in records.  <a href="group__log.html#ga313d57d22838eb9027b38ee417701af3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga29d5501b6e8f8d880d210907b6ef8f68">llog_copy_handler</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga2abc0dd1d2e6e6e1fca19069346475fa">llog_backup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *bctxt, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, char *backup)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaae74cc5ecdf5ceda1159ad495cef0113">llog_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="llog.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LOG</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00048">48</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a69bd84641bb79b66971f64f3021f745d"></a><!-- doxytag: member="llog.c::llog_alloc_handle" ref="a69bd84641bb79b66971f64f3021f745d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structllog__handle.html">llog_handle</a>* llog_alloc_handle </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00059">59</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lustre__log_8h_source.html#l00264">llog_handle::lgh_hdr_mutex</a>, <a class="el" href="lustre__log_8h_source.html#l00263">llog_handle::lgh_lock</a>, <a class="el" href="lustre__log_8h_source.html#l00286">llog_handle::lgh_refcount</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="lustre__log_8h_source.html#l00280">llog_handle::phd</a>, <a class="el" href="lustre__log_8h_source.html#l00069">plain_handle_data::phd_entry</a>, and <a class="el" href="structllog__handle.html#a6b57b14cf19ad1632ccff6ca9d53ef1c">llog_handle::u</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>.</p>

</div>
</div>
<a class="anchor" id="aa92f515c4fd087194e0c14a27817bdf6"></a><!-- doxytag: member="llog.c::llog_declare_destroy" ref="aa92f515c4fd087194e0c14a27817bdf6" args="(const struct lu_env *env, struct llog_handle *handle, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_declare_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00107">107</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="structllog__operations.html#a5ef863efa13a5e4eaf5920b176c9bd66">llog_operations::lop_declare_destroy</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l00197">llog_cancel_rec()</a>, and <a class="el" href="llog_8c_source.html#l00149">llog_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a7236f139e1fd2e9257d83e8180637994"></a><!-- doxytag: member="llog.c::llog_free_handle" ref="a7236f139e1fd2e9257d83e8180637994" args="(struct llog_handle *loghandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void llog_free_handle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00078">78</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00281">llog_handle::chd</a>, <a class="el" href="lustre__log_8h_source.html#l00076">cat_handle_data::chd_head</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00267">llog_handle::lgh_hdr_size</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="packet-lustre_8c_source.html#l00356">LLOG_F_IS_CAT</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__log_8h_source.html#l00280">llog_handle::phd</a>, <a class="el" href="lustre__log_8h_source.html#l00069">plain_handle_data::phd_entry</a>, and <a class="el" href="structllog__handle.html#a6b57b14cf19ad1632ccff6ca9d53ef1c">llog_handle::u</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l00100">llog_handle_put()</a>, and <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a6758bef27c12d168b20957085d251cef"></a><!-- doxytag: member="llog.c::llog_handle_get" ref="a6758bef27c12d168b20957085d251cef" args="(struct llog_handle *loghandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void llog_handle_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00095">95</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00286">llog_handle::lgh_refcount</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00206">llog_cat_id2handle()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0d6206e62438f1c670a131d9ebe6221"></a><!-- doxytag: member="llog.c::llog_handle_put" ref="ac0d6206e62438f1c670a131d9ebe6221" args="(struct llog_handle *loghandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void llog_handle_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00100">100</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00286">llog_handle::lgh_refcount</a>, and <a class="el" href="llog_8c_source.html#l00078">llog_free_handle()</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00673">llog_cat_cancel_records()</a>, <a class="el" href="llog__cat_8c_source.html#l00718">llog_cat_process_cb()</a>, <a class="el" href="llog__cat_8c_source.html#l00897">llog_cat_reverse_process_cb()</a>, <a class="el" href="llog__cat_8c_source.html#l00846">llog_cat_size_cb()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00091">llog_check_cb()</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, and <a class="el" href="llog__ioctl_8c_source.html#l00244">llog_remove_log()</a>.</p>

</div>
</div>
<a class="anchor" id="ac9d38e164ec46dc2fb164ee78d093493"></a><!-- doxytag: member="llog.c::llog_process_thread" ref="ac9d38e164ec46dc2fb164ee78d093493" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_process_thread </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00419">419</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00141">D_OTHER</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__compat_8h_source.html#l00271">ext2_test_bit</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00274">llog_handle::lgh_cur_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00275">llog_handle::lgh_cur_offset</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00273">llog_handle::lgh_last_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="lustre__idl_8h_source.html#l03307">llog_log_hdr::llh_hdr</a>, <a class="el" href="llog_8c_source.html#l00197">llog_cancel_rec()</a>, <a class="el" href="lustre__log_8h_source.html#l00329">LLOG_DEL_RECORD</a>, <a class="el" href="lustre__idl_8h_source.html#l03336">LLOG_HDR_BITMAP</a>, <a class="el" href="lustre__idl_8h_source.html#l03333">LLOG_HDR_BITMAP_SIZE</a>, <a class="el" href="lustre__log_8h_source.html#l00447">llog_next_block()</a>, <a class="el" href="lustre__log_8h_source.html#l00328">LLOG_PROC_BREAK</a>, <a class="el" href="lustre__idl_8h_source.html#l03106">LLOG_REC_HDR_NEEDS_SWABBING</a>, <a class="el" href="llog__internal_8h_source.html#l00101">llog_rec_hdr_next()</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="lustre__log_8h_source.html#l00137">llog_process_cat_data::lpcd_first_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00141">llog_process_cat_data::lpcd_last_idx</a>, <a class="el" href="llog__internal_8h_source.html#l00046">llog_process_info::lpi_catdata</a>, <a class="el" href="llog__internal_8h_source.html#l00044">llog_process_info::lpi_cb</a>, <a class="el" href="llog__internal_8h_source.html#l00045">llog_process_info::lpi_cbdata</a>, <a class="el" href="llog__internal_8h_source.html#l00049">llog_process_info::lpi_env</a>, <a class="el" href="llog__internal_8h_source.html#l00043">llog_process_info::lpi_loghandle</a>, <a class="el" href="llog__internal_8h_source.html#l00047">llog_process_info::lpi_rc</a>, <a class="el" href="lustre__idl_8h_source.html#l03115">llog_rec_hdr::lrh_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="llog__swab_8c_source.html#l00146">lustre_swab_llog_rec()</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l00640">llog_process_or_fork()</a>, and <a class="el" href="llog_8c_source.html#l00618">llog_process_thread_daemonize()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf1a2b67bc5e0f218feaf3e3d657d8cb"></a><!-- doxytag: member="llog.c::llog_process_thread_daemonize" ref="aaf1a2b67bc5e0f218feaf3e3d657d8cb" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_process_thread_daemonize </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00618">618</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l01024">LCT_LOCAL</a>, <a class="el" href="lu__object_8h_source.html#l01020">LCT_MG_THREAD</a>, <a class="el" href="llog_8c_source.html#l00419">llog_process_thread()</a>, <a class="el" href="llog__internal_8h_source.html#l00048">llog_process_info::lpi_completion</a>, <a class="el" href="llog__internal_8h_source.html#l00049">llog_process_info::lpi_env</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, and <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l00640">llog_process_or_fork()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
