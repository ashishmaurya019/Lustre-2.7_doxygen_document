<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: libcfs/libcfs/hash.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>libcfs/libcfs/hash.c File Reference</h1><code>#include &lt;linux/seq_file.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>

<p><a href="hash_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__head.html">cfs_hash_head</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Simple hash head without depth tracking new element is always added to head of hlist.  <a href="structcfs__hash__head.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__head__dep.html">cfs_hash_head_dep</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Simple hash head with depth tracking new element is always added to head of hlist.  <a href="structcfs__hash__head__dep.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__dhead.html">cfs_hash_dhead</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">double links hash head without depth tracking new element is always added to tail of hlist  <a href="structcfs__hash__dhead.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__dhead__dep.html">cfs_hash_dhead_dep</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">double links hash head with depth tracking new element is always added to tail of hlist  <a href="structcfs__hash__dhead__dep.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfs__hash__cond__arg.html">cfs_hash_cond_arg</a></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="hash_8c.html#a3f4a95405348aa63ef907e692901011fa9057f7c72113faf62a9f183e44bfaa57">CFS_HS_LOOKUP_MASK_FIND</a> =  1 &lt;&lt; 0, 
<a class="el" href="hash_8c.html#a3f4a95405348aa63ef907e692901011fa76d5856b38643a382cabc97d40d0f126">CFS_HS_LOOKUP_MASK_REF</a> =  1 &lt;&lt; 1, 
<a class="el" href="hash_8c.html#a3f4a95405348aa63ef907e692901011fa403412abdf8ed8767c695e3d0f78afb3">CFS_HS_LOOKUP_MASK_ADD</a> =  1 &lt;&lt; 2, 
<a class="el" href="hash_8c.html#a3f4a95405348aa63ef907e692901011fa9c8d54a50358c5269617426949a82887">CFS_HS_LOOKUP_MASK_DEL</a> =  1 &lt;&lt; 3
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a214f58bd7b2507893f83af71cbf253f9">cfs_hash_lookup_intent</a> { <br/>
&nbsp;&nbsp;<a class="el" href="hash_8c.html#a214f58bd7b2507893f83af71cbf253f9aa3eaf369973a9dc300ae62c0df2c3267">CFS_HS_LOOKUP_IT_PEEK</a> =  CFS_HS_LOOKUP_MASK_FIND, 
<a class="el" href="hash_8c.html#a214f58bd7b2507893f83af71cbf253f9a5d556671594d2e6a3c3a485504e5cac5">CFS_HS_LOOKUP_IT_FIND</a>, 
<a class="el" href="hash_8c.html#a214f58bd7b2507893f83af71cbf253f9a3f27b81dcb9507a77a29aa1df38f2665">CFS_HS_LOOKUP_IT_ADD</a>, 
<a class="el" href="hash_8c.html#a214f58bd7b2507893f83af71cbf253f9a1548932a446818d4e57783a20dfedd94">CFS_HS_LOOKUP_IT_FINDADD</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="hash_8c.html#a214f58bd7b2507893f83af71cbf253f9a8c6587dc806fde991d8353e6cd7a245c">CFS_HS_LOOKUP_IT_FINDDEL</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a10d71c4ac2d823af65c23879edc36012">cfs_hash_nl_lock</a> (union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *lock, int exclusive)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ab1c0c4eb95057842243f2d3e2c0cdb0f">cfs_hash_nl_unlock</a> (union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *lock, int exclusive)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a4e90e90219c7ad80a8403974c34496e1">cfs_hash_spin_lock</a> (union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *lock, int exclusive) __acquires(&amp;lock-&gt;spin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a5f792542bb1b4ee1ae51fb374dad0d77">cfs_hash_spin_unlock</a> (union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *lock, int exclusive) __releases(&amp;lock-&gt;spin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a7982552fb9a1fb580927ee1dfadf5b9b">cfs_hash_rw_lock</a> (union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *lock, int exclusive) __acquires(&amp;lock-&gt;rw)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a99b9755a2fe3dca80ba8e14c621c290a">cfs_hash_rw_unlock</a> (union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *lock, int exclusive) __releases(&amp;lock-&gt;rw)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a4908638b4f7574b776c4827ed4429c7e">cfs_hash_lock_setup</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aedee74819e038545a20f7b06a4685f96">cfs_hash_hh_hhead_size</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__head.html">hlist_head</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#abc47a7e6560a9c373384295ccadd3be8">cfs_hash_hh_hhead</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ab64551e50e0fa50fa6564a5c5978fd55">cfs_hash_hh_hnode_add</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#abec4dec6f864b8a89b682de9d6e7ecd4">cfs_hash_hh_hnode_del</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a6ae393db5394c8111f90fb4552d72199">cfs_hash_hd_hhead_size</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__head.html">hlist_head</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a7c1aaa2e900f93ca113c938dd977ef4e">cfs_hash_hd_hhead</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aa4d272c017f46a6de2ef94f367341658">cfs_hash_hd_hnode_add</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#acfcc7da63864f829aac243e1723ae135">cfs_hash_hd_hnode_del</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aeec633f4371a81a075bacab50d9ecb9f">cfs_hash_dh_hhead_size</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__head.html">hlist_head</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ad63017d9255ca5e3a2eb0c13181d682a">cfs_hash_dh_hhead</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a351902655ed9baf697f7a48a0c5c5942">cfs_hash_dh_hnode_add</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a74fee50c20043c594c1e5b96c56ab642">cfs_hash_dh_hnode_del</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#afe19b8f156f055955eafceb5691b6e13">cfs_hash_dd_hhead_size</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__head.html">hlist_head</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#adc57980cebdd1a11f9dc66c67e6de102">cfs_hash_dd_hhead</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ab953234bed3fef4f1d0ad917f88e2e30">cfs_hash_dd_hnode_add</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a8d0ce5452b60b67115257bf3dbd01bbd">cfs_hash_dd_hnode_del</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ac7231da8fdb84a7ba1a4f14121fe0df5">cfs_hash_hlist_setup</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aeac41f7406ea3b71328202208466eeb8">cfs_hash_bd_from_key</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a> **bkts, unsigned int bits, const void *key, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ab49ef4d8b2fd1b890c12e346076c8708">cfs_hash_bd_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">operations on <a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> bucket (bd: bucket descriptor), they are normally for hash-table without rehash  <a href="#ab49ef4d8b2fd1b890c12e346076c8708"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#acefa271bdc654061d24c39277db4fea8">cfs_hash_bd_dep_record</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, int dep_cur)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a57fd5b5de61b99b5495702d56412922f">cfs_hash_bd_add_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aa406194af50e72d789650113d4ef5543">cfs_hash_bd_del_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a7c04dc300c14ceae6ce4b69c0c2ad6a5">cfs_hash_bd_move_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd_old, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd_new, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a3cfbca8c79478b4db2cbb880f4d92c96">cfs_hash_bd_lookup_intent</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, enum <a class="el" href="hash_8c.html#a214f58bd7b2507893f83af71cbf253f9">cfs_hash_lookup_intent</a> intent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a4733470a584e7a9c2e1bfed2cf118202">cfs_hash_bd_lookup_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, const void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a59e87159906b48387505a24e623e1482">cfs_hash_bd_peek_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, const void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a9f375436b218084294b27ed2b10342a2">cfs_hash_multi_bd_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, unsigned n, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a34ecf6fc5341956d774a0677c8cfd28d">cfs_hash_multi_bd_unlock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, unsigned n, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a4a40bc1bf05c85279b43104318c5b6d2">cfs_hash_multi_bd_lookup_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, unsigned n, const void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a173b1eca79d4df4c69bca68467e3aa05">cfs_hash_multi_bd_findadd_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, unsigned n, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, int noref)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ac4c1d644a1672697fe1bc6bb3bdaca6a">cfs_hash_multi_bd_finddel_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, unsigned n, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a78a8c556a3e9e3290c4d4e86bbd7e61b">cfs_hash_bd_order</a> (struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd1, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aa7a09ec42ba99ae42eb00726d49713f9">cfs_hash_dual_bd_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">operations on <a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> bucket (bd: bucket descriptor), they are safe for hash-table with rehash  <a href="#aa7a09ec42ba99ae42eb00726d49713f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a483b5dce37e2f0210aed1537aa96044c">cfs_hash_dual_bd_lock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a887d858f4122419101c382deafce322d">cfs_hash_dual_bd_unlock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, int excl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a007d325e7cbaa2e73aa658405878a328">cfs_hash_dual_bd_lookup_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, const void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a857cff31e128e06767c8c8d360d5f7ef">cfs_hash_dual_bd_findadd_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, int noref)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#af3f19dce78283041d70420359b2e4125">cfs_hash_dual_bd_finddel_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bds, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ad7af0fe819e8e5c1845c9938eebafe77">cfs_hash_buckets_free</a> (struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a> **buckets, int bkt_size, int prev_size, int <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a0ccc298e5d89ae004867d42a87ebe6a7">cfs_hash_buckets_realloc</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a> **old_bkts, unsigned int old_size, unsigned int new_size)</td></tr>
<tr><td colspan="2"><div class="groupHeader">- Descriptive hash name</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp7f2550e7f7a8bca9a3781aceba97890b"></a>Initialize new libcfs hash, where:</p>
<p>- Initial hash table size, in bits  - Maximum allowed hash table resize, in bits  - Registered hash table operations  - CFS_HASH_REHASH enable synamic hash resizing</p>
<ul>
<li>CFS_HASH_SORT enable chained hash sort </li>
</ul>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a9d66b9ef4ada0369b0f75316778c113e">cfs_hash_rehash_worker</a> (struct <a class="el" href="structcfs__workitem.html">cfs_workitem</a> *wi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a15e51d8433fb7dbb5b1713ab9f64e94d">cfs_hash_depth_wi_init</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#abd9824acf006b45ded2d0fccb303117c">cfs_hash_depth_wi_cancel</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ac9cb7b7e72de26117281d8844ac80c61">cfs_hash_create</a> (char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, unsigned cur_bits, unsigned max_bits, unsigned bkt_bits, unsigned extra_bytes, unsigned min_theta, unsigned max_theta, struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a> *ops, unsigned flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ace849c1a0b2e47743153f790cc3d8c74">cfs_hash_destroy</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cleanup libcfs hash .  <a href="#ace849c1a0b2e47743153f790cc3d8c74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a911b0cdf3c5eb118a068657ea3f5361d">cfs_hash_getref</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a2e4028cb849fd08c386ca9e72da3d720">cfs_hash_putref</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#af9b2c647373e5c8e0ebe7aaab8225af3">cfs_hash_rehash_bits</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ae8de371cbeadeeca6633fa5f2213ee6c">cfs_hash_rehash_inline</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">don't allow inline rehash if:</p>
<ul>
<li>user wants non-blocking change (add/del) on hash table</li>
<li>too many elements </li>
</ul>
 <a href="#ae8de371cbeadeeca6633fa5f2213ee6c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a4c3552d7ca8aac343e6b257197cd0170">cfs_hash_add</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add item  to libcfs hash  using .  <a href="#a4c3552d7ca8aac343e6b257197cd0170"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a465701cb19f4f63e6f0ad4b70dc577fd">cfs_hash_find_or_add</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, int noref)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a4be9049de769cd2632a3941b4517c26f">cfs_hash_add_unique</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add item  to libcfs hash  using .  <a href="#a4be9049de769cd2632a3941b4517c26f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a3971c1ab71095c51183005c429e1e19c">cfs_hash_findadd_unique</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add item  to libcfs hash  using .  <a href="#a3971c1ab71095c51183005c429e1e19c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aae06334dd2f9136524fe92c7ddfdcdd0">cfs_hash_del</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete item  from the libcfs hash  using .  <a href="#aae06334dd2f9136524fe92c7ddfdcdd0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a076b3fecfda52c19b151c57c16f7414a">cfs_hash_del_key</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete item given  in libcfs hash .  <a href="#a076b3fecfda52c19b151c57c16f7414a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a8e2a5b89d520bf4a2d61a615d2b4db59">cfs_hash_lookup</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup an item using  in the libcfs hash  and return it.  <a href="#a8e2a5b89d520bf4a2d61a615d2b4db59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ae222bfa19dde8749ea3dffccf6f0af7e">cfs_hash_for_each_enter</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ac2cedadd00f851a2d7ccd4a8e75de64d">cfs_hash_for_each_exit</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aee153d5ff6ec28c8fe3479f8ee9ae6d0">cfs_hash_for_each_tight</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a> func, void *data, int remove_safe)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For each item in the libcfs hash  call the passed callback  and pass to it as an argument each hash item and the private .  <a href="#aee153d5ff6ec28c8fe3479f8ee9ae6d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a5425f0edef638e6c673b82c95236def1">cfs_hash_cond_del_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a2fa48ef6255ae7f8f888df2086a1abd5">cfs_hash_cond_del</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#ae067a1c5ff5f7ec118ed9fa0b438d091">cfs_hash_cond_opt_cb_t</a> func, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete item from the libcfs hash  when  return true.  <a href="#a2fa48ef6255ae7f8f888df2086a1abd5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a69216206c57af12a44fdfaf440fd6332">cfs_hash_for_each</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a> func, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a05c84128e81a249c79b6e7e2bb87f284">cfs_hash_for_each_safe</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a> func, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a9706de23346e5f6ceedd8182794ff6d3">cfs_hash_peek</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#af591c6ad2b9de437584348a42c0bfb45">cfs_hash_is_empty</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#af52de8ab3e05033cdddecf1d5d33534d">cfs_hash_size_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a72216fe7bc97446e5aa74957d49ed3b2">cfs_hash_for_each_relax</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a> func, void *data, int <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aa6e54d477bdb468c6d3070c4d450f4fc">cfs_hash_for_each_nolock</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a> func, void *data, int <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a75af19213d558284e59ca3d64d5aac24">cfs_hash_for_each_empty</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a> func, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For each hash bucket in the libcfs hash  call the passed callback  until all the hash buckets are empty.  <a href="#a75af19213d558284e59ca3d64d5aac24"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#af3bf824a71c127006cc87ffca4304a94">cfs_hash_hlist_for_each</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, unsigned hindex, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a> func, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a871874328fbfc1ccfdd80c8843504ca4">cfs_hash_for_each_key</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, <a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a> func, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ae9b61ff0c4fb91626990e5884fd9800e">cfs_hash_rehash_cancel_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rehash the libcfs hash  to the given .  <a href="#ae9b61ff0c4fb91626990e5884fd9800e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#af74115d94e7198ba300b1e380c2419e6">cfs_hash_rehash_cancel</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a80d843e062c8f2d6812696a028cfb2db">cfs_hash_rehash</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, int do_rehash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aa04a39d2e894e6fd399c2d1833593d7c">cfs_hash_rehash_bd</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *old)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a32df2bf8d0c966f41fa6ffbe0649b511">cfs_hash_rehash_key</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *old_key, void *new_key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rehash the object referenced by  in the libcfs hash .  <a href="#a32df2bf8d0c966f41fa6ffbe0649b511"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#aedabce721eb11143239e7c7b391bb9e9">cfs_hash_debug_header</a> (struct seq_file *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a0742356feead188fa18f6f3c4a383b9d">cfs_hash_full_bkts</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#affdc8c8f5129ea72fbbf6e7a983b5a82">cfs_hash_full_nbkt</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a96e755f9e1778c7d9461d6a0271017fd">cfs_hash_debug_str</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct seq_file *m)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcfs__wi__sched.html">cfs_wi_sched</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ae0313d5afd48bf16481b4f19b88f3ca0">cfs_sched_rehash</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#af0aa717ff866201e0815e0f6d57806a4">cfs_hash_nl_lops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">No lock hash.  <a href="#af0aa717ff866201e0815e0f6d57806a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a187dd039c5d1b41ba5d5d726fdcf4c0f">cfs_hash_nbl_lops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">no bucket lock, one spinlock to protect everything  <a href="#a187dd039c5d1b41ba5d5d726fdcf4c0f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ad6e94d64e1e97c6d369edb61eacb0e69">cfs_hash_bkt_spin_lops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">spin bucket lock, rehash is enabled  <a href="#ad6e94d64e1e97c6d369edb61eacb0e69"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#abb5104da66b6fd3430425a0a9d94050f">cfs_hash_bkt_rw_lops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">rw bucket lock, rehash is enabled  <a href="#abb5104da66b6fd3430425a0a9d94050f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a154cbd19d815fd84045c067ce420574d">cfs_hash_nr_bkt_spin_lops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">spin bucket lock, rehash is disabled  <a href="#a154cbd19d815fd84045c067ce420574d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a5bc2fb43e55587f3f7722e6e2766d6ce">cfs_hash_nr_bkt_rw_lops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">rw bucket lock, rehash is disabled  <a href="#a5bc2fb43e55587f3f7722e6e2766d6ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__hlist__ops.html">cfs_hash_hlist_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#af978a2bb23029734cb31b6155c71415f">cfs_hash_hh_hops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__hlist__ops.html">cfs_hash_hlist_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ab6b5b953514b060fbfd88deb21c1015a">cfs_hash_hd_hops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__hlist__ops.html">cfs_hash_hlist_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#a2ffc328d577986977fd2f49d31a9d942">cfs_hash_dh_hops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__hlist__ops.html">cfs_hash_hlist_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8c.html#ae7cbf604f6527d1b93a19503405e2121">cfs_hash_dd_hops</a></td></tr>
</table>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a3f4a95405348aa63ef907e692901011f"></a><!-- doxytag: member="hash.c::@259" ref="a3f4a95405348aa63ef907e692901011f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a3f4a95405348aa63ef907e692901011fa9057f7c72113faf62a9f183e44bfaa57"></a><!-- doxytag: member="CFS_HS_LOOKUP_MASK_FIND" ref="a3f4a95405348aa63ef907e692901011fa9057f7c72113faf62a9f183e44bfaa57" args="" -->CFS_HS_LOOKUP_MASK_FIND</em>&nbsp;</td><td>
<p>always set, for sanity (avoid ZERO intent) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3f4a95405348aa63ef907e692901011fa76d5856b38643a382cabc97d40d0f126"></a><!-- doxytag: member="CFS_HS_LOOKUP_MASK_REF" ref="a3f4a95405348aa63ef907e692901011fa76d5856b38643a382cabc97d40d0f126" args="" -->CFS_HS_LOOKUP_MASK_REF</em>&nbsp;</td><td>
<p>return entry with a ref </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3f4a95405348aa63ef907e692901011fa403412abdf8ed8767c695e3d0f78afb3"></a><!-- doxytag: member="CFS_HS_LOOKUP_MASK_ADD" ref="a3f4a95405348aa63ef907e692901011fa403412abdf8ed8767c695e3d0f78afb3" args="" -->CFS_HS_LOOKUP_MASK_ADD</em>&nbsp;</td><td>
<p>add entry if not existing </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3f4a95405348aa63ef907e692901011fa9c8d54a50358c5269617426949a82887"></a><!-- doxytag: member="CFS_HS_LOOKUP_MASK_DEL" ref="a3f4a95405348aa63ef907e692901011fa9c8d54a50358c5269617426949a82887" args="" -->CFS_HS_LOOKUP_MASK_DEL</em>&nbsp;</td><td>
<p>delete entry, ignore other masks </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00597">597</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a214f58bd7b2507893f83af71cbf253f9"></a><!-- doxytag: member="hash.c::cfs_hash_lookup_intent" ref="a214f58bd7b2507893f83af71cbf253f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="hash_8c.html#a214f58bd7b2507893f83af71cbf253f9">cfs_hash_lookup_intent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a214f58bd7b2507893f83af71cbf253f9aa3eaf369973a9dc300ae62c0df2c3267"></a><!-- doxytag: member="CFS_HS_LOOKUP_IT_PEEK" ref="a214f58bd7b2507893f83af71cbf253f9aa3eaf369973a9dc300ae62c0df2c3267" args="" -->CFS_HS_LOOKUP_IT_PEEK</em>&nbsp;</td><td>
<p>return item w/o refcount </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a214f58bd7b2507893f83af71cbf253f9a5d556671594d2e6a3c3a485504e5cac5"></a><!-- doxytag: member="CFS_HS_LOOKUP_IT_FIND" ref="a214f58bd7b2507893f83af71cbf253f9a5d556671594d2e6a3c3a485504e5cac5" args="" -->CFS_HS_LOOKUP_IT_FIND</em>&nbsp;</td><td>
<p>return item with refcount </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a214f58bd7b2507893f83af71cbf253f9a3f27b81dcb9507a77a29aa1df38f2665"></a><!-- doxytag: member="CFS_HS_LOOKUP_IT_ADD" ref="a214f58bd7b2507893f83af71cbf253f9a3f27b81dcb9507a77a29aa1df38f2665" args="" -->CFS_HS_LOOKUP_IT_ADD</em>&nbsp;</td><td>
<p>return item w/o refcount if existed, otherwise add </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a214f58bd7b2507893f83af71cbf253f9a1548932a446818d4e57783a20dfedd94"></a><!-- doxytag: member="CFS_HS_LOOKUP_IT_FINDADD" ref="a214f58bd7b2507893f83af71cbf253f9a1548932a446818d4e57783a20dfedd94" args="" -->CFS_HS_LOOKUP_IT_FINDADD</em>&nbsp;</td><td>
<p>return item with refcount if existed, otherwise add </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a214f58bd7b2507893f83af71cbf253f9a8c6587dc806fde991d8353e6cd7a245c"></a><!-- doxytag: member="CFS_HS_LOOKUP_IT_FINDDEL" ref="a214f58bd7b2507893f83af71cbf253f9a8c6587dc806fde991d8353e6cd7a245c" args="" -->CFS_HS_LOOKUP_IT_FINDDEL</em>&nbsp;</td><td>
<p>delete if existed </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00608">608</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4c3552d7ca8aac343e6b257197cd0170"></a><!-- doxytag: member="hash.c::cfs_hash_add" ref="a4c3552d7ca8aac343e6b257197cd0170" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add item  to libcfs hash  using . </p>
<p>The registered ops-&gt;hs_get function will be called when the item is added. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01204">1204</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00549">cfs_hash_bd_get_and_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00764">cfs_hash_key_validate()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="hash_8c_source.html#l01193">cfs_hash_rehash_inline()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="list_8h_source.html#l00318">hlist_unhashed()</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="ldlm__flock_8c_source.html#l00098">ldlm_flock_blocking_link()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00289">ldlm_process_flock_lock()</a>, and <a class="el" href="mdt__handler_8c_source.html#l03121">mdt_intent_lock_replace()</a>.</p>

</div>
</div>
<a class="anchor" id="a4be9049de769cd2632a3941b4517c26f"></a><!-- doxytag: member="hash.c::cfs_hash_add_unique" ref="a4be9049de769cd2632a3941b4517c26f" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_add_unique </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add item  to libcfs hash  using . </p>
<p>The registered ops-&gt;hs_get function will be called if the item was added. Returns 0 on success or -EALREADY on key collisions. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01259">1259</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00702">cl_env_attach()</a>, <a class="el" href="genops_8c_source.html#l00836">class_new_export()</a>, <a class="el" href="lod__pool_8c_source.html#l00643">lod_pool_new()</a>, <a class="el" href="lov__pool_8c_source.html#l00433">lov_pool_new()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00772">nodemap_create()</a>, <a class="el" href="osc__quota_8c_source.html#l00074">osc_quota_setdq()</a>, <a class="el" href="qmt__pool_8c_source.html#l00235">qmt_pool_alloc()</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l01369">tgt_clients_data_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a57fd5b5de61b99b5495702d56412922f"></a><!-- doxytag: member="hash.c::cfs_hash_bd_add_locked" ref="a57fd5b5de61b99b5495702d56412922f" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_bd_add_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00529">529</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="hash_8c_source.html#l00506">cfs_hash_bd_dep_record()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00488">cfs_hash_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00386">cfs_hash_with_counter()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00371">cfs_hash_with_no_itemref()</a>, <a class="el" href="structcfs__hash__hlist__ops.html#a4395bdbd505057aeb99e1c81a02f4914">cfs_hash_hlist_ops::hop_hnode_add</a>, <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00216">cfs_hash::hs_hops</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00095">cfs_hash_bucket::hsb_version</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, <a class="el" href="hash_8c_source.html#l00739">cfs_hash_multi_bd_findadd_locked()</a>, <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="lu__object_8c_source.html#l02290">lu_object_assign_fid()</a>, <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>, and <a class="el" href="lu__object_8c_source.html#l00675">lu_object_new()</a>.</p>

</div>
</div>
<a class="anchor" id="aa406194af50e72d789650113d4ef5543"></a><!-- doxytag: member="hash.c::cfs_hash_bd_del_locked" ref="aa406194af50e72d789650113d4ef5543" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_bd_del_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00549">549</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00494">cfs_hash_put_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00386">cfs_hash_with_counter()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00371">cfs_hash_with_no_itemref()</a>, <a class="el" href="structcfs__hash__hlist__ops.html#ac59495ad8a636ac17f1f5ba821cec874">cfs_hash_hlist_ops::hop_hnode_del</a>, <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00216">cfs_hash::hs_hops</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00095">cfs_hash_bucket::hsb_version</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01267">__ldlm_resource_putref_final()</a>, <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, <a class="el" href="hash_8c_source.html#l01483">cfs_hash_cond_del_locked()</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, <a class="el" href="lquota__entry_8c_source.html#l00118">lqe_iter_cb()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__object_8c_source.html#l00204">lu_object_unhash()</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l01109">nodemap_cleanup_iter_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="acefa271bdc654061d24c39277db4fea8"></a><!-- doxytag: member="hash.c::cfs_hash_bd_dep_record" ref="acefa271bdc654061d24c39277db4fea8" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, int dep_cur)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_bd_dep_record </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dep_cur</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00506">506</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, <a class="el" href="workitem_8c_source.html#l00183">cfs_wi_schedule()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00097">cfs_hash_bucket::hsb_depmax</a>, <a class="el" href="libcfs__hash_8h_source.html#l00096">cfs_hash_bucket::hsb_index</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, and <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, and <a class="el" href="hash_8c_source.html#l00570">cfs_hash_bd_move_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="aeac41f7406ea3b71328202208466eeb8"></a><!-- doxytag: member="hash.c::cfs_hash_bd_from_key" ref="aeac41f7406ea3b71328202208466eeb8" args="(struct cfs_hash *hs, struct cfs_hash_bucket **bkts, unsigned int bits, const void *key, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_bd_from_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a> **&nbsp;</td>
          <td class="paramname"> <em>bkts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00479">479</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, <a class="el" href="libcfs__hash_8h_source.html#l00454">cfs_hash_id()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00238">cfs_hash::hs_bkt_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00491">cfs_hash_bd_get()</a>, <a class="el" href="hash_8c_source.html#l00814">cfs_hash_dual_bd_get()</a>, and <a class="el" href="hash_8c_source.html#l01864">cfs_hash_rehash_bd()</a>.</p>

</div>
</div>
<a class="anchor" id="ab49ef4d8b2fd1b890c12e346076c8708"></a><!-- doxytag: member="hash.c::cfs_hash_bd_get" ref="ab49ef4d8b2fd1b890c12e346076c8708" args="(struct cfs_hash *hs, const void *key, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_bd_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>operations on <a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> bucket (bd: bucket descriptor), they are normally for hash-table without rehash </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00491">491</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00479">cfs_hash_bd_from_key()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00252">cfs_hash::hs_rehash_buckets</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00549">cfs_hash_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00739">cfs_hash_multi_bd_findadd_locked()</a>, <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01295">ldlm_resource_putref()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__object_8h_source.html#l00653">lu_site_bkt_from_fid()</a>, and <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>.</p>

</div>
</div>
<a class="anchor" id="a3cfbca8c79478b4db2cbb880f4d92c96"></a><!-- doxytag: member="hash.c::cfs_hash_bd_lookup_intent" ref="a3cfbca8c79478b4db2cbb880f4d92c96" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, const void *key, struct hlist_node *hnode, enum cfs_hash_lookup_intent intent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_bd_lookup_intent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="hash_8c.html#a214f58bd7b2507893f83af71cbf253f9">cfs_hash_lookup_intent</a>&nbsp;</td>
          <td class="paramname"> <em>intent</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00626">626</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="hash_8c_source.html#l00549">cfs_hash_bd_del_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00626">cfs_hash_bd_hhead()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00488">cfs_hash_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00476">cfs_hash_keycmp()</a>, <a class="el" href="hash_8c_source.html#l00603">CFS_HS_LOOKUP_MASK_ADD</a>, <a class="el" href="hash_8c_source.html#l00605">CFS_HS_LOOKUP_MASK_DEL</a>, <a class="el" href="hash_8c_source.html#l00601">CFS_HS_LOOKUP_MASK_REF</a>, <a class="el" href="list_8h_source.html#l00384">hlist_for_each</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00667">cfs_hash_bd_lookup_locked()</a>, <a class="el" href="hash_8c_source.html#l00676">cfs_hash_bd_peek_locked()</a>, <a class="el" href="hash_8c_source.html#l00739">cfs_hash_multi_bd_findadd_locked()</a>, <a class="el" href="hash_8c_source.html#l00770">cfs_hash_multi_bd_finddel_locked()</a>, and <a class="el" href="hash_8c_source.html#l00723">cfs_hash_multi_bd_lookup_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a4733470a584e7a9c2e1bfed2cf118202"></a><!-- doxytag: member="hash.c::cfs_hash_bd_lookup_locked" ref="a4733470a584e7a9c2e1bfed2cf118202" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_bd_lookup_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00667">667</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, and <a class="el" href="hash_8c_source.html#l00612">CFS_HS_LOOKUP_IT_FIND</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c04dc300c14ceae6ce4b69c0c2ad6a5"></a><!-- doxytag: member="hash.c::cfs_hash_bd_move_locked" ref="a7c04dc300c14ceae6ce4b69c0c2ad6a5" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd_old, struct cfs_hash_bd *bd_new, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_bd_move_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00570">570</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00598">cfs_hash_bd_compare()</a>, <a class="el" href="hash_8c_source.html#l00506">cfs_hash_bd_dep_record()</a>, <a class="el" href="structcfs__hash__hlist__ops.html#a4395bdbd505057aeb99e1c81a02f4914">cfs_hash_hlist_ops::hop_hnode_add</a>, <a class="el" href="structcfs__hash__hlist__ops.html#ac59495ad8a636ac17f1f5ba821cec874">cfs_hash_hlist_ops::hop_hnode_del</a>, <a class="el" href="libcfs__hash_8h_source.html#l00216">cfs_hash::hs_hops</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00095">cfs_hash_bucket::hsb_version</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01864">cfs_hash_rehash_bd()</a>, and <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="a78a8c556a3e9e3290c4d4e86bbd7e61b"></a><!-- doxytag: member="hash.c::cfs_hash_bd_order" ref="a78a8c556a3e9e3290c4d4e86bbd7e61b" args="(struct cfs_hash_bd *bd1, struct cfs_hash_bd *bd2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_bd_order </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00787">787</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00598">cfs_hash_bd_compare()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00814">cfs_hash_dual_bd_get()</a>, and <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="a59e87159906b48387505a24e623e1482"></a><!-- doxytag: member="hash.c::cfs_hash_bd_peek_locked" ref="a59e87159906b48387505a24e623e1482" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_bd_peek_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00676">676</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, and <a class="el" href="hash_8c_source.html#l00610">CFS_HS_LOOKUP_IT_PEEK</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00586">htable_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7af0fe819e8e5c1845c9938eebafe77"></a><!-- doxytag: member="hash.c::cfs_hash_buckets_free" ref="ad7af0fe819e8e5c1845c9938eebafe77" args="(struct cfs_hash_bucket **buckets, int bkt_size, int prev_size, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_buckets_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a> **&nbsp;</td>
          <td class="paramname"> <em>buckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bkt_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>prev_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00869">869</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ccc298e5d89ae004867d42a87ebe6a7"></a><!-- doxytag: member="hash.c::cfs_hash_buckets_realloc" ref="a0ccc298e5d89ae004867d42a87ebe6a7" args="(struct cfs_hash *hs, struct cfs_hash_bucket **old_bkts, unsigned int old_size, unsigned int new_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a>** cfs_hash_buckets_realloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a> **&nbsp;</td>
          <td class="paramname"> <em>old_bkts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>old_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>new_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00888">888</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00854">cfs_hash_bd_for_each_hlist</a>, <a class="el" href="libcfs__hash_8h_source.html#l00446">cfs_hash_bkt_size()</a>, <a class="el" href="hash_8c_source.html#l00869">cfs_hash_buckets_free()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00344">cfs_hash_with_no_bktlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00351">cfs_hash_with_rw_bktlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00358">cfs_hash_with_spin_bktlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00097">cfs_hash_bucket::hsb_depmax</a>, <a class="el" href="libcfs__hash_8h_source.html#l00096">cfs_hash_bucket::hsb_index</a>, <a class="el" href="libcfs__hash_8h_source.html#l00095">cfs_hash_bucket::hsb_version</a>, <a class="el" href="list_8h_source.html#l00315">INIT_HLIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, and <a class="el" href="libcfs__private_8h_source.html#l00291">LIBCFS_ALLOC</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, and <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fa48ef6255ae7f8f888df2086a1abd5"></a><!-- doxytag: member="hash.c::cfs_hash_cond_del" ref="a2fa48ef6255ae7f8f888df2086a1abd5" args="(struct cfs_hash *hs, cfs_hash_cond_opt_cb_t func, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_cond_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#ae067a1c5ff5f7ec118ed9fa0b438d091">cfs_hash_cond_opt_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete item from the libcfs hash  when  return true. </p>
<p>The write lock being hold during loop for each bucket to avoid any object be reference. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01499">1499</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01483">cfs_hash_cond_del_locked()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, and <a class="el" href="hash_8c_source.html#l01478">cfs_hash_cond_arg::func</a>.</p>

</div>
</div>
<a class="anchor" id="a5425f0edef638e6c673b82c95236def1"></a><!-- doxytag: member="hash.c::cfs_hash_cond_del_locked" ref="a5425f0edef638e6c673b82c95236def1" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_cond_del_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01483">1483</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01479">cfs_hash_cond_arg::arg</a>, <a class="el" href="hash_8c_source.html#l00549">cfs_hash_bd_del_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00482">cfs_hash_object()</a>, and <a class="el" href="hash_8c_source.html#l01478">cfs_hash_cond_arg::func</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01499">cfs_hash_cond_del()</a>.</p>

</div>
</div>
<a class="anchor" id="ac9cb7b7e72de26117281d8844ac80c61"></a><!-- doxytag: member="hash.c::cfs_hash_create" ref="ac9cb7b7e72de26117281d8844ac80c61" args="(char *name, unsigned cur_bits, unsigned max_bits, unsigned bkt_bits, unsigned extra_bytes, unsigned min_theta, unsigned max_theta, struct cfs_hash_ops *ops, unsigned flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash.html">cfs_hash</a>* cfs_hash_create </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>cur_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>max_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>bkt_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>extra_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>min_theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>max_theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01003">1003</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00797">__cfs_hash_set_theta()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00142">CFS_HASH_BIGNAME</a>, <a class="el" href="libcfs__hash_8h_source.html#l00112">CFS_HASH_BIGNAME_LEN</a>, <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00144">CFS_HASH_COUNTER</a>, <a class="el" href="hash_8c_source.html#l00997">cfs_hash_depth_wi_init()</a>, <a class="el" href="hash_8c_source.html#l00467">cfs_hash_hlist_setup()</a>, <a class="el" href="hash_8c_source.html#l00210">cfs_hash_lock_setup()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00111">CFS_HASH_NAME_LEN</a>, <a class="el" href="libcfs__hash_8h_source.html#l00320">CFS_HASH_NBKT</a>, <a class="el" href="libcfs__hash_8h_source.html#l00130">CFS_HASH_NO_LOCK</a>, <a class="el" href="libcfs__hash_8h_source.html#l00148">CFS_HASH_REHASH</a>, <a class="el" href="libcfs__hash_8h_source.html#l00146">CFS_HASH_REHASH_KEY</a>, <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00773">CFS_HASH_THETA_BITS</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="libcfs__workitem_8h_source.html#l00091">cfs_wi_init()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="libcfs__hash_8h_source.html#l00238">cfs_hash::hs_bkt_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00224">cfs_hash::hs_extra_bytes</a>, <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>, <a class="el" href="structcfs__hash__ops.html#a5810a1a7b4df3002af1ca3be9e0d29a6">cfs_hash_ops::hs_get</a>, <a class="el" href="structcfs__hash__ops.html#a648437e728a587206b341e66ea8f6c32">cfs_hash_ops::hs_hash</a>, <a class="el" href="structcfs__hash__ops.html#a35150ae3b6ae74cedc795d3c51a5dffa">cfs_hash_ops::hs_key</a>, <a class="el" href="structcfs__hash__ops.html#ad89a763126edc3f03dfdf0d90ce88bb6">cfs_hash_ops::hs_keycmp</a>, <a class="el" href="structcfs__hash__ops.html#a57c9eb7be7971a93ebaaab3291743e4c">cfs_hash_ops::hs_keycpy</a>, <a class="el" href="libcfs__hash_8h_source.html#l00234">cfs_hash::hs_max_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00232">cfs_hash::hs_min_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00268">cfs_hash::hs_name</a>, <a class="el" href="structcfs__hash__ops.html#a420c928e978afc8e2251415eaf769722">cfs_hash_ops::hs_object</a>, <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>, <a class="el" href="structcfs__hash__ops.html#afc0a485f1a54389003f39391a5e3d155">cfs_hash_ops::hs_put</a>, <a class="el" href="structcfs__hash__ops.html#a357fb8d761ace14633b0dd711ea9aab4">cfs_hash_ops::hs_put_locked</a>, <a class="el" href="libcfs__hash_8h_source.html#l00250">cfs_hash::hs_refcount</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00248">cfs_hash::hs_rehash_wi</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00291">LIBCFS_ALLOC</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00726">cl_env_store_init()</a>, <a class="el" href="obd__config_8c_source.html#l00445">class_setup()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02884">ldlm_init_export()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00936">ldlm_init_flock_export()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="lod__lov_8c_source.html#l01280">lod_pools_init()</a>, <a class="el" href="lov__obd_8c_source.html#l00782">lov_setup()</a>, <a class="el" href="lquota__entry_8c_source.html#l00198">lquota_site_alloc()</a>, <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00174">nodemap_init_hash()</a>, <a class="el" href="osc__quota_8c_source.html#l00207">osc_quota_setup()</a>, <a class="el" href="connection_8c_source.html#l00140">ptlrpc_connection_init()</a>, and <a class="el" href="qmt__pool_8c_source.html#l00434">qmt_pool_init()</a>.</p>

</div>
</div>
<a class="anchor" id="adc57980cebdd1a11f9dc66c67e6de102"></a><!-- doxytag: member="hash.c::cfs_hash_dd_hhead" ref="adc57980cebdd1a11f9dc66c67e6de102" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__head.html">hlist_head</a>* cfs_hash_dd_hhead </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00398">398</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, <a class="el" href="hash_8c_source.html#l00386">cfs_hash_dhead_dep::dd_head</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00098">cfs_hash_bucket::hsb_head</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00407">cfs_hash_dd_hnode_add()</a>, and <a class="el" href="hash_8c_source.html#l00423">cfs_hash_dd_hnode_del()</a>.</p>

</div>
</div>
<a class="anchor" id="afe19b8f156f055955eafceb5691b6e13"></a><!-- doxytag: member="hash.c::cfs_hash_dd_hhead_size" ref="afe19b8f156f055955eafceb5691b6e13" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_dd_hhead_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00392">392</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab953234bed3fef4f1d0ad917f88e2e30"></a><!-- doxytag: member="hash.c::cfs_hash_dd_hnode_add" ref="ab953234bed3fef4f1d0ad917f88e2e30" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_dd_hnode_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00407">407</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00398">cfs_hash_dd_hhead()</a>, <a class="el" href="hash_8c_source.html#l00388">cfs_hash_dhead_dep::dd_depth</a>, <a class="el" href="hash_8c_source.html#l00386">cfs_hash_dhead_dep::dd_head</a>, <a class="el" href="hash_8c_source.html#l00387">cfs_hash_dhead_dep::dd_tail</a>, and <a class="el" href="list_8h_source.html#l00350">hlist_add_head()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d0ce5452b60b67115257bf3dbd01bbd"></a><!-- doxytag: member="hash.c::cfs_hash_dd_hnode_del" ref="a8d0ce5452b60b67115257bf3dbd01bbd" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_dd_hnode_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00423">423</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00398">cfs_hash_dd_hhead()</a>, <a class="el" href="hash_8c_source.html#l00388">cfs_hash_dhead_dep::dd_depth</a>, <a class="el" href="hash_8c_source.html#l00386">cfs_hash_dhead_dep::dd_head</a>, <a class="el" href="hash_8c_source.html#l00387">cfs_hash_dhead_dep::dd_tail</a>, <a class="el" href="list_8h_source.html#l00294">hlist_head::first</a>, <a class="el" href="list_8h_source.html#l00342">hlist_del_init()</a>, <a class="el" href="list_8h_source.html#l00290">hlist_node::next</a>, and <a class="el" href="list_8h_source.html#l00290">hlist_node::pprev</a>.</p>

</div>
</div>
<a class="anchor" id="aedabce721eb11143239e7c7b391bb9e9"></a><!-- doxytag: member="hash.c::cfs_hash_debug_header" ref="aedabce721eb11143239e7c7b391bb9e9" args="(struct seq_file *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_debug_header </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l02042">2042</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00112">CFS_HASH_BIGNAME_LEN</a>.</p>

</div>
</div>
<a class="anchor" id="a96e755f9e1778c7d9461d6a0271017fd"></a><!-- doxytag: member="hash.c::cfs_hash_debug_str" ref="a96e755f9e1778c7d9461d6a0271017fd" args="(struct cfs_hash *hs, struct seq_file *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_debug_str </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l02073">2073</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00790">__cfs_hash_theta()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00784">__cfs_hash_theta_frac()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00778">__cfs_hash_theta_int()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00112">CFS_HASH_BIGNAME_LEN</a>, <a class="el" href="hash_8c_source.html#l02050">cfs_hash_full_bkts()</a>, <a class="el" href="hash_8c_source.html#l02062">cfs_hash_full_nbkt()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00222">cfs_hash::hs_flags</a>, <a class="el" href="libcfs__hash_8h_source.html#l00234">cfs_hash::hs_max_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00242">cfs_hash::hs_max_theta</a>, <a class="el" href="libcfs__hash_8h_source.html#l00232">cfs_hash::hs_min_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00240">cfs_hash::hs_min_theta</a>, <a class="el" href="libcfs__hash_8h_source.html#l00268">cfs_hash::hs_name</a>, <a class="el" href="libcfs__hash_8h_source.html#l00244">cfs_hash::hs_rehash_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00097">cfs_hash_bucket::hsb_depmax</a>, and <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>.</p>

</div>
</div>
<a class="anchor" id="aae06334dd2f9136524fe92c7ddfdcdd0"></a><!-- doxytag: member="hash.c::cfs_hash_del" ref="aae06334dd2f9136524fe92c7ddfdcdd0" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cfs_hash_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete item  from the libcfs hash  using . </p>
<p>The  is required to ensure the correct hash bucket is locked since there is no direct linkage from the item to the bucket. The object removed from the hash will be returned and obs-&gt;hs_put is called on the removed object. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01291">1291</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="hash_8c_source.html#l00549">cfs_hash_bd_del_locked()</a>, <a class="el" href="hash_8c_source.html#l00862">cfs_hash_dual_bd_finddel_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00840">cfs_hash_dual_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00482">cfs_hash_object()</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="hash_8c_source.html#l01193">cfs_hash_rehash_inline()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, and <a class="el" href="list_8h_source.html#l00318">hlist_unhashed()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01331">cfs_hash_del_key()</a>, <a class="el" href="cl__object_8c_source.html#l00715">cl_env_do_detach()</a>, <a class="el" href="genops_8c_source.html#l01220">class_disconnect()</a>, <a class="el" href="genops_8c_source.html#l00836">class_new_export()</a>, <a class="el" href="genops_8c_source.html#l00932">class_unlink_export()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00118">ldlm_flock_blocking_unlink()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00352">ldlm_lock_destroy_internal()</a>, <a class="el" href="qmt__pool_8c_source.html#l00393">qmt_pool_fini()</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l00395">tgt_client_free()</a>.</p>

</div>
</div>
<a class="anchor" id="a076b3fecfda52c19b151c57c16f7414a"></a><!-- doxytag: member="hash.c::cfs_hash_del_key" ref="a076b3fecfda52c19b151c57c16f7414a" args="(struct cfs_hash *hs, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cfs_hash_del_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete item given  in libcfs hash . </p>
<p>The first  found in the hash will be removed, if the key exists multiple times in the hash  this function must be called once per key. The removed object will be returned and ops-&gt;hs_put is called on the removed object. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01331">1331</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>.</p>

<p>Referenced by <a class="el" href="lod__pool_8c_source.html#l00726">lod_pool_del()</a>, <a class="el" href="lov__pool_8c_source.html#l00504">lov_pool_del()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01033">nodemap_del()</a>, and <a class="el" href="osc__quota_8c_source.html#l00074">osc_quota_setdq()</a>.</p>

</div>
</div>
<a class="anchor" id="abd9824acf006b45ded2d0fccb303117c"></a><!-- doxytag: member="hash.c::cfs_hash_depth_wi_cancel" ref="abd9824acf006b45ded2d0fccb303117c" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_depth_wi_cancel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00998">998</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a15e51d8433fb7dbb5b1713ab9f64e94d"></a><!-- doxytag: member="hash.c::cfs_hash_depth_wi_init" ref="a15e51d8433fb7dbb5b1713ab9f64e94d" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_depth_wi_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00997">997</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ace849c1a0b2e47743153f790cc3d8c74"></a><!-- doxytag: member="hash.c::cfs_hash_destroy" ref="ace849c1a0b2e47743153f790cc3d8c74" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleanup libcfs hash . </p>

<p><p>prohibit further rehashes, don't need any lock because I'm the only (last) one can change it.</p>
</p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01079">1079</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, <a class="el" href="hash_8c_source.html#l00549">cfs_hash_bd_del_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00854">cfs_hash_bd_for_each_hlist</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00112">CFS_HASH_BIGNAME_LEN</a>, <a class="el" href="libcfs__hash_8h_source.html#l00446">cfs_hash_bkt_size()</a>, <a class="el" href="hash_8c_source.html#l00869">cfs_hash_buckets_free()</a>, <a class="el" href="hash_8c_source.html#l00998">cfs_hash_depth_wi_cancel()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00506">cfs_hash_exit()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00848">cfs_hash_for_each_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00428">cfs_hash_is_exiting()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00440">cfs_hash_is_iterating()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00111">CFS_HASH_NAME_LEN</a>, <a class="el" href="libcfs__hash_8h_source.html#l00320">CFS_HASH_NBKT</a>, <a class="el" href="hash_8c_source.html#l01827">cfs_hash_rehash_cancel()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00410">cfs_hash_with_assert_empty()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00380">cfs_hash_with_bigname()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="list_8h_source.html#l00388">hlist_for_each_safe</a>, <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00228">cfs_hash::hs_exiting</a>, <a class="el" href="libcfs__hash_8h_source.html#l00268">cfs_hash::hs_name</a>, <a class="el" href="libcfs__hash_8h_source.html#l00252">cfs_hash::hs_rehash_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00096">cfs_hash_bucket::hsb_index</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, and <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01148">cfs_hash_putref()</a>.</p>

</div>
</div>
<a class="anchor" id="ad63017d9255ca5e3a2eb0c13181d682a"></a><!-- doxytag: member="hash.c::cfs_hash_dh_hhead" ref="ad63017d9255ca5e3a2eb0c13181d682a" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__head.html">hlist_head</a>* cfs_hash_dh_hhead </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00341">341</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, <a class="el" href="hash_8c_source.html#l00330">cfs_hash_dhead::dh_head</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00098">cfs_hash_bucket::hsb_head</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00350">cfs_hash_dh_hnode_add()</a>, and <a class="el" href="hash_8c_source.html#l00366">cfs_hash_dh_hnode_del()</a>.</p>

</div>
</div>
<a class="anchor" id="aeec633f4371a81a075bacab50d9ecb9f"></a><!-- doxytag: member="hash.c::cfs_hash_dh_hhead_size" ref="aeec633f4371a81a075bacab50d9ecb9f" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_dh_hhead_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00335">335</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a351902655ed9baf697f7a48a0c5c5942"></a><!-- doxytag: member="hash.c::cfs_hash_dh_hnode_add" ref="a351902655ed9baf697f7a48a0c5c5942" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_dh_hnode_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00350">350</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00341">cfs_hash_dh_hhead()</a>, <a class="el" href="hash_8c_source.html#l00330">cfs_hash_dhead::dh_head</a>, <a class="el" href="hash_8c_source.html#l00331">cfs_hash_dhead::dh_tail</a>, and <a class="el" href="list_8h_source.html#l00350">hlist_add_head()</a>.</p>

</div>
</div>
<a class="anchor" id="a74fee50c20043c594c1e5b96c56ab642"></a><!-- doxytag: member="hash.c::cfs_hash_dh_hnode_del" ref="a74fee50c20043c594c1e5b96c56ab642" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_dh_hnode_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00366">366</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00341">cfs_hash_dh_hhead()</a>, <a class="el" href="hash_8c_source.html#l00330">cfs_hash_dhead::dh_head</a>, <a class="el" href="hash_8c_source.html#l00331">cfs_hash_dhead::dh_tail</a>, <a class="el" href="list_8h_source.html#l00294">hlist_head::first</a>, <a class="el" href="list_8h_source.html#l00342">hlist_del_init()</a>, <a class="el" href="list_8h_source.html#l00290">hlist_node::next</a>, and <a class="el" href="list_8h_source.html#l00290">hlist_node::pprev</a>.</p>

</div>
</div>
<a class="anchor" id="a857cff31e128e06767c8c8d360d5f7ef"></a><!-- doxytag: member="hash.c::cfs_hash_dual_bd_findadd_locked" ref="a857cff31e128e06767c8c8d360d5f7ef" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, const void *key, struct hlist_node *hnode, int noref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_dual_bd_findadd_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>noref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00853">853</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00739">cfs_hash_multi_bd_findadd_locked()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>.</p>

</div>
</div>
<a class="anchor" id="af3f19dce78283041d70420359b2e4125"></a><!-- doxytag: member="hash.c::cfs_hash_dual_bd_finddel_locked" ref="af3f19dce78283041d70420359b2e4125" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_dual_bd_finddel_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00862">862</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00770">cfs_hash_multi_bd_finddel_locked()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, and <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7a09ec42ba99ae42eb00726d49713f9"></a><!-- doxytag: member="hash.c::cfs_hash_dual_bd_get" ref="aa7a09ec42ba99ae42eb00726d49713f9" args="(struct cfs_hash *hs, const void *key, struct cfs_hash_bd *bds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_dual_bd_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>operations on <a class="el" href="structcfs__hash.html" title="cfs_hash is a hash-table implementation for general purpose, it can support: .">cfs_hash</a> bucket (bd: bucket descriptor), they are safe for hash-table with rehash </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00814">814</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="hash_8c_source.html#l00479">cfs_hash_bd_from_key()</a>, <a class="el" href="hash_8c_source.html#l00787">cfs_hash_bd_order()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00252">cfs_hash::hs_rehash_buckets</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>, and <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="a483b5dce37e2f0210aed1537aa96044c"></a><!-- doxytag: member="hash.c::cfs_hash_dual_bd_lock" ref="a483b5dce37e2f0210aed1537aa96044c" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_dual_bd_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00834">834</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00685">cfs_hash_multi_bd_lock()</a>.</p>

<p>Referenced by <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a007d325e7cbaa2e73aa658405878a328"></a><!-- doxytag: member="hash.c::cfs_hash_dual_bd_lookup_locked" ref="a007d325e7cbaa2e73aa658405878a328" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_dual_bd_lookup_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00846">846</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00723">cfs_hash_multi_bd_lookup_locked()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a887d858f4122419101c382deafce322d"></a><!-- doxytag: member="hash.c::cfs_hash_dual_bd_unlock" ref="a887d858f4122419101c382deafce322d" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_dual_bd_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00840">840</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00708">cfs_hash_multi_bd_unlock()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, <a class="el" href="hash_8c_source.html#l01758">cfs_hash_for_each_key()</a>, and <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a465701cb19f4f63e6f0ad4b70dc577fd"></a><!-- doxytag: member="hash.c::cfs_hash_find_or_add" ref="a465701cb19f4f63e6f0ad4b70dc577fd" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode, int noref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_find_or_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>noref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01227">1227</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00853">cfs_hash_dual_bd_findadd_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00840">cfs_hash_dual_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00764">cfs_hash_key_validate()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="hash_8c_source.html#l01193">cfs_hash_rehash_inline()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="list_8h_source.html#l00318">hlist_unhashed()</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01259">cfs_hash_add_unique()</a>, and <a class="el" href="hash_8c_source.html#l01274">cfs_hash_findadd_unique()</a>.</p>

</div>
</div>
<a class="anchor" id="a3971c1ab71095c51183005c429e1e19c"></a><!-- doxytag: member="hash.c::cfs_hash_findadd_unique" ref="a3971c1ab71095c51183005c429e1e19c" args="(struct cfs_hash *hs, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cfs_hash_findadd_unique </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add item  to libcfs hash  using . </p>
<p>If this  already exists in the hash then ops-&gt;hs_get will be called on the conflicting entry and that entry will be returned to the caller. Otherwise ops-&gt;hs_get is called on the item which was added. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01274">1274</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00482">cfs_hash_object()</a>.</p>

<p>Referenced by <a class="el" href="lquota__entry_8c_source.html#l00313">lqe_locate()</a>, and <a class="el" href="connection_8c_source.html#l00048">ptlrpc_connection_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a69216206c57af12a44fdfaf440fd6332"></a><!-- doxytag: member="hash.c::cfs_hash_for_each" ref="a69216206c57af12a44fdfaf440fd6332" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t func, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_for_each </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01511">1511</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00905">lu_site_print()</a>.</p>

</div>
</div>
<a class="anchor" id="a75af19213d558284e59ca3d64d5aac24"></a><!-- doxytag: member="hash.c::cfs_hash_for_each_empty" ref="a75af19213d558284e59ca3d64d5aac24" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t func, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_for_each_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For each hash bucket in the libcfs hash  call the passed callback  until all the hash buckets are empty. </p>
<p>The passed callback  or the previously registered callback hs-&gt;hs_put must remove the item from the hash. You may either use the <a class="el" href="libcfs__hash_8h.html#aae06334dd2f9136524fe92c7ddfdcdd0" title="Delete item  from the libcfs hash  using .">cfs_hash_del()</a> or <a class="el" href="group__hlist.html#gaa7bb9806633e74fad4c0f4ba8d3ac850">hlist_del()</a> functions. No rwlocks will be held during the callback  it is safe to sleep if needed. This function will not terminate until the hash is empty. Note it is still possible to concurrently add new items in to the hash. It is the callers responsibility to ensure the required locking is in place to prevent concurrent insertions. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01698">1698</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="structcfs__hash__ops.html#a5810a1a7b4df3002af1ca3be9e0d29a6">cfs_hash_ops::hs_get</a>, <a class="el" href="libcfs__hash_8h_source.html#l00268">cfs_hash::hs_name</a>, <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>, <a class="el" href="structcfs__hash__ops.html#afc0a485f1a54389003f39391a5e3d155">cfs_hash_ops::hs_put</a>, <a class="el" href="structcfs__hash__ops.html#a357fb8d761ace14633b0dd711ea9aab4">cfs_hash_ops::hs_put_locked</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lock_8c_source.html#l02401">ldlm_export_cancel_locks()</a>.</p>

</div>
</div>
<a class="anchor" id="ae222bfa19dde8749ea3dffccf6f0af7e"></a><!-- doxytag: member="hash.c::cfs_hash_for_each_enter" ref="ae222bfa19dde8749ea3dffccf6f0af7e" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_for_each_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01367">1367</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00428">cfs_hash_is_exiting()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00434">cfs_hash_is_rehashing()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l01799">cfs_hash_rehash_cancel_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00226">cfs_hash::hs_iterating</a>, <a class="el" href="libcfs__hash_8h_source.html#l00246">cfs_hash::hs_iterators</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01698">cfs_hash_for_each_empty()</a>, <a class="el" href="hash_8c_source.html#l01663">cfs_hash_for_each_nolock()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, and <a class="el" href="hash_8c_source.html#l01723">cfs_hash_hlist_for_each()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2cedadd00f851a2d7ccd4a8e75de64d"></a><!-- doxytag: member="hash.c::cfs_hash_for_each_exit" ref="ac2cedadd00f851a2d7ccd4a8e75de64d" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_for_each_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01393">1393</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00699">CFS_HASH_LOOP_HOG</a>, <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00226">cfs_hash::hs_iterating</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00246">cfs_hash::hs_iterators</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01698">cfs_hash_for_each_empty()</a>, <a class="el" href="hash_8c_source.html#l01663">cfs_hash_for_each_nolock()</a>, <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, and <a class="el" href="hash_8c_source.html#l01723">cfs_hash_hlist_for_each()</a>.</p>

</div>
</div>
<a class="anchor" id="a871874328fbfc1ccfdd80c8843504ca4"></a><!-- doxytag: member="hash.c::cfs_hash_for_each_key" ref="a871874328fbfc1ccfdd80c8843504ca4" args="(struct cfs_hash *hs, const void *key, cfs_hash_for_each_cb_t func, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_for_each_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01758">1758</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00626">cfs_hash_bd_hhead()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00768">cfs_hash_bucket_validate()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00840">cfs_hash_dual_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00844">cfs_hash_for_each_bd</a>, <a class="el" href="libcfs__hash_8h_source.html#l00476">cfs_hash_keycmp()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, and <a class="el" href="list_8h_source.html#l00384">hlist_for_each</a>.</p>

<p>Referenced by <a class="el" href="ldlm__flock_8c_source.html#l00192">ldlm_flock_deadlock()</a>, and <a class="el" href="mdt__lproc_8c_source.html#l00903">lprocfs_mdt_open_files_seq_show()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6e54d477bdb468c6d3070c4d450f4fc"></a><!-- doxytag: member="hash.c::cfs_hash_for_each_nolock" ref="aa6e54d477bdb468c6d3070c4d450f4fc" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t func, void *data, int start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_for_each_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>start</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01663">1663</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="hash_8c_source.html#l01569">cfs_hash_for_each_relax()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00371">cfs_hash_with_no_itemref()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00398">cfs_hash_with_rehash_key()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="structcfs__hash__ops.html#a5810a1a7b4df3002af1ca3be9e0d29a6">cfs_hash_ops::hs_get</a>, <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>, <a class="el" href="structcfs__hash__ops.html#afc0a485f1a54389003f39391a5e3d155">cfs_hash_ops::hs_put</a>, <a class="el" href="structcfs__hash__ops.html#a357fb8d761ace14633b0dd711ea9aab4">cfs_hash_ops::hs_put_locked</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l02029">ldlm_cli_cancel_unused()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00892">ldlm_namespace_cleanup()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01425">ldlm_namespace_dump()</a>, <a class="el" href="ldlm__request_8c_source.html#l02115">ldlm_namespace_foreach()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02128">ldlm_reprocess_all_ns()</a>, and <a class="el" href="osc__request_8c_source.html#l02632">osc_import_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a72216fe7bc97446e5aa74957d49ed3b2"></a><!-- doxytag: member="hash.c::cfs_hash_for_each_relax" ref="a72216fe7bc97446e5aa74957d49ed3b2" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t func, void *data, int start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_for_each_relax </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>start</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01569">1569</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00854">cfs_hash_bd_for_each_hlist</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00578">cfs_hash_bd_version_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00768">cfs_hash_bucket_validate()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00848">cfs_hash_for_each_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00488">cfs_hash_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00434">cfs_hash_is_rehashing()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00500">cfs_hash_put()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00494">cfs_hash_put_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00371">cfs_hash_with_no_itemref()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00398">cfs_hash_with_rehash_key()</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00294">hlist_head::first</a>, <a class="el" href="libcfs__hash_8h_source.html#l00212">cfs_hash::hs_ops</a>, <a class="el" href="structcfs__hash__ops.html#a357fb8d761ace14633b0dd711ea9aab4">cfs_hash_ops::hs_put_locked</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00290">hlist_node::next</a>, and <a class="el" href="packet-lnet_8c_source.html#l00255">version</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01698">cfs_hash_for_each_empty()</a>, and <a class="el" href="hash_8c_source.html#l01663">cfs_hash_for_each_nolock()</a>.</p>

</div>
</div>
<a class="anchor" id="a05c84128e81a249c79b6e7e2bb87f284"></a><!-- doxytag: member="hash.c::cfs_hash_for_each_safe" ref="a05c84128e81a249c79b6e7e2bb87f284" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t func, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_for_each_safe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01519">1519</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>.</p>

<p>Referenced by <a class="el" href="lquota__entry_8c_source.html#l00155">lqe_cleanup()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01286">nm_member_revoke_all()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01126">nodemap_config_cleanup()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01190">nodemap_config_set_active()</a>, and <a class="el" href="qsd__reint_8c_source.html#l00574">qsd_pending_updates()</a>.</p>

</div>
</div>
<a class="anchor" id="aee153d5ff6ec28c8fe3479f8ee9ae6d0"></a><!-- doxytag: member="hash.c::cfs_hash_for_each_tight" ref="aee153d5ff6ec28c8fe3479f8ee9ae6d0" args="(struct cfs_hash *hs, cfs_hash_for_each_cb_t func, void *data, int remove_safe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cfs_hash_for_each_tight </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>remove_safe</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For each item in the libcfs hash  call the passed callback  and pass to it as an argument each hash item and the private . </p>
<p>a) the function may sleep! b) during the callback: . the bucket lock is held so the callback must never sleep. . if  is true, use can remove current item by cfs_hash_bd_del_locked </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01424">1424</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00854">cfs_hash_bd_for_each_hlist</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00768">cfs_hash_bucket_validate()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00848">cfs_hash_for_each_bucket</a>, <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00434">cfs_hash_is_rehashing()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00699">CFS_HASH_LOOP_HOG</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00388">hlist_for_each_safe</a>, <a class="el" href="libcfs__hash_8h_source.html#l00094">cfs_hash_bucket::hsb_count</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01499">cfs_hash_cond_del()</a>, <a class="el" href="hash_8c_source.html#l01511">cfs_hash_for_each()</a>, <a class="el" href="hash_8c_source.html#l01519">cfs_hash_for_each_safe()</a>, <a class="el" href="hash_8c_source.html#l01535">cfs_hash_is_empty()</a>, and <a class="el" href="hash_8c_source.html#l01545">cfs_hash_size_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a0742356feead188fa18f6f3c4a383b9d"></a><!-- doxytag: member="hash.c::cfs_hash_full_bkts" ref="a0742356feead188fa18f6f3c4a383b9d" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcfs__hash__bucket.html">cfs_hash_bucket</a>** cfs_hash_full_bkts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l02050">2050</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00252">cfs_hash::hs_rehash_buckets</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>.</p>

</div>
</div>
<a class="anchor" id="affdc8c8f5129ea72fbbf6e7a983b5a82"></a><!-- doxytag: member="hash.c::cfs_hash_full_nbkt" ref="affdc8c8f5129ea72fbbf6e7a983b5a82" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int cfs_hash_full_nbkt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l02062">2062</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00320">CFS_HASH_NBKT</a>, <a class="el" href="libcfs__hash_8h_source.html#l00324">CFS_HASH_RH_NBKT</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00252">cfs_hash::hs_rehash_buckets</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l02073">cfs_hash_debug_str()</a>.</p>

</div>
</div>
<a class="anchor" id="a911b0cdf3c5eb118a068657ea3f5361d"></a><!-- doxytag: member="hash.c::cfs_hash_getref" ref="a911b0cdf3c5eb118a068657ea3f5361d" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash.html">cfs_hash</a>* cfs_hash_getref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01140">1140</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00250">cfs_hash::hs_refcount</a>.</p>

<p>Referenced by <a class="el" href="genops_8c_source.html#l00836">class_new_export()</a>, <a class="el" href="genops_8c_source.html#l00932">class_unlink_export()</a>, <a class="el" href="genops_8c_source.html#l01442">obd_export_evict_by_nid()</a>, <a class="el" href="genops_8c_source.html#l01490">obd_export_evict_by_uuid()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01369">tgt_clients_data_init()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01806">tgt_reply_data_init()</a>, and <a class="el" href="update__recovery_8c_source.html#l01066">update_recovery_update_ses()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c1aaa2e900f93ca113c938dd977ef4e"></a><!-- doxytag: member="hash.c::cfs_hash_hd_hhead" ref="a7c1aaa2e900f93ca113c938dd977ef4e" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__head.html">hlist_head</a>* cfs_hash_hd_hhead </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00293">293</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, <a class="el" href="hash_8c_source.html#l00282">cfs_hash_head_dep::hd_head</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00098">cfs_hash_bucket::hsb_head</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00302">cfs_hash_hd_hnode_add()</a>, and <a class="el" href="hash_8c_source.html#l00314">cfs_hash_hd_hnode_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ae393db5394c8111f90fb4552d72199"></a><!-- doxytag: member="hash.c::cfs_hash_hd_hhead_size" ref="a6ae393db5394c8111f90fb4552d72199" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_hd_hhead_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00287">287</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa4d272c017f46a6de2ef94f367341658"></a><!-- doxytag: member="hash.c::cfs_hash_hd_hnode_add" ref="aa4d272c017f46a6de2ef94f367341658" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_hd_hnode_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00302">302</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00293">cfs_hash_hd_hhead()</a>, <a class="el" href="hash_8c_source.html#l00283">cfs_hash_head_dep::hd_depth</a>, <a class="el" href="hash_8c_source.html#l00282">cfs_hash_head_dep::hd_head</a>, and <a class="el" href="list_8h_source.html#l00350">hlist_add_head()</a>.</p>

</div>
</div>
<a class="anchor" id="acfcc7da63864f829aac243e1723ae135"></a><!-- doxytag: member="hash.c::cfs_hash_hd_hnode_del" ref="acfcc7da63864f829aac243e1723ae135" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_hd_hnode_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00314">314</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00293">cfs_hash_hd_hhead()</a>, <a class="el" href="hash_8c_source.html#l00283">cfs_hash_head_dep::hd_depth</a>, <a class="el" href="hash_8c_source.html#l00282">cfs_hash_head_dep::hd_head</a>, and <a class="el" href="list_8h_source.html#l00342">hlist_del_init()</a>.</p>

</div>
</div>
<a class="anchor" id="abc47a7e6560a9c373384295ccadd3be8"></a><!-- doxytag: member="hash.c::cfs_hash_hh_hhead" ref="abc47a7e6560a9c373384295ccadd3be8" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__head.html">hlist_head</a>* cfs_hash_hh_hhead </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00253">253</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00108">cfs_hash_bd::bd_offset</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, <a class="el" href="hash_8c_source.html#l00243">cfs_hash_head::hh_head</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00098">cfs_hash_bucket::hsb_head</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00262">cfs_hash_hh_hnode_add()</a>.</p>

</div>
</div>
<a class="anchor" id="aedee74819e038545a20f7b06a4685f96"></a><!-- doxytag: member="hash.c::cfs_hash_hh_hhead_size" ref="aedee74819e038545a20f7b06a4685f96" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_hh_hhead_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00247">247</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab64551e50e0fa50fa6564a5c5978fd55"></a><!-- doxytag: member="hash.c::cfs_hash_hh_hnode_add" ref="ab64551e50e0fa50fa6564a5c5978fd55" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_hh_hnode_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00262">262</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00253">cfs_hash_hh_hhead()</a>, and <a class="el" href="list_8h_source.html#l00350">hlist_add_head()</a>.</p>

</div>
</div>
<a class="anchor" id="abec4dec6f864b8a89b682de9d6e7ecd4"></a><!-- doxytag: member="hash.c::cfs_hash_hh_hnode_del" ref="abec4dec6f864b8a89b682de9d6e7ecd4" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_hh_hnode_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00270">270</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00342">hlist_del_init()</a>.</p>

</div>
</div>
<a class="anchor" id="af3bf824a71c127006cc87ffca4304a94"></a><!-- doxytag: member="hash.c::cfs_hash_hlist_for_each" ref="af3bf824a71c127006cc87ffca4304a94" args="(struct cfs_hash *hs, unsigned hindex, cfs_hash_for_each_cb_t func, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_hlist_for_each </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>hindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__hash_8h.html#a5689f90a0e5839a04f09941582de1cac">cfs_hash_for_each_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01723">1723</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00626">cfs_hash_bd_hhead()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00563">cfs_hash_bd_index_set()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00331">CFS_HASH_NHLIST</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, and <a class="el" href="list_8h_source.html#l00384">hlist_for_each</a>.</p>

<p>Referenced by <a class="el" href="vvp__dev_8c_source.html#l00431">vvp_pgcache_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7231da8fdb84a7ba1a4f14121fe0df5"></a><!-- doxytag: member="hash.c::cfs_hash_hlist_setup" ref="ac7231da8fdb84a7ba1a4f14121fe0df5" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_hlist_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00467">467</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00365">cfs_hash_with_add_tail()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00416">cfs_hash_with_depth()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00216">cfs_hash::hs_hops</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>.</p>

</div>
</div>
<a class="anchor" id="af591c6ad2b9de437584348a42c0bfb45"></a><!-- doxytag: member="hash.c::cfs_hash_is_empty" ref="af591c6ad2b9de437584348a42c0bfb45" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_is_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01535">1535</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="hash_8c_source.html#l01527">cfs_hash_peek()</a>, and <a class="el" href="layout_8c_source.html#l00074">empty</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, <a class="el" href="ofd__dev_8c_source.html#l00220">ofd_stack_fini()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06530">osd_device_free()</a>.</p>

</div>
</div>
<a class="anchor" id="a4908638b4f7574b776c4827ed4429c7e"></a><!-- doxytag: member="hash.c::cfs_hash_lock_setup" ref="a4908638b4f7574b776c4827ed4429c7e" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_lock_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00210">210</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00344">cfs_hash_with_no_bktlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00351">cfs_hash_with_rw_bktlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00358">cfs_hash_with_spin_bktlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00210">cfs_hash::hs_lock</a>, <a class="el" href="libcfs__hash_8h_source.html#l00214">cfs_hash::hs_lops</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="libcfs__hash_8h_source.html#l00077">cfs_hash_lock::rw</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00078">cfs_hash_lock::spin</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e2a5b89d520bf4a2d61a615d2b4db59"></a><!-- doxytag: member="hash.c::cfs_hash_lookup" ref="a8e2a5b89d520bf4a2d61a615d2b4db59" args="(struct cfs_hash *hs, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cfs_hash_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lookup an item using  in the libcfs hash  and return it. </p>
<p>If the  is found in the hash hs-&gt;hs_get() is called and the matching objects is returned. It is the callers responsibility to call the counterpart ops-&gt;hs_put using the <a class="el" href="libcfs__hash_8h.html#aa26b03f44cb617e6c642613453fefcbd">cfs_hash_put()</a> macro when when finished with the object. If the  was not found in the hash  NULL is returned. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01346">1346</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00657">cfs_hash_dual_bd_get_and_lock()</a>, <a class="el" href="hash_8c_source.html#l00846">cfs_hash_dual_bd_lookup_locked()</a>, <a class="el" href="hash_8c_source.html#l00840">cfs_hash_dual_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00482">cfs_hash_object()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00693">cl_env_fetch()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00173">ldlm_flock_lookup_cb()</a>, <a class="el" href="lod__pool_8c_source.html#l00909">lod_find_pool()</a>, <a class="el" href="lod__pool_8c_source.html#l00766">lod_pool_add()</a>, <a class="el" href="lod__pool_8c_source.html#l00823">lod_pool_remove()</a>, <a class="el" href="lov__pool_8c_source.html#l00535">lov_pool_add()</a>, <a class="el" href="lov__pool_8c_source.html#l00580">lov_pool_remove()</a>, <a class="el" href="lquota__entry_8c_source.html#l00313">lqe_locate()</a>, <a class="el" href="obd__mount__server_8c_source.html#l00405">lustre_register_lwp_item()</a>, <a class="el" href="mdt__hsm__cdt__agent_8c_source.html#l00322">mdt_hsm_agent_send()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01190">nodemap_config_set_active()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00487">nodemap_process_keyrec()</a>, <a class="el" href="genops_8c_source.html#l01442">obd_export_evict_by_nid()</a>, <a class="el" href="genops_8c_source.html#l01490">obd_export_evict_by_uuid()</a>, <a class="el" href="osc__quota_8c_source.html#l00045">osc_quota_chkdq()</a>, <a class="el" href="osc__quota_8c_source.html#l00074">osc_quota_setdq()</a>, <a class="el" href="connection_8c_source.html#l00048">ptlrpc_connection_get()</a>, <a class="el" href="qmt__pool_8c_source.html#l00358">qmt_pool_lookup()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01806">tgt_reply_data_init()</a>, and <a class="el" href="update__recovery_8c_source.html#l01066">update_recovery_update_ses()</a>.</p>

</div>
</div>
<a class="anchor" id="a173b1eca79d4df4c69bca68467e3aa05"></a><!-- doxytag: member="hash.c::cfs_hash_multi_bd_findadd_locked" ref="a173b1eca79d4df4c69bca68467e3aa05" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, unsigned n, const void *key, struct hlist_node *hnode, int noref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_multi_bd_findadd_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>noref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00739">739</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="hash_8c_source.html#l00491">cfs_hash_bd_get()</a>, <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00844">cfs_hash_for_each_bd</a>, <a class="el" href="hash_8c_source.html#l00610">CFS_HS_LOOKUP_IT_PEEK</a>, <a class="el" href="hash_8c_source.html#l00601">CFS_HS_LOOKUP_MASK_REF</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00853">cfs_hash_dual_bd_findadd_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="ac4c1d644a1672697fe1bc6bb3bdaca6a"></a><!-- doxytag: member="hash.c::cfs_hash_multi_bd_finddel_locked" ref="ac4c1d644a1672697fe1bc6bb3bdaca6a" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, unsigned n, const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_multi_bd_finddel_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00770">770</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00844">cfs_hash_for_each_bd</a>, and <a class="el" href="hash_8c_source.html#l00621">CFS_HS_LOOKUP_IT_FINDDEL</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00862">cfs_hash_dual_bd_finddel_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f375436b218084294b27ed2b10342a2"></a><!-- doxytag: member="hash.c::cfs_hash_multi_bd_lock" ref="a9f375436b218084294b27ed2b10342a2" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, unsigned n, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_multi_bd_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>bds must be ascendantly ordered by bd-&gt;bd_bucket-&gt;hsb_index. NB: it's possible that several bds point to the same bucket but have different bd::bd_offset, so need take care of deadlock.</p>
</p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00685">685</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00844">cfs_hash_for_each_bd</a>, <a class="el" href="libcfs__hash_8h_source.html#l00096">cfs_hash_bucket::hsb_index</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00834">cfs_hash_dual_bd_lock()</a>, and <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a40bc1bf05c85279b43104318c5b6d2"></a><!-- doxytag: member="hash.c::cfs_hash_multi_bd_lookup_locked" ref="a4a40bc1bf05c85279b43104318c5b6d2" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, unsigned n, const void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structhlist__node.html">hlist_node</a>* cfs_hash_multi_bd_lookup_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00723">723</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00626">cfs_hash_bd_lookup_intent()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00844">cfs_hash_for_each_bd</a>, and <a class="el" href="hash_8c_source.html#l00612">CFS_HS_LOOKUP_IT_FIND</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00846">cfs_hash_dual_bd_lookup_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a34ecf6fc5341956d774a0677c8cfd28d"></a><!-- doxytag: member="hash.c::cfs_hash_multi_bd_unlock" ref="a34ecf6fc5341956d774a0677c8cfd28d" args="(struct cfs_hash *hs, struct cfs_hash_bd *bds, unsigned n, int excl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_multi_bd_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>excl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00708">708</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00844">cfs_hash_for_each_bd</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l00840">cfs_hash_dual_bd_unlock()</a>, and <a class="el" href="hash_8c_source.html#l02004">cfs_hash_rehash_key()</a>.</p>

</div>
</div>
<a class="anchor" id="a10d71c4ac2d823af65c23879edc36012"></a><!-- doxytag: member="hash.c::cfs_hash_nl_lock" ref="a10d71c4ac2d823af65c23879edc36012" args="(union cfs_hash_lock *lock, int exclusive)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_nl_lock </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>exclusive</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00122">122</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab1c0c4eb95057842243f2d3e2c0cdb0f"></a><!-- doxytag: member="hash.c::cfs_hash_nl_unlock" ref="ab1c0c4eb95057842243f2d3e2c0cdb0f" args="(union cfs_hash_lock *lock, int exclusive)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_nl_unlock </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>exclusive</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00125">125</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9706de23346e5f6ceedd8182794ff6d3"></a><!-- doxytag: member="hash.c::cfs_hash_peek" ref="a9706de23346e5f6ceedd8182794ff6d3" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_peek </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01527">1527</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01535">cfs_hash_is_empty()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e4028cb849fd08c386ca9e72da3d720"></a><!-- doxytag: member="hash.c::cfs_hash_putref" ref="a2e4028cb849fd08c386ca9e72da3d720" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_putref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01148">1148</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00250">cfs_hash::hs_refcount</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00737">cl_env_store_fini()</a>, <a class="el" href="obd__config_8c_source.html#l00616">class_cleanup()</a>, <a class="el" href="genops_8c_source.html#l00836">class_new_export()</a>, <a class="el" href="obd__config_8c_source.html#l00445">class_setup()</a>, <a class="el" href="genops_8c_source.html#l00932">class_unlink_export()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02913">ldlm_destroy_export()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00955">ldlm_destroy_flock_export()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01007">ldlm_namespace_free_post()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="lod__lov_8c_source.html#l01372">lod_pools_fini()</a>, <a class="el" href="lod__lov_8c_source.html#l01280">lod_pools_init()</a>, <a class="el" href="lov__obd_8c_source.html#l00886">lov_cleanup()</a>, <a class="el" href="lquota__entry_8c_source.html#l00245">lquota_site_free()</a>, <a class="el" href="lu__object_8c_source.html#l01140">lu_site_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01126">nodemap_config_cleanup()</a>, <a class="el" href="genops_8c_source.html#l01442">obd_export_evict_by_nid()</a>, <a class="el" href="genops_8c_source.html#l01490">obd_export_evict_by_uuid()</a>, <a class="el" href="osc__quota_8c_source.html#l00236">osc_quota_cleanup()</a>, <a class="el" href="osc__quota_8c_source.html#l00207">osc_quota_setup()</a>, <a class="el" href="connection_8c_source.html#l00157">ptlrpc_connection_fini()</a>, <a class="el" href="qmt__pool_8c_source.html#l00393">qmt_pool_fini()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01369">tgt_clients_data_init()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01806">tgt_reply_data_init()</a>, and <a class="el" href="update__recovery_8c_source.html#l01066">update_recovery_update_ses()</a>.</p>

</div>
</div>
<a class="anchor" id="a80d843e062c8f2d6812696a028cfb2db"></a><!-- doxytag: member="hash.c::cfs_hash_rehash" ref="a80d843e062c8f2d6812696a028cfb2db" args="(struct cfs_hash *hs, int do_rehash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_hash_rehash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>do_rehash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01835">1835</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l01156">cfs_hash_rehash_bits()</a>, <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="workitem_8c_source.html#l00183">cfs_wi_schedule()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00248">cfs_hash::hs_rehash_wi</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, and <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>.</p>

</div>
</div>
<a class="anchor" id="aa04a39d2e894e6fd399c2d1833593d7c"></a><!-- doxytag: member="hash.c::cfs_hash_rehash_bd" ref="aa04a39d2e894e6fd399c2d1833593d7c" args="(struct cfs_hash *hs, struct cfs_hash_bd *old)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_rehash_bd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>old</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01864">1864</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00854">cfs_hash_bd_for_each_hlist</a>, <a class="el" href="hash_8c_source.html#l00479">cfs_hash_bd_from_key()</a>, <a class="el" href="hash_8c_source.html#l00570">cfs_hash_bd_move_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00768">cfs_hash_bucket_validate()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00460">cfs_hash_key()</a>, <a class="el" href="list_8h_source.html#l00388">hlist_for_each_safe</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00252">cfs_hash::hs_rehash_buckets</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01894">cfs_hash_rehash_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="af9b2c647373e5c8e0ebe7aaab8225af3"></a><!-- doxytag: member="hash.c::cfs_hash_rehash_bits" ref="af9b2c647373e5c8e0ebe7aaab8225af3" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_rehash_bits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01156">1156</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00790">__cfs_hash_theta()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00428">cfs_hash_is_exiting()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00440">cfs_hash_is_iterating()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00434">cfs_hash_is_rehashing()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00404">cfs_hash_with_shrink()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00234">cfs_hash::hs_max_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00242">cfs_hash::hs_max_theta</a>, <a class="el" href="libcfs__hash_8h_source.html#l00232">cfs_hash::hs_min_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00240">cfs_hash::hs_min_theta</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>, <a class="el" href="hash_8c_source.html#l01393">cfs_hash_for_each_exit()</a>, and <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>.</p>

</div>
</div>
<a class="anchor" id="af74115d94e7198ba300b1e380c2419e6"></a><!-- doxytag: member="hash.c::cfs_hash_rehash_cancel" ref="af74115d94e7198ba300b1e380c2419e6" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_rehash_cancel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01827">1827</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l01799">cfs_hash_rehash_cancel_locked()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01079">cfs_hash_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9b61ff0c4fb91626990e5884fd9800e"></a><!-- doxytag: member="hash.c::cfs_hash_rehash_cancel_locked" ref="ae9b61ff0c4fb91626990e5884fd9800e" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_rehash_cancel_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Rehash the libcfs hash  to the given . </p>
<p>This can be used to grow the hash size when excessive chaining is detected, or to shrink the hash when it is larger than needed. When the CFS_HASH_REHASH flag is set in  the libcfs hash may be dynamically rehashed during addition or removal if the hash's theta value exceeds either the hs-&gt;hs_min_theta or hs-&gt;max_theta values. By default these values are tuned to keep the chained hash depth small, and this approach assumes a reasonably uniform hashing function. The theta thresholds for  are tunable via cfs_hash_set_theta(). </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01799">1799</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__hash_8h_source.html#l00434">cfs_hash_is_rehashing()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00337">cfs_hash_with_no_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="workitem_8c_source.html#l00142">cfs_wi_deschedule()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00139">D_WARNING</a>, <a class="el" href="libcfs__hash_8h_source.html#l00268">cfs_hash::hs_name</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00248">cfs_hash::hs_rehash_wi</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01367">cfs_hash_for_each_enter()</a>, and <a class="el" href="hash_8c_source.html#l01827">cfs_hash_rehash_cancel()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8de371cbeadeeca6633fa5f2213ee6c"></a><!-- doxytag: member="hash.c::cfs_hash_rehash_inline" ref="ae8de371cbeadeeca6633fa5f2213ee6c" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_rehash_inline </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>don't allow inline rehash if:</p>
<ul>
<li>user wants non-blocking change (add/del) on hash table</li>
<li>too many elements </li>
</ul>
</p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l01193">1193</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00699">CFS_HASH_LOOP_HOG</a>, <a class="el" href="libcfs__hash_8h_source.html#l00422">cfs_hash_with_nblk_change()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, and <a class="el" href="hash_8c_source.html#l01227">cfs_hash_find_or_add()</a>.</p>

</div>
</div>
<a class="anchor" id="a32df2bf8d0c966f41fa6ffbe0649b511"></a><!-- doxytag: member="hash.c::cfs_hash_rehash_key" ref="a32df2bf8d0c966f41fa6ffbe0649b511" args="(struct cfs_hash *hs, const void *old_key, void *new_key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_hash_rehash_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>old_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>new_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Rehash the object referenced by  in the libcfs hash . </p>
<p>The  must be provided to locate the objects previous location in the hash, and the  will be used to reinsert the object. Use this function instead of a <a class="el" href="libcfs__hash_8h.html#a4c3552d7ca8aac343e6b257197cd0170" title="Add item  to libcfs hash  using .">cfs_hash_add()</a> + <a class="el" href="libcfs__hash_8h.html#aae06334dd2f9136524fe92c7ddfdcdd0" title="Delete item  from the libcfs hash  using .">cfs_hash_del()</a> combo when it is critical that there is no window in time where the object is missing from the hash. When an object is being rehashed the registered <a class="el" href="libcfs__hash_8h.html#a23baa6dbe7b636b913451d44c7579dc4">cfs_hash_get()</a> and <a class="el" href="libcfs__hash_8h.html#aa26b03f44cb617e6c642613453fefcbd">cfs_hash_put()</a> functions will not be called. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l02004">2004</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00106">cfs_hash_bd::bd_bucket</a>, <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="hash_8c_source.html#l00491">cfs_hash_bd_get()</a>, <a class="el" href="hash_8c_source.html#l00570">cfs_hash_bd_move_locked()</a>, <a class="el" href="hash_8c_source.html#l00787">cfs_hash_bd_order()</a>, <a class="el" href="hash_8c_source.html#l00862">cfs_hash_dual_bd_finddel_locked()</a>, <a class="el" href="hash_8c_source.html#l00814">cfs_hash_dual_bd_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00466">cfs_hash_keycpy()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="hash_8c_source.html#l00685">cfs_hash_multi_bd_lock()</a>, <a class="el" href="hash_8c_source.html#l00708">cfs_hash_multi_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="list_8h_source.html#l00318">hlist_unhashed()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l00541">ldlm_cli_enqueue_fini()</a>, and <a class="el" href="ldlm__request_8c_source.html#l02175">replay_lock_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="a9d66b9ef4ada0369b0f75316778c113e"></a><!-- doxytag: member="hash.c::cfs_hash_rehash_worker" ref="a9d66b9ef4ada0369b0f75316778c113e" args="(struct cfs_workitem *wi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_hash_rehash_worker </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__workitem.html">cfs_workitem</a> *&nbsp;</td>
          <td class="paramname"> <em>wi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01894">1894</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00790">__cfs_hash_theta()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__hash_8h_source.html#l00446">cfs_hash_bkt_size()</a>, <a class="el" href="hash_8c_source.html#l00869">cfs_hash_buckets_free()</a>, <a class="el" href="hash_8c_source.html#l00888">cfs_hash_buckets_realloc()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00848">cfs_hash_for_each_bucket</a>, <a class="el" href="libcfs__hash_8h_source.html#l00428">cfs_hash_is_exiting()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00440">cfs_hash_is_iterating()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00434">cfs_hash_is_rehashing()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00512">cfs_hash_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00699">CFS_HASH_LOOP_HOG</a>, <a class="el" href="libcfs__hash_8h_source.html#l00320">CFS_HASH_NBKT</a>, <a class="el" href="hash_8c_source.html#l01864">cfs_hash_rehash_bd()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00324">CFS_HASH_RH_NBKT</a>, <a class="el" href="libcfs__hash_8h_source.html#l00517">cfs_hash_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00392">cfs_hash_with_rehash()</a>, <a class="el" href="workitem_8c_source.html#l00112">cfs_wi_exit()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__hash_8h_source.html#l00218">cfs_hash::hs_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00230">cfs_hash::hs_cur_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00240">cfs_hash::hs_min_theta</a>, <a class="el" href="libcfs__hash_8h_source.html#l00236">cfs_hash::hs_rehash_bits</a>, <a class="el" href="libcfs__hash_8h_source.html#l00252">cfs_hash::hs_rehash_buckets</a>, <a class="el" href="libcfs__hash_8h_source.html#l00244">cfs_hash::hs_rehash_count</a>, <a class="el" href="libcfs__hash_8h_source.html#l00248">cfs_hash::hs_rehash_wi</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, and <a class="el" href="hash_8c_source.html#l01835">cfs_hash_rehash()</a>.</p>

</div>
</div>
<a class="anchor" id="a7982552fb9a1fb580927ee1dfadf5b9b"></a><!-- doxytag: member="hash.c::cfs_hash_rw_lock" ref="a7982552fb9a1fb580927ee1dfadf5b9b" args="(union cfs_hash_lock *lock, int exclusive) __acquires(&amp;lock&#45;&gt;rw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_rw_lock </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>exclusive</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00142">142</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a99b9755a2fe3dca80ba8e14c621c290a"></a><!-- doxytag: member="hash.c::cfs_hash_rw_unlock" ref="a99b9755a2fe3dca80ba8e14c621c290a" args="(union cfs_hash_lock *lock, int exclusive) __releases(&amp;lock&#45;&gt;rw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_rw_unlock </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>exclusive</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00152">152</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="af52de8ab3e05033cdddecf1d5d33534d"></a><!-- doxytag: member="hash.c::cfs_hash_size_get" ref="af52de8ab3e05033cdddecf1d5d33534d" args="(struct cfs_hash *hs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cfs_hash_size_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l01545">1545</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01424">cfs_hash_for_each_tight()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00386">cfs_hash_with_counter()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00220">cfs_hash::hs_count</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00658">lu_object_limit()</a>.</p>

</div>
</div>
<a class="anchor" id="a4e90e90219c7ad80a8403974c34496e1"></a><!-- doxytag: member="hash.c::cfs_hash_spin_lock" ref="a4e90e90219c7ad80a8403974c34496e1" args="(union cfs_hash_lock *lock, int exclusive) __acquires(&amp;lock&#45;&gt;spin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_spin_lock </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>exclusive</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00128">128</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5f792542bb1b4ee1ae51fb374dad0d77"></a><!-- doxytag: member="hash.c::cfs_hash_spin_unlock" ref="a5f792542bb1b4ee1ae51fb374dad0d77" args="(union cfs_hash_lock *lock, int exclusive) __releases(&amp;lock&#45;&gt;spin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_hash_spin_unlock </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unioncfs__hash__lock.html">cfs_hash_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>exclusive</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00135">135</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="abb5104da66b6fd3430425a0a9d94050f"></a><!-- doxytag: member="hash.c::cfs_hash_bkt_rw_lops" ref="abb5104da66b6fd3430425a0a9d94050f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a> <a class="el" href="hash_8c.html#abb5104da66b6fd3430425a0a9d94050f">cfs_hash_bkt_rw_lops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .hs_lock        = <a class="code" href="hash_8c.html#a7982552fb9a1fb580927ee1dfadf5b9b">cfs_hash_rw_lock</a>,
        .hs_unlock      = <a class="code" href="hash_8c.html#a99b9755a2fe3dca80ba8e14c621c290a">cfs_hash_rw_unlock</a>,
        .hs_bkt_lock    = <a class="code" href="hash_8c.html#a7982552fb9a1fb580927ee1dfadf5b9b">cfs_hash_rw_lock</a>,
        .hs_bkt_unlock  = <a class="code" href="hash_8c.html#a99b9755a2fe3dca80ba8e14c621c290a">cfs_hash_rw_unlock</a>,
}
</pre></div>
<p>rw bucket lock, rehash is enabled </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00186">186</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad6e94d64e1e97c6d369edb61eacb0e69"></a><!-- doxytag: member="hash.c::cfs_hash_bkt_spin_lops" ref="ad6e94d64e1e97c6d369edb61eacb0e69" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a> <a class="el" href="hash_8c.html#ad6e94d64e1e97c6d369edb61eacb0e69">cfs_hash_bkt_spin_lops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .hs_lock        = <a class="code" href="hash_8c.html#a7982552fb9a1fb580927ee1dfadf5b9b">cfs_hash_rw_lock</a>,
        .hs_unlock      = <a class="code" href="hash_8c.html#a99b9755a2fe3dca80ba8e14c621c290a">cfs_hash_rw_unlock</a>,
        .hs_bkt_lock    = <a class="code" href="hash_8c.html#a4e90e90219c7ad80a8403974c34496e1">cfs_hash_spin_lock</a>,
        .hs_bkt_unlock  = <a class="code" href="hash_8c.html#a5f792542bb1b4ee1ae51fb374dad0d77">cfs_hash_spin_unlock</a>,
}
</pre></div>
<p>spin bucket lock, rehash is enabled </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00178">178</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae7cbf604f6527d1b93a19503405e2121"></a><!-- doxytag: member="hash.c::cfs_hash_dd_hops" ref="ae7cbf604f6527d1b93a19503405e2121" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__hlist__ops.html">cfs_hash_hlist_ops</a> <a class="el" href="hash_8c.html#ae7cbf604f6527d1b93a19503405e2121">cfs_hash_dd_hops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
       .hop_hhead      = <a class="code" href="hash_8c.html#adc57980cebdd1a11f9dc66c67e6de102">cfs_hash_dd_hhead</a>,
       .hop_hhead_size = <a class="code" href="hash_8c.html#afe19b8f156f055955eafceb5691b6e13">cfs_hash_dd_hhead_size</a>,
       .hop_hnode_add  = <a class="code" href="hash_8c.html#ab953234bed3fef4f1d0ad917f88e2e30">cfs_hash_dd_hnode_add</a>,
       .hop_hnode_del  = <a class="code" href="hash_8c.html#a8d0ce5452b60b67115257bf3dbd01bbd">cfs_hash_dd_hnode_del</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="hash_8c_source.html#l00459">459</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2ffc328d577986977fd2f49d31a9d942"></a><!-- doxytag: member="hash.c::cfs_hash_dh_hops" ref="a2ffc328d577986977fd2f49d31a9d942" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__hlist__ops.html">cfs_hash_hlist_ops</a> <a class="el" href="hash_8c.html#a2ffc328d577986977fd2f49d31a9d942">cfs_hash_dh_hops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
       .hop_hhead      = <a class="code" href="hash_8c.html#ad63017d9255ca5e3a2eb0c13181d682a">cfs_hash_dh_hhead</a>,
       .hop_hhead_size = <a class="code" href="hash_8c.html#aeec633f4371a81a075bacab50d9ecb9f">cfs_hash_dh_hhead_size</a>,
       .hop_hnode_add  = <a class="code" href="hash_8c.html#a351902655ed9baf697f7a48a0c5c5942">cfs_hash_dh_hnode_add</a>,
       .hop_hnode_del  = <a class="code" href="hash_8c.html#a74fee50c20043c594c1e5b96c56ab642">cfs_hash_dh_hnode_del</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="hash_8c_source.html#l00452">452</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab6b5b953514b060fbfd88deb21c1015a"></a><!-- doxytag: member="hash.c::cfs_hash_hd_hops" ref="ab6b5b953514b060fbfd88deb21c1015a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__hlist__ops.html">cfs_hash_hlist_ops</a> <a class="el" href="hash_8c.html#ab6b5b953514b060fbfd88deb21c1015a">cfs_hash_hd_hops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
       .hop_hhead      = <a class="code" href="hash_8c.html#a7c1aaa2e900f93ca113c938dd977ef4e">cfs_hash_hd_hhead</a>,
       .hop_hhead_size = <a class="code" href="hash_8c.html#a6ae393db5394c8111f90fb4552d72199">cfs_hash_hd_hhead_size</a>,
       .hop_hnode_add  = <a class="code" href="hash_8c.html#aa4d272c017f46a6de2ef94f367341658">cfs_hash_hd_hnode_add</a>,
       .hop_hnode_del  = <a class="code" href="hash_8c.html#acfcc7da63864f829aac243e1723ae135">cfs_hash_hd_hnode_del</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="hash_8c_source.html#l00445">445</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="af978a2bb23029734cb31b6155c71415f"></a><!-- doxytag: member="hash.c::cfs_hash_hh_hops" ref="af978a2bb23029734cb31b6155c71415f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__hlist__ops.html">cfs_hash_hlist_ops</a> <a class="el" href="hash_8c.html#af978a2bb23029734cb31b6155c71415f">cfs_hash_hh_hops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
       .hop_hhead      = <a class="code" href="hash_8c.html#abc47a7e6560a9c373384295ccadd3be8">cfs_hash_hh_hhead</a>,
       .hop_hhead_size = <a class="code" href="hash_8c.html#aedee74819e038545a20f7b06a4685f96">cfs_hash_hh_hhead_size</a>,
       .hop_hnode_add  = <a class="code" href="hash_8c.html#ab64551e50e0fa50fa6564a5c5978fd55">cfs_hash_hh_hnode_add</a>,
       .hop_hnode_del  = <a class="code" href="hash_8c.html#abec4dec6f864b8a89b682de9d6e7ecd4">cfs_hash_hh_hnode_del</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="hash_8c_source.html#l00438">438</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a187dd039c5d1b41ba5d5d726fdcf4c0f"></a><!-- doxytag: member="hash.c::cfs_hash_nbl_lops" ref="a187dd039c5d1b41ba5d5d726fdcf4c0f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a> <a class="el" href="hash_8c.html#a187dd039c5d1b41ba5d5d726fdcf4c0f">cfs_hash_nbl_lops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .hs_lock        = <a class="code" href="hash_8c.html#a4e90e90219c7ad80a8403974c34496e1">cfs_hash_spin_lock</a>,
        .hs_unlock      = <a class="code" href="hash_8c.html#a5f792542bb1b4ee1ae51fb374dad0d77">cfs_hash_spin_unlock</a>,
        .hs_bkt_lock    = <a class="code" href="hash_8c.html#a10d71c4ac2d823af65c23879edc36012">cfs_hash_nl_lock</a>,
        .hs_bkt_unlock  = <a class="code" href="hash_8c.html#ab1c0c4eb95057842243f2d3e2c0cdb0f">cfs_hash_nl_unlock</a>,
}
</pre></div>
<p>no bucket lock, one spinlock to protect everything </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00170">170</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="af0aa717ff866201e0815e0f6d57806a4"></a><!-- doxytag: member="hash.c::cfs_hash_nl_lops" ref="af0aa717ff866201e0815e0f6d57806a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a> <a class="el" href="hash_8c.html#af0aa717ff866201e0815e0f6d57806a4">cfs_hash_nl_lops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .hs_lock        = <a class="code" href="hash_8c.html#a10d71c4ac2d823af65c23879edc36012">cfs_hash_nl_lock</a>,
        .hs_unlock      = <a class="code" href="hash_8c.html#ab1c0c4eb95057842243f2d3e2c0cdb0f">cfs_hash_nl_unlock</a>,
        .hs_bkt_lock    = <a class="code" href="hash_8c.html#a10d71c4ac2d823af65c23879edc36012">cfs_hash_nl_lock</a>,
        .hs_bkt_unlock  = <a class="code" href="hash_8c.html#ab1c0c4eb95057842243f2d3e2c0cdb0f">cfs_hash_nl_unlock</a>,
}
</pre></div>
<p>No lock hash. </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00162">162</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5bc2fb43e55587f3f7722e6e2766d6ce"></a><!-- doxytag: member="hash.c::cfs_hash_nr_bkt_rw_lops" ref="a5bc2fb43e55587f3f7722e6e2766d6ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a> <a class="el" href="hash_8c.html#a5bc2fb43e55587f3f7722e6e2766d6ce">cfs_hash_nr_bkt_rw_lops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .hs_lock        = <a class="code" href="hash_8c.html#a10d71c4ac2d823af65c23879edc36012">cfs_hash_nl_lock</a>,
        .hs_unlock      = <a class="code" href="hash_8c.html#ab1c0c4eb95057842243f2d3e2c0cdb0f">cfs_hash_nl_unlock</a>,
        .hs_bkt_lock    = <a class="code" href="hash_8c.html#a7982552fb9a1fb580927ee1dfadf5b9b">cfs_hash_rw_lock</a>,
        .hs_bkt_unlock  = <a class="code" href="hash_8c.html#a99b9755a2fe3dca80ba8e14c621c290a">cfs_hash_rw_unlock</a>,
}
</pre></div>
<p>rw bucket lock, rehash is disabled </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00202">202</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="a154cbd19d815fd84045c067ce420574d"></a><!-- doxytag: member="hash.c::cfs_hash_nr_bkt_spin_lops" ref="a154cbd19d815fd84045c067ce420574d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__lock__ops.html">cfs_hash_lock_ops</a> <a class="el" href="hash_8c.html#a154cbd19d815fd84045c067ce420574d">cfs_hash_nr_bkt_spin_lops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .hs_lock        = <a class="code" href="hash_8c.html#a10d71c4ac2d823af65c23879edc36012">cfs_hash_nl_lock</a>,
        .hs_unlock      = <a class="code" href="hash_8c.html#ab1c0c4eb95057842243f2d3e2c0cdb0f">cfs_hash_nl_unlock</a>,
        .hs_bkt_lock    = <a class="code" href="hash_8c.html#a4e90e90219c7ad80a8403974c34496e1">cfs_hash_spin_lock</a>,
        .hs_bkt_unlock  = <a class="code" href="hash_8c.html#a5f792542bb1b4ee1ae51fb374dad0d77">cfs_hash_spin_unlock</a>,
}
</pre></div>
<p>spin bucket lock, rehash is disabled </p>

<p>Definition at line <a class="el" href="hash_8c_source.html#l00194">194</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae0313d5afd48bf16481b4f19b88f3ca0"></a><!-- doxytag: member="hash.c::cfs_sched_rehash" ref="ae0313d5afd48bf16481b4f19b88f3ca0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__wi__sched.html">cfs_wi_sched</a>* <a class="el" href="hash_8c.html#ae0313d5afd48bf16481b4f19b88f3ca0">cfs_sched_rehash</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="hash_8c_source.html#l00119">119</a> of file <a class="el" href="hash_8c_source.html">hash.c</a>.</p>

<p>Referenced by <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00745">libcfs_exit()</a>, and <a class="el" href="libcfs_2libcfs_2module_8c_source.html#l00682">libcfs_init()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:45 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
