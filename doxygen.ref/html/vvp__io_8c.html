<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/llite/vvp_io.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/llite/vvp_io.c File Reference</h1><code>#include &lt;<a class="el" href="obd_8h_source.html">obd.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="llite__internal_8h_source.html">llite_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vvp__internal_8h_source.html">vvp_internal.h</a>&quot;</code><br/>

<p><a href="vvp__io_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LLITE</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvvp__io.html">vvp_io</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#ae0083d219c11690b608f3db6cbfaf7af">cl2vvp_io</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a4492f3a625566aef10109acb81d824b2">cl_is_normalio</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">True, if <em>io</em> is a normal io, False for splice_{read,write}.  <a href="#a4492f3a625566aef10109acb81d824b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a42066bcda4a57a0e6434dc7f42af8bde">can_populate_pages</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct inode *inode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For swapping layout.  <a href="#a42066bcda4a57a0e6434dc7f42af8bde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a5c5d825bad82fc44c773a4f9a32da663">vvp_object_size_lock</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a19442239ad5428880937176705e467d0">vvp_object_size_unlock</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a45d8d53ca7ce0ce9cd6cc8e06d2468a7">vvp_prep_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__io.html">cl_io</a> *io, loff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, size_t count, int *exceed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function that if necessary adjusts file size (inode-&gt;i_size), when position at the offset <em>pos</em> is accessed.  <a href="#a45d8d53ca7ce0ce9cd6cc8e06d2468a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a5a4831cfc85b6cd97ac8ead2be2da7e0">vvp_io_one_lock_index</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, __u32 enqflags, enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, pgoff_t end)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#ad4a8c8b8a47d66bd5974489a852995a8">vvp_io_one_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, __u32 enqflags, enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, loff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, loff_t end)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#ab4e98a1c05e494edb535d47279747194">vvp_io_write_iter_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#ae22d10738023cce3da65f76565925081">vvp_io_write_iter_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#ac1d95d16827e42c9c624a8178b0455a6">vvp_io_fault_iter_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a89def6948aaf0f749874235ef9039068">vvp_io_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a309d75ab76a8042a44a2c92d4cfdd7fa">vvp_io_fault_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a6616109b565d162819e3ee5e312103c0">vvp_mode_from_vma</a> (struct vm_area_struct *vma)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a1cd07a7fc14a5108d7b8061771ec557e">vvp_mmap_locks</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structvvp__io.html">vvp_io</a> *vio, struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a8e10376b6ddb36930447c1548c4ffc25">vvp_io_advance</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios, size_t nob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#aa5dc4e8049e63c085de9e594cadaed7b">vvp_io_update_iov</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structvvp__io.html">vvp_io</a> *vio, struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a669004fe802a1f699e9de990495371f7">vvp_io_rw_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, loff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, loff_t end)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#aacd1da43ac23269d3c5d3e24c052a5e9">vvp_io_read_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a144d8bb2e90f37aef18b74a21b4a553a">vvp_io_fault_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#aae55906c380ed6fd758597f1f412ce72">vvp_io_write_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a1a7f1ce81328c64e1a8b70c2fb1d5011">vvp_io_setattr_iter_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#ab255f85b98ef7cfc0bfed1e942c73004">vvp_io_setattr_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structcl__io__operations.html#a4211dc9e2bf48da829c2fffd4633b1cf" title="Collect locks for the current iteration of io.">cl_io_operations::cio_lock()</a> method for CIT_SETATTR io.  <a href="#ab255f85b98ef7cfc0bfed1e942c73004"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a28c24fab54fea5040d192f1fc8c130e4">vvp_do_vmtruncate</a> (struct inode *inode, size_t <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a5650c1b22b59ef17d43a6fe608416997">vvp_io_setattr_time</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#af675e9b65901cf54abf48d65db701e44">vvp_io_setattr_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a8b5d83b5e96b1142456bf04dfd977733">vvp_io_setattr_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#aa82c6d286de30abd2bf5dd1c7c353322">vvp_io_setattr_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a255fa5ab751cabdc565c356ba19b703e">vvp_io_read_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a1f361d9410ed25a2cbce6a71f5b26a30">vvp_io_commit_sync</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist, int from, int to)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a752e1fe297e8352e5d281cbaa7b14eb0">write_commit_callback</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a95449ee8aafa4a479a067999e29cb40a">page_list_sanity_check</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#accb15db357042724b04ac2f7adb84c0b">vvp_io_write_commit</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#ab22159183be1cf749bf662ba373605f2">vvp_io_write_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a37f589330e5884e93d786fb1e3182b59">vvp_io_rw_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#afef4a62646b71db00fdd7fc75c22d697">vvp_io_kernel_fault</a> (struct vvp_fault_io *cfio)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a226229fc744f0759eea23d63c7aa02d7">mkwrite_commit_callback</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a60a8b5a68240f6b045b5ded9681cfa39">vvp_io_fault_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#afabc43f40ede2563eb38dc0822beb2d7">vvp_io_fault_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#afd1e94b55761979bf3799da5ee5cf966">vvp_io_fsync_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#af533f91991818e777187e7cbf02050cc">vvp_io_read_ahead</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, struct <a class="el" href="structcl__read__ahead.html">cl_read_ahead</a> *ra)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a777637fd42ad7eadead0d1b1f187e931">vvp_io_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__io__operations.html">cl_io_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vvp__io_8c.html#a161a8ef4b756c5502eaa1deada0a3d4d">vvp_io_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="vvp_io.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LLITE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00042">42</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a42066bcda4a57a0e6434dc7f42af8bde"></a><!-- doxytag: member="vvp_io.c::can_populate_pages" ref="a42066bcda4a57a0e6434dc7f42af8bde" args="(const struct lu_env *env, struct cl_io *io, struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool can_populate_pages </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For swapping layout. </p>
<p>The file's layout may have changed. To avoid populating pages to a wrong stripe, we have to verify the correctness of layout. It works because swapping layout processes have to acquire group lock. </p>

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00078">78</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_continue</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_need_restart</a>, <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01372">CIT_FAULT</a>, <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00257">ll_layout_version_get()</a>, <a class="el" href="obd__support_8h_source.html#l00622">OBD_FAIL_CHECK_RESET</a>, <a class="el" href="obd__support_8h_source.html#l00512">OBD_FAIL_LLITE_LOST_LAYOUT</a>, <a class="el" href="vvp__internal_8h_source.html#l00129">vvp_io::vui_layout_gen</a>, and <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00782">vvp_io_read_start()</a>, and <a class="el" href="vvp__io_8c_source.html#l01048">vvp_io_write_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0083d219c11690b608f3db6cbfaf7af"></a><!-- doxytag: member="vvp_io.c::cl2vvp_io" ref="ae0083d219c11690b608f3db6cbfaf7af" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvvp__io.html">vvp_io</a>* cl2vvp_io </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00049">49</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="vvp__internal_8h_source.html#l00066">vvp_io::vui_cl</a>, and <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00483">vvp_io_advance()</a>, <a class="el" href="vvp__io_8c_source.html#l00287">vvp_io_fault_iter_init()</a>, <a class="el" href="vvp__io_8c_source.html#l00612">vvp_io_fault_lock()</a>, <a class="el" href="vvp__io_8c_source.html#l01202">vvp_io_fault_start()</a>, <a class="el" href="vvp__io_8c_source.html#l00299">vvp_io_fini()</a>, <a class="el" href="vvp__io_8c_source.html#l01382">vvp_io_read_ahead()</a>, <a class="el" href="vvp__io_8c_source.html#l00782">vvp_io_read_start()</a>, <a class="el" href="vvp__io_8c_source.html#l01147">vvp_io_rw_end()</a>, <a class="el" href="vvp__io_8c_source.html#l00279">vvp_io_write_iter_fini()</a>, <a class="el" href="vvp__io_8c_source.html#l00266">vvp_io_write_iter_init()</a>, and <a class="el" href="vvp__io_8c_source.html#l01048">vvp_io_write_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a4492f3a625566aef10109acb81d824b2"></a><!-- doxytag: member="vvp_io.c::cl_is_normalio" ref="a4492f3a625566aef10109acb81d824b2" args="(const struct lu_env *env, const struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cl_is_normalio </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>True, if <em>io</em> is a normal io, False for splice_{read,write}. </p>

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00063">63</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="vvp__internal_8h_source.html#l00056">IO_NORMAL</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="vvp__internal_8h_source.html#l00124">vvp_io::vui_io_subtype</a>, and <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00483">vvp_io_advance()</a>, <a class="el" href="vvp__io_8c_source.html#l00540">vvp_io_update_iov()</a>, and <a class="el" href="vvp__io_8c_source.html#l00389">vvp_mmap_locks()</a>.</p>

</div>
</div>
<a class="anchor" id="a226229fc744f0759eea23d63c7aa02d7"></a><!-- doxytag: member="vvp_io.c::mkwrite_commit_callback" ref="a226229fc744f0759eea23d63c7aa02d7" args="(const struct lu_env *env, struct cl_io *io, struct cl_page *page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mkwrite_commit_callback </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page.html">cl_page</a> *&nbsp;</td>
          <td class="paramname"> <em>page</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01196">1196</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00722">cl_page::cp_vmpage</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l01202">vvp_io_fault_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a95449ee8aafa4a479a067999e29cb40a"></a><!-- doxytag: member="vvp_io.c::page_list_sanity_check" ref="a95449ee8aafa4a479a067999e29cb40a" args="(struct cl_object *obj, struct cl_page_list *plist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool page_list_sanity_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *&nbsp;</td>
          <td class="paramname"> <em>plist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00944">944</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l02054">cl_object_page_slice()</a>, <a class="el" href="cl__object_8h_source.html#l00470">CL_PAGE_EOF</a>, <a class="el" href="cl__object_8h_source.html#l02346">cl_page_list_for_each</a>, and <a class="el" href="vvp__internal_8h_source.html#l00264">vvp_index()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00968">vvp_io_write_commit()</a>.</p>

</div>
</div>
<a class="anchor" id="a28c24fab54fea5040d192f1fc8c130e4"></a><!-- doxytag: member="vvp_io.c::vvp_do_vmtruncate" ref="a28c24fab54fea5040d192f1fc8c130e4" args="(struct inode *inode, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_do_vmtruncate </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00687">687</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="llite__lib_8c_source.html#l01847">ll_inode_size_lock()</a>, <a class="el" href="llite__lib_8c_source.html#l01857">ll_inode_size_unlock()</a>, and <a class="el" href="lustre__compat_8h_source.html#l00356">ll_truncate_pagecache</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00751">vvp_io_setattr_end()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e10376b6ddb36930447c1548c4ffc25"></a><!-- doxytag: member="vvp_io.c::vvp_io_advance" ref="a8e10376b6ddb36930447c1548c4ffc25" args="(const struct lu_env *env, const struct cl_io_slice *ios, size_t nob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_io_advance </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>nob</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00483">483</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="vvp__io_8c_source.html#l00063">cl_is_normalio()</a>, <a class="el" href="vvp__internal_8h_source.html#l00331">CLOBINVRNT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="vvp__internal_8h_source.html#l00080">vvp_io::vui_iov_olen</a>, <a class="el" href="vvp__internal_8h_source.html#l00071">vvp_io::vui_iter</a>, <a class="el" href="vvp__internal_8h_source.html#l00085">vvp_io::vui_tot_count</a>, <a class="el" href="vvp__internal_8h_source.html#l00076">vvp_io::vui_tot_nrsegs</a>, and <a class="el" href="vvp__object_8c_source.html#l00059">vvp_object_invariant()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f361d9410ed25a2cbce6a71f5b26a30"></a><!-- doxytag: member="vvp_io.c::vvp_io_commit_sync" ref="a1f361d9410ed25a2cbce6a71f5b26a30" args="(const struct lu_env *env, struct cl_io *io, struct cl_page_list *plist, int from, int to)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_commit_sync </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *&nbsp;</td>
          <td class="paramname"> <em>plist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>to</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00870">870</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01302">cl_2queue::c2_qin</a>, <a class="el" href="cl__object_8h_source.html#l01303">cl_2queue::c2_qout</a>, <a class="el" href="cl__object_8h_source.html#l01817">cl_io::ci_queue</a>, <a class="el" href="cl__io_8c_source.html#l01126">cl_2queue_fini()</a>, <a class="el" href="cl__io_8c_source.html#l01067">cl_2queue_init()</a>, <a class="el" href="cl__io_8c_source.html#l00702">cl_io_submit_sync()</a>, <a class="el" href="cl__page_8c_source.html#l00995">cl_page_clip()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__io_8c_source.html#l00886">cl_page_list_del()</a>, <a class="el" href="cl__object_8h_source.html#l02337">cl_page_list_first()</a>, <a class="el" href="cl__object_8h_source.html#l02331">cl_page_list_last()</a>, <a class="el" href="cl__io_8c_source.html#l00945">cl_page_list_splice()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="cl__object_8h_source.html#l01026">cl_page_vmpage()</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="cl__object_8h_source.html#l00788">CRT_WRITE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="cl__object_8h_source.html#l01292">cl_page_list::pl_nr</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00968">vvp_io_write_commit()</a>.</p>

</div>
</div>
<a class="anchor" id="afabc43f40ede2563eb38dc0822beb2d7"></a><!-- doxytag: member="vvp_io.c::vvp_io_fault_end" ref="afabc43f40ede2563eb38dc0822beb2d7" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_io_fault_end </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01362">1362</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="vvp__internal_8h_source.html#l00331">CLOBINVRNT</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00211">ll_inode_info::lli_trunc_sem</a>, <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>, and <a class="el" href="vvp__object_8c_source.html#l00059">vvp_object_invariant()</a>.</p>

</div>
</div>
<a class="anchor" id="a309d75ab76a8042a44a2c92d4cfdd7fa"></a><!-- doxytag: member="vvp_io.c::vvp_io_fault_fini" ref="a309d75ab76a8042a44a2c92d4cfdd7fa" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_io_fault_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00361">361</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a1a7759183426a4d21ab676823e0a8a11">cl_io::ci_fault</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="vvp__internal_8h_source.html#l00331">CLOBINVRNT</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="vvp__io_8c_source.html#l00299">vvp_io_fini()</a>, and <a class="el" href="vvp__object_8c_source.html#l00059">vvp_object_invariant()</a>.</p>

</div>
</div>
<a class="anchor" id="ac1d95d16827e42c9c624a8178b0455a6"></a><!-- doxytag: member="vvp_io.c::vvp_io_fault_iter_init" ref="ac1d95d16827e42c9c624a8178b0455a6" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_fault_iter_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00287">287</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="structvvp__io.html#a58c58a6a44d253e212e393909b368924">vvp_io::fault</a>, <a class="el" href="llite__internal_8h_source.html#l00685">ll_file_data::fd_file</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__compat_8h_source.html#l00094">LTIME_S</a>, <a class="el" href="structvvp__io.html#aa4cca354b98a062eac6e342355230fba">vvp_io::u</a>, <a class="el" href="vvp__internal_8h_source.html#l00133">vvp_io::vui_fd</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

</div>
</div>
<a class="anchor" id="a144d8bb2e90f37aef18b74a21b4a553a"></a><!-- doxytag: member="vvp_io.c::vvp_io_fault_lock" ref="a144d8bb2e90f37aef18b74a21b4a553a" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_fault_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00612">612</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a1a7759183426a4d21ab676823e0a8a11">cl_io::ci_fault</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="structvvp__io.html#a58c58a6a44d253e212e393909b368924">vvp_io::fault</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="structvvp__io.html#aa4cca354b98a062eac6e342355230fba">vvp_io::u</a>, <a class="el" href="vvp__io_8c_source.html#l00223">vvp_io_one_lock_index()</a>, and <a class="el" href="vvp__io_8c_source.html#l00377">vvp_mode_from_vma()</a>.</p>

</div>
</div>
<a class="anchor" id="a60a8b5a68240f6b045b5ded9681cfa39"></a><!-- doxytag: member="vvp_io.c::vvp_io_fault_start" ref="a60a8b5a68240f6b045b5ded9681cfa39" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_fault_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01202">1202</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01302">cl_2queue::c2_qin</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="structcl__io.html#a1a7759183426a4d21ab676823e0a8a11">cl_io::ci_fault</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01817">cl_io::ci_queue</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="cl__io_8c_source.html#l00646">cl_io_commit_async()</a>, <a class="el" href="cl__object_8h_source.html#l02054">cl_object_page_slice()</a>, <a class="el" href="cl__page_8c_source.html#l01050">cl_offset()</a>, <a class="el" href="cl__page_8c_source.html#l00652">cl_page_assume()</a>, <a class="el" href="cl__page_8c_source.html#l00732">cl_page_discard()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__page_8c_source.html#l00231">cl_page_find()</a>, <a class="el" href="cl__page_8c_source.html#l00555">cl_page_is_owned()</a>, <a class="el" href="cl__io_8c_source.html#l00866">cl_page_list_add()</a>, <a class="el" href="cl__io_8c_source.html#l00997">cl_page_list_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00853">cl_page_list_init()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="cl__page_8c_source.html#l01065">cl_page_size()</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="cl__object_8h_source.html#l00697">CPT_CACHEABLE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00144">D_PAGE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="structvvp__io.html#a58c58a6a44d253e212e393909b368924">vvp_io::fault</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01050">ll_invalidate_page()</a>, <a class="el" href="llite__internal_8h_source.html#l00211">ll_inode_info::lli_trunc_sem</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="vvp__io_8c_source.html#l01196">mkwrite_commit_callback()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00506">OBD_FAIL_LLITE_FAULT_TRUNC_RACE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, <a class="el" href="structvvp__io.html#aa4cca354b98a062eac6e342355230fba">vvp_io::u</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, <a class="el" href="vvp__internal_8h_source.html#l00264">vvp_index()</a>, <a class="el" href="vvp__io_8c_source.html#l01158">vvp_io_kernel_fault()</a>, <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>, and <a class="el" href="vvp__io_8c_source.html#l00133">vvp_prep_size()</a>.</p>

</div>
</div>
<a class="anchor" id="a89def6948aaf0f749874235ef9039068"></a><!-- doxytag: member="vvp_io.c::vvp_io_fini" ref="a89def6948aaf0f749874235ef9039068" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_io_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00299">299</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_ignore_layout</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_need_restart</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_restore_needed</a>, <a class="el" href="cl__object_8h_source.html#l01819">cl_io::ci_result</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_verify_layout</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="vvp__internal_8h_source.html#l00331">CLOBINVRNT</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="llite__internal_8h_source.html#l00290">ll_file_clear_flag()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="file_8c_source.html#l04155">ll_layout_refresh()</a>, <a class="el" href="file_8c_source.html#l04187">ll_layout_restore()</a>, <a class="el" href="llite__internal_8h_source.html#l00279">LLIF_FILE_RESTORING</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l01767">OBD_OBJECT_EOF</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="vvp__internal_8h_source.html#l00129">vvp_io::vui_layout_gen</a>, <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>, and <a class="el" href="vvp__object_8c_source.html#l00059">vvp_object_invariant()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00361">vvp_io_fault_fini()</a>, and <a class="el" href="vvp__io_8c_source.html#l00768">vvp_io_setattr_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="afd1e94b55761979bf3799da5ee5cf966"></a><!-- doxytag: member="vvp_io.c::vvp_io_fsync_start" ref="afd1e94b55761979bf3799da5ee5cf966" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_fsync_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01373">1373</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

</div>
</div>
<a class="anchor" id="a777637fd42ad7eadead0d1b1f187e931"></a><!-- doxytag: member="vvp_io.c::vvp_io_init" ref="a777637fd42ad7eadead0d1b1f187e931" args="(const struct lu_env *env, struct cl_object *obj, struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vvp_io_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01448">1448</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_ignore_layout</a>, <a class="el" href="cl__object_8h_source.html#l01763">cl_io::ci_lockreq</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_restore_needed</a>, <a class="el" href="cl__object_8h_source.html#l01773">cl_io::ci_rw</a>, <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_verify_layout</a>, <a class="el" href="cl__object_8h_source.html#l01712">CILR_MANDATORY</a>, <a class="el" href="cl__object_8h_source.html#l01397">CIT_MISC</a>, <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="cl__object_8h_source.html#l01366">CIT_SETATTR</a>, <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="cl__object_8h_source.html#l02303">cl_io_is_trunc()</a>, <a class="el" href="cl__io_8c_source.html#l00831">cl_io_slice_add()</a>, <a class="el" href="cl__object_8h_source.html#l02314">CL_IO_SLICE_CLEAN</a>, <a class="el" href="vvp__internal_8h_source.html#l00331">CLOBINVRNT</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="cl__object_8h_source.html#l01733">cl_io_rw_common::crw_count</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="file_8c_source.html#l04155">ll_layout_refresh()</a>, <a class="el" href="llite__internal_8h_source.html#l00230">ll_inode_info::lli_jobid</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="class__obd_8c_source.html#l00130">lustre_get_jobid()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="vvp__internal_8h_source.html#l00066">vvp_io::vui_cl</a>, <a class="el" href="vvp__internal_8h_source.html#l00129">vvp_io::vui_layout_gen</a>, <a class="el" href="vvp__internal_8h_source.html#l00140">vvp_io::vui_ra_valid</a>, <a class="el" href="vvp__internal_8h_source.html#l00085">vvp_io::vui_tot_count</a>, <a class="el" href="vvp__internal_8h_source.html#l00076">vvp_io::vui_tot_nrsegs</a>, <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>, <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>, and <a class="el" href="vvp__object_8c_source.html#l00059">vvp_object_invariant()</a>.</p>

</div>
</div>
<a class="anchor" id="afef4a62646b71db00fdd7fc75c22d697"></a><!-- doxytag: member="vvp_io.c::vvp_io_kernel_fault" ref="afef4a62646b71db00fdd7fc75c22d697" args="(struct vvp_fault_io *cfio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_kernel_fault </td>
          <td>(</td>
          <td class="paramtype">struct vvp_fault_io *&nbsp;</td>
          <td class="paramname"> <em>cfio</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01158">1158</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00144">D_PAGE</a>, <a class="el" href="lustre__debug_8h_source.html#l00048">LL_CDEBUG_PAGE</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="llite__internal_8h_source.html#l00061">VM_FAULT_RETRY</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l01202">vvp_io_fault_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4a8c8b8a47d66bd5974489a852995a8"></a><!-- doxytag: member="vvp_io.c::vvp_io_one_lock" ref="ad4a8c8b8a47d66bd5974489a852995a8" args="(const struct lu_env *env, struct cl_io *io, __u32 enqflags, enum cl_lock_mode mode, loff_t start, loff_t end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_one_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>enqflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00256">256</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, and <a class="el" href="vvp__io_8c_source.html#l00223">vvp_io_one_lock_index()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00577">vvp_io_rw_lock()</a>, and <a class="el" href="vvp__io_8c_source.html#l00655">vvp_io_setattr_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a4831cfc85b6cd97ac8ead2be2da7e0"></a><!-- doxytag: member="vvp_io.c::vvp_io_one_lock_index" ref="a5a4831cfc85b6cd97ac8ead2be2da7e0" args="(const struct lu_env *env, struct cl_io *io, __u32 enqflags, enum cl_lock_mode mode, pgoff_t start, pgoff_t end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_one_lock_index </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>enqflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00223">223</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01649">CEF_LOCK_MATCH</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__io_8c_source.html#l00516">cl_io_lock_add()</a>, <a class="el" href="cl__object_8h_source.html#l01167">cl_lock_descr::cld_end</a>, <a class="el" href="cl__object_8h_source.html#l01176">cl_lock_descr::cld_enq_flags</a>, <a class="el" href="cl__object_8h_source.html#l01169">cl_lock_descr::cld_gid</a>, <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01163">cl_lock_descr::cld_obj</a>, <a class="el" href="cl__object_8h_source.html#l01165">cl_lock_descr::cld_start</a>, <a class="el" href="cl__object_8h_source.html#l00779">CLM_GROUP</a>, <a class="el" href="vvp__internal_8h_source.html#l00331">CLOBINVRNT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00679">ll_file_data::fd_flags</a>, <a class="el" href="llite__internal_8h_source.html#l00677">ll_file_data::fd_grouplock</a>, <a class="el" href="llite__internal_8h_source.html#l00120">ll_grouplock::lg_gid</a>, <a class="el" href="lustre__user_8h_source.html#l00330">LL_FILE_GROUP_LOCKED</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="vvp__internal_8h_source.html#l00133">vvp_io::vui_fd</a>, <a class="el" href="vvp__internal_8h_source.html#l00067">vvp_io::vui_link</a>, <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>, and <a class="el" href="vvp__object_8c_source.html#l00059">vvp_object_invariant()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00612">vvp_io_fault_lock()</a>, and <a class="el" href="vvp__io_8c_source.html#l00256">vvp_io_one_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="af533f91991818e777187e7cbf02050cc"></a><!-- doxytag: member="vvp_io.c::vvp_io_read_ahead" ref="af533f91991818e777187e7cbf02050cc" args="(const struct lu_env *env, const struct cl_io_slice *ios, pgoff_t start, struct cl_read_ahead *ra)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_read_ahead </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__read__ahead.html">cl_read_ahead</a> *&nbsp;</td>
          <td class="paramname"> <em>ra</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01382">1382</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01372">CIT_FAULT</a>, <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="cl__object_8h_source.html#l00470">CL_PAGE_EOF</a>, <a class="el" href="cl__object_8h_source.html#l01458">cl_read_ahead::cra_end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00679">ll_file_data::fd_flags</a>, <a class="el" href="lustre__user_8h_source.html#l00330">LL_FILE_GROUP_LOCKED</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="vvp__internal_8h_source.html#l00133">vvp_io::vui_fd</a>.</p>

</div>
</div>
<a class="anchor" id="aacd1da43ac23269d3c5d3e24c052a5e9"></a><!-- doxytag: member="vvp_io.c::vvp_io_read_lock" ref="aacd1da43ac23269d3c5d3e24c052a5e9" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_read_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00599">599</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#ad32610b7c3063f76dd15fc2a6c46d12d">cl_io::ci_rd</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="cl__object_8h_source.html#l01733">cl_io_rw_common::crw_count</a>, <a class="el" href="cl__object_8h_source.html#l01732">cl_io_rw_common::crw_pos</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, and <a class="el" href="vvp__io_8c_source.html#l00577">vvp_io_rw_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a255fa5ab751cabdc565c356ba19b703e"></a><!-- doxytag: member="vvp_io.c::vvp_io_read_start" ref="a255fa5ab751cabdc565c356ba19b703e" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_read_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00782">782</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="vvp__io_8c_source.html#l00078">can_populate_pages()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_continue</a>, <a class="el" href="cl__object_8h_source.html#l01818">cl_io::ci_nob</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="structcl__io.html#ad32610b7c3063f76dd15fc2a6c46d12d">cl_io::ci_rd</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="vvp__internal_8h_source.html#l00331">CLOBINVRNT</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="llite__internal_8h_source.html#l00685">ll_file_data::fd_file</a>, <a class="el" href="vvp__internal_8h_source.html#l00056">IO_NORMAL</a>, <a class="el" href="vvp__internal_8h_source.html#l00058">IO_SPLICE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="rw_8c_source.html#l00158">ll_ras_enter()</a>, <a class="el" href="llite__internal_8h.html#a59de7dff1c456d2f9f567e9faa7d980d">ll_rw_stats_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00211">ll_inode_info::lli_trunc_sem</a>, <a class="el" href="lu__object_8h_source.html#l00812">LU_OBJECT_HEADER</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00067">READ</a>, <a class="el" href="structvvp__io.html#a92239590f396fc743c4f81ca4082a86d">vvp_io::splice</a>, <a class="el" href="structvvp__io.html#aa4cca354b98a062eac6e342355230fba">vvp_io::u</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="vvp__internal_8h_source.html#l00133">vvp_io::vui_fd</a>, <a class="el" href="vvp__internal_8h_source.html#l00124">vvp_io::vui_io_subtype</a>, <a class="el" href="vvp__internal_8h_source.html#l00134">vvp_io::vui_iocb</a>, <a class="el" href="vvp__internal_8h_source.html#l00071">vvp_io::vui_iter</a>, <a class="el" href="vvp__internal_8h_source.html#l00138">vvp_io::vui_ra_count</a>, <a class="el" href="vvp__internal_8h_source.html#l00137">vvp_io::vui_ra_start</a>, <a class="el" href="vvp__internal_8h_source.html#l00140">vvp_io::vui_ra_valid</a>, <a class="el" href="vvp__internal_8h_source.html#l00085">vvp_io::vui_tot_count</a>, <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>, <a class="el" href="vvp__object_8c_source.html#l00059">vvp_object_invariant()</a>, and <a class="el" href="vvp__io_8c_source.html#l00133">vvp_prep_size()</a>.</p>

</div>
</div>
<a class="anchor" id="a37f589330e5884e93d786fb1e3182b59"></a><!-- doxytag: member="vvp_io.c::vvp_io_rw_end" ref="a37f589330e5884e93d786fb1e3182b59" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_io_rw_end </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01147">1147</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="vvp__internal_8h_source.html#l00056">IO_NORMAL</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00211">ll_inode_info::lli_trunc_sem</a>, <a class="el" href="vvp__internal_8h_source.html#l00124">vvp_io::vui_io_subtype</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

</div>
</div>
<a class="anchor" id="a669004fe802a1f699e9de990495371f7"></a><!-- doxytag: member="vvp_io.c::vvp_io_rw_lock" ref="a669004fe802a1f699e9de990495371f7" args="(const struct lu_env *env, struct cl_io *io, enum cl_lock_mode mode, loff_t start, loff_t end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_rw_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00577">577</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01606">CEF_NONBLOCK</a>, <a class="el" href="cl__object_8h_source.html#l01773">cl_io::ci_rw</a>, <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="cl__object_8h_source.html#l01734">cl_io_rw_common::crw_nonblock</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>, <a class="el" href="vvp__io_8c_source.html#l00256">vvp_io_one_lock()</a>, <a class="el" href="vvp__io_8c_source.html#l00540">vvp_io_update_iov()</a>, and <a class="el" href="vvp__io_8c_source.html#l00389">vvp_mmap_locks()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00599">vvp_io_read_lock()</a>, and <a class="el" href="vvp__io_8c_source.html#l00627">vvp_io_write_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b5d83b5e96b1142456bf04dfd977733"></a><!-- doxytag: member="vvp_io.c::vvp_io_setattr_end" ref="a8b5d83b5e96b1142456bf04dfd977733" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_io_setattr_end </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00751">751</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="structcl__io.html#add969c0bdeb6aada0869a2e9c45b406a">cl_io::ci_setattr</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l02303">cl_io_is_trunc()</a>, <a class="el" href="lustre__compat_8h_source.html#l00128">inode_dio_write_done</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00211">ll_inode_info::lli_trunc_sem</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="vvp__io_8c_source.html#l00687">vvp_do_vmtruncate()</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

</div>
</div>
<a class="anchor" id="aa82c6d286de30abd2bf5dd1c7c353322"></a><!-- doxytag: member="vvp_io.c::vvp_io_setattr_fini" ref="aa82c6d286de30abd2bf5dd1c7c353322" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_io_setattr_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00768">768</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_restore_needed</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="llite__internal_8h_source.html#l00284">ll_file_set_flag()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00277">LLIF_DATA_MODIFIED</a>, <a class="el" href="vvp__io_8c_source.html#l00299">vvp_io_fini()</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a7f1ce81328c64e1a8b70c2fb1d5011"></a><!-- doxytag: member="vvp_io.c::vvp_io_setattr_iter_init" ref="a1a7f1ce81328c64e1a8b70c2fb1d5011" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_setattr_iter_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00644">644</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab255f85b98ef7cfc0bfed1e942c73004"></a><!-- doxytag: member="vvp_io.c::vvp_io_setattr_lock" ref="ab255f85b98ef7cfc0bfed1e942c73004" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_setattr_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structcl__io__operations.html#a4211dc9e2bf48da829c2fffd4633b1cf" title="Collect locks for the current iteration of io.">cl_io_operations::cio_lock()</a> method for CIT_SETATTR io. </p>
<p>Handles "lockless io" mode when extent locking is done by server. </p>

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00655">655</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l01617">CEF_DISCARD_DATA</a>, <a class="el" href="structcl__io.html#add969c0bdeb6aada0869a2e9c45b406a">cl_io::ci_setattr</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l02303">cl_io_is_trunc()</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="lustre__idl_8h_source.html#l01767">OBD_OBJECT_EOF</a>, <a class="el" href="lustre__compat_8h_source.html#l00279">TIMES_SET_FLAGS</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, and <a class="el" href="vvp__io_8c_source.html#l00256">vvp_io_one_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="af675e9b65901cf54abf48d65db701e44"></a><!-- doxytag: member="vvp_io.c::vvp_io_setattr_start" ref="af675e9b65901cf54abf48d65db701e44" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_setattr_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00732">732</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="structcl__io.html#add969c0bdeb6aada0869a2e9c45b406a">cl_io::ci_setattr</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l02303">cl_io_is_trunc()</a>, <a class="el" href="lustre__compat_8h_source.html#l00127">inode_dio_wait</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00211">ll_inode_info::lli_trunc_sem</a>, <a class="el" href="lustre__compat_8h_source.html#l00279">TIMES_SET_FLAGS</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="vvp__io_8c_source.html#l00707">vvp_io_setattr_time()</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

</div>
</div>
<a class="anchor" id="a5650c1b22b59ef17d43a6fe608416997"></a><!-- doxytag: member="vvp_io.c::vvp_io_setattr_time" ref="a5650c1b22b59ef17d43a6fe608416997" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_setattr_time </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00707">707</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00182">CAT_ATIME</a>, <a class="el" href="cl__object_8h_source.html#l00153">cl_attr::cat_atime</a>, <a class="el" href="cl__object_8h_source.html#l00155">cl_attr::cat_ctime</a>, <a class="el" href="cl__object_8h_source.html#l00183">CAT_CTIME</a>, <a class="el" href="cl__object_8h_source.html#l00181">CAT_MTIME</a>, <a class="el" href="cl__object_8h_source.html#l00151">cl_attr::cat_mtime</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="structcl__io.html#add969c0bdeb6aada0869a2e9c45b406a">cl_io::ci_setattr</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="cl__object_8c_source.html#l00236">cl_object_attr_update()</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, and <a class="el" href="vvp__internal_8h_source.html#l00177">vvp_env_thread_attr()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00732">vvp_io_setattr_start()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5dc4e8049e63c085de9e594cadaed7b"></a><!-- doxytag: member="vvp_io.c::vvp_io_update_iov" ref="aa5dc4e8049e63c085de9e594cadaed7b" args="(const struct lu_env *env, struct vvp_io *vio, struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_io_update_iov </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structvvp__io.html">vvp_io</a> *&nbsp;</td>
          <td class="paramname"> <em>vio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00540">540</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01773">cl_io::ci_rw</a>, <a class="el" href="vvp__io_8c_source.html#l00063">cl_is_normalio()</a>, <a class="el" href="cl__object_8h_source.html#l01733">cl_io_rw_common::crw_count</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="vvp__internal_8h_source.html#l00080">vvp_io::vui_iov_olen</a>, <a class="el" href="vvp__internal_8h_source.html#l00071">vvp_io::vui_iter</a>, and <a class="el" href="vvp__internal_8h_source.html#l00076">vvp_io::vui_tot_nrsegs</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00577">vvp_io_rw_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="accb15db357042724b04ac2f7adb84c0b"></a><!-- doxytag: member="vvp_io.c::vvp_io_write_commit" ref="accb15db357042724b04ac2f7adb84c0b" args="(const struct lu_env *env, struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vvp_io_write_commit </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00968">968</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__io_8c_source.html#l00646">cl_io_commit_async()</a>, <a class="el" href="cl__object_8h_source.html#l02295">cl_io_is_mkwrite()</a>, <a class="el" href="cl__page_8c_source.html#l00732">cl_page_discard()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__io_8c_source.html#l00886">cl_page_list_del()</a>, <a class="el" href="cl__io_8c_source.html#l00997">cl_page_list_fini()</a>, <a class="el" href="cl__object_8h_source.html#l02337">cl_page_list_first()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="cl__object_8h_source.html#l01026">cl_page_vmpage()</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="file_8c_source.html#l00929">ll_merge_attr()</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="vvp__io_8c_source.html#l00944">page_list_sanity_check()</a>, <a class="el" href="cl__object_8h_source.html#l01292">cl_page_list::pl_nr</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structvvp__io.html#aa4cca354b98a062eac6e342355230fba">vvp_io::u</a>, <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>, <a class="el" href="vvp__io_8c_source.html#l00870">vvp_io_commit_sync()</a>, <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>, <a class="el" href="structvvp__io.html#aae777b905506dd64869c0f813ecc48c7">vvp_io::write</a>, and <a class="el" href="vvp__io_8c_source.html#l00928">write_commit_callback()</a>.</p>

<p>Referenced by <a class="el" href="rw26_8c_source.html#l00627">ll_write_begin()</a>, <a class="el" href="rw26_8c_source.html#l00730">ll_write_end()</a>, and <a class="el" href="vvp__io_8c_source.html#l01048">vvp_io_write_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ae22d10738023cce3da65f76565925081"></a><!-- doxytag: member="vvp_io.c::vvp_io_write_iter_fini" ref="ae22d10738023cce3da65f76565925081" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_io_write_iter_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00279">279</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="structvvp__io.html#aa4cca354b98a062eac6e342355230fba">vvp_io::u</a>, and <a class="el" href="structvvp__io.html#aae777b905506dd64869c0f813ecc48c7">vvp_io::write</a>.</p>

</div>
</div>
<a class="anchor" id="ab4e98a1c05e494edb535d47279747194"></a><!-- doxytag: member="vvp_io.c::vvp_io_write_iter_init" ref="ab4e98a1c05e494edb535d47279747194" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_write_iter_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00266">266</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="cl__io_8c_source.html#l00853">cl_page_list_init()</a>, <a class="el" href="structvvp__io.html#aa4cca354b98a062eac6e342355230fba">vvp_io::u</a>, and <a class="el" href="structvvp__io.html#aae777b905506dd64869c0f813ecc48c7">vvp_io::write</a>.</p>

</div>
</div>
<a class="anchor" id="aae55906c380ed6fd758597f1f412ce72"></a><!-- doxytag: member="vvp_io.c::vvp_io_write_lock" ref="aae55906c380ed6fd758597f1f412ce72" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_write_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00627">627</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a60575f788129abb9beff0cb40bc3eb36">cl_io::ci_wr</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="lustre__idl_8h_source.html#l01767">OBD_OBJECT_EOF</a>, <a class="el" href="rename__many_8c_source.html#l00057">start</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, and <a class="el" href="vvp__io_8c_source.html#l00577">vvp_io_rw_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="ab22159183be1cf749bf662ba373605f2"></a><!-- doxytag: member="vvp_io.c::vvp_io_write_start" ref="ab22159183be1cf749bf662ba373605f2" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_io_write_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01048">1048</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="vvp__io_8c_source.html#l00078">can_populate_pages()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_continue</a>, <a class="el" href="cl__object_8h_source.html#l01818">cl_io::ci_nob</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="structcl__io.html#a60575f788129abb9beff0cb40bc3eb36">cl_io::ci_wr</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="vvp__io_8c_source.html#l00049">cl2vvp_io()</a>, <a class="el" href="cl__object_8h_source.html#l02285">cl_io_is_append()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="vvp__internal_8h_source.html#l00056">IO_NORMAL</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l01115">ll_file_maxbytes()</a>, <a class="el" href="llite__internal_8h_source.html#l00284">ll_file_set_flag()</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="file_8c_source.html#l00929">ll_merge_attr()</a>, <a class="el" href="llite__internal_8h.html#a59de7dff1c456d2f9f567e9faa7d980d">ll_rw_stats_tally()</a>, <a class="el" href="llite__internal_8h_source.html#l00211">ll_inode_info::lli_trunc_sem</a>, <a class="el" href="llite__internal_8h_source.html#l00277">LLIF_DATA_MODIFIED</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structvvp__io.html#aa4cca354b98a062eac6e342355230fba">vvp_io::u</a>, <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>, <a class="el" href="vvp__internal_8h_source.html#l00133">vvp_io::vui_fd</a>, <a class="el" href="vvp__internal_8h_source.html#l00124">vvp_io::vui_io_subtype</a>, <a class="el" href="vvp__internal_8h_source.html#l00134">vvp_io::vui_iocb</a>, <a class="el" href="vvp__internal_8h_source.html#l00071">vvp_io::vui_iter</a>, <a class="el" href="vvp__io_8c_source.html#l00968">vvp_io_write_commit()</a>, <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00068">WRITE</a>, and <a class="el" href="structvvp__io.html#aae777b905506dd64869c0f813ecc48c7">vvp_io::write</a>.</p>

</div>
</div>
<a class="anchor" id="a1cd07a7fc14a5108d7b8061771ec557e"></a><!-- doxytag: member="vvp_io.c::vvp_mmap_locks" ref="a1cd07a7fc14a5108d7b8061771ec557e" args="(const struct lu_env *env, struct vvp_io *vio, struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_mmap_locks </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structvvp__io.html">vvp_io</a> *&nbsp;</td>
          <td class="paramname"> <em>vio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00389">389</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01625">CEF_MUST</a>, <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="cl__io_8c_source.html#l00541">cl_io_lock_alloc_add()</a>, <a class="el" href="vvp__io_8c_source.html#l00063">cl_is_normalio()</a>, <a class="el" href="cl__object_8h_source.html#l01167">cl_lock_descr::cld_end</a>, <a class="el" href="cl__object_8h_source.html#l01176">cl_lock_descr::cld_enq_flags</a>, <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01163">cl_lock_descr::cld_obj</a>, <a class="el" href="cl__object_8h_source.html#l01165">cl_lock_descr::cld_start</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l01369">ll_file_nolock()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="llite__mmap_8c_source.html#l00068">our_vma()</a>, <a class="el" href="llite__mmap_8c_source.html#l00059">policy_from_vma()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l02822">ldlm_extent::start</a>, <a class="el" href="vvp__internal_8h_source.html#l00153">vvp_thread_info::vti_descr</a>, <a class="el" href="vvp__internal_8h_source.html#l00071">vvp_io::vui_iter</a>, <a class="el" href="vvp__internal_8h_source.html#l00158">vvp_env_info()</a>, and <a class="el" href="vvp__io_8c_source.html#l00377">vvp_mode_from_vma()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00577">vvp_io_rw_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a6616109b565d162819e3ee5e312103c0"></a><!-- doxytag: member="vvp_io.c::vvp_mode_from_vma" ref="a6616109b565d162819e3ee5e312103c0" args="(struct vm_area_struct *vma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a> vvp_mode_from_vma </td>
          <td>(</td>
          <td class="paramtype">struct vm_area_struct *&nbsp;</td>
          <td class="paramname"> <em>vma</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00377">377</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, and <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00612">vvp_io_fault_lock()</a>, and <a class="el" href="vvp__io_8c_source.html#l00389">vvp_mmap_locks()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c5d825bad82fc44c773a4f9a32da663"></a><!-- doxytag: member="vvp_io.c::vvp_object_size_lock" ref="a5c5d825bad82fc44c773a4f9a32da663" args="(struct cl_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_object_size_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00106">106</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="llite__lib_8c_source.html#l01847">ll_inode_size_lock()</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00133">vvp_prep_size()</a>.</p>

</div>
</div>
<a class="anchor" id="a19442239ad5428880937176705e467d0"></a><!-- doxytag: member="vvp_io.c::vvp_object_size_unlock" ref="a19442239ad5428880937176705e467d0" args="(struct cl_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vvp_object_size_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00114">114</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="llite__lib_8c_source.html#l01857">ll_inode_size_unlock()</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00133">vvp_prep_size()</a>.</p>

</div>
</div>
<a class="anchor" id="a45d8d53ca7ce0ce9cd6cc8e06d2468a7"></a><!-- doxytag: member="vvp_io.c::vvp_prep_size" ref="a45d8d53ca7ce0ce9cd6cc8e06d2468a7" args="(const struct lu_env *env, struct cl_object *obj, struct cl_io *io, loff_t start, size_t count, int *exceed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vvp_prep_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>exceed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function that if necessary adjusts file size (inode-&gt;i_size), when position at the offset <em>pos</em> is accessed. </p>
<p>File size can be arbitrary stale on a Lustre client, but client at least knows KMS. If accessed area is inside [0, KMS], set file size to KMS, otherwise glimpse file size.</p>
<p>Locking: i_size_lock is used to serialize changes to inode size and to protect consistency between inode size and <a class="el" href="structcl__object.html" title="Sub-class of lu_object with methods common for objects on the client stacks.">cl_object</a> attributes. cl_object_size_lock() protects consistency between cl_attr's of top-object and sub-objects. </p>

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00133">133</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l00149">cl_attr::cat_kms</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="glimpse_8c_source.html#l00085">cl_glimpse_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00204">cl_object_attr_get()</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, <a class="el" href="vvp__internal_8h_source.html#l00177">vvp_env_thread_attr()</a>, <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>, <a class="el" href="vvp__io_8c_source.html#l00106">vvp_object_size_lock()</a>, and <a class="el" href="vvp__io_8c_source.html#l00114">vvp_object_size_unlock()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l01202">vvp_io_fault_start()</a>, and <a class="el" href="vvp__io_8c_source.html#l00782">vvp_io_read_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a752e1fe297e8352e5d281cbaa7b14eb0"></a><!-- doxytag: member="vvp_io.c::write_commit_callback" ref="a752e1fe297e8352e5d281cbaa7b14eb0" args="(const struct lu_env *env, struct cl_io *io, struct cl_page *page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void write_commit_callback </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page.html">cl_page</a> *&nbsp;</td>
          <td class="paramname"> <em>page</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l00928">928</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

<p>References <a class="el" href="cl__io_8c_source.html#l01152">cl_io_top()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="cl__object_8h_source.html#l00722">cl_page::cp_vmpage</a>, and <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00968">vvp_io_write_commit()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a161a8ef4b756c5502eaa1deada0a3d4d"></a><!-- doxytag: member="vvp_io.c::vvp_io_ops" ref="a161a8ef4b756c5502eaa1deada0a3d4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcl__io__operations.html">cl_io_operations</a> <a class="el" href="vvp__io_8c.html#a161a8ef4b756c5502eaa1deada0a3d4d">vvp_io_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vvp__io_8c_source.html#l01402">1402</a> of file <a class="el" href="vvp__io_8c_source.html">vvp_io.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
