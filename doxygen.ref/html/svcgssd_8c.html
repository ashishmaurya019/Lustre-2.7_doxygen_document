<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/utils/gss/svcgssd.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/utils/gss/svcgssd.c File Reference</h1><code>#include &quot;config.h&quot;</code><br/>
<code>#include &lt;sys/param.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/socket.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;err.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &lt;dirent.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="svcgssd_8h_source.html">svcgssd.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gss__util_8h_source.html">gss_util.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="err__util_8h_source.html">err_util.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lsupport_8h_source.html">lsupport.h</a>&quot;</code><br/>

<p><a href="svcgssd_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8c.html#a9f1fff36e7a4e50e889acdee38aa1fe1">closeall</a> (int min)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8c.html#af59a3bde4d3918bfba0e3f26e2bf683b">mydaemon</a> (int nochdir, int noclose)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8c.html#a8d5f77d0212f2814eeac31e55da44e7d">release_parent</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8c.html#ab1d76b60dc556a18ec5487563442edbf">sig_die</a> (int signal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8c.html#ac141cadc5118be98c41bd32b864bedec">sig_hup</a> (int signal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8c.html#a67f81520823920355a4be9d9c03bbb91">usage</a> (char *<a class="el" href="mount__utils__ldiskfs_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8c.html#a347a7b965cc29df58e9db163bb0fb814">pipefds</a> [2] = { -1, -1}</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a9f1fff36e7a4e50e889acdee38aa1fe1"></a><!-- doxytag: member="svcgssd.c::closeall" ref="a9f1fff36e7a4e50e889acdee38aa1fe1" args="(int min)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void closeall </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>min</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8c_source.html#l00063">63</a> of file <a class="el" href="svcgssd_8c_source.html">svcgssd.c</a>.</p>

<p>References <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>.</p>

<p>Referenced by <a class="el" href="svcgssd_8c_source.html#l00093">mydaemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a><!-- doxytag: member="svcgssd.c::main" ref="a0ddf1224851353fc92bfbff6f499fa97" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8c_source.html#l00187">187</a> of file <a class="el" href="svcgssd_8c_source.html">svcgssd.c</a>.</p>

<p>References <a class="el" href="lsupport_8c_source.html#l00359">cleanup_mapping()</a>, <a class="el" href="err__util_8c_source.html#l00040">fg</a>, <a class="el" href="gss__util_8c_source.html#l00351">gssd_check_mechs()</a>, <a class="el" href="gss__util_8c_source.html#l00384">gssd_get_local_realm()</a>, <a class="el" href="lsupport_8c_source.html#l00095">gssd_init_unique()</a>, <a class="el" href="gss__util_8c_source.html#l00281">gssd_prepare_creds()</a>, <a class="el" href="lsupport_8h_source.html#l00046">GSSD_SVC</a>, <a class="el" href="err__util_8c_source.html#l00044">initerr()</a>, <a class="el" href="svcgssd_8c_source.html#l00093">mydaemon()</a>, <a class="el" href="lhsmtool__posix_8c_source.html#l00105">opt</a>, <a class="el" href="rename__many_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>, <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, <a class="el" href="svcgssd_8c_source.html#l00149">release_parent()</a>, <a class="el" href="gssd_8c_source.html#l00155">sig_die()</a>, <a class="el" href="gssd_8c_source.html#l00163">sig_hup()</a>, <a class="el" href="svcgssd__main__loop_8c_source.html#l00061">svcgssd_run()</a>, <a class="el" href="mmap__cat_8c_source.html#l00045">usage</a>, and <a class="el" href="err__util_8c_source.html#l00039">verbosity</a>.</p>

</div>
</div>
<a class="anchor" id="af59a3bde4d3918bfba0e3f26e2bf683b"></a><!-- doxytag: member="svcgssd.c::mydaemon" ref="af59a3bde4d3918bfba0e3f26e2bf683b" args="(int nochdir, int noclose)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mydaemon </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nochdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>noclose</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8c_source.html#l00093">93</a> of file <a class="el" href="svcgssd_8c_source.html">svcgssd.c</a>.</p>

<p>References <a class="el" href="svcgssd_8c_source.html#l00063">closeall()</a>, <a class="el" href="svcgssd_8c_source.html#l00090">pipefds</a>, <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>, and <a class="el" href="lustre__rsync_8c_source.html#l00187">status</a>.</p>

<p>Referenced by <a class="el" href="svcgssd_8c_source.html#l00187">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d5f77d0212f2814eeac31e55da44e7d"></a><!-- doxytag: member="svcgssd.c::release_parent" ref="a8d5f77d0212f2814eeac31e55da44e7d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void release_parent </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8c_source.html#l00149">149</a> of file <a class="el" href="svcgssd_8c_source.html">svcgssd.c</a>.</p>

<p>References <a class="el" href="fid_8mod_8c.html#a804f230e6220e338767d15b94fc5801d">__attribute__()</a>, <a class="el" href="svcgssd_8c_source.html#l00090">pipefds</a>, and <a class="el" href="lustre__rsync_8c_source.html#l00187">status</a>.</p>

<p>Referenced by <a class="el" href="svcgssd_8c_source.html#l00187">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ab1d76b60dc556a18ec5487563442edbf"></a><!-- doxytag: member="svcgssd.c::sig_die" ref="ab1d76b60dc556a18ec5487563442edbf" args="(int signal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sig_die </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>signal</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8c_source.html#l00162">162</a> of file <a class="el" href="svcgssd_8c_source.html">svcgssd.c</a>.</p>

<p>References <a class="el" href="lsupport_8c_source.html#l00359">cleanup_mapping()</a>, and <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

</div>
</div>
<a class="anchor" id="ac141cadc5118be98c41bd32b864bedec"></a><!-- doxytag: member="svcgssd.c::sig_hup" ref="ac141cadc5118be98c41bd32b864bedec" args="(int signal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sig_hup </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>signal</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8c_source.html#l00171">171</a> of file <a class="el" href="svcgssd_8c_source.html">svcgssd.c</a>.</p>

<p>References <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

</div>
</div>
<a class="anchor" id="a67f81520823920355a4be9d9c03bbb91"></a><!-- doxytag: member="svcgssd.c::usage" ref="a67f81520823920355a4be9d9c03bbb91" args="(char *progname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void usage </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>progname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8c_source.html#l00179">179</a> of file <a class="el" href="svcgssd_8c_source.html">svcgssd.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a347a7b965cc29df58e9db163bb0fb814"></a><!-- doxytag: member="svcgssd.c::pipefds" ref="a347a7b965cc29df58e9db163bb0fb814" args="[2]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="svcgssd_8c.html#a347a7b965cc29df58e9db163bb0fb814">pipefds</a>[2] = { -1, -1}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8c_source.html#l00090">90</a> of file <a class="el" href="svcgssd_8c_source.html">svcgssd.c</a>.</p>

<p>Referenced by <a class="el" href="svcgssd_8c_source.html#l00093">mydaemon()</a>, and <a class="el" href="svcgssd_8c_source.html#l00149">release_parent()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:51 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
