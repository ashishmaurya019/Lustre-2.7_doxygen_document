<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/quota/qmt_entry.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/quota/qmt_entry.c File Reference</h1><code>#include &quot;<a class="el" href="qmt__internal_8h_source.html">qmt_internal.h</a>&quot;</code><br/>

<p><a href="qmt__entry_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LQUOTA</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#a86695c0f5984dd59ac0855bc250d22a4">qmt_lqe_init</a> (struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#a73af2c4a60ec2591637cb1c1072ce0b2">qmt_lqe_read</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#af33a8067122aec28a4aa03adbed6d0c9">qmt_lqe_debug</a> (struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, void *arg, struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *msgdata, const char *fmt, va_list args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#af62c38ba0183e47da1026ac308916a0c">qmt_trans_start_with_slv</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, struct <a class="el" href="structdt__object.html">dt_object</a> *slv_obj, struct <a class="el" href="structqmt__lqe__restore.html">qmt_lqe_restore</a> *restore)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#a0b42be38640fecc888b718f7d9395608">qmt_trans_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, struct <a class="el" href="structqmt__lqe__restore.html">qmt_lqe_restore</a> *restore)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#aa46861629aadeacf9331c3dd8229ae37">qmt_glb_write</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structthandle.html">thandle</a> *th, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, __u32 flags, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *ver)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#ab5ee35e5e05dbfe0645338bee62acb5a">qmt_slv_read</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, struct <a class="el" href="structdt__object.html">dt_object</a> *slv_obj, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *granted)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#a260ed988933d9493ae32b1c357688213">qmt_slv_write</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structthandle.html">thandle</a> *th, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, struct <a class="el" href="structdt__object.html">dt_object</a> *slv_obj, __u32 flags, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *ver, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> granted)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#ac854eb53b76cc31744d20a38b9fe3456">qmt_validate_limits</a> (struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> hard, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> soft)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#a3745254a27a9de2b9038563ce983072b">qmt_adjust_edquot</a> (struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> now)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#a5eb490ad58be4b0234854a3f860de421">qmt_calc_softlimit</a> (struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, bool *oversoft)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#aaed83856edd9e0f1312d3144d71c3825">qmt_alloc_expand</a> (struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> granted, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> spare)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#abf8079eadfbc5e42b19371393a1987dc">qmt_adjust_qunit</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#afc1449c8bdac33e94632d42114b5e384">qmt_revalidate</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlquota__entry__operations.html">lquota_entry_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qmt__entry_8c.html#a2d0335456da9ca9bafa1ac6abbfb5869">qmt_lqe_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="qmt_entry.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LQUOTA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00031">31</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3745254a27a9de2b9038563ce983072b"></a><!-- doxytag: member="qmt_entry.c::qmt_adjust_edquot" ref="a3745254a27a9de2b9038563ce983072b" args="(struct lquota_entry *lqe, __u64 now)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qmt_adjust_edquot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>now</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00410">410</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00248">cfs_time_before_64()</a>, <a class="el" href="linux-time_8h_source.html#l00242">cfs_time_shift_64()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="qmt__internal_8h_source.html#l00165">lqe2qpi()</a>, <a class="el" href="lquota__internal_8h_source.html#l00166">lquota_entry::lqe_edquot</a>, <a class="el" href="lquota__internal_8h_source.html#l00166">lquota_entry::lqe_enforced</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lquota__internal_8h_source.html#l00144">lquota_entry::lqe_id</a>, <a class="el" href="lquota__internal_8h_source.html#l00159">lquota_entry::lqe_qunit</a>, <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l01917">LQUOTA_RES_DT</a>, <a class="el" href="lustre__idl_8h_source.html#l01850">lquota_id::qid_uid</a>, <a class="el" href="qmt__internal_8h_source.html#l00268">qmt_hard_exhausted()</a>, <a class="el" href="qmt__lock_8c_source.html#l00680">qmt_id_lock_notify()</a>, <a class="el" href="qmt__internal_8h_source.html#l00295">QMT_REBA_TIMEOUT</a>, <a class="el" href="qmt__internal_8h_source.html#l00288">qmt_space_exhausted()</a>, <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>, <a class="el" href="qmt__internal_8h_source.html#l00141">qmt_pool_info::qpi_least_qunit</a>, <a class="el" href="qmt__internal_8h_source.html#l00115">qmt_pool_info::qpi_qmt</a>, <a class="el" href="qmt__internal_8h_source.html#l00157">qmt_pool_info::qpi_soft_least_qunit</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00342">qmt_dqacq0()</a>, <a class="el" href="qmt__lock_8c_source.html#l00598">qmt_id_lock_glimpse()</a>, <a class="el" href="qmt__entry_8c_source.html#l00686">qmt_revalidate()</a>, and <a class="el" href="qmt__handler_8c_source.html#l00094">qmt_set()</a>.</p>

</div>
</div>
<a class="anchor" id="abf8079eadfbc5e42b19371393a1987dc"></a><!-- doxytag: member="qmt_entry.c::qmt_adjust_qunit" ref="abf8079eadfbc5e42b19371393a1987dc" args="(const struct lu_env *env, struct lquota_entry *lqe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qmt_adjust_qunit </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00573">573</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="linux-time_8h_source.html#l00235">cfs_time_current_64</a>, <a class="el" href="parser_8c_source.html#l00044">done</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="qmt__internal_8h_source.html#l00165">lqe2qpi()</a>, <a class="el" href="lquota__internal_8h_source.html#l00166">lquota_entry::lqe_enforced</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lquota__internal_8h_source.html#l00144">lquota_entry::lqe_id</a>, <a class="el" href="qmt__internal_8h_source.html#l00172">lqe_is_locked()</a>, <a class="el" href="lquota__internal_8h_source.html#l00159">lquota_entry::lqe_qunit</a>, <a class="el" href="lquota__internal_8h_source.html#l00147">lquota_entry::lqe_site</a>, <a class="el" href="lquota__internal_8h_source.html#l00181">lquota_site::lqs_qtype</a>, <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, <a class="el" href="lquota__internal_8h_source.html#l00360">LQUOTA_ERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l01850">lquota_id::qid_uid</a>, <a class="el" href="qmt__entry_8c_source.html#l00481">qmt_calc_softlimit()</a>, <a class="el" href="qmt__lock_8c_source.html#l00680">qmt_id_lock_notify()</a>, <a class="el" href="qmt__internal_8h_source.html#l00141">qmt_pool_info::qpi_least_qunit</a>, <a class="el" href="qmt__internal_8h_source.html#l00115">qmt_pool_info::qpi_qmt</a>, <a class="el" href="qmt__internal_8h_source.html#l00127">qmt_pool_info::qpi_slv_nr</a>, <a class="el" href="qmt__internal_8h_source.html#l00157">qmt_pool_info::qpi_soft_least_qunit</a>, <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>, and <a class="el" href="osd__iam_8h_source.html#l01014">swap</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00342">qmt_dqacq0()</a>, <a class="el" href="qmt__entry_8c_source.html#l00686">qmt_revalidate()</a>, and <a class="el" href="qmt__handler_8c_source.html#l00094">qmt_set()</a>.</p>

</div>
</div>
<a class="anchor" id="aaed83856edd9e0f1312d3144d71c3825"></a><!-- doxytag: member="qmt_entry.c::qmt_alloc_expand" ref="aaed83856edd9e0f1312d3144d71c3825" args="(struct lquota_entry *lqe, __u64 granted, __u64 spare)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> qmt_alloc_expand </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>granted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>spare</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00514">514</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="qmt__internal_8h_source.html#l00165">lqe2qpi()</a>, <a class="el" href="lquota__internal_8h_source.html#l00166">lquota_entry::lqe_enforced</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lquota__internal_8h_source.html#l00159">lquota_entry::lqe_qunit</a>, <a class="el" href="lquota__internal_8h_source.html#l00147">lquota_entry::lqe_site</a>, <a class="el" href="lquota__internal_8h_source.html#l00181">lquota_site::lqs_qtype</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="qmt__entry_8c_source.html#l00481">qmt_calc_softlimit()</a>, <a class="el" href="qmt__internal_8h_source.html#l00141">qmt_pool_info::qpi_least_qunit</a>, <a class="el" href="qmt__internal_8h_source.html#l00127">qmt_pool_info::qpi_slv_nr</a>, <a class="el" href="qmt__internal_8h_source.html#l00157">qmt_pool_info::qpi_soft_least_qunit</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00342">qmt_dqacq0()</a>.</p>

</div>
</div>
<a class="anchor" id="a5eb490ad58be4b0234854a3f860de421"></a><!-- doxytag: member="qmt_entry.c::qmt_calc_softlimit" ref="a5eb490ad58be4b0234854a3f860de421" args="(struct lquota_entry *lqe, bool *oversoft)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> qmt_calc_softlimit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>oversoft</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00481">481</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="qmt__internal_8h_source.html#l00165">lqe2qpi()</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lustre__idl_8h_source.html#l01917">LQUOTA_RES_DT</a>, <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>, and <a class="el" href="qmt__internal_8h_source.html#l00157">qmt_pool_info::qpi_soft_least_qunit</a>.</p>

<p>Referenced by <a class="el" href="qmt__entry_8c_source.html#l00573">qmt_adjust_qunit()</a>, and <a class="el" href="qmt__entry_8c_source.html#l00514">qmt_alloc_expand()</a>.</p>

</div>
</div>
<a class="anchor" id="aa46861629aadeacf9331c3dd8229ae37"></a><!-- doxytag: member="qmt_entry.c::qmt_glb_write" ref="aa46861629aadeacf9331c3dd8229ae37" args="(const struct lu_env *env, struct thandle *th, struct lquota_entry *lqe, __u32 flags, __u64 *ver)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qmt_glb_write </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>ver</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00244">244</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="qmt__internal_8h_source.html#l00232">LQE_GLB_OBJ</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lquota__internal_8h_source.html#l00144">lquota_entry::lqe_id</a>, <a class="el" href="qmt__internal_8h_source.html#l00172">lqe_is_locked()</a>, <a class="el" href="lquota__internal_8h_source.html#l00236">lqe_is_master()</a>, <a class="el" href="lquota__internal_8h_source.html#l00166">lquota_entry::lqe_uptodate</a>, <a class="el" href="lquota__internal_8h_source.html#l00301">LQUOTA_BUMP_VER</a>, <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, <a class="el" href="lquota__disk_8c_source.html#l00633">lquota_disk_write()</a>, <a class="el" href="lquota__internal_8h_source.html#l00360">LQUOTA_ERROR</a>, <a class="el" href="lquota__internal_8h_source.html#l00302">LQUOTA_SET_VER</a>, <a class="el" href="lustre__idl_8h_source.html#l01942">lquota_glb_rec::qbr_granted</a>, <a class="el" href="lustre__idl_8h_source.html#l01939">lquota_glb_rec::qbr_hardlimit</a>, <a class="el" href="lustre__idl_8h_source.html#l01940">lquota_glb_rec::qbr_softlimit</a>, <a class="el" href="lustre__idl_8h_source.html#l01941">lquota_glb_rec::qbr_time</a>, <a class="el" href="qmt__internal_8h_source.html#l00206">qmt_info()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00342">qmt_dqacq0()</a>, and <a class="el" href="qmt__handler_8c_source.html#l00094">qmt_set()</a>.</p>

</div>
</div>
<a class="anchor" id="af33a8067122aec28a4aa03adbed6d0c9"></a><!-- doxytag: member="qmt_entry.c::qmt_lqe_debug" ref="af33a8067122aec28a4aa03adbed6d0c9" args="(struct lquota_entry *lqe, void *arg, struct libcfs_debug_msg_data *msgdata, const char *fmt, va_list args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qmt_lqe_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *&nbsp;</td>
          <td class="paramname"> <em>msgdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00108">108</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h.html#a8877fb34a6211d9fb620a7a35d97468c">libcfs_debug_vmsg2()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lquota__internal_8h_source.html#l00166">lquota_entry::lqe_edquot</a>, <a class="el" href="lquota__internal_8h_source.html#l00166">lquota_entry::lqe_enforced</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lquota__internal_8h_source.html#l00144">lquota_entry::lqe_id</a>, <a class="el" href="lquota__internal_8h_source.html#l00159">lquota_entry::lqe_qunit</a>, <a class="el" href="lustre__idl_8h_source.html#l01850">lquota_id::qid_uid</a>, <a class="el" href="qmt__internal_8h_source.html#l00048">qmt_device::qmt_svname</a>, <a class="el" href="qmt__internal_8h_source.html#l00108">qmt_pool_info::qpi_key</a>, <a class="el" href="qmt__internal_8h_source.html#l00115">qmt_pool_info::qpi_qmt</a>, and <a class="el" href="lquota__internal_8h_source.html#l00035">RES_NAME</a>.</p>

</div>
</div>
<a class="anchor" id="a86695c0f5984dd59ac0855bc250d22a4"></a><!-- doxytag: member="qmt_entry.c::qmt_lqe_init" ref="a86695c0f5984dd59ac0855bc250d22a4" args="(struct lquota_entry *lqe, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qmt_lqe_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00041">41</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="lquota__internal_8h_source.html#l00236">lqe_is_master()</a>.</p>

</div>
</div>
<a class="anchor" id="a73af2c4a60ec2591637cb1c1072ce0b2"></a><!-- doxytag: member="qmt_entry.c::qmt_lqe_read" ref="a73af2c4a60ec2591637cb1c1072ce0b2" args="(const struct lu_env *env, struct lquota_entry *lqe, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qmt_lqe_read </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00057">57</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lquota__internal_8h_source.html#l00166">lquota_entry::lqe_enforced</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lquota__internal_8h_source.html#l00144">lquota_entry::lqe_id</a>, <a class="el" href="lquota__internal_8h_source.html#l00236">lqe_is_master()</a>, <a class="el" href="lquota__internal_8h_source.html#l00147">lquota_entry::lqe_site</a>, <a class="el" href="lquota__internal_8h_source.html#l00181">lquota_site::lqs_qtype</a>, <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, <a class="el" href="lquota__disk_8c_source.html#l00562">lquota_disk_read()</a>, <a class="el" href="lquota__internal_8h_source.html#l00360">LQUOTA_ERROR</a>, <a class="el" href="qmt__internal_8h_source.html#l00206">qmt_info()</a>, <a class="el" href="qmt__internal_8h_source.html#l00119">qmt_pool_info::qpi_glb_obj</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="afc1449c8bdac33e94632d42114b5e384"></a><!-- doxytag: member="qmt_entry.c::qmt_revalidate" ref="afc1449c8bdac33e94632d42114b5e384" args="(const struct lu_env *env, struct lquota_entry *lqe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qmt_revalidate </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00686">686</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="lquota__internal_8h_source.html#l00159">lquota_entry::lqe_qunit</a>, <a class="el" href="qmt__entry_8c_source.html#l00410">qmt_adjust_edquot()</a>, and <a class="el" href="qmt__entry_8c_source.html#l00573">qmt_adjust_qunit()</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00342">qmt_dqacq0()</a>, and <a class="el" href="qmt__handler_8c_source.html#l00094">qmt_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5ee35e5e05dbfe0645338bee62acb5a"></a><!-- doxytag: member="qmt_entry.c::qmt_slv_read" ref="ab5ee35e5e05dbfe0645338bee62acb5a" args="(const struct lu_env *env, struct lquota_entry *lqe, struct dt_object *slv_obj, __u64 *granted)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qmt_slv_read </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>slv_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>granted</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00298">298</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lquota__internal_8h_source.html#l00144">lquota_entry::lqe_id</a>, <a class="el" href="qmt__internal_8h_source.html#l00172">lqe_is_locked()</a>, <a class="el" href="lquota__internal_8h_source.html#l00236">lqe_is_master()</a>, <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, <a class="el" href="lquota__disk_8c_source.html#l00562">lquota_disk_read()</a>, <a class="el" href="lquota__internal_8h_source.html#l00360">LQUOTA_ERROR</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="qmt__internal_8h_source.html#l00206">qmt_info()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00342">qmt_dqacq0()</a>.</p>

</div>
</div>
<a class="anchor" id="a260ed988933d9493ae32b1c357688213"></a><!-- doxytag: member="qmt_entry.c::qmt_slv_write" ref="a260ed988933d9493ae32b1c357688213" args="(const struct lu_env *env, struct thandle *th, struct lquota_entry *lqe, struct dt_object *slv_obj, __u32 flags, __u64 *ver, __u64 granted)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qmt_slv_write </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>slv_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>ver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>granted</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00350">350</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lquota__internal_8h_source.html#l00144">lquota_entry::lqe_id</a>, <a class="el" href="qmt__internal_8h_source.html#l00172">lqe_is_locked()</a>, <a class="el" href="lquota__internal_8h_source.html#l00236">lqe_is_master()</a>, <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, <a class="el" href="lquota__disk_8c_source.html#l00633">lquota_disk_write()</a>, <a class="el" href="lquota__internal_8h_source.html#l00360">LQUOTA_ERROR</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="qmt__internal_8h_source.html#l00206">qmt_info()</a>, <a class="el" href="lustre__idl_8h_source.html#l01952">lquota_slv_rec::qsr_granted</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00342">qmt_dqacq0()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b42be38640fecc888b718f7d9395608"></a><!-- doxytag: member="qmt_entry.c::qmt_trans_start" ref="a0b42be38640fecc888b718f7d9395608" args="(const struct lu_env *env, struct lquota_entry *lqe, struct qmt_lqe_restore *restore)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthandle.html">thandle</a>* qmt_trans_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__lqe__restore.html">qmt_lqe_restore</a> *&nbsp;</td>
          <td class="paramname"> <em>restore</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00220">220</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, and <a class="el" href="qmt__entry_8c_source.html#l00148">qmt_trans_start_with_slv()</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00094">qmt_set()</a>.</p>

</div>
</div>
<a class="anchor" id="af62c38ba0183e47da1026ac308916a0c"></a><!-- doxytag: member="qmt_entry.c::qmt_trans_start_with_slv" ref="af62c38ba0183e47da1026ac308916a0c" args="(const struct lu_env *env, struct lquota_entry *lqe, struct dt_object *slv_obj, struct qmt_lqe_restore *restore)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthandle.html">thandle</a>* qmt_trans_start_with_slv </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>slv_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqmt__lqe__restore.html">qmt_lqe_restore</a> *&nbsp;</td>
          <td class="paramname"> <em>restore</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00148">148</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="qmt__internal_8h_source.html#l00165">lqe2qpi()</a>, <a class="el" href="qmt__internal_8h_source.html#l00232">LQE_GLB_OBJ</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lquota__internal_8h_source.html#l00144">lquota_entry::lqe_id</a>, <a class="el" href="lquota__internal_8h_source.html#l00236">lqe_is_master()</a>, <a class="el" href="lquota__internal_8h_source.html#l00159">lquota_entry::lqe_qunit</a>, <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, <a class="el" href="lquota__disk_8c_source.html#l00589">lquota_disk_declare_write()</a>, <a class="el" href="lquota__internal_8h_source.html#l00360">LQUOTA_ERROR</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="qmt__internal_8h_source.html#l00185">qmt_lqe_restore::qlr_gracetime</a>, <a class="el" href="qmt__internal_8h_source.html#l00186">qmt_lqe_restore::qlr_granted</a>, <a class="el" href="qmt__internal_8h_source.html#l00183">qmt_lqe_restore::qlr_hardlimit</a>, <a class="el" href="qmt__internal_8h_source.html#l00187">qmt_lqe_restore::qlr_qunit</a>, <a class="el" href="qmt__internal_8h_source.html#l00184">qmt_lqe_restore::qlr_softlimit</a>, <a class="el" href="qmt__internal_8h_source.html#l00054">qmt_device::qmt_child</a>, <a class="el" href="qmt__internal_8h_source.html#l00115">qmt_pool_info::qpi_qmt</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_sync</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00342">qmt_dqacq0()</a>, and <a class="el" href="qmt__entry_8c_source.html#l00220">qmt_trans_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ac854eb53b76cc31744d20a38b9fe3456"></a><!-- doxytag: member="qmt_entry.c::qmt_validate_limits" ref="ac854eb53b76cc31744d20a38b9fe3456" args="(struct lquota_entry *lqe, __u64 hard, __u64 soft)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qmt_validate_limits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>hard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>soft</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00393">393</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qmt__handler_8c_source.html#l00094">qmt_set()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a2d0335456da9ca9bafa1ac6abbfb5869"></a><!-- doxytag: member="qmt_entry.c::qmt_lqe_ops" ref="a2d0335456da9ca9bafa1ac6abbfb5869" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlquota__entry__operations.html">lquota_entry_operations</a> <a class="el" href="qmt__internal_8h.html#a2d0335456da9ca9bafa1ac6abbfb5869">qmt_lqe_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .lqe_init       = <a class="code" href="qmt__entry_8c.html#a86695c0f5984dd59ac0855bc250d22a4">qmt_lqe_init</a>,
        .lqe_read       = <a class="code" href="qmt__entry_8c.html#a73af2c4a60ec2591637cb1c1072ce0b2">qmt_lqe_read</a>,
        .lqe_debug      = <a class="code" href="qmt__entry_8c.html#af33a8067122aec28a4aa03adbed6d0c9">qmt_lqe_debug</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="qmt__entry_8c_source.html#l00131">131</a> of file <a class="el" href="qmt__entry_8c_source.html">qmt_entry.c</a>.</p>

<p>Referenced by <a class="el" href="qmt__pool_8c_source.html#l00494">qmt_pool_prepare()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
