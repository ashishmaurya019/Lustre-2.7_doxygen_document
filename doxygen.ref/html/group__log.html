<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: log</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>log</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structplain__handle__data.html">plain_handle_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcat__handle__data.html">cat_handle_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllog__process__data.html">llog_process_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllog__process__cat__data.html">llog_process_cat_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllog__operations.html">llog_operations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllog__handle.html">llog_handle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllog__ctxt.html">llog_ctxt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllog__cfg__rec.html">llog_cfg_rec</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga74e6cb03b51a4cf136c43118fe7b8e94">LOG_NAME_LIMIT</a>(logname, <a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)&nbsp;&nbsp;&nbsp;snprintf(logname, sizeof(logname), &quot;LOGS/%s&quot;, name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga11a3e78a53c53d8166c2ce7b39312626">LLOG_EEMPTY</a>&nbsp;&nbsp;&nbsp;4711</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga35da509d8eee29b3b11292e4e81d1c2f">LLOG_FLAG_NODEAMON</a>&nbsp;&nbsp;&nbsp;0x0001</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga9957e14aee1418edfa389cb625de57a7">LLOG_CTXT_FLAG_UNINITIALIZED</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gad66792d5e5504a0a7e824ef5c67330d9">LLOG_CTXT_FLAG_STOP</a>&nbsp;&nbsp;&nbsp;0x00000002</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga4fb64387d4343fd5387485fc0f600cb0">LLOG_CTXT_FLAG_NORMAL_FID</a>&nbsp;&nbsp;&nbsp;0x00000004</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gacdf0b47ad08d82835a118113f7472129">LLOG_PROC_BREAK</a>&nbsp;&nbsp;&nbsp;0x0001</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga1504202bf86ed271947570109ba14063">LLOG_DEL_RECORD</a>&nbsp;&nbsp;&nbsp;0x0002</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga537dcd78aa2fe2715b25f811bd5b4484">LLOG_DEL_PLAIN</a>&nbsp;&nbsp;&nbsp;0x0003</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga2f1ab12fceef20a1f6a2c3fbf3b28afa">llog_open_param</a> { <a class="el" href="group__log.html#gga2f1ab12fceef20a1f6a2c3fbf3b28afaa073db74e795998cce75026e71ba61132">LLOG_OPEN_EXISTS</a> =  0x0000, 
<a class="el" href="group__log.html#gga2f1ab12fceef20a1f6a2c3fbf3b28afaa4d8bcc2f3a93dd7afb6b4bb857f7d103">LLOG_OPEN_NEW</a> =  0x0001
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__log.html#gga2f80701c36e79c0640d91c788feee0b3a9e3f5a45a9b1488b2fc203fe85242388">LLOG_NEXT_IDX</a> =  -1, 
<a class="el" href="group__log.html#gga2f80701c36e79c0640d91c788feee0b3a9a7ce7bfa4dc1b552b7eb882c8028d71">LLOG_HEADER_IDX</a> =  0
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga546fd23355c24d4ee2a5a668423c0156">llog_init_handle</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, int flags, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga29d5501b6e8f8d880d210907b6ef8f68">llog_copy_handler</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga80616f32350d097166d698292330b6b2">llog_process</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cb, void *data, void *catdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaf0d3652ea7d74d6ac5ee335584a33d72">llog_process_or_fork</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cb, void *data, void *catdata, bool fork)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga97008e41a5f1114f3b26e8718c8e73de">llog_reverse_process</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cb, void *data, void *catdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gae7cdad9d32ae44d0ae5428b11741368d">llog_cancel_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gae5358b955b7d709ed7f5416022472539">llog_open</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__handle.html">llog_handle</a> **lgh, struct <a class="el" href="structllog__logid.html">llog_logid</a> *logid, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, enum <a class="el" href="group__log.html#ga2f1ab12fceef20a1f6a2c3fbf3b28afa">llog_open_param</a> open_param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga9487d7128a3cf457ff2a9181ce152b74">llog_close</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cathandle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga313d57d22838eb9027b38ee417701af3">llog_is_empty</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to get the llog size in records.  <a href="#ga313d57d22838eb9027b38ee417701af3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga2abc0dd1d2e6e6e1fca19069346475fa">llog_backup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *bak_ctxt, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, char *backup)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga3dff118eacffed836e2f50775e042350">llog_read_header</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, const struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaae74cc5ecdf5ceda1159ad495cef0113">llog_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga8b069ab8307aa0e5c401f0d0c3a2f43d">llog_cat_close</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cathandle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gab876e211f585e8c75174f6b974e658c6">llog_cat_add_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cathandle, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *reccookie, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga7eff35965cc93d0bc953eb542a1d6a28">llog_cat_declare_add_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cathandle, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga29a5a9134a1ef39c0042541245851ec6">llog_cat_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cathandle, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *reccookie)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga0c7162acb072c7ebd237441cab38a622">llog_cat_cancel_records</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cathandle, int count, struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *cookies)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga3a958539869b4156163d2c006bd92f5a">llog_cat_process_or_fork</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cat_llh, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cat_cb, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cb, void *data, int startcat, int startidx, bool fork)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga466f538de595963c4d02460408b4ca01">llog_cat_process</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cat_llh, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cb, void *data, int startcat, int startidx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga27b76b93ed632e0efcdeb31e0fac56a3">llog_cat_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cat_llh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga8fed8fb641b91d077e635dfdc6b8446c">llog_cat_reverse_process</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *cat_llh, <a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a> cb, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaadc4cac8bd450c264283656f9ef4fc78">llog_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *olg, int index, struct <a class="el" href="structobd__device.html">obd_device</a> *disk_obd, struct <a class="el" href="structllog__operations.html">llog_operations</a> *<a class="el" href="iam__ut_8c.html#a99a30df0f2488360cdd46b4b88e5f5f0">op</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gab112c9591fc2a2f0efcf70bc2954134f">__llog_ctxt_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga2c27342dc9861167548b2e367677a394">llog_cleanup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga470133f89aab4b9f9047b2ab53d17de0">llog_sync</a> (struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gacd31f6ab5afd67b879a840de8c6600da">llog_cancel</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *cookies, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaf09a118e062a45bcf3f7b4382b26658c">llog_ioctl</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, struct <a class="el" href="structobd__ioctl__data.html">obd_ioctl_data</a> *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga1ffba3225716e68236cb031d76182315">llog_catalog_list</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *d, int count, struct <a class="el" href="structobd__ioctl__data.html">obd_ioctl_data</a> *data, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gad9a6174ab2a5e0b1262d0b7c851fabb1">llog_initiator_connect</a> (struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaf0dee2455ecbe5cbeeec044344224613">llog_osd_get_cat_list</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *d, int idx, int count, struct <a class="el" href="structllog__catid.html">llog_catid</a> *idarray, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the special file which contains the list of llog catalogs IDs.  <a href="#gaf0dee2455ecbe5cbeeec044344224613"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga4b308f3bee04638c301ba0bead3ad070">llog_osd_put_cat_list</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *d, int idx, int count, struct <a class="el" href="structllog__catid.html">llog_catid</a> *idarray, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write the special file which contains the list of llog catalogs IDs.  <a href="#ga4b308f3bee04638c301ba0bead3ad070"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga7f992ede04801280372ff61459941fe5">llog_obd2ops</a> (struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__operations.html">llog_operations</a> **lop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga427b3b7fcb73b3e21891f1b696d05992">llog_handle2ops</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, struct <a class="el" href="structllog__operations.html">llog_operations</a> **lop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga2cb18b5f17a813719e7a45b2f731c9fa">llog_data_len</a> (int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gac6cb4f1eca30e10268c569d1c4d98b8e">llog_get_size</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga5a7a4b2c40454970420123fad5b0f9a9">llog_ctxt_get</a> (struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga6074eb1c111e356e1a05fdb6a2189a65">llog_ctxt_put</a> (struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga422812a93eb89ae78af4cf28b661c58d">llog_group_init</a> (struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *olg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga39118175485f4bfd0d263c56d12173eb">llog_group_set_ctxt</a> (struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *olg, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga9f0d21cd3c68589e57bc3aca3a4c1959">llog_group_get_ctxt</a> (struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *olg, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga2ea54fa88db209fc4e2fef22cf1860ab">llog_group_clear_ctxt</a> (struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *olg, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga3cc62169ef1388794fdb682e1cb5f35e">llog_get_context</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaf336cd80bd0b187ef463f38701e95abb">llog_group_ctxt_null</a> (struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *olg, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga98f2f6427e3c27f1d1583fd5338cba3f">llog_ctxt_null</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gac77bab9be9fe12770ee08af0906eb647">llog_next_block</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, int *cur_idx, int next_idx, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *cur_offset, void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga6361c837408fbf640b0f017a5adb9afd">llog_prev_block</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, int prev_idx, void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaff446f4f40cf22c8f7824e97949b3bbf">llog_connect</a> (struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__logid.html">llog_logid</a> *logid, struct <a class="el" href="structllog__gen.html">llog_gen</a> *gen, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga5c4343d7efacc22e7fe33fe6597ccf9c">llog_is_full</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structllog__cfg__rec.html">llog_cfg_rec</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gac148d3e66927a5ca148207c69ba4b8a5">lustre_cfg_rec_new</a> (int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, struct <a class="el" href="structlustre__cfg__bufs.html">lustre_cfg_bufs</a> *bufs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gadac76f066c96cf4ae43ccbce06593e21">lustre_cfg_rec_free</a> (struct <a class="el" href="structllog__cfg__rec.html">llog_cfg_rec</a> *<a class="el" href="llog__test_8c.html#ad055657f9d954e69f4bd5193f01514c5">lcr</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gab4498d20e447d4dbeaff34eb3b305d57">llog_exist</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">new llog API  <a href="#gab4498d20e447d4dbeaff34eb3b305d57"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga4f29ac09d8ce9183650aa713038b2c92">llog_declare_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gad1dcf7f6a3d54acd725f99455d849ca8">llog_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gadac4383f18bef43704ff9b2403398263">llog_trans_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga5fbc4e5a4154513556d4dedc7d23e486">llog_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga1db1cffd9f210c9f081370af6106a606">llog_declare_write_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, int idx, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga38790001c86a4ad331c76a6e8698b6e9">llog_write_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *logcookies, int idx, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gace38c6753f06b86177bebbe0121fde90">llog_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *lgh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *logcookies, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga682d7fd8bcbf72f370ee2aab71eadfa9">llog_declare_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *lgh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gab379f30f30f88aebf9be8c61b7f55152">lustre_process_log</a> (struct super_block *sb, char *logname, struct <a class="el" href="structconfig__llog__instance.html">config_llog_instance</a> *cfg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a config log from the MGS and process it.  <a href="#gab379f30f30f88aebf9be8c61b7f55152"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gae876fd8eccc7582b545d5e187e5b3e92">lustre_end_log</a> (struct super_block *sb, char *logname, struct <a class="el" href="structconfig__llog__instance.html">config_llog_instance</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gae96db4e0338a67db6a75218a14d22b4f">llog_open_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__handle.html">llog_handle</a> **res, struct <a class="el" href="structllog__logid.html">llog_logid</a> *logid, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to open llog or create it if doesn't exist.  <a href="#gae96db4e0338a67db6a75218a14d22b4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaf5171710a6a625218951e36e3c7d3e01">llog_erase</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *ctxt, struct <a class="el" href="structllog__logid.html">llog_logid</a> *logid, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to delete existent llog.  <a href="#gaf5171710a6a625218951e36e3c7d3e01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gad1dd01ae4a118379d446d5afcbb261fa">llog_write</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, int idx)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structllog__operations.html">llog_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga9fe78077b320f0957c7c7c3e8052aaaa">llog_osd_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structllog__operations.html">llog_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaf91e7b25f0a5c9ca6385440f60b7b375">llog_common_cat_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga4fb64387d4343fd5387485fc0f600cb0"></a><!-- doxytag: member="lustre_log.h::LLOG_CTXT_FLAG_NORMAL_FID" ref="ga4fb64387d4343fd5387485fc0f600cb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_CTXT_FLAG_NORMAL_FID&nbsp;&nbsp;&nbsp;0x00000004</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00306">306</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>, <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>, <a class="el" href="llog__osd_8c_source.html#l01561">llog_osd_close()</a>, <a class="el" href="llog__osd_8c_source.html#l01473">llog_osd_create()</a>, <a class="el" href="llog__osd_8c_source.html#l01392">llog_osd_declare_create()</a>, <a class="el" href="llog__osd_8c_source.html#l01648">llog_osd_declare_destroy()</a>, <a class="el" href="llog__osd_8c_source.html#l01712">llog_osd_destroy()</a>, <a class="el" href="llog__osd_8c_source.html#l01168">llog_osd_open()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00937">lod_sub_prep_llog()</a>.</p>

</div>
</div>
<a class="anchor" id="gad66792d5e5504a0a7e824ef5c67330d9"></a><!-- doxytag: member="lustre_log.h::LLOG_CTXT_FLAG_STOP" ref="gad66792d5e5504a0a7e824ef5c67330d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_CTXT_FLAG_STOP&nbsp;&nbsp;&nbsp;0x00000002</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00302">302</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9957e14aee1418edfa389cb625de57a7"></a><!-- doxytag: member="lustre_log.h::LLOG_CTXT_FLAG_UNINITIALIZED" ref="ga9957e14aee1418edfa389cb625de57a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_CTXT_FLAG_UNINITIALIZED&nbsp;&nbsp;&nbsp;0x00000001</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00301">301</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>Referenced by <a class="el" href="llog__obd_8c_source.html#l00146">llog_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga537dcd78aa2fe2715b25f811bd5b4484"></a><!-- doxytag: member="lustre_log.h::LLOG_DEL_PLAIN" ref="ga537dcd78aa2fe2715b25f811bd5b4484" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_DEL_PLAIN&nbsp;&nbsp;&nbsp;0x0003</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00330">330</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l00197">llog_cancel_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00673">llog_cat_cancel_records()</a>, <a class="el" href="llog__cat_8c_source.html#l00718">llog_cat_process_cb()</a>, <a class="el" href="llog__cat_8c_source.html#l00897">llog_cat_reverse_process_cb()</a>, <a class="el" href="llog_8c_source.html#l00687">llog_process()</a>, and <a class="el" href="llog__test_8c_source.html#l00977">llog_test_7_sub()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1504202bf86ed271947570109ba14063"></a><!-- doxytag: member="lustre_log.h::LLOG_DEL_RECORD" ref="ga1504202bf86ed271947570109ba14063" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_DEL_RECORD&nbsp;&nbsp;&nbsp;0x0002</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00329">329</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l00419">llog_process_thread()</a>, <a class="el" href="llog_8c_source.html#l00696">llog_reverse_process()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00158">mdt_coordinator_cb()</a>, <a class="el" href="llog__test_8c_source.html#l00145">test_2_cancel_cb()</a>, and <a class="el" href="llog__test_8c_source.html#l00969">test_7_cancel_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="ga11a3e78a53c53d8166c2ce7b39312626"></a><!-- doxytag: member="lustre_log.h::LLOG_EEMPTY" ref="ga11a3e78a53c53d8166c2ce7b39312626" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_EEMPTY&nbsp;&nbsp;&nbsp;4711</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00061">61</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>Referenced by <a class="el" href="llog__test_8c_source.html#l00730">llog_cancel_rec_cb()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00091">llog_check_cb()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00286">llog_ioctl()</a>, <a class="el" href="llog__osd_8c_source.html#l00202">llog_osd_read_header()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00178">llog_print_cb()</a>, <a class="el" href="llog_8c_source.html#l00299">llog_read_header()</a>, <a class="el" href="llog__test_8c_source.html#l01450">llog_test_10()</a>, and <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>.</p>

</div>
</div>
<a class="anchor" id="ga35da509d8eee29b3b11292e4e81d1c2f"></a><!-- doxytag: member="lustre_log.h::LLOG_FLAG_NODEAMON" ref="ga35da509d8eee29b3b11292e4e81d1c2f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_FLAG_NODEAMON&nbsp;&nbsp;&nbsp;0x0001</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00112">112</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

</div>
</div>
<a class="anchor" id="gacdf0b47ad08d82835a118113f7472129"></a><!-- doxytag: member="lustre_log.h::LLOG_PROC_BREAK" ref="gacdf0b47ad08d82835a118113f7472129" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_PROC_BREAK&nbsp;&nbsp;&nbsp;0x0001</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00328">328</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00169">changelog_init_cb()</a>, <a class="el" href="mdd__device_8c_source.html#l00188">changelog_user_init_cb()</a>, <a class="el" href="mdd__device_8c_source.html#l00212">llog_changelog_cancel_cb()</a>, <a class="el" href="llog_8c_source.html#l00419">llog_process_thread()</a>, <a class="el" href="llog_8c_source.html#l00696">llog_reverse_process()</a>, <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00200">mdt_agent_record_update_cb()</a>, <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00414">mdt_hsm_actions_proc_show()</a>, <a class="el" href="osp__sync_8c_source.html#l01076">osp_sync_process_queues()</a>, and <a class="el" href="osp__sync_8c_source.html#l01142">osp_sync_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga74e6cb03b51a4cf136c43118fe7b8e94"></a><!-- doxytag: member="lustre_log.h::LOG_NAME_LIMIT" ref="ga74e6cb03b51a4cf136c43118fe7b8e94" args="(logname, name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_NAME_LIMIT</td>
          <td>(</td>
          <td class="paramtype">logname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;snprintf(logname, sizeof(logname), &quot;LOGS/%s&quot;, name)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00059">59</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga2f80701c36e79c0640d91c788feee0b3"></a><!-- doxytag: member="lustre_log.h::@62" ref="ga2f80701c36e79c0640d91c788feee0b3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga2f80701c36e79c0640d91c788feee0b3a9e3f5a45a9b1488b2fc203fe85242388"></a><!-- doxytag: member="LLOG_NEXT_IDX" ref="gga2f80701c36e79c0640d91c788feee0b3a9e3f5a45a9b1488b2fc203fe85242388" args="" -->LLOG_NEXT_IDX</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga2f80701c36e79c0640d91c788feee0b3a9a7ce7bfa4dc1b552b7eb882c8028d71"></a><!-- doxytag: member="LLOG_HEADER_IDX" ref="gga2f80701c36e79c0640d91c788feee0b3a9a7ce7bfa4dc1b552b7eb882c8028d71" args="" -->LLOG_HEADER_IDX</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00520">520</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2f1ab12fceef20a1f6a2c3fbf3b28afa"></a><!-- doxytag: member="lustre_log.h::llog_open_param" ref="ga2f1ab12fceef20a1f6a2c3fbf3b28afa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__log.html#ga2f1ab12fceef20a1f6a2c3fbf3b28afa">llog_open_param</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga2f1ab12fceef20a1f6a2c3fbf3b28afaa073db74e795998cce75026e71ba61132"></a><!-- doxytag: member="LLOG_OPEN_EXISTS" ref="gga2f1ab12fceef20a1f6a2c3fbf3b28afaa073db74e795998cce75026e71ba61132" args="" -->LLOG_OPEN_EXISTS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga2f1ab12fceef20a1f6a2c3fbf3b28afaa4d8bcc2f3a93dd7afb6b4bb857f7d103"></a><!-- doxytag: member="LLOG_OPEN_NEW" ref="gga2f1ab12fceef20a1f6a2c3fbf3b28afaa4d8bcc2f3a93dd7afb6b4bb857f7d103" args="" -->LLOG_OPEN_NEW</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00063">63</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gab112c9591fc2a2f0efcf70bc2954134f"></a><!-- doxytag: member="lustre_log.h::__llog_ctxt_put" ref="gab112c9591fc2a2f0efcf70bc2954134f" args="(const struct lu_env *env, struct llog_ctxt *ctxt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __llog_ctxt_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__obd_8c_source.html#l00072">72</a> of file <a class="el" href="llog__obd_8c_source.html">llog_obd.c</a>.</p>

<p>References <a class="el" href="fsx_8c_source.html#l01082">cleanup()</a>, <a class="el" href="obd__class_8h_source.html#l00351">CTXTP</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="llog__obd_8c_source.html#l00059">llog_ctxt_destroy()</a>, <a class="el" href="lustre__log_8h_source.html#l00309">llog_ctxt::loc_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="lustre__log_8h_source.html#l00311">llog_ctxt::loc_olg</a>, <a class="el" href="lustre__log_8h_source.html#l00318">llog_ctxt::loc_refcount</a>, <a class="el" href="obd_8h_source.html#l00644">obd_device::obd_dev_lock</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_set_up</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_starting</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_stopping</a>, <a class="el" href="obd_8h_source.html#l00582">obd_llog_group::olg_ctxts</a>, <a class="el" href="obd_8h_source.html#l00584">obd_llog_group::olg_lock</a>, and <a class="el" href="obd_8h_source.html#l00583">obd_llog_group::olg_waitq</a>.</p>

<p>Referenced by <a class="el" href="llog__obd_8c_source.html#l00108">llog_cleanup()</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, and <a class="el" href="mgc__request_8c_source.html#l01728">mgc_process_cfg_log()</a>.</p>

</div>
</div>
<a class="anchor" id="gace38c6753f06b86177bebbe0121fde90"></a><!-- doxytag: member="lustre_log.h::llog_add" ref="gace38c6753f06b86177bebbe0121fde90" args="(const struct lu_env *env, struct llog_handle *lgh, struct llog_rec_hdr *rec, struct llog_cookie *logcookies, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lgh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *&nbsp;</td>
          <td class="paramname"> <em>logcookies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00918">918</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="linux-curproc_8c_source.html#l00071">cfs_cap_lower()</a>, <a class="el" href="linux-curproc_8c_source.html#l00062">cfs_cap_raise()</a>, <a class="el" href="linux-curproc_8c_source.html#l00080">cfs_cap_raised()</a>, <a class="el" href="curproc_8h_source.html#l00120">CFS_CAP_SYS_RESOURCE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__log_8h_source.html#l00285">llog_handle::lgh_logops</a>, <a class="el" href="structllog__operations.html#ab49da4026ce87fc82e994ee69ba3d811">llog_operations::lop_add</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00736">mdd_changelog_store()</a>, <a class="el" href="osp__sync_8c_source.html#l00357">osp_sync_add_rec()</a>, and <a class="el" href="update__trans_8c_source.html#l00167">sub_updates_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2abc0dd1d2e6e6e1fca19069346475fa"></a><!-- doxytag: member="lustre_log.h::llog_backup" ref="ga2abc0dd1d2e6e6e1fca19069346475fa" args="(const struct lu_env *env, struct obd_device *obd, struct llog_ctxt *ctxt, struct llog_ctxt *bak_ctxt, char *name, char *backup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_backup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>bak_ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>backup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l01187">1187</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="llog_8c_source.html#l01177">llog_copy_handler()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog_8c_source.html#l00640">llog_process_or_fork()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01685">mgc_llog_local_copy()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>.</p>

</div>
</div>
<a class="anchor" id="gacd31f6ab5afd67b879a840de8c6600da"></a><!-- doxytag: member="lustre_log.h::llog_cancel" ref="gacd31f6ab5afd67b879a840de8c6600da" args="(const struct lu_env *env, struct llog_ctxt *ctxt, struct llog_cookie *cookies, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cancel </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *&nbsp;</td>
          <td class="paramname"> <em>cookies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__obd_8c_source.html#l00237">237</a> of file <a class="el" href="llog__obd_8c_source.html">llog_obd.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__class_8h_source.html#l00490">CTXT_CHECK_OP</a>, <a class="el" href="obd__class_8h_source.html#l00351">CTXTP</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00461">mdd_changelog_llog_cancel()</a>.</p>

</div>
</div>
<a class="anchor" id="gae7cdad9d32ae44d0ae5428b11741368d"></a><!-- doxytag: member="lustre_log.h::llog_cancel_rec" ref="gae7cdad9d32ae44d0ae5428b11741368d" args="(const struct lu_env *env, struct llog_handle *loghandle, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cancel_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00197">197</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__log_8h_source.html#l00281">llog_handle::chd</a>, <a class="el" href="lustre__log_8h_source.html#l00077">cat_handle_data::chd_current_log</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lustre__user_8h_source.html#l00223">DOSTID</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__compat_8h_source.html#l00270">ext2_clear_bit</a>, <a class="el" href="lustre__compat_8h_source.html#l00269">ext2_set_bit</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l03346">llog_cookie::lgc_index</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00264">llog_handle::lgh_hdr_mutex</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="lustre__log_8h_source.html#l00273">llog_handle::lgh_last_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00263">llog_handle::lgh_lock</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="llog__internal_8h_source.html#l00061">llog_thread_info::lgi_cookie</a>, <a class="el" href="lustre__idl_8h_source.html#l03065">llog_logid::lgl_ogen</a>, <a class="el" href="lustre__idl_8h_source.html#l03064">llog_logid::lgl_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03309">llog_log_hdr::llh_count</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03307">llog_log_hdr::llh_hdr</a>, <a class="el" href="llog_8c_source.html#l00107">llog_declare_destroy()</a>, <a class="el" href="llog_8c_source.html#l00863">llog_declare_write_rec()</a>, <a class="el" href="lustre__log_8h_source.html#l00330">LLOG_DEL_PLAIN</a>, <a class="el" href="packet-lustre_8c_source.html#l00355">LLOG_F_ZAP_WHEN_EMPTY</a>, <a class="el" href="lustre__idl_8h_source.html#l03336">LLOG_HDR_BITMAP</a>, <a class="el" href="lustre__idl_8h_source.html#l03333">LLOG_HDR_BITMAP_SIZE</a>, <a class="el" href="lustre__log_8h_source.html#l00522">LLOG_HEADER_IDX</a>, <a class="el" href="llog__internal_8h_source.html#l00067">llog_info()</a>, <a class="el" href="llog_8c_source.html#l00127">llog_trans_destroy()</a>, <a class="el" href="llog_8c_source.html#l00889">llog_write_rec()</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="dt__object_8h_source.html#l01743">lu2dt_dev()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__log_8h_source.html#l00280">llog_handle::phd</a>, <a class="el" href="lustre__log_8h_source.html#l00070">plain_handle_data::phd_cat_handle</a>, <a class="el" href="lustre__user_8h_source.html#l00224">POSTID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_wait_submit</a>, and <a class="el" href="structllog__handle.html#a6b57b14cf19ad1632ccff6ca9d53ef1c">llog_handle::u</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00673">llog_cat_cancel_records()</a>, <a class="el" href="llog__cat_8c_source.html#l01041">llog_cat_cleanup()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00286">llog_ioctl()</a>, <a class="el" href="llog_8c_source.html#l00419">llog_process_thread()</a>, and <a class="el" href="llog_8c_source.html#l00696">llog_reverse_process()</a>.</p>

</div>
</div>
<a class="anchor" id="ga29a5a9134a1ef39c0042541245851ec6"></a><!-- doxytag: member="lustre_log.h::llog_cat_add" ref="ga29a5a9134a1ef39c0042541245851ec6" args="(const struct lu_env *env, struct llog_handle *cathandle, struct llog_rec_hdr *rec, struct llog_cookie *reccookie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cat_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cathandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *&nbsp;</td>
          <td class="paramname"> <em>reccookie</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__cat_8c_source.html#l00631">631</a> of file <a class="el" href="llog__cat_8c_source.html">llog_cat.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="llog__cat_8c_source.html#l00425">llog_cat_add_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00479">llog_cat_declare_add_rec()</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lustre__log_8h_source.html#l00312">llog_ctxt::loc_exp</a>, <a class="el" href="dt__object_8h_source.html#l01743">lu2dt_dev()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__test_8c_source.html#l01450">llog_test_10()</a>, <a class="el" href="llog__test_8c_source.html#l00571">llog_test_4()</a>, <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>, <a class="el" href="llog__test_8c_source.html#l01215">llog_test_8()</a>, <a class="el" href="mdd__device_8c_source.html#l01273">mdd_changelog_user_register()</a>, <a class="el" href="mdd__device_8c_source.html#l00510">mdd_changelog_write_header()</a>, <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00124">mdt_agent_record_add()</a>, and <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gab876e211f585e8c75174f6b974e658c6"></a><!-- doxytag: member="lustre_log.h::llog_cat_add_rec" ref="gab876e211f585e8c75174f6b974e658c6" args="(const struct lu_env *env, struct llog_handle *cathandle, struct llog_rec_hdr *rec, struct llog_cookie *reccookie, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cat_add_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cathandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *&nbsp;</td>
          <td class="paramname"> <em>reccookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__cat_8c_source.html#l00425">425</a> of file <a class="el" href="llog__cat_8c_source.html">llog_cat.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00266">CDEBUG_LIMIT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__log_8h_source.html#l00281">llog_handle::chd</a>, <a class="el" href="lustre__log_8h_source.html#l00077">cat_handle_data::chd_current_log</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00263">llog_handle::lgh_lock</a>, <a class="el" href="llog__cat_8c_source.html#l00327">llog_cat_current_log()</a>, <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>, <a class="el" href="llog_8c_source.html#l00799">llog_exist()</a>, <a class="el" href="lustre__log_8h_source.html#l00506">llog_is_full()</a>, <a class="el" href="lustre__log_8h_source.html#l00521">LLOG_NEXT_IDX</a>, <a class="el" href="llog_8c_source.html#l00889">llog_write_rec()</a>, <a class="el" href="lustre__log_8h_source.html#l00325">llog_ctxt::loc_chunk_size</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structllog__handle.html#a6b57b14cf19ad1632ccff6ca9d53ef1c">llog_handle::u</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00631">llog_cat_add()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l01600">mdd_init()</a>, and <a class="el" href="osp__dev_8c_source.html#l01914">osp_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0c7162acb072c7ebd237441cab38a622"></a><!-- doxytag: member="lustre_log.h::llog_cat_cancel_records" ref="ga0c7162acb072c7ebd237441cab38a622" args="(const struct lu_env *env, struct llog_handle *cathandle, int count, struct llog_cookie *cookies)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cat_cancel_records </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cathandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *&nbsp;</td>
          <td class="paramname"> <em>cookies</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__cat_8c_source.html#l00673">673</a> of file <a class="el" href="llog__cat_8c_source.html">llog_cat.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00223">DOSTID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l03346">llog_cookie::lgc_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03344">llog_cookie::lgc_lgl</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__idl_8h_source.html#l03064">llog_logid::lgl_oi</a>, <a class="el" href="llog_8c_source.html#l00197">llog_cancel_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l01041">llog_cat_cleanup()</a>, <a class="el" href="llog__cat_8c_source.html#l00206">llog_cat_id2handle()</a>, <a class="el" href="lustre__log_8h_source.html#l00330">LLOG_DEL_PLAIN</a>, <a class="el" href="llog_8c_source.html#l00100">llog_handle_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__log_8h_source.html#l00280">llog_handle::phd</a>, <a class="el" href="lustre__log_8h_source.html#l00072">plain_handle_data::phd_cookie</a>, <a class="el" href="lustre__user_8h_source.html#l00224">POSTID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structllog__handle.html#a6b57b14cf19ad1632ccff6ca9d53ef1c">llog_handle::u</a>.</p>

<p>Referenced by <a class="el" href="update__trans_8c_source.html#l01277">distribute_txn_cancel_records()</a>, <a class="el" href="llog__test_8c_source.html#l00730">llog_cancel_rec_cb()</a>, <a class="el" href="mdd__device_8c_source.html#l00212">llog_changelog_cancel_cb()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00286">llog_ioctl()</a>, <a class="el" href="llog__test_8c_source.html#l00571">llog_test_4()</a>, <a class="el" href="mdd__device_8c_source.html#l01332">mdd_changelog_user_purge_cb()</a>, <a class="el" href="osp__sync_8c_source.html#l00966">osp_sync_process_committed()</a>, and <a class="el" href="osp__sync_8c_source.html#l00849">osp_sync_process_record()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8b069ab8307aa0e5c401f0d0c3a2f43d"></a><!-- doxytag: member="lustre_log.h::llog_cat_close" ref="ga8b069ab8307aa0e5c401f0d0c3a2f43d" args="(const struct lu_env *env, struct llog_handle *cathandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cat_close </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cathandle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__cat_8c_source.html#l00271">271</a> of file <a class="el" href="llog__cat_8c_source.html">llog_cat.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__log_8h_source.html#l00281">llog_handle::chd</a>, <a class="el" href="lustre__log_8h_source.html#l00076">cat_handle_data::chd_head</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l03346">llog_cookie::lgc_index</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lustre__idl_8h_source.html#l03309">llog_log_hdr::llh_count</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="llog__cat_8c_source.html#l01041">llog_cat_cleanup()</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="llog_8c_source.html#l00149">llog_destroy()</a>, <a class="el" href="packet-lustre_8c_source.html#l00355">LLOG_F_ZAP_WHEN_EMPTY</a>, <a class="el" href="lustre__log_8h_source.html#l00316">llog_ctxt::loc_handle</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__log_8h_source.html#l00280">llog_handle::phd</a>, <a class="el" href="lustre__log_8h_source.html#l00072">plain_handle_data::phd_cookie</a>, <a class="el" href="lustre__log_8h_source.html#l00069">plain_handle_data::phd_entry</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structllog__handle.html#a6b57b14cf19ad1632ccff6ca9d53ef1c">llog_handle::u</a>.</p>

<p>Referenced by <a class="el" href="llog__ioctl_8c_source.html#l00286">llog_ioctl()</a>, <a class="el" href="llog__server_8c_source.html#l00050">llog_origin_close()</a>, <a class="el" href="llog__test_8c_source.html#l01450">llog_test_10()</a>, <a class="el" href="llog__test_8c_source.html#l00571">llog_test_4()</a>, <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>, <a class="el" href="llog__test_8c_source.html#l01215">llog_test_8()</a>, <a class="el" href="lod__dev_8c_source.html#l00482">lod_sub_fini_llog()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00937">lod_sub_prep_llog()</a>, <a class="el" href="lod__dev_8c_source.html#l00354">lod_sub_recovery_thread()</a>, <a class="el" href="mdc__request_8c_source.html#l01874">mdc_changelog_send_thread()</a>, <a class="el" href="mdd__device_8c_source.html#l00434">mdd_changelog_fini()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l00858">mdd_hsm_actions_llog_fini()</a>, <a class="el" href="mdd__device_8c_source.html#l00809">mdd_hsm_actions_llog_init()</a>, <a class="el" href="osp__sync_8c_source.html#l01359">osp_sync_llog_fini()</a>, <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>, and <a class="el" href="osp__sync_8c_source.html#l01142">osp_sync_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7eff35965cc93d0bc953eb542a1d6a28"></a><!-- doxytag: member="lustre_log.h::llog_cat_declare_add_rec" ref="ga7eff35965cc93d0bc953eb542a1d6a28" args="(const struct lu_env *env, struct llog_handle *cathandle, struct llog_rec_hdr *rec, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cat_declare_add_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cathandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__cat_8c_source.html#l00479">479</a> of file <a class="el" href="llog__cat_8c_source.html">llog_cat.c</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00281">llog_handle::chd</a>, <a class="el" href="lustre__log_8h_source.html#l00077">cat_handle_data::chd_current_log</a>, <a class="el" href="lustre__log_8h_source.html#l00076">cat_handle_data::chd_head</a>, <a class="el" href="lustre__log_8h_source.html#l00078">cat_handle_data::chd_next_log</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00263">llog_handle::lgh_lock</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="lustre__log_8h_source.html#l00288">llog_handle::lgh_stale</a>, <a class="el" href="llog__internal_8h_source.html#l00058">llog_thread_info::lgi_logid</a>, <a class="el" href="lustre__idl_8h_source.html#l03140">llog_logid_rec::lid_hdr</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>, <a class="el" href="llog__cat_8c_source.html#l00386">llog_cat_update_header()</a>, <a class="el" href="llog_8c_source.html#l00817">llog_declare_create()</a>, <a class="el" href="llog_8c_source.html#l00863">llog_declare_write_rec()</a>, <a class="el" href="llog_8c_source.html#l00799">llog_exist()</a>, <a class="el" href="llog__internal_8h_source.html#l00067">llog_info()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00065">LLOG_OPEN_NEW</a>, <a class="el" href="llog__cat_8c_source.html#l00313">LLOGH_CAT</a>, <a class="el" href="llog__cat_8c_source.html#l00314">LLOGH_LOG</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__log_8h_source.html#l00280">llog_handle::phd</a>, <a class="el" href="lustre__log_8h_source.html#l00069">plain_handle_data::phd_entry</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structllog__handle.html#a6b57b14cf19ad1632ccff6ca9d53ef1c">llog_handle::u</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00631">llog_cat_add()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l01600">mdd_init()</a>, and <a class="el" href="osp__dev_8c_source.html#l01914">osp_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga466f538de595963c4d02460408b4ca01"></a><!-- doxytag: member="lustre_log.h::llog_cat_process" ref="ga466f538de595963c4d02460408b4ca01" args="(const struct lu_env *env, struct llog_handle *cat_llh, llog_cb_t cb, void *data, int startcat, int startidx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cat_process </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cat_llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>startcat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>startidx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__cat_8c_source.html#l00838">838</a> of file <a class="el" href="llog__cat_8c_source.html">llog_cat.c</a>.</p>

<p>References <a class="el" href="llog__cat_8c_source.html#l00718">llog_cat_process_cb()</a>, and <a class="el" href="llog__cat_8c_source.html#l00796">llog_cat_process_or_fork()</a>.</p>

<p>Referenced by <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00087">cdt_llog_process()</a>, <a class="el" href="mdd__device_8c_source.html#l00241">llog_changelog_cancel()</a>, <a class="el" href="llog__test_8c_source.html#l01450">llog_test_10()</a>, <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>, <a class="el" href="llog__test_8c_source.html#l01215">llog_test_8()</a>, <a class="el" href="lod__dev_8c_source.html#l00354">lod_sub_recovery_thread()</a>, <a class="el" href="mdc__request_8c_source.html#l01874">mdc_changelog_send_thread()</a>, <a class="el" href="mdd__device_8c_source.html#l01389">mdd_changelog_user_purge()</a>, <a class="el" href="mdd__lproc_8c_source.html#l00145">mdd_changelog_users_seq_show()</a>, <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00414">mdt_hsm_actions_proc_show()</a>, and <a class="el" href="osp__sync_8c_source.html#l01142">osp_sync_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3a958539869b4156163d2c006bd92f5a"></a><!-- doxytag: member="lustre_log.h::llog_cat_process_or_fork" ref="ga3a958539869b4156163d2c006bd92f5a" args="(const struct lu_env *env, struct llog_handle *cat_llh, llog_cb_t cat_cb, llog_cb_t cb, void *data, int startcat, int startidx, bool fork)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cat_process_or_fork </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cat_llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>cat_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>startcat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>startidx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>fork</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__cat_8c_source.html#l00796">796</a> of file <a class="el" href="llog__cat_8c_source.html">llog_cat.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00223">DOSTID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="lustre__log_8h_source.html#l00273">llog_handle::lgh_last_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03064">llog_logid::lgl_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03316">llog_log_hdr::llh_cat_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03309">llog_log_hdr::llh_count</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="packet-lustre_8c_source.html#l00356">LLOG_F_IS_CAT</a>, <a class="el" href="llog_8c_source.html#l00640">llog_process_or_fork()</a>, <a class="el" href="lustre__log_8h_source.html#l00137">llog_process_cat_data::lpcd_first_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00141">llog_process_cat_data::lpcd_last_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00125">llog_process_data::lpd_cb</a>, <a class="el" href="lustre__log_8h_source.html#l00120">llog_process_data::lpd_data</a>, <a class="el" href="lustre__log_8h_source.html#l00129">llog_process_data::lpd_startcat</a>, <a class="el" href="lustre__log_8h_source.html#l00130">llog_process_data::lpd_startidx</a>, <a class="el" href="lustre__user_8h_source.html#l00224">POSTID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00838">llog_cat_process()</a>, and <a class="el" href="llog__cat_8c_source.html#l00886">llog_cat_size()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8fed8fb641b91d077e635dfdc6b8446c"></a><!-- doxytag: member="lustre_log.h::llog_cat_reverse_process" ref="ga8fed8fb641b91d077e635dfdc6b8446c" args="(const struct lu_env *env, struct llog_handle *cat_llh, llog_cb_t cb, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cat_reverse_process </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cat_llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__cat_8c_source.html#l00958">958</a> of file <a class="el" href="llog__cat_8c_source.html">llog_cat.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00223">DOSTID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="lustre__log_8h_source.html#l00273">llog_handle::lgh_last_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03064">llog_logid::lgl_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03316">llog_log_hdr::llh_cat_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03309">llog_log_hdr::llh_count</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="llog__cat_8c_source.html#l00897">llog_cat_reverse_process_cb()</a>, <a class="el" href="packet-lustre_8c_source.html#l00356">LLOG_F_IS_CAT</a>, <a class="el" href="llog_8c_source.html#l00696">llog_reverse_process()</a>, <a class="el" href="lustre__log_8h_source.html#l00137">llog_process_cat_data::lpcd_first_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00141">llog_process_cat_data::lpcd_last_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00125">llog_process_data::lpd_cb</a>, <a class="el" href="lustre__log_8h_source.html#l00120">llog_process_data::lpd_data</a>, <a class="el" href="lustre__user_8h_source.html#l00224">POSTID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>, and <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga27b76b93ed632e0efcdeb31e0fac56a3"></a><!-- doxytag: member="lustre_log.h::llog_cat_size" ref="ga27b76b93ed632e0efcdeb31e0fac56a3" args="(const struct lu_env *env, struct llog_handle *cat_llh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> llog_cat_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cat_llh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__cat_8c_source.html#l00886">886</a> of file <a class="el" href="llog__cat_8c_source.html">llog_cat.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="llog__cat_8c_source.html#l00796">llog_cat_process_or_fork()</a>, <a class="el" href="llog__cat_8c_source.html#l00846">llog_cat_size_cb()</a>, <a class="el" href="llog_8c_source.html#l01252">llog_size()</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="mdd__lproc_8c_source.html#l00181">mdd_changelog_size_ctxt()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1ffba3225716e68236cb031d76182315"></a><!-- doxytag: member="lustre_log.h::llog_catalog_list" ref="ga1ffba3225716e68236cb031d76182315" args="(const struct lu_env *env, struct dt_device *d, int count, struct obd_ioctl_data *data, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_catalog_list </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__ioctl__data.html">obd_ioctl_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__ioctl_8c_source.html#l00432">432</a> of file <a class="el" href="llog__ioctl_8c_source.html">llog_ioctl.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00223">DOSTID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00115">obd_ioctl_data::ioc_bulk</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00106">obd_ioctl_data::ioc_inllen1</a>, <a class="el" href="lustre__idl_8h_source.html#l03071">llog_catid::lci_logid</a>, <a class="el" href="lustre__idl_8h_source.html#l03065">llog_logid::lgl_ogen</a>, <a class="el" href="lustre__idl_8h_source.html#l03064">llog_logid::lgl_oi</a>, <a class="el" href="llog__osd_8c_source.html#l01913">llog_osd_get_cat_list()</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="lustre__user_8h_source.html#l00224">POSTID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05849">mdt_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2c27342dc9861167548b2e367677a394"></a><!-- doxytag: member="lustre_log.h::llog_cleanup" ref="ga2c27342dc9861167548b2e367677a394" args="(const struct lu_env *env, struct llog_ctxt *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_cleanup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__obd_8c_source.html#l00108">108</a> of file <a class="el" href="llog__obd_8c_source.html">llog_obd.c</a>.</p>

<p>References <a class="el" href="llog__obd_8c_source.html#l00072">__llog_ctxt_put()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00437">llog_group_ctxt_null()</a>, <a class="el" href="lustre__log_8h_source.html#l00309">llog_ctxt::loc_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00311">llog_ctxt::loc_olg</a>, <a class="el" href="lustre__log_8h_source.html#l00318">llog_ctxt::loc_refcount</a>, <a class="el" href="lustre__lib_8h_source.html#l00209">LWI_INTR</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="obd_8h_source.html#l00583">obd_llog_group::olg_waitq</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__test_8c_source.html#l02025">llog_test_cleanup()</a>, <a class="el" href="lod__dev_8c_source.html#l00482">lod_sub_fini_llog()</a>, <a class="el" href="mdc__request_8c_source.html#l02629">mdc_llog_finish()</a>, <a class="el" href="mdd__device_8c_source.html#l00434">mdd_changelog_fini()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l00858">mdd_hsm_actions_llog_fini()</a>, <a class="el" href="mdd__device_8c_source.html#l00809">mdd_hsm_actions_llog_init()</a>, <a class="el" href="mgc__request_8c_source.html#l00827">mgc_llog_fini()</a>, <a class="el" href="mgc__request_8c_source.html#l00701">mgc_local_llog_fini()</a>, <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, <a class="el" href="osp__sync_8c_source.html#l01359">osp_sync_llog_fini()</a>, <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>, and <a class="el" href="osp__sync_8c_source.html#l01142">osp_sync_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9487d7128a3cf457ff2a9181ce152b74"></a><!-- doxytag: member="lustre_log.h::llog_close" ref="ga9487d7128a3cf457ff2a9181ce152b74" args="(const struct lu_env *env, struct llog_handle *cathandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_close </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>cathandle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l01120">1120</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="llog_8c_source.html#l00100">llog_handle_put()</a>, <a class="el" href="structllog__operations.html#ad1e04ab8212c5c53d654ea391c870b28">llog_operations::lop_close</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="obd__config_8c_source.html#l01673">class_config_parse_llog()</a>, <a class="el" href="llog_8c_source.html#l01187">llog_backup()</a>, <a class="el" href="llog__cat_8c_source.html#l01041">llog_cat_cleanup()</a>, <a class="el" href="llog__cat_8c_source.html#l00271">llog_cat_close()</a>, <a class="el" href="llog__cat_8c_source.html#l00206">llog_cat_id2handle()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00286">llog_ioctl()</a>, <a class="el" href="llog_8c_source.html#l01150">llog_is_empty()</a>, <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>, <a class="el" href="llog__server_8c_source.html#l00050">llog_origin_close()</a>, <a class="el" href="llog__test_8c_source.html#l01960">llog_run_tests()</a>, <a class="el" href="llog__test_8c_source.html#l00105">llog_test_1()</a>, <a class="el" href="llog__test_8c_source.html#l00152">llog_test_2()</a>, <a class="el" href="llog__test_8c_source.html#l00861">llog_test_6()</a>, <a class="el" href="llog__test_8c_source.html#l00977">llog_test_7_sub()</a>, <a class="el" href="llog__test_8c_source.html#l01353">llog_test_9_sub()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01725">mgs_steal_llog_for_mdt_from_client()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>, and <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="gaff446f4f40cf22c8f7824e97949b3bbf"></a><!-- doxytag: member="lustre_log.h::llog_connect" ref="gaff446f4f40cf22c8f7824e97949b3bbf" args="(struct llog_ctxt *ctxt, struct llog_logid *logid, struct llog_gen *gen, struct obd_uuid *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_connect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__logid.html">llog_logid</a> *&nbsp;</td>
          <td class="paramname"> <em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__gen.html">llog_gen</a> *&nbsp;</td>
          <td class="paramname"> <em>gen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00487">487</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__log_8h_source.html#l00332">llog_obd2ops()</a>, <a class="el" href="structllog__operations.html#a2e71f161d19a63bed0fabc5489b3cff2">llog_operations::lop_connect</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ga29d5501b6e8f8d880d210907b6ef8f68"></a><!-- doxytag: member="lustre_log.h::llog_copy_handler" ref="ga29d5501b6e8f8d880d210907b6ef8f68" args="(const struct lu_env *env, struct llog_handle *llh, struct llog_rec_hdr *rec, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_copy_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l01177">1177</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00521">LLOG_NEXT_IDX</a>, and <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l01187">llog_backup()</a>.</p>

</div>
</div>
<a class="anchor" id="gad1dcf7f6a3d54acd725f99455d849ca8"></a><!-- doxytag: member="lustre_log.h::llog_create" ref="gad1dcf7f6a3d54acd725f99455d849ca8" args="(const struct lu_env *env, struct llog_handle *handle, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00840">840</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="linux-curproc_8c_source.html#l00071">cfs_cap_lower()</a>, <a class="el" href="linux-curproc_8c_source.html#l00062">cfs_cap_raise()</a>, <a class="el" href="linux-curproc_8c_source.html#l00080">cfs_cap_raised()</a>, <a class="el" href="curproc_8h_source.html#l00120">CFS_CAP_SYS_RESOURCE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="structllog__operations.html#a5334de987fe3f3a3d5fc7c4a25abeffc">llog_operations::lop_create</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>, and <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5a7a4b2c40454970420123fad5b0f9a9"></a><!-- doxytag: member="lustre_log.h::llog_ctxt_get" ref="ga5a7a4b2c40454970420123fad5b0f9a9" args="(struct llog_ctxt *ctxt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a>* llog_ctxt_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00367">367</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, and <a class="el" href="lustre__log_8h_source.html#l00318">llog_ctxt::loc_refcount</a>.</p>

<p>Referenced by <a class="el" href="lustre__log_8h_source.html#l00407">llog_group_get_ctxt()</a>, and <a class="el" href="llog__osd_8c_source.html#l01782">llog_osd_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga98f2f6427e3c27f1d1583fd5338cba3f"></a><!-- doxytag: member="lustre_log.h::llog_ctxt_null" ref="ga98f2f6427e3c27f1d1583fd5338cba3f" args="(struct obd_device *obd, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_ctxt_null </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00442">442</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00437">llog_group_ctxt_null()</a>, and <a class="el" href="obd_8h_source.html#l00651">obd_device::obd_olg</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02131">mdt_llog_ctxt_clone()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6074eb1c111e356e1a05fdb6a2189a65"></a><!-- doxytag: member="lustre_log.h::llog_ctxt_put" ref="ga6074eb1c111e356e1a05fdb6a2189a65" args="(struct llog_ctxt *ctxt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void llog_ctxt_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00375">375</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="llog__obd_8c_source.html#l00072">__llog_ctxt_put()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__private_8h_source.html#l00368">LASSERT_ATOMIC_GT_LT</a>, and <a class="el" href="lustre__log_8h_source.html#l00318">llog_ctxt::loc_refcount</a>.</p>

<p>Referenced by <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00087">cdt_llog_process()</a>, <a class="el" href="update__trans_8c_source.html#l01277">distribute_txn_cancel_records()</a>, <a class="el" href="llog__obd_8c_source.html#l00108">llog_cleanup()</a>, <a class="el" href="llog__server_8c_source.html#l00118">llog_origin_handle_destroy()</a>, <a class="el" href="llog__server_8c_source.html#l00157">llog_origin_handle_next_block()</a>, <a class="el" href="llog__server_8c_source.html#l00059">llog_origin_handle_open()</a>, <a class="el" href="llog__server_8c_source.html#l00218">llog_origin_handle_prev_block()</a>, <a class="el" href="llog__server_8c_source.html#l00278">llog_origin_handle_read_header()</a>, <a class="el" href="llog__osd_8c_source.html#l01782">llog_osd_setup()</a>, <a class="el" href="llog__test_8c_source.html#l01960">llog_run_tests()</a>, <a class="el" href="llog__obd_8c_source.html#l00146">llog_setup()</a>, <a class="el" href="llog__test_8c_source.html#l00105">llog_test_1()</a>, <a class="el" href="llog__test_8c_source.html#l01450">llog_test_10()</a>, <a class="el" href="llog__test_8c_source.html#l00152">llog_test_2()</a>, <a class="el" href="llog__test_8c_source.html#l00571">llog_test_4()</a>, <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>, <a class="el" href="llog__test_8c_source.html#l00861">llog_test_6()</a>, <a class="el" href="llog__test_8c_source.html#l01062">llog_test_7()</a>, <a class="el" href="llog__test_8c_source.html#l01215">llog_test_8()</a>, <a class="el" href="llog__test_8c_source.html#l01390">llog_test_9()</a>, <a class="el" href="llog__test_8c_source.html#l02045">llog_test_setup()</a>, <a class="el" href="lod__dev_8c_source.html#l01811">lod_obd_get_info()</a>, <a class="el" href="lod__dev_8c_source.html#l00840">lod_process_config()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00937">lod_sub_prep_llog()</a>, <a class="el" href="lod__dev_8c_source.html#l00354">lod_sub_recovery_thread()</a>, <a class="el" href="mdc__request_8c_source.html#l01874">mdc_changelog_send_thread()</a>, <a class="el" href="mdc__request_8c_source.html#l02609">mdc_llog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l00461">mdd_changelog_llog_cancel()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__lproc_8c_source.html#l00181">mdd_changelog_size_ctxt()</a>, <a class="el" href="mdd__dir_8c_source.html#l00736">mdd_changelog_store()</a>, <a class="el" href="mdd__device_8c_source.html#l01389">mdd_changelog_user_purge()</a>, <a class="el" href="mdd__device_8c_source.html#l01273">mdd_changelog_user_register()</a>, <a class="el" href="mdd__lproc_8c_source.html#l00145">mdd_changelog_users_seq_show()</a>, <a class="el" href="mdd__device_8c_source.html#l00510">mdd_changelog_write_header()</a>, <a class="el" href="mdd__dir_8c_source.html#l00686">mdd_declare_changelog_store()</a>, <a class="el" href="mdd__device_8c_source.html#l00809">mdd_hsm_actions_llog_init()</a>, <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00124">mdt_agent_record_add()</a>, <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00445">mdt_hsm_actions_proc_stop()</a>, <a class="el" href="mdt__handler_8c_source.html#l02153">mdt_llog_ctxt_unclone()</a>, <a class="el" href="mgc__request_8c_source.html#l00804">mgc_llog_init()</a>, <a class="el" href="mgc__request_8c_source.html#l00679">mgc_local_llog_init()</a>, <a class="el" href="mgc__request_8c_source.html#l01728">mgc_process_cfg_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l03801">mgs_erase_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01725">mgs_steal_llog_for_mdt_from_client()</a>, <a class="el" href="osp__sync_8c_source.html#l00357">osp_sync_add_rec()</a>, <a class="el" href="osp__sync_8c_source.html#l00294">osp_sync_declare_add()</a>, <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>, <a class="el" href="osp__sync_8c_source.html#l00966">osp_sync_process_committed()</a>, <a class="el" href="osp__sync_8c_source.html#l01142">osp_sync_thread()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>, <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>, <a class="el" href="update__trans_8c_source.html#l00112">sub_declare_updates_write()</a>, and <a class="el" href="update__trans_8c_source.html#l00167">sub_updates_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2cb18b5f17a813719e7a45b2f731c9fa"></a><!-- doxytag: member="lustre_log.h::llog_data_len" ref="ga2cb18b5f17a813719e7a45b2f731c9fa" args="(int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_data_len </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00355">355</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>.</p>

<p>Referenced by <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="mdd__object_8c_source.html#l00643">mdd_changelog_data_store()</a>, <a class="el" href="mdd__dir_8c_source.html#l00736">mdd_changelog_store()</a>, <a class="el" href="mdd__device_8c_source.html#l00510">mdd_changelog_write_header()</a>, <a class="el" href="mdd__dir_8c_source.html#l00666">mdd_llog_record_calc_size()</a>, and <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00124">mdt_agent_record_add()</a>.</p>

</div>
</div>
<a class="anchor" id="ga682d7fd8bcbf72f370ee2aab71eadfa9"></a><!-- doxytag: member="lustre_log.h::llog_declare_add" ref="ga682d7fd8bcbf72f370ee2aab71eadfa9" args="(const struct lu_env *env, struct llog_handle *lgh, struct llog_rec_hdr *rec, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_declare_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lgh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00939">939</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="linux-curproc_8c_source.html#l00071">cfs_cap_lower()</a>, <a class="el" href="linux-curproc_8c_source.html#l00062">cfs_cap_raise()</a>, <a class="el" href="linux-curproc_8c_source.html#l00080">cfs_cap_raised()</a>, <a class="el" href="curproc_8h_source.html#l00120">CFS_CAP_SYS_RESOURCE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__log_8h_source.html#l00285">llog_handle::lgh_logops</a>, <a class="el" href="structllog__operations.html#a8d45958b3740ebc3a1e5316abaf002c7">llog_operations::lop_declare_add</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00686">mdd_declare_changelog_store()</a>, <a class="el" href="osp__sync_8c_source.html#l00294">osp_sync_declare_add()</a>, and <a class="el" href="update__trans_8c_source.html#l00112">sub_declare_updates_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4f29ac09d8ce9183650aa713038b2c92"></a><!-- doxytag: member="lustre_log.h::llog_declare_create" ref="ga4f29ac09d8ce9183650aa713038b2c92" args="(const struct lu_env *env, struct llog_handle *loghandle, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_declare_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00817">817</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="linux-curproc_8c_source.html#l00071">cfs_cap_lower()</a>, <a class="el" href="linux-curproc_8c_source.html#l00062">cfs_cap_raise()</a>, <a class="el" href="linux-curproc_8c_source.html#l00080">cfs_cap_raised()</a>, <a class="el" href="curproc_8h_source.html#l00120">CFS_CAP_SYS_RESOURCE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="structllog__operations.html#ad999e480d8c46187a83855f78e8184ab">llog_operations::lop_declare_create</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00479">llog_cat_declare_add_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>, and <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1db1cffd9f210c9f081370af6106a606"></a><!-- doxytag: member="lustre_log.h::llog_declare_write_rec" ref="ga1db1cffd9f210c9f081370af6106a606" args="(const struct lu_env *env, struct llog_handle *handle, struct llog_rec_hdr *rec, int idx, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_declare_write_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00863">863</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="linux-curproc_8c_source.html#l00071">cfs_cap_lower()</a>, <a class="el" href="linux-curproc_8c_source.html#l00062">cfs_cap_raise()</a>, <a class="el" href="linux-curproc_8c_source.html#l00080">cfs_cap_raised()</a>, <a class="el" href="curproc_8h_source.html#l00120">CFS_CAP_SYS_RESOURCE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="structllog__operations.html#ada38484d5d6669b28db201124b9ebc9e">llog_operations::lop_declare_write_rec</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l00197">llog_cancel_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00479">llog_cat_declare_add_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>, and <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5fbc4e5a4154513556d4dedc7d23e486"></a><!-- doxytag: member="lustre_log.h::llog_destroy" ref="ga5fbc4e5a4154513556d4dedc7d23e486" args="(const struct lu_env *env, struct llog_handle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00149">149</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="llog_8c_source.html#l00107">llog_declare_destroy()</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="structllog__operations.html#a12902ffa891d835b9dc331d13f58316a">llog_operations::lop_destroy</a>, <a class="el" href="dt__object_8h_source.html#l01743">lu2dt_dev()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00271">llog_cat_close()</a>, <a class="el" href="llog__cat_8c_source.html#l00718">llog_cat_process_cb()</a>, <a class="el" href="llog__cat_8c_source.html#l00897">llog_cat_reverse_process_cb()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00286">llog_ioctl()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00244">llog_remove_log()</a>, <a class="el" href="llog__test_8c_source.html#l01960">llog_run_tests()</a>, <a class="el" href="llog__test_8c_source.html#l00152">llog_test_2()</a>, and <a class="el" href="llog__test_8c_source.html#l00977">llog_test_7_sub()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf5171710a6a625218951e36e3c7d3e01"></a><!-- doxytag: member="lustre_log.h::llog_erase" ref="gaf5171710a6a625218951e36e3c7d3e01" args="(const struct lu_env *env, struct llog_ctxt *ctxt, struct llog_logid *logid, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_erase </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__logid.html">llog_logid</a> *&nbsp;</td>
          <td class="paramname"> <em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to delete existent llog. </p>

<p>Definition at line <a class="el" href="llog_8c_source.html#l01014">1014</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="llog_8c_source.html#l00149">llog_destroy()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l01187">llog_backup()</a>, <a class="el" href="llog__server_8c_source.html#l00118">llog_origin_handle_destroy()</a>, <a class="el" href="mgc__request_8c_source.html#l01685">mgc_llog_local_copy()</a>, <a class="el" href="mgs__llog_8c_source.html#l03801">mgs_erase_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, and <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="gab4498d20e447d4dbeaff34eb3b305d57"></a><!-- doxytag: member="lustre_log.h::llog_exist" ref="gab4498d20e447d4dbeaff34eb3b305d57" args="(struct llog_handle *loghandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_exist </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>new llog API </p>
<p>API functions: llog_open - open llog, may not exist llog_exist - check if llog exists llog_close - close opened llog, pair for open, frees <a class="el" href="structllog__handle.html">llog_handle</a> llog_declare_create - declare llog creation llog_create - create new llog on disk, need transaction handle llog_declare_write_rec - declaration of llog write llog_write_rec - write llog record on disk, need transaction handle llog_declare_add - declare llog catalog record addition llog_add - add llog record in catalog, need transaction handle </p>

<p>Definition at line <a class="el" href="llog_8c_source.html#l00799">799</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="structllog__operations.html#ada3ec98e78c44d6186c26adf91f807a6">llog_operations::lop_exist</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00425">llog_cat_add_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00479">llog_cat_declare_add_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>, <a class="el" href="llog__cat_8c_source.html#l00386">llog_cat_update_header()</a>, <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>, and <a class="el" href="llog__test_8c_source.html#l00977">llog_test_7_sub()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3cc62169ef1388794fdb682e1cb5f35e"></a><!-- doxytag: member="lustre_log.h::llog_get_context" ref="ga3cc62169ef1388794fdb682e1cb5f35e" args="(struct obd_device *obd, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a>* llog_get_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00431">431</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00407">llog_group_get_ctxt()</a>, and <a class="el" href="obd_8h_source.html#l00651">obd_device::obd_olg</a>.</p>

<p>Referenced by <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00087">cdt_llog_process()</a>, <a class="el" href="update__trans_8c_source.html#l01277">distribute_txn_cancel_records()</a>, <a class="el" href="llog__server_8c_source.html#l00118">llog_origin_handle_destroy()</a>, <a class="el" href="llog__server_8c_source.html#l00157">llog_origin_handle_next_block()</a>, <a class="el" href="llog__server_8c_source.html#l00059">llog_origin_handle_open()</a>, <a class="el" href="llog__server_8c_source.html#l00218">llog_origin_handle_prev_block()</a>, <a class="el" href="llog__server_8c_source.html#l00278">llog_origin_handle_read_header()</a>, <a class="el" href="llog__test_8c_source.html#l01960">llog_run_tests()</a>, <a class="el" href="llog__test_8c_source.html#l00105">llog_test_1()</a>, <a class="el" href="llog__test_8c_source.html#l01450">llog_test_10()</a>, <a class="el" href="llog__test_8c_source.html#l00152">llog_test_2()</a>, <a class="el" href="llog__test_8c_source.html#l00571">llog_test_4()</a>, <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>, <a class="el" href="llog__test_8c_source.html#l00861">llog_test_6()</a>, <a class="el" href="llog__test_8c_source.html#l01062">llog_test_7()</a>, <a class="el" href="llog__test_8c_source.html#l01215">llog_test_8()</a>, <a class="el" href="llog__test_8c_source.html#l01390">llog_test_9()</a>, <a class="el" href="llog__test_8c_source.html#l02025">llog_test_cleanup()</a>, <a class="el" href="llog__test_8c_source.html#l02045">llog_test_setup()</a>, <a class="el" href="lod__dev_8c_source.html#l01811">lod_obd_get_info()</a>, <a class="el" href="lod__dev_8c_source.html#l00840">lod_process_config()</a>, <a class="el" href="lod__dev_8c_source.html#l00482">lod_sub_fini_llog()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00937">lod_sub_prep_llog()</a>, <a class="el" href="lod__dev_8c_source.html#l00354">lod_sub_recovery_thread()</a>, <a class="el" href="mdc__request_8c_source.html#l01874">mdc_changelog_send_thread()</a>, <a class="el" href="mdc__request_8c_source.html#l02629">mdc_llog_finish()</a>, <a class="el" href="mdd__device_8c_source.html#l00434">mdd_changelog_fini()</a>, <a class="el" href="mdd__device_8c_source.html#l00461">mdd_changelog_llog_cancel()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__lproc_8c_source.html#l00181">mdd_changelog_size_ctxt()</a>, <a class="el" href="mdd__dir_8c_source.html#l00736">mdd_changelog_store()</a>, <a class="el" href="mdd__device_8c_source.html#l01389">mdd_changelog_user_purge()</a>, <a class="el" href="mdd__device_8c_source.html#l01273">mdd_changelog_user_register()</a>, <a class="el" href="mdd__lproc_8c_source.html#l00145">mdd_changelog_users_seq_show()</a>, <a class="el" href="mdd__device_8c_source.html#l00510">mdd_changelog_write_header()</a>, <a class="el" href="mdd__dir_8c_source.html#l00686">mdd_declare_changelog_store()</a>, <a class="el" href="mdd__device_8c_source.html#l00858">mdd_hsm_actions_llog_fini()</a>, <a class="el" href="mdd__device_8c_source.html#l00809">mdd_hsm_actions_llog_init()</a>, <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00124">mdt_agent_record_add()</a>, <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00317">mdt_hsm_actions_proc_start()</a>, <a class="el" href="mdt__handler_8c_source.html#l02153">mdt_llog_ctxt_unclone()</a>, <a class="el" href="mgc__request_8c_source.html#l00827">mgc_llog_fini()</a>, <a class="el" href="mgc__request_8c_source.html#l00804">mgc_llog_init()</a>, <a class="el" href="mgc__request_8c_source.html#l00701">mgc_local_llog_fini()</a>, <a class="el" href="mgc__request_8c_source.html#l00679">mgc_local_llog_init()</a>, <a class="el" href="mgc__request_8c_source.html#l01728">mgc_process_cfg_log()</a>, <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, <a class="el" href="mgs__llog_8c_source.html#l03801">mgs_erase_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01725">mgs_steal_llog_for_mdt_from_client()</a>, <a class="el" href="osp__sync_8c_source.html#l00357">osp_sync_add_rec()</a>, <a class="el" href="osp__sync_8c_source.html#l00294">osp_sync_declare_add()</a>, <a class="el" href="osp__sync_8c_source.html#l01359">osp_sync_llog_fini()</a>, <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>, <a class="el" href="osp__sync_8c_source.html#l00966">osp_sync_process_committed()</a>, <a class="el" href="osp__sync_8c_source.html#l01142">osp_sync_thread()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>, <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>, <a class="el" href="update__trans_8c_source.html#l00112">sub_declare_updates_write()</a>, and <a class="el" href="update__trans_8c_source.html#l00167">sub_updates_write()</a>.</p>

</div>
</div>
<a class="anchor" id="gac6cb4f1eca30e10268c569d1c4d98b8e"></a><!-- doxytag: member="lustre_log.h::llog_get_size" ref="gac6cb4f1eca30e10268c569d1c4d98b8e" args="(struct llog_handle *loghandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_get_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00360">360</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, and <a class="el" href="lustre__idl_8h_source.html#l03309">llog_log_hdr::llh_count</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l01150">llog_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, and <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2ea54fa88db209fc4e2fef22cf1860ab"></a><!-- doxytag: member="lustre_log.h::llog_group_clear_ctxt" ref="ga2ea54fa88db209fc4e2fef22cf1860ab" args="(struct obd_llog_group *olg, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void llog_group_clear_ctxt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *&nbsp;</td>
          <td class="paramname"> <em>olg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00423">423</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l03059">LLOG_MAX_CTXTS</a>, <a class="el" href="obd_8h_source.html#l00582">obd_llog_group::olg_ctxts</a>, and <a class="el" href="obd_8h_source.html#l00584">obd_llog_group::olg_lock</a>.</p>

<p>Referenced by <a class="el" href="llog__obd_8c_source.html#l00146">llog_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf336cd80bd0b187ef463f38701e95abb"></a><!-- doxytag: member="lustre_log.h::llog_group_ctxt_null" ref="gaf336cd80bd0b187ef463f38701e95abb" args="(struct obd_llog_group *olg, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_group_ctxt_null </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *&nbsp;</td>
          <td class="paramname"> <em>olg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00437">437</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00582">obd_llog_group::olg_ctxts</a>.</p>

<p>Referenced by <a class="el" href="llog__obd_8c_source.html#l00108">llog_cleanup()</a>, and <a class="el" href="lustre__log_8h_source.html#l00442">llog_ctxt_null()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9f0d21cd3c68589e57bc3aca3a4c1959"></a><!-- doxytag: member="lustre_log.h::llog_group_get_ctxt" ref="ga9f0d21cd3c68589e57bc3aca3a4c1959" args="(struct obd_llog_group *olg, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a>* llog_group_get_ctxt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *&nbsp;</td>
          <td class="paramname"> <em>olg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00407">407</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00367">llog_ctxt_get()</a>, <a class="el" href="lustre__idl_8h_source.html#l03059">LLOG_MAX_CTXTS</a>, <a class="el" href="obd_8h_source.html#l00582">obd_llog_group::olg_ctxts</a>, and <a class="el" href="obd_8h_source.html#l00584">obd_llog_group::olg_lock</a>.</p>

<p>Referenced by <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="llog__obd_8c_source.html#l00146">llog_setup()</a>, <a class="el" href="mdc__request_8c_source.html#l02609">mdc_llog_init()</a>, and <a class="el" href="mdd__device_8c_source.html#l01128">mdd_llog_ctxt_get()</a>.</p>

</div>
</div>
<a class="anchor" id="ga422812a93eb89ae78af4cf28b661c58d"></a><!-- doxytag: member="lustre_log.h::llog_group_init" ref="ga422812a93eb89ae78af4cf28b661c58d" args="(struct obd_llog_group *olg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void llog_group_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *&nbsp;</td>
          <td class="paramname"> <em>olg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00385">385</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00585">obd_llog_group::olg_cat_processing</a>, <a class="el" href="obd_8h_source.html#l00584">obd_llog_group::olg_lock</a>, and <a class="el" href="obd_8h_source.html#l00583">obd_llog_group::olg_waitq</a>.</p>

<p>Referenced by <a class="el" href="obd__config_8c_source.html#l00336">class_attach()</a>.</p>

</div>
</div>
<a class="anchor" id="ga39118175485f4bfd0d263c56d12173eb"></a><!-- doxytag: member="lustre_log.h::llog_group_set_ctxt" ref="ga39118175485f4bfd0d263c56d12173eb" args="(struct obd_llog_group *olg, struct llog_ctxt *ctxt, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_group_set_ctxt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *&nbsp;</td>
          <td class="paramname"> <em>olg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00392">392</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l03059">LLOG_MAX_CTXTS</a>, <a class="el" href="obd_8h_source.html#l00582">obd_llog_group::olg_ctxts</a>, and <a class="el" href="obd_8h_source.html#l00584">obd_llog_group::olg_lock</a>.</p>

<p>Referenced by <a class="el" href="llog__obd_8c_source.html#l00146">llog_setup()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02131">mdt_llog_ctxt_clone()</a>.</p>

</div>
</div>
<a class="anchor" id="ga427b3b7fcb73b3e21891f1b696d05992"></a><!-- doxytag: member="lustre_log.h::llog_handle2ops" ref="ga427b3b7fcb73b3e21891f1b696d05992" args="(struct llog_handle *loghandle, struct llog_operations **lop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_handle2ops </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__operations.html">llog_operations</a> **&nbsp;</td>
          <td class="paramname"> <em>lop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00345">345</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00285">llog_handle::lgh_logops</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="llog_8c_source.html#l00840">llog_create()</a>, <a class="el" href="llog_8c_source.html#l00817">llog_declare_create()</a>, <a class="el" href="llog_8c_source.html#l00107">llog_declare_destroy()</a>, <a class="el" href="llog_8c_source.html#l00863">llog_declare_write_rec()</a>, <a class="el" href="llog_8c_source.html#l00149">llog_destroy()</a>, <a class="el" href="llog_8c_source.html#l00799">llog_exist()</a>, <a class="el" href="lustre__log_8h_source.html#l00447">llog_next_block()</a>, <a class="el" href="lustre__log_8h_source.html#l00468">llog_prev_block()</a>, <a class="el" href="llog_8c_source.html#l00299">llog_read_header()</a>, <a class="el" href="llog_8c_source.html#l00127">llog_trans_destroy()</a>, and <a class="el" href="llog_8c_source.html#l00889">llog_write_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="ga546fd23355c24d4ee2a5a668423c0156"></a><!-- doxytag: member="lustre_log.h::llog_init_handle" ref="ga546fd23355c24d4ee2a5a668423c0156" args="(const struct lu_env *env, struct llog_handle *handle, int flags, struct obd_uuid *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_init_handle </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00345">345</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__log_8h_source.html#l00281">llog_handle::chd</a>, <a class="el" href="lustre__log_8h_source.html#l00076">cat_handle_data::chd_head</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00267">llog_handle::lgh_hdr_size</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03311">llog_log_hdr::llh_size</a>, <a class="el" href="lustre__idl_8h_source.html#l03317">llog_log_hdr::llh_tgtuuid</a>, <a class="el" href="lustre__idl_8h_source.html#l03296">LLOG_F_EXT_MASK</a>, <a class="el" href="packet-lustre_8c_source.html#l00356">LLOG_F_IS_CAT</a>, <a class="el" href="lustre__idl_8h_source.html#l03290">LLOG_F_IS_FIXSIZE</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__idl_8h_source.html#l03300">LLOG_MIN_CHUNK_SIZE</a>, <a class="el" href="llog_8c_source.html#l00299">llog_read_header()</a>, <a class="el" href="lustre__log_8h_source.html#l00325">llog_ctxt::loc_chunk_size</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__user_8h_source.html#l00495">obd_uuid_equals()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="structllog__handle.html#a6b57b14cf19ad1632ccff6ca9d53ef1c">llog_handle::u</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="obd__config_8c_source.html#l01673">class_config_parse_llog()</a>, <a class="el" href="llog_8c_source.html#l01187">llog_backup()</a>, <a class="el" href="llog__cat_8c_source.html#l00206">llog_cat_id2handle()</a>, <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00286">llog_ioctl()</a>, <a class="el" href="llog_8c_source.html#l01150">llog_is_empty()</a>, <a class="el" href="llog__server_8c_source.html#l00157">llog_origin_handle_next_block()</a>, <a class="el" href="llog__server_8c_source.html#l00218">llog_origin_handle_prev_block()</a>, <a class="el" href="llog__server_8c_source.html#l00278">llog_origin_handle_read_header()</a>, <a class="el" href="llog__test_8c_source.html#l00105">llog_test_1()</a>, <a class="el" href="llog__test_8c_source.html#l01450">llog_test_10()</a>, <a class="el" href="llog__test_8c_source.html#l00152">llog_test_2()</a>, <a class="el" href="llog__test_8c_source.html#l00571">llog_test_4()</a>, <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>, <a class="el" href="llog__test_8c_source.html#l00861">llog_test_6()</a>, <a class="el" href="llog__test_8c_source.html#l00977">llog_test_7_sub()</a>, <a class="el" href="llog__test_8c_source.html#l01215">llog_test_8()</a>, <a class="el" href="llog__test_8c_source.html#l01353">llog_test_9_sub()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00937">lod_sub_prep_llog()</a>, <a class="el" href="mdc__request_8c_source.html#l01874">mdc_changelog_send_thread()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l00809">mdd_hsm_actions_llog_init()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01725">mgs_steal_llog_for_mdt_from_client()</a>, <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>, and <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="gad9a6174ab2a5e0b1262d0b7c851fabb1"></a><!-- doxytag: member="lustre_log.h::llog_initiator_connect" ref="gad9a6174ab2a5e0b1262d0b7c851fabb1" args="(struct llog_ctxt *ctxt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_initiator_connect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__net_8c_source.html#l00053">53</a> of file <a class="el" href="llog__net_8c_source.html">llog_net.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="genops_8c_source.html#l01005">class_import_get()</a>, <a class="el" href="genops_8c_source.html#l01015">class_import_put()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__log_8h_source.html#l00313">llog_ctxt::loc_imp</a>, <a class="el" href="lustre__log_8h_source.html#l00317">llog_ctxt::loc_mutex</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l02609">mdc_llog_init()</a>, and <a class="el" href="mgc__request_8c_source.html#l00804">mgc_llog_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf09a118e062a45bcf3f7b4382b26658c"></a><!-- doxytag: member="lustre_log.h::llog_ioctl" ref="gaf09a118e062a45bcf3f7b4382b26658c" args="(const struct lu_env *env, struct llog_ctxt *ctxt, int cmd, struct obd_ioctl_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_ioctl </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__ioctl__data.html">obd_ioctl_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__ioctl_8c_source.html#l00286">286</a> of file <a class="el" href="llog__ioctl_8c_source.html">llog_ioctl.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="lustre__user_8h_source.html#l00223">DOSTID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00115">obd_ioctl_data::ioc_bulk</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00107">obd_ioctl_data::ioc_inlbuf1</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00109">obd_ioctl_data::ioc_inlbuf2</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00111">obd_ioctl_data::ioc_inlbuf3</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00106">obd_ioctl_data::ioc_inllen1</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00108">obd_ioctl_data::ioc_inllen2</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l03346">llog_cookie::lgc_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03344">llog_cookie::lgc_lgl</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="lustre__log_8h_source.html#l00273">llog_handle::lgh_last_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03065">llog_logid::lgl_ogen</a>, <a class="el" href="lustre__idl_8h_source.html#l03064">llog_logid::lgl_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03309">llog_log_hdr::llh_count</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="llog_8c_source.html#l00197">llog_cancel_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00673">llog_cat_cancel_records()</a>, <a class="el" href="llog__cat_8c_source.html#l00271">llog_cat_close()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00091">llog_check_cb()</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00271">llog_delete_cb()</a>, <a class="el" href="llog_8c_source.html#l00149">llog_destroy()</a>, <a class="el" href="lustre__log_8h_source.html#l00061">LLOG_EEMPTY</a>, <a class="el" href="packet-lustre_8c_source.html#l00356">LLOG_F_IS_CAT</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog__ioctl_8c_source.html#l00178">llog_print_cb()</a>, <a class="el" href="llog_8c_source.html#l00687">llog_process()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00244">llog_remove_log()</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00389">OBD_IOC_LLOG_CANCEL</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00391">OBD_IOC_LLOG_CHECK</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00387">OBD_IOC_LLOG_INFO</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00388">OBD_IOC_LLOG_PRINT</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00390">OBD_IOC_LLOG_REMOVE</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__user_8h_source.html#l00224">POSTID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="llog__ioctl_8c_source.html#l00044">str2logid()</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="ga313d57d22838eb9027b38ee417701af3"></a><!-- doxytag: member="lustre_log.h::llog_is_empty" ref="ga313d57d22838eb9027b38ee417701af3" args="(const struct lu_env *env, struct llog_ctxt *ctxt, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_is_empty </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to get the llog size in records. </p>
<p>It is used by MGS mostly to check that config llog exists and contains data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ctxt</em>&nbsp;</td><td>llog context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>llog name</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>true</em>&nbsp;</td><td>if there are records in llog besides a header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>false</em>&nbsp;</td><td>on error or llog without records </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="llog_8c_source.html#l01150">1150</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00360">llog_get_size()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, and <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01728">mgc_process_cfg_log()</a>, and <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c4343d7efacc22e7fe33fe6597ccf9c"></a><!-- doxytag: member="lustre_log.h::llog_is_full" ref="ga5c4343d7efacc22e7fe33fe6597ccf9c" args="(struct llog_handle *llh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_is_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00506">506</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00273">llog_handle::lgh_last_idx</a>, and <a class="el" href="lustre__idl_8h_source.html#l03333">LLOG_HDR_BITMAP_SIZE</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00425">llog_cat_add_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00327">llog_cat_current_log()</a>, and <a class="el" href="llog__osd_8c_source.html#l00372">llog_osd_write_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="gac77bab9be9fe12770ee08af0906eb647"></a><!-- doxytag: member="lustre_log.h::llog_next_block" ref="gac77bab9be9fe12770ee08af0906eb647" args="(const struct lu_env *env, struct llog_handle *loghandle, int *cur_idx, int next_idx, __u64 *cur_offset, void *buf, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_next_block </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>cur_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>next_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>cur_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00447">447</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="structllog__operations.html#ad0ec4a0a2f4dc80122b545f96bfafe19">llog_operations::lop_next_block</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__server_8c_source.html#l00157">llog_origin_handle_next_block()</a>, and <a class="el" href="llog_8c_source.html#l00419">llog_process_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7f992ede04801280372ff61459941fe5"></a><!-- doxytag: member="lustre_log.h::llog_obd2ops" ref="ga7f992ede04801280372ff61459941fe5" args="(struct llog_ctxt *ctxt, struct llog_operations **lop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_obd2ops </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__operations.html">llog_operations</a> **&nbsp;</td>
          <td class="paramname"> <em>lop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00332">332</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00315">llog_ctxt::loc_logops</a>.</p>

<p>Referenced by <a class="el" href="lustre__log_8h_source.html#l00487">llog_connect()</a>.</p>

</div>
</div>
<a class="anchor" id="gae5358b955b7d709ed7f5416022472539"></a><!-- doxytag: member="lustre_log.h::llog_open" ref="gae5358b955b7d709ed7f5416022472539" args="(const struct lu_env *env, struct llog_ctxt *ctxt, struct llog_handle **lgh, struct llog_logid *logid, char *name, enum llog_open_param open_param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_open </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> **&nbsp;</td>
          <td class="paramname"> <em>lgh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__logid.html">llog_logid</a> *&nbsp;</td>
          <td class="paramname"> <em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__log.html#ga2f1ab12fceef20a1f6a2c3fbf3b28afa">llog_open_param</a>&nbsp;</td>
          <td class="paramname"> <em>open_param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l01083">1083</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="linux-curproc_8c_source.html#l00071">cfs_cap_lower()</a>, <a class="el" href="linux-curproc_8c_source.html#l00062">cfs_cap_raise()</a>, <a class="el" href="linux-curproc_8c_source.html#l00080">cfs_cap_raised()</a>, <a class="el" href="curproc_8h_source.html#l00120">CFS_CAP_SYS_RESOURCE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l00059">llog_alloc_handle()</a>, <a class="el" href="llog_8c_source.html#l00078">llog_free_handle()</a>, <a class="el" href="lustre__log_8h_source.html#l00315">llog_ctxt::loc_logops</a>, <a class="el" href="structllog__operations.html#a139a9f0deac13b8017cc19644232ecfb">llog_operations::lop_open</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="obd__config_8c_source.html#l01673">class_config_parse_llog()</a>, <a class="el" href="llog_8c_source.html#l01187">llog_backup()</a>, <a class="el" href="llog__cat_8c_source.html#l00479">llog_cat_declare_add_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00206">llog_cat_id2handle()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00286">llog_ioctl()</a>, <a class="el" href="llog_8c_source.html#l01150">llog_is_empty()</a>, <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>, <a class="el" href="llog__server_8c_source.html#l00157">llog_origin_handle_next_block()</a>, <a class="el" href="llog__server_8c_source.html#l00059">llog_origin_handle_open()</a>, <a class="el" href="llog__server_8c_source.html#l00218">llog_origin_handle_prev_block()</a>, <a class="el" href="llog__server_8c_source.html#l00278">llog_origin_handle_read_header()</a>, <a class="el" href="llog__test_8c_source.html#l00152">llog_test_2()</a>, <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>, <a class="el" href="llog__test_8c_source.html#l00861">llog_test_6()</a>, <a class="el" href="llog__test_8c_source.html#l01215">llog_test_8()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00937">lod_sub_prep_llog()</a>, <a class="el" href="mdc__request_8c_source.html#l01874">mdc_changelog_send_thread()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01725">mgs_steal_llog_for_mdt_from_client()</a>, <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>, and <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="gae96db4e0338a67db6a75218a14d22b4f"></a><!-- doxytag: member="lustre_log.h::llog_open_create" ref="gae96db4e0338a67db6a75218a14d22b4f" args="(const struct lu_env *env, struct llog_ctxt *ctxt, struct llog_handle **res, struct llog_logid *logid, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_open_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> **&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__logid.html">llog_logid</a> *&nbsp;</td>
          <td class="paramname"> <em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to open llog or create it if doesn't exist. </p>
<p>It hides all transaction handling from caller. </p>

<p>Definition at line <a class="el" href="llog_8c_source.html#l00963">963</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="llog_8c_source.html#l00840">llog_create()</a>, <a class="el" href="lustre__log_8h_source.html#l00306">LLOG_CTXT_FLAG_NORMAL_FID</a>, <a class="el" href="llog_8c_source.html#l00817">llog_declare_create()</a>, <a class="el" href="llog_8c_source.html#l00799">llog_exist()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00065">LLOG_OPEN_NEW</a>, <a class="el" href="lustre__log_8h_source.html#l00319">llog_ctxt::loc_flags</a>, <a class="el" href="dt__object_8h_source.html#l01743">lu2dt_dev()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_sync</a>, and <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_wait_submit</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l01187">llog_backup()</a>, <a class="el" href="llog__test_8c_source.html#l00105">llog_test_1()</a>, <a class="el" href="llog__test_8c_source.html#l01450">llog_test_10()</a>, <a class="el" href="llog__test_8c_source.html#l00152">llog_test_2()</a>, <a class="el" href="llog__test_8c_source.html#l00571">llog_test_4()</a>, <a class="el" href="llog__test_8c_source.html#l00977">llog_test_7_sub()</a>, <a class="el" href="llog__test_8c_source.html#l01353">llog_test_9_sub()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00937">lod_sub_prep_llog()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l00809">mdd_hsm_actions_llog_init()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf0dee2455ecbe5cbeeec044344224613"></a><!-- doxytag: member="lustre_log.h::llog_osd_get_cat_list" ref="gaf0dee2455ecbe5cbeeec044344224613" args="(const struct lu_env *env, struct dt_device *d, int idx, int count, struct llog_catid *idarray, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_osd_get_cat_list </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__catid.html">llog_catid</a> *&nbsp;</td>
          <td class="paramname"> <em>idarray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the special file which contains the list of llog catalogs IDs. </p>
<p>This function reads the CATALOGS file which contains the array of llog catalogs IDs. The main purpose of this file is to store OSP llogs indexed by OST/MDT number.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>d</em>&nbsp;</td><td>corresponding storage device </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>idx</em>&nbsp;</td><td>position to start from, usually OST/MDT index </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td>how many catalog IDs to read </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>idarray</em>&nbsp;</td><td>the buffer for the data. If it is NULL then function returns just number of catalog IDs in the file. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fid</em>&nbsp;</td><td>LLOG_CATALOGS_OID for CATALOG object</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on successful read of catalog IDs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>value on error </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>positive</em>&nbsp;</td><td>value which is number of records in the file if <em>idarray</em> is NULL </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="llog__osd_8c_source.html#l01913">1913</a> of file <a class="el" href="llog__osd_8c_source.html">llog_osd.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00153">D_CONFIG</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l00396">dt_object_format::dof_type</a>, <a class="el" href="dt__object_8h_source.html#l02225">dt_attr_get()</a>, <a class="el" href="dt__object_8h_source.html#l02120">dt_create()</a>, <a class="el" href="dt__object_8h_source.html#l02103">dt_declare_create()</a>, <a class="el" href="dt__object_8h_source.html#l01926">dt_locate()</a>, <a class="el" href="dt__object_8c_source.html#l00192">dt_mode_to_dft()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8c_source.html#l00490">dt_record_read()</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00409">lu_attr::la_size</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="llog__internal_8h_source.html#l00053">llog_thread_info::lgi_attr</a>, <a class="el" href="llog__internal_8h_source.html#l00056">llog_thread_info::lgi_buf</a>, <a class="el" href="llog__internal_8h_source.html#l00055">llog_thread_info::lgi_dof</a>, <a class="el" href="llog__internal_8h_source.html#l00054">llog_thread_info::lgi_fid</a>, <a class="el" href="llog__internal_8h_source.html#l00057">llog_thread_info::lgi_off</a>, <a class="el" href="llog__internal_8h_source.html#l00067">llog_info()</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_sync</a>, and <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_wait_submit</a>.</p>

<p>Referenced by <a class="el" href="llog__ioctl_8c_source.html#l00432">llog_catalog_list()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00937">lod_sub_prep_llog()</a>, and <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4b308f3bee04638c301ba0bead3ad070"></a><!-- doxytag: member="lustre_log.h::llog_osd_put_cat_list" ref="ga4b308f3bee04638c301ba0bead3ad070" args="(const struct lu_env *env, struct dt_device *d, int idx, int count, struct llog_catid *idarray, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_osd_put_cat_list </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__catid.html">llog_catid</a> *&nbsp;</td>
          <td class="paramname"> <em>idarray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write the special file which contains the list of llog catalogs IDs. </p>
<p>This function writes the CATALOG file which contains the array of llog catalogs IDs. It is used mostly to store OSP llogs indexed by OST/MDT number.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>d</em>&nbsp;</td><td>corresponding storage device </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>idx</em>&nbsp;</td><td>position to start from, usually OST/MDT index </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td>how many catalog IDs to write </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>idarray</em>&nbsp;</td><td>the buffer with the data to write. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fid</em>&nbsp;</td><td>LLOG_CATALOGS_OID for CATALOG object</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on successful write of catalog IDs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>value on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="llog__osd_8c_source.html#l02031">2031</a> of file <a class="el" href="llog__osd_8c_source.html">llog_osd.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02225">dt_attr_get()</a>, <a class="el" href="dt__object_8h_source.html#l02087">dt_declare_record_write()</a>, <a class="el" href="dt__object_8h_source.html#l01926">dt_locate()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8c_source.html#l00504">dt_record_write()</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="lustre__idl_8h_source.html#l00492">fid_is_update_log()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="llog__internal_8h_source.html#l00053">llog_thread_info::lgi_attr</a>, <a class="el" href="llog__internal_8h_source.html#l00056">llog_thread_info::lgi_buf</a>, <a class="el" href="llog__internal_8h_source.html#l00054">llog_thread_info::lgi_fid</a>, <a class="el" href="llog__internal_8h_source.html#l00057">llog_thread_info::lgi_off</a>, <a class="el" href="llog__internal_8h_source.html#l00067">llog_info()</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_sync</a>, and <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_wait_submit</a>.</p>

<p>Referenced by <a class="el" href="lod__sub__object_8c_source.html#l00937">lod_sub_prep_llog()</a>, and <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6361c837408fbf640b0f017a5adb9afd"></a><!-- doxytag: member="lustre_log.h::llog_prev_block" ref="ga6361c837408fbf640b0f017a5adb9afd" args="(const struct lu_env *env, struct llog_handle *loghandle, int prev_idx, void *buf, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_prev_block </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>prev_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__log_8h_source.html#l00468">468</a> of file <a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="structllog__operations.html#a2c18ae2dbd35efba4c2ea1189d9b42bf">llog_operations::lop_prev_block</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__server_8c_source.html#l00218">llog_origin_handle_prev_block()</a>, and <a class="el" href="llog_8c_source.html#l00696">llog_reverse_process()</a>.</p>

</div>
</div>
<a class="anchor" id="ga80616f32350d097166d698292330b6b2"></a><!-- doxytag: member="lustre_log.h::llog_process" ref="ga80616f32350d097166d698292330b6b2" args="(const struct lu_env *env, struct llog_handle *loghandle, llog_cb_t cb, void *data, void *catdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_process </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>catdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00687">687</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00330">LLOG_DEL_PLAIN</a>, and <a class="el" href="llog_8c_source.html#l00640">llog_process_or_fork()</a>.</p>

<p>Referenced by <a class="el" href="obd__config_8c_source.html#l01673">class_config_parse_llog()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00091">llog_check_cb()</a>, <a class="el" href="llog__ioctl_8c_source.html#l00286">llog_ioctl()</a>, <a class="el" href="llog__test_8c_source.html#l00372">llog_test3_process()</a>, <a class="el" href="llog__test_8c_source.html#l01450">llog_test_10()</a>, <a class="el" href="llog__test_8c_source.html#l00152">llog_test_2()</a>, <a class="el" href="llog__test_8c_source.html#l00752">llog_test_5()</a>, <a class="el" href="llog__test_8c_source.html#l00861">llog_test_6()</a>, <a class="el" href="llog__test_8c_source.html#l00977">llog_test_7_sub()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, and <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf0d3652ea7d74d6ac5ee335584a33d72"></a><!-- doxytag: member="lustre_log.h::llog_process_or_fork" ref="gaf0d3652ea7d74d6ac5ee335584a33d72" args="(const struct lu_env *env, struct llog_handle *loghandle, llog_cb_t cb, void *data, void *catdata, bool fork)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_process_or_fork </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>catdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>fork</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00640">640</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l01187">llog_backup()</a>, <a class="el" href="llog__cat_8c_source.html#l00718">llog_cat_process_cb()</a>, <a class="el" href="llog__cat_8c_source.html#l00796">llog_cat_process_or_fork()</a>, <a class="el" href="llog_8c_source.html#l00687">llog_process()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01725">mgs_steal_llog_for_mdt_from_client()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3dff118eacffed836e2f50775e042350"></a><!-- doxytag: member="lustre_log.h::llog_read_header" ref="ga3dff118eacffed836e2f50775e042350" args="(const struct lu_env *env, struct llog_handle *handle, const struct obd_uuid *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_read_header </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00299">299</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__compat_8h_source.html#l00269">ext2_set_bit</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00273">llog_handle::lgh_last_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00277">llog_handle::lgh_write_offset</a>, <a class="el" href="lustre__idl_8h_source.html#l03327">llog_log_hdr::llh_bitmap</a>, <a class="el" href="lustre__idl_8h_source.html#l03310">llog_log_hdr::llh_bitmap_offset</a>, <a class="el" href="lustre__idl_8h_source.html#l03309">llog_log_hdr::llh_count</a>, <a class="el" href="lustre__idl_8h_source.html#l03307">llog_log_hdr::llh_hdr</a>, <a class="el" href="lustre__idl_8h_source.html#l03328">llog_log_hdr::llh_tail</a>, <a class="el" href="lustre__idl_8h_source.html#l03317">llog_log_hdr::llh_tgtuuid</a>, <a class="el" href="lustre__idl_8h_source.html#l03308">llog_log_hdr::llh_timestamp</a>, <a class="el" href="lustre__log_8h_source.html#l00061">LLOG_EEMPTY</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="lustre__idl_8h_source.html#l03336">LLOG_HDR_BITMAP</a>, <a class="el" href="packet-lustre_8c_source.html#l00349">LLOG_HDR_MAGIC</a>, <a class="el" href="lustre__idl_8h_source.html#l03338">LLOG_HDR_TAIL</a>, <a class="el" href="lustre__idl_8h_source.html#l03300">LLOG_MIN_CHUNK_SIZE</a>, <a class="el" href="lustre__log_8h_source.html#l00325">llog_ctxt::loc_chunk_size</a>, <a class="el" href="structllog__operations.html#aa56eaf539028c053fba807755f2e52c6">llog_operations::lop_read_header</a>, <a class="el" href="lustre__idl_8h_source.html#l03115">llog_rec_hdr::lrh_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00386">llog_cat_update_header()</a>, and <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>.</p>

</div>
</div>
<a class="anchor" id="ga97008e41a5f1114f3b26e8718c8e73de"></a><!-- doxytag: member="lustre_log.h::llog_reverse_process" ref="ga97008e41a5f1114f3b26e8718c8e73de" args="(const struct lu_env *env, struct llog_handle *loghandle, llog_cb_t cb, void *data, void *catdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_reverse_process </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obd__class_8h.html#a6753dc16f88d31c1a4fdd28a48dc1cf9">llog_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>catdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00696">696</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="it__test_8c_source.html#l00081">cb()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__compat_8h_source.html#l00271">ext2_test_bit</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__idl_8h_source.html#l03307">llog_log_hdr::llh_hdr</a>, <a class="el" href="llog_8c_source.html#l00197">llog_cancel_rec()</a>, <a class="el" href="lustre__log_8h_source.html#l00329">LLOG_DEL_RECORD</a>, <a class="el" href="lustre__idl_8h_source.html#l03336">LLOG_HDR_BITMAP</a>, <a class="el" href="lustre__idl_8h_source.html#l03333">LLOG_HDR_BITMAP_SIZE</a>, <a class="el" href="lustre__log_8h_source.html#l00468">llog_prev_block()</a>, <a class="el" href="lustre__log_8h_source.html#l00328">LLOG_PROC_BREAK</a>, <a class="el" href="lustre__idl_8h_source.html#l03106">LLOG_REC_HDR_NEEDS_SWABBING</a>, <a class="el" href="lustre__log_8h_source.html#l00137">llog_process_cat_data::lpcd_first_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00141">llog_process_cat_data::lpcd_last_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03115">llog_rec_hdr::lrh_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03122">llog_rec_tail::lrt_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03121">llog_rec_tail::lrt_len</a>, <a class="el" href="llog__swab_8c_source.html#l00146">lustre_swab_llog_rec()</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00958">llog_cat_reverse_process()</a>, <a class="el" href="llog__cat_8c_source.html#l00897">llog_cat_reverse_process_cb()</a>, <a class="el" href="llog__test_8c_source.html#l00861">llog_test_6()</a>, and <a class="el" href="llog__test_8c_source.html#l00977">llog_test_7_sub()</a>.</p>

</div>
</div>
<a class="anchor" id="gaadc4cac8bd450c264283656f9ef4fc78"></a><!-- doxytag: member="lustre_log.h::llog_setup" ref="gaadc4cac8bd450c264283656f9ef4fc78" args="(const struct lu_env *env, struct obd_device *obd, struct obd_llog_group *olg, int index, struct obd_device *disk_obd, struct llog_operations *op)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__llog__group.html">obd_llog_group</a> *&nbsp;</td>
          <td class="paramname"> <em>olg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>disk_obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__operations.html">llog_operations</a> *&nbsp;</td>
          <td class="paramname"> <em>op</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__obd_8c_source.html#l00146">146</a> of file <a class="el" href="llog__obd_8c_source.html">llog_obd.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="genops_8c_source.html#l00803">class_export_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00153">D_CONFIG</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog__obd_8c_source.html#l00059">llog_ctxt_destroy()</a>, <a class="el" href="lustre__log_8h_source.html#l00301">LLOG_CTXT_FLAG_UNINITIALIZED</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00423">llog_group_clear_ctxt()</a>, <a class="el" href="lustre__log_8h_source.html#l00407">llog_group_get_ctxt()</a>, <a class="el" href="lustre__log_8h_source.html#l00392">llog_group_set_ctxt()</a>, <a class="el" href="lustre__idl_8h_source.html#l03059">LLOG_MAX_CTXTS</a>, <a class="el" href="lustre__idl_8h_source.html#l03300">LLOG_MIN_CHUNK_SIZE</a>, <a class="el" href="llog__obd_8c_source.html#l00045">llog_new_ctxt()</a>, <a class="el" href="lustre__log_8h_source.html#l00325">llog_ctxt::loc_chunk_size</a>, <a class="el" href="lustre__log_8h_source.html#l00312">llog_ctxt::loc_exp</a>, <a class="el" href="lustre__log_8h_source.html#l00319">llog_ctxt::loc_flags</a>, <a class="el" href="lustre__log_8h_source.html#l00309">llog_ctxt::loc_idx</a>, <a class="el" href="lustre__log_8h_source.html#l00315">llog_ctxt::loc_logops</a>, <a class="el" href="lustre__log_8h_source.html#l00317">llog_ctxt::loc_mutex</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="lustre__log_8h_source.html#l00311">llog_ctxt::loc_olg</a>, <a class="el" href="structllog__operations.html#aa60c77a514c92bec4f788b6e624697a1">llog_operations::lop_setup</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00423">OBD_FAIL_OBD_LLOG_SETUP</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00655">obd_device::obd_self_export</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog__test_8c_source.html#l02045">llog_test_setup()</a>, <a class="el" href="lod__dev_8c_source.html#l00840">lod_process_config()</a>, <a class="el" href="lod__dev_8c_source.html#l00578">lod_sub_init_llog()</a>, <a class="el" href="mdc__request_8c_source.html#l02609">mdc_llog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l00809">mdd_hsm_actions_llog_init()</a>, <a class="el" href="mgc__request_8c_source.html#l00804">mgc_llog_init()</a>, <a class="el" href="mgc__request_8c_source.html#l00679">mgc_local_llog_init()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, and <a class="el" href="osp__sync_8c_source.html#l01244">osp_sync_llog_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gaae74cc5ecdf5ceda1159ad495cef0113"></a><!-- doxytag: member="lustre_log.h::llog_size" ref="gaae74cc5ecdf5ceda1159ad495cef0113" args="(const struct lu_env *env, struct llog_handle *llh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> llog_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l01252">1252</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="structdt__object__operations.html#a1d2ff17287fa229d0325cccf0aac5beb">dt_object_operations::do_attr_get</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="lu__object_8h_source.html#l00409">lu_attr::la_size</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, and <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>.</p>

<p>Referenced by <a class="el" href="llog__cat_8c_source.html#l00886">llog_cat_size()</a>, and <a class="el" href="llog__cat_8c_source.html#l00846">llog_cat_size_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="ga470133f89aab4b9f9047b2ab53d17de0"></a><!-- doxytag: member="lustre_log.h::llog_sync" ref="ga470133f89aab4b9f9047b2ab53d17de0" args="(struct llog_ctxt *ctxt, struct obd_export *exp, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__ctxt.html">llog_ctxt</a> *&nbsp;</td>
          <td class="paramname"> <em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__obd_8c_source.html#l00222">222</a> of file <a class="el" href="llog__obd_8c_source.html">llog_obd.c</a>.</p>

<p>References <a class="el" href="obd__class_8h_source.html#l00351">CTXTP</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="gadac4383f18bef43704ff9b2403398263"></a><!-- doxytag: member="lustre_log.h::llog_trans_destroy" ref="gadac4383f18bef43704ff9b2403398263" args="(const struct lu_env *env, struct llog_handle *handle, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_trans_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00127">127</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="structllog__operations.html#a12902ffa891d835b9dc331d13f58316a">llog_operations::lop_destroy</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l00197">llog_cancel_rec()</a>, and <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>.</p>

</div>
</div>
<a class="anchor" id="gad1dd01ae4a118379d446d5afcbb261fa"></a><!-- doxytag: member="lustre_log.h::llog_write" ref="gad1dd01ae4a118379d446d5afcbb261fa" args="(const struct lu_env *env, struct llog_handle *loghandle, struct llog_rec_hdr *rec, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_write </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l01046">1046</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00263">llog_handle::lgh_lock</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="llog_8c_source.html#l00863">llog_declare_write_rec()</a>, <a class="el" href="llog_8c_source.html#l00889">llog_write_rec()</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="dt__object_8h_source.html#l01743">lu2dt_dev()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_wait_submit</a>.</p>

<p>Referenced by <a class="el" href="mdt__coordinator_8c_source.html#l00654">hsm_restore_cb()</a>, <a class="el" href="llog_8c_source.html#l01177">llog_copy_handler()</a>, <a class="el" href="llog__test_8c_source.html#l00152">llog_test_2()</a>, <a class="el" href="llog__test_8c_source.html#l00395">llog_test_3()</a>, <a class="el" href="llog__test_8c_source.html#l00977">llog_test_7_sub()</a>, <a class="el" href="llog__test_8c_source.html#l01353">llog_test_9_sub()</a>, <a class="el" href="mdd__device_8c_source.html#l01332">mdd_changelog_user_purge_cb()</a>, <a class="el" href="mdt__hsm__cdt__actions_8c_source.html#l00200">mdt_agent_record_update_cb()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01519">mdt_cancel_all_cb()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00158">mdt_coordinator_cb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00608">mgs_modify_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l00929">mgs_replace_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l01419">mgs_write_log_direct()</a>, <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>, <a class="el" href="mgs__llog_8c_source.html#l01290">record_lmv_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01272">record_lov_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="sec__config_8c_source.html#l00956">sptlrpc_record_rule_set()</a>, and <a class="el" href="llog__test_8c_source.html#l00288">test3_check_n_add_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="ga38790001c86a4ad331c76a6e8698b6e9"></a><!-- doxytag: member="lustre_log.h::llog_write_rec" ref="ga38790001c86a4ad331c76a6e8698b6e9" args="(const struct lu_env *env, struct llog_handle *handle, struct llog_rec_hdr *rec, struct llog_cookie *logcookies, int idx, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_write_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__cookie.html">llog_cookie</a> *&nbsp;</td>
          <td class="paramname"> <em>logcookies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog_8c_source.html#l00889">889</a> of file <a class="el" href="llog_8c_source.html">llog.c</a>.</p>

<p>References <a class="el" href="linux-curproc_8c_source.html#l00071">cfs_cap_lower()</a>, <a class="el" href="linux-curproc_8c_source.html#l00062">cfs_cap_raise()</a>, <a class="el" href="linux-curproc_8c_source.html#l00080">cfs_cap_raised()</a>, <a class="el" href="curproc_8h_source.html#l00120">CFS_CAP_SYS_RESOURCE</a>, <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__log_8h_source.html#l00345">llog_handle2ops()</a>, <a class="el" href="structllog__operations.html#a164ddd70a80c75651e932792c774a325">llog_operations::lop_write_rec</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llog_8c_source.html#l00197">llog_cancel_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00425">llog_cat_add_rec()</a>, <a class="el" href="llog__cat_8c_source.html#l00061">llog_cat_new_log()</a>, and <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>.</p>

</div>
</div>
<a class="anchor" id="gadac76f066c96cf4ae43ccbce06593e21"></a><!-- doxytag: member="lustre_log.h::lustre_cfg_rec_free" ref="gadac76f066c96cf4ae43ccbce06593e21" args="(struct llog_cfg_rec *lcr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_cfg_rec_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__cfg__rec.html">llog_cfg_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>lcr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="obd__config_8c_source.html#l01438">1438</a> of file <a class="el" href="obd__config_8c_source.html">obd_config.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__log_8h_source.html#l00512">llog_cfg_rec::lcr_hdr</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, and <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l02709">mgs_wlp_lcfg()</a>, <a class="el" href="mgs__llog_8c_source.html#l02846">mgs_write_log_quota()</a>, <a class="el" href="mgs__llog_8c_source.html#l02775">mgs_write_log_sys()</a>, <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>, <a class="el" href="mgs__llog_8c_source.html#l01290">record_lmv_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01272">record_lov_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, and <a class="el" href="sec__config_8c_source.html#l00956">sptlrpc_record_rule_set()</a>.</p>

</div>
</div>
<a class="anchor" id="gac148d3e66927a5ca148207c69ba4b8a5"></a><!-- doxytag: member="lustre_log.h::lustre_cfg_rec_new" ref="gac148d3e66927a5ca148207c69ba4b8a5" args="(int cmd, struct lustre_cfg_bufs *bufs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structllog__cfg__rec.html">llog_cfg_rec</a>* lustre_cfg_rec_new </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg__bufs.html">lustre_cfg_bufs</a> *&nbsp;</td>
          <td class="paramname"> <em>bufs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="obd__config_8c_source.html#l01414">1414</a> of file <a class="el" href="obd__config_8c_source.html">obd_config.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__cfg_8h_source.html#l00125">lustre_cfg_bufs::lcfg_bufcount</a>, <a class="el" href="lustre__cfg_8h_source.html#l00124">lustre_cfg_bufs::lcfg_buflen</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="lustre__log_8h_source.html#l00513">llog_cfg_rec::lcr_cfg</a>, <a class="el" href="lustre__log_8h_source.html#l00512">llog_cfg_rec::lcr_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00355">llog_data_len()</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="lustre__cfg_8h_source.html#l00256">lustre_cfg_init()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00243">lustre_cfg_len()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="packet-lustre_8c_source.html#l00345">OBD_CFG_REC</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l02709">mgs_wlp_lcfg()</a>, <a class="el" href="mgs__llog_8c_source.html#l02846">mgs_write_log_quota()</a>, <a class="el" href="mgs__llog_8c_source.html#l02775">mgs_write_log_sys()</a>, <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>, <a class="el" href="mgs__llog_8c_source.html#l01290">record_lmv_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01272">record_lov_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, and <a class="el" href="sec__config_8c_source.html#l00956">sptlrpc_record_rule_set()</a>.</p>

</div>
</div>
<a class="anchor" id="gae876fd8eccc7582b545d5e187e5b3e92"></a><!-- doxytag: member="lustre_log.h::lustre_end_log" ref="gae876fd8eccc7582b545d5e187e5b3e92" args="(struct super_block *sb, char *logname, struct config_llog_instance *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_end_log </td>
          <td>(</td>
          <td class="paramtype">struct super_block *&nbsp;</td>
          <td class="paramname"> <em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structconfig__llog__instance.html">config_llog_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="obd__mount_8c_source.html#l00126">126</a> of file <a class="el" href="obd__mount_8c_source.html">obd_mount.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__cfg_8h_source.html#l00089">LCFG_LOG_END</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00151">lustre_cfg_bufs_set()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00290">lustre_cfg_free()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00273">lustre_cfg_new()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd__class_8h_source.html#l00669">obd_process_config()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l01099">ll_put_super()</a>, <a class="el" href="obd__mount__server_8c_source.html#l00890">lustre_disconnect_lwp()</a>, and <a class="el" href="obd__mount__server_8c_source.html#l01497">server_put_super()</a>.</p>

</div>
</div>
<a class="anchor" id="gab379f30f30f88aebf9be8c61b7f55152"></a><!-- doxytag: member="lustre_log.h::lustre_process_log" ref="gab379f30f30f88aebf9be8c61b7f55152" args="(struct super_block *sb, char *logname, struct config_llog_instance *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_process_log </td>
          <td>(</td>
          <td class="paramtype">struct super_block *&nbsp;</td>
          <td class="paramname"> <em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structconfig__llog__instance.html">config_llog_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a config log from the MGS and process it. </p>
<p>This func is called for both clients and servers. Continue to process new statements appended to the logs (whenever the config lock is revoked) until lustre_end_log is called. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sb</em>&nbsp;</td><td>The superblock is used by the MGC to write to the local copy of the config log </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>logname</em>&nbsp;</td><td>The name of the llog to replicate from the MGS </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>Since the same mgc may be used to follow multiple config logs (e.g. ost1, ost2, client), the <a class="el" href="structconfig__llog__instance.html">config_llog_instance</a> keeps the state for this log, and is added to the mgc's list of logs to follow. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="obd__mount_8c_source.html#l00075">75</a> of file <a class="el" href="obd__mount_8c_source.html">obd_mount.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00088">LCFG_LOG_START</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00151">lustre_cfg_bufs_set()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00290">lustre_cfg_free()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00273">lustre_cfg_new()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd__class_8h_source.html#l00669">obd_process_config()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l00992">ll_fill_super()</a>, <a class="el" href="obd__mount__server_8c_source.html#l01000">lustre_start_lwp()</a>, and <a class="el" href="obd__mount__server_8c_source.html#l01275">server_start_targets()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gaf91e7b25f0a5c9ca6385440f60b7b375"></a><!-- doxytag: member="lustre_log.h::llog_common_cat_ops" ref="gaf91e7b25f0a5c9ca6385440f60b7b375" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structllog__operations.html">llog_operations</a> <a class="el" href="group__log.html#gaf91e7b25f0a5c9ca6385440f60b7b375">llog_common_cat_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__osd_8c_source.html#l01872">1872</a> of file <a class="el" href="llog__osd_8c_source.html">llog_osd.c</a>.</p>

<p>Referenced by <a class="el" href="lod__dev_8c_source.html#l00840">lod_process_config()</a>, and <a class="el" href="lod__dev_8c_source.html#l00578">lod_sub_init_llog()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9fe78077b320f0957c7c7c3e8052aaaa"></a><!-- doxytag: member="lustre_log.h::llog_osd_ops" ref="ga9fe78077b320f0957c7c7c3e8052aaaa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structllog__operations.html">llog_operations</a> <a class="el" href="group__log.html#ga9fe78077b320f0957c7c7c3e8052aaaa">llog_osd_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__osd_8c_source.html#l01854">1854</a> of file <a class="el" href="llog__osd_8c_source.html">llog_osd.c</a>.</p>

<p>Referenced by <a class="el" href="llog__test_8c_source.html#l02045">llog_test_setup()</a>, <a class="el" href="mdd__device_8c_source.html#l01600">mdd_init()</a>, <a class="el" href="mgc__request_8c_source.html#l00679">mgc_local_llog_init()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, and <a class="el" href="osp__dev_8c_source.html#l01914">osp_init()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:52 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
