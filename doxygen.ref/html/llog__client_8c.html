<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/ptlrpc/llog_client.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/ptlrpc/llog_client.c File Reference</h1><code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="list_8h_source.html">libcfs/list.h</a>&gt;</code><br/>

<p><a href="llog__client_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog__client_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LOG</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog__client_8c.html#a68b143b81594c1280e3225c253c8b8cf">LLOG_CLIENT_ENTRY</a>(ctxt, imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog__client_8c.html#ac7021ca1114a88a152d224d43f67cd92">LLOG_CLIENT_EXIT</a>(ctxt, imp)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog__client_8c.html#a80ccf2c5c563ccbbaf1e0cafdccfbbe5">llog_client_open</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *lgh, struct <a class="el" href="structllog__logid.html">llog_logid</a> *logid, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, enum <a class="el" href="group__log.html#ga2f1ab12fceef20a1f6a2c3fbf3b28afa">llog_open_param</a> open_param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog__client_8c.html#aa848c3731d8ff001095dfe344a933354">llog_client_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog__client_8c.html#a7c512805b558d6ddfaaafdc14ada50a3">llog_client_next_block</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, int *cur_idx, int next_idx, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *cur_offset, void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog__client_8c.html#a1a083eb37978828b69ed2afb96559e01">llog_client_prev_block</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *loghandle, int prev_idx, void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog__client_8c.html#ab8cacb02ee3f1448b0ad9362f4f061bc">llog_client_read_header</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="llog__client_8c.html#a369d6ef560d39cfcddee66dbdc7d88b2">llog_client_close</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *handle)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structllog__operations.html">llog_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1ec29710aa0674b084aad4f32e96d428">llog_client_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="llog_client.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LOG</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00043">43</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

</div>
</div>
<a class="anchor" id="a68b143b81594c1280e3225c253c8b8cf"></a><!-- doxytag: member="llog_client.c::LLOG_CLIENT_ENTRY" ref="a68b143b81594c1280e3225c253c8b8cf" args="(ctxt, imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_CLIENT_ENTRY</td>
          <td>(</td>
          <td class="paramtype">ctxt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">imp&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                             \
        mutex_lock(&amp;ctxt-&gt;loc_mutex);                             \
        <span class="keywordflow">if</span> (ctxt-&gt;loc_imp) {                                          \
                imp = <a class="code" href="obd__class_8h.html#af44878854b4db646a0fb5f5209fe1e79">class_import_get</a>(ctxt-&gt;loc_imp);                \
        } <span class="keywordflow">else</span> {                                                      \
                <a class="code" href="libcfs__debug_8h.html#ad06acc43c8c74fb94f76adde491a72ac">CERROR</a>(<span class="stringliteral">&quot;ctxt-&gt;loc_imp == NULL for context idx %d.&quot;</span>    \
                       <span class="stringliteral">&quot;Unable to complete MDS/OSS recovery,&quot;</span>         \
                       <span class="stringliteral">&quot;but I&apos;ll try again next time.  Not fatal.\n&quot;</span>, \
                       ctxt-&gt;loc_idx);                                \
                imp = NULL;                                           \
                mutex_unlock(&amp;ctxt-&gt;loc_mutex);                   \
                <span class="keywordflow">return</span> (-EINVAL);                                     \
        }                                                             \
        mutex_unlock(&amp;ctxt-&gt;loc_mutex);                           \
} <span class="keywordflow">while</span>(0)
</pre></div>
<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00052">52</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

<p>Referenced by <a class="el" href="llog__client_8c_source.html#l00143">llog_client_destroy()</a>, <a class="el" href="llog__client_8c_source.html#l00178">llog_client_next_block()</a>, <a class="el" href="llog__client_8c_source.html#l00079">llog_client_open()</a>, <a class="el" href="llog__client_8c_source.html#l00233">llog_client_prev_block()</a>, and <a class="el" href="llog__client_8c_source.html#l00282">llog_client_read_header()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7021ca1114a88a152d224d43f67cd92"></a><!-- doxytag: member="llog_client.c::LLOG_CLIENT_EXIT" ref="ac7021ca1114a88a152d224d43f67cd92" args="(ctxt, imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLOG_CLIENT_EXIT</td>
          <td>(</td>
          <td class="paramtype">ctxt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">imp&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                              \
        mutex_lock(&amp;ctxt-&gt;loc_mutex);                             \
        <span class="keywordflow">if</span> (ctxt-&gt;loc_imp != imp)                                     \
                <a class="code" href="libcfs__debug_8h.html#af03883cada59830b0488595cf5d571a0">CWARN</a>(<span class="stringliteral">&quot;loc_imp has changed from %p to %p\n&quot;</span>,          \
                       ctxt-&gt;loc_imp, imp);                           \
        <a class="code" href="obd__class_8h.html#af5fd852a4b92027046be65047f82f424">class_import_put</a>(imp);                                        \
        mutex_unlock(&amp;ctxt-&gt;loc_mutex);                           \
} <span class="keywordflow">while</span>(0)
</pre></div>
<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00068">68</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

<p>Referenced by <a class="el" href="llog__client_8c_source.html#l00143">llog_client_destroy()</a>, <a class="el" href="llog__client_8c_source.html#l00178">llog_client_next_block()</a>, <a class="el" href="llog__client_8c_source.html#l00079">llog_client_open()</a>, <a class="el" href="llog__client_8c_source.html#l00233">llog_client_prev_block()</a>, and <a class="el" href="llog__client_8c_source.html#l00282">llog_client_read_header()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a369d6ef560d39cfcddee66dbdc7d88b2"></a><!-- doxytag: member="llog_client.c::llog_client_close" ref="a369d6ef560d39cfcddee66dbdc7d88b2" args="(const struct lu_env *env, struct llog_handle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_client_close </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00346">346</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa848c3731d8ff001095dfe344a933354"></a><!-- doxytag: member="llog_client.c::llog_client_destroy" ref="aa848c3731d8ff001095dfe344a933354" args="(const struct lu_env *env, struct llog_handle *loghandle, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_client_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00143">143</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__idl_8h_source.html#l03368">llogd_body::lgd_llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="llog__client_8c_source.html#l00052">LLOG_CLIENT_ENTRY</a>, <a class="el" href="llog__client_8c_source.html#l00068">LLOG_CLIENT_EXIT</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="packet-lustre_8c_source.html#l00330">LLOG_ORIGIN_HANDLE_DESTROY</a>, <a class="el" href="packet-lustre_8c_source.html#l00080">LUSTRE_LOG_VERSION</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01577">RQF_LLOG_ORIGIN_HANDLE_DESTROY</a>.</p>

</div>
</div>
<a class="anchor" id="a7c512805b558d6ddfaaafdc14ada50a3"></a><!-- doxytag: member="llog_client.c::llog_client_next_block" ref="a7c512805b558d6ddfaaafdc14ada50a3" args="(const struct lu_env *env, struct llog_handle *loghandle, int *cur_idx, int next_idx, __u64 *cur_offset, void *buf, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_client_next_block </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>cur_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>next_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>cur_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00178">178</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l03367">llogd_body::lgd_ctxt_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03372">llogd_body::lgd_cur_offset</a>, <a class="el" href="lustre__idl_8h_source.html#l03369">llogd_body::lgd_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03371">llogd_body::lgd_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03368">llogd_body::lgd_llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__idl_8h_source.html#l03370">llogd_body::lgd_saved_index</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="llog__client_8c_source.html#l00052">LLOG_CLIENT_ENTRY</a>, <a class="el" href="llog__client_8c_source.html#l00068">LLOG_CLIENT_EXIT</a>, <a class="el" href="packet-lustre_8c_source.html#l00323">LLOG_ORIGIN_HANDLE_NEXT_BLOCK</a>, <a class="el" href="lustre__log_8h_source.html#l00309">llog_ctxt::loc_idx</a>, <a class="el" href="packet-lustre_8c_source.html#l00080">LUSTRE_LOG_VERSION</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01582">RQF_LLOG_ORIGIN_HANDLE_NEXT_BLOCK</a>.</p>

</div>
</div>
<a class="anchor" id="a80ccf2c5c563ccbbaf1e0cafdccfbbe5"></a><!-- doxytag: member="llog_client.c::llog_client_open" ref="a80ccf2c5c563ccbbaf1e0cafdccfbbe5" args="(const struct lu_env *env, struct llog_handle *lgh, struct llog_logid *logid, char *name, enum llog_open_param open_param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_client_open </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lgh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__logid.html">llog_logid</a> *&nbsp;</td>
          <td class="paramname"> <em>logid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__log.html#ga2f1ab12fceef20a1f6a2c3fbf3b28afa">llog_open_param</a>&nbsp;</td>
          <td class="paramname"> <em>open_param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00079">79</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__idl_8h_source.html#l03367">llogd_body::lgd_ctxt_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="llog__client_8c_source.html#l00052">LLOG_CLIENT_ENTRY</a>, <a class="el" href="llog__client_8c_source.html#l00068">LLOG_CLIENT_EXIT</a>, <a class="el" href="lustre__log_8h_source.html#l00065">LLOG_OPEN_NEW</a>, <a class="el" href="packet-lustre_8c_source.html#l00322">LLOG_ORIGIN_HANDLE_CREATE</a>, <a class="el" href="lustre__log_8h_source.html#l00309">llog_ctxt::loc_idx</a>, <a class="el" href="packet-lustre_8c_source.html#l00080">LUSTRE_LOG_VERSION</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02145">req_capsule_client_sized_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="layout_8c_source.html#l00978">RMF_NAME</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01572">RQF_LLOG_ORIGIN_HANDLE_CREATE</a>.</p>

</div>
</div>
<a class="anchor" id="a1a083eb37978828b69ed2afb96559e01"></a><!-- doxytag: member="llog_client.c::llog_client_prev_block" ref="a1a083eb37978828b69ed2afb96559e01" args="(const struct lu_env *env, struct llog_handle *loghandle, int prev_idx, void *buf, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_client_prev_block </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>loghandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>prev_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00233">233</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l03367">llogd_body::lgd_ctxt_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03369">llogd_body::lgd_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03371">llogd_body::lgd_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03368">llogd_body::lgd_llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="llog__client_8c_source.html#l00052">LLOG_CLIENT_ENTRY</a>, <a class="el" href="llog__client_8c_source.html#l00068">LLOG_CLIENT_EXIT</a>, <a class="el" href="packet-lustre_8c_source.html#l00329">LLOG_ORIGIN_HANDLE_PREV_BLOCK</a>, <a class="el" href="lustre__log_8h_source.html#l00309">llog_ctxt::loc_idx</a>, <a class="el" href="packet-lustre_8c_source.html#l00080">LUSTRE_LOG_VERSION</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01587">RQF_LLOG_ORIGIN_HANDLE_PREV_BLOCK</a>.</p>

</div>
</div>
<a class="anchor" id="ab8cacb02ee3f1448b0ad9362f4f061bc"></a><!-- doxytag: member="llog_client.c::llog_client_read_header" ref="ab8cacb02ee3f1448b0ad9362f4f061bc" args="(const struct lu_env *env, struct llog_handle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int llog_client_read_header </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00282">282</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l03367">llogd_body::lgd_ctxt_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03368">llogd_body::lgd_llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__log_8h_source.html#l00278">llog_handle::lgh_ctxt</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00267">llog_handle::lgh_hdr_size</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="lustre__log_8h_source.html#l00273">llog_handle::lgh_last_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03307">llog_log_hdr::llh_hdr</a>, <a class="el" href="llog__client_8c_source.html#l00052">LLOG_CLIENT_ENTRY</a>, <a class="el" href="llog__client_8c_source.html#l00068">LLOG_CLIENT_EXIT</a>, <a class="el" href="packet-lustre_8c_source.html#l00349">LLOG_HDR_MAGIC</a>, <a class="el" href="lustre__idl_8h_source.html#l03338">LLOG_HDR_TAIL</a>, <a class="el" href="lustre__idl_8h_source.html#l03300">LLOG_MIN_CHUNK_SIZE</a>, <a class="el" href="packet-lustre_8c_source.html#l00324">LLOG_ORIGIN_HANDLE_READ_HEADER</a>, <a class="el" href="lustre__log_8h_source.html#l00309">llog_ctxt::loc_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="packet-lustre_8c_source.html#l00080">LUSTRE_LOG_VERSION</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01005">RMF_LLOG_LOG_HDR</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01592">RQF_LLOG_ORIGIN_HANDLE_READ_HEADER</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
