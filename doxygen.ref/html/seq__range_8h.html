<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/include/seq_range.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/include/seq_range.h File Reference</h1><code>#include &lt;<a class="el" href="lustre__idl_8h_source.html">lustre/lustre_idl.h</a>&gt;</code><br/>

<p><a href="seq__range_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#aed7fb83d9accd6c38bf1a17dc21a2848">DRANGE</a>&nbsp;&nbsp;&nbsp;&quot;[%#16.16llx-%#16.16llx]:%x:%s&quot;</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">printf string and argument list for sequence range  <a href="#aed7fb83d9accd6c38bf1a17dc21a2848"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#a796257ad9d67db36b01e76e3d8e4d044">PRANGE</a>(range)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#a2c2be8138a17c3f94a75d7beac74374f">fld_range_type</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">computes the sequence range type <em>range</em>  <a href="#a2c2be8138a17c3f94a75d7beac74374f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#aac1ec72c6463983d260554b0102ede63">fld_range_is_ost</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is this sequence range an OST? <em>range</em>.  <a href="#aac1ec72c6463983d260554b0102ede63"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#aa4909e3455c10bf25ee73ea07b1d9c12">fld_range_is_mdt</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is this sequence range an MDT? <em>range</em>.  <a href="#aa4909e3455c10bf25ee73ea07b1d9c12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#acf1a36d9d128642d6b3bddc103d7e71e">fld_range_is_any</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ANY range is only used when the fld client sends a fld query request, but it does not know whether the seq is an MDT or OST, so it will send the request with ANY type, which means any seq type from the lookup can be expected.  <a href="#acf1a36d9d128642d6b3bddc103d7e71e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#ac618257353514717aec84c62ec7795b1">fld_range_set_type</a> (struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range, unsigned flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Apply flags to range <em>range</em> <em>flags</em>.  <a href="#ac618257353514717aec84c62ec7795b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#a0142610b35947e804ca35ad31648b5e0">fld_range_set_mdt</a> (struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add MDT to range type <em>range</em>.  <a href="#a0142610b35947e804ca35ad31648b5e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#aa0a1758bd6b5b53eb7a40ffabeeb2b26">fld_range_set_ost</a> (struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add OST to range type <em>range</em>.  <a href="#aa0a1758bd6b5b53eb7a40ffabeeb2b26"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#a85e04131e8c06b234daab0a93426c602">fld_range_set_any</a> (struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add ANY to range type <em>range</em>.  <a href="#a85e04131e8c06b234daab0a93426c602"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#aea93a67b298f6750368c239600bd4d4b">lu_seq_range_space</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">computes width of given sequence range <em>range</em>  <a href="#aea93a67b298f6750368c239600bd4d4b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#ab6d667de5d330a4362a3e41947c6f754">lu_seq_range_init</a> (struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">initialize range to zero <em>range</em>  <a href="#ab6d667de5d330a4362a3e41947c6f754"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#a0bbc90d800cbc00ae57d9ae4165c576e">lu_seq_range_within</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> seq)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">check if given seq id <em>s</em> is within given range <em>range</em>  <a href="#a0bbc90d800cbc00ae57d9ae4165c576e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#ad4ca7c9e4c449a142ae0d3ecfc239ff6">lu_seq_range_is_sane</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is the range sane? Is the end after the beginning? <em>range</em>.  <a href="#ad4ca7c9e4c449a142ae0d3ecfc239ff6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#acd076f614d41f6bced1c3b56c127e520">lu_seq_range_is_zero</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is the range 0? <em>range</em>.  <a href="#acd076f614d41f6bced1c3b56c127e520"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#aea6e54504de7881a39e56c732b08aa80">lu_seq_range_is_exhausted</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is the range out of space? <em>range</em>.  <a href="#aea6e54504de7881a39e56c732b08aa80"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="seq__range_8h.html#abf95fc0d5f5ec98b4b303efc717d8499">lu_seq_range_compare_loc</a> (const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *<a class="el" href="osd__quota__fmt_8c.html#a008145250cc5c592d2760522fb537481">r1</a>, const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *r2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return 0 if two ranges have the same location, nonzero if they are different <em>r1</em> <em>r2</em>  <a href="#abf95fc0d5f5ec98b4b303efc717d8499"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aed7fb83d9accd6c38bf1a17dc21a2848"></a><!-- doxytag: member="seq_range.h::DRANGE" ref="aed7fb83d9accd6c38bf1a17dc21a2848" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DRANGE&nbsp;&nbsp;&nbsp;&quot;[%#16.16llx-%#16.16llx]:%x:%s&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>printf string and argument list for sequence range </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00184">184</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>Referenced by <a class="el" href="fid__handler_8c_source.html#l00319">__seq_server_alloc_meta()</a>, <a class="el" href="fid__handler_8c_source.html#l00113">__seq_server_alloc_super()</a>, <a class="el" href="fld__cache_8c_source.html#l00388">fld_cache_insert_nolock()</a>, <a class="el" href="fld__cache_8c_source.html#l00306">fld_cache_overlap_handle()</a>, <a class="el" href="fld__index_8c_source.html#l00086">fld_declare_index_create()</a>, <a class="el" href="fld__cache_8c_source.html#l00133">fld_fix_new_list()</a>, <a class="el" href="fld__handler_8c_source.html#l00286">fld_handle_lookup()</a>, <a class="el" href="fld__index_8c_source.html#l00160">fld_index_create()</a>, <a class="el" href="fld__index_8c_source.html#l00233">fld_index_lookup()</a>, <a class="el" href="fld__handler_8c_source.html#l00205">fld_local_lookup()</a>, <a class="el" href="fid__handler_8c_source.html#l00217">range_alloc_set()</a>, <a class="el" href="fid__request_8c_source.html#l00208">seq_client_alloc_seq()</a>, <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>, <a class="el" href="fid__handler_8c_source.html#l00153">seq_server_alloc_spec()</a>, and <a class="el" href="fid__store_8c_source.html#l00171">seq_store_read()</a>.</p>

</div>
</div>
<a class="anchor" id="a796257ad9d67db36b01e76e3d8e4d044"></a><!-- doxytag: member="seq_range.h::PRANGE" ref="a796257ad9d67db36b01e76e3d8e4d044" args="(range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRANGE</td>
          <td>(</td>
          <td class="paramtype">range&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> long)(range)-&gt;lsr_start, \
        (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> long)(range)-&gt;lsr_end,   \
        (range)-&gt;lsr_index,                     \
        <a class="code" href="seq__range_8h.html#aa4909e3455c10bf25ee73ea07b1d9c12" title="Is this sequence range an MDT? range.">fld_range_is_mdt</a>(range) ? <span class="stringliteral">&quot;mdt&quot;</span> : <span class="stringliteral">&quot;ost&quot;</span>
</pre></div>
<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00186">186</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>Referenced by <a class="el" href="fid__handler_8c_source.html#l00319">__seq_server_alloc_meta()</a>, <a class="el" href="fid__handler_8c_source.html#l00113">__seq_server_alloc_super()</a>, <a class="el" href="fld__cache_8c_source.html#l00388">fld_cache_insert_nolock()</a>, <a class="el" href="fld__cache_8c_source.html#l00306">fld_cache_overlap_handle()</a>, <a class="el" href="fld__index_8c_source.html#l00086">fld_declare_index_create()</a>, <a class="el" href="fld__cache_8c_source.html#l00133">fld_fix_new_list()</a>, <a class="el" href="fld__handler_8c_source.html#l00286">fld_handle_lookup()</a>, <a class="el" href="fld__index_8c_source.html#l00160">fld_index_create()</a>, <a class="el" href="fld__index_8c_source.html#l00233">fld_index_lookup()</a>, <a class="el" href="fld__handler_8c_source.html#l00205">fld_local_lookup()</a>, <a class="el" href="fid__handler_8c_source.html#l00217">range_alloc_set()</a>, <a class="el" href="fid__request_8c_source.html#l00208">seq_client_alloc_seq()</a>, <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>, <a class="el" href="fid__handler_8c_source.html#l00153">seq_server_alloc_spec()</a>, and <a class="el" href="fid__store_8c_source.html#l00171">seq_store_read()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="acf1a36d9d128642d6b3bddc103d7e71e"></a><!-- doxytag: member="seq_range.h::fld_range_is_any" ref="acf1a36d9d128642d6b3bddc103d7e71e" args="(const struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned fld_range_is_any </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ANY range is only used when the fld client sends a fld query request, but it does not know whether the seq is an MDT or OST, so it will send the request with ANY type, which means any seq type from the lookup can be expected. </p>
<p>/a range </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00072">72</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="seq__range_8h_source.html#l00043">fld_range_type()</a>, and <a class="el" href="lustre__idl_8h_source.html#l00168">LU_SEQ_RANGE_ANY</a>.</p>

<p>Referenced by <a class="el" href="fld__handler_8c_source.html#l00205">fld_local_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4909e3455c10bf25ee73ea07b1d9c12"></a><!-- doxytag: member="seq_range.h::fld_range_is_mdt" ref="aa4909e3455c10bf25ee73ea07b1d9c12" args="(const struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool fld_range_is_mdt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is this sequence range an MDT? <em>range</em>. </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00061">61</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="seq__range_8h_source.html#l00043">fld_range_type()</a>, and <a class="el" href="lustre__idl_8h_source.html#l00166">LU_SEQ_RANGE_MDT</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l05696">lfsck_fid_match_idx()</a>, and <a class="el" href="lfsck__layout_8c_source.html#l03789">lfsck_layout_slave_check_pairs()</a>.</p>

</div>
</div>
<a class="anchor" id="aac1ec72c6463983d260554b0102ede63"></a><!-- doxytag: member="seq_range.h::fld_range_is_ost" ref="aac1ec72c6463983d260554b0102ede63" args="(const struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool fld_range_is_ost </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is this sequence range an OST? <em>range</em>. </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00052">52</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="seq__range_8h_source.html#l00043">fld_range_type()</a>, and <a class="el" href="lustre__idl_8h_source.html#l00167">LU_SEQ_RANGE_OST</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l00973">fid_is_for_ostobj()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>.</p>

</div>
</div>
<a class="anchor" id="a85e04131e8c06b234daab0a93426c602"></a><!-- doxytag: member="seq_range.h::fld_range_set_any" ref="a85e04131e8c06b234daab0a93426c602" args="(struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void fld_range_set_any </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add ANY to range type <em>range</em>. </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00109">109</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="seq__range_8h_source.html#l00081">fld_range_set_type()</a>, and <a class="el" href="lustre__idl_8h_source.html#l00168">LU_SEQ_RANGE_ANY</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l00973">fid_is_for_ostobj()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05696">lfsck_fid_match_idx()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03789">lfsck_layout_slave_check_pairs()</a>, <a class="el" href="llog__osd_8c_source.html#l01295">llog_osd_get_regular_fid_dir()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02619">osd_fld_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a0142610b35947e804ca35ad31648b5e0"></a><!-- doxytag: member="seq_range.h::fld_range_set_mdt" ref="a0142610b35947e804ca35ad31648b5e0" args="(struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void fld_range_set_mdt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add MDT to range type <em>range</em>. </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00091">91</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="seq__range_8h_source.html#l00081">fld_range_set_type()</a>, and <a class="el" href="lustre__idl_8h_source.html#l00166">LU_SEQ_RANGE_MDT</a>.</p>

<p>Referenced by <a class="el" href="fld__handler_8c_source.html#l00128">fld_update_from_controller()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00526">lfsck_find_mdt_idx_by_fid()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00811">lfsck_master_oit_engine()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04005">lfsck_namespace_exec_oit()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05699">lfsck_namespace_scan_local_lpf()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01359">lfsck_namespace_set_lmv_master()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01817">lfsck_namespace_striped_dir_rescan()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00132">lfsck_needs_scan_dir()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02619">osd_fld_lookup()</a>, and <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="aa0a1758bd6b5b53eb7a40ffabeeb2b26"></a><!-- doxytag: member="seq_range.h::fld_range_set_ost" ref="aa0a1758bd6b5b53eb7a40ffabeeb2b26" args="(struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void fld_range_set_ost </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add OST to range type <em>range</em>. </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00100">100</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="seq__range_8h_source.html#l00081">fld_range_set_type()</a>, and <a class="el" href="lustre__idl_8h_source.html#l00167">LU_SEQ_RANGE_OST</a>.</p>

<p>Referenced by <a class="el" href="lfsck__engine_8c_source.html#l00811">lfsck_master_oit_engine()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02619">osd_fld_lookup()</a>, and <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ac618257353514717aec84c62ec7795b1"></a><!-- doxytag: member="seq_range.h::fld_range_set_type" ref="ac618257353514717aec84c62ec7795b1" args="(struct lu_seq_range *range, unsigned flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void fld_range_set_type </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Apply flags to range <em>range</em> <em>flags</em>. </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00081">81</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00157">lu_seq_range::lsr_flags</a>.</p>

<p>Referenced by <a class="el" href="fld__request_8c_source.html#l00465">fld_client_lookup()</a>, <a class="el" href="seq__range_8h_source.html#l00109">fld_range_set_any()</a>, <a class="el" href="seq__range_8h_source.html#l00091">fld_range_set_mdt()</a>, <a class="el" href="seq__range_8h_source.html#l00100">fld_range_set_ost()</a>, <a class="el" href="lod__dev_8c_source.html#l00121">lod_fld_lookup()</a>, and <a class="el" href="update__recovery_8c_source.html#l00659">update_is_committed()</a>.</p>

</div>
</div>
<a class="anchor" id="a2c2be8138a17c3f94a75d7beac74374f"></a><!-- doxytag: member="seq_range.h::fld_range_type" ref="a2c2be8138a17c3f94a75d7beac74374f" args="(const struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned fld_range_type </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>computes the sequence range type <em>range</em> </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00043">43</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00157">lu_seq_range::lsr_flags</a>, and <a class="el" href="lustre__idl_8h_source.html#l00170">LU_SEQ_RANGE_MASK</a>.</p>

<p>Referenced by <a class="el" href="fld__handler_8c_source.html#l00205">fld_local_lookup()</a>, <a class="el" href="seq__range_8h_source.html#l00072">fld_range_is_any()</a>, <a class="el" href="seq__range_8h_source.html#l00061">fld_range_is_mdt()</a>, and <a class="el" href="seq__range_8h_source.html#l00052">fld_range_is_ost()</a>.</p>

</div>
</div>
<a class="anchor" id="abf95fc0d5f5ec98b4b303efc717d8499"></a><!-- doxytag: member="seq_range.h::lu_seq_range_compare_loc" ref="abf95fc0d5f5ec98b4b303efc717d8499" args="(const struct lu_seq_range *r1, const struct lu_seq_range *r2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lu_seq_range_compare_loc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>r2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return 0 if two ranges have the same location, nonzero if they are different <em>r1</em> <em>r2</em> </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00174">174</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00157">lu_seq_range::lsr_flags</a>, and <a class="el" href="lustre__idl_8h_source.html#l00156">lu_seq_range::lsr_index</a>.</p>

<p>Referenced by <a class="el" href="fld__index_8c_source.html#l00086">fld_declare_index_create()</a>, and <a class="el" href="fld__index_8c_source.html#l00160">fld_index_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6d667de5d330a4362a3e41947c6f754"></a><!-- doxytag: member="seq_range.h::lu_seq_range_init" ref="ab6d667de5d330a4362a3e41947c6f754" args="(struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lu_seq_range_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initialize range to zero <em>range</em> </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00127">127</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>Referenced by <a class="el" href="fid__request_8c_source.html#l00389">seq_client_flush()</a>, <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>, and <a class="el" href="fid__handler_8c_source.html#l00501">seq_server_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aea6e54504de7881a39e56c732b08aa80"></a><!-- doxytag: member="seq_range.h::lu_seq_range_is_exhausted" ref="aea6e54504de7881a39e56c732b08aa80" args="(const struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lu_seq_range_is_exhausted </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is the range out of space? <em>range</em>. </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00164">164</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="seq__range_8h_source.html#l00118">lu_seq_range_space()</a>.</p>

<p>Referenced by <a class="el" href="fid__handler_8c_source.html#l00113">__seq_server_alloc_super()</a>, <a class="el" href="fid__handler_8c_source.html#l00217">range_alloc_set()</a>, <a class="el" href="fid__request_8c_source.html#l00208">seq_client_alloc_seq()</a>, <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>, and <a class="el" href="fid__handler_8c_source.html#l00275">seq_server_check_and_alloc_super()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4ca7c9e4c449a142ae0d3ecfc239ff6"></a><!-- doxytag: member="seq_range.h::lu_seq_range_is_sane" ref="ad4ca7c9e4c449a142ae0d3ecfc239ff6" args="(const struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lu_seq_range_is_sane </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is the range sane? Is the end after the beginning? <em>range</em>. </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00146">146</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00155">lu_seq_range::lsr_end</a>, and <a class="el" href="lustre__idl_8h_source.html#l00154">lu_seq_range::lsr_start</a>.</p>

<p>Referenced by <a class="el" href="fid__handler_8c_source.html#l00319">__seq_server_alloc_meta()</a>, <a class="el" href="fid__handler_8c_source.html#l00113">__seq_server_alloc_super()</a>, <a class="el" href="fld__cache_8c_source.html#l00368">fld_cache_entry_create()</a>, <a class="el" href="fld__cache_8c_source.html#l00133">fld_fix_new_list()</a>, <a class="el" href="fid__handler_8c_source.html#l00217">range_alloc_set()</a>, <a class="el" href="fid__request_8c_source.html#l00208">seq_client_alloc_seq()</a>, <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>, <a class="el" href="fid__handler_8c_source.html#l00275">seq_server_check_and_alloc_super()</a>, and <a class="el" href="fid__handler_8c_source.html#l00501">seq_server_init()</a>.</p>

</div>
</div>
<a class="anchor" id="acd076f614d41f6bced1c3b56c127e520"></a><!-- doxytag: member="seq_range.h::lu_seq_range_is_zero" ref="acd076f614d41f6bced1c3b56c127e520" args="(const struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lu_seq_range_is_zero </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is the range 0? <em>range</em>. </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00155">155</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00155">lu_seq_range::lsr_end</a>, and <a class="el" href="lustre__idl_8h_source.html#l00154">lu_seq_range::lsr_start</a>.</p>

<p>Referenced by <a class="el" href="fid__handler_8c_source.html#l00217">range_alloc_set()</a>, <a class="el" href="fid__handler_8c_source.html#l00275">seq_server_check_and_alloc_super()</a>, and <a class="el" href="fid__handler_8c_source.html#l00501">seq_server_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aea93a67b298f6750368c239600bd4d4b"></a><!-- doxytag: member="seq_range.h::lu_seq_range_space" ref="aea93a67b298f6750368c239600bd4d4b" args="(const struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> lu_seq_range_space </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>computes width of given sequence range <em>range</em> </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00118">118</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00155">lu_seq_range::lsr_end</a>, and <a class="el" href="lustre__idl_8h_source.html#l00154">lu_seq_range::lsr_start</a>.</p>

<p>Referenced by <a class="el" href="seq__range_8h_source.html#l00164">lu_seq_range_is_exhausted()</a>, <a class="el" href="fid__handler_8c_source.html#l00096">range_alloc()</a>, and <a class="el" href="fid__handler_8c_source.html#l00217">range_alloc_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a0bbc90d800cbc00ae57d9ae4165c576e"></a><!-- doxytag: member="seq_range.h::lu_seq_range_within" ref="a0bbc90d800cbc00ae57d9ae4165c576e" args="(const struct lu_seq_range *range, __u64 seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lu_seq_range_within </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>check if given seq id <em>s</em> is within given range <em>range</em> </p>

<p>Definition at line <a class="el" href="seq__range_8h_source.html#l00136">136</a> of file <a class="el" href="seq__range_8h_source.html">seq_range.h</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00155">lu_seq_range::lsr_end</a>, and <a class="el" href="lustre__idl_8h_source.html#l00154">lu_seq_range::lsr_start</a>.</p>

<p>Referenced by <a class="el" href="fld__cache_8c_source.html#l00528">fld_cache_lookup()</a>, and <a class="el" href="fld__index_8c_source.html#l00233">fld_index_lookup()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:47 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
