<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/ptlrpc/gss/gss_generic_token.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/ptlrpc/gss/gss_generic_token.c File Reference</h1><code>#include &lt;linux/init.h&gt;</code><br/>
<code>#include &lt;linux/module.h&gt;</code><br/>
<code>#include &lt;linux/slab.h&gt;</code><br/>
<code>#include &lt;linux/mutex.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd_8h_source.html">obd.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__idl_8h_source.html">lustre/lustre_idl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__import_8h_source.html">lustre_import.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="gss__err_8h_source.html">gss_err.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gss__internal_8h_source.html">gss_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gss__api_8h_source.html">gss_api.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gss__krb5_8h_source.html">gss_krb5.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gss__asn1_8h_source.html">gss_asn1.h</a>&quot;</code><br/>

<p><a href="gss__generic__token_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gss__generic__token_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_SEC</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gss__generic__token_8c.html#a25e06e58191cd74cb74b6e5e721dd598">TWRITE_STR</a>(ptr, str, len)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gss__generic__token_8c.html#a2941a08314a3020347af814d63f4721e">der_length_size</a> (int length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gss__generic__token_8c.html#a68d392c2267efc61bf2342db8fdad450">der_write_length</a> (unsigned char **<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gss__generic__token_8c.html#acb3778722ea32360730f6ec0dc630380">der_read_length</a> (unsigned char **<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int *<a class="el" href="multiop_8c.html#a199ab88d4ca8eab30e1cb7d35edacca5">bufsize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gss__generic__token_8c.html#a43951e14cde1954795ad9de070006414">g_token_size</a> (<a class="el" href="structrawobj__s.html">rawobj_t</a> *mech, unsigned int body_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gss__generic__token_8c.html#aa34a6ce955ab887bb4be0252facf1abd">g_make_token_header</a> (<a class="el" href="structrawobj__s.html">rawobj_t</a> *mech, int body_size, unsigned char **<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gss__generic__token_8c.html#ac357cf2c27a82ff91b96b1bed788772d">g_verify_token_header</a> (<a class="el" href="structrawobj__s.html">rawobj_t</a> *mech, int *body_size, unsigned char **buf_in, int toksize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gss__generic__token_8c.html#a8c63035fee971b5472ed5443e10109c0">g_get_mech_oid</a> (<a class="el" href="structrawobj__s.html">rawobj_t</a> *mech, <a class="el" href="structrawobj__s.html">rawobj_t</a> *in_buf)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="gss_generic_token.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_SEC</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__generic__token_8c_source.html#l00044">44</a> of file <a class="el" href="gss__generic__token_8c_source.html">gss_generic_token.c</a>.</p>

</div>
</div>
<a class="anchor" id="a25e06e58191cd74cb74b6e5e721dd598"></a><!-- doxytag: member="gss_generic_token.c::TWRITE_STR" ref="a25e06e58191cd74cb74b6e5e721dd598" args="(ptr, str, len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWRITE_STR</td>
          <td>(</td>
          <td class="paramtype">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">len&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">memcpy((ptr), (<span class="keywordtype">char</span> *) (str), (len)); \
        (ptr) += (len);
</pre></div>
<p>Definition at line <a class="el" href="gss__generic__token_8c_source.html#l00066">66</a> of file <a class="el" href="gss__generic__token_8c_source.html">gss_generic_token.c</a>.</p>

<p>Referenced by <a class="el" href="gss__generic__token_8c_source.html#l00178">g_make_token_header()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2941a08314a3020347af814d63f4721e"></a><!-- doxytag: member="gss_generic_token.c::der_length_size" ref="a2941a08314a3020347af814d63f4721e" args="(int length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int der_length_size </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__generic__token_8c_source.html#l00095">95</a> of file <a class="el" href="gss__generic__token_8c_source.html">gss_generic_token.c</a>.</p>

<p>Referenced by <a class="el" href="gss__generic__token_8c_source.html#l00115">der_write_length()</a>, and <a class="el" href="gss__generic__token_8c_source.html#l00167">g_token_size()</a>.</p>

</div>
</div>
<a class="anchor" id="acb3778722ea32360730f6ec0dc630380"></a><!-- doxytag: member="gss_generic_token.c::der_read_length" ref="acb3778722ea32360730f6ec0dc630380" args="(unsigned char **buf, int *bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int der_read_length </td>
          <td>(</td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__generic__token_8c_source.html#l00138">138</a> of file <a class="el" href="gss__generic__token_8c_source.html">gss_generic_token.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, and <a class="el" href="gss__asn1_8h_source.html#l00046">SIZEOF_INT</a>.</p>

<p>Referenced by <a class="el" href="gss__generic__token_8c_source.html#l00253">g_get_mech_oid()</a>, and <a class="el" href="gss__generic__token_8c_source.html#l00195">g_verify_token_header()</a>.</p>

</div>
</div>
<a class="anchor" id="a68d392c2267efc61bf2342db8fdad450"></a><!-- doxytag: member="gss_generic_token.c::der_write_length" ref="a68d392c2267efc61bf2342db8fdad450" args="(unsigned char **buf, int length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void der_write_length </td>
          <td>(</td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__generic__token_8c_source.html#l00115">115</a> of file <a class="el" href="gss__generic__token_8c_source.html">gss_generic_token.c</a>.</p>

<p>References <a class="el" href="gss__generic__token_8c_source.html#l00095">der_length_size()</a>.</p>

<p>Referenced by <a class="el" href="gss__generic__token_8c_source.html#l00178">g_make_token_header()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c63035fee971b5472ed5443e10109c0"></a><!-- doxytag: member="gss_generic_token.c::g_get_mech_oid" ref="a8c63035fee971b5472ed5443e10109c0" args="(rawobj_t *mech, rawobj_t *in_buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 g_get_mech_oid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrawobj__s.html">rawobj_t</a> *&nbsp;</td>
          <td class="paramname"> <em>mech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrawobj__s.html">rawobj_t</a> *&nbsp;</td>
          <td class="paramname"> <em>in_buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__generic__token_8c_source.html#l00253">253</a> of file <a class="el" href="gss__generic__token_8c_source.html">gss_generic_token.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="gss__internal_8h_source.html#l00028">rawobj_s::data</a>, <a class="el" href="gss__generic__token_8c_source.html#l00138">der_read_length()</a>, <a class="el" href="gss__asn1_8h_source.html#l00061">G_BAD_TOK_HEADER</a>, <a class="el" href="gss__asn1_8h_source.html#l00053">G_BUFFER_ALLOC</a>, <a class="el" href="gss__internal_8h_source.html#l00027">rawobj_s::len</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>.</p>

</div>
</div>
<a class="anchor" id="aa34a6ce955ab887bb4be0252facf1abd"></a><!-- doxytag: member="gss_generic_token.c::g_make_token_header" ref="aa34a6ce955ab887bb4be0252facf1abd" args="(rawobj_t *mech, int body_size, unsigned char **buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g_make_token_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrawobj__s.html">rawobj_t</a> *&nbsp;</td>
          <td class="paramname"> <em>mech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>body_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__generic__token_8c_source.html#l00178">178</a> of file <a class="el" href="gss__generic__token_8c_source.html">gss_generic_token.c</a>.</p>

<p>References <a class="el" href="gss__internal_8h_source.html#l00028">rawobj_s::data</a>, <a class="el" href="gss__generic__token_8c_source.html#l00115">der_write_length()</a>, <a class="el" href="gss__internal_8h_source.html#l00027">rawobj_s::len</a>, and <a class="el" href="gss__generic__token_8c_source.html#l00066">TWRITE_STR</a>.</p>

</div>
</div>
<a class="anchor" id="a43951e14cde1954795ad9de070006414"></a><!-- doxytag: member="gss_generic_token.c::g_token_size" ref="a43951e14cde1954795ad9de070006414" args="(rawobj_t *mech, unsigned int body_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g_token_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrawobj__s.html">rawobj_t</a> *&nbsp;</td>
          <td class="paramname"> <em>mech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>body_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__generic__token_8c_source.html#l00167">167</a> of file <a class="el" href="gss__generic__token_8c_source.html">gss_generic_token.c</a>.</p>

<p>References <a class="el" href="gss__generic__token_8c_source.html#l00095">der_length_size()</a>, and <a class="el" href="gss__internal_8h_source.html#l00027">rawobj_s::len</a>.</p>

</div>
</div>
<a class="anchor" id="ac357cf2c27a82ff91b96b1bed788772d"></a><!-- doxytag: member="gss_generic_token.c::g_verify_token_header" ref="ac357cf2c27a82ff91b96b1bed788772d" args="(rawobj_t *mech, int *body_size, unsigned char **buf_in, int toksize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 g_verify_token_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrawobj__s.html">rawobj_t</a> *&nbsp;</td>
          <td class="paramname"> <em>mech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>body_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>buf_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>toksize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__generic__token_8c_source.html#l00195">195</a> of file <a class="el" href="gss__generic__token_8c_source.html">gss_generic_token.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="gss__internal_8h_source.html#l00028">rawobj_s::data</a>, <a class="el" href="gss__generic__token_8c_source.html#l00138">der_read_length()</a>, <a class="el" href="gss__asn1_8h_source.html#l00061">G_BAD_TOK_HEADER</a>, <a class="el" href="gss__asn1_8h_source.html#l00067">g_OID_equal</a>, <a class="el" href="gss__asn1_8h_source.html#l00060">G_WRONG_MECH</a>, <a class="el" href="gss__internal_8h_source.html#l00027">rawobj_s::len</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
