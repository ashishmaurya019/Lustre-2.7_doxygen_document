<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: nrs_tbf_head Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>nrs_tbf_head Struct Reference</h1><!-- doxytag: class="nrs_tbf_head" -->
<p>Private data structure for the TBF policy.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__nrs__resource.html">ptlrpc_nrs_resource</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#a517272ad48cbd70271ed51cb9c2b75a5">th_res</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resource object for policy instance.  <a href="#a517272ad48cbd70271ed51cb9c2b75a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#ad926a24d0669406fb3cbfde48375409b">th_list</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of rules.  <a href="#ad926a24d0669406fb3cbfde48375409b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">spinlock_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#a84720470dd55bdea3a8ffab695070598">th_rule_lock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock to protect the list of rules.  <a href="#a84720470dd55bdea3a8ffab695070598"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">atomic_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#acf95a8ceea86062ea720cf9aff92892b">th_rule_sequence</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generation of rules.  <a href="#acf95a8ceea86062ea720cf9aff92892b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnrs__tbf__rule.html">nrs_tbf_rule</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#a2a024d7c095bca59b6f32799df884fcf">th_rule</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default rule.  <a href="#a2a024d7c095bca59b6f32799df884fcf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct hrtimer&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#ac4e11543a0d7ed96a939362348ac33e3">th_timer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timer for next token.  <a href="#ac4e11543a0d7ed96a939362348ac33e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#a33959aa5baa2c4f74db9c0e28a6fba60">th_deadline</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deadline of the timer.  <a href="#a33959aa5baa2c4f74db9c0e28a6fba60"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#a74ee67b8d8e53209b7df7a938b953916">th_sequence</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sequence of requests.  <a href="#a74ee67b8d8e53209b7df7a938b953916"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcfs__binheap.html">cfs_binheap</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#afaac5c39fcf0df4a27a5c0072f781e22">th_binheap</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Heap of queues.  <a href="#afaac5c39fcf0df4a27a5c0072f781e22"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#a0baca3ddc9eb71b997c8ce4c2ccd1c2f">th_cli_hash</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hash of clients.  <a href="#a0baca3ddc9eb71b997c8ce4c2ccd1c2f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#a7fe6443f5ab1d42e03d1601798afea85">th_type</a> [NRS_TBF_TYPE_MAX_LEN+1]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of TBF policy.  <a href="#a7fe6443f5ab1d42e03d1601798afea85"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnrs__tbf__ops.html">nrs_tbf_ops</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#a46a0e97cfba9873762f7447672b16b4a">th_ops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rule operations.  <a href="#a46a0e97cfba9873762f7447672b16b4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#ac2bfef7512175ad90f07c58912ea6172">th_type_flag</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flag of type.  <a href="#ac2bfef7512175ad90f07c58912ea6172"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrs__tbf__head.html#a3838e91df5b49a7f49a6e7756a64590f">th_purge_start</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index of bucket on hash table while purging.  <a href="#a3838e91df5b49a7f49a6e7756a64590f"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Private data structure for the TBF policy. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00167">167</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="afaac5c39fcf0df4a27a5c0072f781e22"></a><!-- doxytag: member="nrs_tbf_head::th_binheap" ref="afaac5c39fcf0df4a27a5c0072f781e22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__binheap.html">cfs_binheap</a>* <a class="el" href="structnrs__tbf__head.html#afaac5c39fcf0df4a27a5c0072f781e22">nrs_tbf_head::th_binheap</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Heap of queues. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00203">203</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0baca3ddc9eb71b997c8ce4c2ccd1c2f"></a><!-- doxytag: member="nrs_tbf_head::th_cli_hash" ref="a0baca3ddc9eb71b997c8ce4c2ccd1c2f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash.html">cfs_hash</a>* <a class="el" href="structnrs__tbf__head.html#a0baca3ddc9eb71b997c8ce4c2ccd1c2f">nrs_tbf_head::th_cli_hash</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Hash of clients. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00207">207</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a33959aa5baa2c4f74db9c0e28a6fba60"></a><!-- doxytag: member="nrs_tbf_head::th_deadline" ref="a33959aa5baa2c4f74db9c0e28a6fba60" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="structnrs__tbf__head.html#a33959aa5baa2c4f74db9c0e28a6fba60">nrs_tbf_head::th_deadline</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deadline of the timer. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00195">195</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad926a24d0669406fb3cbfde48375409b"></a><!-- doxytag: member="nrs_tbf_head::th_list" ref="ad926a24d0669406fb3cbfde48375409b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="structnrs__tbf__head.html#ad926a24d0669406fb3cbfde48375409b">nrs_tbf_head::th_list</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of rules. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00175">175</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a46a0e97cfba9873762f7447672b16b4a"></a><!-- doxytag: member="nrs_tbf_head::th_ops" ref="a46a0e97cfba9873762f7447672b16b4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnrs__tbf__ops.html">nrs_tbf_ops</a>* <a class="el" href="structnrs__tbf__head.html#a46a0e97cfba9873762f7447672b16b4a">nrs_tbf_head::th_ops</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Rule operations. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00215">215</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3838e91df5b49a7f49a6e7756a64590f"></a><!-- doxytag: member="nrs_tbf_head::th_purge_start" ref="a3838e91df5b49a7f49a6e7756a64590f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structnrs__tbf__head.html#a3838e91df5b49a7f49a6e7756a64590f">nrs_tbf_head::th_purge_start</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Index of bucket on hash table while purging. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00223">223</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a517272ad48cbd70271ed51cb9c2b75a5"></a><!-- doxytag: member="nrs_tbf_head::th_res" ref="a517272ad48cbd70271ed51cb9c2b75a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__nrs__resource.html">ptlrpc_nrs_resource</a> <a class="el" href="structnrs__tbf__head.html#a517272ad48cbd70271ed51cb9c2b75a5">nrs_tbf_head::th_res</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resource object for policy instance. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00171">171</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2a024d7c095bca59b6f32799df884fcf"></a><!-- doxytag: member="nrs_tbf_head::th_rule" ref="a2a024d7c095bca59b6f32799df884fcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnrs__tbf__rule.html">nrs_tbf_rule</a>* <a class="el" href="structnrs__tbf__head.html#a2a024d7c095bca59b6f32799df884fcf">nrs_tbf_head::th_rule</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default rule. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00187">187</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a84720470dd55bdea3a8ffab695070598"></a><!-- doxytag: member="nrs_tbf_head::th_rule_lock" ref="a84720470dd55bdea3a8ffab695070598" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t <a class="el" href="structnrs__tbf__head.html#a84720470dd55bdea3a8ffab695070598">nrs_tbf_head::th_rule_lock</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock to protect the list of rules. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00179">179</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="acf95a8ceea86062ea720cf9aff92892b"></a><!-- doxytag: member="nrs_tbf_head::th_rule_sequence" ref="acf95a8ceea86062ea720cf9aff92892b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t <a class="el" href="structnrs__tbf__head.html#acf95a8ceea86062ea720cf9aff92892b">nrs_tbf_head::th_rule_sequence</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generation of rules. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00183">183</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a74ee67b8d8e53209b7df7a938b953916"></a><!-- doxytag: member="nrs_tbf_head::th_sequence" ref="a74ee67b8d8e53209b7df7a938b953916" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="structnrs__tbf__head.html#a74ee67b8d8e53209b7df7a938b953916">nrs_tbf_head::th_sequence</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sequence of requests. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00199">199</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac4e11543a0d7ed96a939362348ac33e3"></a><!-- doxytag: member="nrs_tbf_head::th_timer" ref="ac4e11543a0d7ed96a939362348ac33e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct hrtimer <a class="el" href="structnrs__tbf__head.html#ac4e11543a0d7ed96a939362348ac33e3">nrs_tbf_head::th_timer</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Timer for next token. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00191">191</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7fe6443f5ab1d42e03d1601798afea85"></a><!-- doxytag: member="nrs_tbf_head::th_type" ref="a7fe6443f5ab1d42e03d1601798afea85" args="[NRS_TBF_TYPE_MAX_LEN+1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="structnrs__tbf__head.html#a7fe6443f5ab1d42e03d1601798afea85">nrs_tbf_head::th_type</a>[NRS_TBF_TYPE_MAX_LEN+1]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of TBF policy. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00211">211</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2bfef7512175ad90f07c58912ea6172"></a><!-- doxytag: member="nrs_tbf_head::th_type_flag" ref="ac2bfef7512175ad90f07c58912ea6172" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 <a class="el" href="structnrs__tbf__head.html#ac2bfef7512175ad90f07c58912ea6172">nrs_tbf_head::th_type_flag</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flag of type. </p>

<p>Definition at line <a class="el" href="lustre__nrs__tbf_8h_source.html#l00219">219</a> of file <a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="lustre__nrs__tbf_8h_source.html">lustre_nrs_tbf.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:54 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
