<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/ptlrpc/sec_config.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/ptlrpc/sec_config.c File Reference</h1><code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;linux/crypto.h&gt;</code><br/>
<code>#include &lt;linux/key.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd_8h_source.html">obd.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__import_8h_source.html">lustre_import.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__disk_8h_source.html">lustre_disk.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__param_8h_source.html">lustre_param.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="ptlrpc__internal_8h_source.html">ptlrpc_internal.h</a>&quot;</code><br/>

<p><a href="sec__config_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsptlrpc__conf__tgt.html">sptlrpc_conf_tgt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_SEC</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#af04064f27523af095908e99af4ed8dda">SEC_ADAPT_DELAY</a>&nbsp;&nbsp;&nbsp;(10)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a0a95b2f1ccdf95f03f5b7867c28c9afb">LOG_SPTLRPC_TMP</a>&nbsp;&nbsp;&nbsp;&quot;sptlrpc.tmp&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a061b8a2fc52bad42b4974732b6146c4a">LOG_SPTLRPC</a>&nbsp;&nbsp;&nbsp;&quot;sptlrpc&quot;</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gae3ba857eeba0c2ef1f39398fbec5d20b">sptlrpc_part2name</a> (enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> part)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gab694657bf342c17497d3a93d365ca0fb">sptlrpc_target_sec_part</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga980342127c4dc3a5b3ddf602bb7b4006">sptlrpc_parse_flavor</a> (const char *str, struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *flvr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a4d220d757026c846886601d63780c443">get_default_flavor</a> (struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *sf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a674ebf1a36929b8309bd2781e6e29c8d">sptlrpc_rule_init</a> (struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gafa6c9dde64f9943554b399bddd35b9ec">sptlrpc_parse_rule</a> (char *param, struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga70cd74bc850b26e1f7b64f005e7b65ba">sptlrpc_rule_set_free</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gad97bd682c62430332e66ea25e26404fb">sptlrpc_rule_set_expand</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a817617ebf5cd19ff1584a886f69ca848">rule_spec_dir</a> (struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a11617e723e3cea36269baa407ad58a20">rule_spec_net</a> (struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#aa956b8f29148be56321996325574ace4">rule_match_dir</a> (struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *<a class="el" href="osd__quota__fmt_8c.html#a008145250cc5c592d2760522fb537481">r1</a>, struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *r2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a8fe4405729ae39768cb629f0766999aa">rule_match_net</a> (struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *<a class="el" href="osd__quota__fmt_8c.html#a008145250cc5c592d2760522fb537481">r1</a>, struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *r2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gac98f179353155454bcb03aa77718a914">sptlrpc_rule_set_merge</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset, struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa86a438c13250916b84e0d12810d5786">sptlrpc_rule_set_choose</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> from, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> to, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *sf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">given from/to/nid, determine a matching flavor in ruleset.  <a href="group__sptlrpc.html#gaa86a438c13250916b84e0d12810d5786"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga8e24aa2e05415973026abbbba8e920d6">sptlrpc_rule_set_dump</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#acd117f564a0a68dd8348b65a858d72dd">sptlrpc_rule_set_extract</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *gen, struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *tgt, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> from, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> to, struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a24e67831d8eeaa937947a26dcdbde6a6">is_hex</a> (char c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a6e70f96d7ec7429e37d58c09fa25a425">target2fsname</a> (const char *tgt, char *fsname, int buflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a83046339375375add177363e3647be0f">sptlrpc_conf_free_rsets</a> (struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#acfcc7cd40ef3ba82676936b999916a86">sptlrpc_conf_free</a> (struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structsptlrpc__conf__tgt.html">sptlrpc_conf_tgt</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#ae49a121271c749f750099a503e04caa5">sptlrpc_conf_get_tgt</a> (struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *conf, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int create)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a73f00b212c2aa3e5c3c9e4faf4f94f85">sptlrpc_conf_get</a> (const char *fsname, int create)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#af11a88f13279f9c389137d97e7476ffa">sptlrpc_conf_merge_rule</a> (struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *conf, const char *target, struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *rule)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">caller must hold conf_lock already.  <a href="#af11a88f13279f9c389137d97e7476ffa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a96214b9ce0700da9f4685c3a3444c97d">__sptlrpc_process_config</a> (struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg, struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">process one LCFG_SPTLRPC_CONF record.  <a href="#a96214b9ce0700da9f4685c3a3444c97d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga1c47d43e343809a1953d50ab7f669843">sptlrpc_process_config</a> (struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#af2ef81b433804eb20bd892be1d62ddcb">logname2fsname</a> (const char *logname, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int buflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa7585b0181e15b0a90dc648c8be5c733">sptlrpc_conf_log_update_begin</a> (const char *logname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaf01cd5684aea35fb175f6c9606735fa0">sptlrpc_conf_log_update_end</a> (const char *logname)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mark a config log has been updated  <a href="group__sptlrpc.html#gaf01cd5684aea35fb175f6c9606735fa0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga2496cbe40b256079ab21ef772f5fb6f2">sptlrpc_conf_log_start</a> (const char *logname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaacb6f9cb18a825fe739d903c6c3f7fff">sptlrpc_conf_log_stop</a> (const char *logname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a7c338fd85851e7ddddf3440c52808d4d">flavor_set_flags</a> (struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *sf, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> from, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> to, unsigned int fl_udesc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a3653af559e4fad3b3c71877c309ea556">sptlrpc_conf_choose_flavor</a> (enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> from, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> to, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *target, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *sf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gac2dcbcaee70d89f9e5f250d5e095ab4e">sptlrpc_target_choose_flavor</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> from, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *sf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">called by target devices, determine the expected flavor from certain peer (from, nid).  <a href="group__sptlrpc.html#gac2dcbcaee70d89f9e5f250d5e095ab4e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga5e58c9331d8eafe4108b46943df678d4">sptlrpc_conf_client_adapt</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">called by client devices, notify the sptlrpc config has changed and do import_sec_adapt later.  <a href="group__sptlrpc.html#ga5e58c9331d8eafe4108b46943df678d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a49dd8f5062d5f123a6e1d5994e4a91c8">rule2string</a> (struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *r, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int buflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a57b29a1234ea7438d3697e5047c12e13">sptlrpc_record_rule_set</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *target, struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a436b97270b7616341a394d660dd1a235">sptlrpc_record_rules</a> (struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#ad380e13bdbff5967c98787a455379e98">sptlrpc_target_local_copy_conf</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a5f02f45b0935f7c95591df1022e558bf">local_read_handler</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a460be2afa6bac6653d79055687624354">sptlrpc_target_local_read_conf</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa7d95f365760c1a00381d8e0b116c4cb">sptlrpc_conf_target_get_rules</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset, int initial)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">called by target devices, extract sptlrpc rules which applies to this target, to be used for future rpc flavor checking.  <a href="group__sptlrpc.html#gaa7d95f365760c1a00381d8e0b116c4cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a7957986d1e28dfc797ff3472de181045">sptlrpc_conf_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#afe08db8d0e80c75017172faf58afb021">sptlrpc_conf_fini</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a780ba03a1d8d691163bb0ff132fa3e92">sptlrpc_conf_lock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sec__config_8c.html#a2e13e47889312f91d199556b88323de8">sptlrpc_confs</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="sec_config.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_SEC</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00037">37</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

</div>
</div>
<a class="anchor" id="a061b8a2fc52bad42b4974732b6146c4a"></a><!-- doxytag: member="sec_config.c::LOG_SPTLRPC" ref="a061b8a2fc52bad42b4974732b6146c4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_SPTLRPC&nbsp;&nbsp;&nbsp;&quot;sptlrpc&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00997">997</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>, and <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a95b2f1ccdf95f03f5b7867c28c9afb"></a><!-- doxytag: member="sec_config.c::LOG_SPTLRPC_TMP" ref="a0a95b2f1ccdf95f03f5b7867c28c9afb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_SPTLRPC_TMP&nbsp;&nbsp;&nbsp;&quot;sptlrpc.tmp&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00996">996</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="af04064f27523af095908e99af4ed8dda"></a><!-- doxytag: member="sec_config.c::SEC_ADAPT_DELAY" ref="af04064f27523af095908e99af4ed8dda" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEC_ADAPT_DELAY&nbsp;&nbsp;&nbsp;(10)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00899">899</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00905">sptlrpc_conf_client_adapt()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a96214b9ce0700da9f4685c3a3444c97d"></a><!-- doxytag: member="sec_config.c::__sptlrpc_process_config" ref="a96214b9ce0700da9f4685c3a3444c97d" args="(struct lustre_cfg *lcfg, struct sptlrpc_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __sptlrpc_process_config </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>process one LCFG_SPTLRPC_CONF record. </p>
<p>if <em>conf</em> is NULL, we find one through the target name in the record inside conf_lock; otherwise means caller already hold conf_lock. </p>

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00656">656</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="lustre__param_8h_source.html#l00119">PARAM_SRPC_FLVR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="sec__config_8c_source.html#l00501">sptlrpc_conf::sc_modified</a>, <a class="el" href="sec__config_8c_source.html#l00595">sptlrpc_conf_get()</a>, <a class="el" href="sec__config_8c_source.html#l00508">sptlrpc_conf_lock</a>, <a class="el" href="sec__config_8c_source.html#l00628">sptlrpc_conf_merge_rule()</a>, <a class="el" href="sec__config_8c_source.html#l00186">sptlrpc_parse_rule()</a>, and <a class="el" href="sec__config_8c_source.html#l00517">target2fsname()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01058">local_read_handler()</a>, and <a class="el" href="sec__config_8c_source.html#l00713">sptlrpc_process_config()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c338fd85851e7ddddf3440c52808d4d"></a><!-- doxytag: member="sec_config.c::flavor_set_flags" ref="a7c338fd85851e7ddddf3440c52808d4d" args="(struct sptlrpc_flavor *sf, enum lustre_sec_part from, enum lustre_sec_part to, unsigned int fl_udesc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void flavor_set_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>sf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>fl_udesc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00818">818</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00316">LUSTRE_SP_CLI</a>, <a class="el" href="lustre__sec_8h_source.html#l00317">LUSTRE_SP_MDT</a>, <a class="el" href="lustre__sec_8h_source.html#l00318">LUSTRE_SP_OST</a>, <a class="el" href="lustre__sec_8h_source.html#l00835">PTLRPC_SEC_FL_BULK</a>, <a class="el" href="lustre__sec_8h_source.html#l00833">PTLRPC_SEC_FL_ROOTONLY</a>, <a class="el" href="lustre__sec_8h_source.html#l00834">PTLRPC_SEC_FL_UDESC</a>, <a class="el" href="lustre__sec_8h_source.html#l00296">sptlrpc_flavor::sf_flags</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, and <a class="el" href="lustre__sec_8h_source.html#l00193">SPTLRPC_FLVR_NULL</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00843">sptlrpc_conf_choose_flavor()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d220d757026c846886601d63780c443"></a><!-- doxytag: member="sec_config.c::get_default_flavor" ref="a4d220d757026c846886601d63780c443" args="(struct sptlrpc_flavor *sf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void get_default_flavor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>sf</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00165">165</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00296">sptlrpc_flavor::sf_flags</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, and <a class="el" href="lustre__sec_8h_source.html#l00193">SPTLRPC_FLVR_NULL</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00843">sptlrpc_conf_choose_flavor()</a>, <a class="el" href="sec__config_8c_source.html#l00173">sptlrpc_rule_init()</a>, and <a class="el" href="sec__config_8c_source.html#l00890">sptlrpc_target_choose_flavor()</a>.</p>

</div>
</div>
<a class="anchor" id="a24e67831d8eeaa937947a26dcdbde6a6"></a><!-- doxytag: member="sec_config.c::is_hex" ref="a24e67831d8eeaa937947a26dcdbde6a6" args="(char c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int is_hex </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>c</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00511">511</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00517">target2fsname()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f02f45b0935f7c95591df1022e558bf"></a><!-- doxytag: member="sec_config.c::local_read_handler" ref="a5f02f45b0935f7c95591df1022e558bf" args="(const struct lu_env *env, struct llog_handle *llh, struct llog_rec_hdr *rec, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int local_read_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l01058">1058</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="sec__config_8c_source.html#l00656">__sptlrpc_process_config()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00093">LCFG_SPTLRPC_CONF</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="lustre__cfg_8h_source.html#l00299">lustre_cfg_sanity_check()</a>, <a class="el" href="packet-lustre_8c_source.html#l00345">OBD_CFG_REC</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="af2ef81b433804eb20bd892be1d62ddcb"></a><!-- doxytag: member="sec_config.c::logname2fsname" ref="af2ef81b433804eb20bd892be1d62ddcb" args="(const char *logname, char *buf, int buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int logname2fsname </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00719">719</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00789">sptlrpc_conf_log_start()</a>, <a class="el" href="sec__config_8c_source.html#l00802">sptlrpc_conf_log_stop()</a>, <a class="el" href="sec__config_8c_source.html#l00737">sptlrpc_conf_log_update_begin()</a>, and <a class="el" href="sec__config_8c_source.html#l00763">sptlrpc_conf_log_update_end()</a>.</p>

</div>
</div>
<a class="anchor" id="a49dd8f5062d5f123a6e1d5994e4a91c8"></a><!-- doxytag: member="sec_config.c::rule2string" ref="a49dd8f5062d5f123a6e1d5994e4a91c8" args="(struct sptlrpc_rule *r, char *buf, int buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void rule2string </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00934">934</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01108">libcfs_net2str_r()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="sec_8c_source.html#l00226">sptlrpc_flavor2name()</a>, <a class="el" href="sec__config_8c_source.html#l00056">sptlrpc_part2name()</a>, <a class="el" href="lustre__sec_8h_source.html#l00336">sptlrpc_rule::sr_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00333">sptlrpc_rule::sr_from</a>, <a class="el" href="lustre__sec_8h_source.html#l00332">sptlrpc_rule::sr_netid</a>, and <a class="el" href="lustre__sec_8h_source.html#l00334">sptlrpc_rule::sr_to</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00956">sptlrpc_record_rule_set()</a>.</p>

</div>
</div>
<a class="anchor" id="aa956b8f29148be56321996325574ace4"></a><!-- doxytag: member="sec_config.c::rule_match_dir" ref="aa956b8f29148be56321996325574ace4" args="(struct sptlrpc_rule *r1, struct sptlrpc_rule *r2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int rule_match_dir </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>r2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00298">298</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00333">sptlrpc_rule::sr_from</a>, and <a class="el" href="lustre__sec_8h_source.html#l00334">sptlrpc_rule::sr_to</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00313">sptlrpc_rule_set_merge()</a>.</p>

</div>
</div>
<a class="anchor" id="a8fe4405729ae39768cb629f0766999aa"></a><!-- doxytag: member="sec_config.c::rule_match_net" ref="a8fe4405729ae39768cb629f0766999aa" args="(struct sptlrpc_rule *r1, struct sptlrpc_rule *r2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int rule_match_net </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>r2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00303">303</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00332">sptlrpc_rule::sr_netid</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00313">sptlrpc_rule_set_merge()</a>.</p>

</div>
</div>
<a class="anchor" id="a817617ebf5cd19ff1584a886f69ca848"></a><!-- doxytag: member="sec_config.c::rule_spec_dir" ref="a817617ebf5cd19ff1584a886f69ca848" args="(struct sptlrpc_rule *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int rule_spec_dir </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00289">289</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="lustre__sec_8h_source.html#l00333">sptlrpc_rule::sr_from</a>, and <a class="el" href="lustre__sec_8h_source.html#l00334">sptlrpc_rule::sr_to</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00313">sptlrpc_rule_set_merge()</a>.</p>

</div>
</div>
<a class="anchor" id="a11617e723e3cea36269baa407ad58a20"></a><!-- doxytag: member="sec_config.c::rule_spec_net" ref="a11617e723e3cea36269baa407ad58a20" args="(struct sptlrpc_rule *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int rule_spec_net </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00294">294</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, and <a class="el" href="lustre__sec_8h_source.html#l00332">sptlrpc_rule::sr_netid</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00313">sptlrpc_rule_set_merge()</a>.</p>

</div>
</div>
<a class="anchor" id="a3653af559e4fad3b3c71877c309ea556"></a><!-- doxytag: member="sec_config.c::sptlrpc_conf_choose_flavor" ref="a3653af559e4fad3b3c71877c309ea556" args="(enum lustre_sec_part from, enum lustre_sec_part to, struct obd_uuid *target, lnet_nid_t nid, struct sptlrpc_flavor *sf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_conf_choose_flavor </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>sf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00843">843</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="sec__config_8c_source.html#l00818">flavor_set_flags()</a>, <a class="el" href="sec__config_8c_source.html#l00165">get_default_flavor()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="sec__config_8c_source.html#l00504">sptlrpc_conf::sc_rset</a>, <a class="el" href="sec__config_8c_source.html#l00495">sptlrpc_conf_tgt::sct_rset</a>, <a class="el" href="sec__config_8c_source.html#l00595">sptlrpc_conf_get()</a>, <a class="el" href="sec__config_8c_source.html#l00570">sptlrpc_conf_get_tgt()</a>, <a class="el" href="sec__config_8c_source.html#l00508">sptlrpc_conf_lock</a>, <a class="el" href="sec__config_8c_source.html#l00404">sptlrpc_rule_set_choose()</a>, <a class="el" href="sec__config_8c_source.html#l00517">target2fsname()</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01438">sptlrpc_import_sec_adapt()</a>.</p>

</div>
</div>
<a class="anchor" id="afe08db8d0e80c75017172faf58afb021"></a><!-- doxytag: member="sec_config.c::sptlrpc_conf_fini" ref="afe08db8d0e80c75017172faf58afb021" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_conf_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l01217">1217</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="sec__config_8c_source.html#l00499">sptlrpc_conf::sc_list</a>, <a class="el" href="sec__config_8c_source.html#l00560">sptlrpc_conf_free()</a>, <a class="el" href="sec__config_8c_source.html#l00508">sptlrpc_conf_lock</a>, and <a class="el" href="sec__config_8c_source.html#l00509">sptlrpc_confs</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l02590">sptlrpc_fini()</a>, and <a class="el" href="sec_8c_source.html#l02544">sptlrpc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="acfcc7cd40ef3ba82676936b999916a86"></a><!-- doxytag: member="sec_config.c::sptlrpc_conf_free" ref="acfcc7cd40ef3ba82676936b999916a86" args="(struct sptlrpc_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sptlrpc_conf_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00560">560</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="sec__config_8c_source.html#l00500">sptlrpc_conf::sc_fsname</a>, <a class="el" href="sec__config_8c_source.html#l00499">sptlrpc_conf::sc_list</a>, and <a class="el" href="sec__config_8c_source.html#l00542">sptlrpc_conf_free_rsets()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01217">sptlrpc_conf_fini()</a>, and <a class="el" href="sec__config_8c_source.html#l00802">sptlrpc_conf_log_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a83046339375375add177363e3647be0f"></a><!-- doxytag: member="sec_config.c::sptlrpc_conf_free_rsets" ref="a83046339375375add177363e3647be0f" args="(struct sptlrpc_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sptlrpc_conf_free_rsets </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00542">542</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="sec__config_8c_source.html#l00502">sptlrpc_conf::sc_local</a>, <a class="el" href="sec__config_8c_source.html#l00504">sptlrpc_conf::sc_rset</a>, <a class="el" href="sec__config_8c_source.html#l00505">sptlrpc_conf::sc_tgts</a>, <a class="el" href="sec__config_8c_source.html#l00502">sptlrpc_conf::sc_updated</a>, <a class="el" href="sec__config_8c_source.html#l00493">sptlrpc_conf_tgt::sct_list</a>, <a class="el" href="sec__config_8c_source.html#l00495">sptlrpc_conf_tgt::sct_rset</a>, and <a class="el" href="sec__config_8c_source.html#l00242">sptlrpc_rule_set_free()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00560">sptlrpc_conf_free()</a>, <a class="el" href="sec__config_8c_source.html#l00737">sptlrpc_conf_log_update_begin()</a>, <a class="el" href="sec__config_8c_source.html#l01148">sptlrpc_conf_target_get_rules()</a>, and <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="a73f00b212c2aa3e5c3c9e4faf4f94f85"></a><!-- doxytag: member="sec_config.c::sptlrpc_conf_get" ref="a73f00b212c2aa3e5c3c9e4faf4f94f85" args="(const char *fsname, int create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a>* sptlrpc_conf_get </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>create</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00595">595</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="sec__config_8c_source.html#l00500">sptlrpc_conf::sc_fsname</a>, <a class="el" href="sec__config_8c_source.html#l00499">sptlrpc_conf::sc_list</a>, <a class="el" href="sec__config_8c_source.html#l00504">sptlrpc_conf::sc_rset</a>, <a class="el" href="sec__config_8c_source.html#l00505">sptlrpc_conf::sc_tgts</a>, <a class="el" href="sec__config_8c_source.html#l00509">sptlrpc_confs</a>, <a class="el" href="lustre__sec_8h_source.html#l00354">sptlrpc_rule_set_init()</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00656">__sptlrpc_process_config()</a>, <a class="el" href="sec__config_8c_source.html#l00843">sptlrpc_conf_choose_flavor()</a>, <a class="el" href="sec__config_8c_source.html#l00789">sptlrpc_conf_log_start()</a>, <a class="el" href="sec__config_8c_source.html#l00802">sptlrpc_conf_log_stop()</a>, <a class="el" href="sec__config_8c_source.html#l00737">sptlrpc_conf_log_update_begin()</a>, <a class="el" href="sec__config_8c_source.html#l00763">sptlrpc_conf_log_update_end()</a>, and <a class="el" href="sec__config_8c_source.html#l01148">sptlrpc_conf_target_get_rules()</a>.</p>

</div>
</div>
<a class="anchor" id="ae49a121271c749f750099a503e04caa5"></a><!-- doxytag: member="sec_config.c::sptlrpc_conf_get_tgt" ref="ae49a121271c749f750099a503e04caa5" args="(struct sptlrpc_conf *conf, const char *name, int create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structsptlrpc__conf__tgt.html">sptlrpc_conf_tgt</a>* sptlrpc_conf_get_tgt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>create</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00570">570</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="sec__config_8c_source.html#l00505">sptlrpc_conf::sc_tgts</a>, <a class="el" href="sec__config_8c_source.html#l00493">sptlrpc_conf_tgt::sct_list</a>, <a class="el" href="sec__config_8c_source.html#l00494">sptlrpc_conf_tgt::sct_name</a>, <a class="el" href="sec__config_8c_source.html#l00495">sptlrpc_conf_tgt::sct_rset</a>, <a class="el" href="lustre__sec_8h_source.html#l00354">sptlrpc_rule_set_init()</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00843">sptlrpc_conf_choose_flavor()</a>, <a class="el" href="sec__config_8c_source.html#l00628">sptlrpc_conf_merge_rule()</a>, and <a class="el" href="sec__config_8c_source.html#l01148">sptlrpc_conf_target_get_rules()</a>.</p>

</div>
</div>
<a class="anchor" id="a7957986d1e28dfc797ff3472de181045"></a><!-- doxytag: member="sec_config.c::sptlrpc_conf_init" ref="a7957986d1e28dfc797ff3472de181045" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_conf_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l01210">1210</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="sec__config_8c_source.html#l00508">sptlrpc_conf_lock</a>, and <a class="el" href="sec__config_8c_source.html#l00509">sptlrpc_confs</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l02544">sptlrpc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="af11a88f13279f9c389137d97e7476ffa"></a><!-- doxytag: member="sec_config.c::sptlrpc_conf_merge_rule" ref="af11a88f13279f9c389137d97e7476ffa" args="(struct sptlrpc_conf *conf, const char *target, struct sptlrpc_rule *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sptlrpc_conf_merge_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>caller must hold conf_lock already. </p>

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00628">628</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="sec__config_8c_source.html#l00500">sptlrpc_conf::sc_fsname</a>, <a class="el" href="sec__config_8c_source.html#l00504">sptlrpc_conf::sc_rset</a>, <a class="el" href="sec__config_8c_source.html#l00495">sptlrpc_conf_tgt::sct_rset</a>, <a class="el" href="sec__config_8c_source.html#l00570">sptlrpc_conf_get_tgt()</a>, and <a class="el" href="sec__config_8c_source.html#l00313">sptlrpc_rule_set_merge()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00656">__sptlrpc_process_config()</a>.</p>

</div>
</div>
<a class="anchor" id="a57b29a1234ea7438d3697e5047c12e13"></a><!-- doxytag: member="sec_config.c::sptlrpc_record_rule_set" ref="a57b29a1234ea7438d3697e5047c12e13" args="(struct llog_handle *llh, char *target, struct sptlrpc_rule_set *rset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sptlrpc_record_rule_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00956">956</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00093">LCFG_SPTLRPC_CONF</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="lustre__log_8h_source.html#l00512">llog_cfg_rec::lcr_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00521">LLOG_NEXT_IDX</a>, <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="obd__config_8c_source.html#l01438">lustre_cfg_rec_free()</a>, <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="sec__config_8c_source.html#l00934">rule2string()</a>, <a class="el" href="lustre__sec_8h_source.html#l00347">sptlrpc_rule_set::srs_nrule</a>, and <a class="el" href="lustre__sec_8h_source.html#l00348">sptlrpc_rule_set::srs_rules</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00982">sptlrpc_record_rules()</a>.</p>

</div>
</div>
<a class="anchor" id="a436b97270b7616341a394d660dd1a235"></a><!-- doxytag: member="sec_config.c::sptlrpc_record_rules" ref="a436b97270b7616341a394d660dd1a235" args="(struct llog_handle *llh, struct sptlrpc_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sptlrpc_record_rules </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00982">982</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="sec__config_8c_source.html#l00500">sptlrpc_conf::sc_fsname</a>, <a class="el" href="sec__config_8c_source.html#l00504">sptlrpc_conf::sc_rset</a>, <a class="el" href="sec__config_8c_source.html#l00505">sptlrpc_conf::sc_tgts</a>, <a class="el" href="sec__config_8c_source.html#l00493">sptlrpc_conf_tgt::sct_list</a>, <a class="el" href="sec__config_8c_source.html#l00494">sptlrpc_conf_tgt::sct_name</a>, <a class="el" href="sec__config_8c_source.html#l00495">sptlrpc_conf_tgt::sct_rset</a>, and <a class="el" href="sec__config_8c_source.html#l00956">sptlrpc_record_rule_set()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="a674ebf1a36929b8309bd2781e6e29c8d"></a><!-- doxytag: member="sec_config.c::sptlrpc_rule_init" ref="a674ebf1a36929b8309bd2781e6e29c8d" args="(struct sptlrpc_rule *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sptlrpc_rule_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00173">173</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="sec__config_8c_source.html#l00165">get_default_flavor()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="lustre__sec_8h_source.html#l00336">sptlrpc_rule::sr_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00333">sptlrpc_rule::sr_from</a>, <a class="el" href="lustre__sec_8h_source.html#l00332">sptlrpc_rule::sr_netid</a>, <a class="el" href="lustre__sec_8h_source.html#l00335">sptlrpc_rule::sr_padding</a>, and <a class="el" href="lustre__sec_8h_source.html#l00334">sptlrpc_rule::sr_to</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00186">sptlrpc_parse_rule()</a>.</p>

</div>
</div>
<a class="anchor" id="acd117f564a0a68dd8348b65a858d72dd"></a><!-- doxytag: member="sec_config.c::sptlrpc_rule_set_extract" ref="acd117f564a0a68dd8348b65a858d72dd" args="(struct sptlrpc_rule_set *gen, struct sptlrpc_rule_set *tgt, enum lustre_sec_part from, enum lustre_sec_part to, struct sptlrpc_rule_set *rset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sptlrpc_rule_set_extract </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>gen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>tgt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00448">448</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="sec__config_8c_source.html#l00313">sptlrpc_rule_set_merge()</a>, <a class="el" href="lustre__sec_8h_source.html#l00333">sptlrpc_rule::sr_from</a>, <a class="el" href="lustre__sec_8h_source.html#l00334">sptlrpc_rule::sr_to</a>, <a class="el" href="lustre__sec_8h_source.html#l00347">sptlrpc_rule_set::srs_nrule</a>, and <a class="el" href="lustre__sec_8h_source.html#l00348">sptlrpc_rule_set::srs_rules</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01148">sptlrpc_conf_target_get_rules()</a>.</p>

</div>
</div>
<a class="anchor" id="ad380e13bdbff5967c98787a455379e98"></a><!-- doxytag: member="sec_config.c::sptlrpc_target_local_copy_conf" ref="ad380e13bdbff5967c98787a455379e98" args="(struct obd_device *obd, struct sptlrpc_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sptlrpc_target_local_copy_conf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l01000">1000</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lvfs_8h_source.html#l00084">ll_lookup_one_len()</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>, <a class="el" href="sec__config_8c_source.html#l00997">LOG_SPTLRPC</a>, <a class="el" href="sec__config_8c_source.html#l00996">LOG_SPTLRPC_TMP</a>, <a class="el" href="sec__ctx_8c_source.html#l00102">lustre_rename()</a>, <a class="el" href="lustre__disk_8h_source.html#l00058">MOUNT_CONFIGS_DIR</a>, <a class="el" href="obd_8h_source.html#l00650">obd_device::obd_lvfs_ctxt</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="sec__ctx_8c_source.html#l00078">pop_ctxt()</a>, <a class="el" href="sec__ctx_8c_source.html#l00050">push_ctxt()</a>, <a class="el" href="lvfs_8h_source.html#l00057">lvfs_run_ctxt::pwdmnt</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="sec__config_8c_source.html#l00982">sptlrpc_record_rules()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01148">sptlrpc_conf_target_get_rules()</a>.</p>

</div>
</div>
<a class="anchor" id="a460be2afa6bac6653d79055687624354"></a><!-- doxytag: member="sec_config.c::sptlrpc_target_local_read_conf" ref="a460be2afa6bac6653d79055687624354" args="(struct obd_device *obd, struct sptlrpc_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sptlrpc_target_local_read_conf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__conf.html">sptlrpc_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l01090">1090</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__log_8h_source.html#l00360">llog_get_size()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog_8c_source.html#l00687">llog_process()</a>, <a class="el" href="sec__config_8c_source.html#l01058">local_read_handler()</a>, <a class="el" href="sec__config_8c_source.html#l00997">LOG_SPTLRPC</a>, <a class="el" href="obd_8h_source.html#l00650">obd_device::obd_lvfs_ctxt</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="sec__ctx_8c_source.html#l00078">pop_ctxt()</a>, <a class="el" href="sec__ctx_8c_source.html#l00050">push_ctxt()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="sec__config_8c_source.html#l00502">sptlrpc_conf::sc_local</a>, <a class="el" href="sec__config_8c_source.html#l00502">sptlrpc_conf::sc_updated</a>, and <a class="el" href="sec__config_8c_source.html#l00542">sptlrpc_conf_free_rsets()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01148">sptlrpc_conf_target_get_rules()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e70f96d7ec7429e37d58c09fa25a425"></a><!-- doxytag: member="sec_config.c::target2fsname" ref="a6e70f96d7ec7429e37d58c09fa25a425" args="(const char *tgt, char *fsname, int buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void target2fsname </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>tgt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00517">517</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="sec__config_8c_source.html#l00511">is_hex()</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00656">__sptlrpc_process_config()</a>, <a class="el" href="sec__config_8c_source.html#l00843">sptlrpc_conf_choose_flavor()</a>, and <a class="el" href="sec__config_8c_source.html#l01148">sptlrpc_conf_target_get_rules()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a780ba03a1d8d691163bb0ff132fa3e92"></a><!-- doxytag: member="sec_config.c::sptlrpc_conf_lock" ref="a780ba03a1d8d691163bb0ff132fa3e92" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mutex <a class="el" href="sec__config_8c.html#a780ba03a1d8d691163bb0ff132fa3e92">sptlrpc_conf_lock</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00508">508</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00656">__sptlrpc_process_config()</a>, <a class="el" href="sec__config_8c_source.html#l00843">sptlrpc_conf_choose_flavor()</a>, <a class="el" href="sec__config_8c_source.html#l01217">sptlrpc_conf_fini()</a>, <a class="el" href="sec__config_8c_source.html#l01210">sptlrpc_conf_init()</a>, <a class="el" href="sec__config_8c_source.html#l00789">sptlrpc_conf_log_start()</a>, <a class="el" href="sec__config_8c_source.html#l00802">sptlrpc_conf_log_stop()</a>, <a class="el" href="sec__config_8c_source.html#l00737">sptlrpc_conf_log_update_begin()</a>, <a class="el" href="sec__config_8c_source.html#l00763">sptlrpc_conf_log_update_end()</a>, and <a class="el" href="sec__config_8c_source.html#l01148">sptlrpc_conf_target_get_rules()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e13e47889312f91d199556b88323de8"></a><!-- doxytag: member="sec_config.c::sptlrpc_confs" ref="a2e13e47889312f91d199556b88323de8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="sec__config_8c.html#a2e13e47889312f91d199556b88323de8">sptlrpc_confs</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00509">509</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l01217">sptlrpc_conf_fini()</a>, <a class="el" href="sec__config_8c_source.html#l00595">sptlrpc_conf_get()</a>, and <a class="el" href="sec__config_8c_source.html#l01210">sptlrpc_conf_init()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
