<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/osc/osc_io.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/osc/osc_io.c File Reference</h1><code>#include &lt;<a class="el" href="lustre__obdo_8h_source.html">lustre_obdo.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>&quot;</code><br/>

<p><a href="osc__io_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__data__version__args.html">osc_data_version_args</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osc__io_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_OSC</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__io.html">osc_io</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga769cf4b2800ba0469f6507bcedbe9d5e">cl2osc_io</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaaf150cdcabd9d122b99368a05bedbc8c">osc_io_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga79f53296f735b0466c23c64307375100">osc_read_ahead_release</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cbdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gadcff636c5a584de175dc2d527e2a102a">osc_io_read_ahead</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, struct <a class="el" href="structcl__read__ahead.html">cl_read_ahead</a> *ra)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4eec18a3df58fcee1485aa867a6623d6">osc_io_submit</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios, enum <a class="el" href="group__cl__page.html#ga419215a2ca4eeab85983de8ca5a16a02">cl_req_type</a> crt, struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *queue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An implementation of cl_io_operations::cio_io_submit() method for osc layer.  <a href="group__osc.html#ga4eec18a3df58fcee1485aa867a6623d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaedb1205705add21337da6c2266fe34b0">osc_page_touch_at</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, pgoff_t idx, size_t to)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is called when a page is accessed within file in a way that creates new page, if one were missing (i.e., if there were a hole at that place in the file, or accessed page is beyond the current file size).  <a href="group__osc.html#gaedb1205705add21337da6c2266fe34b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4b4e1d4cec8445eed959b07f9f012b2a">osc_io_commit_async</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *qin, int from, int to, <a class="el" href="group__cl__io.html#ga54c4de6c969138d0642ef59a1ff5e0b0">cl_commit_cbt</a> cb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad6193cbe8988b8402378b0b063843296">osc_io_iter_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga30de99761887dd8836683c58340b5eec">osc_io_write_iter_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3acd17fcfe4ed7a83de9aa28f5e3e20a">osc_io_iter_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9bf34b624ad4ddf923dabc76184f04f8">osc_io_write_iter_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa4145327912313a5c5255cd24bd9c823">osc_io_fault_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga39cc6d35e76b7ce505d27c8e9e34df97">osc_async_upcall</a> (void *a, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga51ec23360ac835eb5c70a0590adb8897">trunc_check_cb</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__page.html">osc_page</a> *ops, void *cbdata)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks that there are no pages being written in the extent being truncated.  <a href="group__osc.html#ga51ec23360ac835eb5c70a0590adb8897"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaff8d3b2b93df35029fb016237ea7c833">osc_trunc_check</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__io.html">osc_io</a> *oio, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3137874640ccea94761eec98e930fe90">osc_io_setattr_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0d0749a3436a75c4a4c760918d8e0865">osc_io_setattr_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gadf59bb49a803aaaeedda81ba582d857c">osc_data_version_interpret</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *arg, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gac6d025dc0c8713f1adc877a6ce2e7a22">osc_io_data_version_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7566380261c93cfa1cd62e3ec9500380">osc_io_data_version_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1df91f753088c6882e6d323ab88c0f40">osc_io_read_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9430d1398babba26b11a5869dc088ef0">osc_io_write_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf5fb8c95682b42e8898c7c74d4b94e71">osc_fsync_ost</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct cl_fsync_io *fio)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3b51cf283c434dd7d3b6da6dd59d5c05">osc_io_fsync_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gabb2827cd9b303b439eecb491b0eff325">osc_io_fsync_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8363c6724449b371e1133d313f8b1883">osc_io_ladvise_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf16861c79402ae90a891cf789f4fcc48">osc_io_ladvise_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf3e21ef07ddfb378b4bfa4fa5a435f30">osc_io_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga718b431e8195226a8bd635c9b0c3ed83">osc_io_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__io__operations.html">cl_io_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaba5022d32fa0781e569372cb86ef93ff">osc_io_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="osc_io.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_OSC</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00042">42</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
