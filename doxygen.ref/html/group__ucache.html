<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: ucache</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ucache</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmd__perm.html">md_perm</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmd__identity.html">md_identity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupcall__cache__entry.html">upcall_cache_entry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupcall__cache__ops.html">upcall_cache_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupcall__cache.html">upcall_cache</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga8e8d506a1842245f0b2f9fd7f3d36970">UC_CACHE_NEW</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga86aae2dfd8c84cb7870e9d25d056ba1b">UC_CACHE_ACQUIRING</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gab4aee0c5cc541f3ce784d5bebb4f1607">UC_CACHE_INVALID</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga64927779c203e628628acf567c95d319">UC_CACHE_EXPIRED</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga59bfc019f2b6429ee81f58d2d9040a60">UC_CACHE_IS_NEW</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_NEW)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gaf406f70abf361fe8b29dde05e05c9d49">UC_CACHE_IS_INVALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_INVALID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga3b9a59ae851a3a4e9719df51557c5a85">UC_CACHE_IS_ACQUIRING</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_ACQUIRING)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gac9abb368bfe59bc2ec8390025c1a63bb">UC_CACHE_IS_EXPIRED</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_EXPIRED)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gaf000e795c64143b8f12a0e24afb04953">UC_CACHE_IS_VALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags == 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga5c496729336074ed5904b46d7a8ebea6">UC_CACHE_SET_NEW</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_NEW)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gaa99c77bb0f2ff531bd6ce41016195fd6">UC_CACHE_SET_INVALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_INVALID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga9b9a664740313d66c412a401709b54aa">UC_CACHE_SET_ACQUIRING</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_ACQUIRING)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga7dc154b6f848d51f657d84707fa862bc">UC_CACHE_SET_EXPIRED</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_EXPIRED)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gad95e4b4cd0dd8ffb19ca935ddeb56993">UC_CACHE_SET_VALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags = 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga916d70a49df7382066f3ac2e5dd43204">UC_CACHE_CLEAR_NEW</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_NEW)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga1f875fcee75b3ee50b3b7054085a86f6">UC_CACHE_CLEAR_ACQUIRING</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_ACQUIRING)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga427167036e2923f16912fda5caa9af83">UC_CACHE_CLEAR_INVALID</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_INVALID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga81bee9ca0df20a823ae4bd9440c9102e">UC_CACHE_CLEAR_EXPIRED</a>(i)&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_EXPIRED)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga8c305a8a3b91dcff3648e5d221e45da8">UC_CACHE_HASH_SIZE</a>&nbsp;&nbsp;&nbsp;(128)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gafbb733b13000cbef89ad34f81d710707">UC_CACHE_HASH_INDEX</a>(id)&nbsp;&nbsp;&nbsp;((id) &amp; (UC_CACHE_HASH_SIZE - 1))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga99001e7abf8fbd9982a0df6b0fedca29">UC_CACHE_UPCALL_MAXPATH</a>&nbsp;&nbsp;&nbsp;(1024UL)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structupcall__cache__entry.html">upcall_cache_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gae93c8b65f20884550db308d115a39000">upcall_cache_get_entry</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> key, void *args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga5e76a747caae8426b519cadff0163174">upcall_cache_put_entry</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, struct <a class="el" href="structupcall__cache__entry.html">upcall_cache_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga4b2702f5835e4e751b7273d69b51fdda">upcall_cache_downcall</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, __u32 err, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> key, void *args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga868d8ba9f2b9eb33ec3d826c795548ae">upcall_cache_flush</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, int force)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga5b509fbd3ae479f658d0ec1b8cc271eb">upcall_cache_flush_idle</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#gafbf5f589f7bee143cb6ebfa3573de3ff">upcall_cache_flush_all</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga11b4323101878adb4f74646076cd51c5">upcall_cache_flush_one</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> key, void *args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga059dfb5805e4b52cc037f2445971ae05">upcall_cache_init</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const char *upcall, struct <a class="el" href="structupcall__cache__ops.html">upcall_cache_ops</a> *ops)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ucache.html#ga49e938043b0c9fba3acde64c9d44c4d7">upcall_cache_cleanup</a> (struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *cache)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga86aae2dfd8c84cb7870e9d25d056ba1b"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_ACQUIRING" ref="ga86aae2dfd8c84cb7870e9d25d056ba1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_ACQUIRING&nbsp;&nbsp;&nbsp;0x02</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00049">49</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1f875fcee75b3ee50b3b7054085a86f6"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_CLEAR_ACQUIRING" ref="ga1f875fcee75b3ee50b3b7054085a86f6" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_CLEAR_ACQUIRING</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_ACQUIRING)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00066">66</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00292">upcall_cache_downcall()</a>, and <a class="el" href="upcall__cache_8c_source.html#l00150">upcall_cache_get_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="ga81bee9ca0df20a823ae4bd9440c9102e"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_CLEAR_EXPIRED" ref="ga81bee9ca0df20a823ae4bd9440c9102e" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_CLEAR_EXPIRED</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_EXPIRED)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00068">68</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga427167036e2923f16912fda5caa9af83"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_CLEAR_INVALID" ref="ga427167036e2923f16912fda5caa9af83" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_CLEAR_INVALID</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_INVALID)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00067">67</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga916d70a49df7382066f3ac2e5dd43204"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_CLEAR_NEW" ref="ga916d70a49df7382066f3ac2e5dd43204" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_CLEAR_NEW</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp;= ~UC_CACHE_NEW)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00065">65</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00150">upcall_cache_get_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="ga64927779c203e628628acf567c95d319"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_EXPIRED" ref="ga64927779c203e628628acf567c95d319" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_EXPIRED&nbsp;&nbsp;&nbsp;0x08</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00051">51</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

</div>
</div>
<a class="anchor" id="gafbb733b13000cbef89ad34f81d710707"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_HASH_INDEX" ref="gafbb733b13000cbef89ad34f81d710707" args="(id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_HASH_INDEX</td>
          <td>(</td>
          <td class="paramtype">id&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((id) &amp; (UC_CACHE_HASH_SIZE - 1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00100">100</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00292">upcall_cache_downcall()</a>, <a class="el" href="upcall__cache_8c_source.html#l00387">upcall_cache_flush_one()</a>, and <a class="el" href="upcall__cache_8c_source.html#l00150">upcall_cache_get_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8c305a8a3b91dcff3648e5d221e45da8"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_HASH_SIZE" ref="ga8c305a8a3b91dcff3648e5d221e45da8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_HASH_SIZE&nbsp;&nbsp;&nbsp;(128)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00099">99</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00364">upcall_cache_flush()</a>, and <a class="el" href="upcall__cache_8c_source.html#l00419">upcall_cache_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gab4aee0c5cc541f3ce784d5bebb4f1607"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_INVALID" ref="gab4aee0c5cc541f3ce784d5bebb4f1607" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_INVALID&nbsp;&nbsp;&nbsp;0x04</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00050">50</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b9a59ae851a3a4e9719df51557c5a85"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_IS_ACQUIRING" ref="ga3b9a59ae851a3a4e9719df51557c5a85" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_IS_ACQUIRING</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_ACQUIRING)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00055">55</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00118">check_unlink_entry()</a>, <a class="el" href="upcall__cache_8c_source.html#l00292">upcall_cache_downcall()</a>, and <a class="el" href="upcall__cache_8c_source.html#l00150">upcall_cache_get_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="gac9abb368bfe59bc2ec8390025c1a63bb"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_IS_EXPIRED" ref="gac9abb368bfe59bc2ec8390025c1a63bb" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_IS_EXPIRED</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_EXPIRED)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00056">56</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00109">put_entry()</a>, and <a class="el" href="upcall__cache_8c_source.html#l00292">upcall_cache_downcall()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf406f70abf361fe8b29dde05e05c9d49"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_IS_INVALID" ref="gaf406f70abf361fe8b29dde05e05c9d49" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_IS_INVALID</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_INVALID)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00054">54</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00118">check_unlink_entry()</a>, <a class="el" href="upcall__cache_8c_source.html#l00109">put_entry()</a>, <a class="el" href="upcall__cache_8c_source.html#l00292">upcall_cache_downcall()</a>, and <a class="el" href="upcall__cache_8c_source.html#l00150">upcall_cache_get_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="ga59bfc019f2b6429ee81f58d2d9040a60"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_IS_NEW" ref="ga59bfc019f2b6429ee81f58d2d9040a60" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_IS_NEW</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags &amp; UC_CACHE_NEW)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00053">53</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00150">upcall_cache_get_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf000e795c64143b8f12a0e24afb04953"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_IS_VALID" ref="gaf000e795c64143b8f12a0e24afb04953" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_IS_VALID</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags == 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00057">57</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00118">check_unlink_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8e8d506a1842245f0b2f9fd7f3d36970"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_NEW" ref="ga8e8d506a1842245f0b2f9fd7f3d36970" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_NEW&nbsp;&nbsp;&nbsp;0x01</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00048">48</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9b9a664740313d66c412a401709b54aa"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_SET_ACQUIRING" ref="ga9b9a664740313d66c412a401709b54aa" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_SET_ACQUIRING</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_ACQUIRING)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00061">61</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00150">upcall_cache_get_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7dc154b6f848d51f657d84707fa862bc"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_SET_EXPIRED" ref="ga7dc154b6f848d51f657d84707fa862bc" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_SET_EXPIRED</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_EXPIRED)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00062">62</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00118">check_unlink_entry()</a>, <a class="el" href="upcall__cache_8c_source.html#l00364">upcall_cache_flush()</a>, and <a class="el" href="upcall__cache_8c_source.html#l00387">upcall_cache_flush_one()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa99c77bb0f2ff531bd6ce41016195fd6"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_SET_INVALID" ref="gaa99c77bb0f2ff531bd6ce41016195fd6" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_SET_INVALID</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_INVALID)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00060">60</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00292">upcall_cache_downcall()</a>, and <a class="el" href="upcall__cache_8c_source.html#l00150">upcall_cache_get_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c496729336074ed5904b46d7a8ebea6"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_SET_NEW" ref="ga5c496729336074ed5904b46d7a8ebea6" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_SET_NEW</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags |= UC_CACHE_NEW)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00059">59</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00046">alloc_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="gad95e4b4cd0dd8ffb19ca935ddeb56993"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_SET_VALID" ref="gad95e4b4cd0dd8ffb19ca935ddeb56993" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_SET_VALID</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((i)-&gt;ue_flags = 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00063">63</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00292">upcall_cache_downcall()</a>.</p>

</div>
</div>
<a class="anchor" id="ga99001e7abf8fbd9982a0df6b0fedca29"></a><!-- doxytag: member="upcall_cache.h::UC_CACHE_UPCALL_MAXPATH" ref="ga99001e7abf8fbd9982a0df6b0fedca29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UC_CACHE_UPCALL_MAXPATH&nbsp;&nbsp;&nbsp;(1024UL)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00101">101</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__lproc_8c_source.html#l00291">mdt_identity_upcall_seq_write()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga49e938043b0c9fba3acde64c9d44c4d7"></a><!-- doxytag: member="upcall_cache.h::upcall_cache_cleanup" ref="ga49e938043b0c9fba3acde64c9d44c4d7" args="(struct upcall_cache *cache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void upcall_cache_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8c_source.html#l00445">445</a> of file <a class="el" href="upcall__cache_8c_source.html">upcall_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, and <a class="el" href="upcall__cache_8h_source.html#l00146">upcall_cache_flush_all()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04447">mdt_fini()</a>, and <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4b2702f5835e4e751b7273d69b51fdda"></a><!-- doxytag: member="upcall_cache.h::upcall_cache_downcall" ref="ga4b2702f5835e4e751b7273d69b51fdda" args="(struct upcall_cache *cache, __u32 err, __u64 key, void *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upcall_cache_downcall </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8c_source.html#l00292">292</a> of file <a class="el" href="upcall__cache_8c_source.html">upcall_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00141">D_OTHER</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="upcall__cache_8c_source.html#l00091">downcall_compare()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="upcall__cache_8c_source.html#l00104">get_entry()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="structupcall__cache__ops.html#a5a7c98bcbe45e9782bf3f59af11e7a3e">upcall_cache_ops::parse_downcall</a>, <a class="el" href="upcall__cache_8c_source.html#l00109">put_entry()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="upcall__cache_8h_source.html#l00066">UC_CACHE_CLEAR_ACQUIRING</a>, <a class="el" href="upcall__cache_8h_source.html#l00100">UC_CACHE_HASH_INDEX</a>, <a class="el" href="upcall__cache_8h_source.html#l00055">UC_CACHE_IS_ACQUIRING</a>, <a class="el" href="upcall__cache_8h_source.html#l00056">UC_CACHE_IS_EXPIRED</a>, <a class="el" href="upcall__cache_8h_source.html#l00054">UC_CACHE_IS_INVALID</a>, <a class="el" href="upcall__cache_8h_source.html#l00060">UC_CACHE_SET_INVALID</a>, <a class="el" href="upcall__cache_8h_source.html#l00063">UC_CACHE_SET_VALID</a>, <a class="el" href="upcall__cache_8h_source.html#l00129">upcall_cache::uc_entry_expire</a>, <a class="el" href="upcall__cache_8h_source.html#l00122">upcall_cache::uc_hashtable</a>, <a class="el" href="upcall__cache_8h_source.html#l00123">upcall_cache::uc_lock</a>, <a class="el" href="upcall__cache_8h_source.html#l00126">upcall_cache::uc_name</a>, <a class="el" href="upcall__cache_8h_source.html#l00130">upcall_cache::uc_ops</a>, <a class="el" href="upcall__cache_8h_source.html#l00093">upcall_cache_entry::ue_expire</a>, <a class="el" href="upcall__cache_8h_source.html#l00087">upcall_cache_entry::ue_hash</a>, <a class="el" href="upcall__cache_8h_source.html#l00088">upcall_cache_entry::ue_key</a>, and <a class="el" href="upcall__cache_8h_source.html#l00091">upcall_cache_entry::ue_waitq</a>.</p>

<p>Referenced by <a class="el" href="mdt__lproc_8c_source.html#l00358">lprocfs_identity_info_seq_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga868d8ba9f2b9eb33ec3d826c795548ae"></a><!-- doxytag: member="upcall_cache.h::upcall_cache_flush" ref="ga868d8ba9f2b9eb33ec3d826c795548ae" args="(struct upcall_cache *cache, int force)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void upcall_cache_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>force</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8c_source.html#l00364">364</a> of file <a class="el" href="upcall__cache_8c_source.html">upcall_cache.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="upcall__cache_8c_source.html#l00066">free_entry()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="upcall__cache_8h_source.html#l00099">UC_CACHE_HASH_SIZE</a>, <a class="el" href="upcall__cache_8h_source.html#l00062">UC_CACHE_SET_EXPIRED</a>, <a class="el" href="upcall__cache_8h_source.html#l00122">upcall_cache::uc_hashtable</a>, <a class="el" href="upcall__cache_8h_source.html#l00123">upcall_cache::uc_lock</a>, <a class="el" href="upcall__cache_8h_source.html#l00087">upcall_cache_entry::ue_hash</a>, and <a class="el" href="upcall__cache_8h_source.html#l00089">upcall_cache_entry::ue_refcount</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8h_source.html#l00146">upcall_cache_flush_all()</a>, and <a class="el" href="upcall__cache_8h_source.html#l00141">upcall_cache_flush_idle()</a>.</p>

</div>
</div>
<a class="anchor" id="gafbf5f589f7bee143cb6ebfa3573de3ff"></a><!-- doxytag: member="upcall_cache.h::upcall_cache_flush_all" ref="gafbf5f589f7bee143cb6ebfa3573de3ff" args="(struct upcall_cache *cache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_cache_flush_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00146">146</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>References <a class="el" href="upcall__cache_8c_source.html#l00364">upcall_cache_flush()</a>.</p>

<p>Referenced by <a class="el" href="upcall__cache_8c_source.html#l00445">upcall_cache_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5b509fbd3ae479f658d0ec1b8cc271eb"></a><!-- doxytag: member="upcall_cache.h::upcall_cache_flush_idle" ref="ga5b509fbd3ae479f658d0ec1b8cc271eb" args="(struct upcall_cache *cache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_cache_flush_idle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8h_source.html#l00141">141</a> of file <a class="el" href="upcall__cache_8h_source.html">upcall_cache.h</a>.</p>

<p>References <a class="el" href="upcall__cache_8c_source.html#l00364">upcall_cache_flush()</a>.</p>

<p>Referenced by <a class="el" href="mdt__identity_8c_source.html#l00236">mdt_flush_identity()</a>.</p>

</div>
</div>
<a class="anchor" id="ga11b4323101878adb4f74646076cd51c5"></a><!-- doxytag: member="upcall_cache.h::upcall_cache_flush_one" ref="ga11b4323101878adb4f74646076cd51c5" args="(struct upcall_cache *cache, __u64 key, void *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void upcall_cache_flush_one </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8c_source.html#l00387">387</a> of file <a class="el" href="upcall__cache_8c_source.html">upcall_cache.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="upcall__cache_8c_source.html#l00066">free_entry()</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="upcall__cache_8h_source.html#l00100">UC_CACHE_HASH_INDEX</a>, <a class="el" href="upcall__cache_8h_source.html#l00062">UC_CACHE_SET_EXPIRED</a>, <a class="el" href="upcall__cache_8h_source.html#l00122">upcall_cache::uc_hashtable</a>, <a class="el" href="upcall__cache_8h_source.html#l00123">upcall_cache::uc_lock</a>, <a class="el" href="upcall__cache_8h_source.html#l00126">upcall_cache::uc_name</a>, <a class="el" href="upcall__cache_8h_source.html#l00092">upcall_cache_entry::ue_acquire_expire</a>, <a class="el" href="upcall__cache_8h_source.html#l00093">upcall_cache_entry::ue_expire</a>, <a class="el" href="upcall__cache_8h_source.html#l00090">upcall_cache_entry::ue_flags</a>, <a class="el" href="upcall__cache_8h_source.html#l00087">upcall_cache_entry::ue_hash</a>, <a class="el" href="upcall__cache_8h_source.html#l00088">upcall_cache_entry::ue_key</a>, <a class="el" href="upcall__cache_8h_source.html#l00089">upcall_cache_entry::ue_refcount</a>, and <a class="el" href="upcall__cache_8c_source.html#l00078">upcall_compare()</a>.</p>

<p>Referenced by <a class="el" href="mdt__identity_8c_source.html#l00236">mdt_flush_identity()</a>.</p>

</div>
</div>
<a class="anchor" id="gae93c8b65f20884550db308d115a39000"></a><!-- doxytag: member="upcall_cache.h::upcall_cache_get_entry" ref="gae93c8b65f20884550db308d115a39000" args="(struct upcall_cache *cache, __u64 key, void *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structupcall__cache__entry.html">upcall_cache_entry</a>* upcall_cache_get_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8c_source.html#l00150">150</a> of file <a class="el" href="upcall__cache_8c_source.html">upcall_cache.c</a>.</p>

<p>References <a class="el" href="upcall__cache_8c_source.html#l00046">alloc_entry()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="upcall__cache_8c_source.html#l00118">check_unlink_entry()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="upcall__cache_8c_source.html#l00066">free_entry()</a>, <a class="el" href="upcall__cache_8c_source.html#l00104">get_entry()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00137">list_move()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="upcall__cache_8c_source.html#l00109">put_entry()</a>, <a class="el" href="upcall__cache_8c_source.html#l00143">refresh_entry()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="upcall__cache_8h_source.html#l00128">upcall_cache::uc_acquire_expire</a>, <a class="el" href="upcall__cache_8h_source.html#l00066">UC_CACHE_CLEAR_ACQUIRING</a>, <a class="el" href="upcall__cache_8h_source.html#l00065">UC_CACHE_CLEAR_NEW</a>, <a class="el" href="upcall__cache_8h_source.html#l00100">UC_CACHE_HASH_INDEX</a>, <a class="el" href="upcall__cache_8h_source.html#l00055">UC_CACHE_IS_ACQUIRING</a>, <a class="el" href="upcall__cache_8h_source.html#l00054">UC_CACHE_IS_INVALID</a>, <a class="el" href="upcall__cache_8h_source.html#l00053">UC_CACHE_IS_NEW</a>, <a class="el" href="upcall__cache_8h_source.html#l00061">UC_CACHE_SET_ACQUIRING</a>, <a class="el" href="upcall__cache_8h_source.html#l00060">UC_CACHE_SET_INVALID</a>, <a class="el" href="upcall__cache_8h_source.html#l00122">upcall_cache::uc_hashtable</a>, <a class="el" href="upcall__cache_8h_source.html#l00123">upcall_cache::uc_lock</a>, <a class="el" href="upcall__cache_8h_source.html#l00092">upcall_cache_entry::ue_acquire_expire</a>, <a class="el" href="upcall__cache_8h_source.html#l00087">upcall_cache_entry::ue_hash</a>, <a class="el" href="upcall__cache_8h_source.html#l00088">upcall_cache_entry::ue_key</a>, <a class="el" href="upcall__cache_8h_source.html#l00091">upcall_cache_entry::ue_waitq</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="upcall__cache_8c_source.html#l00078">upcall_compare()</a>.</p>

<p>Referenced by <a class="el" href="mdt__identity_8c_source.html#l00204">mdt_identity_get()</a>.</p>

</div>
</div>
<a class="anchor" id="ga059dfb5805e4b52cc037f2445971ae05"></a><!-- doxytag: member="upcall_cache.h::upcall_cache_init" ref="ga059dfb5805e4b52cc037f2445971ae05" args="(const char *name, const char *upcall, struct upcall_cache_ops *ops)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structupcall__cache.html">upcall_cache</a>* upcall_cache_init </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache__ops.html">upcall_cache_ops</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8c_source.html#l00419">419</a> of file <a class="el" href="upcall__cache_8c_source.html">upcall_cache.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="libcfs__private_8h_source.html#l00291">LIBCFS_ALLOC</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>, <a class="el" href="upcall__cache_8h_source.html#l00128">upcall_cache::uc_acquire_expire</a>, <a class="el" href="upcall__cache_8h_source.html#l00099">UC_CACHE_HASH_SIZE</a>, <a class="el" href="upcall__cache_8h_source.html#l00129">upcall_cache::uc_entry_expire</a>, <a class="el" href="upcall__cache_8h_source.html#l00122">upcall_cache::uc_hashtable</a>, <a class="el" href="upcall__cache_8h_source.html#l00123">upcall_cache::uc_lock</a>, <a class="el" href="upcall__cache_8h_source.html#l00126">upcall_cache::uc_name</a>, <a class="el" href="upcall__cache_8h_source.html#l00130">upcall_cache::uc_ops</a>, <a class="el" href="upcall__cache_8h_source.html#l00127">upcall_cache::uc_upcall</a>, and <a class="el" href="upcall__cache_8h_source.html#l00124">upcall_cache::uc_upcall_rwlock</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5e76a747caae8426b519cadff0163174"></a><!-- doxytag: member="upcall_cache.h::upcall_cache_put_entry" ref="ga5e76a747caae8426b519cadff0163174" args="(struct upcall_cache *cache, struct upcall_cache_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void upcall_cache_put_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache.html">upcall_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structupcall__cache__entry.html">upcall_cache_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upcall__cache_8c_source.html#l00274">274</a> of file <a class="el" href="upcall__cache_8c_source.html">upcall_cache.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="upcall__cache_8c_source.html#l00109">put_entry()</a>, <a class="el" href="upcall__cache_8h_source.html#l00123">upcall_cache::uc_lock</a>, and <a class="el" href="upcall__cache_8h_source.html#l00089">upcall_cache_entry::ue_refcount</a>.</p>

<p>Referenced by <a class="el" href="mdt__identity_8c_source.html#l00220">mdt_identity_put()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:52 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
