<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/include/lustre/lustreapi.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/include/lustre/lustreapi.h File Reference</h1><code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__user_8h_source.html">lustre/lustre_user.h</a>&gt;</code><br/>

<p><a href="lustreapi_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllapi__stripe__param.html">llapi_stripe_param</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfind__param.html">find_param</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(a)&nbsp;&nbsp;&nbsp;((sizeof(a)) / (sizeof((a)[0])))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga98869aa04b7409448e1c5cb3e0ed8b35">LLAPI_MSG_MASK</a>&nbsp;&nbsp;&nbsp;0x00000007</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gafc58f91da8053599135f6ce840be86cf">LLAPI_MSG_NO_ERRNO</a>&nbsp;&nbsp;&nbsp;0x00000010</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gadca2260b21d63cb102a3abd921edc5d5">llapi_err_noerrno</a>(level, fmt, a...)&nbsp;&nbsp;&nbsp;llapi_error((level) | LLAPI_MSG_NO_ERRNO, 0, fmt, ## a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga0d7cdb94baf8e15f59fe658b7f67ce0a">HAVE_LLAPI_FILE_LOOKUP</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga85ddb21f601e117c5b2241f8d60dd4ed">VERBOSE_COUNT</a>&nbsp;&nbsp;&nbsp;0x1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga6123dd8de16c49e41fd3e844b4d81f60">VERBOSE_SIZE</a>&nbsp;&nbsp;&nbsp;0x2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga5bc80d7f40d343ff01cd97c73a21ed0d">VERBOSE_OFFSET</a>&nbsp;&nbsp;&nbsp;0x4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga4cf7fd49e9f6d4ae0380018df9016127">VERBOSE_POOL</a>&nbsp;&nbsp;&nbsp;0x8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga4735fcda00d9a9e0a38d3c39e28f9378">VERBOSE_DETAIL</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga9e06734ee293cae820211083d5262e98">VERBOSE_OBJID</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga637750f5cd8ff16bdc2b9191ae562b73">VERBOSE_GENERATION</a>&nbsp;&nbsp;&nbsp;0x40</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga2cfc368ed6b0ac8764ed7aeed89df2ad">VERBOSE_MDTINDEX</a>&nbsp;&nbsp;&nbsp;0x80</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga69c59929cfba3d9179f094ec08c32934">VERBOSE_LAYOUT</a>&nbsp;&nbsp;&nbsp;0x100</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga3272ba7130a68924677ab1db2486275b">VERBOSE_ALL</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga7858313d505ffbe0e22d7323c2e28286">HAVE_LLAPI_IS_LUSTRE_MNT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaae6c86b6a39bbe606e12689554d00c18">HAVE_CHANGELOG_EXTEND_REC</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a570a7977c56bd119e87e2f51f1c5b188">LAYOUT_GET_EXPECTED</a>&nbsp;&nbsp;&nbsp;0x1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#ab8862da7a8ff08c2fed294250a03a977">LLAPI_LAYOUT_INVALID</a>&nbsp;&nbsp;&nbsp;0x1000000000000001ULL</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Not a valid stripe size, offset, or RAID pattern.  <a href="#ab8862da7a8ff08c2fed294250a03a977"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#ad4dc01bf1198e1afb7926fc75cb5212b">LLAPI_LAYOUT_DEFAULT</a>&nbsp;&nbsp;&nbsp;(LLAPI_LAYOUT_INVALID + 1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">When specified or returned as the value for stripe count, stripe size, offset, or RAID pattern, the filesystem-wide default behavior will apply.  <a href="#ad4dc01bf1198e1afb7926fc75cb5212b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a579ffa3afe7f22f471a933aa79642a9c">LLAPI_LAYOUT_WIDE</a>&nbsp;&nbsp;&nbsp;(LLAPI_LAYOUT_INVALID + 2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">When specified or returned as the value for stripe count, all available OSTs will be used.  <a href="#a579ffa3afe7f22f471a933aa79642a9c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#ad77be0c04e731ed9236ebe177dc0456f">LLAPI_LAYOUT_RAID0</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">When specified as the value for layout pattern, file objects will be stored using RAID0.  <a href="#ad77be0c04e731ed9236ebe177dc0456f"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gad263ffb1750f15fd2f683c3066825522">llapi_cb_t</a> )(char *obd_type_name, char *obd_name, char *<a class="el" href="structobd__uuid.html">obd_uuid</a>, void *args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gac0308ef91064adec82c1085bfc404158">llapi_log_callback_t</a> )(enum <a class="el" href="group__llapi.html#ga335ce00457bf035f2e92c206c0d05568">llapi_message_level</a> level, int err, const char *fmt, va_list ap)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga335ce00457bf035f2e92c206c0d05568">llapi_message_level</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__llapi.html#gga335ce00457bf035f2e92c206c0d05568a33e10374d35bf22e3023ebfbfe10ea2b">LLAPI_MSG_OFF</a> =  0, 
<a class="el" href="group__llapi.html#gga335ce00457bf035f2e92c206c0d05568ae9fcd738339de0cdce69c3face26e2ad">LLAPI_MSG_FATAL</a> =  1, 
<a class="el" href="group__llapi.html#gga335ce00457bf035f2e92c206c0d05568ad676c3167e493ed38e7bd4dbcb077f82">LLAPI_MSG_ERROR</a> =  2, 
<a class="el" href="group__llapi.html#gga335ce00457bf035f2e92c206c0d05568a3412b8a45097a6871d6cbe736e5dc96d">LLAPI_MSG_WARN</a> =  3, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__llapi.html#gga335ce00457bf035f2e92c206c0d05568acb30e3d29d4da297382c87324f022db9">LLAPI_MSG_NORMAL</a> =  4, 
<a class="el" href="group__llapi.html#gga335ce00457bf035f2e92c206c0d05568a1ce8e2144bf0ee1cbc198a5a7587d7f7">LLAPI_MSG_INFO</a> =  5, 
<a class="el" href="group__llapi.html#gga335ce00457bf035f2e92c206c0d05568a7317e82864f81e2051ee2707f7a238b6">LLAPI_MSG_DEBUG</a> =  6, 
<a class="el" href="group__llapi.html#gga335ce00457bf035f2e92c206c0d05568ab104259fae19f0ec559a87f8688f8b59">LLAPI_MSG_MAX</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga69decbb4e3b26632bc584f5b4c4b08c2">llapi_msg_level2str</a> (enum <a class="el" href="group__llapi.html#ga335ce00457bf035f2e92c206c0d05568">llapi_message_level</a> level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga855b585cacedf642b76b5506d4d067b3">llapi_msg_set_level</a> (int level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga05a9b288d8fd4bd49eac3fbcf33f5e82">llapi_msg_get_level</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__llapi.html#gac0308ef91064adec82c1085bfc404158">llapi_log_callback_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga8db697eb702075e7bd1b7a3eee23dae8">llapi_error_callback_set</a> (<a class="el" href="group__llapi.html#gac0308ef91064adec82c1085bfc404158">llapi_log_callback_t</a> cb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a custom error logging function.  <a href="group__llapi.html#ga8db697eb702075e7bd1b7a3eee23dae8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__llapi.html#gac0308ef91064adec82c1085bfc404158">llapi_log_callback_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaa794f0f94fc56b7d5ded3b97ad8f966c">llapi_info_callback_set</a> (<a class="el" href="group__llapi.html#gac0308ef91064adec82c1085bfc404158">llapi_log_callback_t</a> cb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a custom info logging function.  <a href="group__llapi.html#gaa794f0f94fc56b7d5ded3b97ad8f966c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga315938c57a626bde7a668f860d211ea0">llapi_error</a> (enum <a class="el" href="group__llapi.html#ga335ce00457bf035f2e92c206c0d05568">llapi_message_level</a> level, int err, const char *fmt,...) __attribute__((__format__(__printf__</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga004859c04c7a3ee35ffd90ef227c2db4">llapi_printf</a> (enum <a class="el" href="group__llapi.html#ga335ce00457bf035f2e92c206c0d05568">llapi_message_level</a> level, const char *fmt,...) __attribute__((__format__(__printf__</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gac3a99b881313d663dbf6babea2b8202c">llapi_file_open_param</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int flags, mode_t <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, const struct <a class="el" href="structllapi__stripe__param.html">llapi_stripe_param</a> *param)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a Lustre file.  <a href="group__llapi.html#gac3a99b881313d663dbf6babea2b8202c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga42d548524b99dad00a7c254655c10aea">llapi_file_create</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, unsigned long long stripe_size, int stripe_offset, int stripe_count, int stripe_pattern)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga4ab2dca0e709fbbdff900f0abbd5baf9">llapi_file_open</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int flags, int <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, unsigned long long stripe_size, int stripe_offset, int stripe_count, int stripe_pattern)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaafec67dde5ee10e6994c71a4b8ee0689">llapi_file_create_pool</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, unsigned long long stripe_size, int stripe_offset, int stripe_count, int stripe_pattern, char *pool_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga9f844f3e56759b6e2b626ce40979bf97">llapi_file_open_pool</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int flags, int <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, unsigned long long stripe_size, int stripe_offset, int stripe_count, int stripe_pattern, char *pool_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga0d336359b969db810c58915215ef4ed4">llapi_poollist</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga65ff2acbd45636796734faad3f8afc81">llapi_get_poollist</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, char **poollist, int list_size, char *buffer, int buffer_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the list of pools in a filesystem.  <a href="group__llapi.html#ga65ff2acbd45636796734faad3f8afc81"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaa3e9bdb0dfe48d7ed11d10630b34f3fe">llapi_get_poolmembers</a> (const char *<a class="el" href="llapi__layout__test_8c.html#a9d096844ad7d6672fe415306cd352062">poolname</a>, char **members, int list_size, char *buffer, int buffer_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the list of pool members.  <a href="group__llapi.html#gaa3e9bdb0dfe48d7ed11d10630b34f3fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga87ce9ea36dfde2cd79c301ba00060bf8">llapi_file_get_stripe</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct lov_user_md *lum)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gae4ad6feea87f82f02700db53577fb168">llapi_file_lookup</a> (int dirfd, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gabdfc54de2e3950921e487cfe56649926">llapi_ostlist</a> (char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct <a class="el" href="structfind__param.html">find_param</a> *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gae37b5f3934f11d4c267b4594bc5096e2">llapi_uuid_match</a> (char *real_uuid, char *search_uuid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga62bd783920582bf19cbef1f6057482a1">llapi_getstripe</a> (char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct <a class="el" href="structfind__param.html">find_param</a> *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaf27c1220f2f93f05fdde74531a7e473a">llapi_find</a> (char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct <a class="el" href="structfind__param.html">find_param</a> *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga1de394c7bd29ac5fbcaf8f9d7316848d">llapi_file_fget_mdtidx</a> (int fd, int *mdtidx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga123be2d7352befd56cb48dd96024a88f">llapi_dir_set_default_lmv_stripe</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int stripe_offset, int stripe_count, int stripe_pattern, const char *pool_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaab31d5486f7cc0806555873750ce37c3">llapi_dir_create_pool</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int flags, int stripe_offset, int stripe_count, int stripe_pattern, const char *<a class="el" href="llapi__layout__test_8c.html#a9d096844ad7d6672fe415306cd352062">poolname</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaee88e211d19a83239500890dc2566160">llapi_direntry_remove</a> (char *dname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gafbedc10fd7f98509049df62b9ce42802">llapi_obd_statfs</a> (char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, __u32 type, __u32 index, struct <a class="el" href="structobd__statfs.html">obd_statfs</a> *stat_buf, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *uuid_buf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga66a04fbf7157e1b6a049c040101176b5">llapi_ping</a> (char *<a class="el" href="structobd__type.html">obd_type</a>, char *obd_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga8f838de5f04d010bd34ec4e1f262767a">llapi_target_check</a> (int num_types, char **<a class="el" href="class__obd_8c.html#ae8a5565221053b29d97f7a4f7f071e21">obd_types</a>, char *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gad06a5f4c8be1f3d08252b5494accbfdb">llapi_file_get_lov_uuid</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *lov_uuid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga5317c62998e8f6909c3e8adac1bbe696">llapi_file_get_lmv_uuid</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *lmv_uuid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gadf08b86b2792afa9ba93b678ed1e53ae">llapi_file_fget_lov_uuid</a> (int fd, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *lov_uuid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga4a23f9ab3ab755b0a8004c74b607519c">llapi_lov_get_uuids</a> (int fd, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *uuidp, int *ost_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gad5adb0dd829f136997de97d0db8a7db4">llapi_lmv_get_uuids</a> (int fd, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *uuidp, int *<a class="el" href="mdsrate_8c.html#ae47309a0c2795892ea7e7cd5859bc596">mdt_count</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gad9a566e1bd6bfe4b7281f629813ed706">llapi_is_lustre_mnttype</a> (const char *type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga17ffa4b669a8b368f002d28fda4b16d3">llapi_search_ost</a> (char *fsname, char *<a class="el" href="llapi__layout__test_8c.html#a9d096844ad7d6672fe415306cd352062">poolname</a>, char *ostname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gadd3005be8753655ceb746328b620b716">llapi_get_obd_count</a> (char *mnt, int *count, int is_mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga94c34eb3d77f1512eada7264bc8ee659">llapi_parse_size</a> (const char *<a class="el" href="rename__many_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>, unsigned long long *<a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, unsigned long long *size_units, int bytes_spec)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">size_units is to be initialized (or zeroed) by caller.  <a href="group__llapi.html#ga94c34eb3d77f1512eada7264bc8ee659"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga38febe08e228a854926ed95068b9d629">llapi_search_mounts</a> (const char *pathname, int index, char *mntdir, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gae92b583ed1e09e4afcb845fa4997add7">llapi_search_fsname</a> (const char *pathname, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga53161182aeef981851b8990c73be2ae2">llapi_getname</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, size_t <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gad38166c43d4bc530bfdd80e5115660ae">llapi_search_fileset</a> (const char *pathname, char *fileset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga27cde37fa53d0cf1fb9589509330fb2c">llapi_search_rootpath</a> (char *pathname, const char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga4c523ab63e009cc65fcf973d7a1c7149">llapi_nodemap_exists</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gade985f0cd753f1460c929dbe41e47728">llapi_migrate_mdt</a> (char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct <a class="el" href="structfind__param.html">find_param</a> *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga8f6eb116de57b4cf9c4130dee95c9025">llapi_mv</a> (char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct <a class="el" href="structfind__param.html">find_param</a> *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaa2979b78b928692e5fe7f926a8f40da2">llapi_is_lustre_mnt</a> (struct mntent *mnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gae20aedb4e8d8076b29aa459f3bf55fc2">llapi_quotactl</a> (char *mnt, struct <a class="el" href="structif__quotactl.html">if_quotactl</a> *qctl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga99e60f4daf6b482c97a4aca29e723826">llapi_target_iterate</a> (int type_num, char **<a class="el" href="structobd__type.html">obd_type</a>, void *args, <a class="el" href="group__llapi.html#gad263ffb1750f15fd2f683c3066825522">llapi_cb_t</a> cb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga6a2413516b119ad449c18e5c7f26692e">llapi_get_connect_flags</a> (const char *mnt, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga964474284fdaa73f643cc200c90cfe39">llapi_lsetfacl</a> (int argc, char *argv[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga408268dc213693f1495ca66f5555b520">llapi_lgetfacl</a> (int argc, char *argv[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga9543334db265f2df4e8cabbd11241749">llapi_rsetfacl</a> (int argc, char *argv[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga0c75172424e7eb978a7759eaf9922ecd">llapi_rgetfacl</a> (int argc, char *argv[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gac5811f65be12ab456f75c0cb895c433b">llapi_cp</a> (int argc, char *argv[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gad0931e23f305efcfd66a7f3a158922b2">llapi_ls</a> (int argc, char *argv[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaa4aed3d5f28ecdf2f9249590c10d6831">llapi_fid2path</a> (const char *device, const char *fidstr, char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, int pathlen, long long *recno, int *linkno)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaf01f7e0bb55475960f42e34de20cbbee">llapi_path2fid</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, <a class="el" href="structlu__fid.html">lustre_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gafc35a9d35e0f9cc1d204454129eae5df">llapi_get_mdt_index_by_fid</a> (int fd, const <a class="el" href="structlu__fid.html">lustre_fid</a> *fid, int *mdt_index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaef932c01e7dd7d0c159a8fa69bd9931a">llapi_fd2fid</a> (const int fd, <a class="el" href="structlu__fid.html">lustre_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gae56156ca5bc6543ed15c87ccbd3ba985">llapi_path2parent</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, unsigned int linkno, <a class="el" href="structlu__fid.html">lustre_fid</a> *parent_fid, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, size_t name_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga8ac07693bb06a6c5cde60be90ad999b5">llapi_fd2parent</a> (int fd, unsigned int linkno, <a class="el" href="structlu__fid.html">lustre_fid</a> *parent_fid, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, size_t name_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gafc10619c76e4c99aaabb01d1f762acee">llapi_chomp_string</a> (char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga3ff3a2f29406fd45315a6ef7fc084bf0">llapi_open_by_fid</a> (const char *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, const <a class="el" href="structlu__fid.html">lustre_fid</a> *fid, int open_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to open a file with Lustre file identifier <em>fid</em> and return an open file descriptor.  <a href="group__llapi.html#ga3ff3a2f29406fd45315a6ef7fc084bf0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga92c323d16597dd7ee4bd14070468021c">llapi_get_version</a> (char *buffer, int buffer_size, char **<a class="el" href="mount__lustre_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga9e9e67e755fe3a7d4db8f3fe2ceb89d0">llapi_get_data_version</a> (int fd, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *data_version, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a 64-bit value representing the version of file data pointed by fd.  <a href="group__llapi.html#ga9e9e67e755fe3a7d4db8f3fe2ceb89d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gae27f3f88ec0e797b2c1a7df9d029b2a7">llapi_hsm_state_get_fd</a> (int fd, struct <a class="el" href="structhsm__user__state.html">hsm_user_state</a> *hus)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the current HSM states and HSM requests related to file pointed by <em>path</em>.  <a href="group__llapi.html#gae27f3f88ec0e797b2c1a7df9d029b2a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga625517cdce6cc479801e10f24fe80bcb">llapi_hsm_state_get</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct <a class="el" href="structhsm__user__state.html">hsm_user_state</a> *hus)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the current HSM states and HSM requests related to file pointed by <em>path</em>.  <a href="group__llapi.html#ga625517cdce6cc479801e10f24fe80bcb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaa69acaf39672b0964307795fac1f19db">llapi_hsm_state_set_fd</a> (int fd, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> setmask, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> clearmask, __u32 archive_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set HSM states of file pointed by <em>fd</em>.  <a href="group__llapi.html#gaa69acaf39672b0964307795fac1f19db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga255ceef5caae75d4aee04f646bd71685">llapi_hsm_state_set</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> setmask, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> clearmask, __u32 archive_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set HSM states of file pointed by <em>path</em>.  <a href="group__llapi.html#ga255ceef5caae75d4aee04f646bd71685"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga89cbac22a82ac6a421bb2aab980c1c3e">llapi_hsm_register_event_fifo</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given a path to a FIFO, create a filehandle for nonblocking writes to it.  <a href="group__llapi.html#ga89cbac22a82ac6a421bb2aab980c1c3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gac7e96e99dacac05914034918fc2114b8">llapi_hsm_unregister_event_fifo</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given a path to a FIFO, close its filehandle and delete the FIFO.  <a href="group__llapi.html#gac7e96e99dacac05914034918fc2114b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gac7cd8c58323ebb952e44bc3864a680f3">llapi_hsm_log_error</a> (enum <a class="el" href="group__llapi.html#ga335ce00457bf035f2e92c206c0d05568">llapi_message_level</a> level, int _rc, const char *fmt, va_list args)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Custom logging callback to be used when a monitoring FIFO has been registered.  <a href="group__llapi.html#gac7cd8c58323ebb952e44bc3864a680f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga23022d8f82017891f4e69058e90129d7">llapi_get_agent_uuid</a> (char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, size_t <a class="el" href="multiop_8c.html#a199ab88d4ca8eab30e1cb7d35edacca5">bufsize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gadb2157ad4b316a8ae7cf5f715c7eaf07">llapi_create_volatile_idx</a> (char *<a class="el" href="mdsrate_8c.html#ae200ffe5a8144d902ca2c3413ff7329d">directory</a>, int idx, int <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaeb0f125a66c9a57a1d4f60263ce2a9ff">llapi_create_volatile</a> (char *<a class="el" href="mdsrate_8c.html#ae200ffe5a8144d902ca2c3413ff7329d">directory</a>, int <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga3789884eb6c61dd49e497ef5ce253ad5">llapi_fswap_layouts_grouplock</a> (int fd1, int fd2, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> dv1, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> dv2, int gid, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Swap the layouts between 2 file descriptors the 2 files must be open for writing first fd received the ioctl, second fd is passed as arg this is assymetric but avoid use of root path for ioctl.  <a href="group__llapi.html#ga3789884eb6c61dd49e497ef5ce253ad5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga1253e1e81e3c37adc3f378007e80670c">llapi_fswap_layouts</a> (int fd1, int fd2, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> dv1, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> dv2, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga19efa4a2d79f761aee59ef5e01b15630">llapi_swap_layouts</a> (const char *path1, const char *path2, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> dv1, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> dv2, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Swap the layouts between 2 files the 2 files are open in write.  <a href="group__llapi.html#ga19efa4a2d79f761aee59ef5e01b15630"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga73d536a65aab56fbc37cb4386460b120">llapi_changelog_start</a> (void **priv, enum <a class="el" href="group__lustreuser.html#gac15c6de166ffb0489cfdbc3f22450476">changelog_send_flag</a> flags, const char *mdtname, long long startrec)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start reading from a changelog.  <a href="group__llapi.html#ga73d536a65aab56fbc37cb4386460b120"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga1ee5507d6f2787dccb55b10cafddd05c">llapi_changelog_fini</a> (void **priv)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finish reading from a changelog.  <a href="group__llapi.html#ga1ee5507d6f2787dccb55b10cafddd05c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga926025458d520539c08b875a2b195624">llapi_changelog_recv</a> (void *priv, struct <a class="el" href="structchangelog__rec.html">changelog_rec</a> **rech)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaecd4f83399ed073c6c02237bdbeab5f4">llapi_changelog_free</a> (struct <a class="el" href="structchangelog__rec.html">changelog_rec</a> **rech)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release the changelog record when done with it.  <a href="group__llapi.html#gaecd4f83399ed073c6c02237bdbeab5f4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga1b608ef896bc4b7c4b7037bfea72e949">llapi_changelog_clear</a> (const char *mdtname, const char *idstr, long long endrec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga56090f57d464ed01de0443ca66f39d18">llapi_hsm_copytool_register</a> (struct <a class="el" href="structhsm__copytool__private.html">hsm_copytool_private</a> **priv, const char *mnt, int archive_count, int *archives, int rfd_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a copytool.  <a href="group__llapi.html#ga56090f57d464ed01de0443ca66f39d18"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga58f3918326074b092e6390939f79568a">llapi_hsm_copytool_unregister</a> (struct <a class="el" href="structhsm__copytool__private.html">hsm_copytool_private</a> **priv)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deregister a copytool Note: under Linux, until llapi_hsm_copytool_unregister is called (or the program is killed), the libcfs module will be referenced and unremovable, even after Lustre services stop.  <a href="group__llapi.html#ga58f3918326074b092e6390939f79568a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga694b0437493484e145b1713c7a1bb9cd">llapi_hsm_copytool_get_fd</a> (struct <a class="el" href="structhsm__copytool__private.html">hsm_copytool_private</a> *ct)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a file descriptor to poll/select on.  <a href="group__llapi.html#ga694b0437493484e145b1713c7a1bb9cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gad18af809c2dda475e759db9e2b066418">llapi_hsm_copytool_recv</a> (struct <a class="el" href="structhsm__copytool__private.html">hsm_copytool_private</a> *priv, struct <a class="el" href="structhsm__action__list.html">hsm_action_list</a> **hal, int *msgsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for the next <a class="el" href="structhsm__action__list.html">hsm_action_list</a>.  <a href="group__llapi.html#gad18af809c2dda475e759db9e2b066418"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gac3922a41eae3a32dc48ccf33f9c3d4ac">llapi_hsm_action_begin</a> (struct <a class="el" href="structhsm__copyaction__private.html">hsm_copyaction_private</a> **phcp, const struct <a class="el" href="structhsm__copytool__private.html">hsm_copytool_private</a> *ct, const struct <a class="el" href="structhsm__action__item.html">hsm_action_item</a> *hai, int restore_mdt_index, int restore_open_flags, bool is_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start processing an HSM action.  <a href="group__llapi.html#gac3922a41eae3a32dc48ccf33f9c3d4ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaea52ba36ba47870c0f8e6586b3d48ecc">llapi_hsm_action_end</a> (struct <a class="el" href="structhsm__copyaction__private.html">hsm_copyaction_private</a> **phcp, const struct <a class="el" href="structhsm__extent.html">hsm_extent</a> *he, int hp_flags, int errval)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Terminate an HSM action processing.  <a href="group__llapi.html#gaea52ba36ba47870c0f8e6586b3d48ecc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga5cc2899f0dbc4a8ec90d6bd0b9b6fe17">llapi_hsm_action_progress</a> (struct <a class="el" href="structhsm__copyaction__private.html">hsm_copyaction_private</a> *hcp, const struct <a class="el" href="structhsm__extent.html">hsm_extent</a> *he, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> total, int hp_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Notify a progress in processing an HSM action.  <a href="group__llapi.html#ga5cc2899f0dbc4a8ec90d6bd0b9b6fe17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga4ca1f4f67749a9a11d48ea661f8ec2f8">llapi_hsm_action_get_dfid</a> (const struct <a class="el" href="structhsm__copyaction__private.html">hsm_copyaction_private</a> *hcp, <a class="el" href="structlu__fid.html">lustre_fid</a> *fid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the fid of object to be used for copying data.  <a href="group__llapi.html#ga4ca1f4f67749a9a11d48ea661f8ec2f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaba84da0225c8950975c3ad76aa402abd">llapi_hsm_action_get_fd</a> (const struct <a class="el" href="structhsm__copyaction__private.html">hsm_copyaction_private</a> *hcp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a file descriptor to be used for copying data.  <a href="group__llapi.html#gaba84da0225c8950975c3ad76aa402abd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga42de7c318652c45b7b86df855b6dd201">llapi_hsm_import</a> (const char *dst, int archive, const struct stat *st, unsigned long long stripe_size, int stripe_offset, int stripe_count, int stripe_pattern, char *pool_name, <a class="el" href="structlu__fid.html">lustre_fid</a> *newfid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Import an existing hsm-archived file into Lustre.  <a href="group__llapi.html#ga42de7c318652c45b7b86df855b6dd201"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhsm__user__request.html">hsm_user_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gae20de186e5b139de98e0a772517676b4">llapi_hsm_user_request_alloc</a> (int itemcount, int data_len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a <a class="el" href="structhsm__user__request.html">hsm_user_request</a> with the specified carateristics.  <a href="group__llapi.html#gae20de186e5b139de98e0a772517676b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaad5620c10129544e26bb083f32d0c8e2">llapi_hsm_request</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, const struct <a class="el" href="structhsm__user__request.html">hsm_user_request</a> *request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a HSM request to Lustre, described in.  <a href="group__llapi.html#gaad5620c10129544e26bb083f32d0c8e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gaf26452d9f0f67d7b3efa39bc790c8349">llapi_hsm_current_action</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct <a class="el" href="structhsm__current__action.html">hsm_current_action</a> *hca)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the current HSM request related to file pointed by <em>path</em>.  <a href="group__llapi.html#gaf26452d9f0f67d7b3efa39bc790c8349"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gab01607fc36bd8fc5fef69a350b1bfc15">llapi_json_init_list</a> (struct <a class="el" href="structllapi__json__item__list.html">llapi_json_item_list</a> **item_list)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a list to hold JSON items.  <a href="group__llapi.html#gab01607fc36bd8fc5fef69a350b1bfc15"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga4b4263f06c811155591bcd320ced1b2b">llapi_json_destroy_list</a> (struct <a class="el" href="structllapi__json__item__list.html">llapi_json_item_list</a> **item_list)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deallocate a list of JSON items.  <a href="group__llapi.html#ga4b4263f06c811155591bcd320ced1b2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga988c169fbd79a5424e9890b6638fb88a">llapi_json_add_item</a> (struct <a class="el" href="structllapi__json__item__list.html">llapi_json_item_list</a> **item_list, char *key, __u32 type, void *val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an item to a list of JSON items.  <a href="group__llapi.html#ga988c169fbd79a5424e9890b6638fb88a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga00638df4cbfdb25fbc73e9a38ca39a8d">llapi_json_write_list</a> (struct <a class="el" href="structllapi__json__item__list.html">llapi_json_item_list</a> **item_list, FILE *fp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a list of JSON items to a filehandle.  <a href="group__llapi.html#ga00638df4cbfdb25fbc73e9a38ca39a8d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga9ec0827918f89d7d933eedd3dbcfae3c">llapi_lease_get</a> (int fd, int <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a lease on an open file.  <a href="group__llapi.html#ga9ec0827918f89d7d933eedd3dbcfae3c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga1d487541bbb98f50f4c34ef1259541bc">llapi_lease_check</a> (int fd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a lease is still set on a file.  <a href="group__llapi.html#ga1d487541bbb98f50f4c34ef1259541bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga55e064e34e9b7c39ad03c5c4b1fb5af8">llapi_lease_put</a> (int fd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a lease.  <a href="group__llapi.html#ga55e064e34e9b7c39ad03c5c4b1fb5af8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#gacea5571bfa6ba5aedcdce8ad702ccce7">llapi_group_lock</a> (int fd, int gid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Take group lock.  <a href="group__llapi.html#gacea5571bfa6ba5aedcdce8ad702ccce7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga050191a3e88b1a109dfd5cfc2fdf32cb">llapi_group_unlock</a> (int fd, int gid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put group lock.  <a href="group__llapi.html#ga050191a3e88b1a109dfd5cfc2fdf32cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga6c3300473beec692ad3518817fc77219">llapi_ladvise</a> (int fd, unsigned long long flags, int num_advise, struct <a class="el" href="structlu__ladvise.html">lu_ladvise</a> *ladvise)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#aa00003862c5ee12a78121e11da3fe964">llapi_layout_get_by_path</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, uint32_t flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer to a newly-allocated opaque data structure containing the layout for the file at <em>path</em>.  <a href="#aa00003862c5ee12a78121e11da3fe964"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a8fc88feb998310828a1f8ad67a6aa430">llapi_layout_get_by_fd</a> (int fd, uint32_t flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer to a newly-allocated opaque data type containing the layout for the file referenced by open file descriptor <em>fd</em>.  <a href="#a8fc88feb998310828a1f8ad67a6aa430"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#aa6a16bf8f19b7a470777e7041d5a5b18">llapi_layout_get_by_fid</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, const <a class="el" href="structlu__fid.html">lustre_fid</a> *fid, uint32_t flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer to a newly-allocated opaque data type containing the layout for the file associated with Lustre file identifier string <em>fidstr</em>.  <a href="#aa6a16bf8f19b7a470777e7041d5a5b18"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#aba5c8af99f41ba57d1c517c303bb769a">llapi_layout_alloc</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a new layout.  <a href="#aba5c8af99f41ba57d1c517c303bb769a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a42ee14c2438c3b50e945e5b47d3ff989">llapi_layout_free</a> (struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free memory allocated for <em>layout</em>.  <a href="#a42ee14c2438c3b50e945e5b47d3ff989"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#aa03b33325afb2811533d7984e98137c1">llapi_layout_stripe_count_get</a> (const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, uint64_t *count)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flags to modify how layouts are retrieved.  <a href="#aa03b33325afb2811533d7984e98137c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#ad192c34803cb2c76a92b94689dab0258">llapi_layout_stripe_count_set</a> (struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, uint64_t count)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the stripe count of <em>layout</em> to <em>count</em>.  <a href="#ad192c34803cb2c76a92b94689dab0258"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#aecd8037cb0e2a12cae7281646dd2c8db">llapi_layout_stripe_size_get</a> (const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, uint64_t *<a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store the stripe size of <em>layout</em> in <em>size</em>.  <a href="#aecd8037cb0e2a12cae7281646dd2c8db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a8a42791ae487195b0091c4aa606c162e">llapi_layout_stripe_size_set</a> (struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, uint64_t <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the stripe size of <em>layout</em> to <em>stripe_size</em>.  <a href="#a8a42791ae487195b0091c4aa606c162e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#ad70aefb2ec78885de9b03e418427e4f7">llapi_layout_pattern_get</a> (const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, uint64_t *pattern)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store the stripe pattern of <em>layout</em> in <em>pattern</em>.  <a href="#ad70aefb2ec78885de9b03e418427e4f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a1b915aee2bc008ace0604b2b417a53d5">llapi_layout_pattern_set</a> (struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, uint64_t pattern)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the stripe pattern of <em>layout</em> to <em>pattern</em>.  <a href="#a1b915aee2bc008ace0604b2b417a53d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a56b6b1959ef5cab4fa70dfd198123baf">llapi_layout_ost_index_get</a> (const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, uint64_t stripe_number, uint64_t *index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store the index of the OST where stripe number <em>stripe_number</em> is stored in <em>index</em>.  <a href="#a56b6b1959ef5cab4fa70dfd198123baf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a4cff3a5eb23fa14509b77bf71e5fcd90">llapi_layout_ost_index_set</a> (struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, int stripe_number, uint64_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the OST index associated with stripe number <em>stripe_number</em> to <em>ost_index</em>.  <a href="#a4cff3a5eb23fa14509b77bf71e5fcd90"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a573ef6fd3d786d343a6a8bc360c8a96c">llapi_layout_pool_name_get</a> (const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, char *pool_name, size_t pool_name_len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store up to <em>pool_name_len</em> characters of the name of the pool of OSTs associated with <em>layout</em> into the buffer pointed to by <em>pool_name</em>.  <a href="#a573ef6fd3d786d343a6a8bc360c8a96c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#af8bb31b9b015bff5eb98d0a94d3cf8ae">llapi_layout_pool_name_set</a> (struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout, const char *pool_name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the name of the pool of OSTs from which file objects will be allocated to <em>pool_name</em>.  <a href="#af8bb31b9b015bff5eb98d0a94d3cf8ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a50989a966bed6a19b6983fe375e7f4cc">llapi_layout_file_open</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, int open_flags, mode_t <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open an existing file at <em>path</em>, or create it with the specified <em>layout</em> and <em>mode</em>.  <a href="#a50989a966bed6a19b6983fe375e7f4cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lustreapi_8h.html#a2d07ab38aca5eea2da076e3fe545c018">llapi_layout_file_create</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, int open_flags, int <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *layout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new file at <em>path</em> with the specified <em>layout</em> and <em>mode</em>.  <a href="#a2d07ab38aca5eea2da076e3fe545c018"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llapi.html#ga443b06fff74be7d9bcb55e2f98b8a8a6">liblustreapi_initialized</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a570a7977c56bd119e87e2f51f1c5b188"></a><!-- doxytag: member="lustreapi.h::LAYOUT_GET_EXPECTED" ref="a570a7977c56bd119e87e2f51f1c5b188" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LAYOUT_GET_EXPECTED&nbsp;&nbsp;&nbsp;0x1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustreapi_8h_source.html#l00423">423</a> of file <a class="el" href="lustreapi_8h_source.html">lustreapi.h</a>.</p>

<p>Referenced by <a class="el" href="liblustreapi__layout_8c_source.html#l00567">llapi_layout_get_by_path()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00677">test16()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00994">test24()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01035">test25()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01074">test26()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l01122">test27()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4dc01bf1198e1afb7926fc75cb5212b"></a><!-- doxytag: member="lustreapi.h::LLAPI_LAYOUT_DEFAULT" ref="ad4dc01bf1198e1afb7926fc75cb5212b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLAPI_LAYOUT_DEFAULT&nbsp;&nbsp;&nbsp;(LLAPI_LAYOUT_INVALID + 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When specified or returned as the value for stripe count, stripe size, offset, or RAID pattern, the filesystem-wide default behavior will apply. </p>

<p>Definition at line <a class="el" href="lustreapi_8h_source.html#l00475">475</a> of file <a class="el" href="lustreapi_8h_source.html">lustreapi.h</a>.</p>

<p>Referenced by <a class="el" href="liblustreapi__layout_8c_source.html#l00270">inherit_layout_attributes()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00291">is_fully_specified()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00304">llapi_layout_alloc()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00123">llapi_layout_from_lum()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00844">llapi_layout_ost_index_get()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00782">llapi_layout_pattern_set()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00657">llapi_layout_stripe_count_is_valid()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00673">llapi_layout_stripe_index_is_valid()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00665">llapi_layout_stripe_size_is_valid()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00189">llapi_layout_to_lum()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00994">test24()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01035">test25()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01074">test26()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01122">test27()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00349">test8()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00389">test9()</a>.</p>

</div>
</div>
<a class="anchor" id="ab8862da7a8ff08c2fed294250a03a977"></a><!-- doxytag: member="lustreapi.h::LLAPI_LAYOUT_INVALID" ref="ab8862da7a8ff08c2fed294250a03a977" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLAPI_LAYOUT_INVALID&nbsp;&nbsp;&nbsp;0x1000000000000001ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Not a valid stripe size, offset, or RAID pattern. </p>

<p>Definition at line <a class="el" href="lustreapi_8h_source.html#l00468">468</a> of file <a class="el" href="lustreapi_8h_source.html">lustreapi.h</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00420">test10()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00462">test11()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00546">test13()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00389">test9()</a>.</p>

</div>
</div>
<a class="anchor" id="ad77be0c04e731ed9236ebe177dc0456f"></a><!-- doxytag: member="lustreapi.h::LLAPI_LAYOUT_RAID0" ref="ad77be0c04e731ed9236ebe177dc0456f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLAPI_LAYOUT_RAID0&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When specified as the value for layout pattern, file objects will be stored using RAID0. </p>
<p>That is, data will be split evenly and without redundancy across all OSTs in the layout. </p>

<p>Definition at line <a class="el" href="lustreapi_8h_source.html#l00488">488</a> of file <a class="el" href="lustreapi_8h_source.html">lustreapi.h</a>.</p>

<p>Referenced by <a class="el" href="liblustreapi__layout_8c_source.html#l00123">llapi_layout_from_lum()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00782">llapi_layout_pattern_set()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00189">llapi_layout_to_lum()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00389">test9()</a>.</p>

</div>
</div>
<a class="anchor" id="a579ffa3afe7f22f471a933aa79642a9c"></a><!-- doxytag: member="lustreapi.h::LLAPI_LAYOUT_WIDE" ref="a579ffa3afe7f22f471a933aa79642a9c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LLAPI_LAYOUT_WIDE&nbsp;&nbsp;&nbsp;(LLAPI_LAYOUT_INVALID + 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When specified or returned as the value for stripe count, all available OSTs will be used. </p>

<p>Definition at line <a class="el" href="lustreapi_8h_source.html#l00481">481</a> of file <a class="el" href="lustreapi_8h_source.html">lustreapi.h</a>.</p>

<p>Referenced by <a class="el" href="liblustreapi__layout_8c_source.html#l00123">llapi_layout_from_lum()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00657">llapi_layout_stripe_count_is_valid()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00189">llapi_layout_to_lum()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00749">test17()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l01172">test28()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aba5c8af99f41ba57d1c517c303bb769a"></a><!-- doxytag: member="lustreapi.h::llapi_layout_alloc" ref="aba5c8af99f41ba57d1c517c303bb769a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structllapi__layout.html">llapi_layout</a>* llapi_layout_alloc </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate a new layout. </p>
<p>Use this when creating a new file with <a class="el" href="lustreapi_8h.html#a2d07ab38aca5eea2da076e3fe545c018" title="Create a new file at path with the specified layout and mode.">llapi_layout_file_create()</a>.</p>
<p>Allocate a new layout.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>valid</em>&nbsp;</td><td><a class="el" href="structllapi__layout.html" title="An Opaque data type abstracting the layout of a Lustre file.">llapi_layout</a> pointer on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>if memory allocation fails </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00304">304</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="liblustreapi__layout_8c_source.html#l00098">__llapi_layout_alloc()</a>, <a class="el" href="lustreapi_8h_source.html#l00475">LLAPI_LAYOUT_DEFAULT</a>, <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00055">llapi_layout::llot_objects_are_valid</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00050">llapi_layout::llot_pattern</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00057">llapi_layout::llot_pool_name</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00052">llapi_layout::llot_stripe_count</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00053">llapi_layout::llot_stripe_offset</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00051">llapi_layout::llot_stripe_size</a>.</p>

<p>Referenced by <a class="el" href="liblustreapi__layout_8c_source.html#l00482">llapi_layout_expected()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00398">llapi_layout_get_by_fd()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00420">test10()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00462">test11()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00505">test12()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00546">test13()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00617">test14()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00634">test15()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00677">test16()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00749">test17()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00792">test18()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00834">test19()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00910">test21()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00389">test9()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d07ab38aca5eea2da076e3fe545c018"></a><!-- doxytag: member="lustreapi.h::llapi_layout_file_create" ref="a2d07ab38aca5eea2da076e3fe545c018" args="(const char *path, int open_flags, int mode, const struct llapi_layout *layout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_file_create </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>open_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new file at <em>path</em> with the specified <em>layout</em> and <em>mode</em>. </p>
<p>One access mode and zero or more file creation flags and file status flags May be bitwise-or'd in <em>open_flags</em> (see open(2)). Return an open file descriptor for the file. If <em>layout</em> is non-NULL and <em>path</em> is not on a Lustre filesystem this function will fail and set errno to ENOTTY.</p>
<p>The function call</p>
<p>llapi_layout_file_create(path, open_flags, mode, layout)</p>
<p>shall be equivalent to:</p>
<p>llapi_layout_file_open(path, open_flags|O_CREAT|O_EXCL, mode, layout)</p>
<p>It is an error if <em>path</em> specifies an existing file.</p>
<p>A NULL <em>layout</em> may be specified, in which the standard Lustre behavior for assigning layouts to newly-created files will apply.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0+</em>&nbsp;</td><td>An open file descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Error with status code in errno.</td></tr>
  </table>
  </dd>
</dl>
<p>Create a new file at <em>path</em> with the specified <em>layout</em> and <em>mode</em>.</p>
<p>Force O_CREAT and O_EXCL flags on so caller is assured that file was created with the given <em>layout</em> on successful function return.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>path</em>&nbsp;</td><td>name of the file to open </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>open_flags</em>&nbsp;</td><td>open() flags </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mode</em>&nbsp;</td><td>permissions to create new file with </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to create new file with</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>non-negative</em>&nbsp;</td><td>file descriptor on successful open </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if an error occurred </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l01002">1002</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="liblustreapi__layout_8c_source.html#l00938">llapi_layout_file_open()</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00546">test13()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00617">test14()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00634">test15()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00677">test16()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00749">test17()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00792">test18()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00910">test21()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00936">test22()</a>.</p>

</div>
</div>
<a class="anchor" id="a50989a966bed6a19b6983fe375e7f4cc"></a><!-- doxytag: member="lustreapi.h::llapi_layout_file_open" ref="a50989a966bed6a19b6983fe375e7f4cc" args="(const char *path, int open_flags, mode_t mode, const struct llapi_layout *layout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_file_open </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>open_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open an existing file at <em>path</em>, or create it with the specified <em>layout</em> and <em>mode</em>. </p>
<p>One access mode and zero or more file creation flags and file status flags May be bitwise-or'd in <em>open_flags</em> (see open(2)). Return an open file descriptor for the file. If <em>layout</em> is non-NULL and <em>path</em> is not on a Lustre filesystem this function will fail and set errno to ENOTTY.</p>
<p>An already existing file may be opened with this function, but <em>layout</em> and <em>mode</em> will not be applied to it. Callers requiring a guarantee that the opened file is created with the specified <em>layout</em> and <em>mode</em> should use <a class="el" href="lustreapi_8h.html#a2d07ab38aca5eea2da076e3fe545c018" title="Create a new file at path with the specified layout and mode.">llapi_layout_file_create()</a>.</p>
<p>A NULL <em>layout</em> may be specified, in which case the standard Lustre behavior for assigning layouts to newly-created files will apply.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0+</em>&nbsp;</td><td>An open file descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Error with status code in errno.</td></tr>
  </table>
  </dd>
</dl>
<p>Open an existing file at <em>path</em>, or create it with the specified <em>layout</em> and <em>mode</em>.</p>
<p>If <em>layout</em> is NULL this function acts as a simple wrapper for open(). By convention, ENOTTY is returned in errno if <em>path</em> refers to a non-Lustre file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>path</em>&nbsp;</td><td>name of the file to open </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>open_flags</em>&nbsp;</td><td>open() flags </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mode</em>&nbsp;</td><td>permissions to create new file with </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to create new file with</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>non-negative</em>&nbsp;</td><td>file descriptor on successful open </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if an error occurred </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00938">938</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00189">llapi_layout_to_lum()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, <a class="el" href="lustre__user_8h_source.html#l00383">lov_user_md</a>, <a class="el" href="lustre__user_8h_source.html#l00415">lov_user_md_size()</a>, <a class="el" href="lustre__user_8h_source.html#l00326">O_LOV_DELAY_CREATE</a>, and <a class="el" href="lustre__user_8h_source.html#l00374">XATTR_LUSTRE_LOV</a>.</p>

<p>Referenced by <a class="el" href="liblustreapi__layout_8c_source.html#l01002">llapi_layout_file_create()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00634">test15()</a>.</p>

</div>
</div>
<a class="anchor" id="a42ee14c2438c3b50e945e5b47d3ff989"></a><!-- doxytag: member="lustreapi.h::llapi_layout_free" ref="a42ee14c2438c3b50e945e5b47d3ff989" args="(struct llapi_layout *layout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void llapi_layout_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free memory allocated for <em>layout</em>. </p>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00625">625</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>Referenced by <a class="el" href="liblustreapi__layout_8c_source.html#l00482">llapi_layout_expected()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00165">test1()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00420">test10()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00462">test11()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00505">test12()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00546">test13()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00617">test14()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00634">test15()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00677">test16()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00749">test17()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00792">test18()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00834">test19()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00177">test2()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00910">test21()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00994">test24()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01035">test25()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01074">test26()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01122">test27()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01172">test28()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00199">test3()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00225">test4()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00349">test8()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00389">test9()</a>.</p>

</div>
</div>
<a class="anchor" id="a8fc88feb998310828a1f8ad67a6aa430"></a><!-- doxytag: member="lustreapi.h::llapi_layout_get_by_fd" ref="a8fc88feb998310828a1f8ad67a6aa430" args="(int fd, uint32_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structllapi__layout.html">llapi_layout</a>* llapi_layout_get_by_fd </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a pointer to a newly-allocated opaque data type containing the layout for the file referenced by open file descriptor <em>fd</em>. </p>
<p>The pointer should be freed with <a class="el" href="lustreapi_8h.html#a42ee14c2438c3b50e945e5b47d3ff989" title="Free memory allocated for layout.">llapi_layout_free()</a> when it is no longer needed. Failure is indicated by a NULL return value and an appropriate error code stored in errno.</p>
<p>Return a pointer to a newly-allocated opaque data type containing the layout for the file referenced by open file descriptor <em>fd</em>.</p>
<p>If the filesystem does not support the "lustre." xattr namespace, the file must be on a non-Lustre filesystem, so set errno to ENOTTY per convention. If the file has no "lustre.lov" data, the file will inherit default values, so return a default layout.</p>
<p>If the kernel gives us back less than the expected amount of data, we fail with errno set to EINTR.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fd</em>&nbsp;</td><td>open file descriptor </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>flags</em>&nbsp;</td><td>open file descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>valid</em>&nbsp;</td><td><a class="el" href="structllapi__layout.html" title="An Opaque data type abstracting the layout of a Lustre file.">llapi_layout</a> pointer on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>if an error occurs </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00398">398</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00038">__swab16</a>, <a class="el" href="byteorder_8h_source.html#l00039">__swab32</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00304">llapi_layout_alloc()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00123">llapi_layout_from_lum()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00334">llapi_layout_lum_truncated()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00359">llapi_layout_objects_in_lum()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00069">llapi_layout_swab_lov_user_md()</a>, <a class="el" href="packet-lustre_8c_source.html#l00085">LOV_MAGIC_V1</a>, <a class="el" href="lustre__idl_8h_source.html#l01471">LOV_MAGIC_V3</a>, <a class="el" href="lustre__user_8h_source.html#l00383">lov_user_md</a>, and <a class="el" href="lustre__user_8h_source.html#l00374">XATTR_LUSTRE_LOV</a>.</p>

<p>Referenced by <a class="el" href="liblustreapi__layout_8c_source.html#l00482">llapi_layout_expected()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00597">llapi_layout_get_by_fid()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00567">llapi_layout_get_by_path()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00177">test2()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00296">test6()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6a16bf8f19b7a470777e7041d5a5b18"></a><!-- doxytag: member="lustreapi.h::llapi_layout_get_by_fid" ref="aa6a16bf8f19b7a470777e7041d5a5b18" args="(const char *path, const lustre_fid *fid, uint32_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structllapi__layout.html">llapi_layout</a>* llapi_layout_get_by_fid </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>lustre_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlu__fid.html">lustre_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a pointer to a newly-allocated opaque data type containing the layout for the file associated with Lustre file identifier string <em>fidstr</em>. </p>
<p>The string <em>path</em> must name a path within the filesystem that contains the file being looked up, such as the filesystem root. The returned pointer should be freed with <a class="el" href="lustreapi_8h.html#a42ee14c2438c3b50e945e5b47d3ff989" title="Free memory allocated for layout.">llapi_layout_free()</a> when it is no longer needed. Failure is indicated with a NULL return value and an appropriate error code stored in errno.</p>
<p>Return a pointer to a newly-allocated opaque data type containing the layout for the file associated with Lustre file identifier string <em>fidstr</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lustre_dir</em>&nbsp;</td><td>path within Lustre filesystem containing <em>fid</em> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fid</em>&nbsp;</td><td>Lustre identifier of file to get layout for</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>valid</em>&nbsp;</td><td><a class="el" href="structllapi__layout.html" title="An Opaque data type abstracting the layout of a Lustre file.">llapi_layout</a> pointer on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>if an error occurs </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00597">597</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="liblustreapi__layout_8c_source.html#l00398">llapi_layout_get_by_fd()</a>, <a class="el" href="liblustreapi_8c_source.html#l00095">llapi_msg_get_level()</a>, <a class="el" href="lustreapi_8h_source.html#l00059">LLAPI_MSG_OFF</a>, <a class="el" href="liblustreapi_8c_source.html#l00084">llapi_msg_set_level()</a>, and <a class="el" href="liblustreapi_8c_source.html#l04554">llapi_open_by_fid()</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00199">test3()</a>.</p>

</div>
</div>
<a class="anchor" id="aa00003862c5ee12a78121e11da3fe964"></a><!-- doxytag: member="lustreapi.h::llapi_layout_get_by_path" ref="aa00003862c5ee12a78121e11da3fe964" args="(const char *path, uint32_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structllapi__layout.html">llapi_layout</a>* llapi_layout_get_by_path </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a pointer to a newly-allocated opaque data structure containing the layout for the file at <em>path</em>. </p>
<p>The pointer should be freed with <a class="el" href="lustreapi_8h.html#a42ee14c2438c3b50e945e5b47d3ff989" title="Free memory allocated for layout.">llapi_layout_free()</a> when it is no longer needed. Failure is indicated by a NULL return value and an appropriate error code stored in errno.</p>
<p>Return a pointer to a newly-allocated opaque data structure containing the layout for the file at <em>path</em>.</p>
<p>If <em>flags</em> contains LAYOUT_GET_EXPECTED, substitute expected inherited attribute values for unspecified attributes. See <a class="el" href="liblustreapi__layout_8c.html#aa56d1e145a8def4ccb658ab315657435" title="Get the expected striping layout for a file at path.">llapi_layout_expected()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>path</em>&nbsp;</td><td>path for which to get the layout </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>flags</em>&nbsp;</td><td>flags to control how layout is retrieved</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>valid</em>&nbsp;</td><td><a class="el" href="structllapi__layout.html" title="An Opaque data type abstracting the layout of a Lustre file.">llapi_layout</a> pointer on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>if an error occurs </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00567">567</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00423">LAYOUT_GET_EXPECTED</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00482">llapi_layout_expected()</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00398">llapi_layout_get_by_fd()</a>.</p>

<p>Referenced by <a class="el" href="liblustreapi__layout_8c_source.html#l00482">llapi_layout_expected()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00165">test1()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00546">test13()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00634">test15()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00677">test16()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00749">test17()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00792">test18()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00969">test23()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00994">test24()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01035">test25()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01074">test26()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01122">test27()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01172">test28()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00225">test4()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00279">test5()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00305">test7()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00349">test8()</a>.</p>

</div>
</div>
<a class="anchor" id="a56b6b1959ef5cab4fa70dfd198123baf"></a><!-- doxytag: member="lustreapi.h::llapi_layout_ost_index_get" ref="a56b6b1959ef5cab4fa70dfd198123baf" args="(const struct llapi_layout *layout, uint64_t stripe_number, uint64_t *index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_ost_index_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>stripe_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the index of the OST where stripe number <em>stripe_number</em> is stored in <em>index</em>. </p>
<p>An error return value will result from a NULL layout, if <em>stripe_number</em> is out of range, or if <em>layout</em> was not initialized with llapi_layout_lookup_by{path,fd,fid}().</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Invalid argument, errno set to EINVAL.</td></tr>
  </table>
  </dd>
</dl>
<p>Store the index of the OST where stripe number <em>stripe_number</em> is stored in <em>index</em>.</p>
<p>Stripes are indexed starting from zero.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to get index from </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>stripe_number</em>&nbsp;</td><td>stripe number to get index for </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>index</em>&nbsp;</td><td>integer to store index in</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00844">844</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00380">lov_user_ost_data_v1::l_ost_idx</a>, <a class="el" href="lustreapi_8h_source.html#l00475">LLAPI_LAYOUT_DEFAULT</a>, <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00058">llapi_layout::llot_objects</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00055">llapi_layout::llot_objects_are_valid</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00052">llapi_layout::llot_stripe_count</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00134">__test1_helper()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00546">test13()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00225">test4()</a>.</p>

</div>
</div>
<a class="anchor" id="a4cff3a5eb23fa14509b77bf71e5fcd90"></a><!-- doxytag: member="lustreapi.h::llapi_layout_ost_index_set" ref="a4cff3a5eb23fa14509b77bf71e5fcd90" args="(struct llapi_layout *layout, int stripe_number, uint64_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_ost_index_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stripe_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>ost_index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the OST index associated with stripe number <em>stripe_number</em> to <em>ost_index</em>. </p>
<p>NB: This is currently supported only for <em>stripe_number</em> = 0 and other usage will return ENOTSUPP in errno. A NULL <em>layout</em> or out-of-range <em>stripe_number</em> will return EINVAL in errno.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Error with errno set to non-zero value.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the OST index associated with stripe number <em>stripe_number</em> to <em>ost_index</em>.</p>
<p>The index may only be set for stripe number 0 for now.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to set OST index in </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>stripe_number</em>&nbsp;</td><td>stripe number to set index for </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ost_index</em>&nbsp;</td><td>the index to set</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid or an unsupported stripe number was specified </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00813">813</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00673">llapi_layout_stripe_index_is_valid()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00053">llapi_layout::llot_stripe_offset</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00546">test13()</a>.</p>

</div>
</div>
<a class="anchor" id="ad70aefb2ec78885de9b03e418427e4f7"></a><!-- doxytag: member="lustreapi.h::llapi_layout_pattern_get" ref="ad70aefb2ec78885de9b03e418427e4f7" args="(const struct llapi_layout *layout, uint64_t *pattern)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_pattern_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>pattern</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the stripe pattern of <em>layout</em> in <em>pattern</em>. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Error with status code in errno.</td></tr>
  </table>
  </dd>
</dl>
<p>Store the stripe pattern of <em>layout</em> in <em>pattern</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to get pattern from </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>pattern</em>&nbsp;</td><td>integer to store pattern in</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00758">758</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00050">llapi_layout::llot_pattern</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00994">test24()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01035">test25()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01074">test26()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01122">test27()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00349">test8()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b915aee2bc008ace0604b2b417a53d5"></a><!-- doxytag: member="lustreapi.h::llapi_layout_pattern_set" ref="a1b915aee2bc008ace0604b2b417a53d5" args="(struct llapi_layout *layout, uint64_t pattern)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_pattern_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>pattern</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the stripe pattern of <em>layout</em> to <em>pattern</em>. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Invalid argument, errno set to EINVAL.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the stripe pattern of <em>layout</em> to <em>pattern</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to set pattern in </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pattern</em>&nbsp;</td><td>value to be set</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid or RAID pattern is unsupported </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00782">782</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00475">LLAPI_LAYOUT_DEFAULT</a>, <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="lustreapi_8h_source.html#l00488">LLAPI_LAYOUT_RAID0</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00050">llapi_layout::llot_pattern</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00389">test9()</a>.</p>

</div>
</div>
<a class="anchor" id="a573ef6fd3d786d343a6a8bc360c8a96c"></a><!-- doxytag: member="lustreapi.h::llapi_layout_pool_name_get" ref="a573ef6fd3d786d343a6a8bc360c8a96c" args="(const struct llapi_layout *layout, char *pool_name, size_t pool_name_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_pool_name_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>n</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store up to <em>pool_name_len</em> characters of the name of the pool of OSTs associated with <em>layout</em> into the buffer pointed to by <em>pool_name</em>. </p>
<p>The correct calling form is:</p>
<p>llapi_layout_pool_name_get(layout, pool_name, sizeof(pool_name));</p>
<p>A pool defines a set of OSTs from which file objects may be allocated for a file using <em>layout</em>.</p>
<p>On success, the number of bytes stored is returned, excluding the terminating '' character (zero indicates that <em>layout</em> does not have an associated OST pool). On error, -1 is returned and errno is set appropriately. Possible sources of error include a NULL pointer argument or insufficient space in <em>dest</em> to store the pool name, in which cases errno will be set to EINVAL.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0+</em>&nbsp;</td><td>The number of bytes stored in <em>dest</em>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Invalid argument, errno set to EINVAL.</td></tr>
  </table>
  </dd>
</dl>
<p>Store up to <em>pool_name_len</em> characters of the name of the pool of OSTs associated with <em>layout</em> into the buffer pointed to by <em>pool_name</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to get pool name from </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dest</em>&nbsp;</td><td>buffer to store pool name in </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>n</em>&nbsp;</td><td>size in bytes of buffer <em>dest</em> </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00873">873</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00057">llapi_layout::llot_pool_name</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00134">__test1_helper()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00505">test12()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00792">test18()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00834">test19()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00225">test4()</a>.</p>

</div>
</div>
<a class="anchor" id="af8bb31b9b015bff5eb98d0a94d3cf8ae"></a><!-- doxytag: member="lustreapi.h::llapi_layout_pool_name_set" ref="af8bb31b9b015bff5eb98d0a94d3cf8ae" args="(struct llapi_layout *layout, const char *pool_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_pool_name_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pool_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the name of the pool of OSTs from which file objects will be allocated to <em>pool_name</em>. </p>
<p>If the pool name uses "fsname.pool" notation to qualify the pool name with a filesystem name, the "fsname." portion will be silently discarded before storing the value. No validation that <em>pool_name</em> is an existing non-empty pool in filesystem <em>fsname</em> will be performed. Such validation can be performed by the application if desired using the <a class="el" href="group__llapi.html#ga17ffa4b669a8b368f002d28fda4b16d3">llapi_search_ost()</a> function. The maximum length of the stored value is defined by the constant LOV_MAXPOOLNAME.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Invalid argument, errno set to EINVAL.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the name of the pool of OSTs from which file objects will be allocated to <em>pool_name</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to set pool name in </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pool_name</em>&nbsp;</td><td>pool name to set</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid or pool name is too long </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00896">896</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00057">llapi_layout::llot_pool_name</a>, and <a class="el" href="lustre__user_8h_source.html#l00354">LOV_MAXPOOLNAME</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00505">test12()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00792">test18()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00834">test19()</a>.</p>

</div>
</div>
<a class="anchor" id="aa03b33325afb2811533d7984e98137c1"></a><!-- doxytag: member="lustreapi.h::llapi_layout_stripe_count_get" ref="aa03b33325afb2811533d7984e98137c1" args="(const struct llapi_layout *layout, uint64_t *count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_stripe_count_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flags to modify how layouts are retrieved. </p>
<p>Store the stripe count of <em>layout</em> in <em>count</em>.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Error with status code in errno.</td></tr>
  </table>
  </dd>
</dl>
<p>Flags to modify how layouts are retrieved.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to get stripe count from </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td>integer to store stripe count in</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00639">639</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00052">llapi_layout::llot_stripe_count</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00134">__test1_helper()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00420">test10()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00634">test15()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00677">test16()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00749">test17()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00994">test24()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01035">test25()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01074">test26()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01122">test27()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01172">test28()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00225">test4()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00349">test8()</a>.</p>

</div>
</div>
<a class="anchor" id="ad192c34803cb2c76a92b94689dab0258"></a><!-- doxytag: member="lustreapi.h::llapi_layout_stripe_count_set" ref="ad192c34803cb2c76a92b94689dab0258" args="(struct llapi_layout *layout, uint64_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_stripe_count_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the stripe count of <em>layout</em> to <em>count</em>. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Invalid argument, errno set to EINVAL.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the stripe count of <em>layout</em> to <em>count</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to set stripe count in </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td>value to be set</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00689">689</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00657">llapi_layout_stripe_count_is_valid()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00052">llapi_layout::llot_stripe_count</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00420">test10()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00546">test13()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00634">test15()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00749">test17()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>.</p>

</div>
</div>
<a class="anchor" id="aecd8037cb0e2a12cae7281646dd2c8db"></a><!-- doxytag: member="lustreapi.h::llapi_layout_stripe_size_get" ref="aecd8037cb0e2a12cae7281646dd2c8db" args="(const struct llapi_layout *layout, uint64_t *size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_stripe_size_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the stripe size of <em>layout</em> in <em>size</em>. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Invalid argument, errno set to EINVAL.</td></tr>
  </table>
  </dd>
</dl>
<p>Store the stripe size of <em>layout</em> in <em>size</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to get stripe size from </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>integer to store stripe size in</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00712">712</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00051">llapi_layout::llot_stripe_size</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00134">__test1_helper()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00462">test11()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00677">test16()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00994">test24()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01035">test25()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01074">test26()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l01122">test27()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00225">test4()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00349">test8()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a42791ae487195b0091c4aa606c162e"></a><!-- doxytag: member="lustreapi.h::llapi_layout_stripe_size_set" ref="a8a42791ae487195b0091c4aa606c162e" args="(struct llapi_layout *layout, uint64_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llapi_layout_stripe_size_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structllapi__layout.html">llapi_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the stripe size of <em>layout</em> to <em>stripe_size</em>. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>Invalid argument, errno set to EINVAL.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the stripe size of <em>layout</em> to <em>stripe_size</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>layout</em>&nbsp;</td><td>layout to set stripe size in </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>value to be set</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>if arguments are invalid </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="liblustreapi__layout_8c_source.html#l00735">735</a> of file <a class="el" href="liblustreapi__layout_8c_source.html">liblustreapi_layout.c</a>.</p>

<p>References <a class="el" href="lustreapi__internal_8h_source.html#l00094">LLAPI_LAYOUT_MAGIC</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00665">llapi_layout_stripe_size_is_valid()</a>, <a class="el" href="liblustreapi__layout_8c_source.html#l00049">llapi_layout::llot_magic</a>, and <a class="el" href="liblustreapi__layout_8c_source.html#l00051">llapi_layout::llot_stripe_size</a>.</p>

<p>Referenced by <a class="el" href="llapi__layout__test_8c_source.html#l00083">test0()</a>, <a class="el" href="llapi__layout__test_8c_source.html#l00462">test11()</a>, and <a class="el" href="llapi__layout__test_8c_source.html#l00853">test20()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:47 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
