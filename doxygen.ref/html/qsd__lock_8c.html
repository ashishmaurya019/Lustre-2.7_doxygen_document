<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/quota/qsd_lock.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/quota/qsd_lock.c File Reference</h1><code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="qsd__internal_8h_source.html">qsd_internal.h</a>&quot;</code><br/>

<p><a href="qsd__lock_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LQUOTA</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#ae306bf02bfef647cda155b0235f7f81d">enqi_bl_cb_t</a> )(struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *desc, void *data, int flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a30e6a4840883c1339762ea2ad54610e6">enqi_gl_cb_t</a> )(struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, void *data)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structqsd__qtype__info.html">qsd_qtype_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a6e06e1b083d14199d4eec8046bf659f0">qsd_glb_ast_data_get</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, bool reset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#aa36cbd3b1f306db2bfbd99562df6db4e">qsd_id_ast_data_get</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, bool reset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a36723227d894ffe273eef33dab4e5186">qsd_common_glimpse_ast</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structldlm__gl__lquota__desc.html">ldlm_gl_lquota_desc</a> **desc, void **lvb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a683fe6a87b6ab4a2b582423c3a6b3cec">qsd_glb_blocking_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *desc, void *data, int flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a14f6802fdc7bcfa45377e140aefea65f">qsd_glb_glimpse_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a22f31b1fcd81ce417a4637ff494ff570">qsd_id_blocking_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *desc, void *data, int flag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Blocking callback handler for per-ID lock.  <a href="#a22f31b1fcd81ce417a4637ff494ff570"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a1fa93195c61c75a4a0cf90be90bbdb5f">qsd_id_glimpse_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#af2026c7b0af1c5e2c9349a3a0920287f">qsd_id_lock_match</a> (struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *rlockh)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether a slave already own a ldlm lock for the quota identifier .  <a href="#af2026c7b0af1c5e2c9349a3a0920287f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#ad098c3bf204ddc4486db1806cc8292af">qsd_id_lock_cancel</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *lqe)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qsd__lock_8c.html#ae306bf02bfef647cda155b0235f7f81d">enqi_bl_cb_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#ae8117388fd811a08237ba7a32d0987ee">qsd_glb_blocking_ast</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qsd__lock_8c.html#ae306bf02bfef647cda155b0235f7f81d">enqi_bl_cb_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#aeafef2ee2551da99aa4e422b5203a5cd">qsd_id_blocking_ast</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qsd__lock_8c.html#a30e6a4840883c1339762ea2ad54610e6">enqi_gl_cb_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a10fa5f99f6a4ac111651d20ebdce7d7f">qsd_glb_glimpse_ast</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qsd__lock_8c.html#a30e6a4840883c1339762ea2ad54610e6">enqi_gl_cb_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a29e6a03c1e0f2c62d08bfaa55c2a31de">qsd_id_glimpse_ast</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a81e46344310aff78cd2df97e5dd09cff">qsd_glb_einfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lock_8c.html#a6c518ee37c173b155e9e41aa5accd65f">qsd_id_einfo</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="qsd_lock.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LQUOTA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00031">31</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ae306bf02bfef647cda155b0235f7f81d"></a><!-- doxytag: member="qsd_lock.c::enqi_bl_cb_t" ref="ae306bf02bfef647cda155b0235f7f81d" args=")(struct ldlm_lock *lock, struct ldlm_lock_desc *desc, void *data, int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int( <a class="el" href="qsd__lock_8c.html#ae306bf02bfef647cda155b0235f7f81d">enqi_bl_cb_t</a>)(struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *desc, void *data, int flag)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00038">38</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

</div>
</div>
<a class="anchor" id="a30e6a4840883c1339762ea2ad54610e6"></a><!-- doxytag: member="qsd_lock.c::enqi_gl_cb_t" ref="a30e6a4840883c1339762ea2ad54610e6" args=")(struct ldlm_lock *lock, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int( <a class="el" href="qsd__lock_8c.html#a30e6a4840883c1339762ea2ad54610e6">enqi_gl_cb_t</a>)(struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, void *data)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00043">43</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a36723227d894ffe273eef33dab4e5186"></a><!-- doxytag: member="qsd_lock.c::qsd_common_glimpse_ast" ref="a36723227d894ffe273eef33dab4e5186" args="(struct ptlrpc_request *req, struct ldlm_gl_lquota_desc **desc, void **lvb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_common_glimpse_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__gl__lquota__desc.html">ldlm_gl_lquota_desc</a> **&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>lvb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00135">135</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00289">LDLM_GL_CALLBACK</a>, <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02339">req_capsule_extend()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01053">RMF_DLM_GL_DESC</a>, <a class="el" href="layout_8c_source.html#l01049">RMF_DLM_LVB</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, and <a class="el" href="layout_8c_source.html#l01477">RQF_LDLM_GL_DESC_CALLBACK</a>.</p>

<p>Referenced by <a class="el" href="qsd__lock_8c_source.html#l00236">qsd_glb_glimpse_ast()</a>, and <a class="el" href="qsd__lock_8c_source.html#l00378">qsd_id_glimpse_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e06e1b083d14199d4eec8046bf659f0"></a><!-- doxytag: member="qsd_lock.c::qsd_glb_ast_data_get" ref="a6e06e1b083d14199d4eec8046bf659f0" args="(struct ldlm_lock *lock, bool reset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structqsd__qtype__info.html">qsd_qtype_info</a>* qsd_glb_ast_data_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>reset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00068">68</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00822">ldlm_lock::l_ast_data</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="qsd__internal_8h_source.html#l00216">qqi_getref()</a>, <a class="el" href="qsd__internal_8h_source.html#l00221">qqi_putref()</a>, <a class="el" href="qsd__internal_8h_source.html#l00179">qsd_qtype_info::qqi_reference</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="qsd__lock_8c_source.html#l00176">qsd_glb_blocking_ast()</a>, and <a class="el" href="qsd__lock_8c_source.html#l00236">qsd_glb_glimpse_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="a683fe6a87b6ab4a2b582423c3a6b3cec"></a><!-- doxytag: member="qsd_lock.c::qsd_glb_blocking_ast" ref="a683fe6a87b6ab4a2b582423c3a6b3cec" args="(struct ldlm_lock *lock, struct ldlm_lock_desc *desc, void *data, int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_glb_blocking_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00176">176</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__handles_8h_source.html#l00067">portals_handle::h_cookie</a>, <a class="el" href="lustre__dlm_8h_source.html#l00678">ldlm_lock::l_handle</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__dlm_8h_source.html#l00616">LCF_ASYNC</a>, <a class="el" href="lustre__dlm_8h_source.html#l00103">LDLM_CB_BLOCKING</a>, <a class="el" href="lustre__dlm_8h_source.html#l00104">LDLM_CB_CANCELING</a>, <a class="el" href="ldlm__request_8c_source.html#l01345">ldlm_cli_cancel()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01168">LDLM_DEBUG</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00192">ldlm_is_local_only</a>, <a class="el" href="ldlm__lock_8c_source.html#l00582">ldlm_lock2handle()</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_glb_uptodate</a>, <a class="el" href="qsd__internal_8h_source.html#l00144">qsd_qtype_info::qqi_lockh</a>, <a class="el" href="qsd__internal_8h_source.html#l00221">qqi_putref()</a>, <a class="el" href="qsd__internal_8h_source.html#l00141">qsd_qtype_info::qqi_qsd</a>, <a class="el" href="qsd__internal_8h_source.html#l00131">qsd_qtype_info::qqi_qtype</a>, <a class="el" href="qsd__internal_8h_source.html#l00179">qsd_qtype_info::qqi_reference</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_slv_uptodate</a>, <a class="el" href="qsd__lock_8c_source.html#l00068">qsd_glb_ast_data_get()</a>, <a class="el" href="qsd__internal_8h_source.html#l00098">qsd_instance::qsd_lock</a>, <a class="el" href="qsd__reint_8c_source.html#l00624">qsd_start_reint_thread()</a>, <a class="el" href="qsd__internal_8h_source.html#l00046">qsd_instance::qsd_svname</a>, <a class="el" href="lquota__internal_8h_source.html#l00034">QTYPE_NAME</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a14f6802fdc7bcfa45377e140aefea65f"></a><!-- doxytag: member="qsd_lock.c::qsd_glb_glimpse_ast" ref="a14f6802fdc7bcfa45377e140aefea65f" args="(struct ldlm_lock *lock, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_glb_glimpse_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00236">236</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="lustre__dlm_8h_source.html#l00080">ELDLM_NO_LOCK_DATA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__idl_8h_source.html#l01963">ldlm_gl_lquota_desc::gl_hardlimit</a>, <a class="el" href="lustre__idl_8h_source.html#l01960">ldlm_gl_lquota_desc::gl_id</a>, <a class="el" href="lustre__idl_8h_source.html#l01964">ldlm_gl_lquota_desc::gl_softlimit</a>, <a class="el" href="lustre__idl_8h_source.html#l01965">ldlm_gl_lquota_desc::gl_time</a>, <a class="el" href="lustre__idl_8h_source.html#l01962">ldlm_gl_lquota_desc::gl_ver</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="lustre__idl_8h_source.html#l01942">lquota_glb_rec::qbr_granted</a>, <a class="el" href="lustre__idl_8h_source.html#l01939">lquota_glb_rec::qbr_hardlimit</a>, <a class="el" href="lustre__idl_8h_source.html#l01940">lquota_glb_rec::qbr_softlimit</a>, <a class="el" href="lustre__idl_8h_source.html#l01941">lquota_glb_rec::qbr_time</a>, <a class="el" href="lustre__idl_8h_source.html#l01850">lquota_id::qid_uid</a>, <a class="el" href="qsd__internal_8h_source.html#l00221">qqi_putref()</a>, <a class="el" href="qsd__internal_8h_source.html#l00141">qsd_qtype_info::qqi_qsd</a>, <a class="el" href="qsd__internal_8h_source.html#l00179">qsd_qtype_info::qqi_reference</a>, <a class="el" href="qsd__lock_8c_source.html#l00135">qsd_common_glimpse_ast()</a>, <a class="el" href="qsd__lock_8c_source.html#l00068">qsd_glb_ast_data_get()</a>, <a class="el" href="qsd__internal_8h_source.html#l00046">qsd_instance::qsd_svname</a>, <a class="el" href="qsd__writeback_8c_source.html#l00217">qsd_upd_schedule()</a>, and <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>.</p>

</div>
</div>
<a class="anchor" id="aa36cbd3b1f306db2bfbd99562df6db4e"></a><!-- doxytag: member="qsd_lock.c::qsd_id_ast_data_get" ref="aa36cbd3b1f306db2bfbd99562df6db4e" args="(struct ldlm_lock *lock, bool reset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlquota__entry.html">lquota_entry</a>* qsd_id_ast_data_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>reset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00101">101</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00822">ldlm_lock::l_ast_data</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="lquota__internal_8h_source.html#l00222">lqe_getref()</a>, <a class="el" href="lquota__internal_8h_source.html#l00228">lqe_putref()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="qsd__lock_8c_source.html#l00295">qsd_id_blocking_ast()</a>, and <a class="el" href="qsd__lock_8c_source.html#l00378">qsd_id_glimpse_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="a22f31b1fcd81ce417a4637ff494ff570"></a><!-- doxytag: member="qsd_lock.c::qsd_id_blocking_ast" ref="a22f31b1fcd81ce417a4637ff494ff570" args="(struct ldlm_lock *lock, struct ldlm_lock_desc *desc, void *data, int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_id_blocking_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Blocking callback handler for per-ID lock. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lock</em>&nbsp;</td><td>- is the lock for which ast occurred. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desc</em>&nbsp;</td><td>- is the description of a conflicting lock in case of blocking ast. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- is the value of lock-&gt;l_ast_data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flag</em>&nbsp;</td><td>- LDLM_CB_BLOCKING or LDLM_CB_CANCELING. Used to distinguish cancellation and blocking ast's. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00295">295</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__dlm_8h_source.html#l00616">LCF_ASYNC</a>, <a class="el" href="lu__object_8h_source.html#l00999">LCT_DT_THREAD</a>, <a class="el" href="lustre__dlm_8h_source.html#l00103">LDLM_CB_BLOCKING</a>, <a class="el" href="lustre__dlm_8h_source.html#l00104">LDLM_CB_CANCELING</a>, <a class="el" href="ldlm__request_8c_source.html#l01345">ldlm_cli_cancel()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01168">LDLM_DEBUG</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00192">ldlm_is_local_only</a>, <a class="el" href="ldlm__lock_8c_source.html#l00582">ldlm_lock2handle()</a>, <a class="el" href="lquota__internal_8h_source.html#l00228">lqe_putref()</a>, <a class="el" href="lquota__internal_8h_source.html#l00242">lqe_write_lock()</a>, <a class="el" href="lquota__internal_8h_source.html#l00250">lqe_write_unlock()</a>, <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="lustre__idl_8h_source.html#l01026">lustre_handle_equal()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="qsd__handler_8c_source.html#l00902">qsd_adjust()</a>, <a class="el" href="qsd__lock_8c_source.html#l00101">qsd_id_ast_data_get()</a>, <a class="el" href="qsd__internal_8h_source.html#l00321">qsd_set_edquot()</a>, <a class="el" href="qsd__internal_8h_source.html#l00292">qsd_set_qunit()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a1fa93195c61c75a4a0cf90be90bbdb5f"></a><!-- doxytag: member="qsd_lock.c::qsd_id_glimpse_ast" ref="a1fa93195c61c75a4a0cf90be90bbdb5f" args="(struct ldlm_lock *lock, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_id_glimpse_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00378">378</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>References <a class="el" href="lustre__dlm_8h_source.html#l00080">ELDLM_NO_LOCK_DATA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l01961">ldlm_gl_lquota_desc::gl_flags</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00046">LPD64</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="qsd__internal_8h_source.html#l00209">lqe2qqi()</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lquota__internal_8h_source.html#l00144">lquota_entry::lqe_id</a>, <a class="el" href="lquota__internal_8h_source.html#l00228">lqe_putref()</a>, <a class="el" href="lquota__internal_8h_source.html#l00159">lquota_entry::lqe_qunit</a>, <a class="el" href="lquota__internal_8h_source.html#l00242">lqe_write_lock()</a>, <a class="el" href="lquota__internal_8h_source.html#l00250">lqe_write_unlock()</a>, <a class="el" href="lquota__internal_8h_source.html#l00359">LQUOTA_DEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l01972">LQUOTA_FL_EDQUOT</a>, <a class="el" href="qsd__internal_8h_source.html#l00141">qsd_qtype_info::qqi_qsd</a>, <a class="el" href="qsd__lock_8c_source.html#l00135">qsd_common_glimpse_ast()</a>, <a class="el" href="qsd__lock_8c_source.html#l00101">qsd_id_ast_data_get()</a>, <a class="el" href="qsd__internal_8h_source.html#l00321">qsd_set_edquot()</a>, <a class="el" href="qsd__internal_8h_source.html#l00292">qsd_set_qunit()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00217">qsd_upd_schedule()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>.</p>

</div>
</div>
<a class="anchor" id="ad098c3bf204ddc4486db1806cc8292af"></a><!-- doxytag: member="qsd_lock.c::qsd_id_lock_cancel" ref="ad098c3bf204ddc4486db1806cc8292af" args="(const struct lu_env *env, struct lquota_entry *lqe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qsd_id_lock_cancel </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlquota__entry.html">lquota_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>lqe</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00494">494</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>References <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="ldlm__lock_8c_source.html#l00918">ldlm_lock_decref_and_cancel()</a>, <a class="el" href="lquota__internal_8h_source.html#l00158">lquota_entry::lqe_granted</a>, <a class="el" href="lquota__internal_8h_source.html#l00242">lqe_write_lock()</a>, <a class="el" href="lquota__internal_8h_source.html#l00250">lqe_write_unlock()</a>, <a class="el" href="lustre__idl_8h_source.html#l01032">lustre_handle_copy()</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="qsd__lock_8c_source.html#l00462">qsd_id_lock_match()</a>, <a class="el" href="qsd__internal_8h_source.html#l00261">qsd_info()</a>, <a class="el" href="qsd__internal_8h_source.html#l00321">qsd_set_edquot()</a>, <a class="el" href="qsd__internal_8h_source.html#l00292">qsd_set_qunit()</a>, <a class="el" href="qsd__internal_8h_source.html#l00248">qsd_thread_info::qti_lockh</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qsd__writeback_8c_source.html#l00410">qsd_upd_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="af2026c7b0af1c5e2c9349a3a0920287f"></a><!-- doxytag: member="qsd_lock.c::qsd_id_lock_match" ref="af2026c7b0af1c5e2c9349a3a0920287f" args="(struct lustre_handle *lockh, struct lustre_handle *rlockh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qsd_id_lock_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>rlockh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check whether a slave already own a ldlm lock for the quota identifier . </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lockh</em>&nbsp;</td><td>- is the local lock handle from lquota entry. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rlockh</em>&nbsp;</td><td>- is the remote lock handle of the matched lock, if any.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>: on successful look up and  contains the lock handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOENT,:</em>&nbsp;</td><td>no lock found </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00462">462</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00766">ldlm_lock::l_remote_handle</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00760">ldlm_lock_addref_try()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02586">ldlm_lock_dump_handle()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="lustre__idl_8h_source.html#l01032">lustre_handle_copy()</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="qsd__handler_8c_source.html#l00530">qsd_acquire_remote()</a>, <a class="el" href="qsd__handler_8c_source.html#l00902">qsd_adjust()</a>, and <a class="el" href="qsd__lock_8c_source.html#l00494">qsd_id_lock_cancel()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ae8117388fd811a08237ba7a32d0987ee"></a><!-- doxytag: member="qsd_lock.c::qsd_glb_blocking_ast" ref="ae8117388fd811a08237ba7a32d0987ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qsd__lock_8c.html#ae306bf02bfef647cda155b0235f7f81d">enqi_bl_cb_t</a> qsd_glb_blocking_ast<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00041">41</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

</div>
</div>
<a class="anchor" id="a81e46344310aff78cd2df97e5dd09cff"></a><!-- doxytag: member="qsd_lock.c::qsd_glb_einfo" ref="a81e46344310aff78cd2df97e5dd09cff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> <a class="el" href="qsd__lock_8c.html#a81e46344310aff78cd2df97e5dd09cff">qsd_glb_einfo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ei_type        = <a class="code" href="packet-lustre_8c.html#ac4397f44dbf94f69e645b89d4bcf3772">LDLM_PLAIN</a>,
        .ei_mode        = <a class="code" href="packet-lustre_8c.html#a8532d2ec7dffedbf9e84ef23a16b19fd">LCK_CR</a>,
        .ei_cb_bl       = <a class="code" href="qsd__lock_8c.html#ae8117388fd811a08237ba7a32d0987ee">qsd_glb_blocking_ast</a>,
        .ei_cb_cp       = <a class="code" href="group__ldlm__local__ast.html#gaae5738d417a8624f65b5418d57fef359" title="Generic LDLM &amp;quot;completion&amp;quot; AST.">ldlm_completion_ast</a>,
        .ei_cb_gl       = <a class="code" href="qsd__lock_8c.html#a10fa5f99f6a4ac111651d20ebdce7d7f">qsd_glb_glimpse_ast</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00046">46</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>Referenced by <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>, and <a class="el" href="qsd__reint_8c_source.html#l00407">qsd_reint_main()</a>.</p>

</div>
</div>
<a class="anchor" id="a10fa5f99f6a4ac111651d20ebdce7d7f"></a><!-- doxytag: member="qsd_lock.c::qsd_glb_glimpse_ast" ref="a10fa5f99f6a4ac111651d20ebdce7d7f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qsd__lock_8c.html#a30e6a4840883c1339762ea2ad54610e6">enqi_gl_cb_t</a> qsd_glb_glimpse_ast<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00044">44</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

</div>
</div>
<a class="anchor" id="aeafef2ee2551da99aa4e422b5203a5cd"></a><!-- doxytag: member="qsd_lock.c::qsd_id_blocking_ast" ref="aeafef2ee2551da99aa4e422b5203a5cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qsd__lock_8c.html#ae306bf02bfef647cda155b0235f7f81d">enqi_bl_cb_t</a> qsd_id_blocking_ast<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00041">41</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6c518ee37c173b155e9e41aa5accd65f"></a><!-- doxytag: member="qsd_lock.c::qsd_id_einfo" ref="a6c518ee37c173b155e9e41aa5accd65f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> <a class="el" href="qsd__lock_8c.html#a6c518ee37c173b155e9e41aa5accd65f">qsd_id_einfo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ei_type        = <a class="code" href="packet-lustre_8c.html#ac4397f44dbf94f69e645b89d4bcf3772">LDLM_PLAIN</a>,
        .ei_mode        = <a class="code" href="packet-lustre_8c.html#a8532d2ec7dffedbf9e84ef23a16b19fd">LCK_CR</a>,
        .ei_cb_bl       = <a class="code" href="qsd__lock_8c.html#aeafef2ee2551da99aa4e422b5203a5cd">qsd_id_blocking_ast</a>,
        .ei_cb_cp       = <a class="code" href="group__ldlm__local__ast.html#gaae5738d417a8624f65b5418d57fef359" title="Generic LDLM &amp;quot;completion&amp;quot; AST.">ldlm_completion_ast</a>,
        .ei_cb_gl       = <a class="code" href="qsd__lock_8c.html#a29e6a03c1e0f2c62d08bfaa55c2a31de">qsd_id_glimpse_ast</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00054">54</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

<p>Referenced by <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>, and <a class="el" href="qsd__handler_8c_source.html#l00302">qsd_req_completion()</a>.</p>

</div>
</div>
<a class="anchor" id="a29e6a03c1e0f2c62d08bfaa55c2a31de"></a><!-- doxytag: member="qsd_lock.c::qsd_id_glimpse_ast" ref="a29e6a03c1e0f2c62d08bfaa55c2a31de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qsd__lock_8c.html#a30e6a4840883c1339762ea2ad54610e6">enqi_gl_cb_t</a> qsd_id_glimpse_ast<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lock_8c_source.html#l00044">44</a> of file <a class="el" href="qsd__lock_8c_source.html">qsd_lock.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
