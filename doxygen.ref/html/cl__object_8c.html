<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/obdclass/cl_object.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/obdclass/cl_object.c File Reference</h1><code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__fid_8h_source.html">lustre_fid.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="list_8h_source.html">libcfs/list.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="libcfs__hash_8h_source.html">libcfs/libcfs_hash.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="cl__object_8h_source.html">cl_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lu__object_8h_source.html">lu_object.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="cl__internal_8h_source.html">cl_internal.h</a>&quot;</code><br/>

<p><a href="cl__object_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__env.html">cl_env</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_CLASS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#aa68ac8bd51739de2e2a83865d9f5fe1c">CL_ENV_INC</a>(counter)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a845ac860108a6f04c625947358b559eb">CL_ENV_DEC</a>(counter)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga0e1e8f1e195acfd9ad600b33e8f183e7">cl_object_header_init</a> (struct <a class="el" href="structcl__object__header.html">cl_object_header</a> *h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize <a class="el" href="structcl__object__header.html" title="Extended header for client object.">cl_object_header</a>.  <a href="group__cl__object.html#ga0e1e8f1e195acfd9ad600b33e8f183e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga76b88e11955bc3109371ae6194189d25">cl_object_header_fini</a> (struct <a class="el" href="structcl__object__header.html">cl_object_header</a> *h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize <a class="el" href="structcl__object__header.html" title="Extended header for client object.">cl_object_header</a>.  <a href="group__cl__object.html#ga76b88e11955bc3109371ae6194189d25"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gacc02a64c0c65d5fab9a6fafc83771acd">cl_object_find</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__device.html">cl_device</a> *cd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structcl__object__conf.html">cl_object_conf</a> *c)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a <a class="el" href="structcl__object.html" title="Sub-class of lu_object with methods common for objects on the client stacks.">cl_object</a> with a given <em>fid</em>.  <a href="group__cl__object.html#gacc02a64c0c65d5fab9a6fafc83771acd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga61a377b8d6ccf182357c959cfdbbcf16">cl_object_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Releases a reference on <em>o</em>.  <a href="group__cl__object.html#ga61a377b8d6ccf182357c959cfdbbcf16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gae84de86afc6e9dbf1f9e1a7219bd202b">cl_object_get</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Acquire an additional reference to the object <em>o</em>.  <a href="group__cl__object.html#gae84de86afc6e9dbf1f9e1a7219bd202b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga00ef0f7240b9a7d773a49a77c667f03a">cl_object_top</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the top-object for a given <em>o</em>.  <a href="group__cl__object.html#ga00ef0f7240b9a7d773a49a77c667f03a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static spinlock_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#acdbe1c450cfa6000fa3e267e1b488ab4">cl_object_attr_guard</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns pointer to the lock protecting data-attributes for the given object <em>o</em>.  <a href="#acdbe1c450cfa6000fa3e267e1b488ab4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga0ab97a8a879d5a81b4b5d60367e0ff0a">cl_object_attr_lock</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o) __acquires(cl_object_attr_guard(o))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Locks data-attributes.  <a href="group__cl__object.html#ga0ab97a8a879d5a81b4b5d60367e0ff0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga2fc69699a9214cda8ac2e8264b709dac">cl_object_attr_unlock</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o) __releases(cl_object_attr_guard(o))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Releases data-attributes lock, acquired by <a class="el" href="group__cl__object.html#ga0ab97a8a879d5a81b4b5d60367e0ff0a" title="Locks data-attributes.">cl_object_attr_lock()</a>.  <a href="group__cl__object.html#ga2fc69699a9214cda8ac2e8264b709dac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gadfa2c03f781edcc53976843d94c18b48">cl_object_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__attr.html">cl_attr</a> *attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns data-attributes of an object <em>obj</em>.  <a href="group__cl__object.html#gadfa2c03f781edcc53976843d94c18b48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gaaa4c4e2f092946a662c321e1aa7a4aab">cl_object_attr_update</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, const struct <a class="el" href="structcl__attr.html">cl_attr</a> *attr, unsigned v)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates data-attributes of an object <em>obj</em>.  <a href="group__cl__object.html#gaaa4c4e2f092946a662c321e1aa7a4aab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gaeed557c8f4926f9d6492df7026fd4b13">cl_object_glimpse</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structost__lvb.html">ost_lvb</a> *lvb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Notifies layers (bottom-to-top) that glimpse AST was received.  <a href="group__cl__object.html#gaeed557c8f4926f9d6492df7026fd4b13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga2e572a2e5a92e017e5d45187657e3f94">cl_conf_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, const struct <a class="el" href="structcl__object__conf.html">cl_object_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates a configuration of an object <em>obj</em>.  <a href="group__cl__object.html#ga2e572a2e5a92e017e5d45187657e3f94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gacbefea6c611d782bb7ccfac4be7f3ec9">cl_object_prune</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prunes caches of pages and locks for this object.  <a href="group__cl__object.html#gacbefea6c611d782bb7ccfac4be7f3ec9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga746cc5d7737450ca64ba6997f3e9afd8">cl_object_getstripe</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct lov_user_md __user *uarg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get stripe information of this object.  <a href="group__cl__object.html#ga746cc5d7737450ca64ba6997f3e9afd8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gae661d62a9c4af07425119b1308c3ff61">cl_object_fiemap</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structll__fiemap__info__key.html">ll_fiemap_info_key</a> *key, struct fiemap *fiemap, size_t *buflen)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get fiemap extents from file object.  <a href="group__cl__object.html#gae661d62a9c4af07425119b1308c3ff61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gaed35f941df7b7d63305b33783313b235">cl_object_layout_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__layout.html">cl_layout</a> *cl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">loff_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gaa30ca80e8a50712e8ccf910be0bf0845">cl_object_maxbytes</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga2969ac9d2e4cce406eb1bfa24838964f">cl_object_kill</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function removing all object locks, and marking object for deletion.  <a href="group__cl__object.html#ga2969ac9d2e4cce406eb1bfa24838964f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clio.html#ga1e4ceb0e1ebe73971d4b3e7f5efaad02">cache_stats_init</a> (struct <a class="el" href="structcache__stats.html">cache_stats</a> *cs, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">These are not exported so far.  <a href="group__clio.html#ga1e4ceb0e1ebe73971d4b3e7f5efaad02"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a38e51fc9f1875bc329a9205ee5482e3d">cache_stats_print</a> (const struct <a class="el" href="structcache__stats.html">cache_stats</a> *cs, struct seq_file *m, int h)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a38fcca5294198603c8f5b17de87b1c5f">cl_env_percpu_refill</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clio.html#ga57611e1e5715dc94dd0eb503a72a8b33">cl_site_init</a> (struct <a class="el" href="structcl__site.html">cl_site</a> *s, struct <a class="el" href="structcl__device.html">cl_device</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize client site.  <a href="group__clio.html#ga57611e1e5715dc94dd0eb503a72a8b33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clio.html#ga5384082c04872b0c11252ead509cdd7a">cl_site_fini</a> (struct <a class="el" href="structcl__site.html">cl_site</a> *s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize client site.  <a href="group__clio.html#ga5384082c04872b0c11252ead509cdd7a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clio.html#ga5898f38acc8064feb8aecae6b0cbffd4">cl_site_stats_print</a> (const struct <a class="el" href="structcl__site.html">cl_site</a> *site, struct seq_file *m)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Outputs client site statistical counters into a buffer.  <a href="group__clio.html#ga5898f38acc8064feb8aecae6b0cbffd4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#abdfc5e03d9eb2c0d28f3ddab11d38a36">DEFINE_SPINLOCK</a> (cl_envs_guard)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#ac1bcd38f6cceae2fdef9318d69fae979">cl_env_init0</a> (struct <a class="el" href="structcl__env.html">cl_env</a> *cle, void *<a class="el" href="lustre__rsync_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a81705344da79f9bbf7232bfb5d63b11d">cl_env_hops_hash</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *lh, const void *key, unsigned mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a6794d0b5434fc87ad844a763d02cee08">cl_env_hops_obj</a> (struct <a class="el" href="structhlist__node.html">hlist_node</a> *hn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a9e698a76dbecbe7bbb45f19e9f14b1b5">cl_env_hops_keycmp</a> (const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a16463aebd94019812c73f96189022e96">cl_env_hops_noop</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__env.html">cl_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a911e51023c846884b44f04a43ee4f378">cl_env_fetch</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a96fef47236e9956c36804c5c65b3dfd9">cl_env_attach</a> (struct <a class="el" href="structcl__env.html">cl_env</a> *cle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a9a895547d366867def1446c35a058e0d">cl_env_do_detach</a> (struct <a class="el" href="structcl__env.html">cl_env</a> *cle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a42afbf044dfc90d879502c23ee02b6d2">cl_env_store_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a24ad72e9a3883071e4b50f7462aeea6f">cl_env_store_fini</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__env.html">cl_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a625f1fc5ec0b3bb70c0c86ea3553b857">cl_env_detach</a> (struct <a class="el" href="structcl__env.html">cl_env</a> *cle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#aac092c76b290dd93e52c14d6cf9229db">cl_env_new</a> (__u32 ctx_tags, __u32 ses_tags, void *<a class="el" href="lustre__rsync_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a8fea43aa0c63a77865cf88576ef68ab0">cl_env_fini</a> (struct <a class="el" href="structcl__env.html">cl_env</a> *cle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a5c5bf35e10eea882cd48c3ffd389ca1a">cl_env_obtain</a> (void *<a class="el" href="lustre__rsync_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__env.html">cl_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a3c1d2582796256b2731f82066dcaf494">cl_env_container</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#gad6cae9e9e53d78c25ee1deae1ae3b8f4">cl_env_peek</a> (__u16 *refcheck)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#ga17240d2c6cef5226d4ec8c0b4046afa1">cl_env_get</a> (__u16 *refcheck)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns <a class="el" href="structlu__env.html" title="Environment.">lu_env</a>: if there already is an environment associated with the current thread, it is returned, otherwise, new environment is allocated.  <a href="group__cl__env.html#ga17240d2c6cef5226d4ec8c0b4046afa1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#ga2d91b169de0380c5f5be4c1118c7af8e">cl_env_alloc</a> (__u16 *refcheck, __u32 tags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forces an allocation of a fresh environment with given tags.  <a href="group__cl__env.html#ga2d91b169de0380c5f5be4c1118c7af8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a34f25b2565f489888b80c397696516af">cl_env_exit</a> (struct <a class="el" href="structcl__env.html">cl_env</a> *cle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#ga865dfbdba69721fb16c551ec6ce996d1">cl_env_cache_purge</a> (unsigned nr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalizes and frees a given number of cached environments.  <a href="group__cl__env.html#ga865dfbdba69721fb16c551ec6ce996d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#ga9cf31d221b7596143ff46bd799f19cf2">cl_env_put</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, __u16 *refcheck)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release an environment.  <a href="group__cl__env.html#ga9cf31d221b7596143ff46bd799f19cf2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#ga2c3cf05baa558c0e2888b5c82d0039a2">cl_env_reenter</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declares a point of re-entrancy.  <a href="group__cl__env.html#ga2c3cf05baa558c0e2888b5c82d0039a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#ga6a2f0ccf8118ede1c1f191a545937eac">cl_env_reexit</a> (void *cookie)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exits re-entrancy.  <a href="group__cl__env.html#ga6a2f0ccf8118ede1c1f191a545937eac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#gad07c2a6339d36f40375805d9ae5e02cc">cl_env_implant</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, __u16 *refcheck)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup user-supplied <em>env</em> as a current environment.  <a href="group__cl__env.html#gad07c2a6339d36f40375805d9ae5e02cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#gace30ddb0f3834c7dad1c4d5315dd63ba">cl_env_unplant</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, __u16 *refcheck)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Detach environment installed earlier by <a class="el" href="group__cl__env.html#gad07c2a6339d36f40375805d9ae5e02cc" title="Setup user-supplied env as a current environment.">cl_env_implant()</a>.  <a href="group__cl__env.html#gace30ddb0f3834c7dad1c4d5315dd63ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#ga6ed10b419dd63d9fa101c7e14e75f965">cl_env_nested_get</a> (struct <a class="el" href="structcl__env__nest.html">cl_env_nest</a> *nest)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#gad0152e8236bb22b70e9066509070fded">cl_env_nested_put</a> (struct <a class="el" href="structcl__env__nest.html">cl_env_nest</a> *nest, struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clio.html#ga5a05126b8b0aeb6f733aa358791aeed2">cl_attr2lvb</a> (struct <a class="el" href="structost__lvb.html">ost_lvb</a> *lvb, const struct <a class="el" href="structcl__attr.html">cl_attr</a> *attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts struct <a class="el" href="structcl__attr.html" title="&quot;Data attributes&quot; of cl_object.">cl_attr</a> to struct <a class="el" href="structost__lvb.html">ost_lvb</a>.  <a href="group__clio.html#ga5a05126b8b0aeb6f733aa358791aeed2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clio.html#gad69ffcfdd3d835937721abdc10dd1098">cl_lvb2attr</a> (struct <a class="el" href="structcl__attr.html">cl_attr</a> *attr, const struct <a class="el" href="structost__lvb.html">ost_lvb</a> *lvb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts struct <a class="el" href="structost__lvb.html">ost_lvb</a> to struct <a class="el" href="structcl__attr.html" title="&quot;Data attributes&quot; of cl_object.">cl_attr</a>.  <a href="group__clio.html#gad69ffcfdd3d835937721abdc10dd1098"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#ad8ae2e141428e6c33b5ee5749e0fc57f">cl_env_percpu_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a4ceaa269b7760fb5f2e1a9d6176d3c9e">cl_env_percpu_fini</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#gabbd19d47d20a5e5787bb6e61acaf1461">cl_env_percpu_put</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__env.html#ga8d7bb468153f7ccc6259ecef4dfa91bf">cl_env_percpu_get</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcl__device.html">cl_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clio.html#ga673ce59def375f145c75249200d9dd53">cl_type_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__site.html">lu_site</a> *site, struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *ldt, struct <a class="el" href="structlu__device.html">lu_device</a> *next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clio.html#ga0f3ca66265a771105086ea8d48cd814d">cl_stack_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__device.html">cl_device</a> *cl)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize device stack by calling <a class="el" href="group__lu.html#gadaddcc81c2131ec1158c21f009cf1739" title="Finalize and free devices in the device stack.">lu_stack_fini()</a>.  <a href="group__clio.html#ga0f3ca66265a771105086ea8d48cd814d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcl__thread__info.html">cl_thread_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#ac5cb680dce1a1c264017285ec520a65a">cl_env_info</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a12d39ec03c378b19e2e3ab63f50f137c">LU_KEY_INIT_FINI</a> (cl0, struct <a class="el" href="structcl__thread__info.html">cl_thread_info</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#ad8abbb5705a8c9d0a26da51649af228f">cl_key_init</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#abeade663f95050d35efb3d1b5e6f5c62">cl_key_fini</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#accbe4e050fe41a44eeac174e8cf1a408">cl_key_exit</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a20177ecada73cc1cd7e366cde320ba33">cl_global_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global initialization of cl-data.  <a href="#a20177ecada73cc1cd7e366cde320ba33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#aa126f7175676348b3f0e009121808cec">cl_global_fini</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalization of global cl-data.  <a href="#aa126f7175676348b3f0e009121808cec"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#ab75db2329f14102a24e1adb526e9fe30">cl_env_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct lock_class_key&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#ac7cb72b8ff779c1c01cc65c21ece1956">cl_attr_guard_class</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock class of <a class="el" href="structcl__object__header.html#a1d5bd74f8a1c9232bd97a3e5a6ded72a" title="Protects consistency between cl_attr of parent object and attributes of sub-objects...">cl_object_header::coh_attr_guard</a>.  <a href="#ac7cb72b8ff779c1c01cc65c21ece1956"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcache__stats.html">cache_stats</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a4bdbe26a728941ded768d1bc86e056a2">cl_env_stats</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a6b21aebe393eafc854d755e0cf322da9">cl_envs</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The most efficient way is to store <a class="el" href="structcl__env.html">cl_env</a> pointer in task specific structures.  <a href="#a6b21aebe393eafc854d755e0cf322da9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a31285068bebfc62b83b1b20052d027b9">cl_envs_cached_nr</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#a24fd5de150f7d38fdbf7d26ebf71cccd">cl_envs_cached_max</a> = 128</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#af945f91fd948b053f7a28482b19feee8">cl_env_hash</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#ae2454a674e4e0e88ef2e67cf72087f0d">cl_env_hops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__env.html">cl_env</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#ae2ac316fe34e020ad0e342edf73ac5ff">cl_env_percpu</a> [NR_CPUS]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__context__key.html">lu_context_key</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#aa59c89e0aac77a66deb18b67dbd6cd4e">cl_key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cl__object_8c.html#ae2c002452c9c63a8bee6b0860a638503">cl_object_caches</a> []</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a845ac860108a6f04c625947358b559eb"></a><!-- doxytag: member="cl_object.c::CL_ENV_DEC" ref="a845ac860108a6f04c625947358b559eb" args="(counter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CL_ENV_DEC</td>
          <td>(</td>
          <td class="paramtype">counter&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00630">630</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00825">cl_env_fini()</a>, <a class="el" href="cl__object_8c_source.html#l01209">cl_env_percpu_put()</a>, and <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>.</p>

</div>
</div>
<a class="anchor" id="aa68ac8bd51739de2e2a83865d9f5fe1c"></a><!-- doxytag: member="cl_object.c::CL_ENV_INC" ref="aa68ac8bd51739de2e2a83865d9f5fe1c" args="(counter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CL_ENV_INC</td>
          <td>(</td>
          <td class="paramtype">counter&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00629">629</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00633">cl_env_init0()</a>, <a class="el" href="cl__object_8c_source.html#l00790">cl_env_new()</a>, and <a class="el" href="cl__object_8c_source.html#l00872">cl_env_peek()</a>.</p>

</div>
</div>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="cl_object.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_CLASS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00051">51</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a38e51fc9f1875bc329a9205ee5482e3d"></a><!-- doxytag: member="cl_object.c::cache_stats_print" ref="a38e51fc9f1875bc329a9205ee5482e3d" args="(const struct cache_stats *cs, struct seq_file *m, int h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cache_stats_print </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcache__stats.html">cache_stats</a> *&nbsp;</td>
          <td class="paramname"> <em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>h</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00452">452</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01894">cache_stats::cs_name</a>, <a class="el" href="cl__object_8h_source.html#l01888">CS_NAMES</a>, <a class="el" href="cl__object_8h_source.html#l01885">CS_NR</a>, and <a class="el" href="cl__object_8h_source.html#l01895">cache_stats::cs_stats</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00518">cl_site_stats_print()</a>.</p>

</div>
</div>
<a class="anchor" id="a96fef47236e9956c36804c5c65b3dfd9"></a><!-- doxytag: member="cl_object.c::cl_env_attach" ref="a96fef47236e9956c36804c5c65b3dfd9" args="(struct cl_env *cle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_env_attach </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__env.html">cl_env</a> *&nbsp;</td>
          <td class="paramname"> <em>cle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00702">702</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00590">cl_env::ce_node</a>, <a class="el" href="cl__object_8c_source.html#l00603">cl_env::ce_owner</a>, <a class="el" href="hash_8c_source.html#l01259">cfs_hash_add_unique()</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l01051">cl_env_implant()</a>, <a class="el" href="cl__object_8c_source.html#l01229">cl_env_percpu_get()</a>, and <a class="el" href="cl__object_8c_source.html#l01037">cl_env_reexit()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c1d2582796256b2731f82066dcaf494"></a><!-- doxytag: member="cl_object.c::cl_env_container" ref="a3c1d2582796256b2731f82066dcaf494" args="(struct lu_env *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcl__env.html">cl_env</a>* cl_env_container </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00867">867</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00580">cl_env::ce_lu</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00931">cl_env_alloc()</a>, <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>, <a class="el" href="cl__object_8c_source.html#l01051">cl_env_implant()</a>, <a class="el" href="cl__object_8c_source.html#l01209">cl_env_percpu_put()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, and <a class="el" href="cl__object_8c_source.html#l01066">cl_env_unplant()</a>.</p>

</div>
</div>
<a class="anchor" id="a625f1fc5ec0b3bb70c0c86ea3553b857"></a><!-- doxytag: member="cl_object.c::cl_env_detach" ref="a625f1fc5ec0b3bb70c0c86ea3553b857" args="(struct cl_env *cle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcl__env.html">cl_env</a>* cl_env_detach </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__env.html">cl_env</a> *&nbsp;</td>
          <td class="paramname"> <em>cle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00779">779</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00603">cl_env::ce_owner</a>, <a class="el" href="cl__object_8c_source.html#l00715">cl_env_do_detach()</a>, and <a class="el" href="cl__object_8c_source.html#l00693">cl_env_fetch()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l01209">cl_env_percpu_put()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, <a class="el" href="cl__object_8c_source.html#l01028">cl_env_reenter()</a>, <a class="el" href="cl__object_8c_source.html#l01037">cl_env_reexit()</a>, and <a class="el" href="cl__object_8c_source.html#l01066">cl_env_unplant()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a895547d366867def1446c35a058e0d"></a><!-- doxytag: member="cl_object.c::cl_env_do_detach" ref="a9a895547d366867def1446c35a058e0d" args="(struct cl_env *cle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_env_do_detach </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__env.html">cl_env</a> *&nbsp;</td>
          <td class="paramname"> <em>cle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00715">715</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00590">cl_env::ce_node</a>, <a class="el" href="cl__object_8c_source.html#l00603">cl_env::ce_owner</a>, <a class="el" href="hash_8c_source.html#l01291">cfs_hash_del()</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00779">cl_env_detach()</a>.</p>

</div>
</div>
<a class="anchor" id="a34f25b2565f489888b80c397696516af"></a><!-- doxytag: member="cl_object.c::cl_env_exit" ref="a34f25b2565f489888b80c397696516af" args="(struct cl_env *cle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_env_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__env.html">cl_env</a> *&nbsp;</td>
          <td class="paramname"> <em>cle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00948">948</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00580">cl_env::ce_lu</a>, <a class="el" href="cl__object_8c_source.html#l00603">cl_env::ce_owner</a>, <a class="el" href="cl__object_8c_source.html#l00581">cl_env::ce_ses</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, and <a class="el" href="lu__object_8c_source.html#l01786">lu_context_exit()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>.</p>

</div>
</div>
<a class="anchor" id="a911e51023c846884b44f04a43ee4f378"></a><!-- doxytag: member="cl_object.c::cl_env_fetch" ref="a911e51023c846884b44f04a43ee4f378" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcl__env.html">cl_env</a>* cl_env_fetch </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00693">693</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00579">cl_env::ce_magic</a>, <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>, <a class="el" href="cl__object_8c_source.html#l00633">cl_env_init0()</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00779">cl_env_detach()</a>, and <a class="el" href="cl__object_8c_source.html#l00872">cl_env_peek()</a>.</p>

</div>
</div>
<a class="anchor" id="a8fea43aa0c63a77865cf88576ef68ab0"></a><!-- doxytag: member="cl_object.c::cl_env_fini" ref="a8fea43aa0c63a77865cf88576ef68ab0" args="(struct cl_env *cle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_env_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__env.html">cl_env</a> *&nbsp;</td>
          <td class="paramname"> <em>cle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00825">825</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00580">cl_env::ce_lu</a>, <a class="el" href="cl__object_8c_source.html#l00581">cl_env::ce_ses</a>, <a class="el" href="cl__object_8c_source.html#l00630">CL_ENV_DEC</a>, <a class="el" href="cl__object_8c_source.html#l00064">cl_env_kmem</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="lu__object_8c_source.html#l01755">lu_context_fini()</a>, and <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00960">cl_env_cache_purge()</a>, <a class="el" href="cl__object_8c_source.html#l00833">cl_env_obtain()</a>, and <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>.</p>

</div>
</div>
<a class="anchor" id="a81705344da79f9bbf7232bfb5d63b11d"></a><!-- doxytag: member="cl_object.c::cl_env_hops_hash" ref="a81705344da79f9bbf7232bfb5d63b11d" args="(struct cfs_hash *lh, const void *key, unsigned mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned cl_env_hops_hash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00652">652</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__hash_8h_source.html#l00829">cfs_hash_u32_hash()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00838">cfs_hash_u64_hash()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e698a76dbecbe7bbb45f19e9f14b1b5"></a><!-- doxytag: member="cl_object.c::cl_env_hops_keycmp" ref="a9e698a76dbecbe7bbb45f19e9f14b1b5" args="(const void *key, struct hlist_node *hn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cl_env_hops_keycmp </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00670">670</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00603">cl_env::ce_owner</a>, <a class="el" href="cl__object_8c_source.html#l00662">cl_env_hops_obj()</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

</div>
</div>
<a class="anchor" id="a16463aebd94019812c73f96189022e96"></a><!-- doxytag: member="cl_object.c::cl_env_hops_noop" ref="a16463aebd94019812c73f96189022e96" args="(struct cfs_hash *hs, struct hlist_node *hn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_env_hops_noop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00678">678</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00579">cl_env::ce_magic</a>, <a class="el" href="cl__object_8c_source.html#l00590">cl_env::ce_node</a>, <a class="el" href="cl__object_8c_source.html#l00633">cl_env_init0()</a>, <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

</div>
</div>
<a class="anchor" id="a6794d0b5434fc87ad844a763d02cee08"></a><!-- doxytag: member="cl_object.c::cl_env_hops_obj" ref="a6794d0b5434fc87ad844a763d02cee08" args="(struct hlist_node *hn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* cl_env_hops_obj </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00662">662</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00579">cl_env::ce_magic</a>, <a class="el" href="cl__object_8c_source.html#l00590">cl_env::ce_node</a>, <a class="el" href="cl__object_8c_source.html#l00633">cl_env_init0()</a>, <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00670">cl_env_hops_keycmp()</a>.</p>

</div>
</div>
<a class="anchor" id="ac5cb680dce1a1c264017285ec520a65a"></a><!-- doxytag: member="cl_object.c::cl_env_info" ref="ac5cb680dce1a1c264017285ec520a65a" args="(const struct lu_env *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcl__thread__info.html">cl_thread_info</a>* cl_env_info </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01290">1290</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l01288">cl_key</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, and <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>.</p>

<p>Referenced by <a class="el" href="cl__io_8c_source.html#l00103">cl_io_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00211">cl_io_init()</a>, <a class="el" href="cl__io_8c_source.html#l00076">cl_io_is_going()</a>, <a class="el" href="cl__io_8c_source.html#l00189">cl_io_sub_init()</a>, <a class="el" href="cl__io_8c_source.html#l00702">cl_io_submit_sync()</a>, <a class="el" href="cl__io_8c_source.html#l00395">cl_io_unlock()</a>, and <a class="el" href="cl__lock_8c_source.html#l00195">cl_lock_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ac1bcd38f6cceae2fdef9318d69fae979"></a><!-- doxytag: member="cl_object.c::cl_env_init0" ref="ac1bcd38f6cceae2fdef9318d69fae979" args="(struct cl_env *cle, void *debug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_env_init0 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__env.html">cl_env</a> *&nbsp;</td>
          <td class="paramname"> <em>cle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>debug</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00633">633</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00618">cl_env::ce_debug</a>, <a class="el" href="cl__object_8c_source.html#l00579">cl_env::ce_magic</a>, <a class="el" href="cl__object_8c_source.html#l00603">cl_env::ce_owner</a>, <a class="el" href="cl__object_8c_source.html#l00613">cl_env::ce_ref</a>, <a class="el" href="cl__object_8c_source.html#l00629">CL_ENV_INC</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00693">cl_env_fetch()</a>, <a class="el" href="cl__object_8c_source.html#l00678">cl_env_hops_noop()</a>, <a class="el" href="cl__object_8c_source.html#l00662">cl_env_hops_obj()</a>, <a class="el" href="cl__object_8c_source.html#l00790">cl_env_new()</a>, <a class="el" href="cl__object_8c_source.html#l00833">cl_env_obtain()</a>, <a class="el" href="cl__object_8c_source.html#l01229">cl_env_percpu_get()</a>, and <a class="el" href="cl__object_8c_source.html#l01146">cl_env_percpu_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aac092c76b290dd93e52c14d6cf9229db"></a><!-- doxytag: member="cl_object.c::cl_env_new" ref="aac092c76b290dd93e52c14d6cf9229db" args="(__u32 ctx_tags, __u32 ses_tags, void *debug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__env.html">lu_env</a>* cl_env_new </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>ctx_tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>ses_tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>debug</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00790">790</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00609">cl_env::ce_linkage</a>, <a class="el" href="cl__object_8c_source.html#l00580">cl_env::ce_lu</a>, <a class="el" href="cl__object_8c_source.html#l00579">cl_env::ce_magic</a>, <a class="el" href="cl__object_8c_source.html#l00581">cl_env::ce_ses</a>, <a class="el" href="cl__object_8c_source.html#l00629">CL_ENV_INC</a>, <a class="el" href="cl__object_8c_source.html#l00633">cl_env_init0()</a>, <a class="el" href="cl__object_8c_source.html#l00064">cl_env_kmem</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lu__object_8h_source.html#l01007">LCT_CL_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l01012">LCT_SESSION</a>, <a class="el" href="lu__object_8h_source.html#l01277">lu_env::le_ses</a>, <a class="el" href="lu__object_8c_source.html#l01776">lu_context_enter()</a>, <a class="el" href="lu__object_8c_source.html#l01729">lu_context_init()</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>, and <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00931">cl_env_alloc()</a>, and <a class="el" href="cl__object_8c_source.html#l00833">cl_env_obtain()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c5bf35e10eea882cd48c3ffd389ca1a"></a><!-- doxytag: member="cl_object.c::cl_env_obtain" ref="a5c5bf35e10eea882cd48c3ffd389ca1a" args="(void *debug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__env.html">lu_env</a>* cl_env_obtain </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>debug</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00833">833</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00609">cl_env::ce_linkage</a>, <a class="el" href="cl__object_8c_source.html#l00580">cl_env::ce_lu</a>, <a class="el" href="cl__object_8c_source.html#l00581">cl_env::ce_ses</a>, <a class="el" href="cl__object_8c_source.html#l00825">cl_env_fini()</a>, <a class="el" href="cl__object_8c_source.html#l00633">cl_env_init0()</a>, <a class="el" href="cl__object_8c_source.html#l00790">cl_env_new()</a>, <a class="el" href="cl__object_8c_source.html#l00572">cl_envs</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00059">equi</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lu__object_8c_source.html#l01776">lu_context_enter()</a>, <a class="el" href="lu__object_8c_source.html#l01830">lu_context_tags_default</a>, <a class="el" href="lu__object_8c_source.html#l01889">lu_env_refill()</a>, <a class="el" href="lu__object_8c_source.html#l01831">lu_session_tags_default</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00906">cl_env_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ceaa269b7760fb5f2e1a9d6176d3c9e"></a><!-- doxytag: member="cl_object.c::cl_env_percpu_fini" ref="a4ceaa269b7760fb5f2e1a9d6176d3c9e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_env_percpu_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01188">1188</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00580">cl_env::ce_lu</a>, <a class="el" href="cl__object_8c_source.html#l00581">cl_env::ce_ses</a>, <a class="el" href="cl__object_8c_source.html#l01144">cl_env_percpu</a>, <a class="el" href="lu__object_8c_source.html#l01786">lu_context_exit()</a>, <a class="el" href="lu__object_8c_source.html#l01755">lu_context_fini()</a>, and <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l01403">cl_global_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8ae2e141428e6c33b5ee5749e0fc57f"></a><!-- doxytag: member="cl_object.c::cl_env_percpu_init" ref="ad8ae2e141428e6c33b5ee5749e0fc57f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cl_env_percpu_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01146">1146</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00609">cl_env::ce_linkage</a>, <a class="el" href="cl__object_8c_source.html#l00580">cl_env::ce_lu</a>, <a class="el" href="cl__object_8c_source.html#l00579">cl_env::ce_magic</a>, <a class="el" href="cl__object_8c_source.html#l00581">cl_env::ce_ses</a>, <a class="el" href="cl__object_8c_source.html#l00633">cl_env_init0()</a>, <a class="el" href="cl__object_8c_source.html#l01144">cl_env_percpu</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lu__object_8h_source.html#l01007">LCT_CL_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l01039">LCT_NOREF</a>, <a class="el" href="lu__object_8h_source.html#l01047">LCT_REMEMBER</a>, <a class="el" href="lu__object_8h_source.html#l01012">LCT_SESSION</a>, <a class="el" href="lu__object_8h_source.html#l01277">lu_env::le_ses</a>, <a class="el" href="lu__object_8c_source.html#l01776">lu_context_enter()</a>, <a class="el" href="lu__object_8c_source.html#l01786">lu_context_exit()</a>, <a class="el" href="lu__object_8c_source.html#l01755">lu_context_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01729">lu_context_init()</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, and <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l01365">cl_global_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a38fcca5294198603c8f5b17de87b1c5f"></a><!-- doxytag: member="cl_object.c::cl_env_percpu_refill" ref="a38fcca5294198603c8f5b17de87b1c5f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_env_percpu_refill </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01201">1201</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00580">cl_env::ce_lu</a>, <a class="el" href="cl__object_8c_source.html#l01144">cl_env_percpu</a>, and <a class="el" href="lu__object_8c_source.html#l01889">lu_env_refill()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00484">cl_site_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a24ad72e9a3883071e4b50f7462aeea6f"></a><!-- doxytag: member="cl_object.c::cl_env_store_fini" ref="a24ad72e9a3883071e4b50f7462aeea6f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_env_store_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00737">737</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01148">cfs_hash_putref()</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l01403">cl_global_fini()</a>, and <a class="el" href="cl__object_8c_source.html#l01365">cl_global_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a42afbf044dfc90d879502c23ee02b6d2"></a><!-- doxytag: member="cl_object.c::cl_env_store_init" ref="a42afbf044dfc90d879502c23ee02b6d2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cl_env_store_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00726">726</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00775">CFS_HASH_MAX_THETA</a>, <a class="el" href="libcfs__hash_8h_source.html#l00774">CFS_HASH_MIN_THETA</a>, <a class="el" href="libcfs__hash_8h_source.html#l00134">CFS_HASH_RW_BKTLOCK</a>, <a class="el" href="obd__support_8h_source.html#l00106">HASH_CL_ENV_BITS</a>, and <a class="el" href="obd__support_8h_source.html#l00105">HASH_CL_ENV_BKT_BITS</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l01365">cl_global_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa126f7175676348b3f0e009121808cec"></a><!-- doxytag: member="cl_object.c::cl_global_fini" ref="aa126f7175676348b3f0e009121808cec" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_global_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finalization of global cl-data. </p>
<p>Dual to <a class="el" href="cl__object_8h.html#a20177ecada73cc1cd7e366cde320ba33" title="Global initialization of cl-data.">cl_global_init()</a>. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01403">1403</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l01188">cl_env_percpu_fini()</a>, <a class="el" href="cl__object_8c_source.html#l00737">cl_env_store_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01455">lu_context_key_degister()</a>, and <a class="el" href="lu__object_8c_source.html#l02275">lu_kmem_fini()</a>.</p>

<p>Referenced by <a class="el" href="class__obd_8c_source.html#l00610">obdclass_exit()</a>.</p>

</div>
</div>
<a class="anchor" id="a20177ecada73cc1cd7e366cde320ba33"></a><!-- doxytag: member="cl_object.c::cl_global_init" ref="a20177ecada73cc1cd7e366cde320ba33" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_global_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Global initialization of cl-data. </p>
<p>Create kmem caches, register lu_context_key's, etc.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="cl__object_8h.html#aa126f7175676348b3f0e009121808cec" title="Finalization of global cl-data.">cl_global_fini()</a> </dd></dl>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01365">1365</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l01146">cl_env_percpu_init()</a>, <a class="el" href="cl__object_8c_source.html#l00737">cl_env_store_fini()</a>, <a class="el" href="cl__object_8c_source.html#l00726">cl_env_store_init()</a>, <a class="el" href="cl__object_8c_source.html#l00572">cl_envs</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lu__object_8c_source.html#l01455">lu_context_key_degister()</a>, <a class="el" href="lu__object_8h_source.html#l01172">LU_CONTEXT_KEY_INIT</a>, <a class="el" href="lu__object_8c_source.html#l01401">lu_context_key_register()</a>, <a class="el" href="lu__object_8c_source.html#l02275">lu_kmem_fini()</a>, and <a class="el" href="lu__object_8c_source.html#l02251">lu_kmem_init()</a>.</p>

<p>Referenced by <a class="el" href="class__obd_8c_source.html#l00495">obdclass_init()</a>.</p>

</div>
</div>
<a class="anchor" id="accbe4e050fe41a44eeac174e8cf1a408"></a><!-- doxytag: member="cl_object.c::cl_key_exit" ref="accbe4e050fe41a44eeac174e8cf1a408" args="(const struct lu_context *ctx, struct lu_context_key *key, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_key_exit </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01325">1325</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="cl__internal_8h_source.html#l00093">cl_thread_info::clt_counters</a>, <a class="el" href="cl__internal_8h_source.html#l00066">cl_thread_counters::ctc_locks_locked</a>, <a class="el" href="cl__internal_8h_source.html#l00068">cl_thread_counters::ctc_nr_held</a>, <a class="el" href="cl__internal_8h_source.html#l00072">cl_thread_counters::ctc_nr_locks_acquired</a>, <a class="el" href="cl__internal_8h_source.html#l00064">cl_thread_counters::ctc_nr_locks_locked</a>, <a class="el" href="cl__internal_8h_source.html#l00070">cl_thread_counters::ctc_nr_used</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__ref_8h_source.html#l00200">lu_ref_fini()</a>, and <a class="el" href="lu__ref_8h_source.html#l00196">lu_ref_init()</a>.</p>

</div>
</div>
<a class="anchor" id="abeade663f95050d35efb3d1b5e6f5c62"></a><!-- doxytag: member="cl_object.c::cl_key_fini" ref="abeade663f95050d35efb3d1b5e6f5c62" args="(const struct lu_context *ctx, struct lu_context_key *key, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_key_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01313">1313</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="cl__internal_8h_source.html#l00093">cl_thread_info::clt_counters</a>, <a class="el" href="cl__internal_8h_source.html#l00066">cl_thread_counters::ctc_locks_locked</a>, and <a class="el" href="lu__ref_8h_source.html#l00200">lu_ref_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8abbb5705a8c9d0a26da51649af228f"></a><!-- doxytag: member="cl_object.c::cl_key_init" ref="ad8abbb5705a8c9d0a26da51649af228f" args="(const struct lu_context *ctx, struct lu_context_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* cl_key_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01298">1298</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="cl__internal_8h_source.html#l00093">cl_thread_info::clt_counters</a>, <a class="el" href="cl__internal_8h_source.html#l00066">cl_thread_counters::ctc_locks_locked</a>, and <a class="el" href="lu__ref_8h_source.html#l00196">lu_ref_init()</a>.</p>

</div>
</div>
<a class="anchor" id="acdbe1c450cfa6000fa3e267e1b488ab4"></a><!-- doxytag: member="cl_object.c::cl_object_attr_guard" ref="acdbe1c450cfa6000fa3e267e1b488ab4" args="(struct cl_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static spinlock_t* cl_object_attr_guard </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns pointer to the lock protecting data-attributes for the given object <em>o</em>. </p>
<p>Data-attributes are protected by the <a class="el" href="structcl__object__header.html#a1d5bd74f8a1c9232bd97a3e5a6ded72a" title="Protects consistency between cl_attr of parent object and attributes of sub-objects...">cl_object_header::coh_attr_guard</a> spin-lock in the top-object.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structcl__attr.html" title="&quot;Data attributes&quot; of cl_object.">cl_attr</a>, <a class="el" href="group__cl__object.html#ga0ab97a8a879d5a81b4b5d60367e0ff0a" title="Locks data-attributes.">cl_object_attr_lock()</a>, <a class="el" href="structcl__object__operations.html#a63cabd646365a83d06c0e8eae0fe633f" title="Fill portion of attr that this layer controls.">cl_object_operations::coo_attr_get()</a>. </dd></dl>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00168">168</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01982">cl_object_header()</a>, <a class="el" href="cl__object_8c_source.html#l00145">cl_object_top()</a>, and <a class="el" href="cl__object_8h_source.html#l00438">cl_object_header::coh_attr_guard</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00204">cl_object_attr_get()</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, and <a class="el" href="cl__object_8c_source.html#l00236">cl_object_attr_update()</a>.</p>

</div>
</div>
<a class="anchor" id="abdfc5e03d9eb2c0d28f3ddab11d38a36"></a><!-- doxytag: member="cl_object.c::DEFINE_SPINLOCK" ref="abdfc5e03d9eb2c0d28f3ddab11d38a36" args="(cl_envs_guard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_SPINLOCK </td>
          <td>(</td>
          <td class="paramtype">cl_envs_guard&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a12d39ec03c378b19e2e3ab63f50f137c"></a><!-- doxytag: member="cl_object.c::LU_KEY_INIT_FINI" ref="a12d39ec03c378b19e2e3ab63f50f137c" args="(cl0, struct cl_thread_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_KEY_INIT_FINI </td>
          <td>(</td>
          <td class="paramtype">cl0&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__thread__info.html">cl_thread_info</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ac7cb72b8ff779c1c01cc65c21ece1956"></a><!-- doxytag: member="cl_object.c::cl_attr_guard_class" ref="ac7cb72b8ff779c1c01cc65c21ece1956" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct lock_class_key <a class="el" href="cl__object_8c.html#ac7cb72b8ff779c1c01cc65c21ece1956">cl_attr_guard_class</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock class of <a class="el" href="structcl__object__header.html#a1d5bd74f8a1c9232bd97a3e5a6ded72a" title="Protects consistency between cl_attr of parent object and attributes of sub-objects...">cl_object_header::coh_attr_guard</a>. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00067">67</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00072">cl_object_header_init()</a>.</p>

</div>
</div>
<a class="anchor" id="af945f91fd948b053f7a28482b19feee8"></a><!-- doxytag: member="cl_object.c::cl_env_hash" ref="af945f91fd948b053f7a28482b19feee8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash.html">cfs_hash</a>* <a class="el" href="cl__object_8c.html#af945f91fd948b053f7a28482b19feee8">cl_env_hash</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00650">650</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae2454a674e4e0e88ef2e67cf72087f0d"></a><!-- doxytag: member="cl_object.c::cl_env_hops" ref="ae2454a674e4e0e88ef2e67cf72087f0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a> <a class="el" href="cl__object_8c.html#ae2454a674e4e0e88ef2e67cf72087f0d">cl_env_hops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .hs_hash        = <a class="code" href="cl__object_8c.html#a81705344da79f9bbf7232bfb5d63b11d">cl_env_hops_hash</a>,
        .hs_key         = <a class="code" href="cl__object_8c.html#a6794d0b5434fc87ad844a763d02cee08">cl_env_hops_obj</a>,
        .hs_keycmp      = <a class="code" href="cl__object_8c.html#a9e698a76dbecbe7bbb45f19e9f14b1b5">cl_env_hops_keycmp</a>,
        .hs_object      = <a class="code" href="cl__object_8c.html#a6794d0b5434fc87ad844a763d02cee08">cl_env_hops_obj</a>,
        .hs_get         = <a class="code" href="cl__object_8c.html#a16463aebd94019812c73f96189022e96">cl_env_hops_noop</a>,
        .hs_put_locked  = <a class="code" href="cl__object_8c.html#a16463aebd94019812c73f96189022e96">cl_env_hops_noop</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00684">684</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab75db2329f14102a24e1adb526e9fe30"></a><!-- doxytag: member="cl_object.c::cl_env_kmem" ref="ab75db2329f14102a24e1adb526e9fe30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="cl__object_8c.html#ab75db2329f14102a24e1adb526e9fe30">cl_env_kmem</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00064">64</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00825">cl_env_fini()</a>, and <a class="el" href="cl__object_8c_source.html#l00790">cl_env_new()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2ac316fe34e020ad0e342edf73ac5ff"></a><!-- doxytag: member="cl_object.c::cl_env_percpu" ref="ae2ac316fe34e020ad0e342edf73ac5ff" args="[NR_CPUS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcl__env.html">cl_env</a> <a class="el" href="cl__object_8c.html#ae2ac316fe34e020ad0e342edf73ac5ff">cl_env_percpu</a>[NR_CPUS]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01144">1144</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l01188">cl_env_percpu_fini()</a>, <a class="el" href="cl__object_8c_source.html#l01229">cl_env_percpu_get()</a>, <a class="el" href="cl__object_8c_source.html#l01146">cl_env_percpu_init()</a>, <a class="el" href="cl__object_8c_source.html#l01209">cl_env_percpu_put()</a>, and <a class="el" href="cl__object_8c_source.html#l01201">cl_env_percpu_refill()</a>.</p>

</div>
</div>
<a class="anchor" id="a4bdbe26a728941ded768d1bc86e056a2"></a><!-- doxytag: member="cl_object.c::cl_env_stats" ref="a4bdbe26a728941ded768d1bc86e056a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcache__stats.html">cache_stats</a> <a class="el" href="cl__object_8c.html#a4bdbe26a728941ded768d1bc86e056a2">cl_env_stats</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .cs_name    = <span class="stringliteral">&quot;envs&quot;</span>,
        .cs_stats = { ATOMIC_INIT(0), }
}
</pre></div>
<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00509">509</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6b21aebe393eafc854d755e0cf322da9"></a><!-- doxytag: member="cl_object.c::cl_envs" ref="a6b21aebe393eafc854d755e0cf322da9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="cl__object_8c.html#a6b21aebe393eafc854d755e0cf322da9">cl_envs</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The most efficient way is to store <a class="el" href="structcl__env.html">cl_env</a> pointer in task specific structures. </p>
<p>On Linux, it wont' be easy to use task_struct-&gt;journal_info because Lustre code may call into other fs which has certain assumptions about journal_info. Currently following fields in task_struct are identified can be used for this purpose:</p>
<ul>
<li><a class="el" href="structcl__env.html">cl_env</a>: for liblustre.</li>
<li>tux_info: ony on RedHat kernel.</li>
<li>... <dl class="note"><dt><b>Note:</b></dt><dd>As long as we use task_struct to store <a class="el" href="structcl__env.html">cl_env</a>, we assume that once called into Lustre, we'll never call into the other part of the kernel which will use those fields in task_struct without explicitly exiting Lustre.</dd></dl>
If there's no space in task_struct is available, hash will be used. bz20044, bz22683. </li>
</ul>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00572">572</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l00960">cl_env_cache_purge()</a>, <a class="el" href="cl__object_8c_source.html#l00833">cl_env_obtain()</a>, <a class="el" href="cl__object_8c_source.html#l00989">cl_env_put()</a>, and <a class="el" href="cl__object_8c_source.html#l01365">cl_global_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a24fd5de150f7d38fdbf7d26ebf71cccd"></a><!-- doxytag: member="cl_object.c::cl_envs_cached_max" ref="a24fd5de150f7d38fdbf7d26ebf71cccd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="cl__object_8c.html#a24fd5de150f7d38fdbf7d26ebf71cccd">cl_envs_cached_max</a> = 128<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00574">574</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a31285068bebfc62b83b1b20052d027b9"></a><!-- doxytag: member="cl_object.c::cl_envs_cached_nr" ref="a31285068bebfc62b83b1b20052d027b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="cl__object_8c.html#a31285068bebfc62b83b1b20052d027b9">cl_envs_cached_nr</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00573">573</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa59c89e0aac77a66deb18b67dbd6cd4e"></a><!-- doxytag: member="cl_object.c::cl_key" ref="aa59c89e0aac77a66deb18b67dbd6cd4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__context__key.html">lu_context_key</a> <a class="el" href="cl__object_8c.html#aa59c89e0aac77a66deb18b67dbd6cd4e">cl_key</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .lct_tags = <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa40dab32b35c819b558399c29e75bd57d" title="Thread on client.">LCT_CL_THREAD</a>,
        .lct_init = <a class="code" href="cl__object_8c.html#ad8abbb5705a8c9d0a26da51649af228f">cl_key_init</a>,
        .lct_fini = <a class="code" href="cl__object_8c.html#abeade663f95050d35efb3d1b5e6f5c62">cl_key_fini</a>,
        .lct_exit = <a class="code" href="cl__object_8c.html#accbe4e050fe41a44eeac174e8cf1a408">cl_key_exit</a>
}
</pre></div>
<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01288">1288</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>Referenced by <a class="el" href="cl__object_8c_source.html#l01290">cl_env_info()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2c002452c9c63a8bee6b0860a638503"></a><!-- doxytag: member="cl_object.c::cl_object_caches" ref="ae2c002452c9c63a8bee6b0860a638503" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a> <a class="el" href="cl__object_8c.html#ae2c002452c9c63a8bee6b0860a638503">cl_object_caches</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        {
                .ckd_cache = &amp;<a class="code" href="cl__object_8c.html#ab75db2329f14102a24e1adb526e9fe30">cl_env_kmem</a>,
                .ckd_name  = <span class="stringliteral">&quot;cl_env_kmem&quot;</span>,
                .ckd_size  = <span class="keyword">sizeof</span> (<span class="keyword">struct </span><a class="code" href="structcl__env.html">cl_env</a>)
        },
        {
                .ckd_cache = NULL
        }
}
</pre></div>
<p>Definition at line <a class="el" href="cl__object_8c_source.html#l01348">1348</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
