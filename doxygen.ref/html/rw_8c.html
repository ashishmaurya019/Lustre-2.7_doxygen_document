<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/llite/rw.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/llite/rw.c File Reference</h1><code>#include &lt;linux/kernel.h&gt;</code><br/>
<code>#include &lt;linux/mm.h&gt;</code><br/>
<code>#include &lt;linux/string.h&gt;</code><br/>
<code>#include &lt;linux/stat.h&gt;</code><br/>
<code>#include &lt;linux/errno.h&gt;</code><br/>
<code>#include &lt;linux/unistd.h&gt;</code><br/>
<code>#include &lt;linux/writeback.h&gt;</code><br/>
<code>#include &lt;asm/uaccess.h&gt;</code><br/>
<code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/pagemap.h&gt;</code><br/>
<code>#include &lt;linux/swap.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__cksum_8h_source.html">obd_cksum.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="llite__internal_8h_source.html">llite_internal.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="lustre__compat_8h_source.html">lustre_compat.h</a>&gt;</code><br/>

<p><a href="rw_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LLITE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a9c722a93649310f629414656bddf8936">RAS_CDEBUG</a>(ras)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#af24ad73be4d9f42c6c1ce3b2ad7c6c61">RIA_DEBUG</a>(ria)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a2b6848a37aa30adea08b0001a70b9779">ll_ra_stats_inc_sbi</a> (struct <a class="el" href="structll__sb__info.html">ll_sb_info</a> *sbi, enum <a class="el" href="llite__internal_8h.html#a0dbd2cebb432db43590d9bd246b66707">ra_stat</a> which)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#ae7d4f6627c502481305f57eb8c27ef3f">ll_ra_count_get</a> (struct <a class="el" href="structll__sb__info.html">ll_sb_info</a> *sbi, struct <a class="el" href="structra__io__arg.html">ra_io_arg</a> *ria, unsigned long pages, unsigned long min)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get readahead pages from the filesystem readahead pool of the client for a thread.  <a href="#ae7d4f6627c502481305f57eb8c27ef3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#adf5e0c80c127e2f5523b4b13c5b87e6c">ll_ra_count_put</a> (struct <a class="el" href="structll__sb__info.html">ll_sb_info</a> *sbi, unsigned long len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#ae365e173e1d32458f878340ea231f95b">ll_ra_stats_inc</a> (struct inode *inode, enum <a class="el" href="llite__internal_8h.html#a0dbd2cebb432db43590d9bd246b66707">ra_stat</a> which)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#acb28a3eae802517386cd54f945e2dd0c">index_in_window</a> (unsigned long index, unsigned long point, unsigned long before, unsigned long after)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a5eff0015062b1ba269ef6c0d7b32a4e0">ll_ras_enter</a> (struct file *f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#aa8c66dc199dcc6e1e63a6b0611fbbec6">ll_read_ahead_page</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *queue, pgoff_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initiates read-ahead of a page with given index.  <a href="#aa8c66dc199dcc6e1e63a6b0611fbbec6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a904649b14f3e84e50564250423a20b64">stride_io_mode</a> (struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a619160f8012fed1221f29c7c91ea5d41">stride_pg_count</a> (pgoff_t st_off, unsigned long st_len, unsigned long st_pgs, unsigned long off, unsigned long length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a544a183b1f1a0fd018528f6e3d1b29d6">ria_page_count</a> (struct <a class="el" href="structra__io__arg.html">ra_io_arg</a> *ria)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a86cd60f1b9bba9110171d220e6d91bc7">ras_align</a> (struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, unsigned long index, unsigned long *remainder)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a5e729553d3d085edecf8a908815d92c6">ras_inside_ra_window</a> (unsigned long idx, struct <a class="el" href="structra__io__arg.html">ra_io_arg</a> *ria)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a487c84f6de382b64ed4feec2411f39e8">ll_read_ahead_pages</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *queue, struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, struct <a class="el" href="structra__io__arg.html">ra_io_arg</a> *ria)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a98ed969c763a2328d1427ed0c6015bec">ll_readahead</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *queue, struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, bool hit)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a3b6bbcc7ff8471bd64e604a39e578c96">ras_set_start</a> (struct inode *inode, struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, unsigned long index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#aa365b59ef9bc3bf7834e88e0849da2e7">ras_reset</a> (struct inode *inode, struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, unsigned long index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#ab746f3c2b5ebc3c2d7befbdc72380cd6">ras_stride_reset</a> (struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#aacf57a431690a9a58fb22aa716db9a08">ll_readahead_init</a> (struct inode *inode, struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a06b0f9a836c0d357ac76d398be1adabd">index_in_stride_window</a> (struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, unsigned long index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a2437cfc8fed14fa237585d8e4bd9c4fa">ras_update_stride_detector</a> (struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, unsigned long index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a335790db8bac0c94b3e1885118bf662a">stride_page_count</a> (struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, unsigned long len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#aa239fa331993643cbd418fcd24844a8f">ras_stride_increase_window</a> (struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, struct <a class="el" href="structll__ra__info.html">ll_ra_info</a> *ra, unsigned long inc_len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a6f30ad5791d9fdec9f37123881547f4b">ras_increase_window</a> (struct inode *inode, struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, struct <a class="el" href="structll__ra__info.html">ll_ra_info</a> *ra)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a576dabd1591b4c180e58d15ede6ce325">ras_update</a> (struct <a class="el" href="structll__sb__info.html">ll_sb_info</a> *sbi, struct inode *inode, struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *ras, unsigned long index, enum <a class="el" href="llite__internal_8h.html#a2cd107d26101da2106fefbd737205f25">ras_update_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#aaa3f76b5f6ee58ef67e3dba50bad71b7">ll_writepage</a> (struct page *vmpage, struct writeback_control *wbc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#aa26e798bb611994ca6f80e7034679908">ll_writepages</a> (struct address_space *<a class="el" href="lsupport_8c.html#a204e0f2b3e5eb394897a119a9bf17b01">mapping</a>, struct writeback_control *wbc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structll__cl__context.html">ll_cl_context</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#ab2510a81624583c2ff2079393f3eb777">ll_cl_find</a> (struct file *file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a2d954b94b6e6471c84e342f51b54cbdc">ll_cl_add</a> (struct file *file, const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a07e77793bd039002b79432ec45cfc729">ll_cl_remove</a> (struct file *file, const struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#adc6f0f2ac9fab3c23647340a99d6a5f7">ll_io_read_page</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#aca95826d16f0fa319f7bc5a7d2088305">ll_readpage</a> (struct file *file, struct page *vmpage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rw_8c.html#a477c186c9df2480d495743692ae75553">ll_page_sync_io</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page.html">cl_page</a> *page, enum <a class="el" href="group__cl__page.html#ga419215a2ca4eeab85983de8ca5a16a02">cl_req_type</a> crt)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="rw.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LLITE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00058">58</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9c722a93649310f629414656bddf8936"></a><!-- doxytag: member="rw.c::RAS_CDEBUG" ref="a9c722a93649310f629414656bddf8936" args="(ras)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAS_CDEBUG</td>
          <td>(</td>
          <td class="paramtype">ras&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="libcfs__debug_8h.html#a9253e2ada2b31c570a7c99d1bd6a6355">CDEBUG</a>(<a class="code" href="libcfs__debug_8h.html#abfbdff685fa1c8473ce1488cebbb6175">D_READA</a>,                                                      \
               <span class="stringliteral">&quot;lrp %lu cr %lu cp %lu ws %lu wl %lu nra %lu rpc %lu &quot;</span>        \
               <span class="stringliteral">&quot;r %lu ri %lu csr %lu sf %lu sp %lu sl %lu\n&quot;</span>,                \
               ras-&gt;ras_last_readpage, ras-&gt;ras_consecutive_requests,        \
               ras-&gt;ras_consecutive_pages, ras-&gt;ras_window_start,            \
               ras-&gt;ras_window_len, ras-&gt;ras_next_readahead,                 \
               ras-&gt;ras_rpc_size,                                            \
               ras-&gt;ras_requests, ras-&gt;ras_request_index,                    \
               ras-&gt;ras_consecutive_stride_requests, ras-&gt;ras_stride_offset, \
               ras-&gt;ras_stride_pages, ras-&gt;ras_stride_length)
</pre></div>
<p>Definition at line <a class="el" href="rw_8c_source.html#l00133">133</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, <a class="el" href="rw_8c_source.html#l00583">ras_reset()</a>, <a class="el" href="rw_8c_source.html#l00673">ras_stride_increase_window()</a>, <a class="el" href="rw_8c_source.html#l00597">ras_stride_reset()</a>, <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>, and <a class="el" href="rw_8c_source.html#l00637">ras_update_stride_detector()</a>.</p>

</div>
</div>
<a class="anchor" id="af24ad73be4d9f42c6c1ce3b2ad7c6c61"></a><!-- doxytag: member="rw.c::RIA_DEBUG" ref="af24ad73be4d9f42c6c1ce3b2ad7c6c61" args="(ria)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RIA_DEBUG</td>
          <td>(</td>
          <td class="paramtype">ria&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="libcfs__debug_8h.html#a9253e2ada2b31c570a7c99d1bd6a6355">CDEBUG</a>(<a class="code" href="libcfs__debug_8h.html#abfbdff685fa1c8473ce1488cebbb6175">D_READA</a>, <span class="stringliteral">&quot;rs %lu re %lu ro %lu rl %lu rp %lu\n&quot;</span>,       \
        ria-&gt;ria_start, ria-&gt;ria_end, ria-&gt;ria_stoff, ria-&gt;ria_length,\
        ria-&gt;ria_pages)
</pre></div>
<p>Definition at line <a class="el" href="rw_8c_source.html#l00245">245</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00343">ll_read_ahead_pages()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a06b0f9a836c0d357ac76d398be1adabd"></a><!-- doxytag: member="rw.c::index_in_stride_window" ref="a06b0f9a836c0d357ac76d398be1adabd" args="(struct ll_readahead_state *ras, unsigned long index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int index_in_stride_window </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00617">617</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00611">ll_readahead_state::ras_consecutive_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00600">ll_readahead_state::ras_last_readpage</a>, <a class="el" href="llite__internal_8h_source.html#l00661">ll_readahead_state::ras_stride_length</a>, and <a class="el" href="llite__internal_8h_source.html#l00662">ll_readahead_state::ras_stride_pages</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>.</p>

</div>
</div>
<a class="anchor" id="acb28a3eae802517386cd54f945e2dd0c"></a><!-- doxytag: member="rw.c::index_in_window" ref="acb28a3eae802517386cd54f945e2dd0c" args="(unsigned long index, unsigned long point, unsigned long before, unsigned long after)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int index_in_window </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>before</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>after</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00145">145</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, and <a class="el" href="rename__many_8c_source.html#l00057">start</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, and <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d954b94b6e6471c84e342f51b54cbdc"></a><!-- doxytag: member="rw.c::ll_cl_add" ref="a2d954b94b6e6471c84e342f51b54cbdc" args="(struct file *file, const struct lu_env *env, struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_cl_add </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l01051">1051</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00691">ll_file_data::fd_lccs</a>, <a class="el" href="llite__internal_8h_source.html#l00690">ll_file_data::fd_lock</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="llite__internal_8h_source.html#l01005">ll_cl_context::lcc_cookie</a>, <a class="el" href="llite__internal_8h_source.html#l01006">ll_cl_context::lcc_env</a>, <a class="el" href="llite__internal_8h_source.html#l01007">ll_cl_context::lcc_io</a>, <a class="el" href="llite__internal_8h_source.html#l01004">ll_cl_context::lcc_list</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="llite__internal_8h_source.html#l01021">ll_env_info()</a>, <a class="el" href="llite__internal_8h_source.html#l01016">ll_thread_info::lti_io_ctx</a>, and <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>.</p>

<p>Referenced by <a class="el" href="llite__mmap_8c_source.html#l00288">ll_fault0()</a>, and <a class="el" href="file_8c_source.html#l01036">ll_file_io_generic()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2510a81624583c2ff2079393f3eb777"></a><!-- doxytag: member="rw.c::ll_cl_find" ref="ab2510a81624583c2ff2079393f3eb777" args="(struct file *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structll__cl__context.html">ll_cl_context</a>* ll_cl_find </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l01033">1033</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00691">ll_file_data::fd_lccs</a>, <a class="el" href="llite__internal_8h_source.html#l00690">ll_file_data::fd_lock</a>, <a class="el" href="llite__internal_8h_source.html#l01005">ll_cl_context::lcc_cookie</a>, <a class="el" href="llite__internal_8h_source.html#l01004">ll_cl_context::lcc_list</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, and <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l01136">ll_readpage()</a>, and <a class="el" href="rw26_8c_source.html#l00627">ll_write_begin()</a>.</p>

</div>
</div>
<a class="anchor" id="a07e77793bd039002b79432ec45cfc729"></a><!-- doxytag: member="rw.c::ll_cl_remove" ref="a07e77793bd039002b79432ec45cfc729" args="(struct file *file, const struct lu_env *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_cl_remove </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l01067">1067</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00690">ll_file_data::fd_lock</a>, <a class="el" href="llite__internal_8h_source.html#l01004">ll_cl_context::lcc_list</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="llite__internal_8h_source.html#l01021">ll_env_info()</a>, <a class="el" href="llite__internal_8h_source.html#l01016">ll_thread_info::lti_io_ctx</a>, and <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>.</p>

<p>Referenced by <a class="el" href="llite__mmap_8c_source.html#l00288">ll_fault0()</a>, and <a class="el" href="file_8c_source.html#l01036">ll_file_io_generic()</a>.</p>

</div>
</div>
<a class="anchor" id="adc6f0f2ac9fab3c23647340a99d6a5f7"></a><!-- doxytag: member="rw.c::ll_io_read_page" ref="adc6f0f2ac9fab3c23647340a99d6a5f7" args="(const struct lu_env *env, struct cl_io *io, struct cl_page *page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_io_read_page </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page.html">cl_page</a> *&nbsp;</td>
          <td class="paramname"> <em>page</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l01077">1077</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01302">cl_2queue::c2_qin</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01817">cl_io::ci_queue</a>, <a class="el" href="vvp__internal_8h_source.html#l00259">cl2vvp_page()</a>, <a class="el" href="cl__io_8c_source.html#l01079">cl_2queue_add()</a>, <a class="el" href="cl__io_8c_source.html#l01126">cl_2queue_fini()</a>, <a class="el" href="cl__io_8c_source.html#l01067">cl_2queue_init()</a>, <a class="el" href="cl__io_8c_source.html#l00676">cl_io_submit_rw()</a>, <a class="el" href="cl__object_8h_source.html#l02054">cl_object_page_slice()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__page_8c_source.html#l00808">cl_page_export()</a>, <a class="el" href="cl__io_8c_source.html#l00963">cl_page_list_disown()</a>, <a class="el" href="cl__object_8h_source.html#l00720">cl_page::cp_obj</a>, <a class="el" href="cl__object_8h_source.html#l00787">CRT_READ</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00676">ll_file_data::fd_ras</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00550">ll_sb_info::ll_ra_info</a>, <a class="el" href="llite__internal_8h_source.html#l01148">LL_RAS_HIT</a>, <a class="el" href="llite__internal_8h_source.html#l01149">LL_RAS_MMAP</a>, <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="cl__object_8h_source.html#l01292">cl_page_list::pl_nr</a>, <a class="el" href="llite__internal_8h_source.html#l00362">ll_ra_info::ra_max_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00363">ll_ra_info::ra_max_pages_per_file</a>, <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="vvp__internal_8h_source.html#l00253">vvp_page::vpg_defer_uptodate</a>, <a class="el" href="vvp__internal_8h_source.html#l00253">vvp_page::vpg_ra_used</a>, <a class="el" href="vvp__internal_8h_source.html#l00133">vvp_io::vui_fd</a>, <a class="el" href="vvp__internal_8h_source.html#l00140">vvp_io::vui_ra_valid</a>, <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>, <a class="el" href="vvp__internal_8h_source.html#l00264">vvp_index()</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l01136">ll_readpage()</a>.</p>

</div>
</div>
<a class="anchor" id="a477c186c9df2480d495743692ae75553"></a><!-- doxytag: member="rw.c::ll_page_sync_io" ref="a477c186c9df2480d495743692ae75553" args="(const struct lu_env *env, struct cl_io *io, struct cl_page *page, enum cl_req_type crt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_page_sync_io </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page.html">cl_page</a> *&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__page.html#ga419215a2ca4eeab85983de8ca5a16a02">cl_req_type</a>&nbsp;</td>
          <td class="paramname"> <em>crt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l01176">1176</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01302">cl_2queue::c2_qin</a>, <a class="el" href="cl__object_8h_source.html#l01817">cl_io::ci_queue</a>, <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01362">CIT_READ</a>, <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="cl__io_8c_source.html#l01126">cl_2queue_fini()</a>, <a class="el" href="cl__io_8c_source.html#l01138">cl_2queue_init_page()</a>, <a class="el" href="cl__io_8c_source.html#l00702">cl_io_submit_sync()</a>, <a class="el" href="cl__page_8c_source.html#l00555">cl_page_is_owned()</a>, <a class="el" href="cl__io_8c_source.html#l00963">cl_page_list_disown()</a>, <a class="el" href="cl__object_8h_source.html#l00787">CRT_READ</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="rw26_8c_source.html#l00596">ll_prepare_partial_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7d4f6627c502481305f57eb8c27ef3f"></a><!-- doxytag: member="rw.c::ll_ra_count_get" ref="ae7d4f6627c502481305f57eb8c27ef3f" args="(struct ll_sb_info *sbi, struct ra_io_arg *ria, unsigned long pages, unsigned long min)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long ll_ra_count_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__sb__info.html">ll_sb_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sbi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structra__io__arg.html">ra_io_arg</a> *&nbsp;</td>
          <td class="paramname"> <em>ria</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>min</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get readahead pages from the filesystem readahead pool of the client for a thread. </p>
<p>/param sbi superblock for filesystem readahead state <a class="el" href="structll__ra__info.html">ll_ra_info</a> /param ria per-thread readahead state /param pages number of pages requested for readahead for the thread.</p>
<p>WARNING: This algorithm is used to reduce contention on sbi-&gt;ll_lock. It should work well if the ra_max_pages is much greater than the single file's read-ahead window, and not too many threads contending for these readahead pages.</p>
<p>TODO: There may be a 'global sync problem' if many threads are trying to get an ra budget that is larger than the remaining readahead pages and reach here at exactly the same time. They will compute /a ret to consume the remaining pages, but will fail at atomic_add_return() and get a zero ra window, although there is still ra space remaining. - Jay </p>

<p>Definition at line <a class="el" href="rw_8c_source.html#l00085">85</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="llite__internal_8h_source.html#l00550">ll_sb_info::ll_ra_info</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="lustre__net_8h_source.html#l00105">PTLRPC_MAX_BRW_PAGES</a>, <a class="el" href="llite__internal_8h_source.html#l00361">ll_ra_info::ra_cur_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00362">ll_ra_info::ra_max_pages</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>.</p>

</div>
</div>
<a class="anchor" id="adf5e0c80c127e2f5523b4b13c5b87e6c"></a><!-- doxytag: member="rw.c::ll_ra_count_put" ref="adf5e0c80c127e2f5523b4b13c5b87e6c" args="(struct ll_sb_info *sbi, unsigned long len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_ra_count_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__sb__info.html">ll_sb_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sbi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00115">115</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00550">ll_sb_info::ll_ra_info</a>, and <a class="el" href="llite__internal_8h_source.html#l00361">ll_ra_info::ra_cur_pages</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, and <a class="el" href="vvp__page_8c_source.html#l00254">vvp_page_completion_read()</a>.</p>

</div>
</div>
<a class="anchor" id="ae365e173e1d32458f878340ea231f95b"></a><!-- doxytag: member="rw.c::ll_ra_stats_inc" ref="ae365e173e1d32458f878340ea231f95b" args="(struct inode *inode, enum ra_stat which)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_ra_stats_inc </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="llite__internal_8h.html#a0dbd2cebb432db43590d9bd246b66707">ra_stat</a>&nbsp;</td>
          <td class="paramname"> <em>which</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00127">127</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, and <a class="el" href="rw_8c_source.html#l00121">ll_ra_stats_inc_sbi()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00178">ll_read_ahead_page()</a>, <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, and <a class="el" href="vvp__page_8c_source.html#l00141">vvp_page_discard()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b6848a37aa30adea08b0001a70b9779"></a><!-- doxytag: member="rw.c::ll_ra_stats_inc_sbi" ref="a2b6848a37aa30adea08b0001a70b9779" args="(struct ll_sb_info *sbi, enum ra_stat which)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_ra_stats_inc_sbi </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__sb__info.html">ll_sb_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sbi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="llite__internal_8h.html#a0dbd2cebb432db43590d9bd246b66707">ra_stat</a>&nbsp;</td>
          <td class="paramname"> <em>which</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00121">121</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00357">_NR_RA_STAT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="llite__internal_8h_source.html#l00548">ll_sb_info::ll_ra_stats</a>, and <a class="el" href="lprocfs__status_8h_source.html#l00869">lprocfs_counter_incr()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00127">ll_ra_stats_inc()</a>, and <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a5eff0015062b1ba269ef6c0d7b32a4e0"></a><!-- doxytag: member="rw.c::ll_ras_enter" ref="a5eff0015062b1ba269ef6c0d7b32a4e0" args="(struct file *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_ras_enter </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00158">158</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00676">ll_file_data::fd_ras</a>, <a class="el" href="llite__internal_8h_source.html#l00078">LUSTRE_FPRIVATE</a>, <a class="el" href="llite__internal_8h_source.html#l00617">ll_readahead_state::ras_consecutive_requests</a>, <a class="el" href="llite__internal_8h_source.html#l00592">ll_readahead_state::ras_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00649">ll_readahead_state::ras_request_index</a>, and <a class="el" href="llite__internal_8h_source.html#l00644">ll_readahead_state::ras_requests</a>.</p>

<p>Referenced by <a class="el" href="vvp__io_8c_source.html#l00782">vvp_io_read_start()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8c66dc199dcc6e1e63a6b0611fbbec6"></a><!-- doxytag: member="rw.c::ll_read_ahead_page" ref="aa8c66dc199dcc6e1e63a6b0611fbbec6" args="(const struct lu_env *env, struct cl_io *io, struct cl_page_list *queue, pgoff_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_read_ahead_page </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *&nbsp;</td>
          <td class="paramname"> <em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initiates read-ahead of a page with given index. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+ve,:</em>&nbsp;</td><td>page was already uptodate so it will be skipped from being added; </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,:</em>&nbsp;</td><td>page wasn't added to <em>queue</em> for error; </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0,:</em>&nbsp;</td><td>page was added into <em>queue</em> for read ahead. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rw_8c_source.html#l00178">178</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00357">_NR_RA_STAT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="vvp__internal_8h_source.html#l00259">cl2vvp_page()</a>, <a class="el" href="cl__object_8h_source.html#l02054">cl_object_page_slice()</a>, <a class="el" href="cl__page_8c_source.html#l00652">cl_page_assume()</a>, <a class="el" href="cl__page_8c_source.html#l00231">cl_page_find()</a>, <a class="el" href="cl__io_8c_source.html#l00866">cl_page_list_add()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="cl__page_8c_source.html#l00680">cl_page_unassume()</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="cl__object_8h_source.html#l00697">CPT_CACHEABLE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="rw_8c_source.html#l00127">ll_ra_stats_inc()</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="multiop_8c_source.html#l00063">msg</a>, <a class="el" href="llite__internal_8h_source.html#l00348">RA_STAT_FAILED_GRAB_PAGE</a>, <a class="el" href="llite__internal_8h_source.html#l00355">RA_STAT_WRONG_GRAB_PAGE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="vvp__internal_8h_source.html#l00253">vvp_page::vpg_defer_uptodate</a>, <a class="el" href="vvp__internal_8h_source.html#l00253">vvp_page::vpg_ra_used</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00343">ll_read_ahead_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="a487c84f6de382b64ed4feec2411f39e8"></a><!-- doxytag: member="rw.c::ll_read_ahead_pages" ref="a487c84f6de382b64ed4feec2411f39e8" args="(const struct lu_env *env, struct cl_io *io, struct cl_page_list *queue, struct ll_readahead_state *ras, struct ra_io_arg *ria)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long ll_read_ahead_pages </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *&nbsp;</td>
          <td class="paramname"> <em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structra__io__arg.html">ra_io_arg</a> *&nbsp;</td>
          <td class="paramname"> <em>ria</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00343">343</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__io_8c_source.html#l00617">cl_io_read_ahead()</a>, <a class="el" href="cl__object_8h_source.html#l01468">cl_read_ahead_release()</a>, <a class="el" href="cl__object_8h_source.html#l01458">cl_read_ahead::cra_end</a>, <a class="el" href="cl__object_8h_source.html#l01460">cl_read_ahead::cra_rpc_size</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="rw_8c_source.html#l00178">ll_read_ahead_page()</a>, <a class="el" href="rw_8c_source.html#l00320">ras_align()</a>, <a class="el" href="rw_8c_source.html#l00331">ras_inside_ra_window()</a>, <a class="el" href="llite__internal_8h_source.html#l00630">ll_readahead_state::ras_rpc_size</a>, <a class="el" href="rw_8c_source.html#l00245">RIA_DEBUG</a>, <a class="el" href="llite__internal_8h_source.html#l00374">ra_io_arg::ria_end</a>, <a class="el" href="llite__internal_8h_source.html#l00376">ra_io_arg::ria_end_min</a>, <a class="el" href="llite__internal_8h_source.html#l00377">ra_io_arg::ria_eof</a>, <a class="el" href="llite__internal_8h_source.html#l00385">ra_io_arg::ria_length</a>, <a class="el" href="llite__internal_8h_source.html#l00386">ra_io_arg::ria_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00375">ra_io_arg::ria_reserved</a>, <a class="el" href="llite__internal_8h_source.html#l00373">ra_io_arg::ria_start</a>, and <a class="el" href="llite__internal_8h_source.html#l00381">ra_io_arg::ria_stoff</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>.</p>

</div>
</div>
<a class="anchor" id="a98ed969c763a2328d1427ed0c6015bec"></a><!-- doxytag: member="rw.c::ll_readahead" ref="a98ed969c763a2328d1427ed0c6015bec" args="(const struct lu_env *env, struct cl_io *io, struct cl_page_list *queue, struct ll_readahead_state *ras, bool hit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_readahead </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *&nbsp;</td>
          <td class="paramname"> <em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>hit</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Note: other thread might rollback the ras_next_readahead, if it can not get the full size of prepared pages, see the end of this function. For stride read ahead, it needs to make sure the offset is no less than ras_stride_offset, so that stride read ahead can work correctly.</p>
</p>

<p>Definition at line <a class="el" href="rw_8c_source.html#l00428">428</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l00149">cl_attr::cat_kms</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8c_source.html#l00204">cl_object_attr_get()</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="rw_8c_source.html#l00145">index_in_window()</a>, <a class="el" href="llite__internal_8h_source.html#l01021">ll_env_info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="rw_8c_source.html#l00085">ll_ra_count_get()</a>, <a class="el" href="rw_8c_source.html#l00115">ll_ra_count_put()</a>, <a class="el" href="rw_8c_source.html#l00127">ll_ra_stats_inc()</a>, <a class="el" href="rw_8c_source.html#l00343">ll_read_ahead_pages()</a>, <a class="el" href="llite__internal_8h_source.html#l01014">ll_thread_info::lti_ria</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="llite__internal_8h_source.html#l00353">RA_STAT_EOF</a>, <a class="el" href="llite__internal_8h_source.html#l00356">RA_STAT_FAILED_REACH_END</a>, <a class="el" href="llite__internal_8h_source.html#l00354">RA_STAT_MAX_IN_FLIGHT</a>, <a class="el" href="llite__internal_8h_source.html#l00351">RA_STAT_ZERO_LEN</a>, <a class="el" href="llite__internal_8h_source.html#l00352">RA_STAT_ZERO_WINDOW</a>, <a class="el" href="rw_8c_source.html#l00320">ras_align()</a>, <a class="el" href="rw_8c_source.html#l00133">RAS_CDEBUG</a>, <a class="el" href="llite__internal_8h_source.html#l00592">ll_readahead_state::ras_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00638">ll_readahead_state::ras_next_readahead</a>, <a class="el" href="llite__internal_8h_source.html#l00630">ll_readahead_state::ras_rpc_size</a>, <a class="el" href="llite__internal_8h_source.html#l00661">ll_readahead_state::ras_stride_length</a>, <a class="el" href="llite__internal_8h_source.html#l00663">ll_readahead_state::ras_stride_offset</a>, <a class="el" href="llite__internal_8h_source.html#l00662">ll_readahead_state::ras_stride_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_len</a>, <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_start</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="llite__internal_8h_source.html#l00374">ra_io_arg::ria_end</a>, <a class="el" href="llite__internal_8h_source.html#l00376">ra_io_arg::ria_end_min</a>, <a class="el" href="llite__internal_8h_source.html#l00377">ra_io_arg::ria_eof</a>, <a class="el" href="llite__internal_8h_source.html#l00385">ra_io_arg::ria_length</a>, <a class="el" href="rw_8c_source.html#l00310">ria_page_count()</a>, <a class="el" href="llite__internal_8h_source.html#l00386">ra_io_arg::ria_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00375">ra_io_arg::ria_reserved</a>, <a class="el" href="llite__internal_8h_source.html#l00373">ra_io_arg::ria_start</a>, <a class="el" href="llite__internal_8h_source.html#l00381">ra_io_arg::ria_stoff</a>, <a class="el" href="rename__many_8c_source.html#l00057">start</a>, <a class="el" href="rw_8c_source.html#l00250">stride_io_mode()</a>, <a class="el" href="vvp__internal_8h_source.html#l00138">vvp_io::vui_ra_count</a>, <a class="el" href="vvp__internal_8h_source.html#l00137">vvp_io::vui_ra_start</a>, <a class="el" href="vvp__internal_8h_source.html#l00140">vvp_io::vui_ra_valid</a>, <a class="el" href="vvp__internal_8h_source.html#l00209">vvp_env_io()</a>, <a class="el" href="vvp__internal_8h_source.html#l00177">vvp_env_thread_attr()</a>, and <a class="el" href="vvp__internal_8h_source.html#l00303">vvp_object_inode()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l01077">ll_io_read_page()</a>.</p>

</div>
</div>
<a class="anchor" id="aacf57a431690a9a58fb22aa716db9a08"></a><!-- doxytag: member="rw.c::ll_readahead_init" ref="aacf57a431690a9a58fb22aa716db9a08" args="(struct inode *inode, struct ll_readahead_state *ras)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_readahead_init </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00605">605</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00105">PTLRPC_MAX_BRW_PAGES</a>, <a class="el" href="llite__internal_8h_source.html#l00592">ll_readahead_state::ras_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00644">ll_readahead_state::ras_requests</a>, <a class="el" href="rw_8c_source.html#l00583">ras_reset()</a>, and <a class="el" href="llite__internal_8h_source.html#l00630">ll_readahead_state::ras_rpc_size</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00449">ll_local_open()</a>.</p>

</div>
</div>
<a class="anchor" id="aca95826d16f0fa319f7bc5a7d2088305"></a><!-- doxytag: member="rw.c::ll_readpage" ref="aca95826d16f0fa319f7bc5a7d2088305" args="(struct file *file, struct page *vmpage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_readpage </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&nbsp;</td>
          <td class="paramname"> <em>vmpage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l01136">1136</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01750">cl_io::ci_state</a>, <a class="el" href="cl__object_8h_source.html#l01419">CIS_IO_GOING</a>, <a class="el" href="cl__page_8c_source.html#l00652">cl_page_assume()</a>, <a class="el" href="cl__page_8c_source.html#l00231">cl_page_find()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="cl__object_8h_source.html#l00736">cl_page::cp_type</a>, <a class="el" href="cl__object_8h_source.html#l00697">CPT_CACHEABLE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l01006">ll_cl_context::lcc_env</a>, <a class="el" href="llite__internal_8h_source.html#l01007">ll_cl_context::lcc_io</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="rw_8c_source.html#l01033">ll_cl_find()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="rw_8c_source.html#l01077">ll_io_read_page()</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="aaa3f76b5f6ee58ef67e3dba50bad71b7"></a><!-- doxytag: member="rw.c::ll_writepage" ref="aaa3f76b5f6ee58ef67e3dba50bad71b7" args="(struct page *vmpage, struct writeback_control *wbc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_writepage </td>
          <td>(</td>
          <td class="paramtype">struct page *&nbsp;</td>
          <td class="paramname"> <em>vmpage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct writeback_control *&nbsp;</td>
          <td class="paramname"> <em>wbc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00887">887</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_ignore_layout</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01397">CIT_MISC</a>, <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="cl__object_8h_source.html#l01723">CL_FSYNC_LOCAL</a>, <a class="el" href="cl__io_8c_source.html#l00103">cl_io_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00211">cl_io_init()</a>, <a class="el" href="cl__page_8c_source.html#l01050">cl_offset()</a>, <a class="el" href="cl__page_8c_source.html#l00652">cl_page_assume()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__page_8c_source.html#l00231">cl_page_find()</a>, <a class="el" href="cl__page_8c_source.html#l00973">cl_page_flush()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="file_8c_source.html#l02787">cl_sync_file_range()</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="cl__object_8h_source.html#l00697">CPT_CACHEABLE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l01095">ll_i2dtexp()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00220">ll_inode_info::lli_async_rc</a>, <a class="el" href="llite__internal_8h_source.html#l00244">ll_inode_info::lli_clob</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, and <a class="el" href="vvp__internal_8h_source.html#l00186">vvp_env_thread_io()</a>.</p>

</div>
</div>
<a class="anchor" id="aa26e798bb611994ca6f80e7034679908"></a><!-- doxytag: member="rw.c::ll_writepages" ref="aa26e798bb611994ca6f80e7034679908" args="(struct address_space *mapping, struct writeback_control *wbc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_writepages </td>
          <td>(</td>
          <td class="paramtype">struct address_space *&nbsp;</td>
          <td class="paramname"> <em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct writeback_control *&nbsp;</td>
          <td class="paramname"> <em>wbc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00981">981</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01723">CL_FSYNC_LOCAL</a>, <a class="el" href="cl__object_8h_source.html#l01721">CL_FSYNC_NONE</a>, <a class="el" href="file_8c_source.html#l02787">cl_sync_file_range()</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l00529">ll_sb_info::ll_umounting</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="lustre__idl_8h_source.html#l01767">OBD_OBJECT_EOF</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="rename__many_8c_source.html#l00057">start</a>.</p>

</div>
</div>
<a class="anchor" id="a86cd60f1b9bba9110171d220e6d91bc7"></a><!-- doxytag: member="rw.c::ras_align" ref="a86cd60f1b9bba9110171d220e6d91bc7" args="(struct ll_readahead_state *ras, unsigned long index, unsigned long *remainder)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long ras_align </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>remainder</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00320">320</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00630">ll_readahead_state::ras_rpc_size</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00343">ll_read_ahead_pages()</a>, <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, <a class="el" href="rw_8c_source.html#l00710">ras_increase_window()</a>, and <a class="el" href="rw_8c_source.html#l00576">ras_set_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f30ad5791d9fdec9f37123881547f4b"></a><!-- doxytag: member="rw.c::ras_increase_window" ref="a6f30ad5791d9fdec9f37123881547f4b" args="(struct inode *inode, struct ll_readahead_state *ras, struct ll_ra_info *ra)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ras_increase_window </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__ra__info.html">ll_ra_info</a> *&nbsp;</td>
          <td class="paramname"> <em>ra</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00710">710</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00363">ll_ra_info::ra_max_pages_per_file</a>, <a class="el" href="rw_8c_source.html#l00320">ras_align()</a>, <a class="el" href="llite__internal_8h_source.html#l00630">ll_readahead_state::ras_rpc_size</a>, <a class="el" href="rw_8c_source.html#l00673">ras_stride_increase_window()</a>, <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_len</a>, and <a class="el" href="rw_8c_source.html#l00250">stride_io_mode()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e729553d3d085edecf8a908815d92c6"></a><!-- doxytag: member="rw.c::ras_inside_ra_window" ref="a5e729553d3d085edecf8a908815d92c6" args="(unsigned long idx, struct ra_io_arg *ria)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ras_inside_ra_window </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structra__io__arg.html">ra_io_arg</a> *&nbsp;</td>
          <td class="paramname"> <em>ria</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00331">331</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00385">ra_io_arg::ria_length</a>, <a class="el" href="llite__internal_8h_source.html#l00386">ra_io_arg::ria_pages</a>, and <a class="el" href="llite__internal_8h_source.html#l00381">ra_io_arg::ria_stoff</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00343">ll_read_ahead_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="aa365b59ef9bc3bf7834e88e0849da2e7"></a><!-- doxytag: member="rw.c::ras_reset" ref="aa365b59ef9bc3bf7834e88e0849da2e7" args="(struct inode *inode, struct ll_readahead_state *ras, unsigned long index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ras_reset </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00583">583</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, <a class="el" href="rw_8c_source.html#l00133">RAS_CDEBUG</a>, <a class="el" href="llite__internal_8h_source.html#l00611">ll_readahead_state::ras_consecutive_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00617">ll_readahead_state::ras_consecutive_requests</a>, <a class="el" href="llite__internal_8h_source.html#l00600">ll_readahead_state::ras_last_readpage</a>, <a class="el" href="llite__internal_8h_source.html#l00638">ll_readahead_state::ras_next_readahead</a>, <a class="el" href="rw_8c_source.html#l00576">ras_set_start()</a>, <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_len</a>, and <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_start</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00605">ll_readahead_init()</a>, and <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b6bbcc7ff8471bd64e604a39e578c96"></a><!-- doxytag: member="rw.c::ras_set_start" ref="a3b6bbcc7ff8471bd64e604a39e578c96" args="(struct inode *inode, struct ll_readahead_state *ras, unsigned long index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ras_set_start </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00576">576</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="rw_8c_source.html#l00320">ras_align()</a>, and <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_start</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00583">ras_reset()</a>, and <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>.</p>

</div>
</div>
<a class="anchor" id="aa239fa331993643cbd418fcd24844a8f"></a><!-- doxytag: member="rw.c::ras_stride_increase_window" ref="aa239fa331993643cbd418fcd24844a8f" args="(struct ll_readahead_state *ras, struct ll_ra_info *ra, unsigned long inc_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ras_stride_increase_window </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__ra__info.html">ll_ra_info</a> *&nbsp;</td>
          <td class="paramname"> <em>ra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>inc_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00673">673</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="llite__internal_8h_source.html#l00363">ll_ra_info::ra_max_pages_per_file</a>, <a class="el" href="rw_8c_source.html#l00133">RAS_CDEBUG</a>, <a class="el" href="llite__internal_8h_source.html#l00661">ll_readahead_state::ras_stride_length</a>, <a class="el" href="llite__internal_8h_source.html#l00663">ll_readahead_state::ras_stride_offset</a>, <a class="el" href="llite__internal_8h_source.html#l00662">ll_readahead_state::ras_stride_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_len</a>, <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_start</a>, and <a class="el" href="rw_8c_source.html#l00664">stride_page_count()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00710">ras_increase_window()</a>.</p>

</div>
</div>
<a class="anchor" id="ab746f3c2b5ebc3c2d7befbdc72380cd6"></a><!-- doxytag: member="rw.c::ras_stride_reset" ref="ab746f3c2b5ebc3c2d7befbdc72380cd6" args="(struct ll_readahead_state *ras)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ras_stride_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00597">597</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="rw_8c_source.html#l00133">RAS_CDEBUG</a>, <a class="el" href="llite__internal_8h_source.html#l00670">ll_readahead_state::ras_consecutive_stride_requests</a>, <a class="el" href="llite__internal_8h_source.html#l00661">ll_readahead_state::ras_stride_length</a>, and <a class="el" href="llite__internal_8h_source.html#l00662">ll_readahead_state::ras_stride_pages</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>, and <a class="el" href="rw_8c_source.html#l00637">ras_update_stride_detector()</a>.</p>

</div>
</div>
<a class="anchor" id="a576dabd1591b4c180e58d15ede6ce325"></a><!-- doxytag: member="rw.c::ras_update" ref="a576dabd1591b4c180e58d15ede6ce325" args="(struct ll_sb_info *sbi, struct inode *inode, struct ll_readahead_state *ras, unsigned long index, enum ras_update_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ras_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__sb__info.html">ll_sb_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sbi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="llite__internal_8h.html#a2cd107d26101da2106fefbd737205f25">ras_update_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Once stride IO mode is detected, next_readahead should be reset to make sure next_readahead &gt; stride offset</p>
</p>

<p>Definition at line <a class="el" href="rw_8c_source.html#l00729">729</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="rw_8c_source.html#l00617">index_in_stride_window()</a>, <a class="el" href="rw_8c_source.html#l00145">index_in_window()</a>, <a class="el" href="llite__internal_8h_source.html#l00550">ll_sb_info::ll_ra_info</a>, <a class="el" href="rw_8c_source.html#l00121">ll_ra_stats_inc_sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01148">LL_RAS_HIT</a>, <a class="el" href="llite__internal_8h_source.html#l01149">LL_RAS_MMAP</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, <a class="el" href="llite__internal_8h_source.html#l00363">ll_ra_info::ra_max_pages_per_file</a>, <a class="el" href="llite__internal_8h_source.html#l00364">ll_ra_info::ra_max_read_ahead_whole_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00346">RA_STAT_DISTANT_READPAGE</a>, <a class="el" href="llite__internal_8h_source.html#l00344">RA_STAT_HIT</a>, <a class="el" href="llite__internal_8h_source.html#l00345">RA_STAT_MISS</a>, <a class="el" href="llite__internal_8h_source.html#l00347">RA_STAT_MISS_IN_WINDOW</a>, <a class="el" href="rw_8c_source.html#l00133">RAS_CDEBUG</a>, <a class="el" href="llite__internal_8h_source.html#l00611">ll_readahead_state::ras_consecutive_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00617">ll_readahead_state::ras_consecutive_requests</a>, <a class="el" href="llite__internal_8h_source.html#l00670">ll_readahead_state::ras_consecutive_stride_requests</a>, <a class="el" href="rw_8c_source.html#l00710">ras_increase_window()</a>, <a class="el" href="llite__internal_8h_source.html#l00600">ll_readahead_state::ras_last_readpage</a>, <a class="el" href="llite__internal_8h_source.html#l00592">ll_readahead_state::ras_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00638">ll_readahead_state::ras_next_readahead</a>, <a class="el" href="llite__internal_8h_source.html#l00649">ll_readahead_state::ras_request_index</a>, <a class="el" href="llite__internal_8h_source.html#l00644">ll_readahead_state::ras_requests</a>, <a class="el" href="rw_8c_source.html#l00583">ras_reset()</a>, <a class="el" href="rw_8c_source.html#l00576">ras_set_start()</a>, <a class="el" href="llite__internal_8h_source.html#l00663">ll_readahead_state::ras_stride_offset</a>, <a class="el" href="rw_8c_source.html#l00597">ras_stride_reset()</a>, <a class="el" href="rw_8c_source.html#l00637">ras_update_stride_detector()</a>, <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_len</a>, <a class="el" href="llite__internal_8h_source.html#l00625">ll_readahead_state::ras_window_start</a>, and <a class="el" href="rw_8c_source.html#l00250">stride_io_mode()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l01077">ll_io_read_page()</a>.</p>

</div>
</div>
<a class="anchor" id="a2437cfc8fed14fa237585d8e4bd9c4fa"></a><!-- doxytag: member="rw.c::ras_update_stride_detector" ref="a2437cfc8fed14fa237585d8e4bd9c4fa" args="(struct ll_readahead_state *ras, unsigned long index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ras_update_stride_detector </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00637">637</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="rw_8c_source.html#l00133">RAS_CDEBUG</a>, <a class="el" href="llite__internal_8h_source.html#l00611">ll_readahead_state::ras_consecutive_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00670">ll_readahead_state::ras_consecutive_stride_requests</a>, <a class="el" href="llite__internal_8h_source.html#l00600">ll_readahead_state::ras_last_readpage</a>, <a class="el" href="llite__internal_8h_source.html#l00649">ll_readahead_state::ras_request_index</a>, <a class="el" href="llite__internal_8h_source.html#l00661">ll_readahead_state::ras_stride_length</a>, <a class="el" href="llite__internal_8h_source.html#l00662">ll_readahead_state::ras_stride_pages</a>, <a class="el" href="rw_8c_source.html#l00597">ras_stride_reset()</a>, and <a class="el" href="rw_8c_source.html#l00250">stride_io_mode()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a544a183b1f1a0fd018528f6e3d1b29d6"></a><!-- doxytag: member="rw.c::ria_page_count" ref="a544a183b1f1a0fd018528f6e3d1b29d6" args="(struct ra_io_arg *ria)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ria_page_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structra__io__arg.html">ra_io_arg</a> *&nbsp;</td>
          <td class="paramname"> <em>ria</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00310">310</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="llite__internal_8h_source.html#l00374">ra_io_arg::ria_end</a>, <a class="el" href="llite__internal_8h_source.html#l00385">ra_io_arg::ria_length</a>, <a class="el" href="llite__internal_8h_source.html#l00386">ra_io_arg::ria_pages</a>, <a class="el" href="llite__internal_8h_source.html#l00373">ra_io_arg::ria_start</a>, <a class="el" href="llite__internal_8h_source.html#l00381">ra_io_arg::ria_stoff</a>, and <a class="el" href="rw_8c_source.html#l00274">stride_pg_count()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>.</p>

</div>
</div>
<a class="anchor" id="a904649b14f3e84e50564250423a20b64"></a><!-- doxytag: member="rw.c::stride_io_mode" ref="a904649b14f3e84e50564250423a20b64" args="(struct ll_readahead_state *ras)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int stride_io_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00250">250</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00670">ll_readahead_state::ras_consecutive_stride_requests</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, <a class="el" href="rw_8c_source.html#l00710">ras_increase_window()</a>, <a class="el" href="rw_8c_source.html#l00729">ras_update()</a>, and <a class="el" href="rw_8c_source.html#l00637">ras_update_stride_detector()</a>.</p>

</div>
</div>
<a class="anchor" id="a335790db8bac0c94b3e1885118bf662a"></a><!-- doxytag: member="rw.c::stride_page_count" ref="a335790db8bac0c94b3e1885118bf662a" args="(struct ll_readahead_state *ras, unsigned long len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long stride_page_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__readahead__state.html">ll_readahead_state</a> *&nbsp;</td>
          <td class="paramname"> <em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00664">664</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00661">ll_readahead_state::ras_stride_length</a>, <a class="el" href="llite__internal_8h_source.html#l00663">ll_readahead_state::ras_stride_offset</a>, <a class="el" href="llite__internal_8h_source.html#l00662">ll_readahead_state::ras_stride_pages</a>, and <a class="el" href="rw_8c_source.html#l00274">stride_pg_count()</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00673">ras_stride_increase_window()</a>.</p>

</div>
</div>
<a class="anchor" id="a619160f8012fed1221f29c7c91ea5d41"></a><!-- doxytag: member="rw.c::stride_pg_count" ref="a619160f8012fed1221f29c7c91ea5d41" args="(pgoff_t st_off, unsigned long st_len, unsigned long st_pgs, unsigned long off, unsigned long length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long stride_pg_count </td>
          <td>(</td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>st_off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>st_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>st_pgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rw_8c_source.html#l00274">274</a> of file <a class="el" href="rw_8c_source.html">rw.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, and <a class="el" href="rename__many_8c_source.html#l00057">start</a>.</p>

<p>Referenced by <a class="el" href="rw_8c_source.html#l00310">ria_page_count()</a>, and <a class="el" href="rw_8c_source.html#l00664">stride_page_count()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
