<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/utils/gss/lsupport.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/utils/gss/lsupport.c File Reference</h1><code>#include &quot;config.h&quot;</code><br/>
<code>#include &lt;sys/param.h&gt;</code><br/>
<code>#include &lt;sys/utsname.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/socket.h&gt;</code><br/>
<code>#include &lt;arpa/inet.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/ipc.h&gt;</code><br/>
<code>#include &lt;sys/sem.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;pwd.h&gt;</code><br/>
<code>#include &lt;grp.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br/>
<code>#include &lt;dirent.h&gt;</code><br/>
<code>#include &lt;poll.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="nidstr_8h_source.html">lnet/nidstr.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="err__util_8h_source.html">err_util.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gssd_8h_source.html">gssd.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lsupport_8h_source.html">lsupport.h</a>&quot;</code><br/>

<p><a href="lsupport_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct____sem__s.html">__sem_s</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconvert__struct.html">convert_struct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuser__map__item.html">user_map_item</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuser__mapping.html">user_mapping</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a990f98b9eaeb0f3b81e5ee118322c927">LND_MAX</a>&nbsp;&nbsp;&nbsp;(sizeof(<a class="el" href="lsupport_8c.html#a7c62fb8bdc4a0ebe98a256a38dc08a84">converter</a>) / sizeof(<a class="el" href="lsupport_8c.html#a7c62fb8bdc4a0ebe98a256a38dc08a84">converter</a>[0]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a2a5cf169e53b247b6d09cd6c2e6d39db">MAPPING_GROW_SIZE</a>&nbsp;&nbsp;&nbsp;512</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a09a3b394b8602092d58347b791158062">MAX_LINE_LEN</a>&nbsp;&nbsp;&nbsp;256</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#ae1a962d9555e3986b87016c87d76350f">lnd_nid2hostname_t</a> (char *lnd, uint32_t net, uint32_t addr, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int buflen)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a40bc113c5537e2e3434d0d8df18a4756">gssd_init_unique</a> (int type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a8811e54f07cc1cc383107cb781566d90">gssd_exit_unique</a> (int type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a1ad6ae71969ddd6be9c6e93b169eacaf">ipv4_nid2hostname</a> (char *lnd, uint32_t net, uint32_t addr, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int buflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a5806c08b526814222047cd08aaa5dab3">lolnd_nid2hostname</a> (char *lnd, uint32_t net, uint32_t addr, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int buflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#ae2d4df043f33de8b99bc1eb83ca15d31">is_space</a> (char c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a318f90bf32e74b21aab331aea2d6c751">external_nid2hostname</a> (char *lnd, uint32_t net, uint32_t addr, char *namebuf, int namebuflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a676eb1152be277429e958323b21228d7">lnet_nid2hostname</a> (<a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int buflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a2bf8bfcad3f8b13e6a541f2663d1abee">cleanup_mapping</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a26ce286d20f9e6919f386b7f8e37bd74">grow_mapping</a> (int nitems)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a79d3de0a80360a2ae2934e3cf84fd001">parse_uid</a> (char *uidstr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a54f85b760eec5235aef068f9f68bee37">read_mapping_db</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#ab11a38db157736b9cb86b2475a38a5a1">mapping_changed</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#ab1ebd71a23a935c36b807f64bb6402cd">lookup_mapping</a> (char *princ, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, uid_t *uid)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#af0ca2a50f831be185e329e722dab7573">lustre_svc_name</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct____sem__s.html">__sem_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a54bf73dccbdd7a79110a2b9830d20f68">sems</a> [2]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a819169794b8accbca86ad4c9cff2cbdd">gethostname_ex</a> [PATH_MAX] = GSSD_DEFAULT_GETHOSTNAME_EX</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structconvert__struct.html">convert_struct</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a7c62fb8bdc4a0ebe98a256a38dc08a84">converter</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structuser__mapping.html">user_mapping</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a204e0f2b3e5eb394897a119a9bf17b01">mapping</a> = {0, NULL}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lsupport_8c.html#a15fcc5070a7d18cadf4b11c5464ba997">mapping_mtime</a> = 0</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a990f98b9eaeb0f3b81e5ee118322c927"></a><!-- doxytag: member="lsupport.c::LND_MAX" ref="a990f98b9eaeb0f3b81e5ee118322c927" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LND_MAX&nbsp;&nbsp;&nbsp;(sizeof(<a class="el" href="lsupport_8c.html#a7c62fb8bdc4a0ebe98a256a38dc08a84">converter</a>) / sizeof(<a class="el" href="lsupport_8c.html#a7c62fb8bdc4a0ebe98a256a38dc08a84">converter</a>[0]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00310">310</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00312">lnet_nid2hostname()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a5cf169e53b247b6d09cd6c2e6d39db"></a><!-- doxytag: member="lsupport.c::MAPPING_GROW_SIZE" ref="a2a5cf169e53b247b6d09cd6c2e6d39db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAPPING_GROW_SIZE&nbsp;&nbsp;&nbsp;512</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00341">341</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

</div>
</div>
<a class="anchor" id="a09a3b394b8602092d58347b791158062"></a><!-- doxytag: member="lsupport.c::MAX_LINE_LEN" ref="a09a3b394b8602092d58347b791158062" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_LINE_LEN&nbsp;&nbsp;&nbsp;256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00342">342</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00416">read_mapping_db()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ae1a962d9555e3986b87016c87d76350f"></a><!-- doxytag: member="lsupport.c::lnd_nid2hostname_t" ref="ae1a962d9555e3986b87016c87d76350f" args="(char *lnd, uint32_t net, uint32_t addr, char *buf, int buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int <a class="el" href="lsupport_8c.html#ae1a962d9555e3986b87016c87d76350f">lnd_nid2hostname_t</a>(char *lnd, uint32_t net, uint32_t addr, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int buflen)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00168">168</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2bf8bfcad3f8b13e6a541f2663d1abee"></a><!-- doxytag: member="lsupport.c::cleanup_mapping" ref="a2bf8bfcad3f8b13e6a541f2663d1abee" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_mapping </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00359">359</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="lsupport_8c_source.html#l00352">user_mapping::items</a>, <a class="el" href="lsupport_8c_source.html#l00351">user_mapping::nitems</a>, and <a class="el" href="lsupport_8c_source.html#l00345">user_map_item::principal</a>.</p>

<p>Referenced by <a class="el" href="svcgssd_8c_source.html#l00187">main()</a>, <a class="el" href="lsupport_8c_source.html#l00416">read_mapping_db()</a>, and <a class="el" href="svcgssd_8c_source.html#l00162">sig_die()</a>.</p>

</div>
</div>
<a class="anchor" id="a318f90bf32e74b21aab331aea2d6c751"></a><!-- doxytag: member="lsupport.c::external_nid2hostname" ref="a318f90bf32e74b21aab331aea2d6c751" args="(char *lnd, uint32_t net, uint32_t addr, char *namebuf, int namebuflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int external_nid2hostname </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>namebuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namebuflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00235">235</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="multiop_8c_source.html#l00065">bufsize</a>, <a class="el" href="lsupport_8c_source.html#l00166">gethostname_ex</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, <a class="el" href="lsupport_8c_source.html#l00229">is_space()</a>, and <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

</div>
</div>
<a class="anchor" id="a26ce286d20f9e6919f386b7f8e37bd74"></a><!-- doxytag: member="lsupport.c::grow_mapping" ref="a26ce286d20f9e6919f386b7f8e37bd74" args="(int nitems)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int grow_mapping </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nitems</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00371">371</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="lsupport_8c_source.html#l00352">user_mapping::items</a>, <a class="el" href="lsupport_8c_source.html#l00351">user_mapping::nitems</a>, and <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00416">read_mapping_db()</a>.</p>

</div>
</div>
<a class="anchor" id="a8811e54f07cc1cc383107cb781566d90"></a><!-- doxytag: member="lsupport.c::gssd_exit_unique" ref="a8811e54f07cc1cc383107cb781566d90" args="(int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gssd_exit_unique </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00150">150</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00154">assert</a>, <a class="el" href="lsupport_8h_source.html#l00045">GSSD_CLI</a>, and <a class="el" href="lsupport_8h_source.html#l00046">GSSD_SVC</a>.</p>

</div>
</div>
<a class="anchor" id="a40bc113c5537e2e3434d0d8df18a4756"></a><!-- doxytag: member="lsupport.c::gssd_init_unique" ref="a40bc113c5537e2e3434d0d8df18a4756" args="(int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gssd_init_unique </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00095">95</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00154">assert</a>, <a class="el" href="lsupport_8h_source.html#l00045">GSSD_CLI</a>, <a class="el" href="lsupport_8h_source.html#l00046">GSSD_SVC</a>, <a class="el" href="lsupport_8c_source.html#l00087">__sem_s::name</a>, <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>, <a class="el" href="multiop_8c_source.html#l00066">sem</a>, <a class="el" href="lsupport_8c_source.html#l00089">__sem_s::sem_id</a>, <a class="el" href="lsupport_8c_source.html#l00088">__sem_s::sem_key</a>, and <a class="el" href="lsupport_8c.html#a54bf73dccbdd7a79110a2b9830d20f68">sems</a>.</p>

<p>Referenced by <a class="el" href="gssd_8c_source.html#l00179">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ad6ae71969ddd6be9c6e93b169eacaf"></a><!-- doxytag: member="lsupport.c::ipv4_nid2hostname" ref="a1ad6ae71969ddd6be9c6e93b169eacaf" args="(char *lnd, uint32_t net, uint32_t addr, char *buf, int buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ipv4_nid2hostname </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00173">173</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

</div>
</div>
<a class="anchor" id="ae2d4df043f33de8b99bc1eb83ca15d31"></a><!-- doxytag: member="lsupport.c::is_space" ref="ae2d4df043f33de8b99bc1eb83ca15d31" args="(char c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int is_space </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>c</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00229">229</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00235">external_nid2hostname()</a>.</p>

</div>
</div>
<a class="anchor" id="a676eb1152be277429e958323b21228d7"></a><!-- doxytag: member="lsupport.c::lnet_nid2hostname" ref="a676eb1152be277429e958323b21228d7" args="(lnet_nid_t nid, char *buf, int buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_nid2hostname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00312">312</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="lsupport_8c_source.html#l00310">LND_MAX</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00105">LNET_NETTYP()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00085">LNET_NIDADDR()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="lsupport_8c_source.html#l00295">convert_struct::nid2name</a>, and <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

<p>Referenced by <a class="el" href="gssd__proc_8c_source.html#l00889">construct_service_name()</a>, <a class="el" href="svcgssd__proc_8c_source.html#l00306">get_ids()</a>, <a class="el" href="lgss__utils_8c_source.html#l00419">lgss_get_service_str()</a>, and <a class="el" href="lgss__krb5__utils_8c_source.html#l00239">svc_princ_verify_host()</a>.</p>

</div>
</div>
<a class="anchor" id="a5806c08b526814222047cd08aaa5dab3"></a><!-- doxytag: member="lsupport.c::lolnd_nid2hostname" ref="a5806c08b526814222047cd08aaa5dab3" args="(char *lnd, uint32_t net, uint32_t addr, char *buf, int buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lolnd_nid2hostname </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00196">196</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

</div>
</div>
<a class="anchor" id="ab1ebd71a23a935c36b807f64bb6402cd"></a><!-- doxytag: member="lsupport.c::lookup_mapping" ref="ab1ebd71a23a935c36b807f64bb6402cd" args="(char *princ, lnet_nid_t nid, uid_t *uid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lookup_mapping </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>princ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t *&nbsp;</td>
          <td class="paramname"> <em>uid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00521">521</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="lsupport_8c_source.html#l00352">user_mapping::items</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lsupport_8c_source.html#l00496">mapping_changed()</a>, <a class="el" href="lsupport_8c_source.html#l00346">user_map_item::nid</a>, <a class="el" href="lsupport_8c_source.html#l00351">user_mapping::nitems</a>, <a class="el" href="lsupport_8c_source.html#l00345">user_map_item::principal</a>, <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>, <a class="el" href="lsupport_8c_source.html#l00416">read_mapping_db()</a>, and <a class="el" href="lsupport_8c_source.html#l00347">user_map_item::uid</a>.</p>

<p>Referenced by <a class="el" href="svcgssd__proc_8c_source.html#l00306">get_ids()</a>, and <a class="el" href="l__idmap_8c_source.html#l00010">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ab11a38db157736b9cb86b2475a38a5a1"></a><!-- doxytag: member="lsupport.c::mapping_changed" ref="ab11a38db157736b9cb86b2475a38a5a1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mapping_changed </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00496">496</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="lsupport_8h_source.html#l00088">MAPPING_DATABASE_FILE</a>, <a class="el" href="lsupport_8c_source.html#l00357">mapping_mtime</a>, and <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00521">lookup_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="a79d3de0a80360a2ae2934e3cf84fd001"></a><!-- doxytag: member="lsupport.c::parse_uid" ref="a79d3de0a80360a2ae2934e3cf84fd001" args="(char *uidstr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uid_t parse_uid </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>uidstr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00399">399</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00416">read_mapping_db()</a>.</p>

</div>
</div>
<a class="anchor" id="a54f85b760eec5235aef068f9f68bee37"></a><!-- doxytag: member="lsupport.c::read_mapping_db" ref="a54f85b760eec5235aef068f9f68bee37" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int read_mapping_db </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00416">416</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>References <a class="el" href="lsupport_8c_source.html#l00359">cleanup_mapping()</a>, <a class="el" href="lsupport_8c_source.html#l00371">grow_mapping()</a>, <a class="el" href="lsupport_8c_source.html#l00352">user_mapping::items</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01210">libcfs_str2nid()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lsupport_8h_source.html#l00088">MAPPING_DATABASE_FILE</a>, <a class="el" href="lsupport_8c_source.html#l00342">MAX_LINE_LEN</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="lsupport_8c_source.html#l00346">user_map_item::nid</a>, <a class="el" href="lsupport_8c_source.html#l00351">user_mapping::nitems</a>, <a class="el" href="lsupport_8c_source.html#l00399">parse_uid()</a>, <a class="el" href="lsupport_8c_source.html#l00345">user_map_item::principal</a>, <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>, and <a class="el" href="lsupport_8c_source.html#l00347">user_map_item::uid</a>.</p>

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00521">lookup_mapping()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a7c62fb8bdc4a0ebe98a256a38dc08a84"></a><!-- doxytag: member="lsupport.c::converter" ref="a7c62fb8bdc4a0ebe98a256a38dc08a84" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structconvert__struct.html">convert_struct</a> <a class="el" href="lsupport_8c.html#a7c62fb8bdc4a0ebe98a256a38dc08a84">converter</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        [0]             = { <span class="stringliteral">&quot;UNUSED0&quot;</span>,  NULL},
        [<a class="code" href="nidstr_8h.html#afb9b21dcb0b6eb4e9e0c9cb090e774beafb73e7ba8dceb32fe086401ac820dfdb">QSWLND</a>]        = { <span class="stringliteral">&quot;QSWLND&quot;</span>,   <a class="code" href="lsupport_8c.html#a318f90bf32e74b21aab331aea2d6c751">external_nid2hostname</a>},
        [<a class="code" href="nidstr_8h.html#afb9b21dcb0b6eb4e9e0c9cb090e774bea7712f2834e8e9ff044c86fe04c5d8d39">SOCKLND</a>]       = { <span class="stringliteral">&quot;SOCKLND&quot;</span>,  <a class="code" href="lsupport_8c.html#a1ad6ae71969ddd6be9c6e93b169eacaf">ipv4_nid2hostname</a> },
        [<a class="code" href="nidstr_8h.html#afb9b21dcb0b6eb4e9e0c9cb090e774bea0a160f7134913518f24d9c81003862d7">GMLND</a>]         = { <span class="stringliteral">&quot;GMLND&quot;</span>,    <a class="code" href="lsupport_8c.html#a318f90bf32e74b21aab331aea2d6c751">external_nid2hostname</a>},
        [<a class="code" href="nidstr_8h.html#afb9b21dcb0b6eb4e9e0c9cb090e774bea8377985f0b14536e95b38a2d686caba1">PTLLND</a>]        = { <span class="stringliteral">&quot;PTLLND&quot;</span>,   <a class="code" href="lsupport_8c.html#a318f90bf32e74b21aab331aea2d6c751">external_nid2hostname</a> },
        [<a class="code" href="nidstr_8h.html#afb9b21dcb0b6eb4e9e0c9cb090e774bea878f32da37e30aa19380f35c360ffe74">O2IBLND</a>]       = { <span class="stringliteral">&quot;O2IBLND&quot;</span>,  <a class="code" href="lsupport_8c.html#a1ad6ae71969ddd6be9c6e93b169eacaf">ipv4_nid2hostname</a> },
        [<a class="code" href="nidstr_8h.html#afb9b21dcb0b6eb4e9e0c9cb090e774beab2569f8547a3ef45663982f966cd9458">LOLND</a>]         = { <span class="stringliteral">&quot;LOLND&quot;</span>,    <a class="code" href="lsupport_8c.html#a5806c08b526814222047cd08aaa5dab3">lolnd_nid2hostname</a> },
        [<a class="code" href="nidstr_8h.html#afb9b21dcb0b6eb4e9e0c9cb090e774bea88b453dec6ef8d2a92100febe4393094">RALND</a>]         = { <span class="stringliteral">&quot;RALND&quot;</span>,    <a class="code" href="lsupport_8c.html#a318f90bf32e74b21aab331aea2d6c751">external_nid2hostname</a> },
        [<a class="code" href="nidstr_8h.html#afb9b21dcb0b6eb4e9e0c9cb090e774bea63debe958589e417c703be70ec5772cf">MXLND</a>]         = { <span class="stringliteral">&quot;MXLND&quot;</span>,    <a class="code" href="lsupport_8c.html#a318f90bf32e74b21aab331aea2d6c751">external_nid2hostname</a> },
}
</pre></div>
<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00298">298</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

</div>
</div>
<a class="anchor" id="a819169794b8accbca86ad4c9cff2cbdd"></a><!-- doxytag: member="lsupport.c::gethostname_ex" ref="a819169794b8accbca86ad4c9cff2cbdd" args="[PATH_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="lsupport_8c.html#a819169794b8accbca86ad4c9cff2cbdd">gethostname_ex</a>[PATH_MAX] = GSSD_DEFAULT_GETHOSTNAME_EX</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00166">166</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00235">external_nid2hostname()</a>.</p>

</div>
</div>
<a class="anchor" id="af0ca2a50f831be185e329e722dab7573"></a><!-- doxytag: member="lsupport.c::lustre_svc_name" ref="af0ca2a50f831be185e329e722dab7573" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="lsupport_8h.html#af0ca2a50f831be185e329e722dab7573">lustre_svc_name</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
        [<a class="code" href="lsupport_8h.html#ae068625b39e3bbd120de684159a8a564">LUSTRE_GSS_SVC_MGS</a>]    = <span class="stringliteral">&quot;MGS&quot;</span>,
        [<a class="code" href="lsupport_8h.html#a5181cc9bca7a87de68b11846830b5b8e">LUSTRE_GSS_SVC_MDS</a>]    = <span class="stringliteral">&quot;MDS&quot;</span>,
        [<a class="code" href="lsupport_8h.html#a6dcee02b0d3fddbda04fab170b04c3d5">LUSTRE_GSS_SVC_OSS</a>]    = <span class="stringliteral">&quot;OSS&quot;</span>,
}
</pre></div>
<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00075">75</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>Referenced by <a class="el" href="svcgssd__proc_8c_source.html#l00306">get_ids()</a>.</p>

</div>
</div>
<a class="anchor" id="a204e0f2b3e5eb394897a119a9bf17b01"></a><!-- doxytag: member="lsupport.c::mapping" ref="a204e0f2b3e5eb394897a119a9bf17b01" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structuser__mapping.html">user_mapping</a> <a class="el" href="lsupport_8c.html#a204e0f2b3e5eb394897a119a9bf17b01">mapping</a> = {0, NULL}<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00355">355</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>Referenced by <a class="el" href="llite__internal_8h_source.html#l01050">ll_invalidate_page()</a>, <a class="el" href="rw26_8c_source.html#l00128">ll_releasepage()</a>, <a class="el" href="lustre__patchless__compat_8h_source.html#l00050">ll_remove_from_page_cache()</a>, <a class="el" href="lloop_8c_source.html#l00516">loop_set_fd()</a>, and <a class="el" href="mdc__request_8c_source.html#l01286">mdc_read_page()</a>.</p>

</div>
</div>
<a class="anchor" id="a15fcc5070a7d18cadf4b11c5464ba997"></a><!-- doxytag: member="lsupport.c::mapping_mtime" ref="a15fcc5070a7d18cadf4b11c5464ba997" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="lsupport_8c.html#a15fcc5070a7d18cadf4b11c5464ba997">mapping_mtime</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lsupport_8c_source.html#l00357">357</a> of file <a class="el" href="lsupport_8c_source.html">lsupport.c</a>.</p>

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00496">mapping_changed()</a>.</p>

</div>
</div>
<a class="anchor" id="a54bf73dccbdd7a79110a2b9830d20f68"></a><!-- doxytag: member="lsupport.c::sems" ref="a54bf73dccbdd7a79110a2b9830d20f68" args="[2]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct____sem__s.html">__sem_s</a>  <a class="el" href="lsupport_8c.html#a54bf73dccbdd7a79110a2b9830d20f68">sems</a>[2]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="lsupport_8c_source.html#l00095">gssd_init_unique()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:51 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
