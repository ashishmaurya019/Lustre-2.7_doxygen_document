<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/llite/xattr_cache.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/llite/xattr_cache.c File Reference</h1><code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/sched.h&gt;</code><br/>
<code>#include &lt;linux/mm.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__ver_8h_source.html">lustre_ver.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="llite__internal_8h_source.html">llite_internal.h</a>&quot;</code><br/>

<p><a href="xattr__cache_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structll__xattr__entry.html">ll_xattr_entry</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LLITE</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#ae15783ba66f3eb4b365054de918d3f3b">ll_xattr_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a92164220fab4a79ac9d40af0aef4781e">ll_xattr_fini</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a05f700a5dd7233b036b93f44949a0a90">ll_xattr_cache_init</a> (struct <a class="el" href="structll__inode__info.html">ll_inode_info</a> *lli)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes xattr cache for an inode.  <a href="#a05f700a5dd7233b036b93f44949a0a90"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#ae87d80d4dd9f13d395d6c1f797423892">ll_xattr_cache_find</a> (struct <a class="el" href="structlist__head.html">list_head</a> *cache, const char *xattr_name, struct <a class="el" href="structll__xattr__entry.html">ll_xattr_entry</a> **xattr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This looks for a specific extended attribute.  <a href="#ae87d80d4dd9f13d395d6c1f797423892"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a53111d4286bba52bb3d97e742a091a6f">ll_xattr_cache_add</a> (struct <a class="el" href="structlist__head.html">list_head</a> *cache, const char *xattr_name, const char *xattr_val, unsigned xattr_val_len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This adds an xattr.  <a href="#a53111d4286bba52bb3d97e742a091a6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#afc1d1435451ca0ca3b0f7942a395d7c0">ll_xattr_cache_del</a> (struct <a class="el" href="structlist__head.html">list_head</a> *cache, const char *xattr_name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This removes an extended attribute from cache.  <a href="#afc1d1435451ca0ca3b0f7942a395d7c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a0d9b32e334b3cefc930ac37ba76e7bb1">ll_xattr_cache_list</a> (struct <a class="el" href="structlist__head.html">list_head</a> *cache, char *xld_buffer, int xld_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This iterates cached extended attributes.  <a href="#a0d9b32e334b3cefc930ac37ba76e7bb1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a3c2e568bed700420f0b113ec1355e101">ll_xattr_cache_valid</a> (struct <a class="el" href="structll__inode__info.html">ll_inode_info</a> *lli)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if the xattr cache is initialized (filled).  <a href="#a3c2e568bed700420f0b113ec1355e101"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a4fb084715f4fd0e32a48a8309bb7c180">ll_xattr_cache_destroy_locked</a> (struct <a class="el" href="structll__inode__info.html">ll_inode_info</a> *lli)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This finalizes the xattr cache.  <a href="#a4fb084715f4fd0e32a48a8309bb7c180"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a6218ad7ef04b817916859fcaa933a521">ll_xattr_cache_destroy</a> (struct inode *inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a4b2b898489a3095b0501fcad5c467e08">ll_xattr_find_get_lock</a> (struct inode *inode, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *oit, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> **req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Match or enqueue a PR lock.  <a href="#a4b2b898489a3095b0501fcad5c467e08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a90e2828f21b1debd9dab2f9a8d2a3f03">ll_xattr_cache_refill</a> (struct inode *inode, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *oit)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Refill the xattr cache.  <a href="#a90e2828f21b1debd9dab2f9a8d2a3f03"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">or</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpe81c4e4f2b7b93b481e13a8553c2ae1b"></a>Get an xattr value or list xattrs using the write-through cache.</p>
<p>Get the xattr value ( has OBD_MD_FLXATTR set) of list xattr <a class="el" href="structnames.html">names</a> ( has OBD_MD_FLXATTRLS set) for . The resulting value/list is stored in  if the former is not larger than .</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>no error occured </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-EPROTO</em>&nbsp;</td><td><a class="el" href="structnetwork.html">network</a> protocol error </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOMEM</em>&nbsp;</td><td>not enough memory for the cache </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ERANGE</em>&nbsp;</td><td>the buffer is not large enough </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENODATA</em>&nbsp;</td><td>no such attr or the list is empty </td></tr>
  </table>
  </dd>
</dl>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#ace26221d59e2ce4bc476c563a704efcb">ll_xattr_cache_get</a> (struct inode *inode, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, char *buffer, size_t <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> valid)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#a79e8ee9f6ca2f1575196250cf0e932ac">xattr_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xattr__cache_8c.html#af1e247dc2202e2bdff447bedf2df0c82">xattr_caches</a> []</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="xattr_cache.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LLITE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00033">33</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a53111d4286bba52bb3d97e742a091a6f"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_add" ref="a53111d4286bba52bb3d97e742a091a6f" args="(struct list_head *cache, const char *xattr_name, const char *xattr_val, unsigned xattr_val_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_xattr_cache_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>xattr_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>xattr_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>xattr_val_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This adds an xattr. </p>
<p>Add  attr with  value and  length,</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOMEM</em>&nbsp;</td><td>if no memory could be allocated for the cached attr </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-EPROTO</em>&nbsp;</td><td>if duplicate xattr is being added </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00133">133</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="xattr__cache_8c_source.html#l00101">ll_xattr_cache_find()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>, <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="xattr__cache_8c_source.html#l00055">xattr_kmem</a>, <a class="el" href="xattr__cache_8c_source.html#l00047">ll_xattr_entry::xe_list</a>, <a class="el" href="xattr__cache_8c_source.html#l00049">ll_xattr_entry::xe_name</a>, <a class="el" href="xattr__cache_8c_source.html#l00051">ll_xattr_entry::xe_namelen</a>, <a class="el" href="xattr__cache_8c_source.html#l00052">ll_xattr_entry::xe_vallen</a>, and <a class="el" href="xattr__cache_8c_source.html#l00050">ll_xattr_entry::xe_value</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00385">ll_xattr_cache_refill()</a>.</p>

</div>
</div>
<a class="anchor" id="afc1d1435451ca0ca3b0f7942a395d7c0"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_del" ref="afc1d1435451ca0ca3b0f7942a395d7c0" args="(struct list_head *cache, const char *xattr_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_xattr_cache_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>xattr_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This removes an extended attribute from cache. </p>
<p>Remove  attribute from .</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENODATA</em>&nbsp;</td><td>if  is not cached </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00193">193</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="xattr__cache_8c_source.html#l00101">ll_xattr_cache_find()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="xattr__cache_8c_source.html#l00055">xattr_kmem</a>, <a class="el" href="xattr__cache_8c_source.html#l00047">ll_xattr_entry::xe_list</a>, <a class="el" href="xattr__cache_8c_source.html#l00049">ll_xattr_entry::xe_name</a>, <a class="el" href="xattr__cache_8c_source.html#l00051">ll_xattr_entry::xe_namelen</a>, <a class="el" href="xattr__cache_8c_source.html#l00052">ll_xattr_entry::xe_vallen</a>, and <a class="el" href="xattr__cache_8c_source.html#l00050">ll_xattr_entry::xe_value</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00271">ll_xattr_cache_destroy_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a6218ad7ef04b817916859fcaa933a521"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_destroy" ref="a6218ad7ef04b817916859fcaa933a521" args="(struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_xattr_cache_destroy </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00286">286</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="xattr__cache_8c_source.html#l00271">ll_xattr_cache_destroy_locked()</a>, <a class="el" href="llite__internal_8h_source.html#l00252">ll_inode_info::lli_xattrs_list_rwsem</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l01433">ll_clear_inode()</a>, and <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="a4fb084715f4fd0e32a48a8309bb7c180"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_destroy_locked" ref="a4fb084715f4fd0e32a48a8309bb7c180" args="(struct ll_inode_info *lli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_xattr_cache_destroy_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__inode__info.html">ll_inode_info</a> *&nbsp;</td>
          <td class="paramname"> <em>lli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This finalizes the xattr cache. </p>
<p>Free all xattr memory.  is the inode info pointer.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>no error occured </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00271">271</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l00290">ll_file_clear_flag()</a>, <a class="el" href="xattr__cache_8c_source.html#l00193">ll_xattr_cache_del()</a>, <a class="el" href="xattr__cache_8c_source.html#l00259">ll_xattr_cache_valid()</a>, <a class="el" href="llite__internal_8h_source.html#l00254">ll_inode_info::lli_xattrs</a>, <a class="el" href="llite__internal_8h_source.html#l00281">LLIF_XATTR_CACHE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00286">ll_xattr_cache_destroy()</a>, and <a class="el" href="xattr__cache_8c_source.html#l00385">ll_xattr_cache_refill()</a>.</p>

</div>
</div>
<a class="anchor" id="ae87d80d4dd9f13d395d6c1f797423892"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_find" ref="ae87d80d4dd9f13d395d6c1f797423892" args="(struct list_head *cache, const char *xattr_name, struct ll_xattr_entry **xattr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_xattr_cache_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>xattr_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__xattr__entry.html">ll_xattr_entry</a> **&nbsp;</td>
          <td class="paramname"> <em>xattr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This looks for a specific extended attribute. </p>
<p>Find in  and return  attribute in , for the NULL  return the first cached .</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENODATA</em>&nbsp;</td><td>if not found </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00101">101</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="xattr__cache_8c_source.html#l00047">ll_xattr_entry::xe_list</a>, <a class="el" href="xattr__cache_8c_source.html#l00049">ll_xattr_entry::xe_name</a>, <a class="el" href="xattr__cache_8c_source.html#l00052">ll_xattr_entry::xe_vallen</a>, and <a class="el" href="xattr__cache_8c_source.html#l00050">ll_xattr_entry::xe_value</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00133">ll_xattr_cache_add()</a>, <a class="el" href="xattr__cache_8c_source.html#l00193">ll_xattr_cache_del()</a>, and <a class="el" href="xattr__cache_8c_source.html#l00522">ll_xattr_cache_get()</a>.</p>

</div>
</div>
<a class="anchor" id="ace26221d59e2ce4bc476c563a704efcb"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_get" ref="ace26221d59e2ce4bc476c563a704efcb" args="(struct inode *inode, const char *name, char *buffer, size_t size, __u64 valid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_xattr_cache_get </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>valid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00522">522</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="packet-lustre_8c_source.html#l00239">IT_GETXATTR</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="xattr__cache_8c_source.html#l00101">ll_xattr_cache_find()</a>, <a class="el" href="xattr__cache_8c_source.html#l00224">ll_xattr_cache_list()</a>, <a class="el" href="xattr__cache_8c_source.html#l00385">ll_xattr_cache_refill()</a>, <a class="el" href="xattr__cache_8c_source.html#l00259">ll_xattr_cache_valid()</a>, <a class="el" href="llite__internal_8h_source.html#l00254">ll_inode_info::lli_xattrs</a>, <a class="el" href="llite__internal_8h_source.html#l00252">ll_inode_info::lli_xattrs_list_rwsem</a>, <a class="el" href="llite__internal_8h_source.html#l00770">LPROC_LL_GETXATTR_HITS</a>, <a class="el" href="lustre__idl_8h_source.html#l01694">OBD_MD_FLXATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01695">OBD_MD_FLXATTRLS</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="xattr__cache_8c_source.html#l00052">ll_xattr_entry::xe_vallen</a>, and <a class="el" href="xattr__cache_8c_source.html#l00050">ll_xattr_entry::xe_value</a>.</p>

<p>Referenced by <a class="el" href="xattr_8c_source.html#l00357">ll_getxattr_common()</a>.</p>

</div>
</div>
<a class="anchor" id="a05f700a5dd7233b036b93f44949a0a90"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_init" ref="a05f700a5dd7233b036b93f44949a0a90" args="(struct ll_inode_info *lli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_xattr_cache_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__inode__info.html">ll_inode_info</a> *&nbsp;</td>
          <td class="paramname"> <em>lli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes xattr cache for an inode. </p>
<p>This initializes the xattr list and marks cache presence. </p>

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00082">82</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00284">ll_file_set_flag()</a>, <a class="el" href="llite__internal_8h_source.html#l00254">ll_inode_info::lli_xattrs</a>, and <a class="el" href="llite__internal_8h_source.html#l00281">LLIF_XATTR_CACHE</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00385">ll_xattr_cache_refill()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d9b32e334b3cefc930ac37ba76e7bb1"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_list" ref="a0d9b32e334b3cefc930ac37ba76e7bb1" args="(struct list_head *cache, char *xld_buffer, int xld_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_xattr_cache_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>xld_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xld_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This iterates cached extended attributes. </p>
<p>Walk over cached attributes in  and fill in  or only calculate buffer size if  is NULL.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>&gt;=</em>&nbsp;</td><td>0 buffer list size </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENODATA</em>&nbsp;</td><td>if the list cannot fit  buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00224">224</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="xattr__cache_8c_source.html#l00047">ll_xattr_entry::xe_list</a>, <a class="el" href="xattr__cache_8c_source.html#l00049">ll_xattr_entry::xe_name</a>, and <a class="el" href="xattr__cache_8c_source.html#l00051">ll_xattr_entry::xe_namelen</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00522">ll_xattr_cache_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a90e2828f21b1debd9dab2f9a8d2a3f03"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_refill" ref="a90e2828f21b1debd9dab2f9a8d2a3f03" args="(struct inode *inode, struct lookup_intent *oit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_xattr_cache_refill </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>oit</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Refill the xattr cache. </p>
<p>Fetch and cache the whole of xattrs for , acquiring a read or a write xattr lock depending on operation in . Intent is dropped on exit unless the operation is setxattr.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>no error occured </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-EPROTO</em>&nbsp;</td><td><a class="el" href="structnetwork.html">network</a> protocol error </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOMEM</em>&nbsp;</td><td>not enough memory for the cache </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00385">385</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="lustre__intent_8h_source.html#l00047">lookup_intent::it_status</a>, <a class="el" href="ldlm__lock_8c_source.html#l00918">ldlm_lock_decref_and_cancel()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="dcache_8c_source.html#l00204">ll_intent_drop_lock()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="llite__internal_8h_source.html#l01379">ll_set_lock_data()</a>, <a class="el" href="llite__internal_8h_source.html#l00737">ll_stats_ops_tally()</a>, <a class="el" href="xattr__cache_8c_source.html#l00133">ll_xattr_cache_add()</a>, <a class="el" href="xattr__cache_8c_source.html#l00271">ll_xattr_cache_destroy_locked()</a>, <a class="el" href="xattr__cache_8c_source.html#l00082">ll_xattr_cache_init()</a>, <a class="el" href="xattr__cache_8c_source.html#l00259">ll_xattr_cache_valid()</a>, <a class="el" href="xattr__cache_8c_source.html#l00311">ll_xattr_find_get_lock()</a>, <a class="el" href="llite__internal_8h_source.html#l00254">ll_inode_info::lli_xattrs</a>, <a class="el" href="llite__internal_8h_source.html#l00252">ll_inode_info::lli_xattrs_list_rwsem</a>, <a class="el" href="llite__internal_8h_source.html#l00770">LPROC_LL_GETXATTR_HITS</a>, <a class="el" href="lustre__idl_8h_source.html#l02214">mdt_body::mbo_aclsize</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02215">mdt_body::mbo_max_mdsize</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00510">OBD_FAIL_LLITE_XATTR_ENOMEM</a>, <a class="el" href="out__handler_8c_source.html#l00533">out_destroy()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l02186">req_capsule_server_sized_get()</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01072">RMF_EAVALS</a>, <a class="el" href="layout_8c_source.html#l01126">RMF_EAVALS_LENS</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__idl_8h_source.html#l01588">XATTR_NAME_ACL_ACCESS</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00522">ll_xattr_cache_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c2e568bed700420f0b113ec1355e101"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_cache_valid" ref="a3c2e568bed700420f0b113ec1355e101" args="(struct ll_inode_info *lli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_xattr_cache_valid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__inode__info.html">ll_inode_info</a> *&nbsp;</td>
          <td class="paramname"> <em>lli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the xattr cache is initialized (filled). </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>is not initialized </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>is initialized </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00259">259</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00296">ll_file_test_flag()</a>, and <a class="el" href="llite__internal_8h_source.html#l00281">LLIF_XATTR_CACHE</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00271">ll_xattr_cache_destroy_locked()</a>, <a class="el" href="xattr__cache_8c_source.html#l00522">ll_xattr_cache_get()</a>, <a class="el" href="xattr__cache_8c_source.html#l00385">ll_xattr_cache_refill()</a>, and <a class="el" href="xattr__cache_8c_source.html#l00311">ll_xattr_find_get_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b2b898489a3095b0501fcad5c467e08"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_find_get_lock" ref="a4b2b898489a3095b0501fcad5c467e08" args="(struct inode *inode, struct lookup_intent *oit, struct ptlrpc_request **req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_xattr_find_get_lock </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>oit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> **&nbsp;</td>
          <td class="paramname"> <em>req</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Match or enqueue a PR lock. </p>
<p>Find or request an LDLM lock with xattr data. Since LDLM does not provide API for atomic match_or_enqueue, the function handles it with a separate enq lock. If successful, the function exits with the list lock held.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>no error occured </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOMEM</em>&nbsp;</td><td>not enough memory </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00311">311</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="lustre__intent_8h_source.html#l00053">lookup_intent::it_request</a>, <a class="el" href="obd_8h_source.html#l00767">it_to_lock_mode()</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="ldlm__request_8c_source.html#l00230">ldlm_completion_ast()</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="file_8c_source.html#l03279">ll_take_md_lock()</a>, <a class="el" href="xattr__cache_8c_source.html#l00259">ll_xattr_cache_valid()</a>, <a class="el" href="llite__internal_8h_source.html#l00253">ll_inode_info::lli_xattrs_enq_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00252">ll_inode_info::lli_xattrs_list_rwsem</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="obd__class_8h_source.html#l01330">md_enqueue()</a>, <a class="el" href="lustre__idl_8h_source.html#l02093">MDS_INODELOCK_XATTR</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="lustre__idl_8h_source.html#l01694">OBD_MD_FLXATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01695">OBD_MD_FLXATTRLS</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00826">md_op_data::op_valid</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00385">ll_xattr_cache_refill()</a>.</p>

</div>
</div>
<a class="anchor" id="a92164220fab4a79ac9d40af0aef4781e"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_fini" ref="a92164220fab4a79ac9d40af0aef4781e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_xattr_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00072">72</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="lu__object_8c_source.html#l02275">lu_kmem_fini()</a>.</p>

<p>Referenced by <a class="el" href="super25_8c_source.html#l00213">lustre_exit()</a>.</p>

</div>
</div>
<a class="anchor" id="ae15783ba66f3eb4b365054de918d3f3b"></a><!-- doxytag: member="xattr_cache.c::ll_xattr_init" ref="ae15783ba66f3eb4b365054de918d3f3b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_xattr_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00067">67</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>References <a class="el" href="lu__object_8c_source.html#l02251">lu_kmem_init()</a>.</p>

<p>Referenced by <a class="el" href="super25_8c_source.html#l00105">lustre_init()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="af1e247dc2202e2bdff447bedf2df0c82"></a><!-- doxytag: member="xattr_cache.c::xattr_caches" ref="af1e247dc2202e2bdff447bedf2df0c82" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a> <a class="el" href="xattr__cache_8c.html#af1e247dc2202e2bdff447bedf2df0c82">xattr_caches</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        {
                .ckd_cache = &amp;<a class="code" href="xattr__cache_8c.html#a79e8ee9f6ca2f1575196250cf0e932ac">xattr_kmem</a>,
                .ckd_name  = <span class="stringliteral">&quot;xattr_kmem&quot;</span>,
                .ckd_size  = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structll__xattr__entry.html">ll_xattr_entry</a>)
        },
        {
                .ckd_cache = NULL
        }
}
</pre></div>
<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00056">56</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

</div>
</div>
<a class="anchor" id="a79e8ee9f6ca2f1575196250cf0e932ac"></a><!-- doxytag: member="xattr_cache.c::xattr_kmem" ref="a79e8ee9f6ca2f1575196250cf0e932ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="xattr__cache_8c.html#a79e8ee9f6ca2f1575196250cf0e932ac">xattr_kmem</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="xattr__cache_8c_source.html#l00055">55</a> of file <a class="el" href="xattr__cache_8c_source.html">xattr_cache.c</a>.</p>

<p>Referenced by <a class="el" href="xattr__cache_8c_source.html#l00133">ll_xattr_cache_add()</a>, and <a class="el" href="xattr__cache_8c_source.html#l00193">ll_xattr_cache_del()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
