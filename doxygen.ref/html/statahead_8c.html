<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/llite/statahead.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/llite/statahead.c File Reference</h1><code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/sched.h&gt;</code><br/>
<code>#include &lt;linux/kthread.h&gt;</code><br/>
<code>#include &lt;linux/mm.h&gt;</code><br/>
<code>#include &lt;linux/highmem.h&gt;</code><br/>
<code>#include &lt;linux/pagemap.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="llite__internal_8h_source.html">llite_internal.h</a>&quot;</code><br/>

<p><a href="statahead_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsa__entry.html">sa_entry</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LLITE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a1acaccc0b6c36e423db023c16911def3">SA_OMITTED_ENTRY_MAX</a>&nbsp;&nbsp;&nbsp;8ULL</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a497fb24bddbd1f1cf734c74c16282945">se_state_t</a> { <a class="el" href="statahead_8c.html#a497fb24bddbd1f1cf734c74c16282945a77827b104ce67c6041411a6e0857d268">SA_ENTRY_INIT</a> =  0, 
<a class="el" href="statahead_8c.html#a497fb24bddbd1f1cf734c74c16282945a7a0b7a15b0bbf1cdcf0a925680198225">SA_ENTRY_SUCC</a> =  1, 
<a class="el" href="statahead_8c.html#a497fb24bddbd1f1cf734c74c16282945a564f91402c38feba1da47243ad95e3c7">SA_ENTRY_INVA</a> =  2
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="statahead_8c.html#a098384b0034af0daa7c9c5c82b563567a16b65f74267e6a7debab5540680109a9">LS_NOT_FIRST_DE</a> =  0, 
<a class="el" href="statahead_8c.html#a098384b0034af0daa7c9c5c82b563567a20a133831d5b1bd2369b73eca761095a">LS_FIRST_DE</a>, 
<a class="el" href="statahead_8c.html#a098384b0034af0daa7c9c5c82b563567ad5b3dca25f9a1e1e60e7fa3b7d4ee16e">LS_FIRST_DOT_DE</a>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#ad466825c2b492d3b5921a369cb40d641">DEFINE_SPINLOCK</a> (sai_generation_lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a0136b60627d88661abb6113c3302e15e">sa_unhashed</a> (struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#abbb1c3aa9f4f395b9401c7a690d0afb2">sa_ready</a> (struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a356fc05f60ae0d8dbccd08c00eaa4f57">sa_hash</a> (int val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#ae073fc694f6556730bfd8d35de90f36b">sa_rehash</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a3fd33195eb2f2866a50af9c72234b567">sa_unhash</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a4723907117c18d66a48f0e63affbc5c5">agl_should_run</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct inode *inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structll__inode__info.html">ll_inode_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a4299a4a16262c2ad269c16eafc3e92c2">agl_first_entry</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a72270094e083deafe685afc41cf3aa94">sa_sent_full</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a7af08da48a23113cf015497e5e7a73f9">sa_has_callback</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a316be79fb83cbe4cab7464eb4f505df6">agl_list_empty</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#aab8e2d0d4774dff0eaaa2c7ddcae3bc8">sa_low_hit</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(1) hit ratio less than 80% or (2) consecutive miss more than 8 then means low hit.  <a href="#aab8e2d0d4774dff0eaaa2c7ddcae3bc8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#ae4fc28b21115868fc53b2742de7f81b9">is_omitted_entry</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a9e97713d7a1e91da386ffb54d38e2f3c">sa_alloc</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> index, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int len, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#aa3379c9ab35fe20d343787ff2625d306">sa_free</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#aefb442aeee5482e2870bd6545b14cfd6">sa_get</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, const struct qstr *qstr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#adba46c16aaead5fd73153686f7a058f9">sa_kill</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a1c2235d58c69d8ac1d2f66023a5f7b7a">sa_put</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a4fac2b931f7fa3664c71ac206ab2366f">__sa_make_ready</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry, int <a class="el" href="utils_2wiretest_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a9436fdee2d607eb930467c7685ed9229">sa_make_ready</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry, int <a class="el" href="utils_2wiretest_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a63447d3218bb562f955f5d2ca7823545">ll_agl_add</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct inode *inode, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#ab8a45ec6256f6ca7efbc02820deb9366">ll_sai_alloc</a> (struct dentry *dentry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#ad0f796ad3365e1dccfb8d84f0eb04fbf">ll_sai_free</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a6a3efc56dc83420c8327b4aef7aa782f">ll_sai_get</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a65deff378c72443b766ad5fe311e4060">ll_sai_put</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#aae7283272479fcb26eb317384ea54bc9">ll_agl_trigger</a> (struct inode *inode, struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a0535070a839949dd2bd0850516ada33f">sa_instantiate</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#aa8139a1e9911df0250339c8b770ecaaa">sa_handle_callback</a> (struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#aeb3df274a444301a424b597b2236d45a">ll_statahead_interpret</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structmd__enqueue__info.html">md_enqueue_info</a> *minfo, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#ad4a9da8f3debb07c52f42383e26a54ec">sa_fini_data</a> (struct <a class="el" href="structmd__enqueue__info.html">md_enqueue_info</a> *minfo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmd__enqueue__info.html">md_enqueue_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a5d7b2be6f4a269df598917e3b7e40ea1">sa_prep_data</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct inode *child, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a0e127ef7d9cacf67b90534ee4dd00687">sa_lookup</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a8ba0059b1c3a6d36cb2f4f2ae0243fc6">sa_revalidate</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct <a class="el" href="structsa__entry.html">sa_entry</a> *entry, struct dentry *dentry)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">async stat for file found in dcache, similar to .revalidate  <a href="#a8ba0059b1c3a6d36cb2f4f2ae0243fc6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a78a306d3fa998eedf1eec70e417525df">sa_statahead</a> (struct dentry *parent, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int len, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a189223467ffec7f861f9052fc0969e25">ll_agl_thread</a> (void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a21b0745f46f63e328bf72215cf9c6c74">ll_start_agl</a> (struct dentry *parent, struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a4f2e5fb9512ad399ca72414d3179af58">ll_statahead_thread</a> (void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a9a5a865fbd37de5c69eb05da2d109ad4">ll_authorize_statahead</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#add6150d3978c67b6537417ebf15efc77">ll_deauthorize_statahead</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, void *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#ae96e5f8307237cf47ecb2e70b4899898">is_first_dirent</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct dentry *dentry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#ace14d591239d9bae8ee35afc1effbac2">revalidate_statahead_dentry</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *sai, struct dentry **dentryp, bool unplug)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">revalidate  from statahead cache  <a href="#ace14d591239d9bae8ee35afc1effbac2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#ab63b46d65547b82d7ea01c1546ab2f72">start_statahead_thread</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct dentry *dentry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#af976b03f541a6780be5715386baa0278">ll_statahead</a> (struct inode *<a class="el" href="mdsrate_8c.html#a929b6cee0a8e867ee7380bf26947cef2">dir</a>, struct dentry **dentryp, bool unplug)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">statahead entry function, this is called when client getattr on a file, it will start statahead thread if this is the first dir entry, else revalidate dentry from statahead cache.  <a href="#af976b03f541a6780be5715386baa0278"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="statahead_8c.html#a693131c45e26fe7ca06059766942aa30">sai_generation</a> = 0</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="statahead.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LLITE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00044">44</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1acaccc0b6c36e423db023c16911def3"></a><!-- doxytag: member="statahead.c::SA_OMITTED_ENTRY_MAX" ref="a1acaccc0b6c36e423db023c16911def3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SA_OMITTED_ENTRY_MAX&nbsp;&nbsp;&nbsp;8ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00050">50</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00178">is_omitted_entry()</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a098384b0034af0daa7c9c5c82b563567"></a><!-- doxytag: member="statahead.c::@111" ref="a098384b0034af0daa7c9c5c82b563567" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a098384b0034af0daa7c9c5c82b563567a16b65f74267e6a7debab5540680109a9"></a><!-- doxytag: member="LS_NOT_FIRST_DE" ref="a098384b0034af0daa7c9c5c82b563567a16b65f74267e6a7debab5540680109a9" args="" -->LS_NOT_FIRST_DE</em>&nbsp;</td><td>
<p>not first dirent, or is "." </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a098384b0034af0daa7c9c5c82b563567a20a133831d5b1bd2369b73eca761095a"></a><!-- doxytag: member="LS_FIRST_DE" ref="a098384b0034af0daa7c9c5c82b563567a20a133831d5b1bd2369b73eca761095a" args="" -->LS_FIRST_DE</em>&nbsp;</td><td>
<p>the first non-hidden dirent </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a098384b0034af0daa7c9c5c82b563567ad5b3dca25f9a1e1e60e7fa3b7d4ee16e"></a><!-- doxytag: member="LS_FIRST_DOT_DE" ref="a098384b0034af0daa7c9c5c82b563567ad5b3dca25f9a1e1e60e7fa3b7d4ee16e" args="" -->LS_FIRST_DOT_DE</em>&nbsp;</td><td>
<p>the first hidden dirent, that is "." </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="statahead_8c_source.html#l01247">1247</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

</div>
</div>
<a class="anchor" id="a497fb24bddbd1f1cf734c74c16282945"></a><!-- doxytag: member="statahead.c::se_state_t" ref="a497fb24bddbd1f1cf734c74c16282945" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="statahead_8c.html#a497fb24bddbd1f1cf734c74c16282945">se_state_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a497fb24bddbd1f1cf734c74c16282945a77827b104ce67c6041411a6e0857d268"></a><!-- doxytag: member="SA_ENTRY_INIT" ref="a497fb24bddbd1f1cf734c74c16282945a77827b104ce67c6041411a6e0857d268" args="" -->SA_ENTRY_INIT</em>&nbsp;</td><td>
<p>negative values are for error cases </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a497fb24bddbd1f1cf734c74c16282945a7a0b7a15b0bbf1cdcf0a925680198225"></a><!-- doxytag: member="SA_ENTRY_SUCC" ref="a497fb24bddbd1f1cf734c74c16282945a7a0b7a15b0bbf1cdcf0a925680198225" args="" -->SA_ENTRY_SUCC</em>&nbsp;</td><td>
<p>init entry </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a497fb24bddbd1f1cf734c74c16282945a564f91402c38feba1da47243ad95e3c7"></a><!-- doxytag: member="SA_ENTRY_INVA" ref="a497fb24bddbd1f1cf734c74c16282945a564f91402c38feba1da47243ad95e3c7" args="" -->SA_ENTRY_INVA</em>&nbsp;</td><td>
<p>stat succeed </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00052">52</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4fac2b931f7fa3664c71ac206ab2366f"></a><!-- doxytag: member="statahead.c::__sa_make_ready" ref="a4fac2b931f7fa3664c71ac206ab2366f" args="(struct ll_statahead_info *sai, struct sa_entry *entry, int ret)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool __sa_make_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ret</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00316">316</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00472">list_for_each_entry_reverse</a>, <a class="el" href="statahead_8c_source.html#l00056">SA_ENTRY_INVA</a>, <a class="el" href="statahead_8c_source.html#l00055">SA_ENTRY_SUCC</a>, <a class="el" href="statahead_8c_source.html#l00098">sa_ready()</a>, <a class="el" href="llite__internal_8h_source.html#l01219">ll_statahead_info::sai_entries</a>, <a class="el" href="llite__internal_8h_source.html#l01193">ll_statahead_info::sai_index_wait</a>, <a class="el" href="statahead_8c_source.html#l00070">sa_entry::se_index</a>, <a class="el" href="statahead_8c_source.html#l00066">sa_entry::se_list</a>, and <a class="el" href="statahead_8c_source.html#l00074">sa_entry::se_state</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00653">ll_statahead_interpret()</a>, and <a class="el" href="statahead_8c_source.html#l00342">sa_make_ready()</a>.</p>

</div>
</div>
<a class="anchor" id="a4299a4a16262c2ad269c16eafc3e92c2"></a><!-- doxytag: member="statahead.c::agl_first_entry" ref="a4299a4a16262c2ad269c16eafc3e92c2" args="(struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structll__inode__info.html">ll_inode_info</a>* agl_first_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00139">139</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="llite__internal_8h_source.html#l00216">ll_inode_info::lli_agl_list</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, and <a class="el" href="llite__internal_8h_source.html#l01220">ll_statahead_info::sai_agls</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, and <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a316be79fb83cbe4cab7464eb4f505df6"></a><!-- doxytag: member="statahead.c::agl_list_empty" ref="a316be79fb83cbe4cab7464eb4f505df6" args="(struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int agl_list_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00157">157</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, and <a class="el" href="llite__internal_8h_source.html#l01220">ll_statahead_info::sai_agls</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00371">ll_agl_add()</a>, <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, <a class="el" href="statahead_8c_source.html#l00468">ll_sai_put()</a>, and <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a4723907117c18d66a48f0e63affbc5c5"></a><!-- doxytag: member="statahead.c::agl_should_run" ref="a4723907117c18d66a48f0e63affbc5c5" args="(struct ll_statahead_info *sai, struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int agl_should_run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00132">132</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l01209">ll_statahead_info::sai_agl_valid</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00563">sa_instantiate()</a>, and <a class="el" href="statahead_8c_source.html#l00830">sa_statahead()</a>.</p>

</div>
</div>
<a class="anchor" id="ad466825c2b492d3b5921a369cb40d641"></a><!-- doxytag: member="statahead.c::DEFINE_SPINLOCK" ref="ad466825c2b492d3b5921a369cb40d641" args="(sai_generation_lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_SPINLOCK </td>
          <td>(</td>
          <td class="paramtype">sai_generation_lock&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae96e5f8307237cf47ecb2e70b4899898"></a><!-- doxytag: member="statahead.c::is_first_dirent" ref="ae96e5f8307237cf47ecb2e70b4899898" args="(struct inode *dir, struct dentry *dentry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int is_first_dirent </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>FIXME choose the start offset of the readdir</p>
</p>

<p>Definition at line <a class="el" href="statahead_8c_source.html#l01263">1263</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l00900">lu_dirent::lde_hash</a>, <a class="el" href="lustre__idl_8h_source.html#l00913">lu_dirent::lde_name</a>, <a class="el" href="lustre__idl_8h_source.html#l00904">lu_dirent::lde_namelen</a>, <a class="el" href="lustre__idl_8h_source.html#l00960">LDF_COLLIDE</a>, <a class="el" href="lustre__idl_8h_source.html#l00947">lu_dirpage::ldp_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l00946">lu_dirpage::ldp_hash_end</a>, <a class="el" href="byteorder_8h_source.html#l00054">le16_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="llite__internal_8h_source.html#l00785">ll_dir_chain_fini()</a>, <a class="el" href="llite__internal_8h_source.html#l00781">ll_dir_chain_init()</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="dir_8c_source.html#l00149">ll_get_dir_page()</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00554">ll_sb_info::ll_md_brw_pages</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="dir_8c_source.html#l00164">ll_release_page()</a>, <a class="el" href="llite__internal_8h_source.html#l00181">ll_inode_info::lli_opendir_pid</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="statahead_8c_source.html#l01255">LS_FIRST_DE</a>, <a class="el" href="statahead_8c_source.html#l01259">LS_FIRST_DOT_DE</a>, <a class="el" href="statahead_8c_source.html#l01251">LS_NOT_FIRST_DE</a>, <a class="el" href="lustre__idl_8h_source.html#l00971">lu_dirent_next()</a>, <a class="el" href="lustre__idl_8h_source.html#l00963">lu_dirent_start()</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="lustre__idl_8h_source.html#l00997">MDS_DIR_END_OFF</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00834">md_op_data::op_max_pages</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l01534">start_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ae4fc28b21115868fc53b2742de7f81b9"></a><!-- doxytag: member="statahead.c::is_omitted_entry" ref="ae4fc28b21115868fc53b2742de7f81b9" args="(struct ll_statahead_info *sai, __u64 index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int is_omitted_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00178">178</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="statahead_8c_source.html#l00050">SA_OMITTED_ENTRY_MAX</a>, <a class="el" href="llite__internal_8h_source.html#l01192">ll_statahead_info::sai_index</a>, and <a class="el" href="llite__internal_8h_source.html#l01188">ll_statahead_info::sai_max</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00497">ll_agl_trigger()</a>, and <a class="el" href="statahead_8c_source.html#l00284">sa_put()</a>.</p>

</div>
</div>
<a class="anchor" id="a63447d3218bb562f955f5d2ca7823545"></a><!-- doxytag: member="statahead.c::ll_agl_add" ref="a63447d3218bb562f955f5d2ca7823545" args="(struct ll_statahead_info *sai, struct inode *inode, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_agl_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00371">371</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="statahead_8c_source.html#l00157">agl_list_empty()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00217">ll_inode_info::lli_agl_index</a>, <a class="el" href="llite__internal_8h_source.html#l00216">ll_inode_info::lli_agl_list</a>, <a class="el" href="llite__internal_8h_source.html#l00160">ll_inode_info::lli_agl_lock</a>, <a class="el" href="llite__internal_8h_source.html#l01215">ll_statahead_info::sai_agl_thread</a>, <a class="el" href="llite__internal_8h_source.html#l01220">ll_statahead_info::sai_agls</a>, <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>, and <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00563">sa_instantiate()</a>, and <a class="el" href="statahead_8c_source.html#l00830">sa_statahead()</a>.</p>

</div>
</div>
<a class="anchor" id="a189223467ffec7f861f9052fc0969e25"></a><!-- doxytag: member="statahead.c::ll_agl_thread" ref="a189223467ffec7f861f9052fc0969e25" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_agl_thread </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00868">868</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="statahead_8c_source.html#l00139">agl_first_entry()</a>, <a class="el" href="statahead_8c_source.html#l00157">agl_list_empty()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux_2libcfs_8h_source.html#l00145">current_pid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="llite__internal_8h_source.html#l00577">ll_sb_info::ll_agl_total</a>, <a class="el" href="statahead_8c_source.html#l00497">ll_agl_trigger()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="statahead_8c_source.html#l00450">ll_sai_get()</a>, <a class="el" href="statahead_8c_source.html#l00468">ll_sai_put()</a>, <a class="el" href="llite__internal_8h_source.html#l00217">ll_inode_info::lli_agl_index</a>, <a class="el" href="llite__internal_8h_source.html#l00216">ll_inode_info::lli_agl_list</a>, <a class="el" href="llite__internal_8h_source.html#l00160">ll_inode_info::lli_agl_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00154">ll_inode_info::lli_vfs_inode</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="llite__internal_8h_source.html#l01215">ll_statahead_info::sai_agl_thread</a>, <a class="el" href="llite__internal_8h_source.html#l01209">ll_statahead_info::sai_agl_valid</a>, <a class="el" href="lustre__net_8h_source.html#l01497">SVC_RUNNING</a>, <a class="el" href="lustre__net_8h_source.html#l01494">SVC_STOPPED</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="lustre__net_8h_source.html#l01523">ptlrpc_thread::t_pid</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01537">thread_is_init()</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, and <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00940">ll_start_agl()</a>.</p>

</div>
</div>
<a class="anchor" id="aae7283272479fcb26eb317384ea54bc9"></a><!-- doxytag: member="statahead.c::ll_agl_trigger" ref="aae7283272479fcb26eb317384ea54bc9" args="(struct inode *inode, struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_agl_trigger </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00497">497</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00142">cfs_time_before()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="llite__internal_8h_source.html#l01242">cl_agl()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="statahead_8c_source.html#l00178">is_omitted_entry()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00217">ll_inode_info::lli_agl_index</a>, <a class="el" href="llite__internal_8h_source.html#l00216">ll_inode_info::lli_agl_list</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="llite__internal_8h_source.html#l00214">ll_inode_info::lli_glimpse_sem</a>, <a class="el" href="llite__internal_8h_source.html#l00215">ll_inode_info::lli_glimpse_time</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, and <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a5a865fbd37de5c69eb05da2d109ad4"></a><!-- doxytag: member="statahead.c::ll_authorize_statahead" ref="a9a5a865fbd37de5c69eb05da2d109ad4" args="(struct inode *dir, void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_authorize_statahead </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l01198">1198</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="linux_2libcfs_8h_source.html#l00145">current_pid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00175">ll_inode_info::lli_opendir_key</a>, <a class="el" href="llite__internal_8h_source.html#l00181">ll_inode_info::lli_opendir_pid</a>, <a class="el" href="llite__internal_8h_source.html#l00187">ll_inode_info::lli_sa_enabled</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, and <a class="el" href="llite__internal_8h_source.html#l00176">ll_inode_info::lli_sai</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00491">ll_file_open()</a>.</p>

</div>
</div>
<a class="anchor" id="add6150d3978c67b6537417ebf15efc77"></a><!-- doxytag: member="statahead.c::ll_deauthorize_statahead" ref="add6150d3978c67b6537417ebf15efc77" args="(struct inode *dir, void *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_deauthorize_statahead </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l01220">1220</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="llite__internal_8h_source.html#l00175">ll_inode_info::lli_opendir_key</a>, <a class="el" href="llite__internal_8h_source.html#l00181">ll_inode_info::lli_opendir_pid</a>, <a class="el" href="llite__internal_8h_source.html#l00187">ll_inode_info::lli_sa_enabled</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00176">ll_inode_info::lli_sai</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="llite__internal_8h_source.html#l01214">ll_statahead_info::sai_thread</a>, <a class="el" href="lustre__net_8h_source.html#l01495">SVC_STOPPING</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, and <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00491">ll_file_open()</a>, and <a class="el" href="file_8c_source.html#l00314">ll_file_release()</a>.</p>

</div>
</div>
<a class="anchor" id="ab8a45ec6256f6ca7efbc02820deb9366"></a><!-- doxytag: member="statahead.c::ll_sai_alloc" ref="ab8a45ec6256f6ca7efbc02820deb9366" args="(struct dentry *dentry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a>* ll_sai_alloc </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00400">400</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01180">LL_SA_CACHE_SIZE</a>, <a class="el" href="llite__internal_8h_source.html#l01175">LL_SA_RPC_MIN</a>, <a class="el" href="llite__internal_8h_source.html#l00189">ll_inode_info::lli_sa_generation</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="llite__internal_8h_source.html#l01215">ll_statahead_info::sai_agl_thread</a>, <a class="el" href="llite__internal_8h_source.html#l01220">ll_statahead_info::sai_agls</a>, <a class="el" href="llite__internal_8h_source.html#l01221">ll_statahead_info::sai_cache</a>, <a class="el" href="llite__internal_8h_source.html#l01223">ll_statahead_info::sai_cache_count</a>, <a class="el" href="llite__internal_8h_source.html#l01222">ll_statahead_info::sai_cache_lock</a>, <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>, <a class="el" href="llite__internal_8h_source.html#l01219">ll_statahead_info::sai_entries</a>, <a class="el" href="statahead_8c_source.html#l00089">sai_generation</a>, <a class="el" href="llite__internal_8h_source.html#l01192">ll_statahead_info::sai_index</a>, <a class="el" href="llite__internal_8h_source.html#l01216">ll_statahead_info::sai_interim_entries</a>, <a class="el" href="llite__internal_8h_source.html#l01188">ll_statahead_info::sai_max</a>, <a class="el" href="llite__internal_8h_source.html#l01186">ll_statahead_info::sai_refcount</a>, <a class="el" href="llite__internal_8h_source.html#l01214">ll_statahead_info::sai_thread</a>, <a class="el" href="llite__internal_8h_source.html#l01213">ll_statahead_info::sai_waitq</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l01534">start_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ad0f796ad3365e1dccfb8d84f0eb04fbf"></a><!-- doxytag: member="statahead.c::ll_sai_free" ref="ad0f796ad3365e1dccfb8d84f0eb04fbf" args="(struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_sai_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00439">439</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00468">ll_sai_put()</a>, and <a class="el" href="statahead_8c_source.html#l01534">start_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a3efc56dc83420c8327b4aef7aa782f"></a><!-- doxytag: member="statahead.c::ll_sai_get" ref="a6a3efc56dc83420c8327b4aef7aa782f" args="(struct inode *dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a>* ll_sai_get </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00450">450</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00176">ll_inode_info::lli_sai</a>, and <a class="el" href="llite__internal_8h_source.html#l01186">ll_statahead_info::sai_refcount</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, <a class="el" href="statahead_8c_source.html#l01624">ll_statahead()</a>, and <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a65deff378c72443b766ad5fe311e4060"></a><!-- doxytag: member="statahead.c::ll_sai_put" ref="a65deff378c72443b766ad5fe311e4060" args="(struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_sai_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00468">468</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="statahead_8c_source.html#l00157">agl_list_empty()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l00575">ll_sb_info::ll_sa_running</a>, <a class="el" href="statahead_8c_source.html#l00439">ll_sai_free()</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00176">ll_inode_info::lli_sai</a>, <a class="el" href="statahead_8c_source.html#l00152">sa_has_callback()</a>, <a class="el" href="statahead_8c_source.html#l00262">sa_kill()</a>, <a class="el" href="llite__internal_8h_source.html#l01215">ll_statahead_info::sai_agl_thread</a>, <a class="el" href="llite__internal_8h_source.html#l01223">ll_statahead_info::sai_cache_count</a>, <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>, <a class="el" href="llite__internal_8h_source.html#l01219">ll_statahead_info::sai_entries</a>, <a class="el" href="llite__internal_8h_source.html#l01186">ll_statahead_info::sai_refcount</a>, <a class="el" href="llite__internal_8h_source.html#l01190">ll_statahead_info::sai_replied</a>, <a class="el" href="llite__internal_8h_source.html#l01189">ll_statahead_info::sai_sent</a>, <a class="el" href="llite__internal_8h_source.html#l01214">ll_statahead_info::sai_thread</a>, and <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, <a class="el" href="statahead_8c_source.html#l01624">ll_statahead()</a>, <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>, and <a class="el" href="statahead_8c_source.html#l01534">start_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a21b0745f46f63e328bf72215cf9c6c74"></a><!-- doxytag: member="statahead.c::ll_start_agl" ref="a21b0745f46f63e328bf72215cf9c6c74" args="(struct dentry *parent, struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_start_agl </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00940">940</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00181">ll_inode_info::lli_opendir_pid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>, <a class="el" href="llite__internal_8h_source.html#l01215">ll_statahead_info::sai_agl_thread</a>, <a class="el" href="lustre__net_8h_source.html#l01494">SVC_STOPPED</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>, and <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="af976b03f541a6780be5715386baa0278"></a><!-- doxytag: member="statahead.c::ll_statahead" ref="af976b03f541a6780be5715386baa0278" args="(struct inode *dir, struct dentry **dentryp, bool unplug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_statahead </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry **&nbsp;</td>
          <td class="paramname"> <em>dentryp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>unplug</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>statahead entry function, this is called when client getattr on a file, it will start statahead thread if this is the first dir entry, else revalidate dentry from statahead cache. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dir</em>&nbsp;</td><td>parent directory </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dentryp</em>&nbsp;</td><td>dentry to getattr </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>unplug</em>&nbsp;</td><td>unplug statahead window only (normally for negative dentry) </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>revalidation from statahead cache failed, caller needs to getattr from server directly </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error, caller often ignores this and then getattr from server </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="statahead_8c_source.html#l01624">1624</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="statahead_8c_source.html#l00450">ll_sai_get()</a>, <a class="el" href="statahead_8c_source.html#l00468">ll_sai_put()</a>, <a class="el" href="statahead_8c_source.html#l01394">revalidate_statahead_dentry()</a>, and <a class="el" href="statahead_8c_source.html#l01534">start_statahead_thread()</a>.</p>

<p>Referenced by <a class="el" href="namei_8c_source.html#l00551">ll_lookup_it()</a>, and <a class="el" href="dcache_8c_source.html#l00322">ll_revalidate_dentry()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb3df274a444301a424b597b2236d45a"></a><!-- doxytag: member="statahead.c::ll_statahead_interpret" ref="aeb3df274a444301a424b597b2236d45a" args="(struct ptlrpc_request *req, struct md_enqueue_info *minfo, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_statahead_interpret </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__enqueue__info.html">md_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>minfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00653">653</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="statahead_8c_source.html#l00316">__sa_make_ready()</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="lustre__idl_8h_source.html#l02063">DISP_LOOKUP_NEG</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__intent_8h_source.html#l00057">it_disposition()</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="dcache_8c_source.html#l00204">ll_intent_drop_lock()</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00176">ll_inode_info::lli_sai</a>, <a class="el" href="obd_8h_source.html#l00867">md_enqueue_info::mi_cbdata</a>, <a class="el" href="obd_8h_source.html#l00864">md_enqueue_info::mi_dir</a>, <a class="el" href="obd_8h_source.html#l00862">md_enqueue_info::mi_it</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="client_8c_source.html#l02757">ptlrpc_request_addref()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="statahead_8c_source.html#l00152">sa_has_callback()</a>, <a class="el" href="llite__internal_8h_source.html#l01216">ll_statahead_info::sai_interim_entries</a>, <a class="el" href="llite__internal_8h_source.html#l01190">ll_statahead_info::sai_replied</a>, <a class="el" href="llite__internal_8h_source.html#l01214">ll_statahead_info::sai_thread</a>, <a class="el" href="llite__internal_8h_source.html#l01213">ll_statahead_info::sai_waitq</a>, <a class="el" href="statahead_8c_source.html#l00072">sa_entry::se_handle</a>, <a class="el" href="statahead_8c_source.html#l00066">sa_entry::se_list</a>, <a class="el" href="statahead_8c_source.html#l00078">sa_entry::se_minfo</a>, <a class="el" href="statahead_8c_source.html#l00084">sa_entry::se_qstr</a>, <a class="el" href="statahead_8c_source.html#l00080">sa_entry::se_req</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00726">sa_prep_data()</a>.</p>

</div>
</div>
<a class="anchor" id="a4f2e5fb9512ad399ca72414d3179af58"></a><!-- doxytag: member="statahead.c::ll_statahead_thread" ref="a4f2e5fb9512ad399ca72414d3179af58" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_statahead_thread </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00967">967</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="statahead_8c_source.html#l00139">agl_first_entry()</a>, <a class="el" href="statahead_8c_source.html#l00157">agl_list_empty()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux_2libcfs_8h_source.html#l00145">current_pid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__idl_8h_source.html#l00772">fid_le_to_cpu()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lustre__idl_8h_source.html#l00898">lu_dirent::lde_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00900">lu_dirent::lde_hash</a>, <a class="el" href="lustre__idl_8h_source.html#l00913">lu_dirent::lde_name</a>, <a class="el" href="lustre__idl_8h_source.html#l00904">lu_dirent::lde_namelen</a>, <a class="el" href="lustre__idl_8h_source.html#l00960">LDF_COLLIDE</a>, <a class="el" href="lustre__idl_8h_source.html#l00947">lu_dirpage::ldp_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l00946">lu_dirpage::ldp_hash_end</a>, <a class="el" href="byteorder_8h_source.html#l00054">le16_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="statahead_8c_source.html#l00497">ll_agl_trigger()</a>, <a class="el" href="llite__internal_8h_source.html#l00785">ll_dir_chain_fini()</a>, <a class="el" href="llite__internal_8h_source.html#l00781">ll_dir_chain_init()</a>, <a class="el" href="llite__lib_8c_source.html#l02507">ll_finish_md_op_data()</a>, <a class="el" href="llite__internal_8h_source.html#l00528">ll_sb_info::ll_flags</a>, <a class="el" href="dir_8c_source.html#l00149">ll_get_dir_page()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l00554">ll_sb_info::ll_md_brw_pages</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="dir_8c_source.html#l00164">ll_release_page()</a>, <a class="el" href="llite__internal_8h_source.html#l00571">ll_sb_info::ll_sa_total</a>, <a class="el" href="llite__internal_8h_source.html#l00573">ll_sb_info::ll_sa_wrong</a>, <a class="el" href="statahead_8c_source.html#l00450">ll_sai_get()</a>, <a class="el" href="statahead_8c_source.html#l00468">ll_sai_put()</a>, <a class="el" href="llite__internal_8h_source.html#l00440">LL_SBI_AGL_ENABLED</a>, <a class="el" href="statahead_8c_source.html#l00940">ll_start_agl()</a>, <a class="el" href="llite__internal_8h_source.html#l00216">ll_inode_info::lli_agl_list</a>, <a class="el" href="llite__internal_8h_source.html#l00160">ll_inode_info::lli_agl_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00134">ll_inode_info::lli_fid</a>, <a class="el" href="llite__internal_8h_source.html#l00181">ll_inode_info::lli_opendir_pid</a>, <a class="el" href="llite__internal_8h_source.html#l00187">ll_inode_info::lli_sa_enabled</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00154">ll_inode_info::lli_vfs_inode</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__idl_8h_source.html#l00971">lu_dirent_next()</a>, <a class="el" href="lustre__idl_8h_source.html#l00963">lu_dirent_start()</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="lustre__lib_8h_source.html#l00171">LWI_TIMEOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l00997">MDS_DIR_END_OFF</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00834">md_op_data::op_max_pages</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="statahead_8c_source.html#l00625">sa_handle_callback()</a>, <a class="el" href="statahead_8c_source.html#l00152">sa_has_callback()</a>, <a class="el" href="statahead_8c_source.html#l00168">sa_low_hit()</a>, <a class="el" href="statahead_8c_source.html#l00146">sa_sent_full()</a>, <a class="el" href="statahead_8c_source.html#l00830">sa_statahead()</a>, <a class="el" href="llite__internal_8h_source.html#l01215">ll_statahead_info::sai_agl_thread</a>, <a class="el" href="llite__internal_8h_source.html#l01209">ll_statahead_info::sai_agl_valid</a>, <a class="el" href="llite__internal_8h_source.html#l01195">ll_statahead_info::sai_hit</a>, <a class="el" href="llite__internal_8h_source.html#l01209">ll_statahead_info::sai_in_readpage</a>, <a class="el" href="llite__internal_8h_source.html#l01192">ll_statahead_info::sai_index</a>, <a class="el" href="llite__internal_8h_source.html#l01209">ll_statahead_info::sai_ls_all</a>, <a class="el" href="llite__internal_8h_source.html#l01196">ll_statahead_info::sai_miss</a>, <a class="el" href="llite__internal_8h_source.html#l01190">ll_statahead_info::sai_replied</a>, <a class="el" href="llite__internal_8h_source.html#l01189">ll_statahead_info::sai_sent</a>, <a class="el" href="llite__internal_8h_source.html#l01207">ll_statahead_info::sai_skip_hidden</a>, <a class="el" href="llite__internal_8h_source.html#l01214">ll_statahead_info::sai_thread</a>, <a class="el" href="llite__internal_8h_source.html#l01213">ll_statahead_info::sai_waitq</a>, <a class="el" href="lustre__net_8h_source.html#l01497">SVC_RUNNING</a>, <a class="el" href="lustre__net_8h_source.html#l01494">SVC_STOPPED</a>, <a class="el" href="lustre__net_8h_source.html#l01495">SVC_STOPPING</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="lustre__net_8h_source.html#l01523">ptlrpc_thread::t_pid</a>, <a class="el" href="lustre__net_8h_source.html#l01537">thread_is_init()</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>, <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l01534">start_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ace14d591239d9bae8ee35afc1effbac2"></a><!-- doxytag: member="statahead.c::revalidate_statahead_dentry" ref="ace14d591239d9bae8ee35afc1effbac2" args="(struct inode *dir, struct ll_statahead_info *sai, struct dentry **dentryp, bool unplug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int revalidate_statahead_dentry </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry **&nbsp;</td>
          <td class="paramname"> <em>dentryp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>unplug</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>revalidate  from statahead cache </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dir</em>&nbsp;</td><td>parent directory </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>sai</em>&nbsp;</td><td>sai structure </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dentryp</em>&nbsp;</td><td>pointer to dentry which will be revalidated </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>unplug</em>&nbsp;</td><td>unplug statahead window only (normally for negative dentry) </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>on success, dentry is saved in  </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>if revalidation failed (no proper lock on client) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number upon error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="statahead_8c_source.html#l01394">1394</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="llite__internal_8h_source.html#l01434">d_lustre_invalid()</a>, <a class="el" href="llite__internal_8h_source.html#l01476">d_lustre_revalidate()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="llite__internal_8h_source.html#l00087">ll_d2d</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="namei_8c_source.html#l00431">ll_splice_alias()</a>, <a class="el" href="llite__internal_8h_source.html#l00082">ll_dentry_data::lld_sa_generation</a>, <a class="el" href="llite__internal_8h_source.html#l00189">ll_inode_info::lli_sa_generation</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="lustre__lib_8h_source.html#l00189">LWI_TIMEOUT_INTR</a>, <a class="el" href="obd__class_8h_source.html#l01599">md_revalidate_lock()</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="statahead_8c_source.html#l00055">SA_ENTRY_SUCC</a>, <a class="el" href="statahead_8c_source.html#l00246">sa_get()</a>, <a class="el" href="statahead_8c_source.html#l00625">sa_handle_callback()</a>, <a class="el" href="statahead_8c_source.html#l00284">sa_put()</a>, <a class="el" href="statahead_8c_source.html#l00098">sa_ready()</a>, <a class="el" href="llite__internal_8h_source.html#l01209">ll_statahead_info::sai_in_readpage</a>, <a class="el" href="llite__internal_8h_source.html#l01193">ll_statahead_info::sai_index_wait</a>, <a class="el" href="llite__internal_8h_source.html#l01209">ll_statahead_info::sai_ls_all</a>, <a class="el" href="llite__internal_8h_source.html#l01205">ll_statahead_info::sai_miss_hidden</a>, <a class="el" href="llite__internal_8h_source.html#l01207">ll_statahead_info::sai_skip_hidden</a>, <a class="el" href="llite__internal_8h_source.html#l01213">ll_statahead_info::sai_waitq</a>, <a class="el" href="statahead_8c_source.html#l00072">sa_entry::se_handle</a>, <a class="el" href="statahead_8c_source.html#l00070">sa_entry::se_index</a>, <a class="el" href="statahead_8c_source.html#l00082">sa_entry::se_inode</a>, and <a class="el" href="statahead_8c_source.html#l00074">sa_entry::se_state</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l01624">ll_statahead()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e97713d7a1e91da386ffb54d38e2f3c"></a><!-- doxytag: member="statahead.c::sa_alloc" ref="a9e97713d7a1e91da386ffb54d38e2f3c" args="(struct ll_statahead_info *sai, __u64 index, const char *name, int len, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structsa__entry.html">sa_entry</a>* sa_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00186">186</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="statahead_8c_source.html#l00054">SA_ENTRY_INIT</a>, <a class="el" href="statahead_8c_source.html#l00112">sa_rehash()</a>, <a class="el" href="llite__internal_8h_source.html#l01223">ll_statahead_info::sai_cache_count</a>, <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>, <a class="el" href="statahead_8c_source.html#l00086">sa_entry::se_fid</a>, <a class="el" href="statahead_8c_source.html#l00070">sa_entry::se_index</a>, <a class="el" href="statahead_8c_source.html#l00066">sa_entry::se_list</a>, <a class="el" href="statahead_8c_source.html#l00084">sa_entry::se_qstr</a>, <a class="el" href="statahead_8c_source.html#l00076">sa_entry::se_size</a>, <a class="el" href="statahead_8c_source.html#l00074">sa_entry::se_state</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00830">sa_statahead()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4a9da8f3debb07c52f42383e26a54ec"></a><!-- doxytag: member="statahead.c::sa_fini_data" ref="ad4a9da8f3debb07c52f42383e26a54ec" args="(struct md_enqueue_info *minfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_fini_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmd__enqueue__info.html">md_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>minfo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00716">716</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00864">md_enqueue_info::mi_dir</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00763">sa_lookup()</a>, and <a class="el" href="statahead_8c_source.html#l00787">sa_revalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="aa3379c9ab35fe20d343787ff2625d306"></a><!-- doxytag: member="statahead.c::sa_free" ref="aa3379c9ab35fe20d343787ff2625d306" args="(struct ll_statahead_info *sai, struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00228">228</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="statahead_8c_source.html#l00092">sa_unhashed()</a>, <a class="el" href="llite__internal_8h_source.html#l01223">ll_statahead_info::sai_cache_count</a>, <a class="el" href="statahead_8c_source.html#l00070">sa_entry::se_index</a>, <a class="el" href="statahead_8c_source.html#l00066">sa_entry::se_list</a>, <a class="el" href="statahead_8c_source.html#l00084">sa_entry::se_qstr</a>, and <a class="el" href="statahead_8c_source.html#l00076">sa_entry::se_size</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00262">sa_kill()</a>.</p>

</div>
</div>
<a class="anchor" id="aefb442aeee5482e2870bd6545b14cfd6"></a><!-- doxytag: member="statahead.c::sa_get" ref="aefb442aeee5482e2870bd6545b14cfd6" args="(struct ll_statahead_info *sai, const struct qstr *qstr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structsa__entry.html">sa_entry</a>* sa_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct qstr *&nbsp;</td>
          <td class="paramname"> <em>qstr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00246">246</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="statahead_8c_source.html#l00105">sa_hash()</a>, <a class="el" href="llite__internal_8h_source.html#l01221">ll_statahead_info::sai_cache</a>, <a class="el" href="statahead_8c_source.html#l00068">sa_entry::se_hash</a>, and <a class="el" href="statahead_8c_source.html#l00084">sa_entry::se_qstr</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l01394">revalidate_statahead_dentry()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8139a1e9911df0250339c8b770ecaaa"></a><!-- doxytag: member="statahead.c::sa_handle_callback" ref="aa8139a1e9911df0250339c8b770ecaaa" args="(struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_handle_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00625">625</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="statahead_8c_source.html#l00152">sa_has_callback()</a>, <a class="el" href="statahead_8c_source.html#l00563">sa_instantiate()</a>, <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>, <a class="el" href="llite__internal_8h_source.html#l01216">ll_statahead_info::sai_interim_entries</a>, <a class="el" href="statahead_8c_source.html#l00066">sa_entry::se_list</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>, and <a class="el" href="statahead_8c_source.html#l01394">revalidate_statahead_dentry()</a>.</p>

</div>
</div>
<a class="anchor" id="a7af08da48a23113cf015497e5e7a73f9"></a><!-- doxytag: member="statahead.c::sa_has_callback" ref="a7af08da48a23113cf015497e5e7a73f9" args="(struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sa_has_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00152">152</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, and <a class="el" href="llite__internal_8h_source.html#l01216">ll_statahead_info::sai_interim_entries</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00468">ll_sai_put()</a>, <a class="el" href="statahead_8c_source.html#l00653">ll_statahead_interpret()</a>, <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>, and <a class="el" href="statahead_8c_source.html#l00625">sa_handle_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="a356fc05f60ae0d8dbccd08c00eaa4f57"></a><!-- doxytag: member="statahead.c::sa_hash" ref="a356fc05f60ae0d8dbccd08c00eaa4f57" args="(int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sa_hash </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>val</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00105">105</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l01181">LL_SA_CACHE_MASK</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00246">sa_get()</a>, <a class="el" href="statahead_8c_source.html#l00112">sa_rehash()</a>, and <a class="el" href="statahead_8c_source.html#l00123">sa_unhash()</a>.</p>

</div>
</div>
<a class="anchor" id="a0535070a839949dd2bd0850516ada33f"></a><!-- doxytag: member="statahead.c::sa_instantiate" ref="a0535070a839949dd2bd0850516ada33f" args="(struct ll_statahead_info *sai, struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_instantiate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00563">563</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="statahead_8c_source.html#l00132">agl_should_run()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="statahead_8c_source.html#l00371">ll_agl_add()</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__lib_8c_source.html#l02284">ll_prep_inode()</a>, <a class="el" href="llite__internal_8h_source.html#l01379">ll_set_lock_data()</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="obd__class_8h_source.html#l01599">md_revalidate_lock()</a>, <a class="el" href="obd_8h_source.html#l00861">md_enqueue_info::mi_data</a>, <a class="el" href="obd_8h_source.html#l00862">md_enqueue_info::mi_it</a>, <a class="el" href="obd_8h_source.html#l00804">md_op_data::op_fid2</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="statahead_8c_source.html#l00342">sa_make_ready()</a>, <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>, <a class="el" href="statahead_8c_source.html#l00072">sa_entry::se_handle</a>, <a class="el" href="statahead_8c_source.html#l00070">sa_entry::se_index</a>, <a class="el" href="statahead_8c_source.html#l00082">sa_entry::se_inode</a>, <a class="el" href="statahead_8c_source.html#l00078">sa_entry::se_minfo</a>, <a class="el" href="statahead_8c_source.html#l00084">sa_entry::se_qstr</a>, <a class="el" href="statahead_8c_source.html#l00080">sa_entry::se_req</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00625">sa_handle_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="adba46c16aaead5fd73153686f7a058f9"></a><!-- doxytag: member="statahead.c::sa_kill" ref="adba46c16aaead5fd73153686f7a058f9" args="(struct ll_statahead_info *sai, struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_kill </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00262">262</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="statahead_8c_source.html#l00228">sa_free()</a>, <a class="el" href="statahead_8c_source.html#l00098">sa_ready()</a>, <a class="el" href="statahead_8c_source.html#l00123">sa_unhash()</a>, <a class="el" href="statahead_8c_source.html#l00092">sa_unhashed()</a>, <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>, <a class="el" href="statahead_8c_source.html#l00082">sa_entry::se_inode</a>, and <a class="el" href="statahead_8c_source.html#l00066">sa_entry::se_list</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00468">ll_sai_put()</a>, and <a class="el" href="statahead_8c_source.html#l00284">sa_put()</a>.</p>

</div>
</div>
<a class="anchor" id="a0e127ef7d9cacf67b90534ee4dd00687"></a><!-- doxytag: member="statahead.c::sa_lookup" ref="a0e127ef7d9cacf67b90534ee4dd00687" args="(struct inode *dir, struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sa_lookup </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00763">763</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="obd__class_8h_source.html#l01588">md_intent_getattr_async()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="statahead_8c_source.html#l00716">sa_fini_data()</a>, and <a class="el" href="statahead_8c_source.html#l00726">sa_prep_data()</a>.</p>

<p>Referenced by <a class="el" href="osd__object_8c_source.html#l00186">__osd_object_attr_get()</a>, <a class="el" href="osd__xattr_8c_source.html#l00150">__osd_xattr_get_large()</a>, <a class="el" href="osd__xattr_8c_source.html#l00072">__osd_xattr_load()</a>, <a class="el" href="osd__xattr_8c_source.html#l00477">__osd_xattr_set()</a>, <a class="el" href="osd__index_8c_source.html#l00324">osd_find_parent_by_dnode()</a>, <a class="el" href="osd__index_8c_source.html#l00242">osd_get_fid_by_oid()</a>, <a class="el" href="osd__object_8c_source.html#l00088">osd_object_sa_init()</a>, and <a class="el" href="statahead_8c_source.html#l00830">sa_statahead()</a>.</p>

</div>
</div>
<a class="anchor" id="aab8e2d0d4774dff0eaaa2c7ddcae3bc8"></a><!-- doxytag: member="statahead.c::sa_low_hit" ref="aab8e2d0d4774dff0eaaa2c7ddcae3bc8" args="(struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sa_low_hit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(1) hit ratio less than 80% or (2) consecutive miss more than 8 then means low hit. </p>

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00168">168</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l01204">ll_statahead_info::sai_consecutive_miss</a>, <a class="el" href="llite__internal_8h_source.html#l01195">ll_statahead_info::sai_hit</a>, and <a class="el" href="llite__internal_8h_source.html#l01196">ll_statahead_info::sai_miss</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a9436fdee2d607eb930467c7685ed9229"></a><!-- doxytag: member="statahead.c::sa_make_ready" ref="a9436fdee2d607eb930467c7685ed9229" args="(struct ll_statahead_info *sai, struct sa_entry *entry, int ret)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_make_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ret</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00342">342</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="statahead_8c_source.html#l00316">__sa_make_ready()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="obd_8h_source.html#l00864">md_enqueue_info::mi_dir</a>, <a class="el" href="obd_8h_source.html#l00862">md_enqueue_info::mi_it</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>, <a class="el" href="llite__internal_8h_source.html#l01213">ll_statahead_info::sai_waitq</a>, <a class="el" href="statahead_8c_source.html#l00078">sa_entry::se_minfo</a>, and <a class="el" href="statahead_8c_source.html#l00080">sa_entry::se_req</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00563">sa_instantiate()</a>, and <a class="el" href="statahead_8c_source.html#l00830">sa_statahead()</a>.</p>

</div>
</div>
<a class="anchor" id="a5d7b2be6f4a269df598917e3b7e40ea1"></a><!-- doxytag: member="statahead.c::sa_prep_data" ref="a5d7b2be6f4a269df598917e3b7e40ea1" args="(struct inode *dir, struct inode *child, struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmd__enqueue__info.html">md_enqueue_info</a>* sa_prep_data </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00726">726</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="lustre__dlm_8h_source.html#l01099">ldlm_enqueue_info::ei_cb_bl</a>, <a class="el" href="lustre__dlm_8h_source.html#l01101">ldlm_enqueue_info::ei_cb_cp</a>, <a class="el" href="lustre__dlm_8h_source.html#l01102">ldlm_enqueue_info::ei_cb_gl</a>, <a class="el" href="lustre__dlm_8h_source.html#l01103">ldlm_enqueue_info::ei_cbdata</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="obd_8h_source.html#l00767">it_to_lock_mode()</a>, <a class="el" href="ldlm__request_8c_source.html#l00230">ldlm_completion_ast()</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, <a class="el" href="llite__lib_8c_source.html#l02440">ll_prep_md_op_data()</a>, <a class="el" href="statahead_8c_source.html#l00653">ll_statahead_interpret()</a>, <a class="el" href="llite__internal_8h_source.html#l00940">LUSTRE_OPC_ANY</a>, <a class="el" href="obd_8h_source.html#l00866">md_enqueue_info::mi_cb</a>, <a class="el" href="obd_8h_source.html#l00867">md_enqueue_info::mi_cbdata</a>, <a class="el" href="obd_8h_source.html#l00861">md_enqueue_info::mi_data</a>, <a class="el" href="obd_8h_source.html#l00864">md_enqueue_info::mi_dir</a>, <a class="el" href="obd_8h_source.html#l00865">md_enqueue_info::mi_einfo</a>, <a class="el" href="obd_8h_source.html#l00862">md_enqueue_info::mi_it</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00804">md_op_data::op_fid2</a>, and <a class="el" href="statahead_8c_source.html#l00086">sa_entry::se_fid</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00763">sa_lookup()</a>, and <a class="el" href="statahead_8c_source.html#l00787">sa_revalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c2235d58c69d8ac1d2f66023a5f7b7a"></a><!-- doxytag: member="statahead.c::sa_put" ref="a1c2235d58c69d8ac1d2f66023a5f7b7a" args="(struct ll_statahead_info *sai, struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00284">284</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="statahead_8c_source.html#l00178">is_omitted_entry()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l00570">ll_sb_info::ll_sa_max</a>, <a class="el" href="statahead_8c_source.html#l00055">SA_ENTRY_SUCC</a>, <a class="el" href="statahead_8c_source.html#l00262">sa_kill()</a>, <a class="el" href="llite__internal_8h_source.html#l01204">ll_statahead_info::sai_consecutive_miss</a>, <a class="el" href="llite__internal_8h_source.html#l01185">ll_statahead_info::sai_dentry</a>, <a class="el" href="llite__internal_8h_source.html#l01219">ll_statahead_info::sai_entries</a>, <a class="el" href="llite__internal_8h_source.html#l01195">ll_statahead_info::sai_hit</a>, <a class="el" href="llite__internal_8h_source.html#l01188">ll_statahead_info::sai_max</a>, <a class="el" href="llite__internal_8h_source.html#l01196">ll_statahead_info::sai_miss</a>, <a class="el" href="llite__internal_8h_source.html#l01214">ll_statahead_info::sai_thread</a>, <a class="el" href="statahead_8c_source.html#l00070">sa_entry::se_index</a>, <a class="el" href="statahead_8c_source.html#l00074">sa_entry::se_state</a>, and <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l01394">revalidate_statahead_dentry()</a>.</p>

</div>
</div>
<a class="anchor" id="abbb1c3aa9f4f395b9401c7a690d0afb2"></a><!-- doxytag: member="statahead.c::sa_ready" ref="abbb1c3aa9f4f395b9401c7a690d0afb2" args="(struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sa_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00098">98</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="statahead_8c_source.html#l00054">SA_ENTRY_INIT</a>, and <a class="el" href="statahead_8c_source.html#l00074">sa_entry::se_state</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00316">__sa_make_ready()</a>, <a class="el" href="statahead_8c_source.html#l01394">revalidate_statahead_dentry()</a>, and <a class="el" href="statahead_8c_source.html#l00262">sa_kill()</a>.</p>

</div>
</div>
<a class="anchor" id="ae073fc694f6556730bfd8d35de90f36b"></a><!-- doxytag: member="statahead.c::sa_rehash" ref="ae073fc694f6556730bfd8d35de90f36b" args="(struct ll_statahead_info *sai, struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_rehash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00112">112</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="statahead_8c_source.html#l00105">sa_hash()</a>, <a class="el" href="llite__internal_8h_source.html#l01221">ll_statahead_info::sai_cache</a>, <a class="el" href="llite__internal_8h_source.html#l01222">ll_statahead_info::sai_cache_lock</a>, <a class="el" href="statahead_8c_source.html#l00068">sa_entry::se_hash</a>, and <a class="el" href="statahead_8c_source.html#l00084">sa_entry::se_qstr</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00186">sa_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ba0059b1c3a6d36cb2f4f2ae0243fc6"></a><!-- doxytag: member="statahead.c::sa_revalidate" ref="a8ba0059b1c3a6d36cb2f4f2ae0243fc6" args="(struct inode *dir, struct sa_entry *entry, struct dentry *dentry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sa_revalidate </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>async stat for file found in dcache, similar to .revalidate </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>dentry valid, no RPC sent </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>dentry invalid, will send async stat RPC </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number upon error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00787">787</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="llite__internal_8h_source.html#l01100">ll_i2mdexp()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="obd__class_8h_source.html#l01588">md_intent_getattr_async()</a>, <a class="el" href="obd__class_8h_source.html#l01599">md_revalidate_lock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="statahead_8c_source.html#l00716">sa_fini_data()</a>, <a class="el" href="statahead_8c_source.html#l00726">sa_prep_data()</a>, <a class="el" href="statahead_8c_source.html#l00072">sa_entry::se_handle</a>, <a class="el" href="statahead_8c_source.html#l00082">sa_entry::se_inode</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00830">sa_statahead()</a>.</p>

</div>
</div>
<a class="anchor" id="a72270094e083deafe685afc41cf3aa94"></a><!-- doxytag: member="statahead.c::sa_sent_full" ref="a72270094e083deafe685afc41cf3aa94" args="(struct ll_statahead_info *sai)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sa_sent_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00146">146</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l01223">ll_statahead_info::sai_cache_count</a>, and <a class="el" href="llite__internal_8h_source.html#l01188">ll_statahead_info::sai_max</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a78a306d3fa998eedf1eec70e417525df"></a><!-- doxytag: member="statahead.c::sa_statahead" ref="a78a306d3fa998eedf1eec70e417525df" args="(struct dentry *parent, const char *name, int len, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_statahead </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00830">830</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="statahead_8c_source.html#l00132">agl_should_run()</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="statahead_8c_source.html#l00371">ll_agl_add()</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l00176">ll_inode_info::lli_sai</a>, <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>, <a class="el" href="statahead_8c_source.html#l00186">sa_alloc()</a>, <a class="el" href="statahead_8c_source.html#l00763">sa_lookup()</a>, <a class="el" href="statahead_8c_source.html#l00342">sa_make_ready()</a>, <a class="el" href="statahead_8c_source.html#l00787">sa_revalidate()</a>, <a class="el" href="llite__internal_8h_source.html#l01192">ll_statahead_info::sai_index</a>, <a class="el" href="llite__internal_8h_source.html#l01189">ll_statahead_info::sai_sent</a>, <a class="el" href="statahead_8c_source.html#l00070">sa_entry::se_index</a>, and <a class="el" href="statahead_8c_source.html#l00084">sa_entry::se_qstr</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a3fd33195eb2f2866a50af9c72234b567"></a><!-- doxytag: member="statahead.c::sa_unhash" ref="a3fd33195eb2f2866a50af9c72234b567" args="(struct ll_statahead_info *sai, struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sa_unhash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structll__statahead__info.html">ll_statahead_info</a> *&nbsp;</td>
          <td class="paramname"> <em>sai</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00123">123</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="statahead_8c_source.html#l00105">sa_hash()</a>, <a class="el" href="llite__internal_8h_source.html#l01222">ll_statahead_info::sai_cache_lock</a>, <a class="el" href="statahead_8c_source.html#l00068">sa_entry::se_hash</a>, and <a class="el" href="statahead_8c_source.html#l00084">sa_entry::se_qstr</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00262">sa_kill()</a>.</p>

</div>
</div>
<a class="anchor" id="a0136b60627d88661abb6113c3302e15e"></a><!-- doxytag: member="statahead.c::sa_unhashed" ref="a0136b60627d88661abb6113c3302e15e" args="(struct sa_entry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sa_unhashed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsa__entry.html">sa_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00092">92</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, and <a class="el" href="statahead_8c_source.html#l00068">sa_entry::se_hash</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00228">sa_free()</a>, and <a class="el" href="statahead_8c_source.html#l00262">sa_kill()</a>.</p>

</div>
</div>
<a class="anchor" id="ab63b46d65547b82d7ea01c1546ab2f72"></a><!-- doxytag: member="statahead.c::start_statahead_thread" ref="ab63b46d65547b82d7ea01c1546ab2f72" args="(struct inode *dir, struct dentry *dentry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int start_statahead_thread </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l01534">1534</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux_2libcfs_8h_source.html#l00145">current_pid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="statahead_8c_source.html#l01263">is_first_dirent()</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="llite__internal_8h_source.html#l00332">ll_i2info()</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l00575">ll_sb_info::ll_sa_running</a>, <a class="el" href="statahead_8c_source.html#l00400">ll_sai_alloc()</a>, <a class="el" href="statahead_8c_source.html#l00439">ll_sai_free()</a>, <a class="el" href="statahead_8c_source.html#l00468">ll_sai_put()</a>, <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>, <a class="el" href="llite__internal_8h_source.html#l00175">ll_inode_info::lli_opendir_key</a>, <a class="el" href="llite__internal_8h_source.html#l00181">ll_inode_info::lli_opendir_pid</a>, <a class="el" href="llite__internal_8h_source.html#l00187">ll_inode_info::lli_sa_enabled</a>, <a class="el" href="llite__internal_8h_source.html#l00178">ll_inode_info::lli_sa_lock</a>, <a class="el" href="llite__internal_8h_source.html#l00176">ll_inode_info::lli_sai</a>, <a class="el" href="statahead_8c_source.html#l01259">LS_FIRST_DOT_DE</a>, <a class="el" href="statahead_8c_source.html#l01251">LS_NOT_FIRST_DE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="llite__internal_8h_source.html#l01209">ll_statahead_info::sai_ls_all</a>, <a class="el" href="llite__internal_8h_source.html#l01214">ll_statahead_info::sai_thread</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l01624">ll_statahead()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a693131c45e26fe7ca06059766942aa30"></a><!-- doxytag: member="statahead.c::sai_generation" ref="a693131c45e26fe7ca06059766942aa30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="statahead_8c.html#a693131c45e26fe7ca06059766942aa30">sai_generation</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="statahead_8c_source.html#l00089">89</a> of file <a class="el" href="statahead_8c_source.html">statahead.c</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00400">ll_sai_alloc()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
