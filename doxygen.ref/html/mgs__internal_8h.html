<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/mgs/mgs_internal.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/mgs/mgs_internal.h File Reference</h1><code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__export_8h_source.html">lustre_export.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__nodemap_8h_source.html">lustre_nodemap.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dt__object_8h_source.html">dt_object.h</a>&gt;</code><br/>

<p><a href="mgs__internal_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__nidtbl__target.html">mgs_nidtbl_target</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__fsc.html">mgs_fsc</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">maintain fs client nodes of mgs.  <a href="structmgs__fsc.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__nidtbl.html">mgs_nidtbl</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__tgt__srpc__conf.html">mgs_tgt_srpc_conf</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfs__db.html">fs_db</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__device.html">mgs_device</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__object.html">mgs_object</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtemp__comp.html">temp_comp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__thread__info.html">mgs_thread_info</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__direntry.html">mgs_direntry</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a6178881c8c5cd75b0bbb30bf5dc5c1b6">MGSSELF_NAME</a>&nbsp;&nbsp;&nbsp;&quot;_mgs&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a29a0ac87775c9f48307e18f0e71b3296">MGS_SERVICE_WATCHDOG_FACTOR</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a6b62506855c6ca37b3ec6282147b3fe7">IR_STRINGS</a>&nbsp;&nbsp;&nbsp;{ &quot;full&quot;, &quot;startup&quot;, &quot;disabled&quot;, &quot;partial&quot; }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a3dfc47aefaa15a5d22b977f7fda351cd">INDEX_MAP_SIZE</a>&nbsp;&nbsp;&nbsp;8192</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#aa12e1acfb51221cfc608f3d504dcd0ed">FSDB_LOG_EMPTY</a>&nbsp;&nbsp;&nbsp;(0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a1cc19987c7754878e67ab9ee8f60c007">FSDB_OLDLOG14</a>&nbsp;&nbsp;&nbsp;(1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a69f96b1e69299d4ea2df6ad82fcfeffe">FSDB_REVOKING_LOCK</a>&nbsp;&nbsp;&nbsp;(2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a77b704e53907ccae77e04ce057586bf1">FSDB_MGS_SELF</a>&nbsp;&nbsp;&nbsp;(3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a8fd23ee5e4bcf0cf4e6e76a62b1a9fe5">FSDB_OSCNAME18</a>&nbsp;&nbsp;&nbsp;(4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a3e667ffe96fa90a424da047ad11ef00f">FSDB_UDESC</a>&nbsp;&nbsp;&nbsp;(5)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a40b2b9616d9b65826f7cae6de5dd63cc">FSDB_REVOKING_PARAMS</a>&nbsp;&nbsp;&nbsp;(6)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="mgs__internal_8h.html#afb24d298ddd4bc4ff61aa333f07a574aa14d09ab0186a4ef9b78f08bf7b29c283">IR_FULL</a> =  0, 
<a class="el" href="mgs__internal_8h.html#afb24d298ddd4bc4ff61aa333f07a574aa383868fd27a7a15b67839c2dcbddf491">IR_STARTUP</a>, 
<a class="el" href="mgs__internal_8h.html#afb24d298ddd4bc4ff61aa333f07a574aa1285682cfb8069140e5a02db4c8f2bda">IR_DISABLED</a>, 
<a class="el" href="mgs__internal_8h.html#afb24d298ddd4bc4ff61aa333f07a574aa3718401d33d00217e7bfd9d50d304cdd">IR_PARTIAL</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br/>
&nbsp;&nbsp;<a class="el" href="mgs__internal_8h.html#a39b4e25c4e8f5fed29720be17a532fa8a16591f00801ccb32a813918250eb79c4">LPROC_MGS_CONNECT</a> =  0, 
<a class="el" href="mgs__internal_8h.html#a39b4e25c4e8f5fed29720be17a532fa8a39e07d6d6ad9a0e86e5b5b86e8359ab8">LPROC_MGS_DISCONNECT</a>, 
<a class="el" href="mgs__internal_8h.html#a39b4e25c4e8f5fed29720be17a532fa8a2d2692537c93f67648239a80fc6c583f">LPROC_MGS_EXCEPTION</a>, 
<a class="el" href="mgs__internal_8h.html#a39b4e25c4e8f5fed29720be17a532fa8ae74863e82d57286bc58076a02941933c">LPROC_MGS_TARGET_REG</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="mgs__internal_8h.html#a39b4e25c4e8f5fed29720be17a532fa8a615d8fef695ab916b23d70c57cbf7910">LPROC_MGS_TARGET_DEL</a>, 
<a class="el" href="mgs__internal_8h.html#a39b4e25c4e8f5fed29720be17a532fa8a3165ef8c5c101eccf5df671fb8e340d8">LPROC_MGS_LAST</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a5c9e2484ce204edeb5dc7185831719a1">mgs_init_fsdb_list</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#afa7678d5f1d68f54cf5f98a7388bb651">mgs_cleanup_fsdb_list</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#ab228c39ab2c69f7ba760d0b88750a963">mgs__mgs_fsdb_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a9af54b176b554d2b46c5fc91edc7f464">mgs_params_fsdb_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a359aefa66a460606e71f68466cc4d89c">mgs_params_fsdb_cleanup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a107716042db393c8f668b5b7814aa658">mgs_find_or_make_fsdb</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structfs__db.html">fs_db</a> **dbh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a8b37e12b5b7a94ce7e6946f203dc86fc">mgs_find_fsdb</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a3df6f9335897c02496fd461a589dd8a8">mgs_get_fsdb_srpc_from_llog</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a355055ca7a6812de38e92bb76592b01c">mgs_check_index</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a0461e5074dbc242d61ef52bcde4a7b18">mgs_check_failnid</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a8a7b9bad6f6e196cb05763a3ffcbc314">mgs_write_log_target</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#aab1054f700a85f1bf9c563bede07f3ac">mgs_replace_nids</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *nids)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Replace nids for <em>device</em> to <em>nids</em> values.  <a href="#aab1054f700a85f1bf9c563bede07f3ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a3dfc2b78e1d6157dbf1ed8ee8a24d023">mgs_erase_log</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a4d03e292513a24e2b3766be2a6581753">mgs_erase_logs</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a2e5f5baf1f1daddf5d3cbe391f1b2463">mgs_setparam</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a5ce5801b186fc109148b67f3ab22a094">mgs_list_logs</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structobd__ioctl__data.html">obd_ioctl_data</a> *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#afd81ce3ad969879ca9a786b2a37fbd61">mgs_pool_cmd</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a> <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, char *<a class="el" href="llapi__layout__test_8c.html#a9d096844ad7d6672fe415306cd352062">poolname</a>, char *fsname, char *ostname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a9e1cabd4707ace3138f62d12eb4a2882">mgs_nodemap_cmd</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a> <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, const char *nodemap_name, char *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#acb1ab19140decbbfd20b68ae9387d346">mgs_get_lock</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a> *res, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a7a9b4c480fa530f59d5fb48a6c4ed721">mgs_put_lock</a> (struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a24564015dd4363b47c2da61a40b55421">mgs_revoke_lock</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, int type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a23cb17395ac476421e2be760747d98f5">mgs_ir_update</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#ad73b0228beb2fb6fb3b4b9dad025fde5">mgs_ir_init_fs</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a1ecfe16762c3e19e559c17066fb0e917">mgs_ir_fini_fs</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a9921820a7627bb61d950e4348a549669">mgs_ir_notify_complete</a> (struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a54b4462c5931809e87dac0ef4d188674">mgs_get_ir_logs</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a6253023dd4dd371cf5d88158cf487db8">lprocfs_wr_ir_state</a> (struct file *file, const char __user *buffer, size_t count, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#ab0fe5d54aeb9b89e4ad277bcfc67ebfe">lprocfs_rd_ir_state</a> (struct seq_file *seq, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a3bff4d3994d47d1ae9b5369a18433309">lprocfs_ir_timeout_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a05a6780b134435db9a50593c521de244">lprocfs_ir_timeout_seq_show</a> (struct seq_file *seq, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a2e87c901daed10df54f27602f7358244">mgs_fsc_cleanup</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a4895da9f3960c0bbf55168c07d162b68">mgs_fsc_cleanup_by_fsdb</a> (struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a451023afa1a4b3ed8fe2acc59209fcbc">mgs_fsc_attach</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a5a8830bda8417b922d9479c4b21c1a76">mgs_export_stats_init</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, void *localdata)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize MGS per-export statistics.  <a href="#a5a8830bda8417b922d9479c4b21c1a76"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a15ea7f3d74881bda1500faace0ffedee">mgs_client_free</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#aaeecd9eab85b09fce8c21042fb25af0b">mgs_fs_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#acb83f5eeb3e4d400df0300403a05d34b">mgs_fs_cleanup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a0813661bfe1ace2d7471049bc8101104">lproc_mgs_setup</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, const char *osd_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a61b2f1b20f1e6497577f000534f6d217">lproc_mgs_cleanup</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a1557a9543b9faad4bf94e04e81c0c057">lproc_mgs_add_live</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a055877f12e70c0b746b5ef9c1354f5eb">lproc_mgs_del_live</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#afa30fa04c3503cf54ddfb4ff86638ff4">mgs_counter_incr</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, int opcode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a967132bbb25ffa6c0b7c25bd76011d95">mgs_stats_counter_init</a> (struct <a class="el" href="structlprocfs__stats.html">lprocfs_stats</a> *stats)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmgs__thread__info.html">mgs_thread_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a6885c23f00a4030e74a6d9246b8765c9">mgs_env_info</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a8ddf7be26c84121f07da3f9117bf3b49">lu_device_is_mgs</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a4ea581f7c334a8455e2728ba72901bba">lu2mgs_dev</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a5b5e08db67a4c5521a3c341b6fcf00e9">exp2mgs_dev</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a679ae1ed7c4e4c97be50403ddb70ce47">mgs2lu_dev</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a4b434a46831d5d49cdff4ca8d358775a">dt2mgs_dev</a> (struct <a class="el" href="structdt__device.html">dt_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmgs__object.html">mgs_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a4bb5718d07d754fe87725bea616ce482">lu2mgs_obj</a> (struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#ad877ed5674db7229c9c9266c2a265bf6">mgs2lu_obj</a> (struct <a class="el" href="structmgs__object.html">mgs_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmgs__object.html">mgs_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a8b17407272acb7505a03aacc2eaef0a4">mgs_obj</a> (const struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmgs__object.html">mgs_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a087c5c55b5fac3038b40d361b539f089">dt2mgs_obj</a> (const struct <a class="el" href="structdt__object.html">dt_object</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#ac9abc5bae403f36738f0686a6caa5113">mgs_object_child</a> (struct <a class="el" href="structmgs__object.html">mgs_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a87b93e965a82acd770f14b113dde3838">mgs_direntry_free</a> (struct <a class="el" href="structmgs__direntry.html">mgs_direntry</a> *de)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmgs__direntry.html">mgs_direntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a6c2e03be4a1b5575757377d578f6b409">mgs_direntry_alloc</a> (int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a18c5e0d8e0c6ee61af146dd2cf3d3822">class_dentry_readdir</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structlist__head.html">list_head</a> *<a class="el" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__context__key.html">lu_context_key</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#aa6c73279894a584161b186e4e599ccb0">mgs_thread_key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__internal_8h.html#a3e80e13389d10ae68e09c47b9617236b">mgs_lu_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aa12e1acfb51221cfc608f3d504dcd0ed"></a><!-- doxytag: member="mgs_internal.h::FSDB_LOG_EMPTY" ref="aa12e1acfb51221cfc608f3d504dcd0ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSDB_LOG_EMPTY&nbsp;&nbsp;&nbsp;(0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00115">115</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00483">mgs_check_index()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, <a class="el" href="mgs__llog_8c_source.html#l00530">mgs_set_index()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>.</p>

</div>
</div>
<a class="anchor" id="a77b704e53907ccae77e04ce057586bf1"></a><!-- doxytag: member="mgs_internal.h::FSDB_MGS_SELF" ref="a77b704e53907ccae77e04ce057586bf1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSDB_MGS_SELF&nbsp;&nbsp;&nbsp;(3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00118">118</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__nids_8c_source.html#l00487">mgs_ir_fini_fs()</a>, <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>, <a class="el" href="mgs__llog_8c_source.html#l03087">mgs_srpc_set_param()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02999">mgs_srpc_set_param_mem()</a>.</p>

</div>
</div>
<a class="anchor" id="a1cc19987c7754878e67ab9ee8f60c007"></a><!-- doxytag: member="mgs_internal.h::FSDB_OLDLOG14" ref="a1cc19987c7754878e67ab9ee8f60c007" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSDB_OLDLOG14&nbsp;&nbsp;&nbsp;(1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00116">116</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="a8fd23ee5e4bcf0cf4e6e76a62b1a9fe5"></a><!-- doxytag: member="mgs_internal.h::FSDB_OSCNAME18" ref="a8fd23ee5e4bcf0cf4e6e76a62b1a9fe5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSDB_OSCNAME18&nbsp;&nbsp;&nbsp;(4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00119">119</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00161">mgs_fsdb_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02026">name_create_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02036">name_create_mdt_and_lov()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02056">name_create_mdt_osc()</a>.</p>

</div>
</div>
<a class="anchor" id="a69f96b1e69299d4ea2df6ad82fcfeffe"></a><!-- doxytag: member="mgs_internal.h::FSDB_REVOKING_LOCK" ref="a69f96b1e69299d4ea2df6ad82fcfeffe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSDB_REVOKING_LOCK&nbsp;&nbsp;&nbsp;(2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00117">117</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00166">mgs_completion_ast_generic()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00227">mgs_revoke_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a40b2b9616d9b65826f7cae6de5dd63cc"></a><!-- doxytag: member="mgs_internal.h::FSDB_REVOKING_PARAMS" ref="a40b2b9616d9b65826f7cae6de5dd63cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSDB_REVOKING_PARAMS&nbsp;&nbsp;&nbsp;(6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00121">121</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00166">mgs_completion_ast_generic()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00227">mgs_revoke_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a3e667ffe96fa90a424da047ad11ef00f"></a><!-- doxytag: member="mgs_internal.h::FSDB_UDESC" ref="a3e667ffe96fa90a424da047ad11ef00f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSDB_UDESC&nbsp;&nbsp;&nbsp;(5)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00120">120</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02964">mgs_srpc_set_param_udesc_mem()</a>.</p>

</div>
</div>
<a class="anchor" id="a3dfc47aefaa15a5d22b977f7fda351cd"></a><!-- doxytag: member="mgs_internal.h::INDEX_MAP_SIZE" ref="a3dfc47aefaa15a5d22b977f7fda351cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INDEX_MAP_SIZE&nbsp;&nbsp;&nbsp;8192</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00113">113</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, <a class="el" href="mgs__llog_8c_source.html#l01205">mgs_replace_nids()</a>, <a class="el" href="mgs__llog_8c_source.html#l00530">mgs_set_index()</a>, <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b62506855c6ca37b3ec6282147b3fe7"></a><!-- doxytag: member="mgs_internal.h::IR_STRINGS" ref="a6b62506855c6ca37b3ec6282147b3fe7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IR_STRINGS&nbsp;&nbsp;&nbsp;{ &quot;full&quot;, &quot;startup&quot;, &quot;disabled&quot;, &quot;partial&quot; }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00071">71</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__nids_8c_source.html#l00688">lprocfs_ir_set_state()</a>, and <a class="el" href="mgs__nids_8c_source.html#l00798">lprocfs_rd_ir_state()</a>.</p>

</div>
</div>
<a class="anchor" id="a29a0ac87775c9f48307e18f0e71b3296"></a><!-- doxytag: member="mgs_internal.h::MGS_SERVICE_WATCHDOG_FACTOR" ref="a29a0ac87775c9f48307e18f0e71b3296" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MGS_SERVICE_WATCHDOG_FACTOR&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00048">48</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a6178881c8c5cd75b0bbb30bf5dc5c1b6"></a><!-- doxytag: member="mgs_internal.h::MGSSELF_NAME" ref="a6178881c8c5cd75b0bbb30bf5dc5c1b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MGSSELF_NAME&nbsp;&nbsp;&nbsp;&quot;_mgs&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00046">46</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03927">mgs__mgs_fsdb_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02999">mgs_srpc_set_param_mem()</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="afb24d298ddd4bc4ff61aa333f07a574a"></a><!-- doxytag: member="mgs_internal.h::@126" ref="afb24d298ddd4bc4ff61aa333f07a574a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="afb24d298ddd4bc4ff61aa333f07a574aa14d09ab0186a4ef9b78f08bf7b29c283"></a><!-- doxytag: member="IR_FULL" ref="afb24d298ddd4bc4ff61aa333f07a574aa14d09ab0186a4ef9b78f08bf7b29c283" args="" -->IR_FULL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afb24d298ddd4bc4ff61aa333f07a574aa383868fd27a7a15b67839c2dcbddf491"></a><!-- doxytag: member="IR_STARTUP" ref="afb24d298ddd4bc4ff61aa333f07a574aa383868fd27a7a15b67839c2dcbddf491" args="" -->IR_STARTUP</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afb24d298ddd4bc4ff61aa333f07a574aa1285682cfb8069140e5a02db4c8f2bda"></a><!-- doxytag: member="IR_DISABLED" ref="afb24d298ddd4bc4ff61aa333f07a574aa1285682cfb8069140e5a02db4c8f2bda" args="" -->IR_DISABLED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afb24d298ddd4bc4ff61aa333f07a574aa3718401d33d00217e7bfd9d50d304cdd"></a><!-- doxytag: member="IR_PARTIAL" ref="afb24d298ddd4bc4ff61aa333f07a574aa3718401d33d00217e7bfd9d50d304cdd" args="" -->IR_PARTIAL</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00064">64</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a39b4e25c4e8f5fed29720be17a532fa8"></a><!-- doxytag: member="mgs_internal.h::@127" ref="a39b4e25c4e8f5fed29720be17a532fa8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a39b4e25c4e8f5fed29720be17a532fa8a16591f00801ccb32a813918250eb79c4"></a><!-- doxytag: member="LPROC_MGS_CONNECT" ref="a39b4e25c4e8f5fed29720be17a532fa8a16591f00801ccb32a813918250eb79c4" args="" -->LPROC_MGS_CONNECT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a39b4e25c4e8f5fed29720be17a532fa8a39e07d6d6ad9a0e86e5b5b86e8359ab8"></a><!-- doxytag: member="LPROC_MGS_DISCONNECT" ref="a39b4e25c4e8f5fed29720be17a532fa8a39e07d6d6ad9a0e86e5b5b86e8359ab8" args="" -->LPROC_MGS_DISCONNECT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a39b4e25c4e8f5fed29720be17a532fa8a2d2692537c93f67648239a80fc6c583f"></a><!-- doxytag: member="LPROC_MGS_EXCEPTION" ref="a39b4e25c4e8f5fed29720be17a532fa8a2d2692537c93f67648239a80fc6c583f" args="" -->LPROC_MGS_EXCEPTION</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a39b4e25c4e8f5fed29720be17a532fa8ae74863e82d57286bc58076a02941933c"></a><!-- doxytag: member="LPROC_MGS_TARGET_REG" ref="a39b4e25c4e8f5fed29720be17a532fa8ae74863e82d57286bc58076a02941933c" args="" -->LPROC_MGS_TARGET_REG</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a39b4e25c4e8f5fed29720be17a532fa8a615d8fef695ab916b23d70c57cbf7910"></a><!-- doxytag: member="LPROC_MGS_TARGET_DEL" ref="a39b4e25c4e8f5fed29720be17a532fa8a615d8fef695ab916b23d70c57cbf7910" args="" -->LPROC_MGS_TARGET_DEL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a39b4e25c4e8f5fed29720be17a532fa8a3165ef8c5c101eccf5df671fb8e340d8"></a><!-- doxytag: member="LPROC_MGS_LAST" ref="a39b4e25c4e8f5fed29720be17a532fa8a3165ef8c5c101eccf5df671fb8e340d8" args="" -->LPROC_MGS_LAST</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00275">275</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a18c5e0d8e0c6ee61af146dd2cf3d3822"></a><!-- doxytag: member="mgs_internal.h::class_dentry_readdir" ref="a18c5e0d8e0c6ee61af146dd2cf3d3822" args="(const struct lu_env *env, struct mgs_device *mgs, struct list_head *list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int class_dentry_readdir </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00059">59</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a74b9db7e1791f6accf99c80a3a0c43e2">dt_index_operations::dt_it_ops::init</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="lustre__idl_8h_source.html#l00872">LUDA_64BITHASH</a>, <a class="el" href="mgs__internal_8h_source.html#l00376">mgs_direntry::mde_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00377">mgs_direntry::mde_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00166">mgs_device::mgs_configs_dir</a>, <a class="el" href="mgs__internal_8h_source.html#l00391">mgs_direntry_alloc()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="lustre__disk_8h_source.html#l00058">MOUNT_CONFIGS_DIR</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, <a class="el" href="mgs__llog_8c_source.html#l03868">mgs_list_logs()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01449">mgs_write_log_direct_all()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b434a46831d5d49cdff4ca8d358775a"></a><!-- doxytag: member="mgs_internal.h::dt2mgs_dev" ref="a4b434a46831d5d49cdff4ca8d358775a" args="(struct dt_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmgs__device.html">mgs_device</a>* dt2mgs_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00341">341</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mgs__internal_8h_source.html#l00320">lu_device_is_mgs()</a>, and <a class="el" href="mgs__internal_8h_source.html#l00162">mgs_device::mgs_dt_dev</a>.</p>

</div>
</div>
<a class="anchor" id="a087c5c55b5fac3038b40d361b539f089"></a><!-- doxytag: member="mgs_internal.h::dt2mgs_obj" ref="a087c5c55b5fac3038b40d361b539f089" args="(const struct dt_object *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmgs__object.html">mgs_object</a>* dt2mgs_obj </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00364">364</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, and <a class="el" href="mgs__internal_8h_source.html#l00358">mgs_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b5e08db67a4c5521a3c341b6fcf00e9"></a><!-- doxytag: member="mgs_internal.h::exp2mgs_dev" ref="a5b5e08db67a4c5521a3c341b6fcf00e9" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmgs__device.html">mgs_device</a>* exp2mgs_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00331">331</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="mgs__internal_8h_source.html#l00325">lu2mgs_dev()</a>, and <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>.</p>

<p>Referenced by <a class="el" href="mgs__nids_8c_source.html#l00844">mgs_fsc_attach()</a>, <a class="el" href="mgs__nids_8c_source.html#l00598">mgs_get_ir_logs()</a>, <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>, <a class="el" href="mgs__handler_8c_source.html#l00102">mgs_set_info()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="a1557a9543b9faad4bf94e04e81c0c057"></a><!-- doxytag: member="mgs_internal.h::lproc_mgs_add_live" ref="a1557a9543b9faad4bf94e04e81c0c057" args="(struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lproc_mgs_add_live </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00268">268</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a61b2f1b20f1e6497577f000534f6d217"></a><!-- doxytag: member="mgs_internal.h::lproc_mgs_cleanup" ref="a61b2f1b20f1e6497577f000534f6d217" args="(struct mgs_device *mgs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lproc_mgs_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00266">266</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, and <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a055877f12e70c0b746b5ef9c1354f5eb"></a><!-- doxytag: member="mgs_internal.h::lproc_mgs_del_live" ref="a055877f12e70c0b746b5ef9c1354f5eb" args="(struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lproc_mgs_del_live </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00270">270</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a0813661bfe1ace2d7471049bc8101104"></a><!-- doxytag: member="mgs_internal.h::lproc_mgs_setup" ref="a0813661bfe1ace2d7471049bc8101104" args="(struct mgs_device *mgs, const char *osd_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lproc_mgs_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>osd_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00264">264</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a05a6780b134435db9a50593c521de244"></a><!-- doxytag: member="mgs_internal.h::lprocfs_ir_timeout_seq_show" ref="a05a6780b134435db9a50593c521de244" args="(struct seq_file *seq, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lprocfs_ir_timeout_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00830">830</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="mgs__nids_8c_source.html#l00055">ir_timeout</a>.</p>

</div>
</div>
<a class="anchor" id="a3bff4d3994d47d1ae9b5369a18433309"></a><!-- doxytag: member="mgs_internal.h::lprocfs_ir_timeout_seq_write" ref="a3bff4d3994d47d1ae9b5369a18433309" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t lprocfs_ir_timeout_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00835">835</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="mgs__nids_8c_source.html#l00055">ir_timeout</a>.</p>

</div>
</div>
<a class="anchor" id="ab0fe5d54aeb9b89e4ad277bcfc67ebfe"></a><!-- doxytag: member="mgs_internal.h::lprocfs_rd_ir_state" ref="ab0fe5d54aeb9b89e4ad277bcfc67ebfe" args="(struct seq_file *seq, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lprocfs_rd_ir_state </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00798">798</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00194">cfs_duration_usec()</a>, <a class="el" href="mgs__internal_8h_source.html#l00142">fs_db::fsdb_ir_state</a>, <a class="el" href="mgs__internal_8h_source.html#l00145">fs_db::fsdb_nidtbl</a>, <a class="el" href="mgs__internal_8h_source.html#l00141">fs_db::fsdb_nonir_clients</a>, <a class="el" href="mgs__internal_8h_source.html#l00158">fs_db::fsdb_notify_count</a>, <a class="el" href="mgs__internal_8h_source.html#l00157">fs_db::fsdb_notify_max</a>, <a class="el" href="mgs__internal_8h_source.html#l00156">fs_db::fsdb_notify_total</a>, <a class="el" href="mgs__nids_8c_source.html#l00504">ir_state_graduate()</a>, <a class="el" href="mgs__internal_8h_source.html#l00071">IR_STRINGS</a>, and <a class="el" href="mgs__internal_8h_source.html#l00102">mgs_nidtbl::mn_version</a>.</p>

</div>
</div>
<a class="anchor" id="a6253023dd4dd371cf5d88158cf487db8"></a><!-- doxytag: member="mgs_internal.h::lprocfs_wr_ir_state" ref="a6253023dd4dd371cf5d88158cf487db8" args="(struct file *file, const char __user *buffer, size_t count, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lprocfs_wr_ir_state </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00740">740</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mdsrate_8c_source.html#l00115">cmd</a>, <a class="el" href="structlproc__ir__cmd.html#a045302bd5fe8e37d25c6fbbf34253bed">lproc_ir_cmd::handler</a>, <a class="el" href="mgs__nids_8c.html#a8528cd5f96777c22d4179dbd1394a079">ir_cmds</a>, <a class="el" href="mgs__nids_8c_source.html#l00731">lproc_ir_cmd::name</a>, <a class="el" href="mgs__nids_8c_source.html#l00732">lproc_ir_cmd::namelen</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, and <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>.</p>

</div>
</div>
<a class="anchor" id="a4ea581f7c334a8455e2728ba72901bba"></a><!-- doxytag: member="mgs_internal.h::lu2mgs_dev" ref="a4ea581f7c334a8455e2728ba72901bba" args="(struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmgs__device.html">mgs_device</a>* lu2mgs_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00325">325</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mgs__internal_8h_source.html#l00320">lu_device_is_mgs()</a>, and <a class="el" href="mgs__internal_8h_source.html#l00162">mgs_device::mgs_dt_dev</a>.</p>

<p>Referenced by <a class="el" href="mgs__internal_8h_source.html#l00331">exp2mgs_dev()</a>, <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, <a class="el" href="mgs__handler_8c_source.html#l01259">mgs_device_free()</a>, <a class="el" href="mgs__handler_8c_source.html#l01539">mgs_health_check()</a>, <a class="el" href="mgs__handler_8c_source.html#l01278">mgs_object_init()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>.</p>

</div>
</div>
<a class="anchor" id="a4bb5718d07d754fe87725bea616ce482"></a><!-- doxytag: member="mgs_internal.h::lu2mgs_obj" ref="a4bb5718d07d754fe87725bea616ce482" args="(struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmgs__object.html">mgs_object</a>* lu2mgs_obj </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00347">347</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="mgs__internal_8h_source.html#l00320">lu_device_is_mgs()</a>, and <a class="el" href="mgs__internal_8h_source.html#l00185">mgs_object::mgo_obj</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01302">mgs_object_free()</a>, and <a class="el" href="mgs__handler_8c_source.html#l01312">mgs_object_print()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ddf7be26c84121f07da3f9117bf3b49"></a><!-- doxytag: member="mgs_internal.h::lu_device_is_mgs" ref="a8ddf7be26c84121f07da3f9117bf3b49" args="(struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lu_device_is_mgs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00320">320</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, and <a class="el" href="mgs__handler_8c_source.html#l01353">mgs_lu_ops</a>.</p>

<p>Referenced by <a class="el" href="mgs__internal_8h_source.html#l00341">dt2mgs_dev()</a>, <a class="el" href="mgs__internal_8h_source.html#l00325">lu2mgs_dev()</a>, <a class="el" href="mgs__internal_8h_source.html#l00347">lu2mgs_obj()</a>, and <a class="el" href="mgs__internal_8h_source.html#l00358">mgs_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a679ae1ed7c4e4c97be50403ddb70ce47"></a><!-- doxytag: member="mgs_internal.h::mgs2lu_dev" ref="a679ae1ed7c4e4c97be50403ddb70ce47" args="(struct mgs_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* mgs2lu_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00336">336</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, and <a class="el" href="mgs__internal_8h_source.html#l00162">mgs_device::mgs_dt_dev</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01358">mgs_device_alloc()</a>, and <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ad877ed5674db7229c9c9266c2a265bf6"></a><!-- doxytag: member="mgs_internal.h::mgs2lu_obj" ref="ad877ed5674db7229c9c9266c2a265bf6" args="(struct mgs_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object.html">lu_object</a>* mgs2lu_obj </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__object.html">mgs_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00353">353</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, and <a class="el" href="mgs__internal_8h_source.html#l00185">mgs_object::mgo_obj</a>.</p>

<p>Referenced by <a class="el" href="mgs__internal_8h_source.html#l00369">mgs_object_child()</a>.</p>

</div>
</div>
<a class="anchor" id="ab228c39ab2c69f7ba760d0b88750a963"></a><!-- doxytag: member="mgs_internal.h::mgs__mgs_fsdb_setup" ref="ab228c39ab2c69f7ba760d0b88750a963" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs__mgs_fsdb_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03927">3927</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__internal_8h_source.html#l00046">MGSSELF_NAME</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a0461e5074dbc242d61ef52bcde4a7b18"></a><!-- doxytag: member="mgs_internal.h::mgs_check_failnid" ref="a0461e5074dbc242d61ef52bcde4a7b18" args="(const struct lu_env *env, struct mgs_device *mgs, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_check_failnid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03690">3690</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00285">mgs_check_target()</a>.</p>

</div>
</div>
<a class="anchor" id="a355055ca7a6812de38e92bb76592b01c"></a><!-- doxytag: member="mgs_internal.h::mgs_check_index" ref="a355055ca7a6812de38e92bb76592b01c" args="(const struct lu_env *env, struct mgs_device *mgs, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_check_index </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00483">483</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00115">FSDB_LOG_EMPTY</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00127">fs_db::fsdb_ost_index_map</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__disk_8h_source.html#l00088">LDD_F_NEED_INDEX</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00285">mgs_check_target()</a>.</p>

</div>
</div>
<a class="anchor" id="afa7678d5f1d68f54cf5f98a7388bb651"></a><!-- doxytag: member="mgs_internal.h::mgs_cleanup_fsdb_list" ref="afa7678d5f1d68f54cf5f98a7388bb651" args="(struct mgs_device *mgs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_cleanup_fsdb_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00414">414</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__internal_8h_source.html#l00168">mgs_device::mgs_fs_db_list</a>, and <a class="el" href="mgs__internal_8h_source.html#l00177">mgs_device::mgs_mutex</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a15ea7f3d74881bda1500faace0ffedee"></a><!-- doxytag: member="mgs_internal.h::mgs_client_free" ref="a15ea7f3d74881bda1500faace0ffedee" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_client_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__fs_8c_source.html#l00111">111</a> of file <a class="el" href="mgs__fs_8c_source.html">mgs_fs.c</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00616">mgs_destroy_export()</a>.</p>

</div>
</div>
<a class="anchor" id="afa30fa04c3503cf54ddfb4ff86638ff4"></a><!-- doxytag: member="mgs_internal.h::mgs_counter_incr" ref="afa30fa04c3503cf54ddfb4ff86638ff4" args="(struct obd_export *exp, int opcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mgs_counter_incr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>opcode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6c2e03be4a1b5575757377d578f6b409"></a><!-- doxytag: member="mgs_internal.h::mgs_direntry_alloc" ref="a6c2e03be4a1b5575757377d578f6b409" args="(int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmgs__direntry.html">mgs_direntry</a>* mgs_direntry_alloc </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00391">391</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="mgs__internal_8h_source.html#l00378">mgs_direntry::mde_len</a>, <a class="el" href="mgs__internal_8h_source.html#l00376">mgs_direntry::mde_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00377">mgs_direntry::mde_name</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00059">class_dentry_readdir()</a>.</p>

</div>
</div>
<a class="anchor" id="a87b93e965a82acd770f14b113dde3838"></a><!-- doxytag: member="mgs_internal.h::mgs_direntry_free" ref="a87b93e965a82acd770f14b113dde3838" args="(struct mgs_direntry *de)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mgs_direntry_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__direntry.html">mgs_direntry</a> *&nbsp;</td>
          <td class="paramname"> <em>de</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00381">381</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="mgs__internal_8h_source.html#l00378">mgs_direntry::mde_len</a>, <a class="el" href="mgs__internal_8h_source.html#l00376">mgs_direntry::mde_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00377">mgs_direntry::mde_name</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, <a class="el" href="mgs__llog_8c_source.html#l03868">mgs_list_logs()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01449">mgs_write_log_direct_all()</a>.</p>

</div>
</div>
<a class="anchor" id="a6885c23f00a4030e74a6d9246b8765c9"></a><!-- doxytag: member="mgs_internal.h::mgs_env_info" ref="a6885c23f00a4030e74a6d9246b8765c9" args="(const struct lu_env *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmgs__thread__info.html">mgs_thread_info</a>* mgs_env_info </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00302">302</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>, <a class="el" href="lu__object_8c_source.html#l01889">lu_env_refill()</a>, and <a class="el" href="mgs__internal_8h.html#aa6c73279894a584161b186e4e599ccb0">mgs_thread_key</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>, <a class="el" href="mgs__handler_8c_source.html#l00783">mgs_iocontrol_pool()</a>, <a class="el" href="mgs__handler_8c_source.html#l00528">mgs_llog_open()</a>, <a class="el" href="mgs__handler_8c_source.html#l00102">mgs_set_info()</a>, <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>, <a class="el" href="mgs__llog_8c_source.html#l02846">mgs_write_log_quota()</a>, <a class="el" href="mgs__llog_8c_source.html#l02775">mgs_write_log_sys()</a>, <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>, <a class="el" href="mgs__llog_8c_source.html#l01290">record_lmv_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01272">record_lov_setup()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>.</p>

</div>
</div>
<a class="anchor" id="a3dfc2b78e1d6157dbf1ed8ee8a24d023"></a><!-- doxytag: member="mgs_internal.h::mgs_erase_log" ref="a3dfc2b78e1d6157dbf1ed8ee8a24d023" args="(const struct lu_env *env, struct mgs_device *mgs, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_erase_log </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03801">3801</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, and <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d03e292513a24e2b3766be2a6581753"></a><!-- doxytag: member="mgs_internal.h::mgs_erase_logs" ref="a4d03e292513a24e2b3766be2a6581753" args="(const struct lu_env *env, struct mgs_device *mgs, char *fsname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_erase_logs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03827">3827</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__llog_8c_source.html#l00059">class_dentry_readdir()</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="mgs__internal_8h_source.html#l00376">mgs_direntry::mde_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00377">mgs_direntry::mde_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00381">mgs_direntry_free()</a>, <a class="el" href="mgs__llog_8c_source.html#l03801">mgs_erase_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l00314">mgs_find_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__internal_8h_source.html#l00177">mgs_device::mgs_mutex</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03961">mgs_params_fsdb_cleanup()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a8830bda8417b922d9479c4b21c1a76"></a><!-- doxytag: member="mgs_internal.h::mgs_export_stats_init" ref="a5a8830bda8417b922d9479c4b21c1a76" args="(struct obd_device *obd, struct obd_export *exp, void *localdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_export_stats_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>localdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize MGS per-export statistics. </p>
<p>This function sets up procfs entries for various MGS export counters. These counters are for per-client statistics tracked on the server.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obd</em>&nbsp;</td><td>OBD device </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>exp</em>&nbsp;</td><td>OBD export </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>localdata</em>&nbsp;</td><td>NID of client</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>if successful </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>value on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mgs__fs_8c_source.html#l00062">62</a> of file <a class="el" href="mgs__fs_8c_source.html">mgs_fs.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00215">obd_export::exp_nid_stats</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00281">LPROC_MGS_LAST</a>, <a class="el" href="lprocfs__status_8h_source.html#l00889">lprocfs_alloc_stats()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00893">lprocfs_free_stats()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00899">lprocfs_init_ops_stats()</a>, <a class="el" href="obd__class_8h_source.html#l00430">lprocfs_nid_ldlm_stats_init()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00895">lprocfs_register_stats()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00171">LPROCFS_STATS_FLAG_NOPERCPU</a>, <a class="el" href="mgs__internal_8h.html#a967132bbb25ffa6c0b7c25bd76011d95">mgs_stats_counter_init()</a>, <a class="el" href="lustre__export_8h_source.html#l00137">nid_stat::nid_proc</a>, <a class="el" href="lustre__export_8h_source.html#l00138">nid_stat::nid_stats</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01463">mgs_obd_connect()</a>, and <a class="el" href="mgs__handler_8c_source.html#l01501">mgs_obd_reconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b37e12b5b7a94ce7e6946f203dc86fc"></a><!-- doxytag: member="mgs_internal.h::mgs_find_fsdb" ref="a8b37e12b5b7a94ce7e6946f203dc86fc" args="(struct mgs_device *mgs, char *fsname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfs__db.html">fs_db</a>* mgs_find_fsdb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00314">314</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, and <a class="el" href="mgs__internal_8h_source.html#l00168">mgs_device::mgs_fs_db_list</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, and <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a107716042db393c8f668b5b7814aa658"></a><!-- doxytag: member="mgs_internal.h::mgs_find_or_make_fsdb" ref="a107716042db393c8f668b5b7814aa658" args="(const struct lu_env *env, struct mgs_device *mgs, char *name, struct fs_db **dbh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_find_or_make_fsdb </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> **&nbsp;</td>
          <td class="paramname"> <em>dbh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00428">428</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00118">FSDB_MGS_SELF</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__llog_8c_source.html#l00314">mgs_find_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__internal_8h_source.html#l00177">mgs_device::mgs_mutex</a>, <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03927">mgs__mgs_fsdb_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l03690">mgs_check_failnid()</a>, <a class="el" href="mgs__llog_8c_source.html#l00483">mgs_check_index()</a>, <a class="el" href="mgs__nids_8c_source.html#l00844">mgs_fsc_attach()</a>, <a class="el" href="mgs__nids_8c_source.html#l00598">mgs_get_ir_logs()</a>, <a class="el" href="mgs__nids_8c_source.html#l00516">mgs_ir_update()</a>, <a class="el" href="mgs__llog_8c_source.html#l03940">mgs_params_fsdb_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, <a class="el" href="mgs__llog_8c_source.html#l01205">mgs_replace_nids()</a>, <a class="el" href="mgs__llog_8c_source.html#l00530">mgs_set_index()</a>, <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="acb83f5eeb3e4d400df0300403a05d34b"></a><!-- doxytag: member="mgs_internal.h::mgs_fs_cleanup" ref="acb83f5eeb3e4d400df0300403a05d34b" args="(const struct lu_env *env, struct mgs_device *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_fs_cleanup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__fs_8c_source.html#l00225">225</a> of file <a class="el" href="mgs__fs_8c_source.html">mgs_fs.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="local__storage_8c_source.html#l00936">local_oid_storage_fini()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="mgs__internal_8h_source.html#l00166">mgs_device::mgs_configs_dir</a>, <a class="el" href="mgs__internal_8h_source.html#l00176">mgs_device::mgs_los</a>, <a class="el" href="mgs__internal_8h_source.html#l00167">mgs_device::mgs_nidtbl_dir</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="nodemap__storage_8c_source.html#l00782">nm_config_file_deregister()</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, and <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="aaeecd9eab85b09fce8c21042fb25af0b"></a><!-- doxytag: member="mgs_internal.h::mgs_fs_setup" ref="aaeecd9eab85b09fce8c21042fb25af0b" args="(const struct lu_env *env, struct mgs_device *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_fs_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__fs_8c_source.html#l00116">116</a> of file <a class="el" href="mgs__fs_8c_source.html">mgs_fs.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2">dt_object_operations::do_index_try</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="lvfs_8h_source.html#l00061">lvfs_run_ctxt::dt</a>, <a class="el" href="dt__object_8c_source.html#l00236">dt_locate_at()</a>, <a class="el" href="dt__object_8c_source.html#l00640">dt_nodemap_features</a>, <a class="el" href="dt__object_8h_source.html#l02446">dt_root_get()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00147">lu_fid::f_oid</a>, <a class="el" href="lustre__user_8h_source.html#l00145">lu_fid::f_seq</a>, <a class="el" href="lustre__user_8h_source.html#l00153">lu_fid::f_ver</a>, <a class="el" href="lustre__idl_8h_source.html#l00297">FID_SEQ_LOCAL_NAME</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="local__storage_8c_source.html#l00432">local_file_find_or_create()</a>, <a class="el" href="local__storage_8c_source.html#l00519">local_index_find_or_create()</a>, <a class="el" href="local__storage_8c_source.html#l00936">local_oid_storage_fini()</a>, <a class="el" href="local__storage_8c_source.html#l00803">local_oid_storage_init()</a>, <a class="el" href="lu__object_8h_source.html#l00619">lu_site::ls_top_dev</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00032">LUSTRE_NODEMAP_NAME</a>, <a class="el" href="mgs__internal_8h_source.html#l00164">mgs_device::mgs_bottom</a>, <a class="el" href="mgs__internal_8h_source.html#l00166">mgs_device::mgs_configs_dir</a>, <a class="el" href="mgs__internal_8h_source.html#l00162">mgs_device::mgs_dt_dev</a>, <a class="el" href="mgs__internal_8h_source.html#l00176">mgs_device::mgs_los</a>, <a class="el" href="mgs__internal_8h_source.html#l00167">mgs_device::mgs_nidtbl_dir</a>, <a class="el" href="lustre__disk_8h_source.html#l00069">MGS_NIDTBL_DIR</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="lustre__disk_8h_source.html#l00058">MOUNT_CONFIGS_DIR</a>, <a class="el" href="nodemap__storage_8c_source.html#l00782">nm_config_file_deregister()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00740">nm_config_file_register()</a>, <a class="el" href="obd_8h_source.html#l00650">obd_device::obd_lvfs_ctxt</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lvfs_8h_source.html#l00067">OBD_SET_CTXT_MAGIC()</a>, <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a451023afa1a4b3ed8fe2acc59209fcbc"></a><!-- doxytag: member="mgs_internal.h::mgs_fsc_attach" ref="a451023afa1a4b3ed8fe2acc59209fcbc" args="(const struct lu_env *env, struct obd_export *exp, char *fsname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_fsc_attach </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00844">844</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00803">class_export_get()</a>, <a class="el" href="genops_8c_source.html#l00812">class_export_put()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00283">obd_export::eu_mgs_data</a>, <a class="el" href="mgs__internal_8h_source.html#l00331">exp2mgs_dev()</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="mgs__internal_8h_source.html#l00140">fs_db::fsdb_clients</a>, <a class="el" href="mgs__internal_8h_source.html#l00142">fs_db::fsdb_ir_state</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00141">fs_db::fsdb_nonir_clients</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="mgs__internal_8h_source.html#l00065">IR_FULL</a>, <a class="el" href="mgs__internal_8h_source.html#l00068">IR_PARTIAL</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__export_8h_source.html#l00124">mgs_export_data::med_clients</a>, <a class="el" href="lustre__export_8h_source.html#l00125">mgs_export_data::med_lock</a>, <a class="el" href="mgs__internal_8h_source.html#l00085">mgs_fsc::mfc_export</a>, <a class="el" href="mgs__internal_8h_source.html#l00090">mgs_fsc::mfc_export_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00081">mgs_fsc::mfc_fsdb</a>, <a class="el" href="mgs__internal_8h_source.html#l00094">mgs_fsc::mfc_fsdb_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00095">mgs_fsc::mfc_ir_capable</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01224">OBD_CONNECT_IMP_RECOV</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__export.html#a566c348c59ec91da3ef339d2b54f0d7d">obd_export::u</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00528">mgs_llog_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e87c901daed10df54f27602f7358244"></a><!-- doxytag: member="mgs_internal.h::mgs_fsc_cleanup" ref="a2e87c901daed10df54f27602f7358244" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mgs_fsc_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00909">909</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00812">class_export_put()</a>, <a class="el" href="lustre__export_8h_source.html#l00283">obd_export::eu_mgs_data</a>, <a class="el" href="mgs__internal_8h_source.html#l00142">fs_db::fsdb_ir_state</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__internal_8h_source.html#l00141">fs_db::fsdb_nonir_clients</a>, <a class="el" href="mgs__internal_8h_source.html#l00065">IR_FULL</a>, <a class="el" href="mgs__internal_8h_source.html#l00068">IR_PARTIAL</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="list_8h_source.html#l00227">list_splice_init()</a>, <a class="el" href="lustre__export_8h_source.html#l00124">mgs_export_data::med_clients</a>, <a class="el" href="lustre__export_8h_source.html#l00125">mgs_export_data::med_lock</a>, <a class="el" href="mgs__internal_8h_source.html#l00085">mgs_fsc::mfc_export</a>, <a class="el" href="mgs__internal_8h_source.html#l00090">mgs_fsc::mfc_export_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00081">mgs_fsc::mfc_fsdb</a>, <a class="el" href="mgs__internal_8h_source.html#l00094">mgs_fsc::mfc_fsdb_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00095">mgs_fsc::mfc_ir_capable</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="structobd__export.html#a566c348c59ec91da3ef339d2b54f0d7d">obd_export::u</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01521">mgs_obd_disconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="a4895da9f3960c0bbf55168c07d162b68"></a><!-- doxytag: member="mgs_internal.h::mgs_fsc_cleanup_by_fsdb" ref="a4895da9f3960c0bbf55168c07d162b68" args="(struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mgs_fsc_cleanup_by_fsdb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00941">941</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00812">class_export_put()</a>, <a class="el" href="lustre__export_8h_source.html#l00283">obd_export::eu_mgs_data</a>, <a class="el" href="mgs__internal_8h_source.html#l00140">fs_db::fsdb_clients</a>, <a class="el" href="mgs__internal_8h_source.html#l00142">fs_db::fsdb_ir_state</a>, <a class="el" href="mgs__internal_8h_source.html#l00141">fs_db::fsdb_nonir_clients</a>, <a class="el" href="mgs__internal_8h_source.html#l00065">IR_FULL</a>, <a class="el" href="mgs__internal_8h_source.html#l00068">IR_PARTIAL</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lustre__export_8h_source.html#l00125">mgs_export_data::med_lock</a>, <a class="el" href="mgs__internal_8h_source.html#l00085">mgs_fsc::mfc_export</a>, <a class="el" href="mgs__internal_8h_source.html#l00090">mgs_fsc::mfc_export_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00081">mgs_fsc::mfc_fsdb</a>, <a class="el" href="mgs__internal_8h_source.html#l00094">mgs_fsc::mfc_fsdb_list</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="structobd__export.html#a566c348c59ec91da3ef339d2b54f0d7d">obd_export::u</a>.</p>

<p>Referenced by <a class="el" href="mgs__nids_8c_source.html#l00487">mgs_ir_fini_fs()</a>.</p>

</div>
</div>
<a class="anchor" id="a3df6f9335897c02496fd461a589dd8a8"></a><!-- doxytag: member="mgs_internal.h::mgs_get_fsdb_srpc_from_llog" ref="a3df6f9335897c02496fd461a589dd8a8" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_get_fsdb_srpc_from_llog </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03199">3199</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__log_8h_source.html#l00360">llog_get_size()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog_8c_source.html#l00687">llog_process()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l03136">mgs_srpc_read_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l03132">mgs_srpc_read_data::msrd_fsdb</a>, <a class="el" href="mgs__llog_8c_source.html#l03133">mgs_srpc_read_data::msrd_skip</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a54b4462c5931809e87dac0ef4d188674"></a><!-- doxytag: member="mgs_internal.h::mgs_get_ir_logs" ref="a54b4462c5931809e87dac0ef4d188674" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_get_ir_logs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00598">598</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="structptlrpc__bulk__frag__ops.html#a3338125828618910ae190978e235d52a">ptlrpc_bulk_frag_ops::add_kiov_frag</a>, <a class="el" href="lustre__net_8h_source.html#l01451">ptlrpc_bulk_desc::bd_frag_ops</a>, <a class="el" href="multiop_8c_source.html#l00065">bufsize</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd__class_8h_source.html#l00185">CONFIG_T_RECOVER</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="mgs__nids_8c_source.html#l00567">delogname()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00331">exp2mgs_dev()</a>, <a class="el" href="mgs__internal_8h_source.html#l00145">fs_db::fsdb_nidtbl</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l02995">mgs_config_body::mcb_bits</a>, <a class="el" href="lustre__idl_8h_source.html#l02991">mgs_config_body::mcb_name</a>, <a class="el" href="lustre__idl_8h_source.html#l02992">mgs_config_body::mcb_offset</a>, <a class="el" href="lustre__idl_8h_source.html#l02993">mgs_config_body::mcb_type</a>, <a class="el" href="lustre__idl_8h_source.html#l02996">mgs_config_body::mcb_units</a>, <a class="el" href="lustre__idl_8h_source.html#l03000">mgs_config_res::mcr_offset</a>, <a class="el" href="lustre__idl_8h_source.html#l00123">MGS_BULK_PORTAL</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__nids_8c_source.html#l00080">mgs_nidtbl_read()</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__net_8h_source.html#l01337">PTLRPC_BULK_BUF_KIOV</a>, <a class="el" href="client_8c_source.html#l00050">ptlrpc_bulk_kiov_pin_ops</a>, <a class="el" href="lustre__net_8h_source.html#l01341">PTLRPC_BULK_PUT_SOURCE</a>, <a class="el" href="client_8c_source.html#l00257">ptlrpc_free_bulk()</a>, <a class="el" href="lustre__net_8h_source.html#l00105">PTLRPC_MAX_BRW_PAGES</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00882">RMF_MGS_CONFIG_BODY</a>, <a class="el" href="layout_8c_source.html#l00888">RMF_MGS_CONFIG_RES</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00499">mgs_config_read()</a>.</p>

</div>
</div>
<a class="anchor" id="acb1ab19140decbbfd20b68ae9387d346"></a><!-- doxytag: member="mgs_internal.h::mgs_get_lock" ref="acb1ab19140decbbfd20b68ae9387d346" args="(struct obd_device *obd, struct ldlm_res_id *res, struct lustre_handle *lockh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_get_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a> *&nbsp;</td>
          <td class="paramname"> <em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5c9e2484ce204edeb5dc7185831719a1"></a><!-- doxytag: member="mgs_internal.h::mgs_init_fsdb_list" ref="a5c9e2484ce204edeb5dc7185831719a1" args="(struct mgs_device *mgs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_init_fsdb_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00408">408</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, and <a class="el" href="mgs__internal_8h_source.html#l00168">mgs_device::mgs_fs_db_list</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ecfe16762c3e19e559c17066fb0e917"></a><!-- doxytag: member="mgs_internal.h::mgs_ir_fini_fs" ref="a1ecfe16762c3e19e559c17066fb0e917" args="(struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mgs_ir_fini_fs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00487">487</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="mgs__internal_8h_source.html#l00140">fs_db::fsdb_clients</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00118">FSDB_MGS_SELF</a>, <a class="el" href="mgs__internal_8h_source.html#l00150">fs_db::fsdb_notify_comp</a>, <a class="el" href="mgs__internal_8h_source.html#l00153">fs_db::fsdb_notify_stop</a>, <a class="el" href="mgs__internal_8h_source.html#l00149">fs_db::fsdb_notify_waitq</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="mgs__nids_8c_source.html#l00941">mgs_fsc_cleanup_by_fsdb()</a>, and <a class="el" href="mgs__nids_8c_source.html#l00359">mgs_nidtbl_fini_fs()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="ad73b0228beb2fb6fb3b4b9dad025fde5"></a><!-- doxytag: member="mgs_internal.h::mgs_ir_init_fs" ref="ad73b0228beb2fb6fb3b4b9dad025fde5" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_ir_init_fs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00455">455</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-time_8h_source.html#l00142">cfs_time_before()</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="mgs__internal_8h_source.html#l00140">fs_db::fsdb_clients</a>, <a class="el" href="mgs__internal_8h_source.html#l00142">fs_db::fsdb_ir_state</a>, <a class="el" href="mgs__internal_8h_source.html#l00148">fs_db::fsdb_mgs</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00141">fs_db::fsdb_nonir_clients</a>, <a class="el" href="mgs__internal_8h_source.html#l00150">fs_db::fsdb_notify_comp</a>, <a class="el" href="mgs__internal_8h_source.html#l00152">fs_db::fsdb_notify_phase</a>, <a class="el" href="mgs__internal_8h_source.html#l00149">fs_db::fsdb_notify_waitq</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="mgs__internal_8h_source.html#l00065">IR_FULL</a>, <a class="el" href="mgs__internal_8h_source.html#l00066">IR_STARTUP</a>, <a class="el" href="mgs__nids_8c_source.html#l00055">ir_timeout</a>, <a class="el" href="mgs__nids_8c_source.html#l00419">mgs_ir_notify()</a>, <a class="el" href="mgs__nids_8c_source.html#l00377">mgs_nidtbl_init_fs()</a>, <a class="el" href="mgs__internal_8h_source.html#l00174">mgs_device::mgs_start_time</a>, and <a class="el" href="obd__support_8h_source.html#l00150">OBD_IR_MGS_TIMEOUT</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a9921820a7627bb61d950e4348a549669"></a><!-- doxytag: member="mgs_internal.h::mgs_ir_notify_complete" ref="a9921820a7627bb61d950e4348a549669" args="(struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mgs_ir_notify_complete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00400">400</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00194">cfs_duration_usec()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="libcfs__time_8h_source.html#l00051">cfs_time_sub()</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00158">fs_db::fsdb_notify_count</a>, <a class="el" href="mgs__internal_8h_source.html#l00157">fs_db::fsdb_notify_max</a>, <a class="el" href="mgs__internal_8h_source.html#l00152">fs_db::fsdb_notify_phase</a>, <a class="el" href="mgs__internal_8h_source.html#l00151">fs_db::fsdb_notify_start</a>, and <a class="el" href="mgs__internal_8h_source.html#l00156">fs_db::fsdb_notify_total</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00166">mgs_completion_ast_generic()</a>.</p>

</div>
</div>
<a class="anchor" id="a23cb17395ac476421e2be760747d98f5"></a><!-- doxytag: member="mgs_internal.h::mgs_ir_update" ref="a23cb17395ac476421e2be760747d98f5" args="(const struct lu_env *env, struct mgs_device *mgs, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_ir_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__nids_8c_source.html#l00516">516</a> of file <a class="el" href="mgs__nids_8c_source.html">mgs_nids.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="mgs__internal_8h_source.html#l00142">fs_db::fsdb_ir_state</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00152">fs_db::fsdb_notify_phase</a>, <a class="el" href="mgs__internal_8h_source.html#l00149">fs_db::fsdb_notify_waitq</a>, <a class="el" href="mgs__internal_8h_source.html#l00067">IR_DISABLED</a>, <a class="el" href="mgs__internal_8h_source.html#l00065">IR_FULL</a>, <a class="el" href="mgs__internal_8h_source.html#l00068">IR_PARTIAL</a>, <a class="el" href="mgs__internal_8h_source.html#l00066">IR_STARTUP</a>, <a class="el" href="mgs__nids_8c_source.html#l00504">ir_state_graduate()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="lustre__disk_8h_source.html#l00104">LDD_F_IR_CAPABLE</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__nids_8c_source.html#l00306">mgs_nidtbl_write()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, and <a class="el" href="lustre__idl_8h_source.html#l02968">mgs_target_info::mti_instance</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ce5801b186fc109148b67f3ab22a094"></a><!-- doxytag: member="mgs_internal.h::mgs_list_logs" ref="a5ce5801b186fc109148b67f3ab22a094" args="(const struct lu_env *env, struct mgs_device *mgs, struct obd_ioctl_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_list_logs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__ioctl__data.html">obd_ioctl_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03868">3868</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__llog_8c_source.html#l00059">class_dentry_readdir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00115">obd_ioctl_data::ioc_bulk</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00106">obd_ioctl_data::ioc_inllen1</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="mgs__internal_8h_source.html#l00376">mgs_direntry::mde_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00377">mgs_direntry::mde_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00381">mgs_direntry_free()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e1cabd4707ace3138f62d12eb4a2882"></a><!-- doxytag: member="mgs_internal.h::mgs_nodemap_cmd" ref="a9e1cabd4707ace3138f62d12eb4a2882" args="(const struct lu_env *env, struct mgs_device *mgs, enum lcfg_command_type cmd, const char *nodemap_name, char *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_nodemap_cmd </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a>&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>nodemap_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l04102">4102</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__cfg_8h_source.html#l00103">LCFG_NODEMAP_ADD</a>, <a class="el" href="lustre__cfg_8h_source.html#l00109">LCFG_NODEMAP_ADD_GIDMAP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00105">LCFG_NODEMAP_ADD_RANGE</a>, <a class="el" href="lustre__cfg_8h_source.html#l00107">LCFG_NODEMAP_ADD_UIDMAP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00112">LCFG_NODEMAP_ADMIN</a>, <a class="el" href="lustre__cfg_8h_source.html#l00104">LCFG_NODEMAP_DEL</a>, <a class="el" href="lustre__cfg_8h_source.html#l00110">LCFG_NODEMAP_DEL_GIDMAP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00106">LCFG_NODEMAP_DEL_RANGE</a>, <a class="el" href="lustre__cfg_8h_source.html#l00108">LCFG_NODEMAP_DEL_UIDMAP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00115">LCFG_NODEMAP_SQUASH_GID</a>, <a class="el" href="lustre__cfg_8h_source.html#l00114">LCFG_NODEMAP_SQUASH_UID</a>, <a class="el" href="lustre__cfg_8h_source.html#l00113">LCFG_NODEMAP_TRUSTED</a>, <a class="el" href="nodemap__handler_8c_source.html#l01002">nodemap_add()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00416">nodemap_add_idmap()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00684">nodemap_add_range()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01033">nodemap_del()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00455">nodemap_del_idmap()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00716">nodemap_del_range()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00043">NODEMAP_GID</a>, <a class="el" href="nodemap__handler_8c_source.html#l00313">nodemap_parse_idmap()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00278">nodemap_parse_range()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00864">nodemap_set_allow_root()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00960">nodemap_set_squash_gid()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00927">nodemap_set_squash_uid()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00894">nodemap_set_trust_client_ids()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00042">NODEMAP_UID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00650">mgs_iocontrol_nodemap()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b17407272acb7505a03aacc2eaef0a4"></a><!-- doxytag: member="mgs_internal.h::mgs_obj" ref="a8b17407272acb7505a03aacc2eaef0a4" args="(const struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmgs__object.html">mgs_object</a>* mgs_obj </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00358">358</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="mgs__internal_8h_source.html#l00320">lu_device_is_mgs()</a>, and <a class="el" href="mgs__internal_8h_source.html#l00185">mgs_object::mgo_obj</a>.</p>

<p>Referenced by <a class="el" href="mgs__internal_8h_source.html#l00364">dt2mgs_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="ac9abc5bae403f36738f0686a6caa5113"></a><!-- doxytag: member="mgs_internal.h::mgs_object_child" ref="ac9abc5bae403f36738f0686a6caa5113" args="(struct mgs_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__object.html">dt_object</a>* mgs_object_child </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__object.html">mgs_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__internal_8h_source.html#l00369">369</a> of file <a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lu__object_8h_source.html#l00762">lu_object_next()</a>, and <a class="el" href="mgs__internal_8h_source.html#l00353">mgs2lu_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a359aefa66a460606e71f68466cc4d89c"></a><!-- doxytag: member="mgs_internal.h::mgs_params_fsdb_cleanup" ref="a359aefa66a460606e71f68466cc4d89c" args="(const struct lu_env *env, struct mgs_device *mgs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_params_fsdb_cleanup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03961">3961</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, and <a class="el" href="obd__class_8h_source.html#l00190">PARAMS_FILENAME</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, and <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a9af54b176b554d2b46c5fc91edc7f464"></a><!-- doxytag: member="mgs_internal.h::mgs_params_fsdb_setup" ref="a9af54b176b554d2b46c5fc91edc7f464" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_params_fsdb_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03940">3940</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="obd__class_8h_source.html#l00190">PARAMS_FILENAME</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="afd81ce3ad969879ca9a786b2a37fbd61"></a><!-- doxytag: member="mgs_internal.h::mgs_pool_cmd" ref="afd81ce3ad969879ca9a786b2a37fbd61" args="(const struct lu_env *env, struct mgs_device *mgs, enum lcfg_command_type cmd, char *poolname, char *fsname, char *ostname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_pool_cmd </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a>&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>poolname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ostname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l04179">4179</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="obd__class_8h_source.html#l00183">CONFIG_T_CONFIG</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="mgs__internal_8h_source.html#l00130">fs_db::fsdb_clilov</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00115">FSDB_LOG_EMPTY</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="lustre__cfg_8h_source.html#l00095">LCFG_POOL_ADD</a>, <a class="el" href="lustre__cfg_8h_source.html#l00097">LCFG_POOL_DEL</a>, <a class="el" href="lustre__cfg_8h_source.html#l00094">LCFG_POOL_NEW</a>, <a class="el" href="lustre__cfg_8h_source.html#l00096">LCFG_POOL_REM</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__handler_8c_source.html#l00227">mgs_revoke_lock()</a>, <a class="el" href="mgs__llog_8c_source.html#l04076">mgs_write_log_pool()</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l02036">name_create_mdt_and_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00783">mgs_iocontrol_pool()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a9b4c480fa530f59d5fb48a6c4ed721"></a><!-- doxytag: member="mgs_internal.h::mgs_put_lock" ref="a7a9b4c480fa530f59d5fb48a6c4ed721" args="(struct lustre_handle *lockh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_put_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aab1054f700a85f1bf9c563bede07f3ac"></a><!-- doxytag: member="mgs_internal.h::mgs_replace_nids" ref="aab1054f700a85f1bf9c563bede07f3ac" args="(const struct lu_env *env, struct mgs_device *mgs, char *devname, char *nids)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_replace_nids </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>nids</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Replace nids for <em>device</em> to <em>nids</em> values. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obd</em>&nbsp;</td><td>MGS obd device </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>devname</em>&nbsp;</td><td>nids need to be replaced for this device (ex. lustre-OST0000) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nids</em>&nbsp;</td><td>nids list (ex. nid1,nid2,nid3)</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01205">1205</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l01128">mgs_parse_devname()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l01187">name_create_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="obd_8h_source.html#l00644">obd_device::obd_dev_lock</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_no_conn</a>, <a class="el" href="mgs__llog_8c_source.html#l01156">only_mgs_is_running()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="a24564015dd4363b47c2da61a40b55421"></a><!-- doxytag: member="mgs_internal.h::mgs_revoke_lock" ref="a24564015dd4363b47c2da61a40b55421" args="(struct mgs_device *mgs, struct fs_db *fsdb, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mgs_revoke_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__handler_8c_source.html#l00227">227</a> of file <a class="el" href="mgs__handler_8c_source.html">mgs_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__class_8h_source.html#l00183">CONFIG_T_CONFIG</a>, <a class="el" href="obd__class_8h_source.html#l00186">CONFIG_T_PARAMS</a>, <a class="el" href="obd__class_8h_source.html#l00185">CONFIG_T_RECOVER</a>, <a class="el" href="lustre__dlm_8h_source.html#l00074">ELDLM_OK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00117">FSDB_REVOKING_LOCK</a>, <a class="el" href="mgs__internal_8h_source.html#l00121">FSDB_REVOKING_PARAMS</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="ldlm__request_8c_source.html#l00354">ldlm_blocking_ast()</a>, <a class="el" href="ldlm__request_8c_source.html#l00415">ldlm_cli_enqueue_local()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00258">LDLM_FL_ATOMIC_CB</a>, <a class="el" href="packet-lustre_8c_source.html#l00298">LDLM_PLAIN</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lustre__dlm_8h_source.html#l00646">LVB_T_NONE</a>, <a class="el" href="mgc__request_8c_source.html#l00094">mgc_fsname2resid()</a>, <a class="el" href="mgs__handler_8c_source.html#l00209">mgs_completion_ast_config()</a>, <a class="el" href="mgs__handler_8c_source.html#l00221">mgs_completion_ast_ir()</a>, <a class="el" href="mgs__handler_8c_source.html#l00215">mgs_completion_ast_params()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="lustre__idl_8h_source.html#l02780">ldlm_res_id::name</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="mgs__nids_8c_source.html#l00419">mgs_ir_notify()</a>, <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e5f5baf1f1daddf5d3cbe391f1b2463"></a><!-- doxytag: member="mgs_internal.h::mgs_setparam" ref="a2e5f5baf1f1daddf5d3cbe391f1b2463" args="(const struct lu_env *env, struct mgs_device *mgs, struct lustre_cfg *lcfg, char *fsname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_setparam </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03970">3970</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__class_8h_source.html#l00183">CONFIG_T_CONFIG</a>, <a class="el" href="obd__class_8h_source.html#l00186">CONFIG_T_PARAMS</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="llverdev_8c_source.html#l00112">devname</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00115">FSDB_LOG_EMPTY</a>, <a class="el" href="mgs__internal_8h_source.html#l00118">FSDB_MGS_SELF</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00101">LCFG_SET_PARAM</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lustre__disk_8h_source.html#l00100">LDD_F_PARAM</a>, <a class="el" href="lustre__disk_8h_source.html#l00108">LDD_F_PARAM2</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l01128">mgs_parse_devname()</a>, <a class="el" href="mgs__handler_8c_source.html#l00227">mgs_revoke_lock()</a>, <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>, <a class="el" href="mgs__llog_8c_source.html#l02758">mgs_write_log_param2()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__param_8h_source.html#l00113">PARAM_LLITE</a>, <a class="el" href="obd__class_8h_source.html#l00190">PARAMS_FILENAME</a>, <a class="el" href="mgs__llog_8c_source.html#l03902">print_lustre_cfg()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__disk_8h_source.html#l00193">server_make_name()</a>, <a class="el" href="obd__mount_8c_source.html#l00790">server_name2index()</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00102">mgs_set_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a967132bbb25ffa6c0b7c25bd76011d95"></a><!-- doxytag: member="mgs_internal.h::mgs_stats_counter_init" ref="a967132bbb25ffa6c0b7c25bd76011d95" args="(struct lprocfs_stats *stats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mgs_stats_counter_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlprocfs__stats.html">lprocfs_stats</a> *&nbsp;</td>
          <td class="paramname"> <em>stats</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="mgs__fs_8c_source.html#l00062">mgs_export_stats_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a7b9bad6f6e196cb05763a3ffcbc314"></a><!-- doxytag: member="mgs_internal.h::mgs_write_log_target" ref="a8a7b9bad6f6e196cb05763a3ffcbc314" args="(const struct lu_env *env, struct mgs_device *mgs, struct mgs_target_info *mti, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_write_log_target </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03723">3723</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__config_8c_source.html#l00137">class_get_next_param()</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00284">LCONSOLE_WARN</a>, <a class="el" href="lustre__disk_8h_source.html#l00100">LDD_F_PARAM</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="lustre__disk_8h_source.html#l00092">LDD_F_UPDATE</a>, <a class="el" href="lustre__disk_8h_source.html#l00098">LDD_F_UPGRADE14</a>, <a class="el" href="lustre__disk_8h_source.html#l00090">LDD_F_VIRGIN</a>, <a class="el" href="lustre__disk_8h_source.html#l00096">LDD_F_WRITECONF</a>, <a class="el" href="mgs__llog_8c_source.html#l00530">mgs_set_index()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a3e80e13389d10ae68e09c47b9617236b"></a><!-- doxytag: member="mgs_internal.h::mgs_lu_ops" ref="a3e80e13389d10ae68e09c47b9617236b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a> <a class="el" href="mgs__internal_8h.html#a3e80e13389d10ae68e09c47b9617236b">mgs_lu_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__handler_8c_source.html#l01353">1353</a> of file <a class="el" href="mgs__handler_8c_source.html">mgs_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mgs__internal_8h_source.html#l00320">lu_device_is_mgs()</a>, and <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6c73279894a584161b186e4e599ccb0"></a><!-- doxytag: member="mgs_internal.h::mgs_thread_key" ref="aa6c73279894a584161b186e4e599ccb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> <a class="el" href="mgs__internal_8h.html#aa6c73279894a584161b186e4e599ccb0">mgs_thread_key</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
