<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lnet/lnet/lib-socket.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lnet/lnet/lib-socket.c File Reference</h1><code>#include &lt;linux/if.h&gt;</code><br/>
<code>#include &lt;linux/in.h&gt;</code><br/>
<code>#include &lt;linux/net.h&gt;</code><br/>
<code>#include &lt;linux/file.h&gt;</code><br/>
<code>#include &lt;linux/pagemap.h&gt;</code><br/>
<code>#include &lt;linux/syscalls.h&gt;</code><br/>
<code>#include &lt;net/sock.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lib-lnet_8h_source.html">lnet/lib-lnet.h</a>&gt;</code><br/>

<p><a href="lib-socket_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LNET</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a8e860bb8d290c6cc8d8efe95c7eb2bf8">kernel_sock_unlocked_ioctl</a> (struct file *filp, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, unsigned long arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a9344face3c007ee884f2d311128e8ee8">lnet_sock_ioctl</a> (int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, unsigned long arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#af9cc06af5fb213c312969f6b6eac0370">lnet_ipif_query</a> (char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int *up, __u32 *ip, __u32 *mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#ae238efe8d2ee461589000fc35e8191a8">lnet_ipif_free_enumeration</a> (char **<a class="el" href="structnames.html">names</a>, int n)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a82745732942b145e9e9ef3dcef27844c">lnet_ipif_enumerate</a> (char ***namesp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a0ec292d8cf87aaded013b9db93f5f134">lnet_sock_write</a> (struct socket *sock, void *buffer, int nob, int <a class="el" href="o2iblnd__modparams_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#aced47784dc050ccc7496d74f7b230e1d">lnet_sock_read</a> (struct socket *sock, void *buffer, int nob, int <a class="el" href="o2iblnd__modparams_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a413e5864158b48d9155983db562657db">lnet_sock_create</a> (struct socket **sockp, int *fatal, __u32 local_ip, int local_port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a4f8b354dd6a970ed4f0ea8c5f8de82eb">lnet_sock_setbuf</a> (struct socket *sock, int txbufsize, int rxbufsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a111a5ae58458f171a126200247481721">lnet_sock_getaddr</a> (struct socket *sock, bool remote, __u32 *ip, int *port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a2d346bfd65c4646e275306f25ce56705">lnet_sock_getbuf</a> (struct socket *sock, int *txbufsize, int *rxbufsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a06417cd73a4a34c17d8e44eb8b1b46ac">lnet_sock_listen</a> (struct socket **sockp, __u32 local_ip, int local_port, int backlog)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static wait_queue_head_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a060d662ee6ee8d0766bf4d9caf2d0188">sk_sleep</a> (struct sock *sk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a9d6ea6a9bff0858b22d0939881837bc0">lnet_sock_accept</a> (struct socket **newsockp, struct socket *sock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib-socket_8c.html#a95208ee002c717b64595ea1f2bb45112">lnet_sock_connect</a> (struct socket **sockp, int *fatal, __u32 local_ip, int local_port, __u32 peer_ip, int peer_port)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="lib&#45;socket.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LNET</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00036">36</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8e860bb8d290c6cc8d8efe95c7eb2bf8"></a><!-- doxytag: member="lib&#45;socket.c::kernel_sock_unlocked_ioctl" ref="a8e860bb8d290c6cc8d8efe95c7eb2bf8" args="(struct file *filp, int cmd, unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int kernel_sock_unlocked_ioctl </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00054">54</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>Referenced by <a class="el" href="lib-socket_8c_source.html#l00067">lnet_sock_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="a82745732942b145e9e9ef3dcef27844c"></a><!-- doxytag: member="lib&#45;socket.c::lnet_ipif_enumerate" ref="a82745732942b145e9e9ef3dcef27844c" args="(char ***namesp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_ipif_enumerate </td>
          <td>(</td>
          <td class="paramtype">char ***&nbsp;</td>
          <td class="paramname"> <em>namesp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00192">192</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00291">LIBCFS_ALLOC</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="lib-socket_8c_source.html#l00178">lnet_ipif_free_enumeration()</a>, <a class="el" href="lib-socket_8c_source.html#l00067">lnet_sock_ioctl()</a>, and <a class="el" href="lnet_2utils_2wirecheck_8c_source.html#l00051">strnlen</a>.</p>

<p>Referenced by <a class="el" href="socklnd_8c_source.html#l02610">ksocknal_enumerate_interfaces()</a>, and <a class="el" href="config_8c_source.html#l01153">lnet_ipaddr_enumerate()</a>.</p>

</div>
</div>
<a class="anchor" id="ae238efe8d2ee461589000fc35e8191a8"></a><!-- doxytag: member="lib&#45;socket.c::lnet_ipif_free_enumeration" ref="ae238efe8d2ee461589000fc35e8191a8" args="(char **names, int n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_ipif_free_enumeration </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00178">178</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>.</p>

<p>Referenced by <a class="el" href="socklnd_8c_source.html#l02610">ksocknal_enumerate_interfaces()</a>, <a class="el" href="config_8c_source.html#l01153">lnet_ipaddr_enumerate()</a>, and <a class="el" href="lib-socket_8c_source.html#l00192">lnet_ipif_enumerate()</a>.</p>

</div>
</div>
<a class="anchor" id="af9cc06af5fb213c312969f6b6eac0370"></a><!-- doxytag: member="lib&#45;socket.c::lnet_ipif_query" ref="af9cc06af5fb213c312969f6b6eac0370" args="(char *name, int *up, __u32 *ip, __u32 *mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_ipif_query </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>up</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00111">111</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="lib-socket_8c_source.html#l00067">lnet_sock_ioctl()</a>, and <a class="el" href="lnet_2utils_2wirecheck_8c_source.html#l00051">strnlen</a>.</p>

<p>Referenced by <a class="el" href="o2iblnd_8c_source.html#l02757">kiblnd_create_dev()</a>, <a class="el" href="socklnd_8c_source.html#l02610">ksocknal_enumerate_interfaces()</a>, <a class="el" href="socklnd_8c_source.html#l02781">ksocknal_startup()</a>, and <a class="el" href="config_8c_source.html#l01153">lnet_ipaddr_enumerate()</a>.</p>

</div>
</div>
<a class="anchor" id="a9d6ea6a9bff0858b22d0939881837bc0"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_accept" ref="a9d6ea6a9bff0858b22d0939881837bc0" args="(struct socket **newsockp, struct socket *sock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_sock_accept </td>
          <td>(</td>
          <td class="paramtype">struct socket **&nbsp;</td>
          <td class="paramname"> <em>newsockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct socket *&nbsp;</td>
          <td class="paramname"> <em>sock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00568">568</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, and <a class="el" href="lib-socket_8c_source.html#l00561">sk_sleep()</a>.</p>

<p>Referenced by <a class="el" href="acceptor_8c_source.html#l00350">lnet_acceptor()</a>.</p>

</div>
</div>
<a class="anchor" id="a95208ee002c717b64595ea1f2bb45112"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_connect" ref="a95208ee002c717b64595ea1f2bb45112" args="(struct socket **sockp, int *fatal, __u32 local_ip, int local_port, __u32 peer_ip, int peer_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_sock_connect </td>
          <td>(</td>
          <td class="paramtype">struct socket **&nbsp;</td>
          <td class="paramname"> <em>sockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>fatal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>local_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>local_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>peer_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>peer_port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00607">607</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00266">CDEBUG_LIMIT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="libcfs__debug_8h_source.html#l00137">D_NETERROR</a>, and <a class="el" href="lib-socket_8c_source.html#l00412">lnet_sock_create()</a>.</p>

<p>Referenced by <a class="el" href="acceptor_8c_source.html#l00159">lnet_connect()</a>.</p>

</div>
</div>
<a class="anchor" id="a413e5864158b48d9155983db562657db"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_create" ref="a413e5864158b48d9155983db562657db" args="(struct socket **sockp, int *fatal, __u32 local_ip, int local_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_sock_create </td>
          <td>(</td>
          <td class="paramtype">struct socket **&nbsp;</td>
          <td class="paramname"> <em>sockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>fatal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>local_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>local_port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00412">412</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>.</p>

<p>Referenced by <a class="el" href="lib-socket_8c_source.html#l00607">lnet_sock_connect()</a>, and <a class="el" href="lib-socket_8c_source.html#l00537">lnet_sock_listen()</a>.</p>

</div>
</div>
<a class="anchor" id="a111a5ae58458f171a126200247481721"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_getaddr" ref="a111a5ae58458f171a126200247481721" args="(struct socket *sock, bool remote, __u32 *ip, int *port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_sock_getaddr </td>
          <td>(</td>
          <td class="paramtype">struct socket *&nbsp;</td>
          <td class="paramname"> <em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00497">497</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>.</p>

<p>Referenced by <a class="el" href="socklnd_8c_source.html#l00973">ksocknal_accept()</a>, <a class="el" href="socklnd__lib_8c_source.html#l00040">ksocknal_lib_get_conn_addrs()</a>, <a class="el" href="acceptor_8c_source.html#l00225">lnet_accept()</a>, and <a class="el" href="acceptor_8c_source.html#l00350">lnet_acceptor()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d346bfd65c4646e275306f25ce56705"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_getbuf" ref="a2d346bfd65c4646e275306f25ce56705" args="(struct socket *sock, int *txbufsize, int *rxbufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_sock_getbuf </td>
          <td>(</td>
          <td class="paramtype">struct socket *&nbsp;</td>
          <td class="paramname"> <em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>txbufsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>rxbufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00524">524</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>Referenced by <a class="el" href="socklnd__lib_8c_source.html#l00426">ksocknal_lib_get_conn_tunables()</a>.</p>

</div>
</div>
<a class="anchor" id="a9344face3c007ee884f2d311128e8ee8"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_ioctl" ref="a9344face3c007ee884f2d311128e8ee8" args="(int cmd, unsigned long arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_sock_ioctl </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00067">67</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, and <a class="el" href="lib-socket_8c_source.html#l00054">kernel_sock_unlocked_ioctl()</a>.</p>

<p>Referenced by <a class="el" href="lib-socket_8c_source.html#l00192">lnet_ipif_enumerate()</a>, and <a class="el" href="lib-socket_8c_source.html#l00111">lnet_ipif_query()</a>.</p>

</div>
</div>
<a class="anchor" id="a06417cd73a4a34c17d8e44eb8b1b46ac"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_listen" ref="a06417cd73a4a34c17d8e44eb8b1b46ac" args="(struct socket **sockp, __u32 local_ip, int local_port, int backlog)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_sock_listen </td>
          <td>(</td>
          <td class="paramtype">struct socket **&nbsp;</td>
          <td class="paramname"> <em>sockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>local_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>local_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>backlog</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00537">537</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mdsrate_8c_source.html#l00208">fatal()</a>, and <a class="el" href="lib-socket_8c_source.html#l00412">lnet_sock_create()</a>.</p>

<p>Referenced by <a class="el" href="acceptor_8c_source.html#l00350">lnet_acceptor()</a>.</p>

</div>
</div>
<a class="anchor" id="aced47784dc050ccc7496d74f7b230e1d"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_read" ref="aced47784dc050ccc7496d74f7b230e1d" args="(struct socket *sock, void *buffer, int nob, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_sock_read </td>
          <td>(</td>
          <td class="paramtype">struct socket *&nbsp;</td>
          <td class="paramname"> <em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00354">354</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="socklnd__cb_8c_source.html#l01696">ksocknal_recv_hello()</a>, <a class="el" href="socklnd__proto_8c_source.html#l00569">ksocknal_recv_hello_v1()</a>, <a class="el" href="socklnd__proto_8c_source.html#l00645">ksocknal_recv_hello_v2()</a>, <a class="el" href="acceptor_8c_source.html#l00225">lnet_accept()</a>, and <a class="el" href="acceptor_8c_source.html#l00350">lnet_acceptor()</a>.</p>

</div>
</div>
<a class="anchor" id="a4f8b354dd6a970ed4f0ea8c5f8de82eb"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_setbuf" ref="a4f8b354dd6a970ed4f0ea8c5f8de82eb" args="(struct socket *sock, int txbufsize, int rxbufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_sock_setbuf </td>
          <td>(</td>
          <td class="paramtype">struct socket *&nbsp;</td>
          <td class="paramname"> <em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>txbufsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rxbufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00466">466</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>.</p>

<p>Referenced by <a class="el" href="socklnd__lib_8c_source.html#l00457">ksocknal_lib_setup_sock()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ec292d8cf87aaded013b9db93f5f134"></a><!-- doxytag: member="lib&#45;socket.c::lnet_sock_write" ref="a0ec292d8cf87aaded013b9db93f5f134" args="(struct socket *sock, void *buffer, int nob, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_sock_write </td>
          <td>(</td>
          <td class="paramtype">struct socket *&nbsp;</td>
          <td class="paramname"> <em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00287">287</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="lib-socket_8c_source.html#l00287">lnet_sock_write()</a>.</p>

<p>Referenced by <a class="el" href="socklnd__proto_8c_source.html#l00452">ksocknal_send_hello_v1()</a>, <a class="el" href="socklnd__proto_8c_source.html#l00526">ksocknal_send_hello_v2()</a>, <a class="el" href="acceptor_8c_source.html#l00225">lnet_accept()</a>, <a class="el" href="acceptor_8c_source.html#l00159">lnet_connect()</a>, and <a class="el" href="lib-socket_8c_source.html#l00287">lnet_sock_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a060d662ee6ee8d0766bf4d9caf2d0188"></a><!-- doxytag: member="lib&#45;socket.c::sk_sleep" ref="a060d662ee6ee8d0766bf4d9caf2d0188" args="(struct sock *sk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static wait_queue_head_t* sk_sleep </td>
          <td>(</td>
          <td class="paramtype">struct sock *&nbsp;</td>
          <td class="paramname"> <em>sk</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lib-socket_8c_source.html#l00561">561</a> of file <a class="el" href="lib-socket_8c_source.html">lib-socket.c</a>.</p>

<p>Referenced by <a class="el" href="lib-socket_8c_source.html#l00568">lnet_sock_accept()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:46 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
