<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lu_server_fld Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lu_server_fld Struct Reference<br/>
<small>
[<a class="el" href="group__fld.html">fld</a>]</small>
</h1><!-- doxytag: class="lu_server_fld" -->
<p><code>#include &lt;<a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct proc_dir_entry *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__server__fld.html#ad33f8b7c944747f1d4a92e4f83a9984d">lsf_proc_dir</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fld dir proc entry.  <a href="#ad33f8b7c944747f1d4a92e4f83a9984d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__server__fld.html#a444bccf27f57be9dfb659d185e809ac6">lsf_obj</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">/fld file object device  <a href="#a444bccf27f57be9dfb659d185e809ac6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__server__fld.html#a58b909e2fbe544cb394a71a40148e16f">lsf_control_exp</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">super sequence controller export, needed to forward fld lookup request.  <a href="#a58b909e2fbe544cb394a71a40148e16f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfld__cache.html">fld_cache</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__server__fld.html#a830acf480ce13f8d991cc0557295fa92">lsf_cache</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Client FLD cache.  <a href="#a830acf480ce13f8d991cc0557295fa92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__server__fld.html#a4c2c31c32bc3ed33778317078112a40a">lsf_lock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Protect index modifications.  <a href="#a4c2c31c32bc3ed33778317078112a40a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__server__fld.html#a7d13ffdae44cc4b43ab554eb3cd3c440">lsf_name</a> [80]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fld service name in form "fld-srv-lustre-MDTXXX".  <a href="#a7d13ffdae44cc4b43ab554eb3cd3c440"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__server__fld.html#af5b50bd0685dbc4d18ba3b33b337e2cc">lsf_seq_lookup</a> )(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__server__fld.html">lu_server_fld</a> *fld, u64 seq, struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__server__fld.html#af086f11d1f22bf9ab9d3871b4f6452a1">lsf_new</a>:1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Just reformatted or upgraded, and this flag is being used to check whether the local FLDB is needs to be synced with global FLDB(in MDT0), and it is only needed if the MDT is upgraded from &lt; 2.6 to 2.6, i.e.  <a href="#af086f11d1f22bf9ab9d3871b4f6452a1"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="lustre__fld_8h_source.html#l00073">73</a> of file <a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a830acf480ce13f8d991cc0557295fa92"></a><!-- doxytag: member="lu_server_fld::lsf_cache" ref="a830acf480ce13f8d991cc0557295fa92" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfld__cache.html">fld_cache</a>* <a class="el" href="structlu__server__fld.html#a830acf480ce13f8d991cc0557295fa92">lu_server_fld::lsf_cache</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Client FLD cache. </p>

<p>Definition at line <a class="el" href="lustre__fld_8h_source.html#l00089">89</a> of file <a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>.</p>

<p>Referenced by <a class="el" href="fld__index_8c_source.html#l00160">fld_index_create()</a>, <a class="el" href="fld__index_8c_source.html#l00326">fld_index_init()</a>, <a class="el" href="fld__index_8c_source.html#l00233">fld_index_lookup()</a>, <a class="el" href="fld__handler_8c_source.html#l00205">fld_local_lookup()</a>, <a class="el" href="fld__handler_8c_source.html#l00487">fld_server_fini()</a>, <a class="el" href="fld__handler_8c_source.html#l00443">fld_server_init()</a>, and <a class="el" href="fld__handler_8c_source.html#l00241">fld_server_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a58b909e2fbe544cb394a71a40148e16f"></a><!-- doxytag: member="lu_server_fld::lsf_control_exp" ref="a58b909e2fbe544cb394a71a40148e16f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structobd__export.html">obd_export</a>* <a class="el" href="structlu__server__fld.html#a58b909e2fbe544cb394a71a40148e16f">lu_server_fld::lsf_control_exp</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>super sequence controller export, needed to forward fld lookup request. </p>

<p>Definition at line <a class="el" href="lustre__fld_8h_source.html#l00085">85</a> of file <a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>.</p>

<p>Referenced by <a class="el" href="fld__handler_8c_source.html#l00443">fld_server_init()</a>, <a class="el" href="fld__handler_8c_source.html#l00241">fld_server_lookup()</a>, <a class="el" href="fld__handler_8c_source.html#l00128">fld_update_from_controller()</a>, <a class="el" href="mdt__handler_8c_source.html#l03668">mdt_deregister_seq_exp()</a>, <a class="el" href="mdt__handler_8c_source.html#l03746">mdt_register_seq_exp()</a>, <a class="el" href="ofd__fs_8c_source.html#l00259">ofd_deregister_seq_exp()</a>, and <a class="el" href="ofd__fs_8c_source.html#l00527">ofd_register_seq_exp()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c2c31c32bc3ed33778317078112a40a"></a><!-- doxytag: member="lu_server_fld::lsf_lock" ref="a4c2c31c32bc3ed33778317078112a40a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mutex <a class="el" href="structlu__server__fld.html#a4c2c31c32bc3ed33778317078112a40a">lu_server_fld::lsf_lock</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Protect index modifications. </p>

<p>Definition at line <a class="el" href="lustre__fld_8h_source.html#l00093">93</a> of file <a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>.</p>

<p>Referenced by <a class="el" href="fld__index_8c_source.html#l00160">fld_index_create()</a>, <a class="el" href="fld__index_8c_source.html#l00326">fld_index_init()</a>, <a class="el" href="fld__index_8c_source.html#l00273">fld_insert_entry()</a>, <a class="el" href="fld__handler_8c_source.html#l00094">fld_server_create()</a>, <a class="el" href="fld__handler_8c_source.html#l00443">fld_server_init()</a>, <a class="el" href="fld__handler_8c_source.html#l00128">fld_update_from_controller()</a>, and <a class="el" href="fid__handler_8c_source.html#l00275">seq_server_check_and_alloc_super()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d13ffdae44cc4b43ab554eb3cd3c440"></a><!-- doxytag: member="lu_server_fld::lsf_name" ref="a7d13ffdae44cc4b43ab554eb3cd3c440" args="[80]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="structlu__server__fld.html#a7d13ffdae44cc4b43ab554eb3cd3c440">lu_server_fld::lsf_name</a>[80]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fld service name in form "fld-srv-lustre-MDTXXX". </p>

<p>Definition at line <a class="el" href="lustre__fld_8h_source.html#l00097">97</a> of file <a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>.</p>

<p>Referenced by <a class="el" href="fld__index_8c_source.html#l00086">fld_declare_index_create()</a>, <a class="el" href="fld__handler_8c_source.html#l00286">fld_handle_lookup()</a>, <a class="el" href="fld__index_8c_source.html#l00160">fld_index_create()</a>, <a class="el" href="fld__index_8c_source.html#l00326">fld_index_init()</a>, <a class="el" href="fld__index_8c_source.html#l00233">fld_index_lookup()</a>, <a class="el" href="fld__handler_8c_source.html#l00205">fld_local_lookup()</a>, <a class="el" href="fld__request_8c_source.html#l00065">fld_rrb_scan()</a>, <a class="el" href="fld__handler_8c_source.html#l00443">fld_server_init()</a>, <a class="el" href="fld__handler_8c_source.html#l00241">fld_server_lookup()</a>, <a class="el" href="fld__internal_8h_source.html#l00230">fld_target_name()</a>, and <a class="el" href="fld__handler_8c_source.html#l00128">fld_update_from_controller()</a>.</p>

</div>
</div>
<a class="anchor" id="af086f11d1f22bf9ab9d3871b4f6452a1"></a><!-- doxytag: member="lu_server_fld::lsf_new" ref="af086f11d1f22bf9ab9d3871b4f6452a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structlu__server__fld.html#af086f11d1f22bf9ab9d3871b4f6452a1">lu_server_fld::lsf_new</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Just reformatted or upgraded, and this flag is being used to check whether the local FLDB is needs to be synced with global FLDB(in MDT0), and it is only needed if the MDT is upgraded from &lt; 2.6 to 2.6, i.e. </p>
<p>when the local FLDB is being invited </p>

<p>Definition at line <a class="el" href="lustre__fld_8h_source.html#l00109">109</a> of file <a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>.</p>

<p>Referenced by <a class="el" href="fld__index_8c_source.html#l00326">fld_index_init()</a>, <a class="el" href="fld__handler_8c_source.html#l00128">fld_update_from_controller()</a>, <a class="el" href="mdt__handler_8c_source.html#l03710">mdt_register_lwp_callback()</a>, and <a class="el" href="ofd__fs_8c_source.html#l00483">ofd_register_lwp_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="a444bccf27f57be9dfb659d185e809ac6"></a><!-- doxytag: member="lu_server_fld::lsf_obj" ref="a444bccf27f57be9dfb659d185e809ac6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__object.html">dt_object</a>* <a class="el" href="structlu__server__fld.html#a444bccf27f57be9dfb659d185e809ac6">lu_server_fld::lsf_obj</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>/fld file object device </p>

<p>Definition at line <a class="el" href="lustre__fld_8h_source.html#l00080">80</a> of file <a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>.</p>

<p>Referenced by <a class="el" href="fld__index_8c_source.html#l00086">fld_declare_index_create()</a>, <a class="el" href="fld__index_8c_source.html#l00160">fld_index_create()</a>, <a class="el" href="fld__index_8c_source.html#l00446">fld_index_fini()</a>, <a class="el" href="fld__index_8c_source.html#l00326">fld_index_init()</a>, <a class="el" href="fld__index_8c_source.html#l00273">fld_insert_entry()</a>, and <a class="el" href="fld__index_8c_source.html#l00457">fld_server_read()</a>.</p>

</div>
</div>
<a class="anchor" id="ad33f8b7c944747f1d4a92e4f83a9984d"></a><!-- doxytag: member="lu_server_fld::lsf_proc_dir" ref="ad33f8b7c944747f1d4a92e4f83a9984d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct proc_dir_entry* <a class="el" href="structlu__server__fld.html#ad33f8b7c944747f1d4a92e4f83a9984d">lu_server_fld::lsf_proc_dir</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fld dir proc entry. </p>

<p>Definition at line <a class="el" href="lustre__fld_8h_source.html#l00076">76</a> of file <a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>.</p>

</div>
</div>
<a class="anchor" id="af5b50bd0685dbc4d18ba3b33b337e2cc"></a><!-- doxytag: member="lu_server_fld::lsf_seq_lookup" ref="af5b50bd0685dbc4d18ba3b33b337e2cc" args=")(const struct lu_env *env, struct lu_server_fld *fld, u64 seq, struct lu_seq_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structlu__server__fld.html#af5b50bd0685dbc4d18ba3b33b337e2cc">lu_server_fld::lsf_seq_lookup</a>)(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__server__fld.html">lu_server_fld</a> *fld, u64 seq, struct <a class="el" href="structlu__seq__range.html">lu_seq_range</a> *range)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fld__handler_8c_source.html#l00443">fld_server_init()</a>, <a class="el" href="llog__osd_8c_source.html#l01295">llog_osd_get_regular_fid_dir()</a>, and <a class="el" href="update__recovery_8c_source.html#l00659">update_is_committed()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:53 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
