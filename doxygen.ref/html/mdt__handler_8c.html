<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/mdt/mdt_handler.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/mdt/mdt_handler.c File Reference</h1><code>#include &lt;linux/module.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="dt__object_8h_source.html">dt_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__acl_8h_source.html">lustre_acl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__export_8h_source.html">lustre_export.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__ioctl_8h_source.html">lustre_ioctl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__lfsck_8h_source.html">lustre_lfsck.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__nodemap_8h_source.html">lustre_nodemap.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__mds_8h_source.html">lustre_mds.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__param_8h_source.html">lustre_param.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__quota_8h_source.html">lustre_quota.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__swab_8h_source.html">lustre_swab.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd_8h_source.html">obd.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="llog__swab_8h_source.html">llog_swab.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="mdt__internal_8h_source.html">mdt_internal.h</a>&quot;</code><br/>

<p><a href="mdt__handler_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmdt__it__flavor.html">mdt_it_flavor</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_MDS</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a> { <br/>
&nbsp;&nbsp;<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009a1ab1cfc240d2c599c0e165c0dd718c09">MDT_IT_OPEN</a>, 
<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009a1bea109a02a7393b44272e0c2d8346ed">MDT_IT_OCREAT</a>, 
<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009aa07cba5b76d532587212e41dd1ddaee9">MDT_IT_CREATE</a>, 
<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009a24a20a725cba55f240b5ce1309ec2adf">MDT_IT_GETATTR</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009a32325368673598765d5660928ad4c57a">MDT_IT_READDIR</a>, 
<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009a846e21cc0b3940b829e1852b1bb0c06c">MDT_IT_LOOKUP</a>, 
<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009abfc54fdb17d823f2f79416b635ec77cb">MDT_IT_UNLINK</a>, 
<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009afcf2840f960a09c9311c7eedea5bfc5e">MDT_IT_TRUNC</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009aa0348ca0d80b6c59b1fd53a50f7698d2">MDT_IT_GETXATTR</a>, 
<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009ac51cf70d334a8f4dd57ef8388882896b">MDT_IT_LAYOUT</a>, 
<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009a054b61b8a3280ac785d9d03b00c10be2">MDT_IT_QUOTA</a>, 
<a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009a0be544aeabf78a7773ef72a8904fc562">MDT_IT_NR</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#aa41e1d367c94aedfe9dcb25727e96ba1">module_param</a> (<a class="el" href="mdt__handler_8c.html#ae63369d2562fe5032206dd0e13611637">max_mod_rpcs_per_client</a>, uint, 0644)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a47d935eb7e20ff51c8621833ddf1105b">MODULE_PARM_DESC</a> (<a class="el" href="mdt__handler_8c.html#ae63369d2562fe5032206dd0e13611637">max_mod_rpcs_per_client</a>,&quot;maximum number of modify RPCs in flight allowed per client&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a2398f7eb47a39c9c6c06944774649709">mdt_unpack_req_pack_rep</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a647fa716eeb2bad0062c436a7fa086d9">mdt_get_disposition</a> (struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *rep, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> op_flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a1b25a49327bb44e717794314a04d9cbb">mdt_clear_disposition</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *rep, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> op_flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#abc91f6ad8fc0ec7541491e8f4ff11c55">mdt_set_disposition</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *rep, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> op_flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a057dbab8fe1bb026cb4619cf634b6e30">mdt_lock_reg_init</a> (struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> lm)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#adc3eaeaa3a5057c5f67c31f89a121128">mdt_lock_pdo_init</a> (struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> lock_mode, const struct <a class="el" href="structlu__name.html">lu_name</a> *lname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#aa1b815a231c3f4ac8e19b567c88df0ad">mdt_lock_pdo_mode</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a8ff50d4ae2b232248d4b6d81095b41f4">mdt_lookup_fileset</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, const char *fileset, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#aed52e488e7d997baa26af4d3fa3c9e2f">mdt_get_root</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a8a5dace5b5223f1861fb49b237da6e7f">mdt_statfs</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a498f298746784b9da4b02f5c28b46ec3">mdt_pack_attr2body</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__body.html">mdt_body</a> *b, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ae5c310db14ad2e518aa82031520a4bf0">mdt_body_has_lov</a> (const struct <a class="el" href="structlu__attr.html">lu_attr</a> *la, const struct <a class="el" href="structmdt__body.html">mdt_body</a> *body)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a3f0d9433130587fdde05657ee8bd2868">mdt_client_compatibility</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a9d1ff31895008746f334e287ecb1685d">mdt_attr_get_eabuf_size</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#abae6fa57578da1649aa1476327700059">mdt_big_xattr_get</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a1f2e82b00a1396a71d09c6f73d8d4239">mdt_stripe_get</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmd__attr.html">md_attr</a> *ma, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a202161491733072786534843ace2d4b1">mdt_attr_get_pfid</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structlu__fid.html">lu_fid</a> *pfid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a100b5c15f7d5b5e9791ffb04300047db">mdt_attr_get_complex</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmd__attr.html">md_attr</a> *ma)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a559a5ef9026b088b82faf4ea64889336">mdt_getattr_internal</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, int ma_need)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ac67713a1803bac9153675b9e3689829e">mdt_getattr</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#adb82fbf77a81b7a39126ae55f7dd8a5d">mdt_swap_lov_flag</a> (struct <a class="el" href="structmdt__object.html">mdt_object</a> *o1, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exchange MOF_LOV_CREATED flags between two objects after a layout swap.  <a href="#adb82fbf77a81b7a39126ae55f7dd8a5d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a87642c45c295aa016f3b0949fe31d127">mdt_swap_layouts</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a4dcf70dd9f2fd4ef9f2d426adffbc12d">mdt_raw_lookup</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *parent, const struct <a class="el" href="structlu__name.html">lu_name</a> *lname, struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *ldlm_rep)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a582bdc4a28a34a97aabf4d5338f69a1f">mdt_getattr_name_lock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lhc, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> child_bits, struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *ldlm_rep)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a34b8164a49980f9588777d357c8a941c">mdt_getattr_name</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a1083c21c6db89e93f0142126333899f7">mdt_iocontrol</a> (unsigned int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, int len, void *karg, void __user *uarg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a4011b239a53872602194e93e6d864ae6">mdt_set_info</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ade71de606bc5e02ca48f63a2d131a710">mdt_readpage</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a4ac4a080ccc211cafa3eb2ee3ae5c411">mdt_reint_internal</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lhc, __u32 <a class="el" href="iam__ut_8c.html#a99a30df0f2488360cdd46b4b88e5f5f0">op</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ac6d6e4697f2b0eafe1f76ad25ac05341">mdt_reint_opcode</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, const struct <a class="el" href="structreq__format.html">req_format</a> **fmt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a2a09bd0d5e24dfe775cc109a7576f8d7">mdt_reint</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a8aedd06980550b24cf50e9353f03c1b1">mdt_device_sync</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ae166287cf5c953ca9babaca70dcd22ef">mdt_object_sync</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a342c392305bcc8adad46dd992c81363b">mdt_sync</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a4d80e7e77c3ae55daf66f4356716fe4c">mdt_quotactl</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a3d057105b918a4d6ffc6da989c4fc27b">mdt_llog_ctxt_clone</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt, int idx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clone llog ctxt from child (mdd) This allows remote llog (replicator) access.  <a href="#a3d057105b918a4d6ffc6da989c4fc27b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a02a1e79d79bc08ec72c4f8fe81354d03">mdt_llog_ctxt_unclone</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt, int idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a867baf637230dcc8694637cd3b0cead8">mdt_sec_ctx_handle</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a7b5d2bb5ff9aa2bf81d9a668017cde13">mdt_quota_dqacq</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a5084f77dcf6f3cfc2e204eee9d1786ff">mdt_object_new</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *d, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#adb49d144aef996ae26399713b415adc9">mdt_object_find</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *d, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#abde7f720a75b49ba1fe3442e56ec7f61">mdt_device_commit_async</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Asyncronous commit for mdt device.  <a href="#abde7f720a75b49ba1fe3442e56ec7f61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a9fa080ca8234c7fdf4946e82a900814f">mdt_set_lock_sync</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mark the lock as "synchonous".  <a href="#a9fa080ca8234c7fdf4946e82a900814f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a0fbc06bf4c25a907e46cd4d14e59b6d8">mdt_is_lock_sync</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whehter the lock "synchonous" or not.  <a href="#a0fbc06bf4c25a907e46cd4d14e59b6d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a958b4363367afad1403364b708983b0a">mdt_blocking_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *desc, void *data, int flag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Blocking AST for mdt locks.  <a href="#a958b4363367afad1403364b708983b0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a73ffd45c980ee324bea1002e238d4e89">mdt_remote_blocking_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *desc, void *data, int flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a1b24c1ea4d6c0fe92e1f8c9b23b429f7">mdt_check_resent_lock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *mo, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lhc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#acbf7a7fa2fb5b6900518fd9b3337ec85">mdt_remote_object_lock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *mti, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lh, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits, bool nonblock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a035d1de4072857c7c024a78266434422">mdt_object_local_lock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits, bool nonblock, bool cos_incompat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#abfac4bbef3d315cabd3c4362cf01e989">mdt_object_lock_internal</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits, bool nonblock, bool cos_incompat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#acf0893e2cf24937c7a988b050661e602">mdt_object_lock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ae9934615f2114e5f95171bdea12e04cf">mdt_reint_object_lock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits, bool cos_incompat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ab800fc69892bab9b07cb40947c644b45">mdt_object_lock_try</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a6a1a5e5409f608767f4f4dee46789a97">mdt_reint_object_lock_try</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits, bool cos_incompat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a3ec50ae09de62871656448912292b5e8">mdt_save_lock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *h, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, int decref)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save a lock within request object.  <a href="#a3ec50ae09de62871656448912292b5e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a9e12f21fce08c4bc48294e32dc2be234">mdt_save_remote_lock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *h, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, int decref)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save cross-MDT lock in uncommitted_slc_locks.  <a href="#a9e12f21fce08c4bc48294e32dc2be234"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a6b11524585025201c5d2ba6d8c2b7d9a">mdt_object_unlock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, int decref)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock mdt object.  <a href="#a6b11524585025201c5d2ba6d8c2b7d9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#af77e6d3a9ed43f03b67b4dd7a9af71b2">mdt_object_find_lock</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ibits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#acb773320341da6f4bdc8f745002ca7c3">mdt_object_unlock_put</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *o, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, int decref)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a26d06f4b62da6c19d7195d5a7ecbd6b1">mdt_body_unpack</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ae6b6dc2598d9874731adb97c86eb3ce1">mdt_lock_handle_init</a> (struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ab6ef20f272cabc8315a7f07e4416a37c">mdt_lock_handle_fini</a> (struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a51e275eae18f493bb4a175ec1ec4e75e">mdt_thread_info_init</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a9e93da70523c7e61a1a7bda9d7749a2c">mdt_thread_info_fini</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a60e67e7a7d074e6db83eaa77815db518">tsi2mdt_info</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a88f326039dd2fd6a9feeceff962d9fab">mdt_tgt_connect</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#abec6790bc6922ba860063fa31f02aae9">mdt_intent_getattr</a> (enum <a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a> opcode, struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a34327e3509bd0143e9a30d0168deec69">mdt_intent_getxattr</a> (enum <a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a> opcode, struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **lockp, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#aa374cc84b1f2a14b20d4479256c11353">mdt_intent_layout</a> (enum <a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a> opcode, struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ad08b5b6789ad1cf0fa13dce9388bab2b">mdt_intent_reint</a> (enum <a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a> opcode, struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ae651cc762238071041a3c2b7792f98e0">mdt_intent_lock_replace</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **lockp, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags, int result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ae17793f9581ad87eb2de64b4520d2292">mdt_intent_fixup_resent</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *new_lock, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a3fe440f053a74ca1c2a8268dffecef6f">mdt_intent_code</a> (enum <a class="el" href="group__lustreidl.html#ga9c053c844f0d79b44f18bb65850a6081">ldlm_intent_flags</a> itcode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a85ef7b9801d09801bf187e9de5973224">mdt_intent_opc</a> (enum <a class="el" href="group__lustreidl.html#ga9c053c844f0d79b44f18bb65850a6081">ldlm_intent_flags</a> itopc, struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **lockp, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a348c306f1f972930594ed2a96e7a65ba">mdt_intent_policy</a> (struct <a class="el" href="structldlm__namespace.html">ldlm_namespace</a> *ns, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **lockp, void *req_cookie, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a625f4d92fb6f107914ff13008b5af2cf">mdt_deregister_seq_exp</a> (struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a67986b7b82b8e5ffb09e99b5710f45d0">mdt_seq_fini_cli</a> (struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a931de0e3386464cc24cedb0b913420bd">mdt_seq_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#aa449a321b7221ae7b684a6b259882c2c">mdt_register_lwp_callback</a> (void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It will retrieve its FLDB entries from MDT0, and it only happens when upgrading existent FS to 2.6 or when local FLDB is corrupted, and it needs to refresh FLDB from the MDT0.  <a href="#aa449a321b7221ae7b684a6b259882c2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a08a58e4f7493af20fea6a07004bd1470">mdt_register_seq_exp</a> (struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a512c0d41ed59ddecc552a3aa9ef7ada9">mdt_seq_init_cli</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ac23017307d45f64f60ee9a361414fb86">mdt_seq_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a1f6256f7ba346827c16bccff829c6d14">mdt_fld_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a207a53c6ff72ad62c01dbd2b08aa8868">mdt_fld_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const char *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>, struct <a class="el" href="structmdt__device.html">mdt_device</a> *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a7e3832b38a9e235d3863cb5d6bee6e85">mdt_stack_pre_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *m, struct <a class="el" href="structlu__device.html">lu_device</a> *top)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a21098ff5861c91472882b9cff8d13f71">mdt_stack_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *m, struct <a class="el" href="structlu__device.html">lu_device</a> *top)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a26100afac11d2808265acdb5148870fe">mdt_connect_to_next</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *m, const char *next, struct <a class="el" href="structobd__export.html">obd_export</a> **exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#afb85fb3d400b44e2ee678e15d3018933">mdt_stack_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a4be8d75831b71a1c37ea003edb4a0cb7">mdt_quota_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a968cd82e0401d4a84add63888c178fe5">mdt_quota_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a2a4bf223fe6bab0be98fa859483e1c27">mdt_tgt_getxattr</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a207a0f61d5ad106fea7add54db07b335">mdt_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#aea09efc8cb785decd622604197c699d9">mdt_postrecov</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *, struct <a class="el" href="structmdt__device.html">mdt_device</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a633782e3f85904037bef727d4c696a90">mdt_init0</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *m, struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *ldt, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a37bc56d1c9b9370f1b0409c5da1b0541">mdt_process_config</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a9fd44b82cf12fe3607bcb3d94d5db8ae">mdt_object_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *hdr, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a56f1d774edd383dfdf93ff52ef6f52fa">mdt_object_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *unused)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a8d720d8b96646a334c0b134fb80bf07f">mdt_object_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ab23a03561fd4ba72fc0caacb9fea8940">mdt_object_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> p, const struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ab3ba9eca72049af9c42dcd379c2c5564">mdt_prepare</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *pdev, struct <a class="el" href="structlu__device.html">lu_device</a> *cdev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ac6d92f2a6a4dcb68fe9adef79cf5de9f">mdt_obd_set_info_async</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, __u32 keylen, void *key, __u32 vallen, void *val, struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#afea0c8a4ab33d1fbefec16d6dbca985f">mdt_connect_internal</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt, struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Match client and server connection feature flags.  <a href="#afea0c8a4ab33d1fbefec16d6dbca985f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ac8701ba997d7d7a0183075ecae109c55">mdt_ctxt_add_dirty_flag</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__file__data.html">mdt_file_data</a> *mfd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a753b5dbc7f4ce8c0227222107dcae0fc">mdt_export_cleanup</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a5b1bf347ce9bc78eae53b128ed85e9e5">mdt_enable_slc</a> (struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a5e49ebd1e4bb7ef8b3b47b431e198a1d">mdt_disable_slc</a> (struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a1f53292c026af0978fc052f966ef5e96">mdt_obd_disconnect</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#abdb0e1782d1346feac977418314a6e77">mdt_obd_connect</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> **exp, struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *cluuid, struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *data, void *localdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a349ddbaf1f171ad1a45436b3ee48d73d">mdt_obd_reconnect</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *cluuid, struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *data, void *localdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a685dee2cdd47ebd4495f74fdd4d5a1a1">mdt_init_export</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a1bb74a32c8828d17b9a875e24d6f76fd">mdt_destroy_export</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a88569336fb1cf970703e6f7a50bfe8a5">mdt_links_read</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *mdt_obj, struct <a class="el" href="structlinkea__data.html">linkea_data</a> *ldata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a31cc96fb38ecb412d087e6bfee7c7829">mdt_path_current</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *obj, struct <a class="el" href="structgetinfo__fid2path.html">getinfo_fid2path</a> *fp, struct <a class="el" href="structlu__fid.html">lu_fid</a> *root_fid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given an MDT object, try to look up the full path to the object.  <a href="#a31cc96fb38ecb412d087e6bfee7c7829"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a39937e44f0a1f2d88a239c922f79afa3">mdt_path</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *obj, struct <a class="el" href="structgetinfo__fid2path.html">getinfo_fid2path</a> *fp, struct <a class="el" href="structlu__fid.html">lu_fid</a> *root_fid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given an MDT object, use mdt_path_current to get the path.  <a href="#a39937e44f0a1f2d88a239c922f79afa3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a9f7991e2d193a7a10127298b245db27f">mdt_fid2path</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structlu__fid.html">lu_fid</a> *root_fid, struct <a class="el" href="structgetinfo__fid2path.html">getinfo_fid2path</a> *fp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the full path of the provided FID, as of changelog record recno.  <a href="#a9f7991e2d193a7a10127298b245db27f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ab9e41a237c0ecfb89ff0bf1ad7482567">mdt_rpc_fid2path</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, void *key, int keylen, void *val, int vallen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a96fb16cba972a4017696b683ac3d5076">mdt_get_info</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ad8ebae843e02fc4f9c641dadba2fca5f">mdt_ioc_child</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt, unsigned int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, int len, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a775fd4248ef1c2734a897e3d4540a62d">mdt_ioc_version_get</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *mti, void *karg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a152fc9b04727a6a087a891a9c5c39627">mdt_obd_postrecov</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a65baabc2425bb105ece445103ebca612">mdt_device_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a742b563ca9361d519fbe53d3679bc60c">mdt_device_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a022315df5b43d889e310dfbf681ea9d4">mdt_device_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *t, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a2d513cf08ef86912bec8021767be0f74">LU_KEY_INIT</a> (mdt, struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a35c26cefbeb6567c743694e9fd6e0ef3">mdt_key_fini</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a17774deacb21ae2fc173cd30a580eee6">LU_CONTEXT_KEY_DEFINE</a> (mdt, LCT_MD_THREAD)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a756df180ff195deb2a9cb4e497d78bd1">mdt_ucred</a> (const struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ac419ee17745634343feedaf732be998c">mdt_ucred_check</a> (const struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a777052cf0ebebe6a6357097baeb9d0c3">mdt_enable_cos</a> (struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt, int val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable/disable COS (Commit On Sharing).  <a href="#a777052cf0ebebe6a6357097baeb9d0c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a6bb16bfd565a2bfba1dfd0708d74a406">mdt_cos_is_enabled</a> (struct <a class="el" href="structmdt__device.html">mdt_device</a> *mdt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check COS (Commit On Sharing) status.  <a href="#a6bb16bfd565a2bfba1dfd0708d74a406"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int __init&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a5b096d165f603dd0bdccbc481ac8ef0f">mdt_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void __exit&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ace715eb3f2776fff82c0206b3a55b230">mdt_exit</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#adc10f40acba3bb9b2640e985276b0a7c">MODULE_AUTHOR</a> (&quot;OpenSFS, Inc. &lt;http://www.lustre.org/&gt;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a7f750e611e8186af0f8f6806152b05eb">MODULE_DESCRIPTION</a> (&quot;Lustre Metadata Target (&quot;LUSTRE_MDT_NAME&quot;)&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ae9c321be2136fb8501887ee69dac11a2">MODULE_VERSION</a> (LUSTRE_VERSION_STRING)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ad94b36675e7eb067ea3ce6ff9e244a44">MODULE_LICENSE</a> (&quot;GPL&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a35cc21d52189fd495c13164770fe3c6d">module_init</a> (mdt_init)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a1b4984b63c495f17542d18208ddfaa57">module_exit</a> (mdt_exit)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ae63369d2562fe5032206dd0e13611637">max_mod_rpcs_per_client</a> = 8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__md.html#gaeff7094cae9099800057edce10196e98">mdl_mode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a1b4a26c6568b23d58b864ca552e9dad8">mdt_mdl_lock_modes</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ad5495cc0fb2320b79d27fb0eb2f8c675">mdt_dlm_lock_modes</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ab0ef1f6d315a253d4907c19e8297fdb3">mdt_obj_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ada683c11bc9da75d3a7f525066a2ebb3">mdt_object_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a9586a76ec8e763abdcaca0585df25515">mdt_hsm_cdt_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a00d67c8b3c100ebd34463e63e4d15cff">mdt_hsm_car_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ac403d6f4b8c7a896746e51b745b73c95">mdt_caches</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structtgt__handler.html">tgt_handler</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a9f8dfc26bef0d8ad0f8cf121f7353cc7">mdt_tgt_handlers</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structtgt__handler.html">tgt_handler</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a3df82c00da259686dbbcf0017c00b75f">mdt_sec_ctx_ops</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structtgt__handler.html">tgt_handler</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a27a648473cb4606a7a67ecba6988bd24">mdt_quota_ops</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structtgt__opc__slice.html">tgt_opc_slice</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a60126aa2a9afdffe194ea816aa48a4e3">mdt_common_slice</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfg__interop__param.html">cfg_interop_param</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#abf7193841f82bce55738d2ee36e775d4">mdt_interop_param</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a5b9c1a5297b0749fe033e3ad82b414c5">mdt_lu_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structobd__ops.html">obd_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#ab6b912f7a293442315b1510851216ac1">mdt_obd_device_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <br class="typebreak"/>
<a class="el" href="structlu__device__type__operations.html">lu_device_type_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#a183f5eba96afd66d9fe0e17af7313e3b">mdt_device_type_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device__type.html">lu_device_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__handler_8c.html#acf129a25768121f217348ae2b07be1bf">mdt_device_type</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="mdt_handler.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_MDS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00049">49</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009"></a><!-- doxytag: member="mdt_handler.c::mdt_it_code" ref="a859ce5abbf88eb7010176efbfa6df009" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009a1ab1cfc240d2c599c0e165c0dd718c09"></a><!-- doxytag: member="MDT_IT_OPEN" ref="a859ce5abbf88eb7010176efbfa6df009a1ab1cfc240d2c599c0e165c0dd718c09" args="" -->MDT_IT_OPEN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009a1bea109a02a7393b44272e0c2d8346ed"></a><!-- doxytag: member="MDT_IT_OCREAT" ref="a859ce5abbf88eb7010176efbfa6df009a1bea109a02a7393b44272e0c2d8346ed" args="" -->MDT_IT_OCREAT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009aa07cba5b76d532587212e41dd1ddaee9"></a><!-- doxytag: member="MDT_IT_CREATE" ref="a859ce5abbf88eb7010176efbfa6df009aa07cba5b76d532587212e41dd1ddaee9" args="" -->MDT_IT_CREATE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009a24a20a725cba55f240b5ce1309ec2adf"></a><!-- doxytag: member="MDT_IT_GETATTR" ref="a859ce5abbf88eb7010176efbfa6df009a24a20a725cba55f240b5ce1309ec2adf" args="" -->MDT_IT_GETATTR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009a32325368673598765d5660928ad4c57a"></a><!-- doxytag: member="MDT_IT_READDIR" ref="a859ce5abbf88eb7010176efbfa6df009a32325368673598765d5660928ad4c57a" args="" -->MDT_IT_READDIR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009a846e21cc0b3940b829e1852b1bb0c06c"></a><!-- doxytag: member="MDT_IT_LOOKUP" ref="a859ce5abbf88eb7010176efbfa6df009a846e21cc0b3940b829e1852b1bb0c06c" args="" -->MDT_IT_LOOKUP</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009abfc54fdb17d823f2f79416b635ec77cb"></a><!-- doxytag: member="MDT_IT_UNLINK" ref="a859ce5abbf88eb7010176efbfa6df009abfc54fdb17d823f2f79416b635ec77cb" args="" -->MDT_IT_UNLINK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009afcf2840f960a09c9311c7eedea5bfc5e"></a><!-- doxytag: member="MDT_IT_TRUNC" ref="a859ce5abbf88eb7010176efbfa6df009afcf2840f960a09c9311c7eedea5bfc5e" args="" -->MDT_IT_TRUNC</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009aa0348ca0d80b6c59b1fd53a50f7698d2"></a><!-- doxytag: member="MDT_IT_GETXATTR" ref="a859ce5abbf88eb7010176efbfa6df009aa0348ca0d80b6c59b1fd53a50f7698d2" args="" -->MDT_IT_GETXATTR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009ac51cf70d334a8f4dd57ef8388882896b"></a><!-- doxytag: member="MDT_IT_LAYOUT" ref="a859ce5abbf88eb7010176efbfa6df009ac51cf70d334a8f4dd57ef8388882896b" args="" -->MDT_IT_LAYOUT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009a054b61b8a3280ac785d9d03b00c10be2"></a><!-- doxytag: member="MDT_IT_QUOTA" ref="a859ce5abbf88eb7010176efbfa6df009a054b61b8a3280ac785d9d03b00c10be2" args="" -->MDT_IT_QUOTA</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a859ce5abbf88eb7010176efbfa6df009a0be544aeabf78a7773ef72a8904fc562"></a><!-- doxytag: member="MDT_IT_NR" ref="a859ce5abbf88eb7010176efbfa6df009a0be544aeabf78a7773ef72a8904fc562" args="" -->MDT_IT_NR</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03013">3013</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a17774deacb21ae2fc173cd30a580eee6"></a><!-- doxytag: member="mdt_handler.c::LU_CONTEXT_KEY_DEFINE" ref="a17774deacb21ae2fc173cd30a580eee6" args="(mdt, LCT_MD_THREAD)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_CONTEXT_KEY_DEFINE </td>
          <td>(</td>
          <td class="paramtype">mdt&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LCT_MD_THREAD&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d513cf08ef86912bec8021767be0f74"></a><!-- doxytag: member="mdt_handler.c::LU_KEY_INIT" ref="a2d513cf08ef86912bec8021767be0f74" args="(mdt, struct mdt_thread_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_KEY_INIT </td>
          <td>(</td>
          <td class="paramtype">mdt&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a100b5c15f7d5b5e9791ffb04300047db"></a><!-- doxytag: member="mdt_handler.c::mdt_attr_get_complex" ref="a100b5c15f7d5b5e9791ffb04300047db" args="(struct mdt_thread_info *info, struct mdt_object *o, struct md_attr *ma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_attr_get_complex </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__attr.html">md_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>ma</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00819">819</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lu__object_8h_source.html#l00860">lu_object_attr()</a>, <a class="el" href="md__attrs_8c_source.html#l00097">lustre_buf2hsm()</a>, <a class="el" href="md__object_8h_source.html#l00124">md_attr::ma_acl</a>, <a class="el" href="md__object_8h_source.html#l00076">MA_ACL_DEF</a>, <a class="el" href="md__object_8h_source.html#l00127">md_attr::ma_acl_size</a>, <a class="el" href="md__object_8h_source.html#l00121">md_attr::ma_hsm</a>, <a class="el" href="md__object_8h_source.html#l00078">MA_HSM</a>, <a class="el" href="md__object_8h_source.html#l00072">MA_INODE</a>, <a class="el" href="md__object_8h_source.html#l00122">md_attr::ma_lmm</a>, <a class="el" href="md__object_8h_source.html#l00075">MA_LMV</a>, <a class="el" href="md__object_8h_source.html#l00080">MA_LMV_DEF</a>, <a class="el" href="md__object_8h_source.html#l00073">MA_LOV</a>, <a class="el" href="md__object_8h_source.html#l00117">md_attr::ma_need</a>, <a class="el" href="md__object_8h_source.html#l00120">md_attr::ma_pfid</a>, <a class="el" href="md__object_8h_source.html#l00079">MA_PFID</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="mdt__handler_8c_source.html#l00772">mdt_attr_get_pfid()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__handler_8c_source.html#l00697">mdt_stripe_get()</a>, <a class="el" href="md__object_8h_source.html#l00338">mo_attr_get()</a>, <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00418">mdt_thread_info::mti_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00429">mdt_thread_info::mti_xattr_buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l01589">XATTR_NAME_ACL_DEFAULT</a>, <a class="el" href="lustre__idl_8h_source.html#l01597">XATTR_NAME_DEFAULT_LMV</a>, <a class="el" href="lustre__idl_8h_source.html#l01602">XATTR_NAME_HSM</a>, <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

<p>Referenced by <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00249">hsm_action_permission()</a>, <a class="el" href="mdt__reint_8c_source.html#l00678">mdt_add_dirty_flag()</a>, <a class="el" href="mdt__open_8c_source.html#l00112">mdt_create_data()</a>, <a class="el" href="mdt__open_8c_source.html#l01128">mdt_cross_open()</a>, <a class="el" href="mdt__handler_8c_source.html#l00905">mdt_getattr_internal()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00060">mdt_hsm_get_md_hsm()</a>, <a class="el" href="mdt__open_8c_source.html#l01613">mdt_hsm_release()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00197">mdt_hsm_state_get()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00254">mdt_hsm_state_set()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__open_8c_source.html#l00733">mdt_open_by_fid()</a>, <a class="el" href="mdt__open_8c_source.html#l01018">mdt_open_by_fid_lock()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00239">mdt_reconstruct_create()</a>, <a class="el" href="mdt__open_8c_source.html#l00623">mdt_reconstruct_open()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00286">mdt_reconstruct_setattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l01503">mdt_reint_migrate_internal()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, <a class="el" href="mdt__reint_8c_source.html#l00715">mdt_reint_setattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>, and <a class="el" href="mdt__handler_8c_source.html#l01970">mdt_sync()</a>.</p>

</div>
</div>
<a class="anchor" id="a9d1ff31895008746f334e287ecb1685d"></a><!-- doxytag: member="mdt_handler.c::mdt_attr_get_eabuf_size" ref="a9d1ff31895008746f334e287ecb1685d" args="(struct mdt_thread_info *info, struct mdt_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_attr_get_eabuf_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00625">625</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lu__object_8c_source.html#l02333">LU_BUF_NULL</a>, <a class="el" href="lu__object_8h_source.html#l00860">lu_object_attr()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="lustre__idl_8h_source.html#l01597">XATTR_NAME_DEFAULT_LMV</a>, <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01136">mdt_getattr()</a>, and <a class="el" href="mdt__handler_8c_source.html#l03365">mdt_intent_layout()</a>.</p>

</div>
</div>
<a class="anchor" id="a202161491733072786534843ace2d4b1"></a><!-- doxytag: member="mdt_handler.c::mdt_attr_get_pfid" ref="a202161491733072786534843ace2d4b1" args="(struct mdt_thread_info *info, struct mdt_object *o, struct lu_fid *pfid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_attr_get_pfid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>pfid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00772">772</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00039">__swab32</a>, <a class="el" href="byteorder_8h_source.html#l00040">__swab64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00786">fid_be_to_cpu()</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03687">link_ea_entry::lee_parent_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l03675">link_ea_header::leh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03673">link_ea_header::leh_magic</a>, <a class="el" href="lustre__idl_8h_source.html#l03674">link_ea_header::leh_reccount</a>, <a class="el" href="lustre__idl_8h_source.html#l03671">LINK_EA_MAGIC</a>, <a class="el" href="mdt__handler_8c_source.html#l00658">mdt_big_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00424">mdt_thread_info::mti_big_lmm</a>, <a class="el" href="mdt__internal_8h_source.html#l00425">mdt_thread_info::mti_big_lmmsize</a>, <a class="el" href="mdt__internal_8h_source.html#l00418">mdt_thread_info::mti_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l00819">mdt_attr_get_complex()</a>.</p>

</div>
</div>
<a class="anchor" id="abae6fa57578da1649aa1476327700059"></a><!-- doxytag: member="mdt_handler.c::mdt_big_xattr_get" ref="abae6fa57578da1649aa1476327700059" args="(struct mdt_thread_info *info, struct mdt_object *o, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_big_xattr_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00658">658</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8c_source.html#l02333">LU_BUF_NULL</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00424">mdt_thread_info::mti_big_lmm</a>, <a class="el" href="mdt__internal_8h_source.html#l00427">mdt_thread_info::mti_big_lmm_used</a>, <a class="el" href="mdt__internal_8h_source.html#l00425">mdt_thread_info::mti_big_lmmsize</a>, <a class="el" href="mdt__internal_8h_source.html#l00418">mdt_thread_info::mti_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, and <a class="el" href="lustre__sec_8h_source.html#l00941">size_roundup_power2()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l00772">mdt_attr_get_pfid()</a>, <a class="el" href="mdt__reint_8c_source.html#l00336">mdt_init_slaves()</a>, and <a class="el" href="mdt__handler_8c_source.html#l00697">mdt_stripe_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a958b4363367afad1403364b708983b0a"></a><!-- doxytag: member="mdt_handler.c::mdt_blocking_ast" ref="a958b4363367afad1403364b708983b0a" args="(struct ldlm_lock *lock, struct ldlm_lock_desc *desc, void *data, int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_blocking_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Blocking AST for mdt locks. </p>
<p>Starts transaction commit if in case of COS lock conflict or deffers such a commit to the mdt_save_lock.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lock</em>&nbsp;</td><td>the lock which blocks a request or cancelling lock </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desc</em>&nbsp;</td><td>unused </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flag</em>&nbsp;</td><td>indicates whether this cancelling or blocking callback </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__ldlm__local__ast.html#ga9962ac0cc2bd7e279cf0b977d822feb3" title="A helper to build a blocking AST function.">ldlm_blocking_ast_nocheck</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02308">2308</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00741">ldlm_lock::l_blocking_ast</a>, <a class="el" href="lustre__dlm_8h_source.html#l00875">ldlm_lock::l_blocking_lock</a>, <a class="el" href="lustre__dlm_8h_source.html#l00833">ldlm_lock::l_client_cookie</a>, <a class="el" href="lustre__dlm_8h_source.html#l00724">ldlm_lock::l_req_mode</a>, <a class="el" href="lustre__idl_8h_source.html#l02805">LCK_COS</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lu__object_8h_source.html#l01024">LCT_LOCAL</a>, <a class="el" href="ldlm__request_8c_source.html#l00315">ldlm_blocking_ast_nocheck()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00104">LDLM_CB_CANCELING</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00137">ldlm_is_cos_incompat</a>, <a class="el" href="lustre__dlm_8h_source.html#l01006">ldlm_lock_to_ns()</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l02308">mdt_blocking_ast()</a>, <a class="el" href="mdt__handler_8c_source.html#l06104">mdt_cos_is_enabled()</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__handler_8c_source.html#l02250">mdt_device_commit_async()</a>, <a class="el" href="mdt__handler_8c_source.html#l02275">mdt_set_lock_sync()</a>, <a class="el" href="mdt__internal_8h_source.html#l00982">mdt_slc_is_enabled()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00371">ldlm_namespace::ns_obd</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02308">mdt_blocking_ast()</a>, <a class="el" href="mdt__internal_8h_source.html#l00959">mdt_fid_lock()</a>, and <a class="el" href="mdt__reint_8c_source.html#l00378">mdt_lock_slaves()</a>.</p>

</div>
</div>
<a class="anchor" id="ae5c310db14ad2e518aa82031520a4bf0"></a><!-- doxytag: member="mdt_handler.c::mdt_body_has_lov" ref="ae5c310db14ad2e518aa82031520a4bf0" args="(const struct lu_attr *la, const struct mdt_body *body)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_body_has_lov </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmdt__body.html">mdt_body</a> *&nbsp;</td>
          <td class="paramname"> <em>body</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00593">593</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l01684">OBD_MD_FLDIREA</a>, and <a class="el" href="lustre__idl_8h_source.html#l01672">OBD_MD_FLEASIZE</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l00600">mdt_client_compatibility()</a>, and <a class="el" href="mdt__handler_8c_source.html#l00905">mdt_getattr_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a26d06f4b62da6c19d7195d5a7ecbd6b1"></a><!-- doxytag: member="mdt_handler.c::mdt_body_unpack" ref="a26d06f4b62da6c19d7195d5a7ecbd6b1" args="(struct mdt_thread_info *info, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_body_unpack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02824">2824</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lu__target_8h_source.html#l00286">HABEO_CORPUS</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__handler_8c_source.html#l02224">mdt_object_find()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02863">mdt_unpack_req_pack_rep()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b24c1ea4d6c0fe92e1f8c9b23b429f7"></a><!-- doxytag: member="mdt_handler.c::mdt_check_resent_lock" ref="a1b24c1ea4d6c0fe92e1f8c9b23b429f7" args="(struct mdt_thread_info *info, struct mdt_object *mo, struct mdt_lock_handle *lhc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_check_resent_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lhc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02396">2396</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lustre__fid_8h_source.html#l00551">fid_res_name_eq()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00694">ldlm_lock::l_resource</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01122">LDLM_DEBUG_NOLOCK</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lustre__dlm_8h_source.html#l00951">ldlm_resource::lr_name</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="pack__generic_8c_source.html#l00829">lustre_msg_get_flags()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="lustre__idl_8h_source.html#l01153">MSG_RESENT</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l01018">mdt_open_by_fid_lock()</a>, and <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b25a49327bb44e717794314a04d9cbb"></a><!-- doxytag: member="mdt_handler.c::mdt_clear_disposition" ref="a1b25a49327bb44e717794314a04d9cbb" args="(struct mdt_thread_info *info, struct ldlm_reply *rep, __u64 op_flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_clear_disposition </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *&nbsp;</td>
          <td class="paramname"> <em>rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>op_flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00141">141</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02929">ldlm_reply::lock_policy_res1</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00368">mdt_thread_info::mti_opdata</a>, and <a class="el" href="lu__target_8h_source.html#l00266">tgt_opdata_clear()</a>.</p>

<p>Referenced by <a class="el" href="mdt__open_8c_source.html#l00951">mdt_object_open_unlock()</a>, and <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f0d9433130587fdde05657ee8bd2868"></a><!-- doxytag: member="mdt_handler.c::mdt_client_compatibility" ref="a3f0d9433130587fdde05657ee8bd2868" args="(struct mdt_thread_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_client_compatibility </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00600">600</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00377">exp_connect_layout()</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="md__object_8h_source.html#l00119">md_attr::ma_attr</a>, <a class="el" href="md__object_8h_source.html#l00122">md_attr::ma_lmm</a>, <a class="el" href="mdt__handler_8c_source.html#l00593">mdt_body_has_lov()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, and <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>.</p>

<p>Referenced by <a class="el" href="mdt__open_8c_source.html#l02047">mdt_close()</a>, <a class="el" href="mdt__handler_8c_source.html#l01136">mdt_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l01634">mdt_getattr_name()</a>, <a class="el" href="mdt__handler_8c_source.html#l03296">mdt_intent_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l01806">mdt_reint_internal()</a>, and <a class="el" href="mdt__reint_8c_source.html#l00715">mdt_reint_setattr()</a>.</p>

</div>
</div>
<a class="anchor" id="afea0c8a4ab33d1fbefec16d6dbca985f"></a><!-- doxytag: member="mdt_handler.c::mdt_connect_internal" ref="afea0c8a4ab33d1fbefec16d6dbca985f" args="(struct obd_export *exp, struct mdt_device *mdt, struct obd_connect_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_connect_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Match client and server connection feature flags. </p>
<p>Compute the compatibility flags for a connection request based on features mutually supported by client and server.</p>
<p>The obd_export::exp_connect_data.ocd_connect_flags field in <em>exp</em> must not be updated here, otherwise a partially initialized value may be exposed. After the connection request is successfully processed, the top-level MDT connect request handler atomically updates the export connect flags from the <a class="el" href="structobd__connect__data.html#a056d6aaded7f397e902843b52a36a6a5">obd_connect_data::ocd_connect_flags</a> field of the reply. </p>
<dl class="see"><dt><b>See also:</b></dt><dd>mdt_connect().</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>exp</em>&nbsp;</td><td>the <a class="el" href="structobd__export.html" title="Export structure.">obd_export</a> associated with this client/target pair </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mdt</em>&nbsp;</td><td>the target device for the connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>stores data for this connect request</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-EPROTO</em>&nbsp;</td><td><em>data</em> unexpectedly has zero <a class="el" href="structobd__connect__data.html#a30da77f33210cf12e0d487bb723c0063">obd_connect_data::ocd_brw_size</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-EBADE</em>&nbsp;</td><td>client and server feature requirements are incompatible </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05018">5018</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__export_8h_source.html#l00193">obd_export::exp_client_uuid</a>, <a class="el" href="lustre__export_8h_source.html#l00299">exp_connect_flags_ptr()</a>, <a class="el" href="lustre__export_8h_source.html#l00240">obd_export::exp_lock</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lustre__export_8h_source.html#l00207">obd_export::exp_obd_chain_timed</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lustre__ver_8h_source.html#l00023">LUSTRE_VERSION_CODE</a>, <a class="el" href="mdt__handler_8c_source.html#l00073">max_mod_rpcs_per_client</a>, <a class="el" href="lustre__net_8h_source.html#l00108">MD_MAX_BRW_SIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l02097">MDS_INODELOCK_FULL</a>, <a class="el" href="lustre__idl_8h_source.html#l01278">MDT_CONNECT_SUPPORTED</a>, <a class="el" href="mdt__internal_8h_source.html#l00192">mdt_device::mdt_max_ea_size</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="structmdt__device.html#a94cdf8cdcfc80fa823c06a2224c26a32">mdt_device::mdt_opts</a>, <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_acl</a>, <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_user_xattr</a>, <a class="el" href="lustre__idl_8h_source.html#l01186">OBD_CONNECT_ACL</a>, <a class="el" href="lustre__idl_8h_source.html#l01201">OBD_CONNECT_BRW_SIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l01213">OBD_CONNECT_FID</a>, <a class="el" href="lustre__idl_8h_source.html#l01191">OBD_CONNECT_IBITS</a>, <a class="el" href="lustre__idl_8h_source.html#l01235">OBD_CONNECT_LIGHTWEIGHT</a>, <a class="el" href="lustre__idl_8h_source.html#l01209">OBD_CONNECT_MDS_MDS</a>, <a class="el" href="lustre__idl_8h_source.html#l01244">OBD_CONNECT_MULTIMODRPCS</a>, <a class="el" href="lustre__idl_8h_source.html#l01237">OBD_CONNECT_PINGLESS</a>, <a class="el" href="lustre__idl_8h_source.html#l01187">OBD_CONNECT_XATTR</a>, <a class="el" href="obd_8h_source.html#l00644">obd_device::obd_dev_lock</a>, <a class="el" href="lustre__idl_8h_source.html#l01340">obd_connect_data::ocd_brw_size</a>, <a class="el" href="lustre__idl_8h_source.html#l01336">obd_connect_data::ocd_connect_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l01338">obd_connect_data::ocd_grant</a>, <a class="el" href="lustre__idl_8h_source.html#l01268">OCD_HAS_FLAG</a>, <a class="el" href="lustre__idl_8h_source.html#l01341">obd_connect_data::ocd_ibits_known</a>, <a class="el" href="lustre__idl_8h_source.html#l01339">obd_connect_data::ocd_index</a>, <a class="el" href="lustre__idl_8h_source.html#l01349">obd_connect_data::ocd_max_easize</a>, <a class="el" href="lustre__idl_8h_source.html#l01356">obd_connect_data::ocd_maxmodrpcs</a>, <a class="el" href="lustre__idl_8h_source.html#l01337">obd_connect_data::ocd_version</a>, <a class="el" href="pinger_8c_source.html#l00058">ptlrpc_pinger_suppress_pings()</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05252">mdt_obd_connect()</a>, and <a class="el" href="mdt__handler_8c_source.html#l05333">mdt_obd_reconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="a26100afac11d2808265acdb5148870fe"></a><!-- doxytag: member="mdt_handler.c::mdt_connect_to_next" ref="a26100afac11d2808265acdb5148870fe" args="(const struct lu_env *env, struct mdt_device *m, const char *next, struct obd_export **exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_connect_to_next </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> **&nbsp;</td>
          <td class="paramname"> <em>exp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03994">3994</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="genops_8c_source.html#l00429">class_name2obd()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__ver_8h_source.html#l00023">LUSTRE_VERSION_CODE</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__class_8h_source.html#l00796">obd_connect()</a>, <a class="el" href="lustre__idl_8h_source.html#l01184">OBD_CONNECT_VERSION</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="lustre__idl_8h_source.html#l01336">obd_connect_data::ocd_connect_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l01337">obd_connect_data::ocd_version</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04029">mdt_stack_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a6bb16bfd565a2bfba1dfd0708d74a406"></a><!-- doxytag: member="mdt_handler.c::mdt_cos_is_enabled" ref="a6bb16bfd565a2bfba1dfd0708d74a406" args="(struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_cos_is_enabled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check COS (Commit On Sharing) status. </p>
<p>Return COS flag status.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mdt</em>&nbsp;</td><td>mdt device </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06104">6104</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="structmdt__device.html#a94cdf8cdcfc80fa823c06a2224c26a32">mdt_device::mdt_opts</a>, and <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_cos</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02308">mdt_blocking_ast()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00556">mdt_cos_seq_show()</a>, <a class="el" href="mdt__handler_8c_source.html#l02463">mdt_object_local_lock()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02675">mdt_save_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8701ba997d7d7a0183075ecae109c55"></a><!-- doxytag: member="mdt_handler.c::mdt_ctxt_add_dirty_flag" ref="ac8701ba997d7d7a0183075ecae109c55" args="(struct lu_env *env, struct mdt_thread_info *info, struct mdt_file_data *mfd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_ctxt_add_dirty_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__file__data.html">mdt_file_data</a> *&nbsp;</td>
          <td class="paramname"> <em>mfd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05106">5106</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l01028">LCT_SERVER_SESSION</a>, <a class="el" href="lu__object_8h_source.html#l01277">lu_env::le_ses</a>, <a class="el" href="lu__object_8c_source.html#l01776">lu_context_enter()</a>, <a class="el" href="lu__object_8c_source.html#l01786">lu_context_exit()</a>, <a class="el" href="lu__object_8c_source.html#l01755">lu_context_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01729">lu_context_init()</a>, <a class="el" href="mdt__reint_8c_source.html#l00678">mdt_add_dirty_flag()</a>, <a class="el" href="mdt__handler_8c_source.html#l06063">mdt_ucred()</a>, <a class="el" href="mdt__internal_8h_source.html#l00083">mdt_file_data::mfd_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="md__object_8h_source.html#l00584">lu_ucred::uc_valid</a>, and <a class="el" href="md__object_8h_source.html#l00579">UCRED_OLD</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05131">mdt_export_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a625f4d92fb6f107914ff13008b5af2cf"></a><!-- doxytag: member="mdt_handler.c::mdt_deregister_seq_exp" ref="a625f4d92fb6f107914ff13008b5af2cf" args="(struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_deregister_seq_exp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03668">3668</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__fid_8h_source.html#l00353">lu_client_seq::lcs_exp</a>, <a class="el" href="lustre__fld_8h_source.html#l00085">lu_server_fld::lsf_control_exp</a>, <a class="el" href="obd__mount__server_8c_source.html#l00458">lustre_deregister_lwp_item()</a>, <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, <a class="el" href="lustre__fid_8h_source.html#l00475">seq_server_site::ss_client_seq</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, and <a class="el" href="lustre__fid_8h_source.html#l00458">seq_server_site::ss_server_fld</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03697">mdt_seq_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a1bb74a32c8828d17b9a875e24d6f76fd"></a><!-- doxytag: member="mdt_handler.c::mdt_destroy_export" ref="a1bb74a32c8828d17b9a875e24d6f76fd" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_destroy_export </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05397">5397</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00193">obd_export::exp_client_uuid</a>, <a class="el" href="lustre__export_8h_source.html#l00342">exp_connect_rmtclient()</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lustre__export_8h_source.html#l00227">obd_export::exp_outstanding_replies</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02913">ldlm_destroy_export()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="mdt__idmap_8c_source.html#l00116">mdt_cleanup_idmap()</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="lustre__user_8h_source.html#l00495">obd_uuid_equals()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l00395">tgt_client_free()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a3ea821301f1291dc05ae1478e7055a6b"></a><!-- doxytag: member="mdt_handler.c::mdt_dev" ref="a3ea821301f1291dc05ae1478e7055a6b" args="(struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmdt__device.html">mdt_device</a>* mdt_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="mdt__lproc_8c_source.html#l00337">lprocfs_identity_flush_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00358">lprocfs_identity_info_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00437">lprocfs_mds_evict_client_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00735">mdt_async_commit_count_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00745">mdt_async_commit_count_seq_write()</a>, <a class="el" href="mdt__handler_8c_source.html#l02308">mdt_blocking_ast()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00556">mdt_cos_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00566">mdt_cos_seq_write()</a>, <a class="el" href="mdt__handler_8c_source.html#l05999">mdt_device_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l06009">mdt_device_free()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00676">mdt_enable_remote_dir_gid_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00687">mdt_enable_remote_dir_gid_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00645">mdt_enable_remote_dir_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00655">mdt_enable_remote_dir_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00490">mdt_evict_tgt_nids_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00500">mdt_evict_tgt_nids_seq_write()</a>, <a class="el" href="mdt__handler_8c_source.html#l05131">mdt_export_cleanup()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01968">mdt_hsm_cdt_control_seq_show()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01900">mdt_hsm_cdt_control_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00246">mdt_identity_acquire_expire_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00256">mdt_identity_acquire_expire_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00215">mdt_identity_expire_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00225">mdt_identity_expire_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00278">mdt_identity_upcall_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00291">mdt_identity_upcall_seq_write()</a>, <a class="el" href="mdt__handler_8c_source.html#l05849">mdt_iocontrol()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00611">mdt_nosquash_nids_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00632">mdt_nosquash_nids_seq_write()</a>, <a class="el" href="mdt__handler_8c_source.html#l05252">mdt_obd_connect()</a>, <a class="el" href="mdt__handler_8c_source.html#l05225">mdt_obd_disconnect()</a>, <a class="el" href="mdt__handler_8c_source.html#l05974">mdt_obd_postrecov()</a>, <a class="el" href="mdt__handler_8c_source.html#l05333">mdt_obd_reconnect()</a>, <a class="el" href="mdt__handler_8c_source.html#l04863">mdt_object_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l04915">mdt_prepare()</a>, <a class="el" href="mdt__handler_8c_source.html#l04765">mdt_process_config()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00586">mdt_root_squash_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00598">mdt_root_squash_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00518">mdt_sec_level_seq_show()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00528">mdt_sec_level_seq_write()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00425">mdt_site_stats_seq_show()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02910">mdt_thread_info_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a022315df5b43d889e310dfbf681ea9d4"></a><!-- doxytag: member="mdt_handler.c::mdt_device_alloc" ref="a022315df5b43d889e310dfbf681ea9d4" args="(const struct lu_env *env, struct lu_device_type *t, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* mdt_device_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06021">6021</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__handler_8c_source.html#l06009">mdt_device_free()</a>, <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>, <a class="el" href="mdt__internal_8h_source.html#l00159">mdt_device::mdt_lu_dev</a>, and <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>.</p>

</div>
</div>
<a class="anchor" id="abde7f720a75b49ba1fe3442e56ec7f61"></a><!-- doxytag: member="mdt_handler.c::mdt_device_commit_async" ref="abde7f720a75b49ba1fe3442e56ec7f61" args="(const struct lu_env *env, struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_device_commit_async </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Asyncronous commit for mdt device. </p>
<p>Pass asynchonous commit call down the MDS stack.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>environment </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mdt</em>&nbsp;</td><td>the mdt device </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02250">2250</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="dt__object_8h_source.html#l01724">dt_device::dd_ops</a>, <a class="el" href="structdt__device__operations.html#ab811b4bbba68f4edcab228e8d9f52d3c">dt_device_operations::dt_commit_async</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="mdt__internal_8h_source.html#l00224">mdt_device::mdt_async_commit_count</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02308">mdt_blocking_ast()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02675">mdt_save_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a65baabc2425bb105ece445103ebca612"></a><!-- doxytag: member="mdt_handler.c::mdt_device_fini" ref="a65baabc2425bb105ece445103ebca612" args="(const struct lu_env *env, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* mdt_device_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05999">5999</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__handler_8c_source.html#l04447">mdt_fini()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a742b563ca9361d519fbe53d3679bc60c"></a><!-- doxytag: member="mdt_handler.c::mdt_device_free" ref="a742b563ca9361d519fbe53d3679bc60c" args="(const struct lu_env *env, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* mdt_device_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06009">6009</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8c_source.html#l01218">lu_device_fini()</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00159">mdt_device::mdt_lu_dev</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l06021">mdt_device_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a8aedd06980550b24cf50e9353f03c1b1"></a><!-- doxytag: member="mdt_handler.c::mdt_device_sync" ref="a8aedd06980550b24cf50e9353f03c1b1" args="(const struct lu_env *env, struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_device_sync </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01941">1941</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01724">dt_device::dd_ops</a>, <a class="el" href="structdt__device__operations.html#aff03760ef16c08ef22ecfcace4a7afb9">dt_device_operations::dt_sync</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l06081">mdt_enable_cos()</a>, <a class="el" href="mdt__handler_8c_source.html#l05849">mdt_iocontrol()</a>, and <a class="el" href="mdt__handler_8c_source.html#l01970">mdt_sync()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e49ebd1e4bb7ef8b3b47b431e198a1d"></a><!-- doxytag: member="mdt_handler.c::mdt_disable_slc" ref="a5e49ebd1e4bb7ef8b3b47b431e198a1d" args="(struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_disable_slc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05219">5219</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00143">BLOCKING_SYNC_ON_CANCEL</a>, <a class="el" href="lu__target_8h_source.html#l00135">lu_target::lut_sync_lock_cancel</a>, <a class="el" href="mdt__internal_8h_source.html#l00171">mdt_device::mdt_lut</a>, and <a class="el" href="obd_8h_source.html#l00142">NEVER_SYNC_ON_CANCEL</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05225">mdt_obd_disconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="a777052cf0ebebe6a6357097baeb9d0c3"></a><!-- doxytag: member="mdt_handler.c::mdt_enable_cos" ref="a777052cf0ebebe6a6357097baeb9d0c3" args="(struct mdt_device *mdt, int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_enable_cos </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable/disable COS (Commit On Sharing). </p>
<p>Set/Clear the COS flag in mdt <a class="el" href="structoptions.html">options</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mdt</em>&nbsp;</td><td>mdt device </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>0 disables COS, other values enable COS </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06081">6081</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lu__object_8h_source.html#l01024">LCT_LOCAL</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l01941">mdt_device_sync()</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="structmdt__device.html#a94cdf8cdcfc80fa823c06a2224c26a32">mdt_device::mdt_opts</a>, <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_cos</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__lproc_8c_source.html#l00566">mdt_cos_seq_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b1bf347ce9bc78eae53b128ed85e9e5"></a><!-- doxytag: member="mdt_handler.c::mdt_enable_slc" ref="a5b1bf347ce9bc78eae53b128ed85e9e5" args="(struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_enable_slc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05213">5213</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00143">BLOCKING_SYNC_ON_CANCEL</a>, <a class="el" href="lu__target_8h_source.html#l00135">lu_target::lut_sync_lock_cancel</a>, <a class="el" href="mdt__internal_8h_source.html#l00171">mdt_device::mdt_lut</a>, and <a class="el" href="obd_8h_source.html#l00142">NEVER_SYNC_ON_CANCEL</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05252">mdt_obd_connect()</a>.</p>

</div>
</div>
<a class="anchor" id="ace715eb3f2776fff82c0206b3a55b230"></a><!-- doxytag: member="mdt_handler.c::mdt_exit" ref="ace715eb3f2776fff82c0206b3a55b230" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __exit mdt_exit </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06151">6151</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00246">class_unregister_type()</a>, <a class="el" href="lu__object_8c_source.html#l02275">lu_kmem_fini()</a>, <a class="el" href="obd_8h_source.html#l00459">LUSTRE_MDT_NAME</a>, and <a class="el" href="mdt__mds_8c_source.html#l00580">mds_mod_exit()</a>.</p>

</div>
</div>
<a class="anchor" id="a753b5dbc7f4ce8c0227222107dcae0fc"></a><!-- doxytag: member="mdt_handler.c::mdt_export_cleanup" ref="a753b5dbc7f4ce8c0227222107dcae0fc" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_export_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05131">5131</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__handles_8c_source.html#l00128">class_handle_unhash()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00245">obd_export::exp_failed</a>, <a class="el" href="lustre__export_8h_source.html#l00244">obd_export::exp_flags</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="md__object_8h_source.html#l00118">md_attr::ma_attr_flags</a>, <a class="el" href="md__object_8h_source.html#l00074">MA_FLAGS</a>, <a class="el" href="md__object_8h_source.html#l00117">md_attr::ma_need</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02365">MDS_KEEP_ORPHAN</a>, <a class="el" href="mdt__handler_8c_source.html#l05106">mdt_ctxt_add_dirty_flag()</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__open_8c_source.html#l01939">mdt_mfd_close()</a>, <a class="el" href="mdt__internal_8h_source.html#l00893">mdt_thread_key</a>, <a class="el" href="lustre__export_8h_source.html#l00095">mdt_export_data::med_open_head</a>, <a class="el" href="lustre__export_8h_source.html#l00096">mdt_export_data::med_open_lock</a>, <a class="el" href="mdt__internal_8h_source.html#l00073">mdt_file_data::mfd_handle</a>, <a class="el" href="mdt__internal_8h_source.html#l00077">mdt_file_data::mfd_list</a>, <a class="el" href="mdt__internal_8h_source.html#l00075">mdt_file_data::mfd_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="lustre__export_8h_source.html#l00158">OBD_OPT_FAILOVER</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l01013">tgt_client_del()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05225">mdt_obd_disconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f7991e2d193a7a10127298b245db27f"></a><!-- doxytag: member="mdt_handler.c::mdt_fid2path" ref="a9f7991e2d193a7a10127298b245db27f" args="(struct mdt_thread_info *info, struct lu_fid *root_fid, struct getinfo_fid2path *fp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_fid2path </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>root_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgetinfo__fid2path.html">getinfo_fid2path</a> *&nbsp;</td>
          <td class="paramname"> <em>fp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the full path of the provided FID, as of changelog record recno. </p>
<p>This checks sanity and looks up object for user provided FID before calling the actual path lookup code.</p>
<p>Part of the MDT layer implementation of lfs fid2path.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>info</em>&nbsp;</td><td>Per-thread common data shared by mdt level handlers. </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>fp</em>&nbsp;</td><td>User-provided struct for arguments and to store path information</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Lookup successful, path information and recno stored in fp </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOENT,object</em>&nbsp;</td><td>does not exist </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>errno if there was a problem </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05641">5641</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00136">D_IOCTL</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00301">fid_is_namespace_visible()</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__idl_8h_source.html#l00312">FID_SEQ_NORMAL</a>, <a class="el" href="lustre__idl_8h_source.html#l03693">getinfo_fid2path::gf_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l03695">getinfo_fid2path::gf_linkno</a>, <a class="el" href="lustre__idl_8h_source.html#l03698">getinfo_fid2path::gf_path</a>, <a class="el" href="lustre__idl_8h_source.html#l03694">getinfo_fid2path::gf_recno</a>, <a class="el" href="structgetinfo__fid2path.html#afc20bdbe4bf31576ca10fc0ad6a7e8e9">getinfo_fid2path::gf_u</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__handler_8c_source.html#l02224">mdt_object_find()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="mdt__handler_8c_source.html#l05599">mdt_path()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05696">mdt_rpc_fid2path()</a>.</p>

</div>
</div>
<a class="anchor" id="a207a0f61d5ad106fea7add54db07b335"></a><!-- doxytag: member="mdt_handler.c::mdt_fini" ref="a207a0f61d5ad106fea7add54db07b335" args="(const struct lu_env *env, struct mdt_device *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04447">4447</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l00305">cfs_free_nidlist()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00271">lu_device::ld_ref</a>, <a class="el" href="ldlm__resource_8c_source.html#l01007">ldlm_namespace_free_post()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00966">ldlm_namespace_free_prior()</a>, <a class="el" href="lustre__idl_8h_source.html#l03056">LLOG_AGENT_ORIG_CTXT</a>, <a class="el" href="lustre__idl_8h_source.html#l03052">LLOG_CHANGELOG_ORIG_CTXT</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00219">lfsck_stop::ls_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00090">LS_PAUSED</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00218">lfsck_stop::ls_status</a>, <a class="el" href="md__object_8h_source.html#l00298">md2lu_dev()</a>, <a class="el" href="md__object_8h_source.html#l00283">md_device::md_ops</a>, <a class="el" href="structmd__device__operations.html#ae465ad315bd7992e31f06dc2db65eb51">md_device_operations::mdo_iocontrol</a>, <a class="el" href="mdt__internal_8h_source.html#l01041">mdt2obd_dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__handler_8c_source.html#l03874">mdt_fld_fini()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00120">mdt_fs_cleanup()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00852">mdt_hsm_cdt_fini()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00941">mdt_hsm_cdt_stop()</a>, <a class="el" href="mdt__internal_8h_source.html#l00194">mdt_device::mdt_identity_cache</a>, <a class="el" href="mdt__handler_8c_source.html#l02153">mdt_llog_ctxt_unclone()</a>, <a class="el" href="mdt__internal_8h_source.html#l00159">mdt_device::mdt_lu_dev</a>, <a class="el" href="mdt__internal_8h_source.html#l00171">mdt_device::mdt_lut</a>, <a class="el" href="mdt__internal_8h_source.html#l00162">mdt_device::mdt_namespace</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="structmdt__device.html#a94cdf8cdcfc80fa823c06a2224c26a32">mdt_device::mdt_opts</a>, <a class="el" href="mdt__lproc_8c_source.html#l01010">mdt_procfs_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l04311">mdt_quota_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l03697">mdt_seq_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00208">mdt_device::mdt_squash</a>, <a class="el" href="mdt__handler_8c_source.html#l03948">mdt_stack_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l03914">mdt_stack_pre_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_coordinator</a>, <a class="el" href="genops_8c_source.html#l01583">obd_exports_barrier()</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_force</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00407">OBD_IOC_STOP_LFSCK</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="genops_8c_source.html#l01745">obd_zombie_barrier()</a>, <a class="el" href="pinger_8c_source.html#l00705">ping_evictor_stop()</a>, <a class="el" href="obd__class_8h_source.html#l01724">root_squash_info::rsi_nosquash_nids</a>, <a class="el" href="obd__mount__server_8c_source.html#l00193">server_put_mount()</a>, <a class="el" href="mdt__internal_8h.html#ac3db3f215fff161c7d1276d6217b1bfc">target_recovery_fini()</a>, <a class="el" href="tgt__main_8c_source.html#l00283">tgt_fini()</a>, and <a class="el" href="upcall__cache_8c_source.html#l00445">upcall_cache_cleanup()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05999">mdt_device_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f6256f7ba346827c16bccff829c6d14"></a><!-- doxytag: member="mdt_handler.c::mdt_fld_fini" ref="a1f6256f7ba346827c16bccff829c6d14" args="(const struct lu_env *env, struct mdt_device *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_fld_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03874">3874</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="fld__handler_8c_source.html#l00487">fld_server_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__fid_8h_source.html#l00458">seq_server_site::ss_server_fld</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04447">mdt_fini()</a>, and <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a207a53c6ff72ad62c01dbd2b08aa8868"></a><!-- doxytag: member="mdt_handler.c::mdt_fld_init" ref="a207a53c6ff72ad62c01dbd2b08aa8868" args="(const struct lu_env *env, const char *uuid, struct mdt_device *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_fld_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03889">3889</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="fld__handler_8c_source.html#l00443">fld_server_init()</a>, <a class="el" href="lustre__idl_8h_source.html#l00166">LU_SEQ_RANGE_MDT</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__fid_8h_source.html#l00458">seq_server_site::ss_server_fld</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a647fa716eeb2bad0062c436a7fa086d9"></a><!-- doxytag: member="mdt_handler.c::mdt_get_disposition" ref="a647fa716eeb2bad0062c436a7fa086d9" args="(struct ldlm_reply *rep, __u64 op_flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> mdt_get_disposition </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *&nbsp;</td>
          <td class="paramname"> <em>rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>op_flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00134">134</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02929">ldlm_reply::lock_policy_res1</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03296">mdt_intent_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l03431">mdt_intent_reint()</a>, and <a class="el" href="mdt__open_8c_source.html#l00623">mdt_reconstruct_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a96fb16cba972a4017696b683ac3d5076"></a><!-- doxytag: member="mdt_handler.c::mdt_get_info" ref="a96fb16cba972a4017696b683ac3d5076" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_get_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05728">5728</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00136">D_IOCTL</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="obd_8h_source.html#l00738">KEY_FID2PATH</a>, <a class="el" href="obd__support_8h_source.html#l00860">KEY_IS</a>, <a class="el" href="mdt__handler_8c_source.html#l05696">mdt_rpc_fid2path()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02263">req_capsule_get_size()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00903">RMF_GETINFO_KEY</a>, <a class="el" href="layout_8c_source.html#l00912">RMF_GETINFO_VAL</a>, <a class="el" href="layout_8c_source.html#l00907">RMF_GETINFO_VALLEN</a>, <a class="el" href="tgt__handler_8c_source.html#l00051">tgt_name()</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>, and <a class="el" href="lu__target_8h_source.html#l00204">tgt_session_info::tsi_tgt</a>.</p>

</div>
</div>
<a class="anchor" id="aed52e488e7d997baa26af4d3fa3c9e2f"></a><!-- doxytag: member="mdt_handler.c::mdt_get_root" ref="aed52e488e7d997baa26af4d3fa3c9e2f" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_get_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00354">354</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="mdt__lib_8c_source.html#l00362">mdt_check_ucred()</a>, <a class="el" href="mdt__handler_8c_source.html#l00271">mdt_lookup_fileset()</a>, <a class="el" href="mdt__internal_8h_source.html#l00211">mdt_device::mdt_md_root_fid</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00187">OBD_FAIL_MDS_GET_ROOT_PACK</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02263">req_capsule_get_size()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="layout_8c_source.html#l00978">RMF_NAME</a>, and <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>.</p>

</div>
</div>
<a class="anchor" id="ac67713a1803bac9153675b9e3689829e"></a><!-- doxytag: member="mdt_handler.c::mdt_getattr" ref="ac67713a1803bac9153675b9e3689829e" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_getattr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01136">1136</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01585">DEF_REP_MD_SIZE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="lu__object_8h_source.html#l00847">lu_object_assert_exists()</a>, <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="lustre__idl_8h_source.html#l02214">mdt_body::mbo_aclsize</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="packet-lustre_8c_source.html#l00201">MDS_GETATTR</a>, <a class="el" href="mdt__handler_8c_source.html#l00625">mdt_attr_get_eabuf_size()</a>, <a class="el" href="mdt__lib_8c_source.html#l00362">mdt_check_ucred()</a>, <a class="el" href="mdt__handler_8c_source.html#l00600">mdt_client_compatibility()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__lib_8c_source.html#l00689">mdt_fix_reply()</a>, <a class="el" href="mdt__handler_8c_source.html#l00905">mdt_getattr_internal()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__lib_8c_source.html#l00596">mdt_init_ucred()</a>, <a class="el" href="mdt__internal_8h_source.html#l00211">mdt_device::mdt_md_root_fid</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00237">mdt_object::mot_obj</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_cross_ref</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__idl_8h_source.html#l01702">OBD_MD_FLCROSSREF</a>, <a class="el" href="lustre__idl_8h_source.html#l01684">OBD_MD_FLDIREA</a>, <a class="el" href="lustre__idl_8h_source.html#l01698">OBD_MD_FLRMTPERM</a>, <a class="el" href="lustre__idl_8h_source.html#l01673">OBD_MD_LINKNAME</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="layout_8c_source.html#l01058">RMF_MDT_MD</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a559a5ef9026b088b82faf4ea64889336"></a><!-- doxytag: member="mdt_handler.c::mdt_getattr_internal" ref="a559a5ef9026b088b82faf4ea64889336" args="(struct mdt_thread_info *info, struct mdt_object *o, int ma_need)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_getattr_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ma_need</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00905">905</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l02446">dt_root_get()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="lustre__export_8h_source.html#l00193">obd_export::exp_client_uuid</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="lustre__export_8h_source.html#l00342">exp_connect_rmtclient()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__user_8h_source.html#l01047">HS_RELEASED</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="mdt__internal_8h_source.html#l01018">LPROC_MDT_GETATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="lu__object_8h_source.html#l00860">lu_object_attr()</a>, <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="md__object_8h_source.html#l00119">md_attr::ma_attr</a>, <a class="el" href="md__object_8h_source.html#l00121">md_attr::ma_hsm</a>, <a class="el" href="md__object_8h_source.html#l00078">MA_HSM</a>, <a class="el" href="md__object_8h_source.html#l00072">MA_INODE</a>, <a class="el" href="md__object_8h_source.html#l00122">md_attr::ma_lmm</a>, <a class="el" href="md__object_8h_source.html#l00125">md_attr::ma_lmm_size</a>, <a class="el" href="md__object_8h_source.html#l00123">md_attr::ma_lmv</a>, <a class="el" href="md__object_8h_source.html#l00075">MA_LMV</a>, <a class="el" href="md__object_8h_source.html#l00080">MA_LMV_DEF</a>, <a class="el" href="md__object_8h_source.html#l00126">md_attr::ma_lmv_size</a>, <a class="el" href="md__object_8h_source.html#l00073">MA_LOV</a>, <a class="el" href="md__object_8h_source.html#l00077">MA_LOV_DEF</a>, <a class="el" href="md__object_8h_source.html#l00117">md_attr::ma_need</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02214">mdt_body::mbo_aclsize</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="lustre__idl_8h_source.html#l02215">mdt_body::mbo_max_mdsize</a>, <a class="el" href="lustre__idl_8h_source.html#l02199">mdt_body::mbo_t_state</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="packet-lustre_8c_source.html#l00201">MDS_GETATTR</a>, <a class="el" href="mdt__handler_8c_source.html#l00819">mdt_attr_get_complex()</a>, <a class="el" href="mdt__handler_8c_source.html#l00593">mdt_body_has_lov()</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__lproc_8c_source.html#l00929">mdt_counter_incr()</a>, <a class="el" href="mdt__lib_8c_source.html#l00630">mdt_dump_lmm()</a>, <a class="el" href="mdt__lib_8c_source.html#l00663">mdt_dump_lmv()</a>, <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00519">mdt_hsm_restore_is_running()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00565">mdt_is_dne_client()</a>, <a class="el" href="mdt__internal_8h_source.html#l00570">mdt_is_striped_client()</a>, <a class="el" href="mdt__internal_8h_source.html#l00190">mdt_device::mdt_max_mdsize</a>, <a class="el" href="mdt__internal_8h_source.html#l00211">mdt_device::mdt_md_root_fid</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="mdt__handler_8c_source.html#l02224">mdt_object_find()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="mdt__handler_8c_source.html#l00501">mdt_pack_attr2body()</a>, <a class="el" href="mdt__identity_8c_source.html#l00276">mdt_pack_remote_perm()</a>, <a class="el" href="mdt__handler_8c_source.html#l00697">mdt_stripe_get()</a>, <a class="el" href="md__object_8h_source.html#l00110">md_hsm::mh_flags</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>, <a class="el" href="md__object_8h_source.html#l00346">mo_readlink()</a>, <a class="el" href="lustre__idl_8h_source.html#l02185">MS_RESTORE</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00418">mdt_thread_info::mti_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__idl_8h_source.html#l01186">OBD_CONNECT_ACL</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00162">OBD_FAIL_MDS_GETATTR_PACK</a>, <a class="el" href="obd__support_8h_source.html#l00226">OBD_FAIL_MDS_READLINK_EPROTO</a>, <a class="el" href="lustre__idl_8h_source.html#l01718">OBD_MD_DEFAULT_MEA</a>, <a class="el" href="lustre__idl_8h_source.html#l01697">OBD_MD_FLACL</a>, <a class="el" href="lustre__idl_8h_source.html#l01684">OBD_MD_FLDIREA</a>, <a class="el" href="lustre__idl_8h_source.html#l01672">OBD_MD_FLEASIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="lustre__idl_8h_source.html#l01687">OBD_MD_FLMODEASIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l01698">OBD_MD_FLRMTPERM</a>, <a class="el" href="lustre__idl_8h_source.html#l01673">OBD_MD_LINKNAME</a>, <a class="el" href="lustre__idl_8h_source.html#l01689">OBD_MD_MDS</a>, <a class="el" href="lustre__idl_8h_source.html#l01691">OBD_MD_MEA</a>, <a class="el" href="lustre__idl_8h_source.html#l01692">OBD_MD_TSTATE</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02263">req_capsule_get_size()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01075">RMF_ACL</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="layout_8c_source.html#l01058">RMF_MDT_MD</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01136">mdt_getattr()</a>, and <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a34b8164a49980f9588777d357c8a941c"></a><!-- doxytag: member="mdt_handler.c::mdt_getattr_name" ref="a34b8164a49980f9588777d357c8a941c" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_getattr_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01634">1634</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="lustre__idl_8h_source.html#l02214">mdt_body::mbo_aclsize</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="mdt__handler_8c_source.html#l00600">mdt_client_compatibility()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__lib_8c_source.html#l00689">mdt_fix_reply()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__lib_8c_source.html#l00606">mdt_init_ucred_intent_getattr()</a>, <a class="el" href="mdt__internal_8h_source.html#l00270">MDT_LH_CHILD</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_cross_ref</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__idl_8h_source.html#l01702">OBD_MD_FLCROSSREF</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a582bdc4a28a34a97aabf4d5338f69a1f"></a><!-- doxytag: member="mdt_handler.c::mdt_getattr_name_lock" ref="a582bdc4a28a34a97aabf4d5338f69a1f" args="(struct mdt_thread_info *info, struct mdt_lock_handle *lhc, __u64 child_bits, struct ldlm_reply *ldlm_rep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_getattr_name_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lhc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>child_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *&nbsp;</td>
          <td class="paramname"> <em>ldlm_rep</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01366">1366</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__idl_8h_source.html#l02062">DISP_LOOKUP_EXECD</a>, <a class="el" href="lustre__idl_8h_source.html#l02063">DISP_LOOKUP_NEG</a>, <a class="el" href="lustre__idl_8h_source.html#l02064">DISP_LOOKUP_POS</a>, <a class="el" href="lustre__idl_8h_source.html#l02783">DLDLMRES</a>, <a class="el" href="lu__object_8h_source.html#l01325">DNAME</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00377">exp_connect_layout()</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__fid_8h_source.html#l00551">fid_res_name_eq()</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__dlm_8h_source.html#l00694">ldlm_lock::l_resource</a>, <a class="el" href="lu__object_8h_source.html#l00415">lu_attr::la_ctime</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="lustre__dlm_8h_source.html#l01168">LDLM_DEBUG</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="lu__object_8h_source.html#l01297">lu_name::ln_name</a>, <a class="el" href="lu__object_8h_source.html#l01298">lu_name::ln_namelen</a>, <a class="el" href="lustre__dlm_8h_source.html#l00951">ldlm_resource::lr_name</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="lu__object_8h_source.html#l01320">lu_name_is_valid()</a>, <a class="el" href="lu__object_8h_source.html#l00860">lu_object_attr()</a>, <a class="el" href="lu__object_8h_source.html#l00800">LU_OBJECT_DEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="pack__generic_8c_source.html#l00829">lustre_msg_get_flags()</a>, <a class="el" href="md__object_8h_source.html#l00119">md_attr::ma_attr</a>, <a class="el" href="md__object_8h_source.html#l00072">MA_INODE</a>, <a class="el" href="md__object_8h_source.html#l00073">MA_LOV</a>, <a class="el" href="md__object_8h_source.html#l00117">md_attr::ma_need</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02190">mdt_body::mbo_fid2</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="md__object_8h_source.html#l00466">mdo_lookup()</a>, <a class="el" href="lustre__idl_8h_source.html#l02081">MDS_INODELOCK_LAYOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02092">MDS_INODELOCK_PERM</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="mdt__handler_8c_source.html#l00819">mdt_attr_get_complex()</a>, <a class="el" href="mdt__handler_8c_source.html#l02396">mdt_check_resent_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l00905">mdt_getattr_internal()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00269">MDT_LH_PARENT</a>, <a class="el" href="mdt__handler_8c_source.html#l02888">mdt_lock_handle_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l00171">mdt_lock_pdo_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l00163">mdt_lock_reg_init()</a>, <a class="el" href="mdt__lib_8c_source.html#l00882">mdt_name_unpack()</a>, <a class="el" href="mdt__internal_8h_source.html#l00162">mdt_device::mdt_namespace</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="mdt__handler_8c_source.html#l02224">mdt_object_find()</a>, <a class="el" href="mdt__internal_8h_source.html#l00517">mdt_object_get()</a>, <a class="el" href="mdt__handler_8c_source.html#l02619">mdt_object_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02634">mdt_object_lock_try()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="mdt__handler_8c_source.html#l02771">mdt_object_unlock()</a>, <a class="el" href="mdt__handler_8c_source.html#l01331">mdt_raw_lookup()</a>, <a class="el" href="mdt__handler_8c_source.html#l00152">mdt_set_disposition()</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00632">MNF_FIX_ANON</a>, <a class="el" href="mdt__internal_8h_source.html#l00237">mdt_object::mot_obj</a>, <a class="el" href="lustre__idl_8h_source.html#l01153">MSG_RESENT</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_cross_ref</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00422">mdt_thread_info::mti_name</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="mdt__internal_8h_source.html#l00386">mdt_thread_info::mti_spec</a>, <a class="el" href="mdt__internal_8h_source.html#l00396">mdt_thread_info::mti_tmp_fid1</a>, <a class="el" href="lustre__dlm_8h_source.html#l00436">ldlm_namespace::ns_ctime_age_limit</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00255">OBD_FAIL_MDS_NO_LL_GETATTR</a>, <a class="el" href="obd__support_8h_source.html#l00213">OBD_FAIL_MDS_RESEND</a>, <a class="el" href="obd__support_8h_source.html#l00624">OBD_FAIL_TIMEOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="class__obd_8c_source.html#l00083">obd_timeout</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="lustre__idl_8h_source.html#l02784">PLDLMRES</a>, <a class="el" href="lu__object_8h_source.html#l01326">PNAME</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="layout_8c_source.html#l00978">RMF_NAME</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="md__object_8h_source.html#l00146">md_op_spec::sp_permitted</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01634">mdt_getattr_name()</a>, and <a class="el" href="mdt__handler_8c_source.html#l03296">mdt_intent_getattr()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b096d165f603dd0bdccbc481ac8ef0f"></a><!-- doxytag: member="mdt_handler.c::mdt_init" ref="a5b096d165f603dd0bdccbc481ac8ef0f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __init mdt_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06122">6122</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00167">class_register_type()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="lustre__user_8h_source.html#l00546">FID_LEN</a>, <a class="el" href="lustre__user_8h_source.html#l00545">FID_NOBRACE_LEN</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8c_source.html#l02275">lu_kmem_fini()</a>, <a class="el" href="lu__object_8c_source.html#l02251">lu_kmem_init()</a>, <a class="el" href="obd_8h_source.html#l00459">LUSTRE_MDT_NAME</a>, <a class="el" href="mdt__mds_8c_source.html#l00580">mds_mod_exit()</a>, <a class="el" href="mdt__mds_8c_source.html#l00567">mds_mod_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l06115">mdt_device_type</a>, and <a class="el" href="mdt__handler_8c_source.html#l05987">mdt_obd_device_ops</a>.</p>

</div>
</div>
<a class="anchor" id="a633782e3f85904037bef727d4c696a90"></a><!-- doxytag: member="mdt_handler.c::mdt_init0" ref="a633782e3f85904037bef727d4c696a90" args="(const struct lu_env *env, struct mdt_device *m, struct lu_device_type *ldt, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_init0 </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *&nbsp;</td>
          <td class="paramname"> <em>ldt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04511">4511</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-time_8h_source.html#l00242">cfs_time_shift_64()</a>, <a class="el" href="genops_8c_source.html#l00429">class_name2obd()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00137">lustre_cfg::lcfg_bufcount</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="lu__object_8h_source.html#l00645">lu_site::ld_seq_site</a>, <a class="el" href="lustre__idl_8h_source.html#l00106">LDLM_CB_REPLY_PORTAL</a>, <a class="el" href="lustre__idl_8h_source.html#l00105">LDLM_CB_REQUEST_PORTAL</a>, <a class="el" href="ldlm__resource_8c_source.html#l01052">ldlm_namespace_free()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00305">LDLM_NAMESPACE_GREEDY</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00095">LDLM_NAMESPACE_SERVER</a>, <a class="el" href="lustre__dlm_8h_source.html#l00341">LDLM_NS_TYPE_MDT</a>, <a class="el" href="ldlm__lock_8c_source.html#l00159">ldlm_register_intent()</a>, <a class="el" href="class__obd_8c_source.html#l00085">ldlm_timeout</a>, <a class="el" href="obd__support_8h_source.html#l00113">LDLM_TIMEOUT_DEFAULT</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="lustre__disk_8h_source.html#l00242">LMD_FLG_SKIP_LFSCK</a>, <a class="el" href="lustre__disk_8h_source.html#l00562">lustre_mount_info::lmi_sb</a>, <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>, <a class="el" href="lu__object_8c_source.html#l01200">lu_device_init()</a>, <a class="el" href="lu__object_8c_source.html#l01889">lu_env_refill()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00146">LUSTRE_CFG_BUFLEN</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="obd_8h_source.html#l00459">LUSTRE_MDT_NAME</a>, <a class="el" href="lustre__idl_8h_source.html#l01579">MAX_MD_SIZE</a>, <a class="el" href="md__object_8h_source.html#l00298">md2lu_dev()</a>, <a class="el" href="md__object_8h_source.html#l00283">md_device::md_ops</a>, <a class="el" href="structmd__device__operations.html#ae465ad315bd7992e31f06dc2db65eb51">md_device_operations::mdo_iocontrol</a>, <a class="el" href="structmd__device__operations.html#a629ba2e2512b931ff9edca17081d29c9">md_device_operations::mdo_maxeasize_get</a>, <a class="el" href="obd__support_8h_source.html#l00114">MDS_LDLM_TIMEOUT_DEFAULT</a>, <a class="el" href="mdt__internal_8h_source.html#l01041">mdt2obd_dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00224">mdt_device::mdt_async_commit_count</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__handler_8c_source.html#l04390">mdt_common_slice</a>, <a class="el" href="mdt__internal_8h_source.html#l00228">MDT_COS_DEFAULT</a>, <a class="el" href="mdt__internal_8h_source.html#l00196">mdt_device::mdt_enable_remote_dir</a>, <a class="el" href="mdt__internal_8h_source.html#l00201">mdt_device::mdt_enable_remote_dir_gid</a>, <a class="el" href="mdt__handler_8c_source.html#l03874">mdt_fld_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l03889">mdt_fld_init()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00120">mdt_fs_cleanup()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00097">mdt_fs_setup()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00852">mdt_hsm_cdt_fini()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00795">mdt_hsm_cdt_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l00194">mdt_device::mdt_identity_cache</a>, <a class="el" href="mdt__identity_8c_source.html#l00229">mdt_identity_upcall_cache_ops</a>, <a class="el" href="mdt__internal_8h_source.html#l00772">MDT_IDENTITY_UPCALL_PATH</a>, <a class="el" href="mdt__handler_8c_source.html#l03615">mdt_intent_policy()</a>, <a class="el" href="mdt__internal_8h_source.html#l00164">mdt_device::mdt_ldlm_client</a>, <a class="el" href="mdt__internal_8h_source.html#l00159">mdt_device::mdt_lu_dev</a>, <a class="el" href="mdt__handler_8c_source.html#l04967">mdt_lu_ops</a>, <a class="el" href="mdt__internal_8h_source.html#l00548">mdt_lu_site()</a>, <a class="el" href="mdt__internal_8h_source.html#l00171">mdt_device::mdt_lut</a>, <a class="el" href="mdt__lvb_8c_source.html#l00199">mdt_lvbo</a>, <a class="el" href="mdt__internal_8h_source.html#l00192">mdt_device::mdt_max_ea_size</a>, <a class="el" href="mdt__internal_8h_source.html#l00190">mdt_device::mdt_max_mdsize</a>, <a class="el" href="mdt__internal_8h_source.html#l00221">mdt_device::mdt_mds_mds_conns</a>, <a class="el" href="mdt__internal_8h_source.html#l00162">mdt_device::mdt_namespace</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="structmdt__device.html#a94cdf8cdcfc80fa823c06a2224c26a32">mdt_device::mdt_opts</a>, <a class="el" href="mdt__internal_8h_source.html#l00204">mdt_device::mdt_osfs_age</a>, <a class="el" href="mdt__internal_8h_source.html#l00205">mdt_device::mdt_osfs_lock</a>, <a class="el" href="mdt__lproc_8c_source.html#l01010">mdt_procfs_fini()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00966">mdt_procfs_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l04175">mdt_quota_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l03697">mdt_seq_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l03824">mdt_seq_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, <a class="el" href="mdt__internal_8h_source.html#l00196">mdt_device::mdt_skip_lfsck</a>, <a class="el" href="mdt__internal_8h_source.html#l00208">mdt_device::mdt_squash</a>, <a class="el" href="mdt__handler_8c_source.html#l03948">mdt_stack_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l04029">mdt_stack_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l00893">mdt_thread_key</a>, <a class="el" href="dt__object_8h_source.html#l00074">MNTOPT_ACL</a>, <a class="el" href="dt__object_8h_source.html#l00073">MNTOPT_USERXATTR</a>, <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_acl</a>, <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_coordinator</a>, <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_cos</a>, <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_evict_tgt_nids</a>, <a class="el" href="mdt__internal_8h_source.html#l00176">mdt_device::mo_user_xattr</a>, <a class="el" href="structmdt__thread__info.html#a4e83bed1d2937bdf8564dc1dceb62dd6">mdt_thread_info::mti_u</a>, <a class="el" href="lustre__dlm_8h_source.html#l00452">ldlm_namespace::ns_lvbo</a>, <a class="el" href="lustre__dlm_8h_source.html#l00458">ldlm_namespace::ns_lvbp</a>, <a class="el" href="mdt__internal_8h_source.html#l00402">mdt_thread_info::ns_name</a>, <a class="el" href="obd__support_8h_source.html#l00193">OBD_FAIL_MDS_ALL_REPLY_NET</a>, <a class="el" href="obd__support_8h_source.html#l00194">OBD_FAIL_MDS_ALL_REQUEST_NET</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00403">OBD_IOC_GET_MNTOPT</a>, <a class="el" href="obd_8h_source.html#l00642">obd_device::obd_ldlm_client</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_no_conn</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_replayable</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="obd__target_8h_source.html#l00041">OBT_MAGIC</a>, <a class="el" href="pinger_8c_source.html#l00686">ping_evictor_start()</a>, <a class="el" href="client_8c_source.html#l00074">ptlrpc_init_client()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="obd__class_8h_source.html#l01723">root_squash_info::rsi_gid</a>, <a class="el" href="obd__class_8h_source.html#l01724">root_squash_info::rsi_nosquash_nids</a>, <a class="el" href="obd__class_8h_source.html#l01725">root_squash_info::rsi_sem</a>, <a class="el" href="obd__class_8h_source.html#l01722">root_squash_info::rsi_uid</a>, <a class="el" href="obd__mount__server_8c_source.html#l00157">server_get_mount()</a>, <a class="el" href="obd__mount__server_8c_source.html#l00193">server_put_mount()</a>, <a class="el" href="lustre__fid_8h_source.html#l00450">seq_server_site::ss_lu</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, <a class="el" href="mdt__internal_8h.html#ac3db3f215fff161c7d1276d6217b1bfc">target_recovery_fini()</a>, <a class="el" href="tgt__handler_8c_source.html#l01010">tgt_adapt_sptlrpc_conf()</a>, <a class="el" href="tgt__main_8c_source.html#l00283">tgt_fini()</a>, <a class="el" href="tgt__main_8c_source.html#l00147">tgt_init()</a>, <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>, <a class="el" href="upcall__cache_8c_source.html#l00445">upcall_cache_cleanup()</a>, <a class="el" href="upcall__cache_8c_source.html#l00419">upcall_cache_init()</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l06021">mdt_device_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a685dee2cdd47ebd4495f74fdd4d5a1a1"></a><!-- doxytag: member="mdt_handler.c::mdt_init_export" ref="a685dee2cdd47ebd4495f74fdd4d5a1a1" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_init_export </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05360">5360</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00193">obd_export::exp_client_uuid</a>, <a class="el" href="lustre__export_8h_source.html#l00245">obd_export::exp_connecting</a>, <a class="el" href="lustre__export_8h_source.html#l00240">obd_export::exp_lock</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02884">ldlm_init_export()</a>, <a class="el" href="lustre__export_8h_source.html#l00098">mdt_export_data::med_idmap</a>, <a class="el" href="lustre__export_8h_source.html#l00097">mdt_export_data::med_idmap_mutex</a>, <a class="el" href="lustre__export_8h_source.html#l00095">mdt_export_data::med_open_head</a>, <a class="el" href="lustre__export_8h_source.html#l00096">mdt_export_data::med_open_lock</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="lustre__user_8h_source.html#l00495">obd_uuid_equals()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l00376">tgt_client_alloc()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l00395">tgt_client_free()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a3fe440f053a74ca1c2a8268dffecef6f"></a><!-- doxytag: member="mdt_handler.c::mdt_intent_code" ref="a3fe440f053a74ca1c2a8268dffecef6f" args="(enum ldlm_intent_flags itcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_intent_code </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga9c053c844f0d79b44f18bb65850a6081">ldlm_intent_flags</a>&nbsp;</td>
          <td class="paramname"> <em>itcode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03507">3507</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00234">IT_CREAT</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="packet-lustre_8c_source.html#l00239">IT_GETXATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l02880">IT_LAYOUT</a>, <a class="el" href="packet-lustre_8c_source.html#l00237">IT_LOOKUP</a>, <a class="el" href="packet-lustre_8c_source.html#l00233">IT_OPEN</a>, <a class="el" href="lustre__idl_8h_source.html#l02882">IT_QUOTA_CONN</a>, <a class="el" href="lustre__idl_8h_source.html#l02881">IT_QUOTA_DQACQ</a>, <a class="el" href="packet-lustre_8c_source.html#l00235">IT_READDIR</a>, <a class="el" href="lustre__idl_8h_source.html#l02876">IT_TRUNC</a>, <a class="el" href="packet-lustre_8c_source.html#l00238">IT_UNLINK</a>, <a class="el" href="mdt__handler_8c_source.html#l03016">MDT_IT_CREATE</a>, <a class="el" href="mdt__handler_8c_source.html#l03017">MDT_IT_GETATTR</a>, <a class="el" href="mdt__handler_8c_source.html#l03022">MDT_IT_GETXATTR</a>, <a class="el" href="mdt__handler_8c_source.html#l03023">MDT_IT_LAYOUT</a>, <a class="el" href="mdt__handler_8c_source.html#l03019">MDT_IT_LOOKUP</a>, <a class="el" href="mdt__handler_8c_source.html#l03015">MDT_IT_OCREAT</a>, <a class="el" href="mdt__handler_8c_source.html#l03014">MDT_IT_OPEN</a>, <a class="el" href="mdt__handler_8c_source.html#l03024">MDT_IT_QUOTA</a>, <a class="el" href="mdt__handler_8c_source.html#l03018">MDT_IT_READDIR</a>, <a class="el" href="mdt__handler_8c_source.html#l03021">MDT_IT_TRUNC</a>, and <a class="el" href="mdt__handler_8c_source.html#l03020">MDT_IT_UNLINK</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03554">mdt_intent_opc()</a>.</p>

</div>
</div>
<a class="anchor" id="ae17793f9581ad87eb2de64b4520d2292"></a><!-- doxytag: member="mdt_handler.c::mdt_intent_fixup_resent" ref="ae17793f9581ad87eb2de64b4520d2292" args="(struct mdt_thread_info *info, struct ldlm_lock *new_lock, struct mdt_lock_handle *lh, __u64 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_intent_fixup_resent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>new_lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03215">3215</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00145">D_DLMTRACE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="lustre__handles_8h_source.html#l00067">portals_handle::h_cookie</a>, <a class="el" href="lustre__dlm_8h_source.html#l00728">ldlm_lock::l_granted_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l00678">ldlm_lock::l_handle</a>, <a class="el" href="lustre__dlm_8h_source.html#l01168">LDLM_DEBUG</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00355">LDLM_FL_RESENT</a>, <a class="el" href="lustre__idl_8h_source.html#l02910">ldlm_request::lock_handle</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="pack__generic_8c_source.html#l00877">lustre_msg_clear_flags()</a>, <a class="el" href="pack__generic_8c_source.html#l00829">lustre_msg_get_flags()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>, <a class="el" href="lustre__idl_8h_source.html#l01153">MSG_RESENT</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="tgt__handler_8c_source.html#l02310">req_can_reconstruct()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l01033">RMF_DLM_REQ</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03296">mdt_intent_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l03259">mdt_intent_getxattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l03365">mdt_intent_layout()</a>, and <a class="el" href="mdt__handler_8c_source.html#l03431">mdt_intent_reint()</a>.</p>

</div>
</div>
<a class="anchor" id="abec6790bc6922ba860063fa31f02aae9"></a><!-- doxytag: member="mdt_handler.c::mdt_intent_getattr" ref="abec6790bc6922ba860063fa31f02aae9" args="(enum mdt_it_code opcode, struct mdt_thread_info *info, struct ldlm_lock **, __u64)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_intent_getattr </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a>&nbsp;</td>
          <td class="paramname"> <em>opcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **&nbsp;</td>
          <td class="paramname"> <em>lockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03296">3296</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lu__target_8h_source.html#l00504">clear_serious()</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="lustre__idl_8h_source.html#l02061">DISP_IT_EXECD</a>, <a class="el" href="lustre__idl_8h_source.html#l02063">DISP_LOOKUP_NEG</a>, <a class="el" href="lustre__idl_8h_source.html#l02064">DISP_LOOKUP_POS</a>, <a class="el" href="lustre__dlm_8h_source.html#l00078">ELDLM_LOCK_ABORTED</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l02930">ldlm_reply::lock_policy_res2</a>, <a class="el" href="lustre__idl_8h_source.html#l02214">mdt_body::mbo_aclsize</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02092">MDS_INODELOCK_PERM</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="mdt__handler_8c_source.html#l00600">mdt_client_compatibility()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__lib_8c_source.html#l00689">mdt_fix_reply()</a>, <a class="el" href="mdt__handler_8c_source.html#l00134">mdt_get_disposition()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__lib_8c_source.html#l00606">mdt_init_ucred_intent_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l03215">mdt_intent_fixup_resent()</a>, <a class="el" href="mdt__handler_8c_source.html#l03121">mdt_intent_lock_replace()</a>, <a class="el" href="mdt__handler_8c_source.html#l03017">MDT_IT_GETATTR</a>, <a class="el" href="mdt__handler_8c_source.html#l03019">MDT_IT_LOOKUP</a>, <a class="el" href="mdt__internal_8h_source.html#l00274">MDT_LH_RMT</a>, <a class="el" href="mdt__handler_8c_source.html#l00152">mdt_set_disposition()</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_cross_ref</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__idl_8h_source.html#l01702">OBD_MD_FLCROSSREF</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01039">RMF_DLM_REP</a>, and <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>.</p>

</div>
</div>
<a class="anchor" id="a34327e3509bd0143e9a30d0168deec69"></a><!-- doxytag: member="mdt_handler.c::mdt_intent_getxattr" ref="a34327e3509bd0143e9a30d0168deec69" args="(enum mdt_it_code opcode, struct mdt_thread_info *info, struct ldlm_lock **lockp, __u64 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_intent_getxattr </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a>&nbsp;</td>
          <td class="paramname"> <em>opcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **&nbsp;</td>
          <td class="paramname"> <em>lockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03259">3259</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="lustre__idl_8h_source.html#l02930">ldlm_reply::lock_policy_res2</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="lustre__idl_8h_source.html#l02093">MDS_INODELOCK_XATTR</a>, <a class="el" href="mdt__xattr_8c_source.html#l00227">mdt_getxattr()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__handler_8c_source.html#l03215">mdt_intent_fixup_resent()</a>, <a class="el" href="mdt__handler_8c_source.html#l03121">mdt_intent_lock_replace()</a>, <a class="el" href="mdt__internal_8h_source.html#l00274">MDT_LH_RMT</a>, <a class="el" href="mdt__handler_8c_source.html#l00163">mdt_lock_reg_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l02619">mdt_object_lock()</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="layout_8c_source.html#l01039">RMF_DLM_REP</a>.</p>

</div>
</div>
<a class="anchor" id="aa374cc84b1f2a14b20d4479256c11353"></a><!-- doxytag: member="mdt_handler.c::mdt_intent_layout" ref="aa374cc84b1f2a14b20d4479256c11353" args="(enum mdt_it_code opcode, struct mdt_thread_info *info, struct ldlm_lock **, __u64)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_intent_layout </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a>&nbsp;</td>
          <td class="paramname"> <em>opcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **&nbsp;</td>
          <td class="paramname"> <em>lockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03365">3365</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00562">fid_extract_from_res_name()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l03712">LAYOUT_INTENT_ACCESS</a>, <a class="el" href="lustre__idl_8h_source.html#l03723">layout_intent::li_opc</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00649">LVB_T_LAYOUT</a>, <a class="el" href="mdt__handler_8c_source.html#l00625">mdt_attr_get_eabuf_size()</a>, <a class="el" href="mdt__handler_8c_source.html#l03215">mdt_intent_fixup_resent()</a>, <a class="el" href="mdt__handler_8c_source.html#l03121">mdt_intent_lock_replace()</a>, <a class="el" href="mdt__handler_8c_source.html#l03023">MDT_IT_LAYOUT</a>, <a class="el" href="mdt__internal_8h_source.html#l00272">MDT_LH_LAYOUT</a>, <a class="el" href="mdt__internal_8h_source.html#l00190">mdt_device::mdt_max_mdsize</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__handler_8c_source.html#l02224">mdt_object_find()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="mdt__internal_8h_source.html#l00397">mdt_thread_info::mti_tmp_fid2</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01049">RMF_DLM_LVB</a>, and <a class="el" href="layout_8c_source.html#l01096">RMF_LAYOUT_INTENT</a>.</p>

</div>
</div>
<a class="anchor" id="ae651cc762238071041a3c2b7792f98e0"></a><!-- doxytag: member="mdt_handler.c::mdt_intent_lock_replace" ref="ae651cc762238071041a3c2b7792f98e0" args="(struct mdt_thread_info *info, struct ldlm_lock **lockp, struct mdt_lock_handle *lh, __u64 flags, int result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_intent_lock_replace </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **&nbsp;</td>
          <td class="paramname"> <em>lockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03121">3121</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01204">cfs_hash_add()</a>, <a class="el" href="obd__class_8h_source.html#l00254">class_export_lock_get</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="lustre__dlm_8h_source.html#l00079">ELDLM_LOCK_REPLACED</a>, <a class="el" href="lustre__export_8h_source.html#l00221">obd_export::exp_lock_hash</a>, <a class="el" href="lustre__dlm_8h_source.html#l00741">ldlm_lock::l_blocking_ast</a>, <a class="el" href="lustre__dlm_8h_source.html#l00730">ldlm_lock::l_completion_ast</a>, <a class="el" href="lustre__dlm_8h_source.html#l00714">ldlm_lock::l_exp_hash</a>, <a class="el" href="lustre__dlm_8h_source.html#l00754">ldlm_lock::l_export</a>, <a class="el" href="lustre__dlm_8h_source.html#l00778">ldlm_lock::l_flags</a>, <a class="el" href="lustre__dlm_8h_source.html#l00784">ldlm_lock::l_readers</a>, <a class="el" href="lustre__dlm_8h_source.html#l00885">ldlm_lock::l_reference</a>, <a class="el" href="lustre__dlm_8h_source.html#l00766">ldlm_lock::l_remote_handle</a>, <a class="el" href="lustre__dlm_8h_source.html#l00785">ldlm_lock::l_writers</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__dlm_8h_source.html#l01122">LDLM_DEBUG_NOLOCK</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00076">LDLM_FL_INTENT_ONLY</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00209">LDLM_FL_LOCAL</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00355">LDLM_FL_RESENT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01282">ldlm_handle2lock_long()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01338">LDLM_LOCK_RELEASE</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="pack__generic_8c_source.html#l00829">lustre_msg_get_flags()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="lustre__idl_8h_source.html#l01153">MSG_RESENT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03296">mdt_intent_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l03259">mdt_intent_getxattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l03365">mdt_intent_layout()</a>, and <a class="el" href="mdt__handler_8c_source.html#l03431">mdt_intent_reint()</a>.</p>

</div>
</div>
<a class="anchor" id="a85ef7b9801d09801bf187e9de5973224"></a><!-- doxytag: member="mdt_handler.c::mdt_intent_opc" ref="a85ef7b9801d09801bf187e9de5973224" args="(enum ldlm_intent_flags itopc, struct mdt_thread_info *info, struct ldlm_lock **lockp, __u64 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_intent_opc </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga9c053c844f0d79b44f18bb65850a6081">ldlm_intent_flags</a>&nbsp;</td>
          <td class="paramname"> <em>itopc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **&nbsp;</td>
          <td class="paramname"> <em>lockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03554">3554</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="structmdt__it__flavor.html#aaea5b2608af7e05ac3ce69a60ec41199">mdt_it_flavor::it_act</a>, <a class="el" href="mdt__handler_8c_source.html#l03049">mdt_it_flavor::it_flags</a>, <a class="el" href="mdt__handler_8c_source.html#l03048">mdt_it_flavor::it_fmt</a>, <a class="el" href="lustre__idl_8h_source.html#l02930">ldlm_reply::lock_policy_res2</a>, <a class="el" href="lustre__dlm_8h_source.html#l00648">LVB_T_LQUOTA</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__handler_8c_source.html#l03507">mdt_intent_code()</a>, <a class="el" href="mdt__handler_8c_source.html#l03024">MDT_IT_QUOTA</a>, <a class="el" href="mdt__internal_8h_source.html#l00216">mdt_device::mdt_qmt_dev</a>, <a class="el" href="mdt__handler_8c_source.html#l02863">mdt_unpack_req_pack_rep()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lu__target_8h_source.html#l00306">MUTABOR</a>, <a class="el" href="lustre__idl_8h_source.html#l01179">OBD_CONNECT_RDONLY</a>, <a class="el" href="obd__support_8h_source.html#l00252">OBD_FAIL_MDS_INTENT_DELAY</a>, <a class="el" href="obd__support_8h_source.html#l00624">OBD_FAIL_TIMEOUT</a>, <a class="el" href="lustre__net_8h_source.html#l02395">ptlrpc_status_hton()</a>, <a class="el" href="qmt__handler_8c_source.html#l00680">qmt_hdls</a>, <a class="el" href="structqmt__handlers.html#a9093ea57e48c899511350d394f2bf425">qmt_handlers::qmth_intent_policy</a>, <a class="el" href="layout_8c_source.html#l02339">req_capsule_extend()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01039">RMF_DLM_REP</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, and <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03615">mdt_intent_policy()</a>.</p>

</div>
</div>
<a class="anchor" id="a348c306f1f972930594ed2a96e7a65ba"></a><!-- doxytag: member="mdt_handler.c::mdt_intent_policy" ref="a348c306f1f972930594ed2a96e7a65ba" args="(struct ldlm_namespace *ns, struct ldlm_lock **lockp, void *req_cookie, enum ldlm_mode mode, __u64 flags, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_intent_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__namespace.html">ldlm_namespace</a> *&nbsp;</td>
          <td class="paramname"> <em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **&nbsp;</td>
          <td class="paramname"> <em>lockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>req_cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03615">3615</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01136">DLM_INTENT_IT_OFF</a>, <a class="el" href="lustre__dlm_8h_source.html#l00074">ELDLM_OK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="lustre__idl_8h_source.html#l02897">ldlm_lock_desc::l_resource</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="lustre__idl_8h_source.html#l02909">ldlm_request::lock_desc</a>, <a class="el" href="mdt__handler_8c_source.html#l03554">mdt_intent_opc()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00359">mdt_thread_info::mti_dlm_req</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__idl_8h_source.html#l02887">ldlm_intent::opc</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00068">req_capsule::rc_fmt</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00067">req_capsule::rc_req</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02339">req_capsule_extend()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01049">RMF_DLM_LVB</a>, <a class="el" href="layout_8c_source.html#l01044">RMF_LDLM_INTENT</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="layout_8c_source.html#l01441">RQF_LDLM_ENQUEUE</a>, <a class="el" href="layout_8c_source.html#l01482">RQF_LDLM_INTENT_BASIC</a>, <a class="el" href="lu__target_8h_source.html#l00235">tgt_ses_info()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ad08b5b6789ad1cf0fa13dce9388bab2b"></a><!-- doxytag: member="mdt_handler.c::mdt_intent_reint" ref="ad08b5b6789ad1cf0fa13dce9388bab2b" args="(enum mdt_it_code opcode, struct mdt_thread_info *info, struct ldlm_lock **, __u64)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_intent_reint </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="mdt__handler_8c.html#a859ce5abbf88eb7010176efbfa6df009">mdt_it_code</a>&nbsp;</td>
          <td class="paramname"> <em>opcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> **&nbsp;</td>
          <td class="paramname"> <em>lockp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; if VBR failure then return error </p>
</p>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03431">3431</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lu__target_8h_source.html#l00504">clear_serious()</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="lustre__idl_8h_source.html#l02062">DISP_LOOKUP_EXECD</a>, <a class="el" href="lustre__idl_8h_source.html#l02063">DISP_LOOKUP_NEG</a>, <a class="el" href="lustre__idl_8h_source.html#l02065">DISP_OPEN_CREATE</a>, <a class="el" href="lustre__dlm_8h_source.html#l00078">ELDLM_LOCK_ABORTED</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="lustre__idl_8h_source.html#l02930">ldlm_reply::lock_policy_res2</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="mdt__internal_8h_source.html#l00289">MDT_EREMOTE_OPEN</a>, <a class="el" href="mdt__handler_8c_source.html#l00134">mdt_get_disposition()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__handler_8c_source.html#l03215">mdt_intent_fixup_resent()</a>, <a class="el" href="mdt__handler_8c_source.html#l03121">mdt_intent_lock_replace()</a>, <a class="el" href="mdt__internal_8h_source.html#l00274">MDT_LH_RMT</a>, <a class="el" href="mdt__handler_8c_source.html#l01806">mdt_reint_internal()</a>, <a class="el" href="mdt__handler_8c_source.html#l01879">mdt_reint_opcode()</a>, <a class="el" href="mdt__handler_8c_source.html#l00152">mdt_set_disposition()</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="packet-lustre_8c_source.html#l00250">REINT_CREATE</a>, <a class="el" href="packet-lustre_8c_source.html#l00258">REINT_MAX</a>, <a class="el" href="packet-lustre_8c_source.html#l00254">REINT_OPEN</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01039">RMF_DLM_REP</a>, <a class="el" href="layout_8c_source.html#l01507">RQF_LDLM_INTENT_CREATE</a>, and <a class="el" href="layout_8c_source.html#l01502">RQF_LDLM_INTENT_OPEN</a>.</p>

</div>
</div>
<a class="anchor" id="ad8ebae843e02fc4f9c641dadba2fca5f"></a><!-- doxytag: member="mdt_handler.c::mdt_ioc_child" ref="ad8ebae843e02fc4f9c641dadba2fca5f" args="(struct lu_env *env, struct mdt_device *mdt, unsigned int cmd, int len, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_ioc_child </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05778">5778</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00964">lu_context::lc_thread</a>, <a class="el" href="lu__object_8h_source.html#l01028">LCT_SERVER_SESSION</a>, <a class="el" href="lu__object_8h_source.html#l01277">lu_env::le_ses</a>, <a class="el" href="lu__object_8c_source.html#l01776">lu_context_enter()</a>, <a class="el" href="lu__object_8c_source.html#l01786">lu_context_exit()</a>, <a class="el" href="lu__object_8c_source.html#l01755">lu_context_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01729">lu_context_init()</a>, <a class="el" href="md__object_8h_source.html#l00283">md_device::md_ops</a>, <a class="el" href="structmd__device__operations.html#ae465ad315bd7992e31f06dc2db65eb51">md_device_operations::mdo_iocontrol</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05849">mdt_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="a775fd4248ef1c2734a897e3d4540a62d"></a><!-- doxytag: member="mdt_handler.c::mdt_ioc_version_get" ref="a775fd4248ef1c2734a897e3d4540a62d" args="(struct mdt_thread_info *mti, void *karg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_ioc_version_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>karg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>before calling version get the correct MDS should be fid, this is error to find remote object here</p>
</p>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05801">5801</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00136">D_IOCTL</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8c_source.html#l00553">dt_version_get()</a>, <a class="el" href="lustre__disk_8h_source.html#l00267">ENOENT_VERSION</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00107">obd_ioctl_data::ioc_inlbuf1</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00109">obd_ioctl_data::ioc_inlbuf2</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00106">obd_ioctl_data::ioc_inllen1</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00108">obd_ioctl_data::ioc_inllen2</a>, <a class="el" href="packet-lustre_8c_source.html#l00295">LCK_CR</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="mdt__internal_8h_source.html#l00269">MDT_LH_PARENT</a>, <a class="el" href="mdt__handler_8c_source.html#l00163">mdt_lock_reg_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l00760">mdt_obj2dt()</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__handler_8c_source.html#l02783">mdt_object_find_lock()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="mdt__handler_8c_source.html#l02803">mdt_object_unlock_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="packet-lnet_8c_source.html#l00255">version</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05849">mdt_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="a1083c21c6db89e93f0142126333899f7"></a><!-- doxytag: member="mdt_handler.c::mdt_iocontrol" ref="a1083c21c6db89e93f0142126333899f7" args="(unsigned int cmd, struct obd_export *exp, int len, void *karg, void __user *uarg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_iocontrol </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>karg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void __user *&nbsp;</td>
          <td class="paramname"> <em>uarg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05849">5849</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00136">D_IOCTL</a>, <a class="el" href="dt__object_8h_source.html#l01724">dt_device::dd_ops</a>, <a class="el" href="structdt__device__operations.html#a03deb463a9aebe843829c31bbab1c34d">dt_device_operations::dt_ro</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00107">obd_ioctl_data::ioc_inlbuf1</a>, <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="llog__ioctl_8c_source.html#l00432">llog_catalog_list()</a>, <a class="el" href="lustre__fid_8h_source.html#l00230">LLOG_CATALOGS_OID</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00219">lfsck_stop::ls_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00218">lfsck_stop::ls_status</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00086">LS_STOPPED</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00044">lfsck_start_param::lsp_index_valid</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00042">lfsck_start_param::lsp_start</a>, <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="lustre__fid_8h_source.html#l00242">lu_local_obj_fid()</a>, <a class="el" href="md__object_8h_source.html#l00283">md_device::md_ops</a>, <a class="el" href="structmd__device__operations.html#ae465ad315bd7992e31f06dc2db65eb51">md_device_operations::mdo_iocontrol</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__handler_8c_source.html#l01941">mdt_device_sync()</a>, <a class="el" href="mdt__handler_8c_source.html#l05778">mdt_ioc_child()</a>, <a class="el" href="mdt__handler_8c_source.html#l05801">mdt_ioc_version_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00893">mdt_thread_key</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00396">mdt_thread_info::mti_tmp_fid1</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_abort_recovery</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00355">OBD_IOC_ABORT_RECOVERY</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00386">OBD_IOC_CATLOGLIST</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00374">OBD_IOC_CHANGELOG_CLEAR</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00373">OBD_IOC_CHANGELOG_DEREG</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00372">OBD_IOC_CHANGELOG_REG</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00400">OBD_IOC_GET_OBJ_VERSION</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00408">OBD_IOC_QUERY_LFSCK</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00354">OBD_IOC_SET_READONLY</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00406">OBD_IOC_START_LFSCK</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00407">OBD_IOC_STOP_LFSCK</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00332">OBD_IOC_SYNC</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01675">mdt_set_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fbc06bf4c25a907e46cd4d14e59b6d8"></a><!-- doxytag: member="mdt_handler.c::mdt_is_lock_sync" ref="a0fbc06bf4c25a907e46cd4d14e59b6d8" args="(struct ldlm_lock *lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_is_lock_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check whehter the lock "synchonous" or not. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lock</em>&nbsp;</td><td>the lock to check </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>the lock is "synchonous" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>the lock isn't "synchronous"</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="mdt__handler_8c.html#a9fa080ca8234c7fdf4946e82a900814f" title="Mark the lock as &quot;synchonous&quot;.">mdt_set_lock_sync</a> </dd>
<dd>
<a class="el" href="mdt__handler_8c.html#a3ec50ae09de62871656448912292b5e8" title="Save a lock within request object.">mdt_save_lock</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02290">2290</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__dlm_8h_source.html#l00822">ldlm_lock::l_ast_data</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02675">mdt_save_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a35c26cefbeb6567c743694e9fd6e0ef3"></a><!-- doxytag: member="mdt_handler.c::mdt_key_fini" ref="a35c26cefbeb6567c743694e9fd6e0ef3" args="(const struct lu_context *ctx, struct lu_context_key *key, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_key_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06047">6047</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__internal_8h_source.html#l00424">mdt_thread_info::mti_big_lmm</a>, <a class="el" href="mdt__internal_8h_source.html#l00425">mdt_thread_info::mti_big_lmmsize</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

</div>
</div>
<a class="anchor" id="a88569336fb1cf970703e6f7a50bfe8a5"></a><!-- doxytag: member="mdt_handler.c::mdt_links_read" ref="a88569336fb1cf970703e6f7a50bfe8a5" args="(struct mdt_thread_info *info, struct mdt_object *mdt_obj, struct linkea_data *ldata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_links_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlinkea__data.html">linkea_data</a> *&nbsp;</td>
          <td class="paramname"> <em>ldata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05420">5420</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="linkea_8c_source.html#l00047">linkea_init()</a>, <a class="el" href="lu__object_8c_source.html#l02369">lu_buf_check_and_alloc()</a>, <a class="el" href="lu__object_8c_source.html#l02339">lu_buf_free()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="mdt__reint_8c_source.html#l01362">mdt_lock_objects_in_linkea()</a>, and <a class="el" href="mdt__handler_8c_source.html#l05464">mdt_path_current()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d057105b918a4d6ffc6da989c4fc27b"></a><!-- doxytag: member="mdt_handler.c::mdt_llog_ctxt_clone" ref="a3d057105b918a4d6ffc6da989c4fc27b" args="(const struct lu_env *env, struct mdt_device *mdt, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_llog_ctxt_clone </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>clone llog ctxt from child (mdd) This allows remote llog (replicator) access. </p>
<p>We can either pass all llog RPCs (eg mdt_llog_create) on to child where the context was originally set up, or we can handle them directly. I choose the latter, but that means I need any llog contexts set up by child to be accessable by the mdt. So we clone the context into our context list here. </p>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02131">2131</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__log_8h_source.html#l00442">llog_ctxt_null()</a>, <a class="el" href="lustre__log_8h_source.html#l00392">llog_group_set_ctxt()</a>, <a class="el" href="md__object_8h_source.html#l00283">md_device::md_ops</a>, <a class="el" href="structmd__device__operations.html#a1752480e382cf4010bc5be3849dd85f2">md_device_operations::mdo_llog_ctxt_get</a>, <a class="el" href="mdt__internal_8h_source.html#l01041">mdt2obd_dev()</a>, and <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04915">mdt_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a02a1e79d79bc08ec72c4f8fe81354d03"></a><!-- doxytag: member="mdt_handler.c::mdt_llog_ctxt_unclone" ref="a02a1e79d79bc08ec72c4f8fe81354d03" args="(const struct lu_env *env, struct mdt_device *mdt, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_llog_ctxt_unclone </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02153">2153</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, and <a class="el" href="mdt__internal_8h_source.html#l01041">mdt2obd_dev()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04447">mdt_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6ef20f272cabc8315a7f07e4416a37c"></a><!-- doxytag: member="mdt_handler.c::mdt_lock_handle_fini" ref="ab6ef20f272cabc8315a7f07e4416a37c" args="(struct mdt_lock_handle *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_lock_handle_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02899">2899</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="mdt__internal_8h_source.html#l00259">mdt_lock_handle::mlh_pdo_lh</a>, and <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ae6b6dc2598d9874731adb97c86eb3ce1"></a><!-- doxytag: member="mdt_handler.c::mdt_lock_handle_init" ref="ae6b6dc2598d9874731adb97c86eb3ce1" args="(struct mdt_lock_handle *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_lock_handle_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02888">2888</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="packet-lustre_8c_source.html#l00290">LCK_MINMODE</a>, <a class="el" href="md__object_8h_source.html#l00096">MDT_NUL_LOCK</a>, <a class="el" href="mdt__internal_8h_source.html#l00259">mdt_lock_handle::mlh_pdo_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00260">mdt_lock_handle::mlh_pdo_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00264">mdt_lock_handle::mlh_rreg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00265">mdt_lock_handle::mlh_rreg_mode</a>, and <a class="el" href="mdt__internal_8h_source.html#l00252">mdt_lock_handle::mlh_type</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__open_8c_source.html#l00777">mdt_object_open_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02910">mdt_thread_info_init()</a>.</p>

</div>
</div>
<a class="anchor" id="adc3eaeaa3a5057c5f67c31f89a121128"></a><!-- doxytag: member="mdt_handler.c::mdt_lock_pdo_init" ref="adc3eaeaa3a5057c5f67c31f89a121128" args="(struct mdt_lock_handle *lh, enum ldlm_mode lock_mode, const struct lu_name *lname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_lock_pdo_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>lock_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>lname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00171">171</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="packet-lustre_8c_source.html#l00290">LCK_MINMODE</a>, <a class="el" href="lu__object_8h_source.html#l01297">lu_name::ln_name</a>, <a class="el" href="lu__object_8h_source.html#l01298">lu_name::ln_namelen</a>, <a class="el" href="lu__object_8h_source.html#l01320">lu_name_is_valid()</a>, <a class="el" href="md__object_8h_source.html#l00098">MDT_PDO_LOCK</a>, <a class="el" href="mdt__internal_8h_source.html#l00261">mdt_lock_handle::mlh_pdo_hash</a>, <a class="el" href="mdt__internal_8h_source.html#l00260">mdt_lock_handle::mlh_pdo_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00265">mdt_lock_handle::mlh_rreg_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00252">mdt_lock_handle::mlh_type</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__reint_8c_source.html#l01362">mdt_lock_objects_in_linkea()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__reint_8c_source.html#l01098">mdt_reint_link()</a>, <a class="el" href="mdt__reint_8c_source.html#l01503">mdt_reint_migrate_internal()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, <a class="el" href="mdt__reint_8c_source.html#l01833">mdt_reint_rename_internal()</a>, and <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1b815a231c3f4ac8e19b567c88df0ad"></a><!-- doxytag: member="mdt_handler.c::mdt_lock_pdo_mode" ref="aa1b815a231c3f4ac8e19b567c88df0ad" args="(struct mdt_thread_info *info, struct mdt_object *o, struct mdt_lock_handle *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_lock_pdo_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00196">196</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="packet-lustre_8c_source.html#l00295">LCK_CR</a>, <a class="el" href="packet-lustre_8c_source.html#l00294">LCK_CW</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00290">LCK_MINMODE</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="md__object_8h_source.html#l00084">MDL_MINMODE</a>, <a class="el" href="md__object_8h_source.html#l00476">mdo_lock_mode()</a>, <a class="el" href="mdt__internal_8h_source.html#l00990">mdt_dlm_mode2mdl_mode()</a>, <a class="el" href="mdt__internal_8h_source.html#l00996">mdt_mdl_mode2dlm_mode()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00260">mdt_lock_handle::mlh_pdo_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, and <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02463">mdt_object_local_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a057dbab8fe1bb026cb4619cf634b6e30"></a><!-- doxytag: member="mdt_handler.c::mdt_lock_reg_init" ref="a057dbab8fe1bb026cb4619cf634b6e30" args="(struct mdt_lock_handle *lh, enum ldlm_mode lm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_lock_reg_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>lm</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00163">163</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="md__object_8h_source.html#l00097">MDT_REG_LOCK</a>, <a class="el" href="mdt__internal_8h_source.html#l00261">mdt_lock_handle::mlh_pdo_hash</a>, <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00265">mdt_lock_handle::mlh_rreg_mode</a>, and <a class="el" href="mdt__internal_8h_source.html#l00252">mdt_lock_handle::mlh_type</a>.</p>

<p>Referenced by <a class="el" href="mdt__coordinator_8c_source.html#l00654">hsm_restore_cb()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01099">hsm_swap_layouts()</a>, <a class="el" href="mdt__reint_8c_source.html#l00678">mdt_add_dirty_flag()</a>, <a class="el" href="mdt__reint_8c_source.html#l00596">mdt_attr_set()</a>, <a class="el" href="mdt__open_8c_source.html#l01797">mdt_close_swap_layouts()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00298">mdt_hsm_add_actions()</a>, <a class="el" href="mdt__open_8c_source.html#l01613">mdt_hsm_release()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00197">mdt_hsm_state_get()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00254">mdt_hsm_state_set()</a>, <a class="el" href="mdt__handler_8c_source.html#l03259">mdt_intent_getxattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l05801">mdt_ioc_version_get()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__open_8c_source.html#l00777">mdt_object_open_lock()</a>, <a class="el" href="mdt__reint_8c_source.html#l01098">mdt_reint_link()</a>, <a class="el" href="mdt__reint_8c_source.html#l01503">mdt_reint_migrate_internal()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, <a class="el" href="mdt__reint_8c_source.html#l01833">mdt_reint_rename_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l00715">mdt_reint_setattr()</a>, <a class="el" href="mdt__xattr_8c_source.html#l00363">mdt_reint_setxattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>, <a class="el" href="mdt__handler_8c_source.html#l01240">mdt_swap_layouts()</a>, and <a class="el" href="mdt__reint_8c_source.html#l00295">mdt_unlock_slaves()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ff50d4ae2b232248d4b6d81095b41f4"></a><!-- doxytag: member="mdt_handler.c::mdt_lookup_fileset" ref="a8ff50d4ae2b232248d4b6d81095b41f4" args="(struct mdt_thread_info *info, const char *fileset, struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_lookup_fileset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00271">271</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01297">lu_name::ln_name</a>, <a class="el" href="lu__object_8h_source.html#l01298">lu_name::ln_namelen</a>, <a class="el" href="lu__object_8h_source.html#l00860">lu_object_attr()</a>, <a class="el" href="md__object_8h_source.html#l00466">mdo_lookup()</a>, <a class="el" href="mdt__internal_8h_source.html#l00211">mdt_device::mdt_md_root_fid</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__handler_8c_source.html#l02224">mdt_object_find()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00237">mdt_object::mot_obj</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_cross_ref</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00422">mdt_thread_info::mti_name</a>, <a class="el" href="mdt__internal_8h_source.html#l00386">mdt_thread_info::mti_spec</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, and <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l00354">mdt_get_root()</a>.</p>

</div>
</div>
<a class="anchor" id="abdb0e1782d1346feac977418314a6e77"></a><!-- doxytag: member="mdt_handler.c::mdt_obd_connect" ref="abdb0e1782d1346feac977418314a6e77" args="(const struct lu_env *env, struct obd_export **exp, struct obd_device *obd, struct obd_uuid *cluuid, struct obd_connect_data *data, void *localdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_obd_connect </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> **&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>cluuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>localdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05252">5252</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00708">class_conn2export()</a>, <a class="el" href="genops_8c_source.html#l01150">class_connect()</a>, <a class="el" href="genops_8c_source.html#l01220">class_disconnect()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lustre__export_8h_source.html#l00207">obd_export::exp_obd_chain_timed</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="obd_8h_source.html#l00763">KEY_OSP_CONNECTED</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__disk_8h_source.html#l00357">lsd_client_data::lcd_uuid</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l00166">mdt_device::mdt_child_exp</a>, <a class="el" href="mdt__handler_8c_source.html#l05018">mdt_connect_internal()</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__handler_8c_source.html#l05213">mdt_enable_slc()</a>, <a class="el" href="mdt__fs_8c_source.html#l00066">mdt_export_stats_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l00155">MDT_FL_SYNCED</a>, <a class="el" href="mdt__internal_8h_source.html#l00221">mdt_device::mdt_mds_mds_conns</a>, <a class="el" href="mdt__internal_8h_source.html#l00183">mdt_device::mdt_state</a>, <a class="el" href="nodemap__handler_8c_source.html#l00351">nodemap_add_member()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00376">nodemap_del_member()</a>, <a class="el" href="lustre__idl_8h_source.html#l01235">OBD_CONNECT_LIGHTWEIGHT</a>, <a class="el" href="lustre__idl_8h_source.html#l01209">OBD_CONNECT_MDS_MDS</a>, <a class="el" href="obd_8h_source.html#l00644">obd_device::obd_dev_lock</a>, <a class="el" href="obd__class_8h_source.html#l00505">obd_get_info()</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="lustre__idl_8h_source.html#l01336">obd_connect_data::ocd_connect_flags</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l00890">tgt_client_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f53292c026af0978fc052f966ef5e96"></a><!-- doxytag: member="mdt_handler.c::mdt_obd_disconnect" ref="a1f53292c026af0978fc052f966ef5e96" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_obd_disconnect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05225">5225</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="genops_8c_source.html#l00803">class_export_get()</a>, <a class="el" href="genops_8c_source.html#l00812">class_export_put()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00136">D_IOCTL</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__handler_8c_source.html#l05219">mdt_disable_slc()</a>, <a class="el" href="mdt__handler_8c_source.html#l05131">mdt_export_cleanup()</a>, <a class="el" href="mdt__internal_8h_source.html#l00221">mdt_device::mdt_mds_mds_conns</a>, <a class="el" href="nodemap__handler_8c_source.html#l00376">nodemap_del_member()</a>, <a class="el" href="lustre__idl_8h_source.html#l01235">OBD_CONNECT_LIGHTWEIGHT</a>, <a class="el" href="lustre__idl_8h_source.html#l01209">OBD_CONNECT_MDS_MDS</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a152fc9b04727a6a087a891a9c5c39627"></a><!-- doxytag: member="mdt_handler.c::mdt_obd_postrecov" ref="a152fc9b04727a6a087a891a9c5c39627" args="(struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_obd_postrecov </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05974">5974</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__handler_8c_source.html#l05951">mdt_postrecov()</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a349ddbaf1f171ad1a45436b3ee48d73d"></a><!-- doxytag: member="mdt_handler.c::mdt_obd_reconnect" ref="a349ddbaf1f171ad1a45436b3ee48d73d" args="(const struct lu_env *env, struct obd_export *exp, struct obd_device *obd, struct obd_uuid *cluuid, struct obd_connect_data *data, void *localdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_obd_reconnect </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>cluuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>localdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05333">5333</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdt__handler_8c_source.html#l05018">mdt_connect_internal()</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__fs_8c_source.html#l00066">mdt_export_stats_init()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00351">nodemap_add_member()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00376">nodemap_del_member()</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ac6d92f2a6a4dcb68fe9adef79cf5de9f"></a><!-- doxytag: member="mdt_handler.c::mdt_obd_set_info_async" ref="ac6d92f2a6a4dcb68fe9adef79cf5de9f" args="(const struct lu_env *env, struct obd_export *exp, __u32 keylen, void *key, __u32 vallen, void *val, struct ptlrpc_request_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_obd_set_info_async </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>keylen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>vallen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04979">4979</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="obd__support_8h_source.html#l00860">KEY_IS</a>, <a class="el" href="obd_8h_source.html#l00759">KEY_SPTLRPC_CONF</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="tgt__handler_8c_source.html#l01010">tgt_adapt_sptlrpc_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="a9fd44b82cf12fe3607bcb3d94d5db8ae"></a><!-- doxytag: member="mdt_handler.c::mdt_object_alloc" ref="a9fd44b82cf12fe3607bcb3d94d5db8ae" args="(const struct lu_env *env, const struct lu_object_header *hdr, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object.html">lu_object</a>* mdt_object_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *&nbsp;</td>
          <td class="paramname"> <em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04836">4836</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00476">lu_object::lo_ops</a>, <a class="el" href="lu__object_8c_source.html#l01280">lu_object_add_top()</a>, <a class="el" href="lu__object_8c_source.html#l01301">lu_object_header_init()</a>, <a class="el" href="lu__object_8c_source.html#l01242">lu_object_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l00102">mdt_obj_ops</a>, <a class="el" href="mdt__handler_8c_source.html#l00105">mdt_object_kmem</a>, <a class="el" href="mdt__internal_8h_source.html#l00236">mdt_object::mot_header</a>, <a class="el" href="mdt__internal_8h_source.html#l00242">mdt_object::mot_lov_mutex</a>, <a class="el" href="mdt__internal_8h_source.html#l00237">mdt_object::mot_obj</a>, <a class="el" href="mdt__internal_8h_source.html#l00245">mdt_object::mot_open_sem</a>, <a class="el" href="mdt__internal_8h_source.html#l00240">mdt_object::mot_write_lock</a>, <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="adb49d144aef996ae26399713b415adc9"></a><!-- doxytag: member="mdt_handler.c::mdt_object_find" ref="adb49d144aef996ae26399713b415adc9" args="(const struct lu_env *env, struct mdt_device *d, const struct lu_fid *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmdt__object.html">mdt_object</a>* mdt_object_find </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02224">2224</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8c_source.html#l00643">lu_object_find()</a>, <a class="el" href="mdt__internal_8h_source.html#l00159">mdt_device::mdt_lu_dev</a>, <a class="el" href="mdt__internal_8h_source.html#l00755">mdt_obj()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__coordinator_8c_source.html#l01099">hsm_swap_layouts()</a>, <a class="el" href="mdt__handler_8c_source.html#l02824">mdt_body_unpack()</a>, <a class="el" href="mdt__open_8c_source.html#l01797">mdt_close_swap_layouts()</a>, <a class="el" href="mdt__open_8c_source.html#l01128">mdt_cross_open()</a>, <a class="el" href="mdt__handler_8c_source.html#l05641">mdt_fid2path()</a>, <a class="el" href="mdt__handler_8c_source.html#l00905">mdt_getattr_internal()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__hsm__cdt__agent_8c_source.html#l00322">mdt_hsm_agent_send()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00941">mdt_hsm_cdt_stop()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00060">mdt_hsm_get_md_hsm()</a>, <a class="el" href="mdt__handler_8c_source.html#l03365">mdt_intent_layout()</a>, <a class="el" href="mdt__reint_8c_source.html#l01362">mdt_lock_objects_in_linkea()</a>, <a class="el" href="mdt__reint_8c_source.html#l00378">mdt_lock_slaves()</a>, <a class="el" href="mdt__handler_8c_source.html#l00271">mdt_lookup_fileset()</a>, <a class="el" href="mdt__reint_8c_source.html#l00196">mdt_lookup_version_check()</a>, <a class="el" href="mdt__lvb_8c_source.html#l00095">mdt_lvbo_fill()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__reint_8c_source.html#l01776">mdt_object_find_check()</a>, <a class="el" href="mdt__handler_8c_source.html#l02783">mdt_object_find_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l00733">mdt_open_by_fid()</a>, <a class="el" href="mdt__open_8c_source.html#l01018">mdt_open_by_fid_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l01540">mdt_orphan_open()</a>, <a class="el" href="mdt__handler_8c_source.html#l05464">mdt_path_current()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00239">mdt_reconstruct_create()</a>, <a class="el" href="mdt__open_8c_source.html#l00623">mdt_reconstruct_open()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00286">mdt_reconstruct_setattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l01098">mdt_reint_link()</a>, <a class="el" href="mdt__reint_8c_source.html#l01503">mdt_reint_migrate_internal()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, <a class="el" href="mdt__reint_8c_source.html#l01833">mdt_reint_rename_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l00715">mdt_reint_setattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>, <a class="el" href="mdt__reint_8c_source.html#l01250">mdt_rename_lock()</a>, and <a class="el" href="mdt__handler_8c_source.html#l01240">mdt_swap_layouts()</a>.</p>

</div>
</div>
<a class="anchor" id="af77e6d3a9ed43f03b67b4dd7a9af71b2"></a><!-- doxytag: member="mdt_handler.c::mdt_object_find_lock" ref="af77e6d3a9ed43f03b67b4dd7a9af71b2" args="(struct mdt_thread_info *info, const struct lu_fid *f, struct mdt_lock_handle *lh, __u64 ibits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmdt__object.html">mdt_object</a>* mdt_object_find_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02783">2783</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__handler_8c_source.html#l02224">mdt_object_find()</a>, <a class="el" href="mdt__handler_8c_source.html#l02619">mdt_object_lock()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, and <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>.</p>

<p>Referenced by <a class="el" href="mdt__coordinator_8c_source.html#l00654">hsm_restore_cb()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01099">hsm_swap_layouts()</a>, <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00298">mdt_hsm_add_actions()</a>, <a class="el" href="mdt__handler_8c_source.html#l05801">mdt_ioc_version_get()</a>, and <a class="el" href="mdt__xattr_8c_source.html#l00363">mdt_reint_setxattr()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d720d8b96646a334c0b134fb80bf07f"></a><!-- doxytag: member="mdt_handler.c::mdt_object_free" ref="a8d720d8b96646a334c0b134fb80bf07f" args="(const struct lu_env *env, struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_object_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04885">4885</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lu__object_8c_source.html#l01259">lu_object_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01316">lu_object_header_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00755">mdt_obj()</a>, <a class="el" href="mdt__handler_8c_source.html#l00105">mdt_object_kmem</a>, <a class="el" href="mdt__internal_8h_source.html#l00246">mdt_object::mot_lease_count</a>, <a class="el" href="mdt__internal_8h_source.html#l00247">mdt_object::mot_open_count</a>, <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

</div>
</div>
<a class="anchor" id="a56f1d774edd383dfdf93ff52ef6f52fa"></a><!-- doxytag: member="mdt_handler.c::mdt_object_init" ref="a56f1d774edd383dfdf93ff52ef6f52fa" args="(const struct lu_env *env, struct lu_object *o, const struct lu_object_conf *unused)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_object_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>unused</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04863">4863</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="structlu__device__operations.html#a2d0d0803131da38c837d16ab6f979fb0">lu_device_operations::ldo_object_alloc</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8c_source.html#l01292">lu_object_add()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="md__object_8h_source.html#l00282">md_device::md_lu_dev</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a035d1de4072857c7c024a78266434422"></a><!-- doxytag: member="mdt_handler.c::mdt_object_local_lock" ref="a035d1de4072857c7c024a78266434422" args="(struct mdt_thread_info *info, struct mdt_object *o, struct mdt_lock_handle *lh, __u64 ibits, bool nonblock, bool cos_incompat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_object_local_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>nonblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>cos_incompat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02463">2463</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lustre__idl_8h_source.html#l02841">ldlm_inodebits::bits</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00175">obd_export::exp_handle</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__handles_8h_source.html#l00067">portals_handle::h_cookie</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00290">LCK_MINMODE</a>, <a class="el" href="packet-lustre_8c_source.html#l00296">LCK_NL</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00258">LDLM_FL_ATOMIC_CB</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00108">LDLM_FL_BLOCK_NOWAIT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00361">LDLM_FL_COS_ENABLED</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00136">LDLM_FL_COS_INCOMPAT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00191">LDLM_FL_LOCAL_ONLY</a>, <a class="el" href="lu__object_8h_source.html#l00860">lu_object_attr()</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="lustre__idl_8h_source.html#l02108">LUSTRE_RES_ID_HSH_OFF</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="mdt__handler_8c_source.html#l06104">mdt_cos_is_enabled()</a>, <a class="el" href="mdt__internal_8h_source.html#l00959">mdt_fid_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l00196">mdt_lock_pdo_mode()</a>, <a class="el" href="mdt__internal_8h_source.html#l00162">mdt_device::mdt_namespace</a>, <a class="el" href="md__object_8h_source.html#l00096">MDT_NUL_LOCK</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="mdt__handler_8c_source.html#l02771">mdt_object_unlock()</a>, <a class="el" href="md__object_8h_source.html#l00098">MDT_PDO_LOCK</a>, <a class="el" href="mdt__internal_8h_source.html#l00261">mdt_lock_handle::mlh_pdo_hash</a>, <a class="el" href="mdt__internal_8h_source.html#l00259">mdt_lock_handle::mlh_pdo_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00260">mdt_lock_handle::mlh_pdo_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00252">mdt_lock_handle::mlh_type</a>, <a class="el" href="mdt__internal_8h_source.html#l00237">mdt_object::mot_obj</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00398">mdt_thread_info::mti_policy</a>, <a class="el" href="mdt__internal_8h_source.html#l00399">mdt_thread_info::mti_res_id</a>, <a class="el" href="lustre__idl_8h_source.html#l02780">ldlm_res_id::name</a>, <a class="el" href="obd__support_8h_source.html#l00228">OBD_FAIL_MDS_PDO_LOCK</a>, <a class="el" href="obd__support_8h_source.html#l00618">OBD_FAIL_PRECHECK</a>, <a class="el" href="obd__support_8h_source.html#l00624">OBD_FAIL_TIMEOUT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02563">mdt_object_lock_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="acf0893e2cf24937c7a988b050661e602"></a><!-- doxytag: member="mdt_handler.c::mdt_object_lock" ref="acf0893e2cf24937c7a988b050661e602" args="(struct mdt_thread_info *info, struct mdt_object *o, struct mdt_lock_handle *lh, __u64 ibits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_object_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02619">2619</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__handler_8c_source.html#l02563">mdt_object_lock_internal()</a>.</p>

<p>Referenced by <a class="el" href="mdt__reint_8c_source.html#l00678">mdt_add_dirty_flag()</a>, <a class="el" href="mdt__open_8c_source.html#l01797">mdt_close_swap_layouts()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l01613">mdt_hsm_release()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00197">mdt_hsm_state_get()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00254">mdt_hsm_state_set()</a>, <a class="el" href="mdt__handler_8c_source.html#l03259">mdt_intent_getxattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l01362">mdt_lock_objects_in_linkea()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__handler_8c_source.html#l02783">mdt_object_find_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l00777">mdt_object_open_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, <a class="el" href="mdt__reint_8c_source.html#l00715">mdt_reint_setattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>, and <a class="el" href="mdt__handler_8c_source.html#l01240">mdt_swap_layouts()</a>.</p>

</div>
</div>
<a class="anchor" id="abfac4bbef3d315cabd3c4362cf01e989"></a><!-- doxytag: member="mdt_handler.c::mdt_object_lock_internal" ref="abfac4bbef3d315cabd3c4362cf01e989" args="(struct mdt_thread_info *info, struct mdt_object *o, struct mdt_lock_handle *lh, __u64 ibits, bool nonblock, bool cos_incompat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_object_lock_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>nonblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>cos_incompat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02563">2563</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__dlm_8h_source.html#l00074">ELDLM_OK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="lustre__idl_8h_source.html#l02081">MDS_INODELOCK_LAYOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02092">MDS_INODELOCK_PERM</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="lustre__idl_8h_source.html#l02093">MDS_INODELOCK_XATTR</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="mdt__handler_8c_source.html#l02463">mdt_object_local_lock()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="mdt__handler_8c_source.html#l02771">mdt_object_unlock()</a>, <a class="el" href="md__object_8h_source.html#l00098">MDT_PDO_LOCK</a>, <a class="el" href="md__object_8h_source.html#l00097">MDT_REG_LOCK</a>, <a class="el" href="mdt__handler_8c_source.html#l02431">mdt_remote_object_lock()</a>, <a class="el" href="mdt__internal_8h_source.html#l00261">mdt_lock_handle::mlh_pdo_hash</a>, <a class="el" href="mdt__internal_8h_source.html#l00264">mdt_lock_handle::mlh_rreg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00265">mdt_lock_handle::mlh_rreg_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00252">mdt_lock_handle::mlh_type</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02619">mdt_object_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02634">mdt_object_lock_try()</a>, <a class="el" href="mdt__handler_8c_source.html#l02625">mdt_reint_object_lock()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02647">mdt_reint_object_lock_try()</a>.</p>

</div>
</div>
<a class="anchor" id="ab800fc69892bab9b07cb40947c644b45"></a><!-- doxytag: member="mdt_handler.c::mdt_object_lock_try" ref="ab800fc69892bab9b07cb40947c644b45" args="(struct mdt_thread_info *info, struct mdt_object *o, struct mdt_lock_handle *lh, __u64 ibits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_object_lock_try </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02634">2634</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__handler_8c_source.html#l02563">mdt_object_lock_internal()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, and <a class="el" href="mdt__open_8c_source.html#l00777">mdt_object_open_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a5084f77dcf6f3cfc2e204eee9d1786ff"></a><!-- doxytag: member="mdt_handler.c::mdt_object_new" ref="a5084f77dcf6f3cfc2e204eee9d1786ff" args="(const struct lu_env *env, struct mdt_device *d, const struct lu_fid *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmdt__object.html">mdt_object</a>* mdt_object_new </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02206">2206</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00171">LOC_F_NEW</a>, <a class="el" href="lu__object_8h_source.html#l00187">lu_object_conf::loc_flags</a>, <a class="el" href="lu__object_8c_source.html#l00643">lu_object_find()</a>, <a class="el" href="mdt__internal_8h_source.html#l00159">mdt_device::mdt_lu_dev</a>, <a class="el" href="mdt__internal_8h_source.html#l00755">mdt_obj()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__open_8c_source.html#l01540">mdt_orphan_open()</a>, and <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>.</p>

</div>
</div>
<a class="anchor" id="ab23a03561fd4ba72fc0caacb9fea8940"></a><!-- doxytag: member="mdt_handler.c::mdt_object_print" ref="ab23a03561fd4ba72fc0caacb9fea8940" args="(const struct lu_env *env, void *cookie, lu_printer_t p, const struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_object_print </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04905">4905</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00459">LUSTRE_MDT_NAME</a>, <a class="el" href="mdt__internal_8h_source.html#l00755">mdt_obj()</a>, and <a class="el" href="mdt__internal_8h_source.html#l00238">mdt_object::mot_flags</a>.</p>

</div>
</div>
<a class="anchor" id="ae166287cf5c953ca9babaca70dcd22ef"></a><!-- doxytag: member="mdt_handler.c::mdt_object_sync" ref="ae166287cf5c953ca9babaca70dcd22ef" args="(struct mdt_thread_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_object_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01952">1952</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="md__object_8h_source.html#l00441">mo_object_sync()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01970">mdt_sync()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b11524585025201c5d2ba6d8c2b7d9a"></a><!-- doxytag: member="mdt_handler.c::mdt_object_unlock" ref="a6b11524585025201c5d2ba6d8c2b7d9a" args="(struct mdt_thread_info *info, struct mdt_object *o, struct mdt_lock_handle *lh, int decref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_object_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>decref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlock mdt object. </p>
<p>Immeditely release the regular lock and the PDO lock or save the lock in request and keep them referenced until client ACK or transaction commit.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>thread info object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>o</em>&nbsp;</td><td>mdt object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lh</em>&nbsp;</td><td>mdt lock handle referencing regular and PDO locks </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>decref</em>&nbsp;</td><td>force immediate lock releasing </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02771">2771</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="mdt__handler_8c_source.html#l02675">mdt_save_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02735">mdt_save_remote_lock()</a>, <a class="el" href="mdt__internal_8h_source.html#l00259">mdt_lock_handle::mlh_pdo_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00260">mdt_lock_handle::mlh_pdo_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00255">mdt_lock_handle::mlh_reg_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>, <a class="el" href="mdt__internal_8h_source.html#l00264">mdt_lock_handle::mlh_rreg_lh</a>, and <a class="el" href="mdt__internal_8h_source.html#l00265">mdt_lock_handle::mlh_rreg_mode</a>.</p>

<p>Referenced by <a class="el" href="mdt__coordinator_8c_source.html#l01161">hsm_cdt_request_completed()</a>, <a class="el" href="mdt__reint_8c_source.html#l00678">mdt_add_dirty_flag()</a>, <a class="el" href="mdt__reint_8c_source.html#l00596">mdt_attr_set()</a>, <a class="el" href="mdt__open_8c_source.html#l01797">mdt_close_swap_layouts()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__hsm__cdt__agent_8c_source.html#l00322">mdt_hsm_agent_send()</a>, <a class="el" href="mdt__open_8c_source.html#l01613">mdt_hsm_release()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00197">mdt_hsm_state_get()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00254">mdt_hsm_state_set()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__handler_8c_source.html#l02463">mdt_object_local_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02563">mdt_object_lock_internal()</a>, <a class="el" href="mdt__open_8c_source.html#l00777">mdt_object_open_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l00951">mdt_object_open_unlock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02803">mdt_object_unlock_put()</a>, <a class="el" href="mdt__reint_8c_source.html#l01098">mdt_reint_link()</a>, <a class="el" href="mdt__reint_8c_source.html#l01503">mdt_reint_migrate_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l01833">mdt_reint_rename_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l00715">mdt_reint_setattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>, <a class="el" href="mdt__handler_8c_source.html#l01240">mdt_swap_layouts()</a>, and <a class="el" href="mdt__reint_8c_source.html#l00295">mdt_unlock_slaves()</a>.</p>

</div>
</div>
<a class="anchor" id="acb773320341da6f4bdc8f745002ca7c3"></a><!-- doxytag: member="mdt_handler.c::mdt_object_unlock_put" ref="acb773320341da6f4bdc8f745002ca7c3" args="(struct mdt_thread_info *info, struct mdt_object *o, struct mdt_lock_handle *lh, int decref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_object_unlock_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>decref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02803">2803</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__handler_8c_source.html#l02771">mdt_object_unlock()</a>, and <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>.</p>

<p>Referenced by <a class="el" href="mdt__coordinator_8c_source.html#l01099">hsm_swap_layouts()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00941">mdt_hsm_cdt_stop()</a>, <a class="el" href="mdt__handler_8c_source.html#l05801">mdt_ioc_version_get()</a>, <a class="el" href="mdt__reint_8c_source.html#l01362">mdt_lock_objects_in_linkea()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, <a class="el" href="mdt__xattr_8c_source.html#l00363">mdt_reint_setxattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l01349">mdt_unlock_list()</a>, and <a class="el" href="mdt__reint_8c_source.html#l00295">mdt_unlock_slaves()</a>.</p>

</div>
</div>
<a class="anchor" id="a498f298746784b9da4b02f5c28b46ec3"></a><!-- doxytag: member="mdt_handler.c::mdt_pack_attr2body" ref="a498f298746784b9da4b02f5c28b46ec3" args="(struct mdt_thread_info *info, struct mdt_body *b, const struct lu_attr *attr, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_pack_attr2body </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__body.html">mdt_body</a> *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00501">501</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lu__object_8h_source.html#l00413">lu_attr::la_atime</a>, <a class="el" href="lu__object_8h_source.html#l00444">LA_ATIME</a>, <a class="el" href="lu__object_8h_source.html#l00417">lu_attr::la_blocks</a>, <a class="el" href="lu__object_8h_source.html#l00415">lu_attr::la_ctime</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="lu__object_8h_source.html#l00453">LA_FLAGS</a>, <a class="el" href="lu__object_8h_source.html#l00423">lu_attr::la_gid</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00411">lu_attr::la_mtime</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00427">lu_attr::la_nlink</a>, <a class="el" href="lu__object_8h_source.html#l00454">LA_NLINK</a>, <a class="el" href="lu__object_8h_source.html#l00433">lu_attr::la_rdev</a>, <a class="el" href="lu__object_8h_source.html#l00409">lu_attr::la_size</a>, <a class="el" href="lu__object_8h_source.html#l00452">LA_TYPE</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__user_8h_source.html#l00352">LOV_PATTERN_F_RELEASED</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="md__object_8h_source.html#l00072">MA_INODE</a>, <a class="el" href="md__object_8h_source.html#l00122">md_attr::ma_lmm</a>, <a class="el" href="md__object_8h_source.html#l00073">MA_LOV</a>, <a class="el" href="md__object_8h_source.html#l00117">md_attr::ma_need</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02195">mdt_body::mbo_atime</a>, <a class="el" href="lustre__idl_8h_source.html#l02197">mdt_body::mbo_blocks</a>, <a class="el" href="lustre__idl_8h_source.html#l02196">mdt_body::mbo_ctime</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="lustre__idl_8h_source.html#l02208">mdt_body::mbo_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02207">mdt_body::mbo_gid</a>, <a class="el" href="lustre__idl_8h_source.html#l02205">mdt_body::mbo_mode</a>, <a class="el" href="lustre__idl_8h_source.html#l02194">mdt_body::mbo_mtime</a>, <a class="el" href="lustre__idl_8h_source.html#l02210">mdt_body::mbo_nlink</a>, <a class="el" href="lustre__idl_8h_source.html#l02209">mdt_body::mbo_rdev</a>, <a class="el" href="lustre__idl_8h_source.html#l02193">mdt_body::mbo_size</a>, <a class="el" href="lustre__idl_8h_source.html#l02206">mdt_body::mbo_uid</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="mdt__idmap_8c_source.html#l00275">mdt_body_reverse_idmap()</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00047">NODEMAP_FS_TO_CLIENT</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00043">NODEMAP_GID</a>, <a class="el" href="nodemap__handler_8c_source.html#l00519">nodemap_map_id()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00042">NODEMAP_UID</a>, <a class="el" href="lustre__idl_8h_source.html#l01657">OBD_MD_FLATIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01661">OBD_MD_FLBLOCKS</a>, <a class="el" href="lustre__idl_8h_source.html#l01659">OBD_MD_FLCTIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01667">OBD_MD_FLFLAGS</a>, <a class="el" href="lustre__idl_8h_source.html#l01666">OBD_MD_FLGID</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="lustre__idl_8h_source.html#l01663">OBD_MD_FLMODE</a>, <a class="el" href="lustre__idl_8h_source.html#l01658">OBD_MD_FLMTIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01668">OBD_MD_FLNLINK</a>, <a class="el" href="lustre__idl_8h_source.html#l01671">OBD_MD_FLRDEV</a>, <a class="el" href="lustre__idl_8h_source.html#l01660">OBD_MD_FLSIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l01664">OBD_MD_FLTYPE</a>, <a class="el" href="lustre__idl_8h_source.html#l01665">OBD_MD_FLUID</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__open_8c_source.html#l00500">mdt_finish_open()</a>, <a class="el" href="mdt__handler_8c_source.html#l00905">mdt_getattr_internal()</a>, <a class="el" href="mdt__lib_8c_source.html#l00811">mdt_handle_last_unlink()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00239">mdt_reconstruct_create()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00286">mdt_reconstruct_setattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l00715">mdt_reint_setattr()</a>, and <a class="el" href="mdt__handler_8c_source.html#l01970">mdt_sync()</a>.</p>

</div>
</div>
<a class="anchor" id="a39937e44f0a1f2d88a239c922f79afa3"></a><!-- doxytag: member="mdt_handler.c::mdt_path" ref="a39937e44f0a1f2d88a239c922f79afa3" args="(struct mdt_thread_info *info, struct mdt_object *obj, struct getinfo_fid2path *fp, struct lu_fid *root_fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_path </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgetinfo__fid2path.html">getinfo_fid2path</a> *&nbsp;</td>
          <td class="paramname"> <em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>root_fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Given an MDT object, use mdt_path_current to get the path. </p>
<p>Essentially a wrapper to retry mdt_path_current a set number of times if -EAGAIN is returned (usually because an object is being moved).</p>
<p>Part of the MDT layer implementation of lfs fid2path.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>info</em>&nbsp;</td><td>Per-thread common data shared by mdt level handlers. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>Object to do path lookup of </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>fp</em>&nbsp;</td><td>User-provided struct for arguments and to store path information</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Lookup successful, path information stored in fp </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>errno if there was a problem </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05599">5599</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l03698">getinfo_fid2path::gf_path</a>, <a class="el" href="lustre__idl_8h_source.html#l03696">getinfo_fid2path::gf_pathlen</a>, <a class="el" href="structgetinfo__fid2path.html#afc20bdbe4bf31576ca10fc0ad6a7e8e9">getinfo_fid2path::gf_u</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="mdt__internal_8h_source.html#l00211">mdt_device::mdt_md_root_fid</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="mdt__handler_8c_source.html#l05464">mdt_path_current()</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05641">mdt_fid2path()</a>.</p>

</div>
</div>
<a class="anchor" id="a31cc96fb38ecb412d087e6bfee7c7829"></a><!-- doxytag: member="mdt_handler.c::mdt_path_current" ref="a31cc96fb38ecb412d087e6bfee7c7829" args="(struct mdt_thread_info *info, struct mdt_object *obj, struct getinfo_fid2path *fp, struct lu_fid *root_fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_path_current </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgetinfo__fid2path.html">getinfo_fid2path</a> *&nbsp;</td>
          <td class="paramname"> <em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>root_fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Given an MDT object, try to look up the full path to the object. </p>
<p>Part of the MDT layer implementation of lfs fid2path.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>info</em>&nbsp;</td><td>Per-thread common data shared by MDT level handlers. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>Object to do path lookup of </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>fp</em>&nbsp;</td><td>User-provided struct to store path information </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>root_fid</em>&nbsp;</td><td>Root FID of current path should reach</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Lookup successful, path information stored in fp </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-EAGAIN</em>&nbsp;</td><td>Lookup failed, usually because object is being moved </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>errno if there was a problem </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05464">5464</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l03693">getinfo_fid2path::gf_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l03695">getinfo_fid2path::gf_linkno</a>, <a class="el" href="lustre__idl_8h_source.html#l03698">getinfo_fid2path::gf_path</a>, <a class="el" href="lustre__idl_8h_source.html#l03696">getinfo_fid2path::gf_pathlen</a>, <a class="el" href="structgetinfo__fid2path.html#afc20bdbe4bf31576ca10fc0ad6a7e8e9">getinfo_fid2path::gf_u</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__idl_8h_source.html#l03674">link_ea_header::leh_reccount</a>, <a class="el" href="linkea_8c_source.html#l00097">linkea_entry_unpack()</a>, <a class="el" href="lustre__idl_8h_source.html#l02653">lmv_mds_md::lmv_magic</a>, <a class="el" href="lustre__idl_8h_source.html#l02600">LMV_MAGIC_STRIPE</a>, <a class="el" href="lu__object_8h_source.html#l01297">lu_name::ln_name</a>, <a class="el" href="lu__object_8h_source.html#l01298">lu_name::ln_namelen</a>, <a class="el" href="lu__object_8c_source.html#l02369">lu_buf_check_and_alloc()</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="mdt__handler_8c_source.html#l05420">mdt_links_read()</a>, <a class="el" href="mdt__internal_8h_source.html#l00211">mdt_device::mdt_md_root_fid</a>, <a class="el" href="mdt__internal_8h_source.html#l00755">mdt_obj()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="mdt__handler_8c_source.html#l02224">mdt_object_find()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00419">mdt_thread_info::mti_big_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00422">mdt_thread_info::mti_name</a>, <a class="el" href="mdt__internal_8h_source.html#l00396">mdt_thread_info::mti_tmp_fid1</a>, <a class="el" href="mdt__internal_8h_source.html#l00429">mdt_thread_info::mti_xattr_buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05599">mdt_path()</a>.</p>

</div>
</div>
<a class="anchor" id="aea09efc8cb785decd622604197c699d9"></a><!-- doxytag: member="mdt_handler.c::mdt_postrecov" ref="aea09efc8cb785decd622604197c699d9" args="(const struct lu_env *, struct mdt_device *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_postrecov </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05951">5951</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="structlu__device__operations.html#a0786583fdaf5ff6bf3f4aaa4e48d3dd9">lu_device_operations::ldo_recovery_complete</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00044">lfsck_start_param::lsp_index_valid</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00042">lfsck_start_param::lsp_start</a>, <a class="el" href="md__object_8h_source.html#l00298">md2lu_dev()</a>, <a class="el" href="md__object_8h_source.html#l00283">md_device::md_ops</a>, <a class="el" href="structmd__device__operations.html#ae465ad315bd7992e31f06dc2db65eb51">md_device_operations::mdo_iocontrol</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00196">mdt_device::mdt_skip_lfsck</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00406">OBD_IOC_START_LFSCK</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05974">mdt_obd_postrecov()</a>, and <a class="el" href="mdt__handler_8c_source.html#l04915">mdt_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="ab3ba9eca72049af9c42dcd379c2c5564"></a><!-- doxytag: member="mdt_handler.c::mdt_prepare" ref="ab3ba9eca72049af9c42dcd379c2c5564" args="(const struct lu_env *env, struct lu_device *pdev, struct lu_device *cdev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_prepare </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>pdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>cdev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04915">4915</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="structlu__device__operations.html#aae9b682bd4e9a56b8b74ef52ea9a77a9">lu_device_operations::ldo_prepare</a>, <a class="el" href="lfsck__lib_8c_source.html#l03457">lfsck_register_namespace()</a>, <a class="el" href="lustre__idl_8h_source.html#l03056">LLOG_AGENT_ORIG_CTXT</a>, <a class="el" href="lustre__idl_8h_source.html#l03052">LLOG_CHANGELOG_ORIG_CTXT</a>, <a class="el" href="md__object_8h_source.html#l00282">md_device::md_lu_dev</a>, <a class="el" href="md__object_8h_source.html#l00283">md_device::md_ops</a>, <a class="el" href="structmd__device__operations.html#a9ae84ce634aaa44bed3c66a5cac7b6a6">md_device_operations::mdo_root_get</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00154">MDT_FL_CFGLOG</a>, <a class="el" href="mdt__handler_8c_source.html#l02131">mdt_llog_ctxt_clone()</a>, <a class="el" href="mdt__internal_8h_source.html#l00171">mdt_device::mdt_lut</a>, <a class="el" href="mdt__internal_8h_source.html#l00211">mdt_device::mdt_md_root_fid</a>, <a class="el" href="mdt__internal_8h_source.html#l00162">mdt_device::mdt_namespace</a>, <a class="el" href="mdt__handler_8c_source.html#l05951">mdt_postrecov()</a>, <a class="el" href="mdt__internal_8h_source.html#l00160">mdt_device::mdt_seq_site</a>, <a class="el" href="mdt__internal_8h_source.html#l00183">mdt_device::mdt_state</a>, <a class="el" href="obd_8h_source.html#l00644">obd_device::obd_dev_lock</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_no_conn</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_recovering</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, <a class="el" href="mdt__internal_8h.html#a8c8ebefb0e9c977840de5620dfd7e655">target_recovery_init()</a>, and <a class="el" href="tgt__handler_8c_source.html#l00653">tgt_request_handle()</a>.</p>

</div>
</div>
<a class="anchor" id="a37bc56d1c9b9370f1b0409c5da1b0541"></a><!-- doxytag: member="mdt_handler.c::mdt_process_config" ref="a37bc56d1c9b9370f1b0409c5da1b0541" args="(const struct lu_env *env, struct lu_device *d, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_process_config </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04765">4765</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__config_8c_source.html#l00095">class_find_old_param()</a>, <a class="el" href="obd__config_8c_source.html#l01322">class_process_proc_param()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00414">hsm_cdt_get_proc_vars()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00086">LCFG_PARAM</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="structlu__device__operations.html#a892c61097c7e02dd33e5a9148d339dae">lu_device_operations::ldo_process_config</a>, <a class="el" href="lustre__cfg_8h_source.html#l00290">lustre_cfg_free()</a>, <a class="el" href="obd__config_8c_source.html#l01033">lustre_cfg_rename()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="md__object_8h_source.html#l00298">md2lu_dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__handler_8c_source.html#l04754">mdt_interop_param</a>, <a class="el" href="lustre__param_8h_source.html#l00057">cfg_interop_param::new_param</a>, <a class="el" href="obd_8h_source.html#l00716">obd_device::obd_vars</a>, <a class="el" href="lustre__param_8h_source.html#l00056">cfg_interop_param::old_param</a>, <a class="el" href="lustre__param_8h_source.html#l00110">PARAM_HSM</a>, <a class="el" href="lustre__param_8h_source.html#l00109">PARAM_MDT</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a7b5d2bb5ff9aa2bf81d9a668017cde13"></a><!-- doxytag: member="mdt_handler.c::mdt_quota_dqacq" ref="a7b5d2bb5ff9aa2bf81d9a668017cde13" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_quota_dqacq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02192">2192</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="mdt__internal_8h_source.html#l00914">mdt_exp2dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00216">mdt_device::mdt_qmt_dev</a>, <a class="el" href="qmt__handler_8c_source.html#l00680">qmt_hdls</a>, <a class="el" href="structqmt__handlers.html#ae3fec85b848f2f108cddae4a1583567e">qmt_handlers::qmth_dqacq</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lu__target_8h_source.html#l00334">tgt_ses_req()</a>, <a class="el" href="lu__target_8h_source.html#l00203">tgt_session_info::tsi_env</a>, and <a class="el" href="lu__target_8h_source.html#l00202">tgt_session_info::tsi_exp</a>.</p>

</div>
</div>
<a class="anchor" id="a968cd82e0401d4a84add63888c178fe5"></a><!-- doxytag: member="mdt_handler.c::mdt_quota_fini" ref="a968cd82e0401d4a84add63888c178fe5" args="(const struct lu_env *env, struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_quota_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04311">4311</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdt__internal_8h_source.html#l00216">mdt_device::mdt_qmt_dev</a>, <a class="el" href="mdt__internal_8h_source.html#l00214">mdt_device::mdt_qmt_exp</a>, <a class="el" href="obd__class_8h_source.html#l00842">obd_disconnect()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04447">mdt_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a4be8d75831b71a1c37ea003edb4a0cb7"></a><!-- doxytag: member="mdt_handler.c::mdt_quota_init" ref="a4be8d75831b71a1c37ea003edb4a0cb7" args="(const struct lu_env *env, struct mdt_device *mdt, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_quota_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04175">4175</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__config_8c_source.html#l00336">class_attach()</a>, <a class="el" href="obd__config_8c_source.html#l00616">class_cleanup()</a>, <a class="el" href="obd__config_8c_source.html#l00586">class_detach()</a>, <a class="el" href="obd__config_8c_source.html#l00844">class_get_profile()</a>, <a class="el" href="obd__config_8c_source.html#l01909">class_manual_cleanup()</a>, <a class="el" href="genops_8c_source.html#l00429">class_name2obd()</a>, <a class="el" href="obd__config_8c_source.html#l00941">class_put_profile()</a>, <a class="el" href="obd__config_8c_source.html#l00445">class_setup()</a>, <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00072">LCFG_ATTACH</a>, <a class="el" href="lustre__cfg_8h_source.html#l00074">LCFG_SETUP</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="structlu__device__operations.html#aae9b682bd4e9a56b8b74ef52ea9a77a9">lu_device_operations::ldo_prepare</a>, <a class="el" href="obd__class_8h_source.html#l00214">lustre_profile::lp_dt</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00290">lustre_cfg_free()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00273">lustre_cfg_new()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="obd_8h_source.html#l00470">LUSTRE_QMT_NAME</a>, <a class="el" href="lustre__ver_8h_source.html#l00023">LUSTRE_VERSION_CODE</a>, <a class="el" href="lustre__user_8h_source.html#l00316">MAX_OBD_NAME</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l00159">mdt_device::mdt_lu_dev</a>, <a class="el" href="mdt__internal_8h_source.html#l00216">mdt_device::mdt_qmt_dev</a>, <a class="el" href="mdt__internal_8h_source.html#l00214">mdt_device::mdt_qmt_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00160">mdt_device::mdt_seq_site</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__class_8h_source.html#l00796">obd_connect()</a>, <a class="el" href="lustre__idl_8h_source.html#l01184">OBD_CONNECT_VERSION</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="lustre__idl_8h_source.html#l01336">obd_connect_data::ocd_connect_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l01337">obd_connect_data::ocd_version</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, <a class="el" href="llog__test_8c_source.html#l00057">uuid</a>, and <a class="el" href="lustre__user_8h_source.html#l00490">UUID_MAX</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d80e7e77c3ae55daf66f4356716fe4c"></a><!-- doxytag: member="mdt_handler.c::mdt_quotactl" ref="a4d80e7e77c3ae55daf66f4356716fe4c" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_quotactl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02016">2016</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idmap_8h_source.html#l00064">CFS_IDMAP_NOTFOUND</a>, <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="lustre__export_8h_source.html#l00342">exp_connect_rmtclient()</a>, <a class="el" href="lquota__lib_8c_source.html#l00158">lquotactl_slv()</a>, <a class="el" href="idmap_8c_source.html#l00409">lustre_idmap_lookup_gid()</a>, <a class="el" href="idmap_8c_source.html#l00376">lustre_idmap_lookup_uid()</a>, <a class="el" href="lu__target_8h_source.html#l00120">lu_target::lut_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l00914">mdt_exp2dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00216">mdt_device::mdt_qmt_dev</a>, <a class="el" href="nodemap__handler_8c_source.html#l00987">nodemap_can_setquota()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00048">NODEMAP_CLIENT_TO_FS</a>, <a class="el" href="nodemap__handler_8c_source.html#l00519">nodemap_map_id()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00042">NODEMAP_UID</a>, <a class="el" href="lustre__user_8h_source.html#l00569">Q_GETOINFO</a>, <a class="el" href="lustre__user_8h_source.html#l00570">Q_GETOQUOTA</a>, <a class="el" href="lustre__idl_8h_source.html#l01856">obd_quotactl::qc_cmd</a>, <a class="el" href="lustre__idl_8h_source.html#l01858">obd_quotactl::qc_id</a>, <a class="el" href="lustre__idl_8h_source.html#l01857">obd_quotactl::qc_type</a>, <a class="el" href="qmt__handler_8c_source.html#l00680">qmt_hdls</a>, <a class="el" href="structqmt__handlers.html#a873f54e815021fd745715bfa87026c50">qmt_handlers::qmth_quotactl</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00943">RMF_OBD_QUOTACTL</a>, <a class="el" href="osd__iam_8h_source.html#l01014">swap</a>, <a class="el" href="lu__target_8h_source.html#l00203">tgt_session_info::tsi_env</a>, <a class="el" href="lu__target_8h_source.html#l00202">tgt_session_info::tsi_exp</a>, <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>, <a class="el" href="lu__target_8h_source.html#l00204">tgt_session_info::tsi_tgt</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a4dcf70dd9f2fd4ef9f2d426adffbc12d"></a><!-- doxytag: member="mdt_handler.c::mdt_raw_lookup" ref="a4dcf70dd9f2fd4ef9f2d426adffbc12d" args="(struct mdt_thread_info *info, struct mdt_object *parent, const struct lu_name *lname, struct ldlm_reply *ldlm_rep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_raw_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>lname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *&nbsp;</td>
          <td class="paramname"> <em>ldlm_rep</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01331">1331</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02063">DISP_LOOKUP_NEG</a>, <a class="el" href="lustre__idl_8h_source.html#l02064">DISP_LOOKUP_POS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="md__object_8h_source.html#l00466">mdo_lookup()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__handler_8c_source.html#l00152">mdt_set_disposition()</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_cross_ref</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="mdt__internal_8h_source.html#l00386">mdt_thread_info::mti_spec</a>, <a class="el" href="mdt__internal_8h_source.html#l00396">mdt_thread_info::mti_tmp_fid1</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="ade71de606bc5e02ca48f63a2d131a710"></a><!-- doxytag: member="mdt_handler.c::mdt_readpage" ref="ade71de606bc5e02ca48f63a2d131a710" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_readpage </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01736">1736</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="lustre__export_8h_source.html#l00309">exp_max_brw_size()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lustre__idl_8h_source.html#l00872">LUDA_64BITHASH</a>, <a class="el" href="lustre__idl_8h_source.html#l02205">mdt_body::mbo_mode</a>, <a class="el" href="lustre__idl_8h_source.html#l02210">mdt_body::mbo_nlink</a>, <a class="el" href="lustre__idl_8h_source.html#l02193">mdt_body::mbo_size</a>, <a class="el" href="mdt__internal_8h_source.html#l00755">mdt_obj()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00436">mdt_th_info()</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="md__object_8h_source.html#l00433">mo_readpage()</a>, <a class="el" href="structmdt__thread__info.html#a4e83bed1d2937bdf8564dc1dceb62dd6">mdt_thread_info::mti_u</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="lustre__idl_8h_source.html#l01221">OBD_CONNECT_64BITHASH</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00164">OBD_FAIL_MDS_READPAGE_PACK</a>, <a class="el" href="obd__support_8h_source.html#l00165">OBD_FAIL_MDS_SENDPAGE</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="structmdt__thread__info.html#ae2ff9a72f19dcf253593889e0a1f0b0c">mdt_thread_info::rdpg</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="lu__object_8h_source.html#l00903">lu_rdpg::rp_attrs</a>, <a class="el" href="lu__object_8h_source.html#l00899">lu_rdpg::rp_count</a>, <a class="el" href="lu__object_8h_source.html#l00897">lu_rdpg::rp_hash</a>, <a class="el" href="lu__object_8h_source.html#l00901">lu_rdpg::rp_npages</a>, <a class="el" href="lu__object_8h_source.html#l00905">lu_rdpg::rp_pages</a>, <a class="el" href="tgt__handler_8c_source.html#l01141">tgt_sendpage()</a>, <a class="el" href="lu__target_8h_source.html#l00208">tgt_session_info::tsi_corpus</a>, <a class="el" href="lu__target_8h_source.html#l00203">tgt_session_info::tsi_env</a>, <a class="el" href="lu__target_8h_source.html#l00202">tgt_session_info::tsi_exp</a>, <a class="el" href="lu__target_8h_source.html#l00206">tgt_session_info::tsi_mdt_body</a>, and <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>.</p>

</div>
</div>
<a class="anchor" id="aa449a321b7221ae7b684a6b259882c2c"></a><!-- doxytag: member="mdt_handler.c::mdt_register_lwp_callback" ref="aa449a321b7221ae7b684a6b259882c2c" args="(void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_register_lwp_callback </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It will retrieve its FLDB entries from MDT0, and it only happens when upgrading existent FS to 2.6 or when local FLDB is corrupted, and it needs to refresh FLDB from the MDT0. </p>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03710">3710</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="fld__handler_8c_source.html#l00128">fld_update_from_controller()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lustre__fld_8h_source.html#l00109">lu_server_fld::lsf_new</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="fid__handler_8c_source.html#l00275">seq_server_check_and_alloc_super()</a>, and <a class="el" href="lustre__fid_8h_source.html#l00458">seq_server_site::ss_server_fld</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03746">mdt_register_seq_exp()</a>.</p>

</div>
</div>
<a class="anchor" id="a08a58e4f7493af20fea6a07004bd1470"></a><!-- doxytag: member="mdt_handler.c::mdt_register_seq_exp" ref="a08a58e4f7493af20fea6a07004bd1470" args="(struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_register_seq_exp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03746">3746</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__fid_8h_source.html#l00353">lu_client_seq::lcs_exp</a>, <a class="el" href="lustre__fld_8h_source.html#l00085">lu_server_fld::lsf_control_exp</a>, <a class="el" href="obd__mount__server_8c_source.html#l00458">lustre_deregister_lwp_item()</a>, <a class="el" href="obd__mount__server_8c_source.html#l00405">lustre_register_lwp_item()</a>, <a class="el" href="lustre__user_8h_source.html#l00316">MAX_OBD_NAME</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__handler_8c_source.html#l03710">mdt_register_lwp_callback()</a>, <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__fid_8h_source.html#l00475">seq_server_site::ss_client_seq</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, <a class="el" href="lustre__fid_8h_source.html#l00458">seq_server_site::ss_server_fld</a>, and <a class="el" href="obd__mount__server_8c_source.html#l00349">tgt_name2lwp_name()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03824">mdt_seq_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a09bd0d5e24dfe775cc109a7576f8d7"></a><!-- doxytag: member="mdt_handler.c::mdt_reint" ref="a2a09bd0d5e24dfe775cc109a7576f8d7" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_reint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01905">1905</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdt__handler_8c_source.html#l01806">mdt_reint_internal()</a>, <a class="el" href="mdt__handler_8c_source.html#l01879">mdt_reint_opcode()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="obd__support_8h_source.html#l00184">OBD_FAIL_MDS_REINT_NET_REP</a>, <a class="el" href="packet-lustre_8c_source.html#l00250">REINT_CREATE</a>, <a class="el" href="packet-lustre_8c_source.html#l00251">REINT_LINK</a>, <a class="el" href="packet-lustre_8c_source.html#l00258">REINT_MAX</a>, <a class="el" href="lustre__idl_8h_source.html#l02056">REINT_MIGRATE</a>, <a class="el" href="packet-lustre_8c_source.html#l00254">REINT_OPEN</a>, <a class="el" href="packet-lustre_8c_source.html#l00253">REINT_RENAME</a>, <a class="el" href="lustre__idl_8h_source.html#l02055">REINT_RMENTRY</a>, <a class="el" href="packet-lustre_8c_source.html#l00249">REINT_SETATTR</a>, <a class="el" href="packet-lustre_8c_source.html#l00255">REINT_SETXATTR</a>, <a class="el" href="packet-lustre_8c_source.html#l00252">REINT_UNLINK</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01367">RQF_MDS_REINT_CREATE</a>, <a class="el" href="layout_8c_source.html#l01397">RQF_MDS_REINT_LINK</a>, <a class="el" href="layout_8c_source.html#l01387">RQF_MDS_REINT_OPEN</a>, <a class="el" href="layout_8c_source.html#l01402">RQF_MDS_REINT_RENAME</a>, <a class="el" href="layout_8c_source.html#l01412">RQF_MDS_REINT_SETATTR</a>, <a class="el" href="layout_8c_source.html#l01417">RQF_MDS_REINT_SETXATTR</a>, <a class="el" href="layout_8c_source.html#l01392">RQF_MDS_REINT_UNLINK</a>, <a class="el" href="lu__target_8h_source.html#l00334">tgt_ses_req()</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, and <a class="el" href="lu__target_8h_source.html#l00224">tgt_session_info::tsi_reply_fail_id</a>.</p>

</div>
</div>
<a class="anchor" id="a4ac4a080ccc211cafa3eb2ee3ae5c411"></a><!-- doxytag: member="mdt_handler.c::mdt_reint_internal" ref="a4ac4a080ccc211cafa3eb2ee3ae5c411" args="(struct mdt_thread_info *info, struct mdt_lock_handle *lhc, __u32 op)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_reint_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lhc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>op</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01806">1806</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="lustre__idl_8h_source.html#l01585">DEF_REP_MD_SIZE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="pack__generic_8c_source.html#l01098">lustre_msg_get_status()</a>, <a class="el" href="lustre__idl_8h_source.html#l02214">mdt_body::mbo_aclsize</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="mdt__internal_8h_source.html#l00921">mdt_check_resent()</a>, <a class="el" href="mdt__handler_8c_source.html#l00600">mdt_client_compatibility()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__idmap_8c_source.html#l00317">mdt_fix_attr_ucred()</a>, <a class="el" href="mdt__lib_8c_source.html#l00689">mdt_fix_reply()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__lib_8c_source.html#l00612">mdt_init_ucred_reint()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00338">mdt_reconstruct()</a>, <a class="el" href="mdt__reint_8c_source.html#l02235">mdt_reint_rec()</a>, <a class="el" href="mdt__lib_8c_source.html#l01464">mdt_reint_unpack()</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="mdt__internal_8h_source.html#l00386">mdt_thread_info::mti_spec</a>, <a class="el" href="md__object_8h_source.html#l00146">md_op_spec::no_create</a>, <a class="el" href="obd__support_8h_source.html#l00225">OBD_FAIL_MDS_REINT_DELAY</a>, <a class="el" href="obd__support_8h_source.html#l00624">OBD_FAIL_TIMEOUT</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02382">req_capsule_has_field()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01081">RMF_LOGCOOKIES</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, and <a class="el" href="layout_8c_source.html#l01058">RMF_MDT_MD</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03431">mdt_intent_reint()</a>, and <a class="el" href="mdt__handler_8c_source.html#l01905">mdt_reint()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9934615f2114e5f95171bdea12e04cf"></a><!-- doxytag: member="mdt_handler.c::mdt_reint_object_lock" ref="ae9934615f2114e5f95171bdea12e04cf" args="(struct mdt_thread_info *info, struct mdt_object *o, struct mdt_lock_handle *lh, __u64 ibits, bool cos_incompat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_reint_object_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>cos_incompat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02625">2625</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="mdt__handler_8c_source.html#l02563">mdt_object_lock_internal()</a>, and <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>.</p>

<p>Referenced by <a class="el" href="mdt__reint_8c_source.html#l00596">mdt_attr_set()</a>, <a class="el" href="mdt__reint_8c_source.html#l00378">mdt_lock_slaves()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__reint_8c_source.html#l01799">mdt_object_lock_save()</a>, <a class="el" href="mdt__reint_8c_source.html#l01098">mdt_reint_link()</a>, <a class="el" href="mdt__reint_8c_source.html#l01503">mdt_reint_migrate_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l01833">mdt_reint_rename_internal()</a>, and <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a1a5e5409f608767f4f4dee46789a97"></a><!-- doxytag: member="mdt_handler.c::mdt_reint_object_lock_try" ref="a6a1a5e5409f608767f4f4dee46789a97" args="(struct mdt_thread_info *info, struct mdt_object *o, struct mdt_lock_handle *lh, __u64 ibits, bool cos_incompat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_reint_object_lock_try </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>cos_incompat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02647">2647</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="mdt__handler_8c_source.html#l02563">mdt_object_lock_internal()</a>, and <a class="el" href="mdt__internal_8h_source.html#l00256">mdt_lock_handle::mlh_reg_mode</a>.</p>

<p>Referenced by <a class="el" href="mdt__reint_8c_source.html#l01362">mdt_lock_objects_in_linkea()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6d6e4697f2b0eafe1f76ad25ac05341"></a><!-- doxytag: member="mdt_handler.c::mdt_reint_opcode" ref="ac6d6e4697f2b0eafe1f76ad25ac05341" args="(struct ptlrpc_request *req, const struct req_format **fmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static long mdt_reint_opcode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structreq__format.html">req_format</a> **&nbsp;</td>
          <td class="paramname"> <em>fmt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01879">1879</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__net_8h_source.html#l00535">ptlrpc_client::cli_name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="mdt__internal_8h_source.html#l00914">mdt_exp2dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00164">mdt_device::mdt_ldlm_client</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="packet-lustre_8c_source.html#l00258">REINT_MAX</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02339">req_capsule_extend()</a>, <a class="el" href="layout_8c_source.html#l01062">RMF_REC_REINT</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="lustre__idl_8h_source.html#l02535">mdt_rec_reint::rr_opcode</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03431">mdt_intent_reint()</a>, and <a class="el" href="mdt__handler_8c_source.html#l01905">mdt_reint()</a>.</p>

</div>
</div>
<a class="anchor" id="a73ffd45c980ee324bea1002e238d4e89"></a><!-- doxytag: member="mdt_handler.c::mdt_remote_blocking_ast" ref="a73ffd45c980ee324bea1002e238d4e89" args="(struct ldlm_lock *lock, struct ldlm_lock_desc *desc, void *data, int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_remote_blocking_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02366">2366</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="lustre__dlm_8h_source.html#l00616">LCF_ASYNC</a>, <a class="el" href="lustre__dlm_8h_source.html#l00103">LDLM_CB_BLOCKING</a>, <a class="el" href="lustre__dlm_8h_source.html#l00104">LDLM_CB_CANCELING</a>, <a class="el" href="ldlm__request_8c_source.html#l01345">ldlm_cli_cancel()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01168">LDLM_DEBUG</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00259">ldlm_is_atomic_cb</a>, <a class="el" href="ldlm__lock_8c_source.html#l00582">ldlm_lock2handle()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="tgt__main_8c_source.html#l00086">tgt_discard_slc_lock()</a>.</p>

<p>Referenced by <a class="el" href="mdt__reint_8c_source.html#l00378">mdt_lock_slaves()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02431">mdt_remote_object_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="acbf7a7fa2fb5b6900518fd9b3337ec85"></a><!-- doxytag: member="mdt_handler.c::mdt_remote_object_lock" ref="acbf7a7fa2fb5b6900518fd9b3337ec85" args="(struct mdt_thread_info *mti, struct mdt_object *o, const struct lu_fid *fid, struct lustre_handle *lh, enum ldlm_mode mode, __u64 ibits, bool nonblock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_remote_object_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ibits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>nonblock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02431">2431</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02841">ldlm_inodebits::bits</a>, <a class="el" href="lustre__dlm_8h_source.html#l01099">ldlm_enqueue_info::ei_cb_bl</a>, <a class="el" href="lustre__dlm_8h_source.html#l01101">ldlm_enqueue_info::ei_cb_cp</a>, <a class="el" href="lustre__dlm_8h_source.html#l01105">ldlm_enqueue_info::ei_enq_slave</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l01105">ldlm_enqueue_info::ei_nonblock</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__request_8c_source.html#l00230">ldlm_completion_ast()</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="mdt__handler_8c_source.html#l02366">mdt_remote_blocking_ast()</a>, <a class="el" href="md__object_8h_source.html#l00447">mo_object_lock()</a>, <a class="el" href="mdt__internal_8h_source.html#l00430">mdt_thread_info::mti_einfo</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00398">mdt_thread_info::mti_policy</a>, <a class="el" href="mdt__internal_8h_source.html#l00399">mdt_thread_info::mti_res_id</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02563">mdt_object_lock_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l01503">mdt_reint_migrate_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l01833">mdt_reint_rename_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>, and <a class="el" href="mdt__reint_8c_source.html#l01250">mdt_rename_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9e41a237c0ecfb89ff0bf1ad7482567"></a><!-- doxytag: member="mdt_handler.c::mdt_rpc_fid2path" ref="ab9e41a237c0ecfb89ff0bf1ad7482567" args="(struct mdt_thread_info *info, void *key, int keylen, void *val, int vallen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_rpc_fid2path </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>keylen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>vallen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05696">5696</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__idl_8h_source.html#l03696">getinfo_fid2path::gf_pathlen</a>, <a class="el" href="lustre__idl_8h_source.html#l03699">getinfo_fid2path::gf_root_fid</a>, <a class="el" href="structgetinfo__fid2path.html#afc20bdbe4bf31576ca10fc0ad6a7e8e9">getinfo_fid2path::gf_u</a>, <a class="el" href="obd_8h_source.html#l00738">KEY_FID2PATH</a>, <a class="el" href="pack__generic_8c_source.html#l01969">lustre_swab_fid2path()</a>, <a class="el" href="req-layout_8c_source.html#l00093">lustre_swab_lu_fid</a>, <a class="el" href="mdt__handler_8c_source.html#l05641">mdt_fid2path()</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01190">ptlrpc_req_need_swab()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00067">req_capsule::rc_req</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05728">mdt_get_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ec50ae09de62871656448912292b5e8"></a><!-- doxytag: member="mdt_handler.c::mdt_save_lock" ref="a3ec50ae09de62871656448912292b5e8" args="(struct mdt_thread_info *info, struct lustre_handle *h, enum ldlm_mode mode, int decref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_save_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>decref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Save a lock within request object. </p>
<p>Keep the lock referenced until whether client ACK or transaction commit happens or release the lock immediately depending on input parameters. If COS is ON, a write lock is converted to COS lock before saving.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>thead info object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>lock handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>lock mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>decref</em>&nbsp;</td><td>force immediate lock releasing </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02675">2675</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__idl_8h_source.html#l02805">LCK_COS</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02428">ldlm_lock_downgrade()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00046">LPD64</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="mdt__handler_8c_source.html#l06104">mdt_cos_is_enabled()</a>, <a class="el" href="mdt__handler_8c_source.html#l02250">mdt_device_commit_async()</a>, <a class="el" href="mdt__internal_8h_source.html#l00977">mdt_fid_unlock()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__handler_8c_source.html#l02290">mdt_is_lock_sync()</a>, <a class="el" href="mdt__internal_8h_source.html#l00982">mdt_slc_is_enabled()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_has_trans</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="service_8c_source.html#l00183">ptlrpc_save_lock()</a>, and <a class="el" href="lustre__net_8h_source.html#l01034">ptlrpc_request::rq_transno</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02771">mdt_object_unlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e12f21fce08c4bc48294e32dc2be234"></a><!-- doxytag: member="mdt_handler.c::mdt_save_remote_lock" ref="a9e12f21fce08c4bc48294e32dc2be234" args="(struct mdt_thread_info *info, struct lustre_handle *h, enum ldlm_mode mode, int decref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_save_remote_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>decref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Save cross-MDT lock in uncommitted_slc_locks. </p>
<p>Keep the lock referenced until transaction commit happens or release the lock immediately depending on input parameters.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>thead info object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>lock handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>lock mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>decref</em>&nbsp;</td><td>force immediate lock releasing </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02735">2735</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00918">ldlm_lock_decref_and_cancel()</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_has_trans</a>, <a class="el" href="lustre__net_8h_source.html#l01034">ptlrpc_request::rq_transno</a>, and <a class="el" href="tgt__main_8c_source.html#l00054">tgt_save_slc_lock()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02771">mdt_object_unlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a867baf637230dcc8694637cd3b0cead8"></a><!-- doxytag: member="mdt_handler.c::mdt_sec_ctx_handle" ref="a867baf637230dcc8694637cd3b0cead8" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_sec_ctx_handle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02170">2170</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__fail_8h_source.html#l00139">CFS_FAIL_TIMEOUT</a>, <a class="el" href="fail_8c_source.html#l00039">cfs_fail_val</a>, <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="mdt__idmap_8c_source.html#l00135">mdt_handle_idmap()</a>, <a class="el" href="obd__support_8h_source.html#l00489">OBD_FAIL_SEC_CTX_HDL_PAUSE</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__idl_8h_source.html#l03592">SEC_CTX_INIT</a>, <a class="el" href="lustre__idl_8h_source.html#l03593">SEC_CTX_INIT_CONT</a>, <a class="el" href="sec_8c_source.html#l02244">sptlrpc_svc_ctx_invalidate()</a>, <a class="el" href="lu__target_8h_source.html#l00334">tgt_ses_req()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a931de0e3386464cc24cedb0b913420bd"></a><!-- doxytag: member="mdt_handler.c::mdt_seq_fini" ref="a931de0e3386464cc24cedb0b913420bd" args="(const struct lu_env *env, struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_seq_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03697">3697</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__handler_8c_source.html#l03668">mdt_deregister_seq_exp()</a>, <a class="el" href="mdt__handler_8c_source.html#l03686">mdt_seq_fini_cli()</a>, <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, and <a class="el" href="fid__handler_8c_source.html#l00603">seq_site_fini()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04447">mdt_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>, and <a class="el" href="mdt__handler_8c_source.html#l03824">mdt_seq_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a67986b7b82b8e5ffb09e99b5710f45d0"></a><!-- doxytag: member="mdt_handler.c::mdt_seq_fini_cli" ref="a67986b7b82b8e5ffb09e99b5710f45d0" args="(struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_seq_fini_cli </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03686">3686</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, <a class="el" href="fid__handler_8c_source.html#l00058">seq_server_set_cli()</a>, and <a class="el" href="lustre__fid_8h_source.html#l00464">seq_server_site::ss_server_seq</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03697">mdt_seq_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ac23017307d45f64f60ee9a361414fb86"></a><!-- doxytag: member="mdt_handler.c::mdt_seq_init" ref="ac23017307d45f64f60ee9a361414fb86" args="(const struct lu_env *env, struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_seq_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03824">3824</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__fid_8h_source.html#l00345">LUSTRE_SEQ_CONTROLLER</a>, <a class="el" href="lustre__fid_8h_source.html#l00344">LUSTRE_SEQ_SERVER</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__handler_8c_source.html#l03746">mdt_register_seq_exp()</a>, <a class="el" href="mdt__handler_8c_source.html#l03697">mdt_seq_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l03787">mdt_seq_init_cli()</a>, <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="fid__handler_8c_source.html#l00501">seq_server_init()</a>, <a class="el" href="lustre__fid_8h_source.html#l00469">seq_server_site::ss_control_seq</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, and <a class="el" href="lustre__fid_8h_source.html#l00464">seq_server_site::ss_server_seq</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a512c0d41ed59ddecc552a3aa9ef7ada9"></a><!-- doxytag: member="mdt_handler.c::mdt_seq_init_cli" ref="a512c0d41ed59ddecc552a3aa9ef7ada9" args="(const struct lu_env *env, struct mdt_device *mdt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_seq_init_cli </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03787">3787</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00339">LUSTRE_SEQ_METADATA</a>, <a class="el" href="lustre__user_8h_source.html#l00316">MAX_OBD_NAME</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00553">mdt_seq_site()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="fid__request_8c_source.html#l00468">seq_client_init()</a>, <a class="el" href="fid__handler_8c_source.html#l00058">seq_server_set_cli()</a>, <a class="el" href="lustre__fid_8h_source.html#l00475">seq_server_site::ss_client_seq</a>, <a class="el" href="lustre__fid_8h_source.html#l00469">seq_server_site::ss_control_seq</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, and <a class="el" href="lustre__fid_8h_source.html#l00464">seq_server_site::ss_server_seq</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03824">mdt_seq_init()</a>.</p>

</div>
</div>
<a class="anchor" id="abc91f6ad8fc0ec7541491e8f4ff11c55"></a><!-- doxytag: member="mdt_handler.c::mdt_set_disposition" ref="abc91f6ad8fc0ec7541491e8f4ff11c55" args="(struct mdt_thread_info *info, struct ldlm_reply *rep, __u64 op_flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_set_disposition </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__reply.html">ldlm_reply</a> *&nbsp;</td>
          <td class="paramname"> <em>rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>op_flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00152">152</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02929">ldlm_reply::lock_policy_res1</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00368">mdt_thread_info::mti_opdata</a>, and <a class="el" href="lu__target_8h_source.html#l00256">tgt_opdata_set()</a>.</p>

<p>Referenced by <a class="el" href="mdt__open_8c_source.html#l00500">mdt_finish_open()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l03296">mdt_intent_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l03431">mdt_intent_reint()</a>, <a class="el" href="mdt__open_8c_source.html#l00331">mdt_mfd_open()</a>, <a class="el" href="mdt__open_8c_source.html#l00733">mdt_open_by_fid()</a>, <a class="el" href="mdt__open_8c_source.html#l01018">mdt_open_by_fid_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l01331">mdt_raw_lookup()</a>, <a class="el" href="mdt__open_8c_source.html#l00623">mdt_reconstruct_open()</a>, and <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a4011b239a53872602194e93e6d864ae6"></a><!-- doxytag: member="mdt_handler.c::mdt_set_info" ref="a4011b239a53872602194e93e6d864ae6" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_set_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01675">1675</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00045">__swab32s</a>, <a class="el" href="byteorder_8h_source.html#l00049">__swab64s</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03203">changelog_setinfo::cs_id</a>, <a class="el" href="lustre__idl_8h_source.html#l03202">changelog_setinfo::cs_recno</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="lustre__export_8h_source.html#l00299">exp_connect_flags_ptr()</a>, <a class="el" href="lustre__export_8h_source.html#l00240">obd_export::exp_lock</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="obd_8h_source.html#l00737">KEY_CHANGELOG_CLEAR</a>, <a class="el" href="obd_8h_source.html#l00742">KEY_EVICT_BY_NID</a>, <a class="el" href="obd__support_8h_source.html#l00860">KEY_IS</a>, <a class="el" href="obd_8h_source.html#l00754">KEY_READ_ONLY</a>, <a class="el" href="mdt__handler_8c_source.html#l05849">mdt_iocontrol()</a>, <a class="el" href="lustre__idl_8h_source.html#l01179">OBD_CONNECT_RDONLY</a>, <a class="el" href="genops_8c_source.html#l01442">obd_export_evict_by_nid()</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00374">OBD_IOC_CHANGELOG_CLEAR</a>, <a class="el" href="lustre__net_8h_source.html#l01190">ptlrpc_req_need_swab()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02263">req_capsule_get_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00974">RMF_SETINFO_KEY</a>, <a class="el" href="layout_8c_source.html#l00899">RMF_SETINFO_VAL</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="tgt__handler_8c_source.html#l00051">tgt_name()</a>, <a class="el" href="lu__target_8h_source.html#l00334">tgt_ses_req()</a>, <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>, and <a class="el" href="lu__target_8h_source.html#l00204">tgt_session_info::tsi_tgt</a>.</p>

</div>
</div>
<a class="anchor" id="a9fa080ca8234c7fdf4946e82a900814f"></a><!-- doxytag: member="mdt_handler.c::mdt_set_lock_sync" ref="a9fa080ca8234c7fdf4946e82a900814f" args="(struct ldlm_lock *lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_set_lock_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mark the lock as "synchonous". </p>
<p>Mark the lock to deffer transaction commit to the unlock time.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lock</em>&nbsp;</td><td>the lock to mark as "synchonous"</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="mdt__handler_8c.html#a0fbc06bf4c25a907e46cd4d14e59b6d8" title="Check whehter the lock &quot;synchonous&quot; or not.">mdt_is_lock_sync</a> </dd>
<dd>
<a class="el" href="mdt__handler_8c.html#a3ec50ae09de62871656448912292b5e8" title="Save a lock within request object.">mdt_save_lock</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02275">2275</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__dlm_8h_source.html#l00822">ldlm_lock::l_ast_data</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02308">mdt_blocking_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="a21098ff5861c91472882b9cff8d13f71"></a><!-- doxytag: member="mdt_handler.c::mdt_stack_fini" ref="a21098ff5861c91472882b9cff8d13f71" args="(const struct lu_env *env, struct mdt_device *m, struct lu_device *top)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_stack_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>top</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03948">3948</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__internal_8h_source.html#l00403">mdt_thread_info::bufs</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00075">LCFG_CLEANUP</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="structlu__device__operations.html#a892c61097c7e02dd33e5a9148d339dae">lu_device_operations::ldo_process_config</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>, <a class="el" href="lu__object_8c_source.html#l01047">lu_dev_del_linkage()</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00290">lustre_cfg_free()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00273">lustre_cfg_new()</a>, <a class="el" href="mdt__internal_8h_source.html#l01041">mdt2obd_dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l00169">mdt_device::mdt_bottom_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__internal_8h_source.html#l00166">mdt_device::mdt_child_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00893">mdt_thread_key</a>, <a class="el" href="structmdt__thread__info.html#a4e83bed1d2937bdf8564dc1dceb62dd6">mdt_thread_info::mti_u</a>, <a class="el" href="obd__class_8h_source.html#l00842">obd_disconnect()</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_fail</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_force</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04447">mdt_fini()</a>, and <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="afb85fb3d400b44e2ee678e15d3018933"></a><!-- doxytag: member="mdt_handler.c::mdt_stack_init" ref="afb85fb3d400b44e2ee678e15d3018933" args="(const struct lu_env *env, struct mdt_device *mdt, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_stack_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04029">4029</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__config_8c_source.html#l00336">class_attach()</a>, <a class="el" href="obd__config_8c_source.html#l00586">class_detach()</a>, <a class="el" href="obd__config_8c_source.html#l00844">class_get_profile()</a>, <a class="el" href="genops_8c_source.html#l00429">class_name2obd()</a>, <a class="el" href="obd__config_8c_source.html#l00941">class_put_profile()</a>, <a class="el" href="obd__config_8c_source.html#l00445">class_setup()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00072">LCFG_ATTACH</a>, <a class="el" href="lustre__cfg_8h_source.html#l00074">LCFG_SETUP</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="obd__class_8h_source.html#l00214">lustre_profile::lp_dt</a>, <a class="el" href="lu__object_8h_source.html#l00619">lu_site::ls_top_dev</a>, <a class="el" href="dt__object_8h_source.html#l01743">lu2dt_dev()</a>, <a class="el" href="md__object_8h_source.html#l00292">lu2md_dev()</a>, <a class="el" href="lu__object_8c_source.html#l01038">lu_dev_add_linkage()</a>, <a class="el" href="lu__object_8c_source.html#l01889">lu_env_refill()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00290">lustre_cfg_free()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00273">lustre_cfg_new()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="obd_8h_source.html#l00446">LUSTRE_MDD_NAME</a>, <a class="el" href="lustre__user_8h_source.html#l00316">MAX_OBD_NAME</a>, <a class="el" href="lustre__mds_8h_source.html#l00067">MDD_OBD_NAME</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__internal_8h_source.html#l00169">mdt_device::mdt_bottom_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__internal_8h_source.html#l00166">mdt_device::mdt_child_exp</a>, <a class="el" href="mdt__handler_8c_source.html#l03994">mdt_connect_to_next()</a>, <a class="el" href="mdt__internal_8h_source.html#l00159">mdt_device::mdt_lu_dev</a>, <a class="el" href="mdt__internal_8h_source.html#l00548">mdt_lu_site()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="llog__test_8c_source.html#l00057">uuid</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e3832b38a9e235d3863cb5d6bee6e85"></a><!-- doxytag: member="mdt_handler.c::mdt_stack_pre_fini" ref="a7e3832b38a9e235d3863cb5d6bee6e85" args="(const struct lu_env *env, struct mdt_device *m, struct lu_device *top)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_stack_pre_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__device.html">mdt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>top</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l03914">3914</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__internal_8h_source.html#l00403">mdt_thread_info::bufs</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00099">LCFG_PRE_CLEANUP</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="structlu__device__operations.html#a892c61097c7e02dd33e5a9148d339dae">lu_device_operations::ldo_process_config</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00290">lustre_cfg_free()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00273">lustre_cfg_new()</a>, <a class="el" href="mdt__internal_8h_source.html#l00166">mdt_device::mdt_child_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00893">mdt_thread_key</a>, <a class="el" href="structmdt__thread__info.html#a4e83bed1d2937bdf8564dc1dceb62dd6">mdt_thread_info::mti_u</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04447">mdt_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a5dace5b5223f1861fb49b237da6e7f"></a><!-- doxytag: member="mdt_handler.c::mdt_statfs" ref="a8a5dace5b5223f1861fb49b237da6e7f" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_statfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>statfs information are cached in the <a class="el" href="structmdt__device.html">mdt_device</a></p>
<p>statfs data is too old, get up-to-date one</p>
<p>use cached statfs data </p>
</p>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00391">391</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00373">at_get()</a>, <a class="el" href="linux-time_8h_source.html#l00248">cfs_time_before_64()</a>, <a class="el" href="linux-time_8h_source.html#l00235">cfs_time_current_64</a>, <a class="el" href="linux-time_8h_source.html#l00242">cfs_time_shift_64()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mdt__internal_8h_source.html#l01022">LPROC_MDT_STATFS</a>, <a class="el" href="md__object_8h_source.html#l00283">md_device::md_ops</a>, <a class="el" href="structmd__device__operations.html#a8414ae52725b1b8396ea22ab8691f723">md_device_operations::mdo_statfs</a>, <a class="el" href="mdt__lib_8c_source.html#l00362">mdt_check_ucred()</a>, <a class="el" href="mdt__internal_8h_source.html#l00167">mdt_device::mdt_child</a>, <a class="el" href="mdt__lproc_8c_source.html#l00929">mdt_counter_incr()</a>, <a class="el" href="mdt__internal_8h_source.html#l00203">mdt_device::mdt_osfs</a>, <a class="el" href="mdt__internal_8h_source.html#l00204">mdt_device::mdt_osfs_age</a>, <a class="el" href="mdt__internal_8h_source.html#l00205">mdt_device::mdt_osfs_lock</a>, <a class="el" href="mdt__internal_8h_source.html#l00227">MDT_SERVICE_WATCHDOG_FACTOR</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00201">OBD_FAIL_MDS_STATFS_LCW_SLEEP</a>, <a class="el" href="obd__support_8h_source.html#l00188">OBD_FAIL_MDS_STATFS_PACK</a>, <a class="el" href="obd__support_8h_source.html#l00624">OBD_FAIL_TIMEOUT</a>, <a class="el" href="obd_8h_source.html#l00357">OBD_STATFS_CACHE_SECONDS</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00969">RMF_OBD_STATFS</a>, <a class="el" href="lustre__net_8h_source.html#l01831">ptlrpc_service_part::scp_at_estimate</a>, <a class="el" href="lu__target_8h_source.html#l00334">tgt_ses_req()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f2e82b00a1396a71d09c6f73d8d4239"></a><!-- doxytag: member="mdt_handler.c::mdt_stripe_get" ref="a1f2e82b00a1396a71d09c6f73d8d4239" args="(struct mdt_thread_info *info, struct mdt_object *o, struct md_attr *ma, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_stripe_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__attr.html">md_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>ma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00697">697</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__user_8h_source.html#l00351">LOV_PATTERN_F_HOLE</a>, <a class="el" href="md__object_8h_source.html#l00122">md_attr::ma_lmm</a>, <a class="el" href="md__object_8h_source.html#l00125">md_attr::ma_lmm_size</a>, <a class="el" href="md__object_8h_source.html#l00075">MA_LMV</a>, <a class="el" href="md__object_8h_source.html#l00123">md_attr::ma_lmv</a>, <a class="el" href="md__object_8h_source.html#l00080">MA_LMV_DEF</a>, <a class="el" href="md__object_8h_source.html#l00126">md_attr::ma_lmv_size</a>, <a class="el" href="md__object_8h_source.html#l00073">MA_LOV</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="mdt__handler_8c_source.html#l00658">mdt_big_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00190">mdt_device::mdt_max_mdsize</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00424">mdt_thread_info::mti_big_lmm</a>, <a class="el" href="mdt__internal_8h_source.html#l00427">mdt_thread_info::mti_big_lmm_used</a>, <a class="el" href="mdt__internal_8h_source.html#l00418">mdt_thread_info::mti_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="lustre__idl_8h_source.html#l01242">OBD_CONNECT_LFSCK</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, <a class="el" href="lustre__idl_8h_source.html#l01597">XATTR_NAME_DEFAULT_LMV</a>, <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l00819">mdt_attr_get_complex()</a>, <a class="el" href="mdt__handler_8c_source.html#l00905">mdt_getattr_internal()</a>, and <a class="el" href="mdt__reint_8c_source.html#l01503">mdt_reint_migrate_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a87642c45c295aa016f3b0949fe31d127"></a><!-- doxytag: member="mdt_handler.c::mdt_swap_layouts" ref="a87642c45c295aa016f3b0949fe31d127" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_swap_layouts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01240">1240</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00377">exp_connect_layout()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00074">LATF_SKIP</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="lustre__idl_8h_source.html#l00814">lu_fid_cmp()</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="lustre__idl_8h_source.html#l02190">mdt_body::mbo_fid2</a>, <a class="el" href="lustre__idl_8h_source.html#l02081">MDS_INODELOCK_LAYOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l02093">MDS_INODELOCK_XATTR</a>, <a class="el" href="mdt__internal_8h_source.html#l00273">MDT_LH_NEW</a>, <a class="el" href="mdt__internal_8h_source.html#l00271">MDT_LH_OLD</a>, <a class="el" href="mdt__handler_8c_source.html#l00163">mdt_lock_reg_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00533">mdt_object_exists()</a>, <a class="el" href="mdt__handler_8c_source.html#l02224">mdt_object_find()</a>, <a class="el" href="mdt__handler_8c_source.html#l02619">mdt_object_lock()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00538">mdt_object_remote()</a>, <a class="el" href="mdt__handler_8c_source.html#l02771">mdt_object_unlock()</a>, <a class="el" href="mdt__handler_8c_source.html#l01222">mdt_swap_lov_flag()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="md__object_8h_source.html#l00328">mo_permission()</a>, <a class="el" href="md__object_8h_source.html#l00405">mo_swap_layouts()</a>, <a class="el" href="lustre__idl_8h_source.html#l03983">mdc_swap_layouts::msl_flags</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00359">mdt_thread_info::mti_dlm_req</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01204">RMF_SWAP_LAYOUTS</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="osd__iam_8h_source.html#l01014">swap</a>, <a class="el" href="lu__target_8h_source.html#l00334">tgt_ses_req()</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="adb82fbf77a81b7a39126ae55f7dd8a5d"></a><!-- doxytag: member="mdt_handler.c::mdt_swap_lov_flag" ref="adb82fbf77a81b7a39126ae55f7dd8a5d" args="(struct mdt_object *o1, struct mdt_object *o2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdt_swap_lov_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Exchange MOF_LOV_CREATED flags between two objects after a layout swap. </p>
<p>No assumption is made on whether o1 or o2 have created objects or not.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>o1</em>&nbsp;</td><td>First swap layout object </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>o2</em>&nbsp;</td><td>Second swap layout object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01222">1222</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="mdt__internal_8h_source.html#l00232">MOF_LOV_CREATED</a>, <a class="el" href="mdt__internal_8h_source.html#l00238">mdt_object::mot_flags</a>, and <a class="el" href="mdt__internal_8h_source.html#l00242">mdt_object::mot_lov_mutex</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l01240">mdt_swap_layouts()</a>.</p>

</div>
</div>
<a class="anchor" id="a342c392305bcc8adad46dd992c81363b"></a><!-- doxytag: member="mdt_handler.c::mdt_sync" ref="a342c392305bcc8adad46dd992c81363b" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l01970">1970</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="mdt__internal_8h_source.html#l01023">LPROC_MDT_SYNC</a>, <a class="el" href="md__object_8h_source.html#l00119">md_attr::ma_attr</a>, <a class="el" href="md__object_8h_source.html#l00072">MA_INODE</a>, <a class="el" href="md__object_8h_source.html#l00117">md_attr::ma_need</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="mdt__handler_8c_source.html#l00819">mdt_attr_get_complex()</a>, <a class="el" href="mdt__lproc_8c_source.html#l00929">mdt_counter_incr()</a>, <a class="el" href="mdt__handler_8c_source.html#l01941">mdt_device_sync()</a>, <a class="el" href="mdt__internal_8h_source.html#l00914">mdt_exp2dev()</a>, <a class="el" href="mdt__internal_8h_source.html#l00543">mdt_object_fid()</a>, <a class="el" href="mdt__handler_8c_source.html#l01952">mdt_object_sync()</a>, <a class="el" href="mdt__handler_8c_source.html#l00501">mdt_pack_attr2body()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00196">OBD_FAIL_MDS_SYNC_PACK</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="lu__target_8h_source.html#l00334">tgt_ses_req()</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, <a class="el" href="lu__target_8h_source.html#l00203">tgt_session_info::tsi_env</a>, <a class="el" href="lu__target_8h_source.html#l00202">tgt_session_info::tsi_exp</a>, <a class="el" href="lu__target_8h_source.html#l00206">tgt_session_info::tsi_mdt_body</a>, and <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>.</p>

</div>
</div>
<a class="anchor" id="a88f326039dd2fd6a9feeceff962d9fab"></a><!-- doxytag: member="mdt_handler.c::mdt_tgt_connect" ref="a88f326039dd2fd6a9feeceff962d9fab" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_tgt_connect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02986">2986</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="fail_8c_source.html#l00039">cfs_fail_val</a>, <a class="el" href="genops_8c_source.html#l00803">class_export_get()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mdt__idmap_8c_source.html#l00075">mdt_init_idmap()</a>, <a class="el" href="obd__class_8h_source.html#l00842">obd_disconnect()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00442">OBD_FAIL_TGT_DELAY_CONDITIONAL</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="tgt__handler_8c_source.html#l01039">tgt_connect()</a>, <a class="el" href="lu__target_8h_source.html#l00334">tgt_ses_req()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a4bf223fe6bab0be98fa859483e1c27"></a><!-- doxytag: member="mdt_handler.c::mdt_tgt_getxattr" ref="a2a4bf223fe6bab0be98fa859483e1c27" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_tgt_getxattr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04329">4329</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="mdt__xattr_8c_source.html#l00227">mdt_getxattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, and <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e93da70523c7e61a1a7bda9d7749a2c"></a><!-- doxytag: member="mdt_handler.c::mdt_thread_info_fini" ref="a9e93da70523c7e61a1a7bda9d7749a2c" args="(struct mdt_thread_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_thread_info_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02949">2949</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8c_source.html#l02339">lu_buf_free()</a>, <a class="el" href="mdt__handler_8c_source.html#l02899">mdt_lock_handle_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00525">mdt_object_put()</a>, <a class="el" href="mdt__internal_8h_source.html#l00419">mdt_thread_info::mti_big_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__open_8c_source.html#l02047">mdt_close()</a>, <a class="el" href="mdt__handler_8c_source.html#l05728">mdt_get_info()</a>, <a class="el" href="mdt__handler_8c_source.html#l00354">mdt_get_root()</a>, <a class="el" href="mdt__handler_8c_source.html#l01136">mdt_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l01634">mdt_getattr_name()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00371">mdt_hsm_action()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00146">mdt_hsm_ct_register()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00169">mdt_hsm_ct_unregister()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00108">mdt_hsm_progress()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00471">mdt_hsm_request()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00197">mdt_hsm_state_get()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00254">mdt_hsm_state_set()</a>, <a class="el" href="mdt__handler_8c_source.html#l03615">mdt_intent_policy()</a>, <a class="el" href="mdt__handler_8c_source.html#l01905">mdt_reint()</a>, <a class="el" href="mdt__handler_8c_source.html#l00391">mdt_statfs()</a>, <a class="el" href="mdt__handler_8c_source.html#l01240">mdt_swap_layouts()</a>, <a class="el" href="mdt__handler_8c_source.html#l01970">mdt_sync()</a>, and <a class="el" href="mdt__handler_8c_source.html#l04329">mdt_tgt_getxattr()</a>.</p>

</div>
</div>
<a class="anchor" id="a51e275eae18f493bb4a175ec1ec4e75e"></a><!-- doxytag: member="mdt_handler.c::mdt_thread_info_init" ref="a51e275eae18f493bb4a175ec1ec4e75e" args="(struct ptlrpc_request *req, struct mdt_thread_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdt_thread_info_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02910">2910</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lu__object_8c_source.html#l02333">LU_BUF_NULL</a>, <a class="el" href="pack__generic_8c_source.html#l01080">lustre_msg_get_transno()</a>, <a class="el" href="mdt__handler_8c.html#a3ea821301f1291dc05ae1478e7055a6b">mdt_dev()</a>, <a class="el" href="mdt__handler_8c_source.html#l02888">mdt_lock_handle_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00419">mdt_thread_info::mti_big_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00427">mdt_thread_info::mti_big_lmm_used</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_cross_ref</a>, <a class="el" href="mdt__internal_8h_source.html#l00359">mdt_thread_info::mti_dlm_req</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00361">mdt_thread_info::mti_has_trans</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00368">mdt_thread_info::mti_opdata</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="mdt__internal_8h_source.html#l00386">mdt_thread_info::mti_spec</a>, <a class="el" href="mdt__internal_8h_source.html#l00334">mdt_thread_info::mti_transno</a>, <a class="el" href="md__object_8h_source.html#l00146">md_op_spec::no_create</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="structmd__op__spec.html#ad74c1d49e024fdbc5a44e764a5a82c05">md_op_spec::sp_ea</a>, <a class="el" href="md__object_8h_source.html#l00146">md_op_spec::sp_migrate_close</a>, <a class="el" href="md__object_8h_source.html#l00146">md_op_spec::sp_permitted</a>, <a class="el" href="md__object_8h_source.html#l00146">md_op_spec::sp_rm_entry</a>, and <a class="el" href="structmd__op__spec.html#a13d810e55e3284f5244598d00fe84ca3">md_op_spec::u</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a756df180ff195deb2a9cb4e497d78bd1"></a><!-- doxytag: member="mdt_handler.c::mdt_ucred" ref="a756df180ff195deb2a9cb4e497d78bd1" args="(const struct mdt_thread_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__ucred.html">lu_ucred</a>* mdt_ucred </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06063">6063</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lu__ucred_8c_source.html#l00065">lu_ucred()</a>, and <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>.</p>

<p>Referenced by <a class="el" href="mdt__lib_8c_source.html#l00577">__mdt_init_ucred()</a>, <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00249">hsm_action_permission()</a>, <a class="el" href="mdt__idmap_8c_source.html#l00275">mdt_body_reverse_idmap()</a>, <a class="el" href="mdt__lib_8c_source.html#l00362">mdt_check_ucred()</a>, <a class="el" href="mdt__lib_8c_source.html#l01073">mdt_create_unpack()</a>, <a class="el" href="mdt__handler_8c_source.html#l05106">mdt_ctxt_add_dirty_flag()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__xattr_8c_source.html#l00161">mdt_getxattr_all()</a>, <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00298">mdt_hsm_add_actions()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00795">mdt_hsm_cdt_init()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00081">mdt_hsm_is_admin()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00254">mdt_hsm_state_set()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01382">mdt_hsm_update_request_state()</a>, <a class="el" href="mdt__lib_8c_source.html#l00612">mdt_init_ucred_reint()</a>, <a class="el" href="mdt__lib_8c_source.html#l01142">mdt_link_unpack()</a>, <a class="el" href="mdt__lib_8c_source.html#l01320">mdt_open_unpack()</a>, <a class="el" href="mdt__xattr_8c_source.html#l00363">mdt_reint_setxattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>, <a class="el" href="mdt__reint_8c_source.html#l00223">mdt_remote_permission_check()</a>, <a class="el" href="mdt__lib_8c_source.html#l01234">mdt_rename_unpack()</a>, <a class="el" href="mdt__xattr_8c_source.html#l00316">mdt_rmtlsetfacl()</a>, <a class="el" href="mdt__lib_8c_source.html#l00099">mdt_root_squash()</a>, <a class="el" href="mdt__lib_8c_source.html#l00909">mdt_setattr_unpack_rec()</a>, <a class="el" href="mdt__lib_8c_source.html#l01391">mdt_setxattr_unpack()</a>, <a class="el" href="mdt__lib_8c_source.html#l01181">mdt_unlink_unpack()</a>, <a class="el" href="mdt__lib_8c_source.html#l00143">new_init_ucred()</a>, <a class="el" href="mdt__lib_8c_source.html#l00518">old_init_ucred()</a>, <a class="el" href="mdt__lib_8c_source.html#l00466">old_init_ucred_common()</a>, and <a class="el" href="mdt__lib_8c_source.html#l00552">old_init_ucred_reint()</a>.</p>

</div>
</div>
<a class="anchor" id="ac419ee17745634343feedaf732be998c"></a><!-- doxytag: member="mdt_handler.c::mdt_ucred_check" ref="ac419ee17745634343feedaf732be998c" args="(const struct mdt_thread_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__ucred.html">lu_ucred</a>* mdt_ucred_check </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06068">6068</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lu__ucred_8c_source.html#l00077">lu_ucred_check()</a>, and <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>.</p>

<p>Referenced by <a class="el" href="mdt__idmap_8c_source.html#l00317">mdt_fix_attr_ucred()</a>, and <a class="el" href="mdt__identity_8c_source.html#l00276">mdt_pack_remote_perm()</a>.</p>

</div>
</div>
<a class="anchor" id="a2398f7eb47a39c9c6c06944774649709"></a><!-- doxytag: member="mdt_handler.c::mdt_unpack_req_pack_rep" ref="a2398f7eb47a39c9c6c06944774649709" args="(struct mdt_thread_info *info, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_unpack_req_pack_rep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02863">2863</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01585">DEF_REP_MD_SIZE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00299">HABEO_REFERO</a>, <a class="el" href="mdt__handler_8c_source.html#l02824">mdt_body_unpack()</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02382">req_capsule_has_field()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01081">RMF_LOGCOOKIES</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, and <a class="el" href="layout_8c_source.html#l01058">RMF_MDT_MD</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03554">mdt_intent_opc()</a>.</p>

</div>
</div>
<a class="anchor" id="adc10f40acba3bb9b2640e985276b0a7c"></a><!-- doxytag: member="mdt_handler.c::MODULE_AUTHOR" ref="adc10f40acba3bb9b2640e985276b0a7c" args="(&quot;OpenSFS, Inc. &lt;http://www.lustre.org/&gt;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_AUTHOR </td>
          <td>(</td>
          <td class="paramtype">&quot;&nbsp;</td>
          <td class="paramname"> <em>OpenSFS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Inc.&lt; http://www.lustre.org/&gt;&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7f750e611e8186af0f8f6806152b05eb"></a><!-- doxytag: member="mdt_handler.c::MODULE_DESCRIPTION" ref="a7f750e611e8186af0f8f6806152b05eb" args="(&quot;Lustre Metadata Target (&quot;LUSTRE_MDT_NAME&quot;)&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_DESCRIPTION </td>
          <td>(</td>
          <td class="paramtype">&quot;Lustre Metadata Target (&quot;LUSTRE_MDT_NAME&quot;)&quot;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1b4984b63c495f17542d18208ddfaa57"></a><!-- doxytag: member="mdt_handler.c::module_exit" ref="a1b4984b63c495f17542d18208ddfaa57" args="(mdt_exit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_exit </td>
          <td>(</td>
          <td class="paramtype">mdt_exit&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a35cc21d52189fd495c13164770fe3c6d"></a><!-- doxytag: member="mdt_handler.c::module_init" ref="a35cc21d52189fd495c13164770fe3c6d" args="(mdt_init)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_init </td>
          <td>(</td>
          <td class="paramtype">mdt_init&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad94b36675e7eb067ea3ce6ff9e244a44"></a><!-- doxytag: member="mdt_handler.c::MODULE_LICENSE" ref="ad94b36675e7eb067ea3ce6ff9e244a44" args="(&quot;GPL&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_LICENSE </td>
          <td>(</td>
          <td class="paramtype">&quot;GPL&quot;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa41e1d367c94aedfe9dcb25727e96ba1"></a><!-- doxytag: member="mdt_handler.c::module_param" ref="aa41e1d367c94aedfe9dcb25727e96ba1" args="(max_mod_rpcs_per_client, uint, 0644)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdt__handler_8c.html#ae63369d2562fe5032206dd0e13611637">max_mod_rpcs_per_client</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0644&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a47d935eb7e20ff51c8621833ddf1105b"></a><!-- doxytag: member="mdt_handler.c::MODULE_PARM_DESC" ref="a47d935eb7e20ff51c8621833ddf1105b" args="(max_mod_rpcs_per_client,&quot;maximum number of modify RPCs in flight allowed per client&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdt__handler_8c.html#ae63369d2562fe5032206dd0e13611637">max_mod_rpcs_per_client</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;maximum number of modify RPCs in flight allowed per client&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9c321be2136fb8501887ee69dac11a2"></a><!-- doxytag: member="mdt_handler.c::MODULE_VERSION" ref="ae9c321be2136fb8501887ee69dac11a2" args="(LUSTRE_VERSION_STRING)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_VERSION </td>
          <td>(</td>
          <td class="paramtype">LUSTRE_VERSION_STRING&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a60e67e7a7d074e6db83eaa77815db518"></a><!-- doxytag: member="mdt_handler.c::tsi2mdt_info" ref="a60e67e7a7d074e6db83eaa77815db518" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a>* tsi2mdt_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l02968">2968</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00709">lu_object_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00755">mdt_obj()</a>, <a class="el" href="mdt__internal_8h_source.html#l00436">mdt_th_info()</a>, <a class="el" href="mdt__handler_8c_source.html#l02910">mdt_thread_info_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00359">mdt_thread_info::mti_dlm_req</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="lu__target_8h_source.html#l00334">tgt_ses_req()</a>, <a class="el" href="lu__target_8h_source.html#l00208">tgt_session_info::tsi_corpus</a>, <a class="el" href="lu__target_8h_source.html#l00198">tgt_session_info::tsi_dlm_req</a>, <a class="el" href="lu__target_8h_source.html#l00203">tgt_session_info::tsi_env</a>, and <a class="el" href="lu__target_8h_source.html#l00206">tgt_session_info::tsi_mdt_body</a>.</p>

<p>Referenced by <a class="el" href="mdt__open_8c_source.html#l02047">mdt_close()</a>, <a class="el" href="mdt__handler_8c_source.html#l05728">mdt_get_info()</a>, <a class="el" href="mdt__handler_8c_source.html#l00354">mdt_get_root()</a>, <a class="el" href="mdt__handler_8c_source.html#l01136">mdt_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l01634">mdt_getattr_name()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00371">mdt_hsm_action()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00146">mdt_hsm_ct_register()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00169">mdt_hsm_ct_unregister()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00108">mdt_hsm_progress()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00471">mdt_hsm_request()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00197">mdt_hsm_state_get()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00254">mdt_hsm_state_set()</a>, <a class="el" href="mdt__handler_8c_source.html#l03615">mdt_intent_policy()</a>, <a class="el" href="mdt__handler_8c_source.html#l01905">mdt_reint()</a>, <a class="el" href="mdt__handler_8c_source.html#l00391">mdt_statfs()</a>, <a class="el" href="mdt__handler_8c_source.html#l01240">mdt_swap_layouts()</a>, <a class="el" href="mdt__handler_8c_source.html#l01970">mdt_sync()</a>, <a class="el" href="mdt__handler_8c_source.html#l02986">mdt_tgt_connect()</a>, and <a class="el" href="mdt__handler_8c_source.html#l04329">mdt_tgt_getxattr()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ae63369d2562fe5032206dd0e13611637"></a><!-- doxytag: member="mdt_handler.c::max_mod_rpcs_per_client" ref="ae63369d2562fe5032206dd0e13611637" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="mdt__handler_8c.html#ae63369d2562fe5032206dd0e13611637">max_mod_rpcs_per_client</a> = 8<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00073">73</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05018">mdt_connect_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="ac403d6f4b8c7a896746e51b745b73c95"></a><!-- doxytag: member="mdt_handler.c::mdt_caches" ref="ac403d6f4b8c7a896746e51b745b73c95" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a> <a class="el" href="mdt__handler_8c.html#ac403d6f4b8c7a896746e51b745b73c95">mdt_caches</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        {
                .ckd_cache = &amp;<a class="code" href="mdt__handler_8c.html#ada683c11bc9da75d3a7f525066a2ebb3">mdt_object_kmem</a>,
                .ckd_name  = <span class="stringliteral">&quot;mdt_obj&quot;</span>,
                .ckd_size  = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structmdt__object.html">mdt_object</a>)
        },
        {
                .ckd_cache      = &amp;<a class="code" href="mdt__handler_8c.html#a9586a76ec8e763abdcaca0585df25515">mdt_hsm_cdt_kmem</a>,
                .ckd_name       = <span class="stringliteral">&quot;mdt_cdt_restore_handle&quot;</span>,
                .ckd_size       = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structcdt__restore__handle.html">cdt_restore_handle</a>)
        },
        {
                .ckd_cache      = &amp;<a class="code" href="mdt__handler_8c.html#a00d67c8b3c100ebd34463e63e4d15cff">mdt_hsm_car_kmem</a>,
                .ckd_name       = <span class="stringliteral">&quot;mdt_cdt_agent_req&quot;</span>,
                .ckd_size       = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structcdt__agent__req.html">cdt_agent_req</a>)
        },
        {
                .ckd_cache = NULL
        }
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00113">113</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a60126aa2a9afdffe194ea816aa48a4e3"></a><!-- doxytag: member="mdt_handler.c::mdt_common_slice" ref="a60126aa2a9afdffe194ea816aa48a4e3" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtgt__opc__slice.html">tgt_opc_slice</a> <a class="el" href="mdt__handler_8c.html#a60126aa2a9afdffe194ea816aa48a4e3">mdt_common_slice</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04390">4390</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="acf129a25768121f217348ae2b07be1bf"></a><!-- doxytag: member="mdt_handler.c::mdt_device_type" ref="acf129a25768121f217348ae2b07be1bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__type.html">lu_device_type</a> <a class="el" href="mdt__handler_8c.html#acf129a25768121f217348ae2b07be1bf">mdt_device_type</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ldt_tags     = <a class="code" href="group__lu.html#ggaa318f5b20c40de1d564f59dd72726345a2a083e23924356952e08900b8a278798" title="this is meta-data device">LU_DEVICE_MD</a>,
        .ldt_name     = <a class="code" href="obd_8h.html#a745628d9f20d135052a7589f7d9ba9ee">LUSTRE_MDT_NAME</a>,
        .ldt_ops      = &amp;<a class="code" href="mdt__handler_8c.html#a183f5eba96afd66d9fe0e17af7313e3b">mdt_device_type_ops</a>,
        .ldt_ctx_tags = <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa51f264f8e3ea36a381cf8aaaa9672752" title="Thread on md server.">LCT_MD_THREAD</a>
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06115">6115</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l06122">mdt_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a183f5eba96afd66d9fe0e17af7313e3b"></a><!-- doxytag: member="mdt_handler.c::mdt_device_type_ops" ref="a183f5eba96afd66d9fe0e17af7313e3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__type__operations.html">lu_device_type_operations</a> <a class="el" href="mdt__handler_8c.html#a183f5eba96afd66d9fe0e17af7313e3b">mdt_device_type_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ldto_device_alloc = <a class="code" href="mdt__handler_8c.html#a022315df5b43d889e310dfbf681ea9d4">mdt_device_alloc</a>,
        .ldto_device_free  = <a class="code" href="mdt__handler_8c.html#a742b563ca9361d519fbe53d3679bc60c">mdt_device_free</a>,
        .ldto_device_fini  = <a class="code" href="mdt__handler_8c.html#a65baabc2425bb105ece445103ebca612">mdt_device_fini</a>
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l06109">6109</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad5495cc0fb2320b79d27fb0eb2f8c675"></a><!-- doxytag: member="mdt_handler.c::mdt_dlm_lock_modes" ref="ad5495cc0fb2320b79d27fb0eb2f8c675" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdt__internal_8h.html#ad5495cc0fb2320b79d27fb0eb2f8c675">mdt_dlm_lock_modes</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        [<a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98a12b94fcc692c0de93b5226b729fc2371">MDL_MINMODE</a>]   = <a class="code" href="packet-lustre_8c.html#aeb765b44eb9880500021b97a963db8e9">LCK_MINMODE</a>,
        [<a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98a15861d3776ca5a1a52e56d8248c4507f">MDL_EX</a>]        = <a class="code" href="packet-lustre_8c.html#a815dc82e9e2dcd1843911ea0bdc3e3c7">LCK_EX</a>,
        [<a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98ac63376a8e4a450ee53eb2471d56dd7f4">MDL_PW</a>]        = <a class="code" href="packet-lustre_8c.html#acfddf2f902384575528f1e893c561afc">LCK_PW</a>,
        [<a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98a174a7179c10ad3949c74a80ab712f757">MDL_PR</a>]        = <a class="code" href="packet-lustre_8c.html#a4b1936ce7054752c0a9d74ebc836c5d6">LCK_PR</a>,
        [<a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98af96f34e526437ed0d717449e618dbb2a">MDL_CW</a>]        = <a class="code" href="packet-lustre_8c.html#ac60a597e5ebc0742a6171d25d5165902">LCK_CW</a>,
        [<a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98a7de8a0ce08edde3bce8e151c07bc59fd">MDL_CR</a>]        = <a class="code" href="packet-lustre_8c.html#a8532d2ec7dffedbf9e84ef23a16b19fd">LCK_CR</a>,
        [<a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98add4d8e43ed446bb3e774c62c80c87683">MDL_NL</a>]        = <a class="code" href="packet-lustre_8c.html#a42432356320ac178383bd9f100de1ceb">LCK_NL</a>,
        [<a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98abc02d393672e502d8642e8d165572d69">MDL_GROUP</a>]     = <a class="code" href="packet-lustre_8c.html#a37496b5479e3e46be8b0be98137baeb1">LCK_GROUP</a>
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00088">88</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__internal_8h_source.html#l00996">mdt_mdl_mode2dlm_mode()</a>.</p>

</div>
</div>
<a class="anchor" id="a00d67c8b3c100ebd34463e63e4d15cff"></a><!-- doxytag: member="mdt_handler.c::mdt_hsm_car_kmem" ref="a00d67c8b3c100ebd34463e63e4d15cff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="mdt__internal_8h.html#a00d67c8b3c100ebd34463e63e4d15cff">mdt_hsm_car_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00111">111</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__hsm__cdt__requests_8c_source.html#l00238">mdt_cdt_alloc_request()</a>, and <a class="el" href="mdt__hsm__cdt__requests_8c_source.html#l00273">mdt_cdt_free_request()</a>.</p>

</div>
</div>
<a class="anchor" id="a9586a76ec8e763abdcaca0585df25515"></a><!-- doxytag: member="mdt_handler.c::mdt_hsm_cdt_kmem" ref="a9586a76ec8e763abdcaca0585df25515" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="mdt__internal_8h.html#a9586a76ec8e763abdcaca0585df25515">mdt_hsm_cdt_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00108">108</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__coordinator_8c_source.html#l01161">hsm_cdt_request_completed()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l00654">hsm_restore_cb()</a>, <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00298">mdt_hsm_add_actions()</a>, <a class="el" href="mdt__hsm__cdt__agent_8c_source.html#l00322">mdt_hsm_agent_send()</a>, and <a class="el" href="mdt__coordinator_8c_source.html#l00941">mdt_hsm_cdt_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="abf7193841f82bce55738d2ee36e775d4"></a><!-- doxytag: member="mdt_handler.c::mdt_interop_param" ref="abf7193841f82bce55738d2ee36e775d4" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfg__interop__param.html">cfg_interop_param</a> <a class="el" href="mdt__handler_8c.html#abf7193841f82bce55738d2ee36e775d4">mdt_interop_param</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        { <span class="stringliteral">&quot;mdt.group_upcall&quot;</span>,   NULL },
        { <span class="stringliteral">&quot;mdt.quota_type&quot;</span>,     NULL },
        { <span class="stringliteral">&quot;mdd.quota_type&quot;</span>,     NULL },
        { <span class="stringliteral">&quot;mdt.som&quot;</span>,            NULL },
        { <span class="stringliteral">&quot;mdt.rootsquash&quot;</span>,     <span class="stringliteral">&quot;mdt.root_squash&quot;</span> },
        { <span class="stringliteral">&quot;mdt.nosquash_nid&quot;</span>,   <span class="stringliteral">&quot;mdt.nosquash_nids&quot;</span> },
        { NULL }
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04754">4754</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04765">mdt_process_config()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b9c1a5297b0749fe033e3ad82b414c5"></a><!-- doxytag: member="mdt_handler.c::mdt_lu_ops" ref="a5b9c1a5297b0749fe033e3ad82b414c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a> <a class="el" href="mdt__internal_8h.html#a5b9c1a5297b0749fe033e3ad82b414c5">mdt_lu_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ldo_object_alloc   = <a class="code" href="mdt__handler_8c.html#a9fd44b82cf12fe3607bcb3d94d5db8ae">mdt_object_alloc</a>,
        .ldo_process_config = <a class="code" href="mdt__handler_8c.html#a37bc56d1c9b9370f1b0409c5da1b0541">mdt_process_config</a>,
        .ldo_prepare        = <a class="code" href="mdt__handler_8c.html#ab3ba9eca72049af9c42dcd379c2c5564">mdt_prepare</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04967">4967</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b4a26c6568b23d58b864ca552e9dad8"></a><!-- doxytag: member="mdt_handler.c::mdt_mdl_lock_modes" ref="a1b4a26c6568b23d58b864ca552e9dad8" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__md.html#gaeff7094cae9099800057edce10196e98">mdl_mode_t</a> <a class="el" href="mdt__internal_8h.html#a1b4a26c6568b23d58b864ca552e9dad8">mdt_mdl_lock_modes</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        [<a class="code" href="packet-lustre_8c.html#aeb765b44eb9880500021b97a963db8e9">LCK_MINMODE</a>] = <a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98a12b94fcc692c0de93b5226b729fc2371">MDL_MINMODE</a>,
        [<a class="code" href="packet-lustre_8c.html#a815dc82e9e2dcd1843911ea0bdc3e3c7">LCK_EX</a>]      = <a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98a15861d3776ca5a1a52e56d8248c4507f">MDL_EX</a>,
        [<a class="code" href="packet-lustre_8c.html#acfddf2f902384575528f1e893c561afc">LCK_PW</a>]      = <a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98ac63376a8e4a450ee53eb2471d56dd7f4">MDL_PW</a>,
        [<a class="code" href="packet-lustre_8c.html#a4b1936ce7054752c0a9d74ebc836c5d6">LCK_PR</a>]      = <a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98a174a7179c10ad3949c74a80ab712f757">MDL_PR</a>,
        [<a class="code" href="packet-lustre_8c.html#ac60a597e5ebc0742a6171d25d5165902">LCK_CW</a>]      = <a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98af96f34e526437ed0d717449e618dbb2a">MDL_CW</a>,
        [<a class="code" href="packet-lustre_8c.html#a8532d2ec7dffedbf9e84ef23a16b19fd">LCK_CR</a>]      = <a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98a7de8a0ce08edde3bce8e151c07bc59fd">MDL_CR</a>,
        [<a class="code" href="packet-lustre_8c.html#a42432356320ac178383bd9f100de1ceb">LCK_NL</a>]      = <a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98add4d8e43ed446bb3e774c62c80c87683">MDL_NL</a>,
        [<a class="code" href="packet-lustre_8c.html#a37496b5479e3e46be8b0be98137baeb1">LCK_GROUP</a>]   = <a class="code" href="group__md.html#ggaeff7094cae9099800057edce10196e98abc02d393672e502d8642e8d165572d69">MDL_GROUP</a>
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00077">77</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__internal_8h_source.html#l00990">mdt_dlm_mode2mdl_mode()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6b912f7a293442315b1510851216ac1"></a><!-- doxytag: member="mdt_handler.c::mdt_obd_device_ops" ref="ab6b912f7a293442315b1510851216ac1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structobd__ops.html">obd_ops</a> <a class="el" href="mdt__handler_8c.html#ab6b912f7a293442315b1510851216ac1">mdt_obd_device_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .o_owner          = THIS_MODULE,
        .o_set_info_async = <a class="code" href="mdt__handler_8c.html#ac6d92f2a6a4dcb68fe9adef79cf5de9f">mdt_obd_set_info_async</a>,
        .o_connect        = <a class="code" href="mdt__handler_8c.html#abdb0e1782d1346feac977418314a6e77">mdt_obd_connect</a>,
        .o_reconnect      = <a class="code" href="mdt__handler_8c.html#a349ddbaf1f171ad1a45436b3ee48d73d">mdt_obd_reconnect</a>,
        .o_disconnect     = <a class="code" href="mdt__handler_8c.html#a1f53292c026af0978fc052f966ef5e96">mdt_obd_disconnect</a>,
        .o_init_export    = <a class="code" href="mdt__handler_8c.html#a685dee2cdd47ebd4495f74fdd4d5a1a1">mdt_init_export</a>,
        .o_destroy_export = <a class="code" href="mdt__handler_8c.html#a1bb74a32c8828d17b9a875e24d6f76fd">mdt_destroy_export</a>,
        .o_iocontrol      = <a class="code" href="mdt__handler_8c.html#a1083c21c6db89e93f0142126333899f7">mdt_iocontrol</a>,
        .o_postrecov      = <a class="code" href="mdt__handler_8c.html#a152fc9b04727a6a087a891a9c5c39627">mdt_obd_postrecov</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l05987">5987</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l06122">mdt_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ab0ef1f6d315a253d4907c19e8297fdb3"></a><!-- doxytag: member="mdt_handler.c::mdt_obj_ops" ref="ab0ef1f6d315a253d4907c19e8297fdb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a> <a class="el" href="mdt__handler_8c.html#ab0ef1f6d315a253d4907c19e8297fdb3">mdt_obj_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .loo_object_init    = <a class="code" href="mdt__handler_8c.html#a56f1d774edd383dfdf93ff52ef6f52fa">mdt_object_init</a>,
        .loo_object_free    = <a class="code" href="mdt__handler_8c.html#a8d720d8b96646a334c0b134fb80bf07f">mdt_object_free</a>,
        .loo_object_print   = <a class="code" href="mdt__handler_8c.html#ab23a03561fd4ba72fc0caacb9fea8940">mdt_object_print</a>
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00102">102</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04836">mdt_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ada683c11bc9da75d3a7f525066a2ebb3"></a><!-- doxytag: member="mdt_handler.c::mdt_object_kmem" ref="ada683c11bc9da75d3a7f525066a2ebb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="mdt__handler_8c.html#ada683c11bc9da75d3a7f525066a2ebb3">mdt_object_kmem</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l00105">105</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04836">mdt_object_alloc()</a>, and <a class="el" href="mdt__handler_8c_source.html#l04885">mdt_object_free()</a>.</p>

</div>
</div>
<a class="anchor" id="a27a648473cb4606a7a67ecba6988bd24"></a><!-- doxytag: member="mdt_handler.c::mdt_quota_ops" ref="a27a648473cb4606a7a67ecba6988bd24" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtgt__handler.html">tgt_handler</a> <a class="el" href="mdt__handler_8c.html#a27a648473cb4606a7a67ecba6988bd24">mdt_quota_ops</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
<a class="code" href="lu__target_8h.html#a9b373c0a8d47a0c96c9c5da34c64d152">TGT_QUOTA_HDL</a>(<a class="code" href="lu__target_8h.html#aef39d10ae3bcbee70c80cd1fdadf8711a5cbf32b3be7eea8d5e71ff21c6882452">HABEO_REFERO</a>,             <a class="code" href="group__lustreidl.html#gga5545c07fefb90ace330cbbc739c0f1baafc3dd7c62c198921aee1ca161cf3b1bf">QUOTA_DQACQ</a>,      <a class="code" href="mdt__handler_8c.html#a7b5d2bb5ff9aa2bf81d9a668017cde13">mdt_quota_dqacq</a>),
}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04386">4386</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3df82c00da259686dbbcf0017c00b75f"></a><!-- doxytag: member="mdt_handler.c::mdt_sec_ctx_ops" ref="a3df82c00da259686dbbcf0017c00b75f" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtgt__handler.html">tgt_handler</a> <a class="el" href="mdt__handler_8c.html#a3df82c00da259686dbbcf0017c00b75f">mdt_sec_ctx_ops</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
<a class="code" href="lu__target_8h.html#afba2fa85bf88aca5c7bc2d7aef2e9b43">TGT_SEC_HDL_VAR</a>(0,                      <a class="code" href="group__lustreidl.html#ggacdfb3450710c7f7963d56bb45a8f2962a9cff094950d1ee7a6136f3d4e9378c7d">SEC_CTX_INIT</a>,     <a class="code" href="mdt__handler_8c.html#a867baf637230dcc8694637cd3b0cead8">mdt_sec_ctx_handle</a>),
<a class="code" href="lu__target_8h.html#afba2fa85bf88aca5c7bc2d7aef2e9b43">TGT_SEC_HDL_VAR</a>(0,                      <a class="code" href="group__lustreidl.html#ggacdfb3450710c7f7963d56bb45a8f2962a45a49e18b2f0a93d45fbea33a017b26d">SEC_CTX_INIT_CONT</a>,<a class="code" href="mdt__handler_8c.html#a867baf637230dcc8694637cd3b0cead8">mdt_sec_ctx_handle</a>),

}
</pre></div>
<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04380">4380</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9f8dfc26bef0d8ad0f8cf121f7353cc7"></a><!-- doxytag: member="mdt_handler.c::mdt_tgt_handlers" ref="a9f8dfc26bef0d8ad0f8cf121f7353cc7" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtgt__handler.html">tgt_handler</a> <a class="el" href="mdt__handler_8c.html#a9f8dfc26bef0d8ad0f8cf121f7353cc7">mdt_tgt_handlers</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__handler_8c_source.html#l04340">4340</a> of file <a class="el" href="mdt__handler_8c_source.html">mdt_handler.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
