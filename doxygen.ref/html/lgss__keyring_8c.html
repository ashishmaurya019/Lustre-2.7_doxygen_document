<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/utils/gss/lgss_keyring.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/utils/gss/lgss_keyring.c File Reference</h1><code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;inttypes.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;pwd.h&gt;</code><br/>
<code>#include &lt;keyutils.h&gt;</code><br/>
<code>#include &lt;gssapi/gssapi.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="param_8h_source.html">libcfs/util/param.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="lsupport_8h_source.html">lsupport.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lgss__utils_8h_source.html">lgss_utils.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="write__bytes_8h_source.html">write_bytes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="context_8h_source.html">context.h</a>&quot;</code><br/>

<p><a href="lgss__keyring_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlgss__nego__data.html">lgss_nego_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlgss__init__res.html">lgss_init_res</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkeyring__upcall__param.html">keyring_upcall_param</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#ab5e5b0b46609dcc50fef710c0e03494c">do_nego_rpc</a> (struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *lnd, gss_buffer_desc *gss_token, struct <a class="el" href="structlgss__init__res.html">lgss_init_res</a> *gr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#adf179fe83d5cf20a98b3f86a5a9d263b">lgssc_negotiation</a> (struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *lnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#ab41f0017f03d46d411cbd8efbabfc676">lgssc_init_nego_data</a> (struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *lnd, struct <a class="el" href="structkeyring__upcall__param.html">keyring_upcall_param</a> *kup, <a class="el" href="lgss__utils_8h.html#aeb4f403587599fe05e88b84a7ec7e35e">lgss_mech_t</a> mech)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#a03a1911287e829fe1e4dc63110029ad1">lgssc_fini_nego_data</a> (struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *lnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#aec83f404172bbd509ec121724e7b8ee3">error_kernel_key</a> (key_serial_t keyid, int rpc_error, int gss_error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#aa773d8c9221b70e9180926b079c57d9b">update_kernel_key</a> (key_serial_t keyid, struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *lnd, gss_buffer_desc *ctx_token)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#a7cfac52329c923c704a8d81db0c357f9">lgssc_kr_negotiate</a> (key_serial_t keyid, struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *cred, struct <a class="el" href="structkeyring__upcall__param.html">keyring_upcall_param</a> *kup)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#a76a17d4357ab2f54009508063fa3f9ae">parse_callout_info</a> (const char *coinfo, struct <a class="el" href="structkeyring__upcall__param.html">keyring_upcall_param</a> *uparam)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#a9b7cab7d2c00b8c8f906a7132012c3df">set_log_level</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lgss__keyring_8c.html#a8828a3163600909f56fb77edce3a8641">g_service</a> = NULL</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ab5e5b0b46609dcc50fef710c0e03494c"></a><!-- doxytag: member="lgss_keyring.c::do_nego_rpc" ref="ab5e5b0b46609dcc50fef710c0e03494c" args="(struct lgss_nego_data *lnd, gss_buffer_desc *gss_token, struct lgss_init_res *gr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_nego_rpc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *&nbsp;</td>
          <td class="paramname"> <em>lnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gss_buffer_desc *&nbsp;</td>
          <td class="paramname"> <em>gss_token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlgss__init__res.html">lgss_init_res</a> *&nbsp;</td>
          <td class="paramname"> <em>gr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00121">121</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="param_8h_source.html#l00032">cfs_free_param_data()</a>, <a class="el" href="param_8h.html#ab992648c3810a57150c7ed45b54de8d2">cfs_get_param_paths()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00224">lgssd_ioctl_param::gid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00093">lgss_init_res::gr_ctx</a>, <a class="el" href="lgss__keyring_8c_source.html#l00094">lgss_init_res::gr_major</a>, <a class="el" href="lgss__keyring_8c_source.html#l00095">lgss_init_res::gr_minor</a>, <a class="el" href="lgss__keyring_8c_source.html#l00097">lgss_init_res::gr_token</a>, <a class="el" href="lgss__keyring_8c_source.html#l00096">lgss_init_res::gr_win</a>, <a class="el" href="gss__internal_8h_source.html#l00095">GSSD_INTERFACE_VERSION</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, <a class="el" href="lgss__keyring_8c_source.html#l00074">lgss_nego_data::lnd_lsvc</a>, <a class="el" href="lgss__keyring_8c_source.html#l00072">lgss_nego_data::lnd_secid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00073">lgss_nego_data::lnd_uid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00075">lgss_nego_data::lnd_uuid</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00222">lgssd_ioctl_param::lustre_svc</a>, <a class="el" href="mdsrate_8c_source.html#l00128">path</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00228">lgssd_ioctl_param::reply_buf</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00227">lgssd_ioctl_param::reply_buf_size</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00220">lgssd_ioctl_param::secid</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00226">lgssd_ioctl_param::send_token</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00225">lgssd_ioctl_param::send_token_size</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00229">lgssd_ioctl_param::status</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00223">lgssd_ioctl_param::uid</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00221">lgssd_ioctl_param::uuid</a>, and <a class="el" href="gss__cli__upcall_8c_source.html#l00219">lgssd_ioctl_param::version</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00218">lgssc_negotiation()</a>.</p>

</div>
</div>
<a class="anchor" id="aec83f404172bbd509ec121724e7b8ee3"></a><!-- doxytag: member="lgss_keyring.c::error_kernel_key" ref="aec83f404172bbd509ec121724e7b8ee3" args="(key_serial_t keyid, int rpc_error, int gss_error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int error_kernel_key </td>
          <td>(</td>
          <td class="paramtype">key_serial_t&nbsp;</td>
          <td class="paramname"> <em>keyid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rpc_error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gss_error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00391">391</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00088">LL_INFO</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, <a class="el" href="lgss__utils_8h_source.html#l00087">LL_WARN</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, and <a class="el" href="write__bytes_8h_source.html#l00051">WRITE_BYTES</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00480">lgssc_kr_negotiate()</a>.</p>

</div>
</div>
<a class="anchor" id="a03a1911287e829fe1e4dc63110029ad1"></a><!-- doxytag: member="lgss_keyring.c::lgssc_fini_nego_data" ref="a03a1911287e829fe1e4dc63110029ad1" args="(struct lgss_nego_data *lnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lgssc_fini_nego_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *&nbsp;</td>
          <td class="paramname"> <em>lnd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00371">371</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="gss__err_8h_source.html#l00091">GSS_S_COMPLETE</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__keyring_8c_source.html#l00080">lgss_nego_data::lnd_cred</a>, <a class="el" href="lgss__keyring_8c_source.html#l00077">lgss_nego_data::lnd_mech</a>, <a class="el" href="lgss__keyring_8c_source.html#l00078">lgss_nego_data::lnd_svc_name</a>, and <a class="el" href="lgss__utils_8h_source.html#l00111">logmsg_gss</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00480">lgssc_kr_negotiate()</a>.</p>

</div>
</div>
<a class="anchor" id="ab41f0017f03d46d411cbd8efbabfc676"></a><!-- doxytag: member="lgss_keyring.c::lgssc_init_nego_data" ref="ab41f0017f03d46d411cbd8efbabfc676" args="(struct lgss_nego_data *lnd, struct keyring_upcall_param *kup, lgss_mech_t mech)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lgssc_init_nego_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *&nbsp;</td>
          <td class="paramname"> <em>lnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkeyring__upcall__param.html">keyring_upcall_param</a> *&nbsp;</td>
          <td class="paramname"> <em>kup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lgss__utils_8h.html#aeb4f403587599fe05e88b84a7ec7e35e">lgss_mech_t</a>&nbsp;</td>
          <td class="paramname"> <em>mech</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00323">323</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="lgss__keyring_8c_source.html#l00064">g_service</a>, <a class="el" href="gss__err_8h_source.html#l00049">GSS_C_MUTUAL_FLAG</a>, <a class="el" href="gss__api_8h_source.html#l00031">GSS_C_NO_CONTEXT</a>, <a class="el" href="gss__err_8h_source.html#l00091">GSS_S_COMPLETE</a>, <a class="el" href="gss__oids_8c_source.html#l00035">krb5oid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00102">keyring_upcall_param::kup_secid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00107">keyring_upcall_param::kup_svc</a>, <a class="el" href="lgss__keyring_8c_source.html#l00110">keyring_upcall_param::kup_tgt</a>, <a class="el" href="lgss__keyring_8c_source.html#l00103">keyring_upcall_param::kup_uid</a>, <a class="el" href="lgss__utils_8h_source.html#l00143">LGSS_MECH_KRB5</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__keyring_8c_source.html#l00080">lgss_nego_data::lnd_cred</a>, <a class="el" href="lgss__keyring_8c_source.html#l00081">lgss_nego_data::lnd_ctx</a>, <a class="el" href="lgss__keyring_8c_source.html#l00070">lgss_nego_data::lnd_established</a>, <a class="el" href="lgss__keyring_8c_source.html#l00086">lgss_nego_data::lnd_gss_err</a>, <a class="el" href="lgss__keyring_8c_source.html#l00074">lgss_nego_data::lnd_lsvc</a>, <a class="el" href="lgss__keyring_8c_source.html#l00077">lgss_nego_data::lnd_mech</a>, <a class="el" href="lgss__keyring_8c_source.html#l00079">lgss_nego_data::lnd_req_flags</a>, <a class="el" href="lgss__keyring_8c_source.html#l00082">lgss_nego_data::lnd_rmt_ctx</a>, <a class="el" href="lgss__keyring_8c_source.html#l00085">lgss_nego_data::lnd_rpc_err</a>, <a class="el" href="lgss__keyring_8c_source.html#l00072">lgss_nego_data::lnd_secid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00083">lgss_nego_data::lnd_seq_win</a>, <a class="el" href="lgss__keyring_8c_source.html#l00078">lgss_nego_data::lnd_svc_name</a>, <a class="el" href="lgss__keyring_8c_source.html#l00073">lgss_nego_data::lnd_uid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00075">lgss_nego_data::lnd_uuid</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, and <a class="el" href="lgss__utils_8h_source.html#l00111">logmsg_gss</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00480">lgssc_kr_negotiate()</a>.</p>

</div>
</div>
<a class="anchor" id="a7cfac52329c923c704a8d81db0c357f9"></a><!-- doxytag: member="lgss_keyring.c::lgssc_kr_negotiate" ref="a7cfac52329c923c704a8d81db0c357f9" args="(key_serial_t keyid, struct lgss_cred *cred, struct keyring_upcall_param *kup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lgssc_kr_negotiate </td>
          <td>(</td>
          <td class="paramtype">key_serial_t&nbsp;</td>
          <td class="paramname"> <em>keyid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlgss__cred.html">lgss_cred</a> *&nbsp;</td>
          <td class="paramname"> <em>cred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkeyring__upcall__param.html">keyring_upcall_param</a> *&nbsp;</td>
          <td class="paramname"> <em>kup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00480">480</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="lgss__keyring_8c_source.html#l00391">error_kernel_key()</a>, <a class="el" href="lgss__keyring_8c_source.html#l00064">g_service</a>, <a class="el" href="lgss__keyring_8c_source.html#l00106">keyring_upcall_param::kup_fsgid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00104">keyring_upcall_param::kup_fsuid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00105">keyring_upcall_param::kup_gid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00108">keyring_upcall_param::kup_nid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00107">keyring_upcall_param::kup_svc</a>, <a class="el" href="lgss__keyring_8c_source.html#l00103">keyring_upcall_param::kup_uid</a>, <a class="el" href="lgss__utils_8h_source.html#l00178">lgss_cred::lc_mech</a>, <a class="el" href="lgss__utils_8h_source.html#l00175">lgss_cred::lc_tgt_nid</a>, <a class="el" href="lgss__utils_8h_source.html#l00176">lgss_cred::lc_tgt_svc</a>, <a class="el" href="lgss__utils_8h_source.html#l00172">lgss_cred::lc_uid</a>, <a class="el" href="lgss__utils_8c_source.html#l00419">lgss_get_service_str()</a>, <a class="el" href="lgss__utils_8c_source.html#l00386">lgss_release_cred()</a>, <a class="el" href="lgss__utils_8c_source.html#l00402">lgss_using_cred()</a>, <a class="el" href="lgss__keyring_8c_source.html#l00371">lgssc_fini_nego_data()</a>, <a class="el" href="lgss__keyring_8c_source.html#l00323">lgssc_init_nego_data()</a>, <a class="el" href="lgss__keyring_8c_source.html#l00218">lgssc_negotiation()</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00088">LL_INFO</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, <a class="el" href="lgss__utils_8h_source.html#l00154">lgss_mech_type::lmt_mech_n</a>, <a class="el" href="lgss__keyring_8c_source.html#l00081">lgss_nego_data::lnd_ctx</a>, <a class="el" href="lgss__keyring_8c_source.html#l00086">lgss_nego_data::lnd_gss_err</a>, <a class="el" href="lgss__keyring_8c_source.html#l00077">lgss_nego_data::lnd_mech</a>, <a class="el" href="lgss__keyring_8c_source.html#l00085">lgss_nego_data::lnd_rpc_err</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, <a class="el" href="context_8c_source.html#l00047">serialize_context_for_kernel()</a>, and <a class="el" href="lgss__keyring_8c_source.html#l00425">update_kernel_key()</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00648">main()</a>.</p>

</div>
</div>
<a class="anchor" id="adf179fe83d5cf20a98b3f86a5a9d263b"></a><!-- doxytag: member="lgss_keyring.c::lgssc_negotiation" ref="adf179fe83d5cf20a98b3f86a5a9d263b" args="(struct lgss_nego_data *lnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lgssc_negotiation </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *&nbsp;</td>
          <td class="paramname"> <em>lnd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00218">218</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="lgss__keyring_8c_source.html#l00121">do_nego_rpc()</a>, <a class="el" href="lgss__keyring_8c_source.html#l00093">lgss_init_res::gr_ctx</a>, <a class="el" href="lgss__keyring_8c_source.html#l00094">lgss_init_res::gr_major</a>, <a class="el" href="lgss__keyring_8c_source.html#l00097">lgss_init_res::gr_token</a>, <a class="el" href="lgss__keyring_8c_source.html#l00096">lgss_init_res::gr_win</a>, <a class="el" href="gss__api_8h_source.html#l00030">GSS_C_NO_BUFFER</a>, <a class="el" href="gss__err_8h_source.html#l00091">GSS_S_COMPLETE</a>, <a class="el" href="gss__err_8h_source.html#l00175">GSS_S_CONTINUE_NEEDED</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, <a class="el" href="lgss__keyring_8c_source.html#l00080">lgss_nego_data::lnd_cred</a>, <a class="el" href="lgss__keyring_8c_source.html#l00081">lgss_nego_data::lnd_ctx</a>, <a class="el" href="lgss__keyring_8c_source.html#l00070">lgss_nego_data::lnd_established</a>, <a class="el" href="lgss__keyring_8c_source.html#l00086">lgss_nego_data::lnd_gss_err</a>, <a class="el" href="lgss__keyring_8c_source.html#l00077">lgss_nego_data::lnd_mech</a>, <a class="el" href="lgss__keyring_8c_source.html#l00079">lgss_nego_data::lnd_req_flags</a>, <a class="el" href="lgss__keyring_8c_source.html#l00082">lgss_nego_data::lnd_rmt_ctx</a>, <a class="el" href="lgss__keyring_8c_source.html#l00085">lgss_nego_data::lnd_rpc_err</a>, <a class="el" href="lgss__keyring_8c_source.html#l00083">lgss_nego_data::lnd_seq_win</a>, <a class="el" href="lgss__keyring_8c_source.html#l00078">lgss_nego_data::lnd_svc_name</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, and <a class="el" href="lgss__utils_8h_source.html#l00111">logmsg_gss</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00480">lgssc_kr_negotiate()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a><!-- doxytag: member="lgss_keyring.c::main" ref="a0ddf1224851353fc92bfbff6f499fa97" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00648">648</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="lgss__keyring_8c_source.html#l00106">keyring_upcall_param::kup_fsgid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00104">keyring_upcall_param::kup_fsuid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00112">keyring_upcall_param::kup_is_mdt</a>, <a class="el" href="lgss__keyring_8c_source.html#l00112">keyring_upcall_param::kup_is_ost</a>, <a class="el" href="lgss__keyring_8c_source.html#l00112">keyring_upcall_param::kup_is_root</a>, <a class="el" href="lgss__keyring_8c_source.html#l00111">keyring_upcall_param::kup_mech</a>, <a class="el" href="lgss__keyring_8c_source.html#l00108">keyring_upcall_param::kup_nid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00109">keyring_upcall_param::kup_selfnid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00107">keyring_upcall_param::kup_svc</a>, <a class="el" href="lgss__keyring_8c_source.html#l00103">keyring_upcall_param::kup_uid</a>, <a class="el" href="lgss__utils_8h_source.html#l00173">lgss_cred::lc_root_flags</a>, <a class="el" href="lgss__utils_8h_source.html#l00174">lgss_cred::lc_self_nid</a>, <a class="el" href="lgss__utils_8h_source.html#l00175">lgss_cred::lc_tgt_nid</a>, <a class="el" href="lgss__utils_8h_source.html#l00176">lgss_cred::lc_tgt_svc</a>, <a class="el" href="lgss__utils_8h_source.html#l00172">lgss_cred::lc_uid</a>, <a class="el" href="lgss__utils_8c_source.html#l00349">lgss_create_cred()</a>, <a class="el" href="lgss__utils_8c_source.html#l00334">lgss_mech_initialize()</a>, <a class="el" href="lgss__utils_8c_source.html#l00327">lgss_name2mech()</a>, <a class="el" href="lgss__utils_8c_source.html#l00373">lgss_prepare_cred()</a>, <a class="el" href="lgss__utils_8h_source.html#l00165">LGSS_ROOT_CRED_MDT</a>, <a class="el" href="lgss__utils_8h_source.html#l00166">LGSS_ROOT_CRED_OST</a>, <a class="el" href="lgss__utils_8h_source.html#l00164">LGSS_ROOT_CRED_ROOT</a>, <a class="el" href="lgss__keyring_8c_source.html#l00480">lgssc_kr_negotiate()</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00088">LL_INFO</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, <a class="el" href="lgss__utils_8h_source.html#l00153">lgss_mech_type::lmt_name</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, <a class="el" href="lgss__keyring_8c_source.html#l00557">parse_callout_info()</a>, and <a class="el" href="lgss__keyring_8c_source.html#l00617">set_log_level()</a>.</p>

</div>
</div>
<a class="anchor" id="a76a17d4357ab2f54009508063fa3f9ae"></a><!-- doxytag: member="lgss_keyring.c::parse_callout_info" ref="a76a17d4357ab2f54009508063fa3f9ae" args="(const char *coinfo, struct keyring_upcall_param *uparam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int parse_callout_info </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>coinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkeyring__upcall__param.html">keyring_upcall_param</a> *&nbsp;</td>
          <td class="paramname"> <em>uparam</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00557">557</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="lgss__keyring_8c_source.html#l00105">keyring_upcall_param::kup_gid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00112">keyring_upcall_param::kup_is_mdt</a>, <a class="el" href="lgss__keyring_8c_source.html#l00112">keyring_upcall_param::kup_is_ost</a>, <a class="el" href="lgss__keyring_8c_source.html#l00112">keyring_upcall_param::kup_is_root</a>, <a class="el" href="lgss__keyring_8c_source.html#l00111">keyring_upcall_param::kup_mech</a>, <a class="el" href="lgss__keyring_8c_source.html#l00108">keyring_upcall_param::kup_nid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00102">keyring_upcall_param::kup_secid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00109">keyring_upcall_param::kup_selfnid</a>, <a class="el" href="lgss__keyring_8c_source.html#l00107">keyring_upcall_param::kup_svc</a>, <a class="el" href="lgss__keyring_8c_source.html#l00110">keyring_upcall_param::kup_tgt</a>, <a class="el" href="lgss__keyring_8c_source.html#l00103">keyring_upcall_param::kup_uid</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00648">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b7cab7d2c00b8c8f906a7132012c3df"></a><!-- doxytag: member="lgss_keyring.c::set_log_level" ref="a9b7cab7d2c00b8c8f906a7132012c3df" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void set_log_level </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00617">617</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="param_8h_source.html#l00032">cfs_free_param_data()</a>, <a class="el" href="param_8h.html#ab992648c3810a57150c7ed45b54de8d2">cfs_get_param_paths()</a>, <a class="el" href="lgss__utils_8c_source.html#l00247">lgss_set_loglevel()</a>, <a class="el" href="lgss__utils_8h_source.html#l00091">LL_MAX</a>, and <a class="el" href="mdsrate_8c_source.html#l00128">path</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00648">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aa773d8c9221b70e9180926b079c57d9b"></a><!-- doxytag: member="lgss_keyring.c::update_kernel_key" ref="aa773d8c9221b70e9180926b079c57d9b" args="(key_serial_t keyid, struct lgss_nego_data *lnd, gss_buffer_desc *ctx_token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int update_kernel_key </td>
          <td>(</td>
          <td class="paramtype">key_serial_t&nbsp;</td>
          <td class="paramname"> <em>keyid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlgss__nego__data.html">lgss_nego_data</a> *&nbsp;</td>
          <td class="paramname"> <em>lnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gss_buffer_desc *&nbsp;</td>
          <td class="paramname"> <em>ctx_token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00425">425</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="lgss__utils_8h_source.html#l00089">LL_DEBUG</a>, <a class="el" href="lgss__utils_8h_source.html#l00086">LL_ERR</a>, <a class="el" href="lgss__utils_8h_source.html#l00090">LL_TRACE</a>, <a class="el" href="lgss__keyring_8c_source.html#l00082">lgss_nego_data::lnd_rmt_ctx</a>, <a class="el" href="lgss__keyring_8c_source.html#l00083">lgss_nego_data::lnd_seq_win</a>, <a class="el" href="lgss__utils_8h_source.html#l00105">logmsg</a>, <a class="el" href="write__bytes_8h_source.html#l00054">write_buffer()</a>, and <a class="el" href="write__bytes_8h_source.html#l00051">WRITE_BYTES</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00480">lgssc_kr_negotiate()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a8828a3163600909f56fb77edce3a8641"></a><!-- doxytag: member="lgss_keyring.c::g_service" ref="a8828a3163600909f56fb77edce3a8641" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="lgss__keyring_8c.html#a8828a3163600909f56fb77edce3a8641">g_service</a> = NULL<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lgss__keyring_8c_source.html#l00064">64</a> of file <a class="el" href="lgss__keyring_8c_source.html">lgss_keyring.c</a>.</p>

<p>Referenced by <a class="el" href="lgss__keyring_8c_source.html#l00323">lgssc_init_nego_data()</a>, and <a class="el" href="lgss__keyring_8c_source.html#l00480">lgssc_kr_negotiate()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:51 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
