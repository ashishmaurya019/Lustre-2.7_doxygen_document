<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lnet/klnds/socklnd/socklnd_proto.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lnet/klnds/socklnd/socklnd_proto.c File Reference</h1><code>#include &quot;<a class="el" href="klnds_2socklnd_2socklnd_8h_source.html">socklnd.h</a>&quot;</code><br/>

<p><a href="socklnd__proto_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a8be7a872ed82c467bf749f54d9491a11">ksocknal_queue_tx_msg_v1</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, <a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *tx_msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a19f5f2cafeb2541f9264d03e184fa304">ksocknal_next_tx_carrier</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#ae52f8a270f7232e0b365e65d63aa42f2">ksocknal_queue_tx_zcack_v2</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, <a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *tx_ack, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cookie)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#aee54e6326832c74d1e2948732b8be0a4">ksocknal_queue_tx_msg_v2</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, <a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *tx_msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#accd9f1613789c7afb99db51bceba8096">ksocknal_queue_tx_zcack_v3</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, <a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *tx_ack, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cookie)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a71547a0e15386adc6d1fa47b47675943">ksocknal_match_tx</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, <a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *tx, int nonblk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a925f62a37667af1510f01e38d7bd3a29">ksocknal_match_tx_v3</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, <a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *tx, int nonblk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#aeef40797e7043438a734cf4a5eff96a1">ksocknal_handle_zcreq</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *c, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cookie, int remote)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#af4065e8bfb83af1ae6a84076d1cdab5c">ksocknal_handle_zcack</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cookie1, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cookie2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#ab25c39a373c16052a53825d769558ef6">ksocknal_send_hello_v1</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, ksock_hello_msg_t *hello)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a2427d131406f70f83a57f05d985b1176">ksocknal_send_hello_v2</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, ksock_hello_msg_t *hello)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a0e05b18e984ef85d308fc0bffc640681">ksocknal_recv_hello_v1</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, ksock_hello_msg_t *hello, int <a class="el" href="o2iblnd__modparams_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a66941dafd4945e748d3da132d2604038">ksocknal_recv_hello_v2</a> (<a class="el" href="structksock__conn.html">ksock_conn_t</a> *conn, ksock_hello_msg_t *hello, int <a class="el" href="o2iblnd__modparams_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a40b4de6ad032437a427c5b652bfddfff">ksocknal_pack_msg_v1</a> (<a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *tx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a99650e2ddc9f507e9d0bf981265b9bf9">ksocknal_pack_msg_v2</a> (<a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *tx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a1e56483ec2b6dad3d9b5da577acc6eef">ksocknal_unpack_msg_v1</a> (ksock_msg_t *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#ae013ccba97e0f6cb53cf29e0c397b6ca">ksocknal_unpack_msg_v2</a> (ksock_msg_t *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structksock__proto.html">ksock_proto_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#abc938f05a7922b2b7763ca1b48001a52">ksocknal_protocol_v1x</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structksock__proto.html">ksock_proto_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#a193b12a29bb7f847d6c32e51c4dddc05">ksocknal_protocol_v2x</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structksock__proto.html">ksock_proto_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="socklnd__proto_8c.html#add9809dc50c23a2317e6e28b9d53fe36">ksocknal_protocol_v3x</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="af4065e8bfb83af1ae6a84076d1cdab5c"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_handle_zcack" ref="af4065e8bfb83af1ae6a84076d1cdab5c" args="(ksock_conn_t *conn, __u64 cookie1, __u64 cookie2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_handle_zcack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>cookie1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>cookie2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00405">405</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00323">ksock_conn::ksnc_peer</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00340">ksock_conn::ksnc_proto</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00425">ksock_peer::ksnp_lock</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00427">ksock_peer::ksnp_zc_req_list</a>, <a class="el" href="socklnd__proto_8c_source.html#l00786">ksocknal_protocol_v3x</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00569">ksocknal_tx_decref()</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00407">SOCKNAL_KEEPALIVE_PING</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00290">ksock_tx_t::tx_msg</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00275">ksock_tx_t::tx_zc_list</a>.</p>

</div>
</div>
<a class="anchor" id="aeef40797e7043438a734cf4a5eff96a1"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_handle_zcreq" ref="aeef40797e7043438a734cf4a5eff96a1" args="(ksock_conn_t *c, __u64 cookie, int remote)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_handle_zcreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>remote</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00362">362</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00323">ksock_conn::ksnc_peer</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00340">ksock_conn::ksnc_proto</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00331">ksock_conn::ksnc_scheduler</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00199">ksock_nal_data_t::ksnd_global_lock</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00413">ksock_peer::ksnp_id</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00429">ksock_peer::ksnp_ni</a>, <a class="el" href="socklnd__cb_8c_source.html#l00068">ksocknal_alloc_tx_noop()</a>, <a class="el" href="socklnd_8c_source.html#l00047">ksocknal_data</a>, <a class="el" href="socklnd__cb_8c_source.html#l00623">ksocknal_find_conn_locked()</a>, <a class="el" href="socklnd__cb_8c_source.html#l00094">ksocknal_free_tx()</a>, <a class="el" href="socklnd__cb_8c_source.html#l00833">ksocknal_launch_packet()</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00095">ksock_sched_t::kss_lock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="structksock__proto.html#a92aba5fab1a50dd8b38a646c12a33c28">ksock_proto::pro_queue_tx_zcack</a>.</p>

</div>
</div>
<a class="anchor" id="a71547a0e15386adc6d1fa47b47675943"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_match_tx" ref="a71547a0e15386adc6d1fa47b47675943" args="(ksock_conn_t *conn, ksock_tx_t *tx, int nonblk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_match_tx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nonblk</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00274">274</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00340">ksock_conn::ksnc_proto</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00335">ksock_conn::ksnc_type</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00146">ksock_tunables_t::ksnd_min_bulk</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00145">ksock_tunables_t::ksnd_typed_conns</a>, <a class="el" href="socklnd__proto_8c_source.html#l00758">ksocknal_protocol_v1x</a>, <a class="el" href="socklnd__modparams_8c_source.html#l00158">ksocknal_tunables</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="lib-types_8h_source.html#l00113">lnet_msg::msg_len</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="include_2lnet_2socklnd_8h_source.html#l00044">SOCKLND_CONN_ANY</a>, <a class="el" href="include_2lnet_2socklnd_8h_source.html#l00046">SOCKLND_CONN_BULK_IN</a>, <a class="el" href="include_2lnet_2socklnd_8h_source.html#l00047">SOCKLND_CONN_BULK_OUT</a>, <a class="el" href="include_2lnet_2socklnd_8h_source.html#l00045">SOCKLND_CONN_CONTROL</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00449">SOCKNAL_MATCH_MAY</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00448">SOCKNAL_MATCH_YES</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00288">ksock_tx_t::tx_lnetmsg</a>.</p>

</div>
</div>
<a class="anchor" id="a925f62a37667af1510f01e38d7bd3a29"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_match_tx_v3" ref="a925f62a37667af1510f01e38d7bd3a29" args="(ksock_conn_t *conn, ksock_tx_t *tx, int nonblk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_match_tx_v3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nonblk</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00318">318</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00335">ksock_conn::ksnc_type</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00146">ksock_tunables_t::ksnd_min_bulk</a>, <a class="el" href="socklnd__modparams_8c_source.html#l00158">ksocknal_tunables</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="lib-types_8h_source.html#l00113">lnet_msg::msg_len</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="include_2lnet_2socklnd_8h_source.html#l00050">SOCKLND_CONN_ACK</a>, <a class="el" href="include_2lnet_2socklnd_8h_source.html#l00044">SOCKLND_CONN_ANY</a>, <a class="el" href="include_2lnet_2socklnd_8h_source.html#l00047">SOCKLND_CONN_BULK_OUT</a>, <a class="el" href="include_2lnet_2socklnd_8h_source.html#l00045">SOCKLND_CONN_CONTROL</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00449">SOCKNAL_MATCH_MAY</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00447">SOCKNAL_MATCH_NO</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00448">SOCKNAL_MATCH_YES</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00288">ksock_tx_t::tx_lnetmsg</a>.</p>

</div>
</div>
<a class="anchor" id="a19f5f2cafeb2541f9264d03e184fa304"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_next_tx_carrier" ref="a19f5f2cafeb2541f9264d03e184fa304" args="(ksock_conn_t *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ksocknal_next_tx_carrier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00053">53</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00373">ksock_conn::ksnc_tx_carrier</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00371">ksock_conn::ksnc_tx_queue</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00274">ksock_tx_t::tx_list</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00290">ksock_tx_t::tx_msg</a>.</p>

<p>Referenced by <a class="el" href="socklnd__proto_8c_source.html#l00121">ksocknal_queue_tx_msg_v2()</a>, <a class="el" href="socklnd__proto_8c_source.html#l00074">ksocknal_queue_tx_zcack_v2()</a>, <a class="el" href="socklnd__proto_8c_source.html#l00157">ksocknal_queue_tx_zcack_v3()</a>, and <a class="el" href="socklnd__cb_8c_source.html#l01388">ksocknal_scheduler()</a>.</p>

</div>
</div>
<a class="anchor" id="a40b4de6ad032437a427c5b652bfddfff"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_pack_msg_v1" ref="a40b4de6ad032437a427c5b652bfddfff" args="(ksock_tx_t *tx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ksocknal_pack_msg_v1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00712">712</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="packet-lnet_8c_source.html#l00212">KSOCK_MSG_NOOP</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lib-types_8h_source.html#l00121">lnet_msg::msg_hdr</a>, <a class="el" href="lib-types_8h_source.html#l00113">lnet_msg::msg_len</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00280">ksock_tx_t::tx_iov</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00288">ksock_tx_t::tx_lnetmsg</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00290">ksock_tx_t::tx_msg</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00277">ksock_tx_t::tx_nob</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00278">ksock_tx_t::tx_resid</a>.</p>

</div>
</div>
<a class="anchor" id="a99650e2ddc9f507e9d0bf981265b9bf9"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_pack_msg_v2" ref="a99650e2ddc9f507e9d0bf981265b9bf9" args="(ksock_tx_t *tx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ksocknal_pack_msg_v2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00725">725</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="packet-lnet_8c_source.html#l00212">KSOCK_MSG_NOOP</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lib-types_8h_source.html#l00121">lnet_msg::msg_hdr</a>, <a class="el" href="lib-types_8h_source.html#l00113">lnet_msg::msg_len</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00280">ksock_tx_t::tx_iov</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00288">ksock_tx_t::tx_lnetmsg</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00290">ksock_tx_t::tx_msg</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00277">ksock_tx_t::tx_nob</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00278">ksock_tx_t::tx_resid</a>.</p>

</div>
</div>
<a class="anchor" id="a8be7a872ed82c467bf749f54d9491a11"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_queue_tx_msg_v1" ref="a8be7a872ed82c467bf749f54d9491a11" args="(ksock_conn_t *conn, ksock_tx_t *tx_msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structksock__tx__t.html">ksock_tx_t</a>* ksocknal_queue_tx_msg_v1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tx_msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00045">45</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00371">ksock_conn::ksnc_tx_queue</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00274">ksock_tx_t::tx_list</a>.</p>

</div>
</div>
<a class="anchor" id="aee54e6326832c74d1e2948732b8be0a4"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_queue_tx_msg_v2" ref="aee54e6326832c74d1e2948732b8be0a4" args="(ksock_conn_t *conn, ksock_tx_t *tx_msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structksock__tx__t.html">ksock_tx_t</a>* ksocknal_queue_tx_msg_v2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tx_msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00121">121</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00373">ksock_conn::ksnc_tx_carrier</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00371">ksock_conn::ksnc_tx_queue</a>, <a class="el" href="packet-lnet_8c_source.html#l00213">KSOCK_MSG_LNET</a>, <a class="el" href="packet-lnet_8c_source.html#l00212">KSOCK_MSG_NOOP</a>, <a class="el" href="socklnd__proto_8c_source.html#l00053">ksocknal_next_tx_carrier()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00274">ksock_tx_t::tx_list</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00290">ksock_tx_t::tx_msg</a>.</p>

</div>
</div>
<a class="anchor" id="ae52f8a270f7232e0b365e65d63aa42f2"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_queue_tx_zcack_v2" ref="ae52f8a270f7232e0b365e65d63aa42f2" args="(ksock_conn_t *conn, ksock_tx_t *tx_ack, __u64 cookie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_queue_tx_zcack_v2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tx_ack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>cookie</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00074">74</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00373">ksock_conn::ksnc_tx_carrier</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00371">ksock_conn::ksnc_tx_queue</a>, <a class="el" href="packet-lnet_8c_source.html#l00213">KSOCK_MSG_LNET</a>, <a class="el" href="packet-lnet_8c_source.html#l00212">KSOCK_MSG_NOOP</a>, <a class="el" href="socklnd__proto_8c_source.html#l00053">ksocknal_next_tx_carrier()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00274">ksock_tx_t::tx_list</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00290">ksock_tx_t::tx_msg</a>.</p>

<p>Referenced by <a class="el" href="socklnd__proto_8c_source.html#l00157">ksocknal_queue_tx_zcack_v3()</a>.</p>

</div>
</div>
<a class="anchor" id="accd9f1613789c7afb99db51bceba8096"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_queue_tx_zcack_v3" ref="accd9f1613789c7afb99db51bceba8096" args="(ksock_conn_t *conn, ksock_tx_t *tx_ack, __u64 cookie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_queue_tx_zcack_v3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structksock__tx__t.html">ksock_tx_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tx_ack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>cookie</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00157">157</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00323">ksock_conn::ksnc_peer</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00373">ksock_conn::ksnc_tx_carrier</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00371">ksock_conn::ksnc_tx_queue</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00335">ksock_conn::ksnc_type</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00413">ksock_peer::ksnp_id</a>, <a class="el" href="packet-lnet_8c_source.html#l00212">KSOCK_MSG_NOOP</a>, <a class="el" href="socklnd__proto_8c_source.html#l00053">ksocknal_next_tx_carrier()</a>, <a class="el" href="socklnd__proto_8c_source.html#l00074">ksocknal_queue_tx_zcack_v2()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01236">libcfs_id2str()</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="include_2lnet_2socklnd_8h_source.html#l00050">SOCKLND_CONN_ACK</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00407">SOCKNAL_KEEPALIVE_PING</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00274">ksock_tx_t::tx_list</a>, and <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00290">ksock_tx_t::tx_msg</a>.</p>

</div>
</div>
<a class="anchor" id="a0e05b18e984ef85d308fc0bffc640681"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_recv_hello_v1" ref="a0e05b18e984ef85d308fc0bffc640681" args="(ksock_conn_t *conn, ksock_hello_msg_t *hello, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_recv_hello_v1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ksock_hello_msg_t *&nbsp;</td>
          <td class="paramname"> <em>hello</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00569">569</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00333">ksock_conn::ksnc_ipaddr</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00326">ksock_conn::ksnc_sock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="libcfs__private_8h_source.html#l00291">LIBCFS_ALLOC</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00249">LNET_MAX_INTERFACES</a>, <a class="el" href="packet-lnet_8c_source.html#l00159">LNET_MSG_HELLO</a>, <a class="el" href="lib-socket_8c_source.html#l00354">lnet_sock_read()</a>, and <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>.</p>

</div>
</div>
<a class="anchor" id="a66941dafd4945e748d3da132d2604038"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_recv_hello_v2" ref="a66941dafd4945e748d3da132d2604038" args="(ksock_conn_t *conn, ksock_hello_msg_t *hello, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_recv_hello_v2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ksock_hello_msg_t *&nbsp;</td>
          <td class="paramname"> <em>hello</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00645">645</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00045">__swab32s</a>, <a class="el" href="byteorder_8h_source.html#l00049">__swab64s</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00338">ksock_conn::ksnc_flip</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00333">ksock_conn::ksnc_ipaddr</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00326">ksock_conn::ksnc_sock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00249">LNET_MAX_INTERFACES</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00217">LNET_PROTO_MAGIC</a>, <a class="el" href="lib-socket_8c_source.html#l00354">lnet_sock_read()</a>, and <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>.</p>

</div>
</div>
<a class="anchor" id="ab25c39a373c16052a53825d769558ef6"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_send_hello_v1" ref="ab25c39a373c16052a53825d769558ef6" args="(ksock_conn_t *conn, ksock_hello_msg_t *hello)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_send_hello_v1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ksock_hello_msg_t *&nbsp;</td>
          <td class="paramname"> <em>hello</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00452">452</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00279">CNETERR</a>, <a class="el" href="byteorder_8h_source.html#l00055">cpu_to_le16</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="byteorder_8h_source.html#l00059">cpu_to_le64</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00333">ksock_conn::ksnc_ipaddr</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00334">ksock_conn::ksnc_port</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00326">ksock_conn::ksnc_sock</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00473">KSOCK_PROTO_V1_MAJOR</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00474">KSOCK_PROTO_V1_MINOR</a>, <a class="el" href="libcfs__private_8h_source.html#l00291">LIBCFS_ALLOC</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="lib-types_8h_source.html#l00654">lnet_t::ln_testprotocompat</a>, <a class="el" href="acceptor_8c_source.html#l00097">lnet_acceptor_timeout()</a>, <a class="el" href="lib-lnet_8h_source.html#l00173">LNET_LOCK</a>, <a class="el" href="packet-lnet_8c_source.html#l00159">LNET_MSG_HELLO</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00217">LNET_PROTO_MAGIC</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00210">LNET_PROTO_TCP_MAGIC</a>, <a class="el" href="lib-socket_8c_source.html#l00287">lnet_sock_write()</a>, <a class="el" href="lib-lnet_8h_source.html#l00174">LNET_UNLOCK</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

</div>
</div>
<a class="anchor" id="a2427d131406f70f83a57f05d985b1176"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_send_hello_v2" ref="a2427d131406f70f83a57f05d985b1176" args="(ksock_conn_t *conn, ksock_hello_msg_t *hello)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ksocknal_send_hello_v2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structksock__conn.html">ksock_conn_t</a> *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ksock_hello_msg_t *&nbsp;</td>
          <td class="paramname"> <em>hello</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00526">526</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00279">CNETERR</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00333">ksock_conn::ksnc_ipaddr</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00334">ksock_conn::ksnc_port</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00340">ksock_conn::ksnc_proto</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00326">ksock_conn::ksnc_sock</a>, <a class="el" href="lib-types_8h_source.html#l00654">lnet_t::ln_testprotocompat</a>, <a class="el" href="acceptor_8c_source.html#l00097">lnet_acceptor_timeout()</a>, <a class="el" href="lib-lnet_8h_source.html#l00173">LNET_LOCK</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00217">LNET_PROTO_MAGIC</a>, <a class="el" href="lib-socket_8c_source.html#l00287">lnet_sock_write()</a>, <a class="el" href="lib-lnet_8h_source.html#l00174">LNET_UNLOCK</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="klnds_2socklnd_2socklnd_8h_source.html#l00453">ksock_proto::pro_version</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

</div>
</div>
<a class="anchor" id="a1e56483ec2b6dad3d9b5da577acc6eef"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_unpack_msg_v1" ref="a1e56483ec2b6dad3d9b5da577acc6eef" args="(ksock_msg_t *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ksocknal_unpack_msg_v1 </td>
          <td>(</td>
          <td class="paramtype">ksock_msg_t *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00745">745</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>References <a class="el" href="packet-lnet_8c_source.html#l00213">KSOCK_MSG_LNET</a>.</p>

</div>
</div>
<a class="anchor" id="ae013ccba97e0f6cb53cf29e0c397b6ca"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_unpack_msg_v2" ref="ae013ccba97e0f6cb53cf29e0c397b6ca" args="(ksock_msg_t *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ksocknal_unpack_msg_v2 </td>
          <td>(</td>
          <td class="paramtype">ksock_msg_t *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00753">753</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="abc938f05a7922b2b7763ca1b48001a52"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_protocol_v1x" ref="abc938f05a7922b2b7763ca1b48001a52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structksock__proto.html">ksock_proto_t</a> <a class="el" href="socklnd__proto_8c.html#abc938f05a7922b2b7763ca1b48001a52">ksocknal_protocol_v1x</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
        .pro_version            = <a class="code" href="klnds_2socklnd_2socklnd_8h.html#a428615725d737bc4053919fbb192fb95">KSOCK_PROTO_V1</a>,
        .pro_send_hello         = <a class="code" href="socklnd__proto_8c.html#ab25c39a373c16052a53825d769558ef6">ksocknal_send_hello_v1</a>,
        .pro_recv_hello         = <a class="code" href="socklnd__proto_8c.html#a0e05b18e984ef85d308fc0bffc640681">ksocknal_recv_hello_v1</a>,
        .pro_pack               = <a class="code" href="socklnd__proto_8c.html#a40b4de6ad032437a427c5b652bfddfff">ksocknal_pack_msg_v1</a>,
        .pro_unpack             = <a class="code" href="socklnd__proto_8c.html#a1e56483ec2b6dad3d9b5da577acc6eef">ksocknal_unpack_msg_v1</a>,
        .pro_queue_tx_msg       = <a class="code" href="socklnd__proto_8c.html#a8be7a872ed82c467bf749f54d9491a11">ksocknal_queue_tx_msg_v1</a>,
        .pro_handle_zcreq       = NULL,
        .pro_handle_zcack       = NULL,
        .pro_queue_tx_zcack     = NULL,
        .pro_match_tx           = <a class="code" href="socklnd__proto_8c.html#a71547a0e15386adc6d1fa47b47675943">ksocknal_match_tx</a>
}
</pre></div>
<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00758">758</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>Referenced by <a class="el" href="socklnd__cb_8c_source.html#l00437">ksocknal_check_zc_req()</a>, <a class="el" href="socklnd_8c_source.html#l01016">ksocknal_create_conn()</a>, <a class="el" href="socklnd__lib_8c_source.html#l00065">ksocknal_lib_zc_capable()</a>, <a class="el" href="socklnd__proto_8c_source.html#l00274">ksocknal_match_tx()</a>, <a class="el" href="socklnd__cb_8c_source.html#l01615">ksocknal_parse_proto_version()</a>, <a class="el" href="socklnd__cb_8c_source.html#l01110">ksocknal_process_receive()</a>, and <a class="el" href="socklnd__cb_8c_source.html#l01696">ksocknal_recv_hello()</a>.</p>

</div>
</div>
<a class="anchor" id="a193b12a29bb7f847d6c32e51c4dddc05"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_protocol_v2x" ref="a193b12a29bb7f847d6c32e51c4dddc05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structksock__proto.html">ksock_proto_t</a> <a class="el" href="socklnd__proto_8c.html#a193b12a29bb7f847d6c32e51c4dddc05">ksocknal_protocol_v2x</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
        .pro_version            = <a class="code" href="include_2lnet_2socklnd_8h.html#a4c9b51b0f752987b985a54326a7102c7">KSOCK_PROTO_V2</a>,
        .pro_send_hello         = <a class="code" href="socklnd__proto_8c.html#a2427d131406f70f83a57f05d985b1176">ksocknal_send_hello_v2</a>,
        .pro_recv_hello         = <a class="code" href="socklnd__proto_8c.html#a66941dafd4945e748d3da132d2604038">ksocknal_recv_hello_v2</a>,
        .pro_pack               = <a class="code" href="socklnd__proto_8c.html#a99650e2ddc9f507e9d0bf981265b9bf9">ksocknal_pack_msg_v2</a>,
        .pro_unpack             = <a class="code" href="socklnd__proto_8c.html#ae013ccba97e0f6cb53cf29e0c397b6ca">ksocknal_unpack_msg_v2</a>,
        .pro_queue_tx_msg       = <a class="code" href="socklnd__proto_8c.html#aee54e6326832c74d1e2948732b8be0a4">ksocknal_queue_tx_msg_v2</a>,
        .pro_queue_tx_zcack     = <a class="code" href="socklnd__proto_8c.html#ae52f8a270f7232e0b365e65d63aa42f2">ksocknal_queue_tx_zcack_v2</a>,
        .pro_handle_zcreq       = <a class="code" href="socklnd__proto_8c.html#aeef40797e7043438a734cf4a5eff96a1">ksocknal_handle_zcreq</a>,
        .pro_handle_zcack       = <a class="code" href="socklnd__proto_8c.html#af4065e8bfb83af1ae6a84076d1cdab5c">ksocknal_handle_zcack</a>,
        .pro_match_tx           = <a class="code" href="socklnd__proto_8c.html#a71547a0e15386adc6d1fa47b47675943">ksocknal_match_tx</a>
}
</pre></div>
<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00772">772</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>Referenced by <a class="el" href="socklnd_8c_source.html#l01016">ksocknal_create_conn()</a>, <a class="el" href="socklnd__lib_8c_source.html#l00387">ksocknal_lib_csum_tx()</a>, <a class="el" href="socklnd__lib_8c_source.html#l00203">ksocknal_lib_recv_iov()</a>, <a class="el" href="socklnd__lib_8c_source.html#l00078">ksocknal_lib_send_iov()</a>, <a class="el" href="socklnd__cb_8c_source.html#l01615">ksocknal_parse_proto_version()</a>, and <a class="el" href="socklnd__cb_8c_source.html#l01696">ksocknal_recv_hello()</a>.</p>

</div>
</div>
<a class="anchor" id="add9809dc50c23a2317e6e28b9d53fe36"></a><!-- doxytag: member="socklnd_proto.c::ksocknal_protocol_v3x" ref="add9809dc50c23a2317e6e28b9d53fe36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structksock__proto.html">ksock_proto_t</a> <a class="el" href="socklnd__proto_8c.html#add9809dc50c23a2317e6e28b9d53fe36">ksocknal_protocol_v3x</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
        .pro_version            = <a class="code" href="include_2lnet_2socklnd_8h.html#a98686d0b709f9df6c8acaf43f5ce3db8">KSOCK_PROTO_V3</a>,
        .pro_send_hello         = <a class="code" href="socklnd__proto_8c.html#a2427d131406f70f83a57f05d985b1176">ksocknal_send_hello_v2</a>,
        .pro_recv_hello         = <a class="code" href="socklnd__proto_8c.html#a66941dafd4945e748d3da132d2604038">ksocknal_recv_hello_v2</a>,
        .pro_pack               = <a class="code" href="socklnd__proto_8c.html#a99650e2ddc9f507e9d0bf981265b9bf9">ksocknal_pack_msg_v2</a>,
        .pro_unpack             = <a class="code" href="socklnd__proto_8c.html#ae013ccba97e0f6cb53cf29e0c397b6ca">ksocknal_unpack_msg_v2</a>,
        .pro_queue_tx_msg       = <a class="code" href="socklnd__proto_8c.html#aee54e6326832c74d1e2948732b8be0a4">ksocknal_queue_tx_msg_v2</a>,
        .pro_queue_tx_zcack     = <a class="code" href="socklnd__proto_8c.html#accd9f1613789c7afb99db51bceba8096">ksocknal_queue_tx_zcack_v3</a>,
        .pro_handle_zcreq       = <a class="code" href="socklnd__proto_8c.html#aeef40797e7043438a734cf4a5eff96a1">ksocknal_handle_zcreq</a>,
        .pro_handle_zcack       = <a class="code" href="socklnd__proto_8c.html#af4065e8bfb83af1ae6a84076d1cdab5c">ksocknal_handle_zcack</a>,
        .pro_match_tx           = <a class="code" href="socklnd__proto_8c.html#a925f62a37667af1510f01e38d7bd3a29">ksocknal_match_tx_v3</a>
}
</pre></div>
<p>Definition at line <a class="el" href="socklnd__proto_8c_source.html#l00786">786</a> of file <a class="el" href="socklnd__proto_8c_source.html">socklnd_proto.c</a>.</p>

<p>Referenced by <a class="el" href="socklnd_8c_source.html#l01404">ksocknal_close_conn_locked()</a>, <a class="el" href="socklnd__cb_8c_source.html#l01840">ksocknal_connect()</a>, <a class="el" href="socklnd_8c_source.html#l01016">ksocknal_create_conn()</a>, <a class="el" href="socklnd__proto_8c_source.html#l00405">ksocknal_handle_zcack()</a>, <a class="el" href="socklnd__cb_8c_source.html#l01615">ksocknal_parse_proto_version()</a>, <a class="el" href="socklnd__cb_8c_source.html#l01696">ksocknal_recv_hello()</a>, and <a class="el" href="socklnd__cb_8c_source.html#l02354">ksocknal_send_keepalive_locked()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:46 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
