<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lnet/lnet/router.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lnet/lnet/router.c File Reference</h1><code>#include &lt;<a class="el" href="lib-lnet_8h_source.html">lnet/lib-lnet.h</a>&gt;</code><br/>

<p><a href="router_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LNET</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a3e1ec19150e2ec84bcd8ce7b9f72b588">LNET_NRB_TINY_MIN</a>&nbsp;&nbsp;&nbsp;512</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a66eb8df68b810038fa83dc8eb0f07a52">LNET_NRB_TINY</a>&nbsp;&nbsp;&nbsp;(LNET_NRB_TINY_MIN * 4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a175d583bb28117eb47909f3724727fc6">LNET_NRB_SMALL_MIN</a>&nbsp;&nbsp;&nbsp;4096</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a6bc7ee827787fbbc60e05ec16c8a7db7">LNET_NRB_SMALL</a>&nbsp;&nbsp;&nbsp;(LNET_NRB_SMALL_MIN * 4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a9d535578cea264e53a97d629df845dba">LNET_NRB_SMALL_PAGES</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a08e547140df83e3e7ffb08175330c562">LNET_NRB_LARGE_MIN</a>&nbsp;&nbsp;&nbsp;256</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aa76d6a0cf6de9fb9fcaeebc82740d65d">LNET_NRB_LARGE</a>&nbsp;&nbsp;&nbsp;(LNET_NRB_LARGE_MIN * 4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aa01c76cfeeb8275370924ab7570e089a">LNET_NRB_LARGE_PAGES</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a405e79c747c744ea4836a490a7890aa9">module_param</a> (<a class="el" href="router_8c.html#ab0abfd4b086d30b9fd526d9c1c41b814">forwarding</a>, charp, 0444)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#acac4c3599e0cdb354af335c4dd0f01b8">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#ab0abfd4b086d30b9fd526d9c1c41b814">forwarding</a>,&quot;Explicitly enable/disable <a class="el" href="router_8c.html#ab0abfd4b086d30b9fd526d9c1c41b814">forwarding</a> between <a class="el" href="api-ni_8c.html#ae0d82171f945eecd88c46b0e701129a7">networks</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#abf8ed663cd0cc366f761e01f08e4ab78">module_param</a> (<a class="el" href="router_8c.html#a861198e250de8ba34ff78dd21324e6b6">tiny_router_buffers</a>, int, 0444)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#af52b87bb31706d1411bb5c3b0cbf228d">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#a861198e250de8ba34ff78dd21324e6b6">tiny_router_buffers</a>,&quot;# of 0 payload messages to buffer in the router&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ad4c0740e5613ffe6d250280fcf840a4c">module_param</a> (<a class="el" href="router_8c.html#adbb1c6af0ede0a9cdc6d30f25edc051e">small_router_buffers</a>, int, 0444)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a01f9bd2451cada8e1082b4e511b7763a">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#adbb1c6af0ede0a9cdc6d30f25edc051e">small_router_buffers</a>,&quot;# of small (1 page) messages to buffer in the router&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a6e7b17bcb880ae0cde7284cd6cef1182">module_param</a> (<a class="el" href="router_8c.html#ab4717bd99ba7f98bd5153ebec2a9d3bf">large_router_buffers</a>, int, 0444)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a3472d6b3447722e289f6a5d5fce51694">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#ab4717bd99ba7f98bd5153ebec2a9d3bf">large_router_buffers</a>,&quot;# of large messages to buffer in the router&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ab4f347a3228e89f301bb6efee5af437c">module_param</a> (<a class="el" href="router_8c.html#aa69cc9e4ae40638bc14e7f9479c5c5d1">peer_buffer_credits</a>, int, 0444)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aba473ccdb57bdb69cd9b4e4689773fdf">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#aa69cc9e4ae40638bc14e7f9479c5c5d1">peer_buffer_credits</a>,&quot;# router buffer <a class="el" href="socklnd__modparams_8c.html#aca17d0debc49d011e5c492872fa98b92">credits</a> per peer&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ad01e826b9d9fb7f752c37d806cc26969">module_param</a> (<a class="el" href="router_8c.html#a5f571cf74945a45422a3ace29c78f6a1">auto_down</a>, int, 0444)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a2a095d50a0b0bc1557efb0b436597eb9">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#a5f571cf74945a45422a3ace29c78f6a1">auto_down</a>,&quot;Automatically mark peers down on comms error&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a2147023211f5c6c1a1affe16d13b970c">lnet_peer_buffer_credits</a> (<a class="el" href="structlnet__ni.html">lnet_ni_t</a> *ni)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a1cb6a953877c6f09d88b1786b8fe0cd4">lnet_router_checker</a> (void *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a46f1dd6aa3032c5341baaf8847113d98">module_param</a> (<a class="el" href="router_8c.html#a2bc6042a2f3d6cb826f59402f30b4c31">check_routers_before_use</a>, int, 0444)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a3e8bc055410ea6c1d6d9d26ece10d0c4">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#a2bc6042a2f3d6cb826f59402f30b4c31">check_routers_before_use</a>,&quot;Assume routers are down and ping them before use&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a15e6f995ccabddacdc24f41c87320a7a">module_param</a> (<a class="el" href="router_8c.html#aa3d55d8e0b27b2e1964f5ff64e50adb3">avoid_asym_router_failure</a>, int, 0644)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a75e92b08892277a9ab1cd1f5e4204202">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#aa3d55d8e0b27b2e1964f5ff64e50adb3">avoid_asym_router_failure</a>,&quot;Avoid asymmetrical router failures (0 to disable)&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a495bdd9fdff1b5cd33da5d69d0c79799">module_param</a> (<a class="el" href="router_8c.html#add81ded240db94b7ebd6638e88174656">dead_router_check_interval</a>, int, 0644)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a501e0d86b2a8212f0c3fe7a9f206e593">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#add81ded240db94b7ebd6638e88174656">dead_router_check_interval</a>,&quot;Seconds between dead router health checks (&lt;= 0 to disable)&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aa69e609c04eb86d48d0fd19b2a80e46e">module_param</a> (<a class="el" href="router_8c.html#a9ec62a019a230834fdfb61ec88c9e59a">live_router_check_interval</a>, int, 0644)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ad7ccc8c3701e3f5475c87138d50d7108">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#a9ec62a019a230834fdfb61ec88c9e59a">live_router_check_interval</a>,&quot;Seconds between live router health checks (&lt;= 0 to disable)&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a5e9d1753079f9b92b04058758a2d7dc2">module_param</a> (<a class="el" href="router_8c.html#a98682073707e191c2e4def731ef60cb5">router_ping_timeout</a>, int, 0644)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ad79578ba36a8ef1aa8d4308015ba17ea">MODULE_PARM_DESC</a> (<a class="el" href="router_8c.html#a98682073707e191c2e4def731ef60cb5">router_ping_timeout</a>,&quot;Seconds to wait for the reply to a router health query&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a673379cfb86cd3be09f61b640d045b67">lnet_peers_start_down</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ae93afae01538e838ac249ad20167547d">lnet_notify_locked</a> (<a class="el" href="structlnet__peer.html">lnet_peer_t</a> *lp, int notifylnd, int alive, <a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a> when)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a8727e08c918e808a13a1e1c8565aa42b">lnet_ni_notify_locked</a> (<a class="el" href="structlnet__ni.html">lnet_ni_t</a> *ni, <a class="el" href="structlnet__peer.html">lnet_peer_t</a> *lp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#affedeccb1f1bac966241cbe94fb2194d">lnet_rtr_addref_locked</a> (<a class="el" href="structlnet__peer.html">lnet_peer_t</a> *lp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ad0f3ecfc0c0bdbeab1a36864fea53c11">lnet_rtr_decref_locked</a> (<a class="el" href="structlnet__peer.html">lnet_peer_t</a> *lp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlnet__remotenet__t.html">lnet_remotenet_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a7370346fbe4646b89f84847820f81091">lnet_find_net_locked</a> (__u32 net)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aa14f10ccb5348740c5aa4aa240463a77">lnet_shuffle_seed</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#af37edbfa00839757560b46313b8f8a46">lnet_add_route_to_rnet</a> (<a class="el" href="structlnet__remotenet__t.html">lnet_remotenet_t</a> *rnet, <a class="el" href="structlnet__route__t.html">lnet_route_t</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a51a02e4db38155bb4de902e20c9bde98">lnet_add_route</a> (__u32 net, __u32 hops, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> gateway, unsigned int priority)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a9568c760ed18137279f794834484beca">lnet_check_routes</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a866083631aaceb2489ee39a19fdbf0f4">lnet_del_route</a> (__u32 net, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> gw_nid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ad0da28f0539af074637e61cfc55bad17">lnet_destroy_routes</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a921f6ec912f5323702070564a55b8756">lnet_get_rtr_pool_cfg</a> (int idx, struct <a class="el" href="structlnet__ioctl__pool__cfg.html">lnet_ioctl_pool_cfg</a> *pool_cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ae53dae7e4a49b874b905d11ebfdfede6">lnet_get_route</a> (int idx, __u32 *net, __u32 *hops, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> *gateway, __u32 *alive, __u32 *priority)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a150da8c6c08a31c8f5cb58f664487c9e">lnet_swap_pinginfo</a> (lnet_ping_info_t *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ad944d135cb9aa9f9d32aa52f3a8b6ad6">lnet_parse_rc_info</a> (<a class="el" href="structlnet__rc__data__t.html">lnet_rc_data_t</a> *rcd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">parse router-checker pinginfo, record number of down NIs for remote networks on that router.  <a href="#ad944d135cb9aa9f9d32aa52f3a8b6ad6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a61bfd622b3f8fe7460f155a4ff98032c">lnet_router_checker_event</a> (<a class="el" href="structlnet__event__t.html">lnet_event_t</a> *event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a668c7e527758d2a6251f502897f1df02">lnet_wait_known_routerstate</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a1b3e7c3e48aca657e204a3a6d34c19d1">lnet_router_ni_update_locked</a> (<a class="el" href="structlnet__peer.html">lnet_peer_t</a> *gw, __u32 net)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a53405ea7b776761da2207af5e8a1e32f">lnet_update_ni_status_locked</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a5a0dc8fb28539a81bdcb2fc9f08a0155">lnet_destroy_rc_data</a> (<a class="el" href="structlnet__rc__data__t.html">lnet_rc_data_t</a> *rcd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structlnet__rc__data__t.html">lnet_rc_data_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a4acc47262ecb6df9fef5ff7b8b9aaa37">lnet_create_rc_data_locked</a> (<a class="el" href="structlnet__peer.html">lnet_peer_t</a> *gateway)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#afa539f72ac2458ba6ddb2968abbd988a">lnet_router_check_interval</a> (<a class="el" href="structlnet__peer.html">lnet_peer_t</a> *rtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aaf889adf42eb5f0ad7f6cff2bafa4e93">lnet_ping_router_locked</a> (<a class="el" href="structlnet__peer.html">lnet_peer_t</a> *rtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a85223b333c94826e6c2ef1af87324f34">lnet_router_checker_start</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aa375c6f715dd06ad561da71beb701201">lnet_router_checker_stop</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aa83a84cc1203a91fddc28453f78da700">lnet_prune_rc_data</a> (int wait_unlink)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ae07ae8fa3968881bc11a94e07534094f">lnet_router_checker_active</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ab58935a4ab0f9fc5aa72b6e643a30dee">lnet_destroy_rtrbuf</a> (<a class="el" href="structlnet__rtrbuf__t.html">lnet_rtrbuf_t</a> *rb, int npages)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structlnet__rtrbuf__t.html">lnet_rtrbuf_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a5e4e92fd604ca95fe472afae0cc3b2ba">lnet_new_rtrbuf</a> (<a class="el" href="structlnet__rtrbufpool__t.html">lnet_rtrbufpool_t</a> *rbp, int cpt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a8a7e84bf293006fca72333f66c64b6cf">lnet_rtrpool_free_bufs</a> (<a class="el" href="structlnet__rtrbufpool__t.html">lnet_rtrbufpool_t</a> *rbp, int cpt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#adace7a6b9a242634c01f29de9698e5ec">lnet_rtrpool_adjust_bufs</a> (<a class="el" href="structlnet__rtrbufpool__t.html">lnet_rtrbufpool_t</a> *rbp, int nbufs, int cpt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a70d85495186fb30ee8bf4b4caf569695">lnet_rtrpool_init</a> (<a class="el" href="structlnet__rtrbufpool__t.html">lnet_rtrbufpool_t</a> *rbp, int npages)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ac0a74ac29641a86eaec40b9d5d7d278b">lnet_rtrpools_free</a> (int keep_pools)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a1d4904d820488ce757196febcd1668f1">lnet_nrb_tiny_calculate</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a2a85f36bd03383e7d9785c87ed9791d1">lnet_nrb_small_calculate</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a19733ef06238baa48a680156e72d5155">lnet_nrb_large_calculate</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#adc3b861923903ca7230540c6d0cd8127">lnet_rtrpools_alloc</a> (int im_a_router)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a01a416d8aea290484d3fc52b9e48467f">lnet_rtrpools_adjust_helper</a> (int tiny, int small, int large)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a49b9d97e1afd7ce34533d2e828d2526e">lnet_rtrpools_adjust</a> (int tiny, int small, int large)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ab59e3bad51d6d3a5f8128195bc0e6440">lnet_rtrpools_enable</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#af3719f2910ee820202b19d341b813182">lnet_rtrpools_disable</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a0e85da7ef15e53fd23e993c7a3ab95c8">lnet_notify</a> (<a class="el" href="structlnet__ni.html">lnet_ni_t</a> *ni, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, int alive, <a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a> when)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ab0abfd4b086d30b9fd526d9c1c41b814">forwarding</a> = &quot;&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a861198e250de8ba34ff78dd21324e6b6">tiny_router_buffers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#adbb1c6af0ede0a9cdc6d30f25edc051e">small_router_buffers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#ab4717bd99ba7f98bd5153ebec2a9d3bf">large_router_buffers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aa69cc9e4ae40638bc14e7f9479c5c5d1">peer_buffer_credits</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a5f571cf74945a45422a3ace29c78f6a1">auto_down</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a2bc6042a2f3d6cb826f59402f30b4c31">check_routers_before_use</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#aa3d55d8e0b27b2e1964f5ff64e50adb3">avoid_asym_router_failure</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#add81ded240db94b7ebd6638e88174656">dead_router_check_interval</a> = 60</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a9ec62a019a230834fdfb61ec88c9e59a">live_router_check_interval</a> = 60</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="router_8c.html#a98682073707e191c2e4def731ef60cb5">router_ping_timeout</a> = 50</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="router.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LNET</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00023">23</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa76d6a0cf6de9fb9fcaeebc82740d65d"></a><!-- doxytag: member="router.c::LNET_NRB_LARGE" ref="aa76d6a0cf6de9fb9fcaeebc82740d65d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LNET_NRB_LARGE&nbsp;&nbsp;&nbsp;(LNET_NRB_LARGE_MIN * 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00032">32</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01521">lnet_nrb_large_calculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a08e547140df83e3e7ffb08175330c562"></a><!-- doxytag: member="router.c::LNET_NRB_LARGE_MIN" ref="a08e547140df83e3e7ffb08175330c562" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LNET_NRB_LARGE_MIN&nbsp;&nbsp;&nbsp;256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00031">31</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01521">lnet_nrb_large_calculate()</a>.</p>

</div>
</div>
<a class="anchor" id="aa01c76cfeeb8275370924ab7570e089a"></a><!-- doxytag: member="router.c::LNET_NRB_LARGE_PAGES" ref="aa01c76cfeeb8275370924ab7570e089a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LNET_NRB_LARGE_PAGES</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">((<a class="code" href="group__lnet__md.html#ga3f0473c1f8801dc40fe285939f6d5d0b">LNET_MTU</a> + PAGE_CACHE_SIZE - 1) &gt;&gt; \
                                  PAGE_CACHE_SHIFT)
</pre></div>
<p>Definition at line <a class="el" href="router_8c_source.html#l00033">33</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a6bc7ee827787fbbc60e05ec16c8a7db7"></a><!-- doxytag: member="router.c::LNET_NRB_SMALL" ref="a6bc7ee827787fbbc60e05ec16c8a7db7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LNET_NRB_SMALL&nbsp;&nbsp;&nbsp;(LNET_NRB_SMALL_MIN * 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00029">29</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01502">lnet_nrb_small_calculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a175d583bb28117eb47909f3724727fc6"></a><!-- doxytag: member="router.c::LNET_NRB_SMALL_MIN" ref="a175d583bb28117eb47909f3724727fc6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LNET_NRB_SMALL_MIN&nbsp;&nbsp;&nbsp;4096</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00028">28</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01502">lnet_nrb_small_calculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a9d535578cea264e53a97d629df845dba"></a><!-- doxytag: member="router.c::LNET_NRB_SMALL_PAGES" ref="a9d535578cea264e53a97d629df845dba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LNET_NRB_SMALL_PAGES&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00030">30</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a66eb8df68b810038fa83dc8eb0f07a52"></a><!-- doxytag: member="router.c::LNET_NRB_TINY" ref="a66eb8df68b810038fa83dc8eb0f07a52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LNET_NRB_TINY&nbsp;&nbsp;&nbsp;(LNET_NRB_TINY_MIN * 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00027">27</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01483">lnet_nrb_tiny_calculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a3e1ec19150e2ec84bcd8ce7b9f72b588"></a><!-- doxytag: member="router.c::LNET_NRB_TINY_MIN" ref="a3e1ec19150e2ec84bcd8ce7b9f72b588" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LNET_NRB_TINY_MIN&nbsp;&nbsp;&nbsp;512</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00026">26</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01483">lnet_nrb_tiny_calculate()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a51a02e4db38155bb4de902e20c9bde98"></a><!-- doxytag: member="router.c::lnet_add_route" ref="a51a02e4db38155bb4de902e20c9bde98" args="(__u32 net, __u32 hops, lnet_nid_t gateway, unsigned int priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_add_route </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>hops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>gateway</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>priority</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00296">296</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00291">LIBCFS_ALLOC</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="nidstr_8h_source.html#l00071">libcfs_net2str()</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00666">lnet_t::ln_rc_waitq</a>, <a class="el" href="lib-types_8h_source.html#l00644">lnet_t::ln_shutdown</a>, <a class="el" href="structlnet__lnd.html#a830a44de0dab03bf73f08d887723ad5e">lnet_lnd::lnd_notify</a>, <a class="el" href="router_8c_source.html#l00269">lnet_add_route_to_rnet()</a>, <a class="el" href="router_8c_source.html#l00219">lnet_find_net_locked()</a>, <a class="el" href="api-ni_8c_source.html#l00768">lnet_islocalnet()</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00442">lnet_net2rnethash()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00105">LNET_NETTYP()</a>, <a class="el" href="peer_8c_source.html#l00259">lnet_nid2peer_locked()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="lib-lnet_8h_source.html#l00374">lnet_peer_addref_locked()</a>, <a class="el" href="lib-lnet_8h_source.html#l00383">lnet_peer_decref_locked()</a>, <a class="el" href="lib-dlc_8h_source.html#l00038">LNET_UNDEFINED_HOPS</a>, <a class="el" href="nidstr_8h_source.html#l00046">LOLND</a>, <a class="el" href="lib-types_8h_source.html#l00369">lnet_peer::lp_ni</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="lib-types_8h_source.html#l00403">lnet_route_t::lr_gateway</a>, <a class="el" href="lib-types_8h_source.html#l00407">lnet_route_t::lr_hops</a>, <a class="el" href="lib-types_8h_source.html#l00404">lnet_route_t::lr_net</a>, <a class="el" href="lib-types_8h_source.html#l00408">lnet_route_t::lr_priority</a>, <a class="el" href="lib-types_8h_source.html#l00417">lnet_remotenet_t::lrn_list</a>, <a class="el" href="lib-types_8h_source.html#l00421">lnet_remotenet_t::lrn_net</a>, <a class="el" href="lib-types_8h_source.html#l00419">lnet_remotenet_t::lrn_routes</a>, <a class="el" href="lib-types_8h_source.html#l00285">lnet_ni::ni_lnd</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="config_8c_source.html#l00665">lnet_parse_route()</a>, and <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>.</p>

</div>
</div>
<a class="anchor" id="af37edbfa00839757560b46313b8f8a46"></a><!-- doxytag: member="router.c::lnet_add_route_to_rnet" ref="af37edbfa00839757560b46313b8f8a46" args="(lnet_remotenet_t *rnet, lnet_route_t *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_add_route_to_rnet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__remotenet__t.html">lnet_remotenet_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rnet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlnet__route__t.html">lnet_route_t</a> *&nbsp;</td>
          <td class="paramname"> <em>route</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00269">269</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="prng_8c_source.html#l00078">cfs_rand()</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00614">lnet_t::ln_remote_nets_version</a>, <a class="el" href="router_8c_source.html#l00168">lnet_rtr_addref_locked()</a>, <a class="el" href="router_8c_source.html#l00237">lnet_shuffle_seed()</a>, <a class="el" href="lib-types_8h_source.html#l00377">lnet_peer::lp_routes</a>, <a class="el" href="lib-types_8h_source.html#l00403">lnet_route_t::lr_gateway</a>, <a class="el" href="lib-types_8h_source.html#l00402">lnet_route_t::lr_gwlist</a>, <a class="el" href="lib-types_8h_source.html#l00401">lnet_route_t::lr_list</a>, <a class="el" href="lib-types_8h_source.html#l00419">lnet_remotenet_t::lrn_routes</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00296">lnet_add_route()</a>.</p>

</div>
</div>
<a class="anchor" id="a9568c760ed18137279f794834484beca"></a><!-- doxytag: member="router.c::lnet_check_routes" ref="a9568c760ed18137279f794834484beca" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_check_routes </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00415">415</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="nidstr_8h_source.html#l00071">libcfs_net2str()</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00612">lnet_t::ln_remote_nets_hash</a>, <a class="el" href="lib-lnet_8h_source.html#l00165">lnet_net_lock_current()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-types_8h_source.html#l00413">LNET_REMOTE_NETS_HASH_SIZE</a>, <a class="el" href="lib-types_8h_source.html#l00369">lnet_peer::lp_ni</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="lib-types_8h_source.html#l00403">lnet_route_t::lr_gateway</a>, <a class="el" href="lib-types_8h_source.html#l00421">lnet_remotenet_t::lrn_net</a>, <a class="el" href="lib-types_8h_source.html#l00419">lnet_remotenet_t::lrn_routes</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>, and <a class="el" href="api-ni_8c_source.html#l01516">LNetNIInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a4acc47262ecb6df9fef5ff7b8b9aaa37"></a><!-- doxytag: member="router.c::lnet_create_rc_data_locked" ref="a4acc47262ecb6df9fef5ff7b8b9aaa37" args="(lnet_peer_t *gateway)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structlnet__rc__data__t.html">lnet_rc_data_t</a>* lnet_create_rc_data_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__peer.html">lnet_peer_t</a> *&nbsp;</td>
          <td class="paramname"> <em>gateway</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00899">899</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00291">LIBCFS_ALLOC</a>, <a class="el" href="lib-types_8h_source.html#l00629">lnet_t::ln_rc_eqh</a>, <a class="el" href="router_8c_source.html#l00878">lnet_destroy_rc_data()</a>, <a class="el" href="lib-lnet_8h_source.html#l00392">lnet_isrouter()</a>, <a class="el" href="lib-types_8h_source.html#l00317">LNET_MAX_RTR_NIS</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00476">LNET_MD_THRESH_INF</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00462">LNET_MD_TRUNCATE</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00247">LNET_NI_STATUS_INVALID</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lib-lnet_8h_source.html#l00374">lnet_peer_addref_locked()</a>, <a class="el" href="lib-types_8h_source.html#l00318">LNET_PINGINFO_SIZE</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00319">LNET_UNLINK</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00294">LNetHandleIsInvalid()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00274">LNetInvalidateHandle()</a>, <a class="el" href="lib-md_8c_source.html#l00343">LNetMDBind()</a>, <a class="el" href="lib-md_8c_source.html#l00417">LNetMDUnlink()</a>, <a class="el" href="lib-types_8h_source.html#l00372">lnet_peer::lp_cpt</a>, <a class="el" href="lib-types_8h_source.html#l00353">lnet_peer::lp_ping_notsent</a>, <a class="el" href="lib-types_8h_source.html#l00378">lnet_peer::lp_rcd</a>, <a class="el" href="lib-types_8h_source.html#l00323">lnet_rc_data_t::rcd_gateway</a>, <a class="el" href="lib-types_8h_source.html#l00321">lnet_rc_data_t::rcd_list</a>, <a class="el" href="lib-types_8h_source.html#l00322">lnet_rc_data_t::rcd_mdh</a>, <a class="el" href="lib-types_8h_source.html#l00324">lnet_rc_data_t::rcd_pinginfo</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00981">lnet_ping_router_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a866083631aaceb2489ee39a19fdbf0f4"></a><!-- doxytag: member="router.c::lnet_del_route" ref="a866083631aaceb2489ee39a19fdbf0f4" args="(__u32 net, lnet_nid_t gw_nid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_del_route </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>gw_nid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00472">472</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="nidstr_8h_source.html#l00071">libcfs_net2str()</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00612">lnet_t::ln_remote_nets_hash</a>, <a class="el" href="lib-types_8h_source.html#l00614">lnet_t::ln_remote_nets_version</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00442">lnet_net2rnethash()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="lib-lnet_8h_source.html#l00383">lnet_peer_decref_locked()</a>, <a class="el" href="lib-types_8h_source.html#l00413">LNET_REMOTE_NETS_HASH_SIZE</a>, <a class="el" href="router_8c_source.html#l00195">lnet_rtr_decref_locked()</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="lib-types_8h_source.html#l00403">lnet_route_t::lr_gateway</a>, <a class="el" href="lib-types_8h_source.html#l00402">lnet_route_t::lr_gwlist</a>, <a class="el" href="lib-types_8h_source.html#l00401">lnet_route_t::lr_list</a>, <a class="el" href="lib-types_8h_source.html#l00417">lnet_remotenet_t::lrn_list</a>, <a class="el" href="lib-types_8h_source.html#l00421">lnet_remotenet_t::lrn_net</a>, <a class="el" href="lib-types_8h_source.html#l00419">lnet_remotenet_t::lrn_routes</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00547">lnet_destroy_routes()</a>, <a class="el" href="peer_8c_source.html#l00148">lnet_peer_table_del_rtrs_locked()</a>, and <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a0dc8fb28539a81bdcb2fc9f08a0155"></a><!-- doxytag: member="router.c::lnet_destroy_rc_data" ref="a5a0dc8fb28539a81bdcb2fc9f08a0155" args="(lnet_rc_data_t *rcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_destroy_rc_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__rc__data__t.html">lnet_rc_data_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rcd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00878">878</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00383">lnet_peer_decref_locked()</a>, <a class="el" href="lib-types_8h_source.html#l00318">LNET_PINGINFO_SIZE</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00294">LNetHandleIsInvalid()</a>, <a class="el" href="lib-types_8h_source.html#l00372">lnet_peer::lp_cpt</a>, <a class="el" href="lib-types_8h_source.html#l00323">lnet_rc_data_t::rcd_gateway</a>, <a class="el" href="lib-types_8h_source.html#l00321">lnet_rc_data_t::rcd_list</a>, <a class="el" href="lib-types_8h_source.html#l00322">lnet_rc_data_t::rcd_mdh</a>, and <a class="el" href="lib-types_8h_source.html#l00324">lnet_rc_data_t::rcd_pinginfo</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00899">lnet_create_rc_data_locked()</a>, and <a class="el" href="router_8c_source.html#l01124">lnet_prune_rc_data()</a>.</p>

</div>
</div>
<a class="anchor" id="ad0da28f0539af074637e61cfc55bad17"></a><!-- doxytag: member="router.c::lnet_destroy_routes" ref="ad0da28f0539af074637e61cfc55bad17" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_destroy_routes </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00547">547</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="router_8c_source.html#l00472">lnet_del_route()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01639">LNetNIFini()</a>, and <a class="el" href="api-ni_8c_source.html#l01516">LNetNIInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ab58935a4ab0f9fc5aa72b6e643a30dee"></a><!-- doxytag: member="router.c::lnet_destroy_rtrbuf" ref="ab58935a4ab0f9fc5aa72b6e643a30dee" args="(lnet_rtrbuf_t *rb, int npages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_destroy_rtrbuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__rtrbuf__t.html">lnet_rtrbuf_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>npages</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01299">1299</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00486">lnet_kiov_t::kiov_page</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, and <a class="el" href="lib-types_8h_source.html#l00449">lnet_rtrbuf_t::rb_kiov</a>.</p>

<p>Referenced by <a class="el" href="lib-move_8c_source.html#l01062">lnet_return_rx_credits_locked()</a>, <a class="el" href="router_8c_source.html#l01372">lnet_rtrpool_adjust_bufs()</a>, and <a class="el" href="router_8c_source.html#l01344">lnet_rtrpool_free_bufs()</a>.</p>

</div>
</div>
<a class="anchor" id="a7370346fbe4646b89f84847820f81091"></a><!-- doxytag: member="router.c::lnet_find_net_locked" ref="a7370346fbe4646b89f84847820f81091" args="(__u32 net)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlnet__remotenet__t.html">lnet_remotenet_t</a>* lnet_find_net_locked </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>net</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00219">219</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00644">lnet_t::ln_shutdown</a>, <a class="el" href="lib-lnet_8h_source.html#l00442">lnet_net2rnethash()</a>, <a class="el" href="lib-types_8h_source.html#l00421">lnet_remotenet_t::lrn_net</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00296">lnet_add_route()</a>, <a class="el" href="api-ni_8c_source.html#l01782">lnet_dyn_add_ni()</a>, and <a class="el" href="lib-move_8c_source.html#l01179">lnet_find_route_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="ae53dae7e4a49b874b905d11ebfdfede6"></a><!-- doxytag: member="router.c::lnet_get_route" ref="ae53dae7e4a49b874b905d11ebfdfede6" args="(int idx, __u32 *net, __u32 *hops, lnet_nid_t *gateway, __u32 *alive, __u32 *priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_get_route </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>hops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> *&nbsp;</td>
          <td class="paramname"> <em>gateway</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>alive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>priority</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00589">589</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00612">lnet_t::ln_remote_nets_hash</a>, <a class="el" href="lib-lnet_8h_source.html#l00077">lnet_is_route_alive()</a>, <a class="el" href="lib-lnet_8h_source.html#l00165">lnet_net_lock_current()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-types_8h_source.html#l00413">LNET_REMOTE_NETS_HASH_SIZE</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="lib-types_8h_source.html#l00403">lnet_route_t::lr_gateway</a>, <a class="el" href="lib-types_8h_source.html#l00407">lnet_route_t::lr_hops</a>, <a class="el" href="lib-types_8h_source.html#l00408">lnet_route_t::lr_priority</a>, <a class="el" href="lib-types_8h_source.html#l00421">lnet_remotenet_t::lrn_net</a>, <a class="el" href="lib-types_8h_source.html#l00419">lnet_remotenet_t::lrn_routes</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>.</p>

</div>
</div>
<a class="anchor" id="a921f6ec912f5323702070564a55b8756"></a><!-- doxytag: member="router.c::lnet_get_rtr_pool_cfg" ref="a921f6ec912f5323702070564a55b8756" args="(int idx, struct lnet_ioctl_pool_cfg *pool_cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_get_rtr_pool_cfg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlnet__ioctl__pool__cfg.html">lnet_ioctl_pool_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>pool_cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00552">552</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__cpu_8h_source.html#l00213">cfs_percpt_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00646">lnet_t::ln_routing</a>, <a class="el" href="lib-types_8h_source.html#l00620">lnet_t::ln_rtrpools</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-dlc_8h_source.html#l00078">LNET_NRBPOOLS</a>, <a class="el" href="lib-dlc_8h_source.html#l00084">lnet_ioctl_pool_cfg::pl_credits</a>, <a class="el" href="lib-dlc_8h_source.html#l00085">lnet_ioctl_pool_cfg::pl_mincredits</a>, <a class="el" href="lib-dlc_8h_source.html#l00083">lnet_ioctl_pool_cfg::pl_nbuffers</a>, <a class="el" href="lib-dlc_8h_source.html#l00082">lnet_ioctl_pool_cfg::pl_npages</a>, <a class="el" href="structlnet__ioctl__pool__cfg.html#acae41575b035680bef9af068533c5d57">lnet_ioctl_pool_cfg::pl_pools</a>, <a class="el" href="lib-dlc_8h_source.html#l00087">lnet_ioctl_pool_cfg::pl_routing</a>, <a class="el" href="lib-types_8h_source.html#l00441">lnet_rtrbufpool_t::rbp_credits</a>, <a class="el" href="lib-types_8h_source.html#l00443">lnet_rtrbufpool_t::rbp_mincredits</a>, <a class="el" href="lib-types_8h_source.html#l00439">lnet_rtrbufpool_t::rbp_nbuffers</a>, <a class="el" href="lib-types_8h_source.html#l00435">lnet_rtrbufpool_t::rbp_npages</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e4e92fd604ca95fe472afae0cc3b2ba"></a><!-- doxytag: member="router.c::lnet_new_rtrbuf" ref="a5e4e92fd604ca95fe472afae0cc3b2ba" args="(lnet_rtrbufpool_t *rbp, int cpt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structlnet__rtrbuf__t.html">lnet_rtrbuf_t</a>* lnet_new_rtrbuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__rtrbufpool__t.html">lnet_rtrbufpool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cpt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01310">1310</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__cpu_8h_source.html#l00315">cfs_page_cpt_alloc()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00488">lnet_kiov_t::kiov_len</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00494">lnet_kiov_t::kiov_offset</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00486">lnet_kiov_t::kiov_page</a>, <a class="el" href="libcfs__private_8h_source.html#l00295">LIBCFS_CPT_ALLOC</a>, <a class="el" href="libcfs__private_8h_source.html#l00290">LIBCFS_FREE</a>, <a class="el" href="lib-lnet_8h_source.html#l00118">lnet_cpt_table</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="lib-types_8h_source.html#l00449">lnet_rtrbuf_t::rb_kiov</a>, <a class="el" href="lib-types_8h_source.html#l00448">lnet_rtrbuf_t::rb_pool</a>, and <a class="el" href="lib-types_8h_source.html#l00435">lnet_rtrbufpool_t::rbp_npages</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01372">lnet_rtrpool_adjust_bufs()</a>.</p>

</div>
</div>
<a class="anchor" id="a8727e08c918e808a13a1e1c8565aa42b"></a><!-- doxytag: member="router.c::lnet_ni_notify_locked" ref="a8727e08c918e808a13a1e1c8565aa42b" args="(lnet_ni_t *ni, lnet_peer_t *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_ni_notify_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__ni.html">lnet_ni_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ni</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlnet__peer.html">lnet_peer_t</a> *&nbsp;</td>
          <td class="paramname"> <em>lp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00130">130</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="structlnet__lnd.html#a830a44de0dab03bf73f08d887723ad5e">lnet_lnd::lnd_notify</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-types_8h_source.html#l00345">lnet_peer::lp_alive</a>, <a class="el" href="lib-types_8h_source.html#l00372">lnet_peer::lp_cpt</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="lib-types_8h_source.html#l00347">lnet_peer::lp_notify</a>, <a class="el" href="lib-types_8h_source.html#l00351">lnet_peer::lp_notifying</a>, <a class="el" href="lib-types_8h_source.html#l00349">lnet_peer::lp_notifylnd</a>, and <a class="el" href="lib-types_8h_source.html#l00285">lnet_ni::ni_lnd</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01721">lnet_notify()</a>, and <a class="el" href="router_8c_source.html#l00981">lnet_ping_router_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a0e85da7ef15e53fd23e993c7a3ab95c8"></a><!-- doxytag: member="router.c::lnet_notify" ref="a0e85da7ef15e53fd23e993c7a3ab95c8" args="(lnet_ni_t *ni, lnet_nid_t nid, int alive, cfs_time_t when)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__ni.html">lnet_ni_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ni</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>alive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a>&nbsp;</td>
          <td class="paramname"> <em>when</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01721">1721</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="router_8c_source.html#l00053">auto_down</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00188">cfs_duration_sec()</a>, <a class="el" href="libcfs__time_8h_source.html#l00056">cfs_time_after()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="libcfs__time_8h_source.html#l00051">cfs_time_sub()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lib-types_8h_source.html#l00598">lnet_t::ln_peer_tables</a>, <a class="el" href="lib-types_8h_source.html#l00644">lnet_t::ln_shutdown</a>, <a class="el" href="api-ni_8c_source.html#l00748">lnet_cpt_of_nid()</a>, <a class="el" href="peer_8c_source.html#l00240">lnet_find_peer_locked()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="router_8c_source.html#l00130">lnet_ni_notify_locked()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="router_8c_source.html#l00101">lnet_notify_locked()</a>, <a class="el" href="lib-lnet_8h_source.html#l00383">lnet_peer_decref_locked()</a>, <a class="el" href="lib-types_8h_source.html#l00365">lnet_peer::lp_last_alive</a>, <a class="el" href="lib-types_8h_source.html#l00283">lnet_ni::ni_nid</a>, <a class="el" href="createmany_8c_source.html#l00069">now()</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="gnilnd__conn_8c_source.html#l01779">kgnilnd_finish_connect()</a>, <a class="el" href="gnilnd_8c_source.html#l00512">kgnilnd_peer_notify()</a>, <a class="el" href="o2iblnd__cb_8c_source.html#l01859">kiblnd_peer_notify()</a>, <a class="el" href="socklnd_8c_source.html#l01492">ksocknal_peer_failed()</a>, and <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>.</p>

</div>
</div>
<a class="anchor" id="ae93afae01538e838ac249ad20167547d"></a><!-- doxytag: member="router.c::lnet_notify_locked" ref="ae93afae01538e838ac249ad20167547d" args="(lnet_peer_t *lp, int notifylnd, int alive, cfs_time_t when)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_notify_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__peer.html">lnet_peer_t</a> *&nbsp;</td>
          <td class="paramname"> <em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>notifylnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>alive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a>&nbsp;</td>
          <td class="paramname"> <em>when</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00101">101</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00142">cfs_time_before()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lib-types_8h_source.html#l00300">LNET_PING_FEAT_INVAL</a>, <a class="el" href="lib-types_8h_source.html#l00345">lnet_peer::lp_alive</a>, <a class="el" href="lib-types_8h_source.html#l00355">lnet_peer::lp_alive_count</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="lib-types_8h_source.html#l00347">lnet_peer::lp_notify</a>, <a class="el" href="lib-types_8h_source.html#l00349">lnet_peer::lp_notifylnd</a>, <a class="el" href="lib-types_8h_source.html#l00363">lnet_peer::lp_ping_deadline</a>, <a class="el" href="lib-types_8h_source.html#l00376">lnet_peer::lp_ping_feats</a>, and <a class="el" href="lib-types_8h_source.html#l00359">lnet_peer::lp_timestamp</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01721">lnet_notify()</a>, <a class="el" href="lib-move_8c_source.html#l00733">lnet_peer_alive_locked()</a>, <a class="el" href="lib-move_8c_source.html#l00700">lnet_peer_is_alive()</a>, <a class="el" href="lib-lnet_8h_source.html#l00758">lnet_peer_set_alive()</a>, <a class="el" href="router_8c_source.html#l00981">lnet_ping_router_locked()</a>, and <a class="el" href="router_8c_source.html#l00738">lnet_router_checker_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a19733ef06238baa48a680156e72d5155"></a><!-- doxytag: member="router.c::lnet_nrb_large_calculate" ref="a19733ef06238baa48a680156e72d5155" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_nrb_large_calculate </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01521">1521</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="router_8c_source.html#l00046">large_router_buffers</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lib-lnet_8h_source.html#l00070">LNET_CPT_NUMBER</a>, <a class="el" href="router_8c_source.html#l00032">LNET_NRB_LARGE</a>, <a class="el" href="router_8c_source.html#l00031">LNET_NRB_LARGE_MIN</a>, and <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01618">lnet_rtrpools_adjust_helper()</a>, and <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a85f36bd03383e7d9785c87ed9791d1"></a><!-- doxytag: member="router.c::lnet_nrb_small_calculate" ref="a2a85f36bd03383e7d9785c87ed9791d1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_nrb_small_calculate </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01502">1502</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lib-lnet_8h_source.html#l00070">LNET_CPT_NUMBER</a>, <a class="el" href="router_8c_source.html#l00029">LNET_NRB_SMALL</a>, <a class="el" href="router_8c_source.html#l00028">LNET_NRB_SMALL_MIN</a>, <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, and <a class="el" href="router_8c_source.html#l00043">small_router_buffers</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01618">lnet_rtrpools_adjust_helper()</a>, and <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d4904d820488ce757196febcd1668f1"></a><!-- doxytag: member="router.c::lnet_nrb_tiny_calculate" ref="a1d4904d820488ce757196febcd1668f1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_nrb_tiny_calculate </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01483">1483</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lib-lnet_8h_source.html#l00070">LNET_CPT_NUMBER</a>, <a class="el" href="router_8c_source.html#l00027">LNET_NRB_TINY</a>, <a class="el" href="router_8c_source.html#l00026">LNET_NRB_TINY_MIN</a>, <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, and <a class="el" href="router_8c_source.html#l00040">tiny_router_buffers</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01618">lnet_rtrpools_adjust_helper()</a>, and <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ad944d135cb9aa9f9d32aa52f3a8b6ad6"></a><!-- doxytag: member="router.c::lnet_parse_rc_info" ref="ad944d135cb9aa9f9d32aa52f3a8b6ad6" args="(lnet_rc_data_t *rcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_parse_rc_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__rc__data__t.html">lnet_rc_data_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rcd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>parse router-checker pinginfo, record number of down NIs for remote networks on that router. </p>

<p>Definition at line <a class="el" href="router_8c_source.html#l00651">651</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00039">__swab32</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lib-types_8h_source.html#l00317">LNET_MAX_RTR_NIS</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00105">LNET_NETTYP()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00246">LNET_NI_STATUS_DOWN</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00245">LNET_NI_STATUS_UP</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="lib-types_8h_source.html#l00300">LNET_PING_FEAT_INVAL</a>, <a class="el" href="lib-types_8h_source.html#l00305">LNET_PING_FEAT_MASK</a>, <a class="el" href="lib-types_8h_source.html#l00302">LNET_PING_FEAT_NI_STATUS</a>, <a class="el" href="lib-types_8h_source.html#l00303">LNET_PING_FEAT_RTE_DISABLED</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00212">LNET_PROTO_PING_MAGIC</a>, <a class="el" href="router_8c_source.html#l00629">lnet_swap_pinginfo()</a>, <a class="el" href="nidstr_8h_source.html#l00046">LOLND</a>, <a class="el" href="lib-types_8h_source.html#l00345">lnet_peer::lp_alive</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="lib-types_8h_source.html#l00376">lnet_peer::lp_ping_feats</a>, <a class="el" href="lib-types_8h_source.html#l00377">lnet_peer::lp_routes</a>, <a class="el" href="lib-types_8h_source.html#l00406">lnet_route_t::lr_downis</a>, <a class="el" href="lib-types_8h_source.html#l00407">lnet_route_t::lr_hops</a>, <a class="el" href="lib-types_8h_source.html#l00404">lnet_route_t::lr_net</a>, <a class="el" href="lib-types_8h_source.html#l00323">lnet_rc_data_t::rcd_gateway</a>, and <a class="el" href="lib-types_8h_source.html#l00324">lnet_rc_data_t::rcd_pinginfo</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00738">lnet_router_checker_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a2147023211f5c6c1a1affe16d13b970c"></a><!-- doxytag: member="router.c::lnet_peer_buffer_credits" ref="a2147023211f5c6c1a1affe16d13b970c" args="(lnet_ni_t *ni)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_peer_buffer_credits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__ni.html">lnet_ni_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ni</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00058">58</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="lib-types_8h_source.html#l00278">lnet_ni::ni_peerrtrcredits</a>, <a class="el" href="lib-types_8h_source.html#l00276">lnet_ni::ni_peertxcredits</a>, and <a class="el" href="router_8c_source.html#l00049">peer_buffer_credits</a>.</p>

<p>Referenced by <a class="el" href="peer_8c_source.html#l00259">lnet_nid2peer_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a673379cfb86cd3be09f61b640d045b67"></a><!-- doxytag: member="router.c::lnet_peers_start_down" ref="a673379cfb86cd3be09f61b640d045b67" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_peers_start_down </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00095">95</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="router_8c_source.html#l00074">check_routers_before_use</a>.</p>

<p>Referenced by <a class="el" href="peer_8c_source.html#l00259">lnet_nid2peer_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf889adf42eb5f0ad7f6cff2bafa4e93"></a><!-- doxytag: member="router.c::lnet_ping_router_locked" ref="aaf889adf42eb5f0ad7f6cff2bafa4e93" args="(lnet_peer_t *rtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_ping_router_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__peer.html">lnet_peer_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rtr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00981">981</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__time_8h_source.html#l00046">cfs_time_add()</a>, <a class="el" href="libcfs__time_8h_source.html#l00056">cfs_time_after()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__time_8h_source.html#l00067">cfs_time_shift()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01236">libcfs_id2str()</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lib-types_8h_source.html#l00627">lnet_t::ln_rc_state</a>, <a class="el" href="router_8c_source.html#l00899">lnet_create_rc_data_locked()</a>, <a class="el" href="lib-lnet_8h_source.html#l00392">lnet_isrouter()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="router_8c_source.html#l00130">lnet_ni_notify_locked()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="router_8c_source.html#l00101">lnet_notify_locked()</a>, <a class="el" href="lib-lnet_8h_source.html#l00374">lnet_peer_addref_locked()</a>, <a class="el" href="lib-lnet_8h_source.html#l00383">lnet_peer_decref_locked()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00078">LNET_PID_LUSTRE</a>, <a class="el" href="lib-types_8h_source.html#l00296">LNET_PROTO_PING_MATCHBITS</a>, <a class="el" href="lib-types_8h_source.html#l00564">LNET_RC_STATE_RUNNING</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00052">LNET_RESERVED_PORTAL</a>, <a class="el" href="router_8c_source.html#l00968">lnet_router_check_interval()</a>, <a class="el" href="lib-move_8c_source.html#l02368">LNetGet()</a>, <a class="el" href="lib-types_8h_source.html#l00345">lnet_peer::lp_alive</a>, <a class="el" href="lib-types_8h_source.html#l00355">lnet_peer::lp_alive_count</a>, <a class="el" href="lib-types_8h_source.html#l00372">lnet_peer::lp_cpt</a>, <a class="el" href="lib-types_8h_source.html#l00369">lnet_peer::lp_ni</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="lib-types_8h_source.html#l00363">lnet_peer::lp_ping_deadline</a>, <a class="el" href="lib-types_8h_source.html#l00353">lnet_peer::lp_ping_notsent</a>, <a class="el" href="lib-types_8h_source.html#l00361">lnet_peer::lp_ping_timestamp</a>, <a class="el" href="lib-types_8h_source.html#l00378">lnet_peer::lp_rcd</a>, <a class="el" href="createmany_8c_source.html#l00069">now()</a>, <a class="el" href="lib-types_8h_source.html#l00322">lnet_rc_data_t::rcd_mdh</a>, <a class="el" href="router_8c_source.html#l00090">router_ping_timeout</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01230">lnet_router_checker()</a>.</p>

</div>
</div>
<a class="anchor" id="aa83a84cc1203a91fddc28453f78da700"></a><!-- doxytag: member="router.c::lnet_prune_rc_data" ref="aa83a84cc1203a91fddc28453f78da700" args="(int wait_unlink)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_prune_rc_data </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wait_unlink</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01124">1124</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="libcfs__debug_8h_source.html#l00139">D_WARNING</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00137">list_move()</a>, <a class="el" href="list_8h_source.html#l00227">list_splice_init()</a>, <a class="el" href="lib-types_8h_source.html#l00627">lnet_t::ln_rc_state</a>, <a class="el" href="lib-types_8h_source.html#l00631">lnet_t::ln_rcd_deathrow</a>, <a class="el" href="lib-types_8h_source.html#l00633">lnet_t::ln_rcd_zombie</a>, <a class="el" href="lib-types_8h_source.html#l00616">lnet_t::ln_routers</a>, <a class="el" href="router_8c_source.html#l00878">lnet_destroy_rc_data()</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-types_8h_source.html#l00564">LNET_RC_STATE_RUNNING</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00294">LNetHandleIsInvalid()</a>, <a class="el" href="lib-md_8c_source.html#l00417">LNetMDUnlink()</a>, <a class="el" href="lib-types_8h_source.html#l00378">lnet_peer::lp_rcd</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="lib-types_8h_source.html#l00321">lnet_rc_data_t::rcd_list</a>, <a class="el" href="lib-types_8h_source.html#l00322">lnet_rc_data_t::rcd_mdh</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01230">lnet_router_checker()</a>.</p>

</div>
</div>
<a class="anchor" id="afa539f72ac2458ba6ddb2968abbd988a"></a><!-- doxytag: member="router.c::lnet_router_check_interval" ref="afa539f72ac2458ba6ddb2968abbd988a" args="(lnet_peer_t *rtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_router_check_interval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__peer.html">lnet_peer_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rtr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00968">968</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="router_8c_source.html#l00082">dead_router_check_interval</a>, <a class="el" href="router_8c_source.html#l00086">live_router_check_interval</a>, and <a class="el" href="lib-types_8h_source.html#l00345">lnet_peer::lp_alive</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00981">lnet_ping_router_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a1cb6a953877c6f09d88b1786b8fe0cd4"></a><!-- doxytag: member="router.c::lnet_router_checker" ref="a1cb6a953877c6f09d88b1786b8fe0cd4" args="(void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_router_checker </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01230">1230</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="linux-prim_8c_source.html#l00088">cfs_block_allsigs()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00635">lnet_t::ln_rc_signal</a>, <a class="el" href="lib-types_8h_source.html#l00627">lnet_t::ln_rc_state</a>, <a class="el" href="lib-types_8h_source.html#l00666">lnet_t::ln_rc_waitq</a>, <a class="el" href="lib-types_8h_source.html#l00616">lnet_t::ln_routers</a>, <a class="el" href="lib-types_8h_source.html#l00618">lnet_t::ln_routers_version</a>, <a class="el" href="lib-types_8h_source.html#l00646">lnet_t::ln_routing</a>, <a class="el" href="api-ni_8c_source.html#l00724">lnet_cpt_of_nid_locked()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00165">lnet_net_lock_current()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="router_8c_source.html#l00981">lnet_ping_router_locked()</a>, <a class="el" href="router_8c_source.html#l01124">lnet_prune_rc_data()</a>, <a class="el" href="lib-types_8h_source.html#l00564">LNET_RC_STATE_RUNNING</a>, <a class="el" href="lib-types_8h_source.html#l00563">LNET_RC_STATE_SHUTDOWN</a>, <a class="el" href="router_8c_source.html#l01214">lnet_router_checker_active()</a>, <a class="el" href="router_8c_source.html#l00838">lnet_update_ni_status_locked()</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="packet-lnet_8c_source.html#l00255">version</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01054">lnet_router_checker_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ae07ae8fa3968881bc11a94e07534094f"></a><!-- doxytag: member="router.c::lnet_router_checker_active" ref="ae07ae8fa3968881bc11a94e07534094f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lnet_router_checker_active </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01214">1214</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="router_8c_source.html#l00082">dead_router_check_interval</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="router_8c_source.html#l00086">live_router_check_interval</a>, <a class="el" href="lib-types_8h_source.html#l00627">lnet_t::ln_rc_state</a>, <a class="el" href="lib-types_8h_source.html#l00616">lnet_t::ln_routers</a>, <a class="el" href="lib-types_8h_source.html#l00646">lnet_t::ln_routing</a>, <a class="el" href="lib-types_8h_source.html#l00564">LNET_RC_STATE_RUNNING</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01230">lnet_router_checker()</a>.</p>

</div>
</div>
<a class="anchor" id="a61bfd622b3f8fe7460f155a4ff98032c"></a><!-- doxytag: member="router.c::lnet_router_checker_event" ref="a61bfd622b3f8fe7460f155a4ff98032c" args="(lnet_event_t *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_router_checker_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__event__t.html">lnet_event_t</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00738">738</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="router_8c_source.html#l00078">avoid_asym_router_failure</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00517">LNET_EVENT_REPLY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00533">LNET_EVENT_SEND</a>, <a class="el" href="lib-lnet_8h_source.html#l00392">lnet_isrouter()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="router_8c_source.html#l00101">lnet_notify_locked()</a>, <a class="el" href="router_8c_source.html#l00651">lnet_parse_rc_info()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00274">LNetInvalidateHandle()</a>, <a class="el" href="lib-types_8h_source.html#l00372">lnet_peer::lp_cpt</a>, <a class="el" href="lib-types_8h_source.html#l00353">lnet_peer::lp_ping_notsent</a>, <a class="el" href="lib-types_8h_source.html#l00378">lnet_peer::lp_rcd</a>, <a class="el" href="lib-types_8h_source.html#l00323">lnet_rc_data_t::rcd_gateway</a>, <a class="el" href="lib-types_8h_source.html#l00322">lnet_rc_data_t::rcd_mdh</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00596">lnet_event_t::status</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00561">lnet_event_t::type</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00603">lnet_event_t::unlinked</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01054">lnet_router_checker_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a85223b333c94826e6c2ef1af87324f34"></a><!-- doxytag: member="router.c::lnet_router_checker_start" ref="a85223b333c94826e6c2ef1af87324f34" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_router_checker_start </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01054">1054</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="router_8c_source.html#l00074">check_routers_before_use</a>, <a class="el" href="router_8c_source.html#l00082">dead_router_check_interval</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lib-types_8h_source.html#l00629">lnet_t::ln_rc_eqh</a>, <a class="el" href="lib-types_8h_source.html#l00635">lnet_t::ln_rc_signal</a>, <a class="el" href="lib-types_8h_source.html#l00627">lnet_t::ln_rc_state</a>, <a class="el" href="lib-types_8h_source.html#l00564">LNET_RC_STATE_RUNNING</a>, <a class="el" href="lib-types_8h_source.html#l00563">LNET_RC_STATE_SHUTDOWN</a>, <a class="el" href="router_8c_source.html#l01230">lnet_router_checker()</a>, <a class="el" href="router_8c_source.html#l00738">lnet_router_checker_event()</a>, <a class="el" href="router_8c_source.html#l00791">lnet_wait_known_routerstate()</a>, <a class="el" href="lib-eq_8c_source.html#l00070">LNetEQAlloc()</a>, <a class="el" href="lib-eq_8c_source.html#l00156">LNetEQFree()</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01516">LNetNIInit()</a>.</p>

</div>
</div>
<a class="anchor" id="aa375c6f715dd06ad561da71beb701201"></a><!-- doxytag: member="router.c::lnet_router_checker_stop" ref="aa375c6f715dd06ad561da71beb701201" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_router_checker_stop </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01102">1102</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lib-types_8h_source.html#l00629">lnet_t::ln_rc_eqh</a>, <a class="el" href="lib-types_8h_source.html#l00635">lnet_t::ln_rc_signal</a>, <a class="el" href="lib-types_8h_source.html#l00627">lnet_t::ln_rc_state</a>, <a class="el" href="lib-types_8h_source.html#l00666">lnet_t::ln_rc_waitq</a>, <a class="el" href="lib-types_8h_source.html#l00564">LNET_RC_STATE_RUNNING</a>, <a class="el" href="lib-types_8h_source.html#l00563">LNET_RC_STATE_SHUTDOWN</a>, <a class="el" href="lib-types_8h_source.html#l00565">LNET_RC_STATE_STOPPING</a>, <a class="el" href="lib-eq_8c_source.html#l00156">LNetEQFree()</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01639">LNetNIFini()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b3e7c3e48aca657e204a3a6d34c19d1"></a><!-- doxytag: member="router.c::lnet_router_ni_update_locked" ref="a1b3e7c3e48aca657e204a3a6d34c19d1" args="(lnet_peer_t *gw, __u32 net)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_router_ni_update_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__peer.html">lnet_peer_t</a> *&nbsp;</td>
          <td class="paramname"> <em>gw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>net</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00823">823</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lib-types_8h_source.html#l00302">LNET_PING_FEAT_NI_STATUS</a>, <a class="el" href="lib-types_8h_source.html#l00376">lnet_peer::lp_ping_feats</a>, <a class="el" href="lib-types_8h_source.html#l00377">lnet_peer::lp_routes</a>, <a class="el" href="lib-types_8h_source.html#l00406">lnet_route_t::lr_downis</a>, and <a class="el" href="lib-types_8h_source.html#l00404">lnet_route_t::lr_net</a>.</p>

<p>Referenced by <a class="el" href="lib-move_8c_source.html#l01815">lnet_parse()</a>.</p>

</div>
</div>
<a class="anchor" id="affedeccb1f1bac966241cbe94fb2194d"></a><!-- doxytag: member="router.c::lnet_rtr_addref_locked" ref="affedeccb1f1bac966241cbe94fb2194d" args="(lnet_peer_t *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_rtr_addref_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__peer.html">lnet_peer_t</a> *&nbsp;</td>
          <td class="paramname"> <em>lp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00168">168</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00449">list_for_each_prev</a>, <a class="el" href="lib-types_8h_source.html#l00616">lnet_t::ln_routers</a>, <a class="el" href="lib-types_8h_source.html#l00618">lnet_t::ln_routers_version</a>, <a class="el" href="lib-lnet_8h_source.html#l00374">lnet_peer_addref_locked()</a>, <a class="el" href="lib-types_8h_source.html#l00370">lnet_peer::lp_nid</a>, <a class="el" href="lib-types_8h_source.html#l00371">lnet_peer::lp_refcount</a>, <a class="el" href="lib-types_8h_source.html#l00335">lnet_peer::lp_rtr_list</a>, <a class="el" href="lib-types_8h_source.html#l00374">lnet_peer::lp_rtr_refcount</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00269">lnet_add_route_to_rnet()</a>.</p>

</div>
</div>
<a class="anchor" id="ad0f3ecfc0c0bdbeab1a36864fea53c11"></a><!-- doxytag: member="router.c::lnet_rtr_decref_locked" ref="ad0f3ecfc0c0bdbeab1a36864fea53c11" args="(lnet_peer_t *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_rtr_decref_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__peer.html">lnet_peer_t</a> *&nbsp;</td>
          <td class="paramname"> <em>lp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00195">195</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lib-types_8h_source.html#l00631">lnet_t::ln_rcd_deathrow</a>, <a class="el" href="lib-types_8h_source.html#l00618">lnet_t::ln_routers_version</a>, <a class="el" href="lib-lnet_8h_source.html#l00383">lnet_peer_decref_locked()</a>, <a class="el" href="lib-types_8h_source.html#l00378">lnet_peer::lp_rcd</a>, <a class="el" href="lib-types_8h_source.html#l00371">lnet_peer::lp_refcount</a>, <a class="el" href="lib-types_8h_source.html#l00377">lnet_peer::lp_routes</a>, <a class="el" href="lib-types_8h_source.html#l00335">lnet_peer::lp_rtr_list</a>, <a class="el" href="lib-types_8h_source.html#l00374">lnet_peer::lp_rtr_refcount</a>, <a class="el" href="lib-types_8h_source.html#l00321">lnet_rc_data_t::rcd_list</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00472">lnet_del_route()</a>.</p>

</div>
</div>
<a class="anchor" id="adace7a6b9a242634c01f29de9698e5ec"></a><!-- doxytag: member="router.c::lnet_rtrpool_adjust_bufs" ref="adace7a6b9a242634c01f29de9698e5ec" args="(lnet_rtrbufpool_t *rbp, int nbufs, int cpt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_rtrpool_adjust_bufs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__rtrbufpool__t.html">lnet_rtrbufpool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nbufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cpt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01372">1372</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00213">list_splice_tail()</a>, <a class="el" href="router_8c_source.html#l01299">lnet_destroy_rtrbuf()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="router_8c_source.html#l01310">lnet_new_rtrbuf()</a>, <a class="el" href="lib-move_8c_source.html#l01025">lnet_schedule_blocked_locked()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="lib-types_8h_source.html#l00431">lnet_rtrbufpool_t::rbp_bufs</a>, <a class="el" href="lib-types_8h_source.html#l00441">lnet_rtrbufpool_t::rbp_credits</a>, <a class="el" href="lib-types_8h_source.html#l00443">lnet_rtrbufpool_t::rbp_mincredits</a>, <a class="el" href="lib-types_8h_source.html#l00433">lnet_rtrbufpool_t::rbp_msgs</a>, <a class="el" href="lib-types_8h_source.html#l00439">lnet_rtrbufpool_t::rbp_nbuffers</a>, <a class="el" href="lib-types_8h_source.html#l00435">lnet_rtrbufpool_t::rbp_npages</a>, and <a class="el" href="lib-types_8h_source.html#l00437">lnet_rtrbufpool_t::rbp_req_nbuffers</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01618">lnet_rtrpools_adjust_helper()</a>, and <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a7e84bf293006fca72333f66c64b6cf"></a><!-- doxytag: member="router.c::lnet_rtrpool_free_bufs" ref="a8a7e84bf293006fca72333f66c64b6cf" args="(lnet_rtrbufpool_t *rbp, int cpt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_rtrpool_free_bufs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__rtrbufpool__t.html">lnet_rtrbufpool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cpt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01344">1344</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00227">list_splice_init()</a>, <a class="el" href="router_8c_source.html#l01299">lnet_destroy_rtrbuf()</a>, <a class="el" href="lib-move_8c_source.html#l01039">lnet_drop_routed_msgs_locked()</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="lib-types_8h_source.html#l00447">lnet_rtrbuf_t::rb_list</a>, <a class="el" href="lib-types_8h_source.html#l00431">lnet_rtrbufpool_t::rbp_bufs</a>, <a class="el" href="lib-types_8h_source.html#l00441">lnet_rtrbufpool_t::rbp_credits</a>, <a class="el" href="lib-types_8h_source.html#l00443">lnet_rtrbufpool_t::rbp_mincredits</a>, <a class="el" href="lib-types_8h_source.html#l00433">lnet_rtrbufpool_t::rbp_msgs</a>, <a class="el" href="lib-types_8h_source.html#l00439">lnet_rtrbufpool_t::rbp_nbuffers</a>, <a class="el" href="lib-types_8h_source.html#l00435">lnet_rtrbufpool_t::rbp_npages</a>, and <a class="el" href="lib-types_8h_source.html#l00437">lnet_rtrbufpool_t::rbp_req_nbuffers</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01462">lnet_rtrpools_free()</a>.</p>

</div>
</div>
<a class="anchor" id="a70d85495186fb30ee8bf4b4caf569695"></a><!-- doxytag: member="router.c::lnet_rtrpool_init" ref="a70d85495186fb30ee8bf4b4caf569695" args="(lnet_rtrbufpool_t *rbp, int npages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_rtrpool_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__rtrbufpool__t.html">lnet_rtrbufpool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>npages</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01451">1451</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lib-types_8h_source.html#l00431">lnet_rtrbufpool_t::rbp_bufs</a>, <a class="el" href="lib-types_8h_source.html#l00441">lnet_rtrbufpool_t::rbp_credits</a>, <a class="el" href="lib-types_8h_source.html#l00443">lnet_rtrbufpool_t::rbp_mincredits</a>, <a class="el" href="lib-types_8h_source.html#l00433">lnet_rtrbufpool_t::rbp_msgs</a>, and <a class="el" href="lib-types_8h_source.html#l00435">lnet_rtrbufpool_t::rbp_npages</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a49b9d97e1afd7ce34533d2e828d2526e"></a><!-- doxytag: member="router.c::lnet_rtrpools_adjust" ref="a49b9d97e1afd7ce34533d2e828d2526e" args="(int tiny, int small, int large)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_rtrpools_adjust </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tiny</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>small</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>large</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01662">1662</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="lib-types_8h_source.html#l00646">lnet_t::ln_routing</a>, <a class="el" href="router_8c_source.html#l01618">lnet_rtrpools_adjust_helper()</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>.</p>

</div>
</div>
<a class="anchor" id="a01a416d8aea290484d3fc52b9e48467f"></a><!-- doxytag: member="router.c::lnet_rtrpools_adjust_helper" ref="a01a416d8aea290484d3fc52b9e48467f" args="(int tiny, int small, int large)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lnet_rtrpools_adjust_helper </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tiny</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>small</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>large</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01618">1618</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__cpu_8h_source.html#l00213">cfs_percpt_for_each</a>, <a class="el" href="router_8c_source.html#l00046">large_router_buffers</a>, <a class="el" href="lib-types_8h_source.html#l00620">lnet_t::ln_rtrpools</a>, <a class="el" href="lib-dlc_8h_source.html#l00075">LNET_LARGE_BUF_IDX</a>, <a class="el" href="router_8c_source.html#l01521">lnet_nrb_large_calculate()</a>, <a class="el" href="router_8c_source.html#l01502">lnet_nrb_small_calculate()</a>, <a class="el" href="router_8c_source.html#l01483">lnet_nrb_tiny_calculate()</a>, <a class="el" href="router_8c_source.html#l01372">lnet_rtrpool_adjust_bufs()</a>, <a class="el" href="lib-dlc_8h_source.html#l00074">LNET_SMALL_BUF_IDX</a>, <a class="el" href="lib-dlc_8h_source.html#l00073">LNET_TINY_BUF_IDX</a>, <a class="el" href="router_8c_source.html#l00043">small_router_buffers</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="router_8c_source.html#l00040">tiny_router_buffers</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01662">lnet_rtrpools_adjust()</a>, and <a class="el" href="router_8c_source.html#l01675">lnet_rtrpools_enable()</a>.</p>

</div>
</div>
<a class="anchor" id="adc3b861923903ca7230540c6d0cd8127"></a><!-- doxytag: member="router.c::lnet_rtrpools_alloc" ref="adc3b861923903ca7230540c6d0cd8127" args="(int im_a_router)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_rtrpools_alloc </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>im_a_router</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01540">1540</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__mem_8c_source.html#l00078">cfs_percpt_alloc()</a>, <a class="el" href="libcfs__cpu_8h_source.html#l00213">cfs_percpt_for_each</a>, <a class="el" href="router_8c_source.html#l00036">forwarding</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lib-types_8h_source.html#l00646">lnet_t::ln_routing</a>, <a class="el" href="lib-types_8h_source.html#l00620">lnet_t::ln_rtrpools</a>, <a class="el" href="lib-lnet_8h_source.html#l00118">lnet_cpt_table</a>, <a class="el" href="lib-dlc_8h_source.html#l00075">LNET_LARGE_BUF_IDX</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="router_8c_source.html#l01521">lnet_nrb_large_calculate()</a>, <a class="el" href="router_8c_source.html#l00033">LNET_NRB_LARGE_PAGES</a>, <a class="el" href="router_8c_source.html#l01502">lnet_nrb_small_calculate()</a>, <a class="el" href="router_8c_source.html#l00030">LNET_NRB_SMALL_PAGES</a>, <a class="el" href="router_8c_source.html#l01483">lnet_nrb_tiny_calculate()</a>, <a class="el" href="lib-dlc_8h_source.html#l00078">LNET_NRBPOOLS</a>, <a class="el" href="router_8c_source.html#l01372">lnet_rtrpool_adjust_bufs()</a>, <a class="el" href="router_8c_source.html#l01451">lnet_rtrpool_init()</a>, <a class="el" href="router_8c_source.html#l01462">lnet_rtrpools_free()</a>, <a class="el" href="lib-dlc_8h_source.html#l00074">LNET_SMALL_BUF_IDX</a>, <a class="el" href="lib-dlc_8h_source.html#l00073">LNET_TINY_BUF_IDX</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01675">lnet_rtrpools_enable()</a>, and <a class="el" href="api-ni_8c_source.html#l01516">LNetNIInit()</a>.</p>

</div>
</div>
<a class="anchor" id="af3719f2910ee820202b19d341b813182"></a><!-- doxytag: member="router.c::lnet_rtrpools_disable" ref="af3719f2910ee820202b19d341b813182" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_rtrpools_disable </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01704">1704</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="router_8c_source.html#l00046">large_router_buffers</a>, <a class="el" href="lib-types_8h_source.html#l00624">lnet_t::ln_ping_info</a>, <a class="el" href="lib-types_8h_source.html#l00646">lnet_t::ln_routing</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-types_8h_source.html#l00303">LNET_PING_FEAT_RTE_DISABLED</a>, <a class="el" href="router_8c_source.html#l01462">lnet_rtrpools_free()</a>, <a class="el" href="router_8c_source.html#l00043">small_router_buffers</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="router_8c_source.html#l00040">tiny_router_buffers</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>.</p>

</div>
</div>
<a class="anchor" id="ab59e3bad51d6d3a5f8128195bc0e6440"></a><!-- doxytag: member="router.c::lnet_rtrpools_enable" ref="ab59e3bad51d6d3a5f8128195bc0e6440" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lnet_rtrpools_enable </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01675">1675</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="lib-types_8h_source.html#l00624">lnet_t::ln_ping_info</a>, <a class="el" href="lib-types_8h_source.html#l00646">lnet_t::ln_routing</a>, <a class="el" href="lib-types_8h_source.html#l00620">lnet_t::ln_rtrpools</a>, <a class="el" href="lib-lnet_8h_source.html#l00075">LNET_LOCK_EX</a>, <a class="el" href="lib-lnet_8h_source.html#l00153">lnet_net_lock()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-types_8h_source.html#l00303">LNET_PING_FEAT_RTE_DISABLED</a>, <a class="el" href="router_8c_source.html#l01618">lnet_rtrpools_adjust_helper()</a>, <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="api-ni_8c_source.html#l01908">LNetCtl()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0a74ac29641a86eaec40b9d5d7d278b"></a><!-- doxytag: member="router.c::lnet_rtrpools_free" ref="ac0a74ac29641a86eaec40b9d5d7d278b" args="(int keep_pools)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_rtrpools_free </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>keep_pools</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l01462">1462</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__cpu_8h_source.html#l00213">cfs_percpt_for_each</a>, <a class="el" href="libcfs__mem_8c_source.html#l00049">cfs_percpt_free()</a>, <a class="el" href="lib-types_8h_source.html#l00620">lnet_t::ln_rtrpools</a>, <a class="el" href="lib-dlc_8h_source.html#l00075">LNET_LARGE_BUF_IDX</a>, <a class="el" href="router_8c_source.html#l01344">lnet_rtrpool_free_bufs()</a>, <a class="el" href="lib-dlc_8h_source.html#l00074">LNET_SMALL_BUF_IDX</a>, <a class="el" href="lib-dlc_8h_source.html#l00073">LNET_TINY_BUF_IDX</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>, <a class="el" href="router_8c_source.html#l01704">lnet_rtrpools_disable()</a>, and <a class="el" href="api-ni_8c_source.html#l00629">lnet_unprepare()</a>.</p>

</div>
</div>
<a class="anchor" id="aa14f10ccb5348740c5aa4aa240463a77"></a><!-- doxytag: member="router.c::lnet_shuffle_seed" ref="aa14f10ccb5348740c5aa4aa240463a77" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_shuffle_seed </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00237">237</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="prng_8c_source.html#l00111">cfs_get_random_bytes()</a>, <a class="el" href="prng_8c_source.html#l00095">cfs_srand()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00604">lnet_t::ln_nis</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00105">LNET_NETTYP()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00085">LNET_NIDADDR()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="nidstr_8h_source.html#l00046">LOLND</a>, <a class="el" href="fsx_8c_source.html#l00145">seed</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00269">lnet_add_route_to_rnet()</a>.</p>

</div>
</div>
<a class="anchor" id="a150da8c6c08a31c8f5cb58f664487c9e"></a><!-- doxytag: member="router.c::lnet_swap_pinginfo" ref="a150da8c6c08a31c8f5cb58f664487c9e" args="(lnet_ping_info_t *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lnet_swap_pinginfo </td>
          <td>(</td>
          <td class="paramtype">lnet_ping_info_t *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00629">629</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00045">__swab32s</a>, <a class="el" href="byteorder_8h_source.html#l00049">__swab64s</a>, and <a class="el" href="lib-types_8h_source.html#l00317">LNET_MAX_RTR_NIS</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00651">lnet_parse_rc_info()</a>, and <a class="el" href="api-ni_8c_source.html#l02169">lnet_ping()</a>.</p>

</div>
</div>
<a class="anchor" id="a53405ea7b776761da2207af5e8a1e32f"></a><!-- doxytag: member="router.c::lnet_update_ni_status_locked" ref="a53405ea7b776761da2207af5e8a1e32f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_update_ni_status_locked </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00838">838</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="router_8c_source.html#l00082">dead_router_check_interval</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="router_8c_source.html#l00086">live_router_check_interval</a>, <a class="el" href="lib-types_8h_source.html#l00604">lnet_t::ln_nis</a>, <a class="el" href="lib-types_8h_source.html#l00646">lnet_t::ln_routing</a>, <a class="el" href="lib-types_8h_source.html#l00204">lnet_lnd::lnd_type</a>, <a class="el" href="lib-lnet_8h_source.html#l00180">lnet_ni_lock</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00246">LNET_NI_STATUS_DOWN</a>, <a class="el" href="lib-lnet_8h_source.html#l00181">lnet_ni_unlock</a>, <a class="el" href="nidstr_8h_source.html#l00046">LOLND</a>, <a class="el" href="libcfs__private_8h_source.html#l00442">MAX</a>, <a class="el" href="lib-types_8h_source.html#l00285">lnet_ni::ni_lnd</a>, <a class="el" href="lib-types_8h_source.html#l00283">lnet_ni::ni_nid</a>, <a class="el" href="lib-types_8h_source.html#l00289">lnet_ni::ni_status</a>, <a class="el" href="createmany_8c_source.html#l00069">now()</a>, <a class="el" href="router_8c_source.html#l00090">router_ping_timeout</a>, <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>, and <a class="el" href="gnilnd__modparams_8c_source.html#l00052">timeout</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01230">lnet_router_checker()</a>.</p>

</div>
</div>
<a class="anchor" id="a668c7e527758d2a6251f502897f1df02"></a><!-- doxytag: member="router.c::lnet_wait_known_routerstate" ref="a668c7e527758d2a6251f502897f1df02" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lnet_wait_known_routerstate </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00791">791</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="lib-types_8h_source.html#l00627">lnet_t::ln_rc_state</a>, <a class="el" href="lib-types_8h_source.html#l00616">lnet_t::ln_routers</a>, <a class="el" href="lib-lnet_8h_source.html#l00165">lnet_net_lock_current()</a>, <a class="el" href="lib-lnet_8h_source.html#l00159">lnet_net_unlock()</a>, <a class="el" href="lib-types_8h_source.html#l00564">LNET_RC_STATE_RUNNING</a>, <a class="el" href="lib-types_8h_source.html#l00355">lnet_peer::lp_alive_count</a>, and <a class="el" href="api-ni_8c_source.html#l00043">the_lnet</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01054">lnet_router_checker_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e9d1753079f9b92b04058758a2d7dc2"></a><!-- doxytag: member="router.c::module_param" ref="a5e9d1753079f9b92b04058758a2d7dc2" args="(router_ping_timeout, int, 0644)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a98682073707e191c2e4def731ef60cb5">router_ping_timeout</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0644&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa69e609c04eb86d48d0fd19b2a80e46e"></a><!-- doxytag: member="router.c::module_param" ref="aa69e609c04eb86d48d0fd19b2a80e46e" args="(live_router_check_interval, int, 0644)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a9ec62a019a230834fdfb61ec88c9e59a">live_router_check_interval</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0644&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a495bdd9fdff1b5cd33da5d69d0c79799"></a><!-- doxytag: member="router.c::module_param" ref="a495bdd9fdff1b5cd33da5d69d0c79799" args="(dead_router_check_interval, int, 0644)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#add81ded240db94b7ebd6638e88174656">dead_router_check_interval</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0644&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a15e6f995ccabddacdc24f41c87320a7a"></a><!-- doxytag: member="router.c::module_param" ref="a15e6f995ccabddacdc24f41c87320a7a" args="(avoid_asym_router_failure, int, 0644)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#aa3d55d8e0b27b2e1964f5ff64e50adb3">avoid_asym_router_failure</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0644&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a46f1dd6aa3032c5341baaf8847113d98"></a><!-- doxytag: member="router.c::module_param" ref="a46f1dd6aa3032c5341baaf8847113d98" args="(check_routers_before_use, int, 0444)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a2bc6042a2f3d6cb826f59402f30b4c31">check_routers_before_use</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0444&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad01e826b9d9fb7f752c37d806cc26969"></a><!-- doxytag: member="router.c::module_param" ref="ad01e826b9d9fb7f752c37d806cc26969" args="(auto_down, int, 0444)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a5f571cf74945a45422a3ace29c78f6a1">auto_down</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0444&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab4f347a3228e89f301bb6efee5af437c"></a><!-- doxytag: member="router.c::module_param" ref="ab4f347a3228e89f301bb6efee5af437c" args="(peer_buffer_credits, int, 0444)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#aa69cc9e4ae40638bc14e7f9479c5c5d1">peer_buffer_credits</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0444&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6e7b17bcb880ae0cde7284cd6cef1182"></a><!-- doxytag: member="router.c::module_param" ref="a6e7b17bcb880ae0cde7284cd6cef1182" args="(large_router_buffers, int, 0444)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#ab4717bd99ba7f98bd5153ebec2a9d3bf">large_router_buffers</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0444&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad4c0740e5613ffe6d250280fcf840a4c"></a><!-- doxytag: member="router.c::module_param" ref="ad4c0740e5613ffe6d250280fcf840a4c" args="(small_router_buffers, int, 0444)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#adbb1c6af0ede0a9cdc6d30f25edc051e">small_router_buffers</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0444&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abf8ed663cd0cc366f761e01f08e4ab78"></a><!-- doxytag: member="router.c::module_param" ref="abf8ed663cd0cc366f761e01f08e4ab78" args="(tiny_router_buffers, int, 0444)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a861198e250de8ba34ff78dd21324e6b6">tiny_router_buffers</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0444&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a405e79c747c744ea4836a490a7890aa9"></a><!-- doxytag: member="router.c::module_param" ref="a405e79c747c744ea4836a490a7890aa9" args="(forwarding, charp, 0444)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#ab0abfd4b086d30b9fd526d9c1c41b814">forwarding</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">charp&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0444&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad79578ba36a8ef1aa8d4308015ba17ea"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="ad79578ba36a8ef1aa8d4308015ba17ea" args="(router_ping_timeout,&quot;Seconds to wait for the reply to a router health query&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a98682073707e191c2e4def731ef60cb5">router_ping_timeout</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Seconds to wait for the reply to a router health query&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad7ccc8c3701e3f5475c87138d50d7108"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="ad7ccc8c3701e3f5475c87138d50d7108" args="(live_router_check_interval,&quot;Seconds between live router health checks (&lt;= 0 to disable)&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a9ec62a019a230834fdfb61ec88c9e59a">live_router_check_interval</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Seconds between live router health checks (&lt;= 0 to disable)&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a501e0d86b2a8212f0c3fe7a9f206e593"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="a501e0d86b2a8212f0c3fe7a9f206e593" args="(dead_router_check_interval,&quot;Seconds between dead router health checks (&lt;= 0 to disable)&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#add81ded240db94b7ebd6638e88174656">dead_router_check_interval</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Seconds between dead router health checks (&lt;= 0 to disable)&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a75e92b08892277a9ab1cd1f5e4204202"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="a75e92b08892277a9ab1cd1f5e4204202" args="(avoid_asym_router_failure,&quot;Avoid asymmetrical router failures (0 to disable)&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#aa3d55d8e0b27b2e1964f5ff64e50adb3">avoid_asym_router_failure</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Avoid asymmetrical router failures (0 to disable)&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e8bc055410ea6c1d6d9d26ece10d0c4"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="a3e8bc055410ea6c1d6d9d26ece10d0c4" args="(check_routers_before_use,&quot;Assume routers are down and ping them before use&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a2bc6042a2f3d6cb826f59402f30b4c31">check_routers_before_use</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Assume routers are down and ping them before use&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2a095d50a0b0bc1557efb0b436597eb9"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="a2a095d50a0b0bc1557efb0b436597eb9" args="(auto_down,&quot;Automatically mark peers down on comms error&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a5f571cf74945a45422a3ace29c78f6a1">auto_down</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Automatically mark peers down on comms error&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aba473ccdb57bdb69cd9b4e4689773fdf"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="aba473ccdb57bdb69cd9b4e4689773fdf" args="(peer_buffer_credits,&quot;# router buffer credits per peer&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#aa69cc9e4ae40638bc14e7f9479c5c5d1">peer_buffer_credits</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;# router buffer <a class="el" href="socklnd__modparams_8c.html#aca17d0debc49d011e5c492872fa98b92">credits</a> per peer&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3472d6b3447722e289f6a5d5fce51694"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="a3472d6b3447722e289f6a5d5fce51694" args="(large_router_buffers,&quot;# of large messages to buffer in the router&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#ab4717bd99ba7f98bd5153ebec2a9d3bf">large_router_buffers</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;# of large messages to buffer in the router&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a01f9bd2451cada8e1082b4e511b7763a"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="a01f9bd2451cada8e1082b4e511b7763a" args="(small_router_buffers,&quot;# of small (1 page) messages to buffer in the router&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#adbb1c6af0ede0a9cdc6d30f25edc051e">small_router_buffers</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;# of small (1 page) messages to buffer in the router&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af52b87bb31706d1411bb5c3b0cbf228d"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="af52b87bb31706d1411bb5c3b0cbf228d" args="(tiny_router_buffers,&quot;# of 0 payload messages to buffer in the router&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#a861198e250de8ba34ff78dd21324e6b6">tiny_router_buffers</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;# of 0 payload messages to buffer in the router&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acac4c3599e0cdb354af335c4dd0f01b8"></a><!-- doxytag: member="router.c::MODULE_PARM_DESC" ref="acac4c3599e0cdb354af335c4dd0f01b8" args="(forwarding,&quot;Explicitly enable/disable forwarding between networks&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="router_8c.html#ab0abfd4b086d30b9fd526d9c1c41b814">forwarding</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Explicitly enable/disable <a class="el" href="router_8c.html#ab0abfd4b086d30b9fd526d9c1c41b814">forwarding</a> between <a class="el" href="api-ni_8c.html#ae0d82171f945eecd88c46b0e701129a7">networks</a>&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a5f571cf74945a45422a3ace29c78f6a1"></a><!-- doxytag: member="router.c::auto_down" ref="a5f571cf74945a45422a3ace29c78f6a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#a5f571cf74945a45422a3ace29c78f6a1">auto_down</a> = 1<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00053">53</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01721">lnet_notify()</a>.</p>

</div>
</div>
<a class="anchor" id="aa3d55d8e0b27b2e1964f5ff64e50adb3"></a><!-- doxytag: member="router.c::avoid_asym_router_failure" ref="aa3d55d8e0b27b2e1964f5ff64e50adb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#aa3d55d8e0b27b2e1964f5ff64e50adb3">avoid_asym_router_failure</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00078">78</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="lib-move_8c_source.html#l01815">lnet_parse()</a>, and <a class="el" href="router_8c_source.html#l00738">lnet_router_checker_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a2bc6042a2f3d6cb826f59402f30b4c31"></a><!-- doxytag: member="router.c::check_routers_before_use" ref="a2bc6042a2f3d6cb826f59402f30b4c31" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#a2bc6042a2f3d6cb826f59402f30b4c31">check_routers_before_use</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00074">74</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00095">lnet_peers_start_down()</a>, and <a class="el" href="router_8c_source.html#l01054">lnet_router_checker_start()</a>.</p>

</div>
</div>
<a class="anchor" id="add81ded240db94b7ebd6638e88174656"></a><!-- doxytag: member="router.c::dead_router_check_interval" ref="add81ded240db94b7ebd6638e88174656" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#add81ded240db94b7ebd6638e88174656">dead_router_check_interval</a> = 60<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00082">82</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00968">lnet_router_check_interval()</a>, <a class="el" href="router_8c_source.html#l01214">lnet_router_checker_active()</a>, <a class="el" href="router_8c_source.html#l01054">lnet_router_checker_start()</a>, and <a class="el" href="router_8c_source.html#l00838">lnet_update_ni_status_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="ab0abfd4b086d30b9fd526d9c1c41b814"></a><!-- doxytag: member="router.c::forwarding" ref="ab0abfd4b086d30b9fd526d9c1c41b814" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="router_8c.html#ab0abfd4b086d30b9fd526d9c1c41b814">forwarding</a> = &quot;&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00036">36</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01540">lnet_rtrpools_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4717bd99ba7f98bd5153ebec2a9d3bf"></a><!-- doxytag: member="router.c::large_router_buffers" ref="ab4717bd99ba7f98bd5153ebec2a9d3bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#ab4717bd99ba7f98bd5153ebec2a9d3bf">large_router_buffers</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00046">46</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01521">lnet_nrb_large_calculate()</a>, <a class="el" href="router_8c_source.html#l01618">lnet_rtrpools_adjust_helper()</a>, and <a class="el" href="router_8c_source.html#l01704">lnet_rtrpools_disable()</a>.</p>

</div>
</div>
<a class="anchor" id="a9ec62a019a230834fdfb61ec88c9e59a"></a><!-- doxytag: member="router.c::live_router_check_interval" ref="a9ec62a019a230834fdfb61ec88c9e59a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#a9ec62a019a230834fdfb61ec88c9e59a">live_router_check_interval</a> = 60<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00086">86</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00968">lnet_router_check_interval()</a>, <a class="el" href="router_8c_source.html#l01214">lnet_router_checker_active()</a>, and <a class="el" href="router_8c_source.html#l00838">lnet_update_ni_status_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="aa69cc9e4ae40638bc14e7f9479c5c5d1"></a><!-- doxytag: member="router.c::peer_buffer_credits" ref="aa69cc9e4ae40638bc14e7f9479c5c5d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#aa69cc9e4ae40638bc14e7f9479c5c5d1">peer_buffer_credits</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00049">49</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00058">lnet_peer_buffer_credits()</a>.</p>

</div>
</div>
<a class="anchor" id="a98682073707e191c2e4def731ef60cb5"></a><!-- doxytag: member="router.c::router_ping_timeout" ref="a98682073707e191c2e4def731ef60cb5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#a98682073707e191c2e4def731ef60cb5">router_ping_timeout</a> = 50<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00090">90</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l00981">lnet_ping_router_locked()</a>, and <a class="el" href="router_8c_source.html#l00838">lnet_update_ni_status_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="adbb1c6af0ede0a9cdc6d30f25edc051e"></a><!-- doxytag: member="router.c::small_router_buffers" ref="adbb1c6af0ede0a9cdc6d30f25edc051e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#adbb1c6af0ede0a9cdc6d30f25edc051e">small_router_buffers</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00043">43</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01502">lnet_nrb_small_calculate()</a>, <a class="el" href="router_8c_source.html#l01618">lnet_rtrpools_adjust_helper()</a>, and <a class="el" href="router_8c_source.html#l01704">lnet_rtrpools_disable()</a>.</p>

</div>
</div>
<a class="anchor" id="a861198e250de8ba34ff78dd21324e6b6"></a><!-- doxytag: member="router.c::tiny_router_buffers" ref="a861198e250de8ba34ff78dd21324e6b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="router_8c.html#a861198e250de8ba34ff78dd21324e6b6">tiny_router_buffers</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="router_8c_source.html#l00040">40</a> of file <a class="el" href="router_8c_source.html">router.c</a>.</p>

<p>Referenced by <a class="el" href="router_8c_source.html#l01483">lnet_nrb_tiny_calculate()</a>, <a class="el" href="router_8c_source.html#l01618">lnet_rtrpools_adjust_helper()</a>, and <a class="el" href="router_8c_source.html#l01704">lnet_rtrpools_disable()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:46 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
