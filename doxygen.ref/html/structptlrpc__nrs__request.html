<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: ptlrpc_nrs_request Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ptlrpc_nrs_request Struct Reference<br/>
<small>
[<a class="el" href="group__nrs.html">Network Request Scheduler</a>]</small>
</h1><!-- doxytag: class="ptlrpc_nrs_request" -->
<p>NRS request.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__nrs__resource.html">ptlrpc_nrs_resource</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#aff495a9624df874a4d9bf643ad1b4d20">nr_res_ptrs</a> [NRS_RES_MAX]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The request's resource hierarchy.  <a href="#aff495a9624df874a4d9bf643ad1b4d20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#ac61b0e631870da811a03cff16f013b46">nr_res_idx</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index into <a class="el" href="structptlrpc__nrs__request.html#aff495a9624df874a4d9bf643ad1b4d20" title="The request&#39;s resource hierarchy.">ptlrpc_nrs_request::nr_res_ptrs</a> of the resource of the policy that was used to enqueue the request.  <a href="#ac61b0e631870da811a03cff16f013b46"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#ac99512074e050a996bfc6ca036080a2f">nr_initialized</a>:1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#a93ede77b7ca94be577bc4a17834c31da">nr_enqueued</a>:1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#a80e711eebd94cbf365c79f7fe24653cb">nr_started</a>:1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#aa4e34bab8575002acc344920ab9c8b28">nr_finalized</a>:1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcfs__binheap__node.html">cfs_binheap_node</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#a43129091fdfc5c7f70f30c8b73b97201">nr_node</a></td></tr>
<tr><td class="memItemLeft" >union {</td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;struct <a class="el" href="structnrs__fifo__req.html">nrs_fifo_req</a>&nbsp;&nbsp;&nbsp;<a class="el" href="structptlrpc__nrs__request.html#a2efba7b48cacbaadd4c9c6b762fc37e1">fifo</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fields for the FIFO policy.  <a href="#a4ebadc692f60bb9713ade42c119fd527"></a><br/></td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;struct <a class="el" href="structnrs__crrn__req.html">nrs_crrn_req</a>&nbsp;&nbsp;&nbsp;<a class="el" href="structptlrpc__nrs__request.html#a2c181f81132e92268322f6bcb2b0db63">crr</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CRR-N request defintion.  <a href="#a44626b2b347367c421942e2f5f809ba2"></a><br/></td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;struct <a class="el" href="structnrs__orr__req.html">nrs_orr_req</a>&nbsp;&nbsp;&nbsp;<a class="el" href="structptlrpc__nrs__request.html#a557196ff063c995ef5ea81fd1ff03f4f">orr</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ORR and TRR share the same request definition.  <a href="#a9748e09eb3da2dcdcb635700b7edb7c4"></a><br/></td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;struct <a class="el" href="structnrs__tbf__req.html">nrs_tbf_req</a>&nbsp;&nbsp;&nbsp;<a class="el" href="structptlrpc__nrs__request.html#a1a5bb62c816c8092b6005006e566474c">tbf</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TBF request definition.  <a href="#a210eeed68c965b1d4da0c15229172165"></a><br/></td></tr>
<tr><td class="memItemLeft" valign="top">}&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#acbdc1427ee55ee33c12d38a71a262f05">nr_u</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Policy-specific fields, used for determining a request's scheduling priority, and other supporting functionality.  <a href="#acbdc1427ee55ee33c12d38a71a262f05"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#a3f57e4b76f2e3952043cb551b7d34b00">ext</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Externally-registering policies may want to use this to allocate their own request properties.  <a href="#a3f57e4b76f2e3952043cb551b7d34b00"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>NRS request. </p>
<p>Instances of this object exist embedded within <a class="el" href="structptlrpc__request.html" title="Represents remote procedure call.">ptlrpc_request</a>; the main purpose of this object is to hold references to the request's resources for the lifetime of the request, and to hold properties that policies use use for determining the request's scheduling priority. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00687">687</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a2c181f81132e92268322f6bcb2b0db63"></a><!-- doxytag: member="ptlrpc_nrs_request::crr" ref="a2c181f81132e92268322f6bcb2b0db63" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnrs__crrn__req.html">nrs_crrn_req</a> <a class="el" href="structptlrpc__nrs__request.html#a2c181f81132e92268322f6bcb2b0db63">ptlrpc_nrs_request::crr</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>CRR-N request defintion. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00717">717</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3f57e4b76f2e3952043cb551b7d34b00"></a><!-- doxytag: member="ptlrpc_nrs_request::ext" ref="a3f57e4b76f2e3952043cb551b7d34b00" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structptlrpc__nrs__request.html#a3f57e4b76f2e3952043cb551b7d34b00">ptlrpc_nrs_request::ext</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Externally-registering policies may want to use this to allocate their own request properties. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00729">729</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2efba7b48cacbaadd4c9c6b762fc37e1"></a><!-- doxytag: member="ptlrpc_nrs_request::fifo" ref="a2efba7b48cacbaadd4c9c6b762fc37e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnrs__fifo__req.html">nrs_fifo_req</a> <a class="el" href="structptlrpc__nrs__request.html#a2efba7b48cacbaadd4c9c6b762fc37e1">ptlrpc_nrs_request::fifo</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fields for the FIFO policy. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00713">713</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs__fifo_8c_source.html#l00194">nrs_fifo_req_add()</a>, <a class="el" href="nrs__fifo_8c_source.html#l00216">nrs_fifo_req_del()</a>, <a class="el" href="nrs__fifo_8c_source.html#l00160">nrs_fifo_req_get()</a>, and <a class="el" href="nrs__fifo_8c_source.html#l00233">nrs_fifo_req_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a93ede77b7ca94be577bc4a17834c31da"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_enqueued" ref="a93ede77b7ca94be577bc4a17834c31da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs__request.html#a93ede77b7ca94be577bc4a17834c31da">ptlrpc_nrs_request::nr_enqueued</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00700">700</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__net_8h_source.html#l01155">ptlrpc_nrs_req_can_move()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4e34bab8575002acc344920ab9c8b28"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_finalized" ref="aa4e34bab8575002acc344920ab9c8b28" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs__request.html#aa4e34bab8575002acc344920ab9c8b28">ptlrpc_nrs_request::nr_finalized</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00702">702</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="ptlrpc__internal_8h_source.html#l00229">nrs_request_resource()</a>.</p>

</div>
</div>
<a class="anchor" id="ac99512074e050a996bfc6ca036080a2f"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_initialized" ref="ac99512074e050a996bfc6ca036080a2f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs__request.html#ac99512074e050a996bfc6ca036080a2f">ptlrpc_nrs_request::nr_initialized</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00699">699</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="ptlrpc__internal_8h_source.html#l00229">nrs_request_resource()</a>.</p>

</div>
</div>
<a class="anchor" id="a43129091fdfc5c7f70f30c8b73b97201"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_node" ref="a43129091fdfc5c7f70f30c8b73b97201" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__binheap__node.html">cfs_binheap_node</a> <a class="el" href="structptlrpc__nrs__request.html#a43129091fdfc5c7f70f30c8b73b97201">ptlrpc_nrs_request::nr_node</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00703">703</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac61b0e631870da811a03cff16f013b46"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_res_idx" ref="ac61b0e631870da811a03cff16f013b46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs__request.html#ac61b0e631870da811a03cff16f013b46">ptlrpc_nrs_request::nr_res_idx</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Index into <a class="el" href="structptlrpc__nrs__request.html#aff495a9624df874a4d9bf643ad1b4d20" title="The request&#39;s resource hierarchy.">ptlrpc_nrs_request::nr_res_ptrs</a> of the resource of the policy that was used to enqueue the request. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="nrs_8c.html#ac63065fc9f6fc04df590c34a1da9a1cf" title="Enqueues request nrq for later handling, via one one the policies for which resources...">nrs_request_enqueue()</a> </dd></dl>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00698">698</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00583">nrs_request_enqueue()</a>, and <a class="el" href="ptlrpc__internal_8h_source.html#l00229">nrs_request_resource()</a>.</p>

</div>
</div>
<a class="anchor" id="aff495a9624df874a4d9bf643ad1b4d20"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_res_ptrs" ref="aff495a9624df874a4d9bf643ad1b4d20" args="[NRS_RES_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__nrs__resource.html">ptlrpc_nrs_resource</a>* <a class="el" href="structptlrpc__nrs__request.html#aff495a9624df874a4d9bf643ad1b4d20">ptlrpc_nrs_request::nr_res_ptrs</a>[NRS_RES_MAX]<code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The request's resource hierarchy. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00691">691</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00583">nrs_request_enqueue()</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00229">nrs_request_resource()</a>, and <a class="el" href="nrs_8c_source.html#l01673">ptlrpc_nrs_req_hp_move()</a>.</p>

</div>
</div>
<a class="anchor" id="a80e711eebd94cbf365c79f7fe24653cb"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_started" ref="a80e711eebd94cbf365c79f7fe24653cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs__request.html#a80e711eebd94cbf365c79f7fe24653cb">ptlrpc_nrs_request::nr_started</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00701">701</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__net_8h_source.html#l01155">ptlrpc_nrs_req_can_move()</a>, and <a class="el" href="nrs_8c_source.html#l01583">ptlrpc_nrs_req_get_nolock0()</a>.</p>

</div>
</div>
<a class="anchor" id="acbdc1427ee55ee33c12d38a71a262f05"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_u" ref="acbdc1427ee55ee33c12d38a71a262f05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... }   <a class="el" href="structptlrpc__nrs__request.html#acbdc1427ee55ee33c12d38a71a262f05">ptlrpc_nrs_request::nr_u</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Policy-specific fields, used for determining a request's scheduling priority, and other supporting functionality. </p>

<p>Referenced by <a class="el" href="nrs__fifo_8c_source.html#l00194">nrs_fifo_req_add()</a>, <a class="el" href="nrs__fifo_8c_source.html#l00216">nrs_fifo_req_del()</a>, <a class="el" href="nrs__fifo_8c_source.html#l00160">nrs_fifo_req_get()</a>, and <a class="el" href="nrs__fifo_8c_source.html#l00233">nrs_fifo_req_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a557196ff063c995ef5ea81fd1ff03f4f"></a><!-- doxytag: member="ptlrpc_nrs_request::orr" ref="a557196ff063c995ef5ea81fd1ff03f4f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnrs__orr__req.html">nrs_orr_req</a> <a class="el" href="structptlrpc__nrs__request.html#a557196ff063c995ef5ea81fd1ff03f4f">ptlrpc_nrs_request::orr</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ORR and TRR share the same request definition. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00719">719</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1a5bb62c816c8092b6005006e566474c"></a><!-- doxytag: member="ptlrpc_nrs_request::tbf" ref="a1a5bb62c816c8092b6005006e566474c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnrs__tbf__req.html">nrs_tbf_req</a> <a class="el" href="structptlrpc__nrs__request.html#a1a5bb62c816c8092b6005006e566474c">ptlrpc_nrs_request::tbf</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>TBF request definition. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00723">723</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:54 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
