<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/osd-ldiskfs/osd_scrub.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/osd-ldiskfs/osd_scrub.c File Reference</h1><code>#include &lt;linux/kthread.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__idl_8h_source.html">lustre/lustre_idl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__disk_8h_source.html">lustre_disk.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dt__object_8h_source.html">dt_object.h</a>&gt;</code><br/>
<code>#include &lt;linux/xattr.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="osd-zfs_2osd__internal_8h_source.html">osd_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="osd__scrub_8h_source.html">osd_scrub.h</a>&quot;</code><br/>

<p><a href="osd__scrub_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosd__iit__param.html">osd_iit_param</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosd__lf__map.html">osd_lf_map</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosd__ios__item.html">osd_ios_item</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosd__ios__filldir__buf.html">osd_ios_filldir_buf</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LFSCK</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a605192d3013ba4d5780ab2667429d973">HALF_SEC</a>&nbsp;&nbsp;&nbsp;msecs_to_jiffies(MSEC_PER_SEC &gt;&gt; 1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#adc915151bedf10991d33f0b2e5786339">OSD_OTABLE_MAX_HASH</a>&nbsp;&nbsp;&nbsp;0x00000000ffffffffULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#afa94ca166d2b64fbb461cfcc1e6dc765">SCRUB_NEXT_BREAK</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a5be1e5970c2906f7d7da50bfb60da461">SCRUB_NEXT_CONTINUE</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#aa7b5efd55bca9a264d9e71f63cad19b0">SCRUB_NEXT_EXIT</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a10de0923c898964024dcca3d7201ce00">SCRUB_NEXT_WAIT</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a7608c6f917d181fbdf1d23eb9f6d36d3">SCRUB_NEXT_CRASH</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a9b16866076820d52cab5fcae9ab8f07d">SCRUB_NEXT_FATAL</a>&nbsp;&nbsp;&nbsp;6</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#abfd83cf45d9bb7477e15b10e80a3ff14">SCRUB_NEXT_NOSCRUB</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a563b15e29e90bee043750ed37bfbbe33">SCRUB_NEXT_NOLMA</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ab6439a909dc3c7eba86752131f215239">SCRUB_NEXT_OSTOBJ</a>&nbsp;&nbsp;&nbsp;9</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a538df15e73012a2ae36c49ed68dd9d2b">SCRUB_NEXT_OSTOBJ_OLD</a>&nbsp;&nbsp;&nbsp;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a94ef2a024d983aee18c34beafda54187">SCRUB_IT_ALL</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a1310e310546db20ae45c5fe14221aee9">SCRUB_IT_CRASH</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a9321a5ec3861f936f65fa2301fb033f4">SCRUB_BAD_OIMAP_DECAY_INTERVAL</a>&nbsp;&nbsp;&nbsp;60</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a84ab1910dc144451d9abbdad390ef56a">osd_iit_next_policy</a> )(struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *param, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> **oic, const bool noslot)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#af5acea9aa34d3883514d925de246a939">osd_iit_exec_policy</a> )(struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *param, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *oic, bool *noslot, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#afe5c012767bf82938ac32f6918ab66a9">scandir_t</a> )(struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *, struct <a class="el" href="structosd__device.html">osd_device</a> *, struct dentry *, filldir_t filldir)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a05874a4bfc8dbdb025fe8d9d207988b8">osd_lf_flags</a> { <br/>
&nbsp;&nbsp;<a class="el" href="osd__scrub_8c.html#a05874a4bfc8dbdb025fe8d9d207988b8a718ce5132221c84dc450d272f96bc2f7">OLF_SCAN_SUBITEMS</a> =  0x0001, 
<a class="el" href="osd__scrub_8c.html#a05874a4bfc8dbdb025fe8d9d207988b8aa5872f3274c788ec016b95bea37bb315">OLF_HIDE_FID</a> =  0x0002, 
<a class="el" href="osd__scrub_8c.html#a05874a4bfc8dbdb025fe8d9d207988b8a7fe4f2cc71404ec06c5a274273677d91">OLF_SHOW_NAME</a> =  0x0004, 
<a class="el" href="osd__scrub_8c.html#a05874a4bfc8dbdb025fe8d9d207988b8ab19dba5b41b52b86e001c985de4d1a2b">OLF_NO_OI</a> =  0x0008, 
<br/>
&nbsp;&nbsp;<a class="el" href="osd__scrub_8c.html#a05874a4bfc8dbdb025fe8d9d207988b8a3d80269c8033b9717d3753a5a5770b57">OLF_IDX_IN_FID</a> =  0x0010
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a131db3cafecf05e0b036cbd5447f0d0f">osd_scrub2dev</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct super_block *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#afbb9578061a1c34a4e6d18ace9221e21">osd_scrub2sb</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a77b96c80ba74a954e5fc8dbf88a8904f">osd_scrub_has_window</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub, struct <a class="el" href="structosd__otable__cache.html">osd_otable_cache</a> *ooc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#aa9b991661ea473b92e7dbfd3d2b0a547">osd_scrub2name</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ac7eeccca8a1f2f5fbd09ef7420589749">osd_scrub_refresh_mapping</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, int ops, bool force, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">update/insert/delete the specified OI mapping ( ) according to the ops  <a href="#ac7eeccca8a1f2f5fbd09ef7420589749"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a516980072352c5be254279bbf2de8709">osd_scrub_file_to_cpu</a> (struct <a class="el" href="structscrub__file.html">scrub_file</a> *des, struct <a class="el" href="structscrub__file.html">scrub_file</a> *src)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ade3b832a7e10cc925510a4f98313961b">osd_scrub_file_to_le</a> (struct <a class="el" href="structscrub__file.html">scrub_file</a> *des, struct <a class="el" href="structscrub__file.html">scrub_file</a> *src)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a9a4eb4361335265ca37dc24a368b6982">osd_scrub_file_init</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub, __u8 *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a1361e78746369d0de05029d472e425ce">osd_scrub_file_reset</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub, __u8 *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a0e96167600eeb56488a40dcce2e319ff">osd_scrub_file_load</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a6334fbe7a50b9b07959f5d088d4b7530">osd_scrub_file_store</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a6de3d5974a7b5981da822adc7425b4bd">osd_scrub_convert_ff</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct inode *inode, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ad428fbf663a7aab8d1fc46b8c7bd2ef0">osd_scrub_check_update</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *oic, int val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#aab30da054af17f02ee128727aa6fea86">osd_scrub_prep</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ac90199f52bb45865f03260c7abe337c5">osd_scrub_checkpoint</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a1d075eac361b2c2dce81e7baf1eb32f3">osd_scrub_post</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub, int result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#adc8103a2519287702786d4a295327f30">osd_iit_next</a> (struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *param, __u32 *pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a486eac35c323e3832ad7a2ff300015d0">osd_scrub_check_local_fldb</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#afd40034f12c916435cc64541cd8e6795">osd_scrub_get_fid</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct inode *inode, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, bool scrub)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ab0fa8abaf74eeb40600ea76a73ccfb43">osd_iit_iget</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *lid, __u32 pos, struct super_block *sb, bool scrub)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a632b61e3f989e1605ff2c52883327802">osd_scrub_next</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *param, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> **oic, const bool noslot)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a709116124e091db64cfd222a467bcd4f">osd_preload_next</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *param, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> **oic, const bool noslot)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a6bf80c2f82883972b2e340d4d044d659">osd_scrub_wakeup</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub, struct <a class="el" href="structosd__otable__it.html">osd_otable_it</a> *it)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ac09061970ab56969080ab70fa3aa3247">osd_scrub_exec</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *param, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *oic, bool *noslot, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a0a9372d35e1c3a79ac9ff03a07a53f3e">osd_preload_exec</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *param, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *oic, bool *noslot, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ad3fb7766f6102cd891d91b22f1d24791">osd_scrub_join</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *dev, __u32 flags, bool inconsistent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a0bc1ab883cb7a9e1b538e6e834de6734">osd_inode_iteration</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, __u32 <a class="el" href="lnet_2utils_2debug_8c.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>, bool preload)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#afd7566f1391eba075dd2b4005b2090d7">osd_otable_it_preload</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__otable__it.html">osd_otable_it</a> *it)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a3cdec04e54864983dbc5e8dc9e16016d">osd_scrub_main</a> (void *args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#af9a9888a1b0d7b7fd07a06287ac23eb4">osd_ios_varfid_fill</a> (void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int namelen, loff_t offset, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ino, unsigned d_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ad4d277b6b1735f3df253c6c9862529af">osd_ios_lf_fill</a> (void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int namelen, loff_t offset, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ino, unsigned d_type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It scans the /lost+found, and for the OST-object (with <a class="el" href="structfilter__fid.html">filter_fid</a> or <a class="el" href="structfilter__fid__old.html">filter_fid_old</a>), move them back to its proper /O/&lt;seq&gt;/d&lt;x&gt;.  <a href="#ad4d277b6b1735f3df253c6c9862529af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a84e3d9bfe96d35fc4605439de938fb90">osd_ios_dl_fill</a> (void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int namelen, loff_t offset, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ino, unsigned d_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a0169818440f9a759edc15efe45a46a25">osd_ios_uld_fill</a> (void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int namelen, loff_t offset, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ino, unsigned d_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#acf5415fb99a87e5669a24d132b86176e">osd_ios_general_scan</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct dentry *dentry, filldir_t filldir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a54959a6e3f916f618b88efb937450d0c">osd_ios_ROOT_scan</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct dentry *dentry, filldir_t filldir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a28a5a06aa581bfe5f9656da998bcdc96">osd_ios_OBJECTS_scan</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct dentry *dentry, filldir_t filldir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct dentry *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#aa434f420786e1924c8a5915b767dd658">osd_ios_lookup_one_len</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct dentry *parent, int namelen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a15a2aa24780f92fbc1b6bb9d0bba275f">osd_ios_new_item</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct dentry *dentry, <a class="el" href="osd__scrub_8c.html#afe5c012767bf82938ac32f6918ab66a9">scandir_t</a> scandir, filldir_t filldir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a182d41e599a2c755c759d7a582dfedc2">osd_ios_scan_one</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct inode *inode, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, int flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="osd__scrub_8c.html#a182d41e599a2c755c759d7a582dfedc2" title="osd_ios_scan_one() - check/fix LMA FID and OI entry for one inode">osd_ios_scan_one()</a> - check/fix LMA FID and OI entry for one inode  <a href="#a182d41e599a2c755c759d7a582dfedc2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a4c4156bdb09ffe1e43fea252a104ecd6">osd_ios_root_fill</a> (void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int namelen, loff_t offset, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ino, unsigned d_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a8bb366544354bd67f020006e11103bb4">osd_initial_OI_scrub</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a29a581a5d333eb5349c64d52e273ecd9">osd_lf_fid2name</a> (const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ac22ba4845893d9a3d1344a656f3c5047">do_osd_scrub_start</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *dev, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a2eca8a4339f8b2871836dfa68b372b36">osd_scrub_start</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *dev, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ad05e0eab18dcd4741c30bc5aaecbd6cf">do_osd_scrub_stop</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a44ba0f1890eebe044978526e748d8dcd">osd_scrub_stop</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a6a2ef8023e882ef01e400372c112ed9c">osd_scrub_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a143eda603dd5fcef3aa810a5d6653699">osd_scrub_cleanup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct dt_it *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#aa40b6519c666bb7a86574c79c20f8e72">osd_otable_it_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, __u32 attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a2450844c10c18089197ee1145e8f68f2">osd_otable_it_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a0509d276bb2c7fb472eebb0785887cdb">osd_otable_it_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a8f41e581ebed5dbb30e3828bc179ebad">osd_otable_it_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a7e01e19e1ad3681a8370e419868a7355">osd_otable_it_wakeup</a> (struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *scrub, struct <a class="el" href="structosd__otable__it.html">osd_otable_it</a> *it)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a21a5b6ea2b6785858e4ed6688d5c6d31">osd_otable_it_next</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a60656ee143c45e639d8bb4f67af5cd96">osd_otable_it_key</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a0ccae53aeeef841a421a090968bafc80">osd_otable_it_key_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#afb5c7bfa1cfe373dd7a172cf13576710">osd_otable_it_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, struct dt_rec *rec, __u32 attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#af536d3a07dde67b078c5bceed8f31d37">osd_otable_it_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ae6226df9fa0efe4737cfa94da25d8d65">osd_otable_it_load</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> hash)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the OSD layer iteration start position as the specified hash.  <a href="#ae6226df9fa0efe4737cfa94da25d8d65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#aee6a0afdb9d74335ec8bad68f20d39f5">osd_otable_it_key_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, void *key_rec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a1c3c2f6e2535ebf779351ac39abcea83">osd_oii_insert</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *oic, int insert)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a61d4f2b60f546541806370355f8b69d8">osd_oii_lookup</a> (struct <a class="el" href="structosd__device.html">osd_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a8af58c767aa0ef055ff77166153f8f97">scrub_bits_dump</a> (struct seq_file *m, int bits, const char *<a class="el" href="structnames.html">names</a>[], const char *prefix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a123c87619f17deb7bf41a59d59ec635b">scrub_time_dump</a> (struct seq_file *m, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> time, const char *prefix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a5235388ee5aef3b4918864c4c602ff20">scrub_pos_dump</a> (struct seq_file *m, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> pos, const char *prefix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#afd6f406fb0c26c10f2b313f839e96851">osd_scrub_dump</a> (struct seq_file *m, struct <a class="el" href="structosd__device.html">osd_device</a> *dev)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosd__lf__map.html">osd_lf_map</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a20a3440b4c91b4edb027e465c6ed4006">osd_lf_maps</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosd__lf__map.html">osd_lf_map</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a883fe4d86c08ee131769ee7a43b25cbf">osd_dl_maps</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a24ae414fc7dfd1d18840efc98e5daf7e">osd_scrub_name</a> [] = &quot;OI_scrub&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#aa295143d631c3471b40de9493f9bb973">osd_otable_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#a87c20635c08954e04fc24b48899f6d01">scrub_status_names</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#afff2693686002edad6933a28059b0183">scrub_flags_names</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__scrub_8c.html#ac7bd931a1ff30062ea3645af5d83d264">scrub_param_names</a> []</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="osd_scrub.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LFSCK</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00038">38</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="a605192d3013ba4d5780ab2667429d973"></a><!-- doxytag: member="osd_scrub.c::HALF_SEC" ref="a605192d3013ba4d5780ab2667429d973" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HALF_SEC&nbsp;&nbsp;&nbsp;msecs_to_jiffies(MSEC_PER_SEC &gt;&gt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00050">50</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="adc915151bedf10991d33f0b2e5786339"></a><!-- doxytag: member="osd_scrub.c::OSD_OTABLE_MAX_HASH" ref="adc915151bedf10991d33f0b2e5786339" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSD_OTABLE_MAX_HASH&nbsp;&nbsp;&nbsp;0x00000000ffffffffULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00052">52</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02878">osd_otable_it_load()</a>.</p>

</div>
</div>
<a class="anchor" id="a9321a5ec3861f936f65fa2301fb033f4"></a><!-- doxytag: member="osd_scrub.c::SCRUB_BAD_OIMAP_DECAY_INTERVAL" ref="a9321a5ec3861f936f65fa2301fb033f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_BAD_OIMAP_DECAY_INTERVAL&nbsp;&nbsp;&nbsp;60</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02933">2933</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02935">osd_oii_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a94ef2a024d983aee18c34beafda54187"></a><!-- doxytag: member="osd_scrub.c::SCRUB_IT_ALL" ref="a94ef2a024d983aee18c34beafda54187" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_IT_ALL&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01188">1188</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01447">osd_otable_it_preload()</a>.</p>

</div>
</div>
<a class="anchor" id="a1310e310546db20ae45c5fe14221aee9"></a><!-- doxytag: member="osd_scrub.c::SCRUB_IT_CRASH" ref="a1310e310546db20ae45c5fe14221aee9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_IT_CRASH&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01189">1189</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01471">osd_scrub_main()</a>.</p>

</div>
</div>
<a class="anchor" id="afa94ca166d2b64fbb461cfcc1e6dc765"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_BREAK" ref="afa94ca166d2b64fbb461cfcc1e6dc765" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_BREAK&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00054">54</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00822">osd_iit_next()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>.</p>

</div>
</div>
<a class="anchor" id="a5be1e5970c2906f7d7da50bfb60da461"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_CONTINUE" ref="a5be1e5970c2906f7d7da50bfb60da461" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_CONTINUE&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00055">55</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00940">osd_iit_iget()</a>, <a class="el" href="osd__scrub_8c_source.html#l01100">osd_scrub_exec()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00853">osd_scrub_get_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="a7608c6f917d181fbdf1d23eb9f6d36d3"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_CRASH" ref="a7608c6f917d181fbdf1d23eb9f6d36d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_CRASH&nbsp;&nbsp;&nbsp;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00058">58</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00989">osd_scrub_next()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7b5efd55bca9a264d9e71f63cad19b0"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_EXIT" ref="aa7b5efd55bca9a264d9e71f63cad19b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_EXIT&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00056">56</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, <a class="el" href="osd__scrub_8c_source.html#l01056">osd_preload_next()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00989">osd_scrub_next()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b16866076820d52cab5fcae9ab8f07d"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_FATAL" ref="a9b16866076820d52cab5fcae9ab8f07d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_FATAL&nbsp;&nbsp;&nbsp;6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00059">59</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00989">osd_scrub_next()</a>.</p>

</div>
</div>
<a class="anchor" id="a563b15e29e90bee043750ed37bfbbe33"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_NOLMA" ref="a563b15e29e90bee043750ed37bfbbe33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_NOLMA&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00061">61</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00853">osd_scrub_get_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="abfd83cf45d9bb7477e15b10e80a3ff14"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_NOSCRUB" ref="abfd83cf45d9bb7477e15b10e80a3ff14" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_NOSCRUB&nbsp;&nbsp;&nbsp;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00060">60</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00940">osd_iit_iget()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01100">osd_scrub_exec()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6439a909dc3c7eba86752131f215239"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_OSTOBJ" ref="ab6439a909dc3c7eba86752131f215239" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_OSTOBJ&nbsp;&nbsp;&nbsp;9</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00062">62</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01900">osd_ios_lf_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00853">osd_scrub_get_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="a538df15e73012a2ae36c49ed68dd9d2b"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_OSTOBJ_OLD" ref="a538df15e73012a2ae36c49ed68dd9d2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_OSTOBJ_OLD&nbsp;&nbsp;&nbsp;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00063">63</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01900">osd_ios_lf_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l00839">osd_scrub_check_local_fldb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00853">osd_scrub_get_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="a10de0923c898964024dcca3d7201ce00"></a><!-- doxytag: member="osd_scrub.c::SCRUB_NEXT_WAIT" ref="a10de0923c898964024dcca3d7201ce00" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRUB_NEXT_WAIT&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00057">57</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, <a class="el" href="osd__scrub_8c_source.html#l01100">osd_scrub_exec()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00989">osd_scrub_next()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="af5acea9aa34d3883514d925de246a939"></a><!-- doxytag: member="osd_scrub.c::osd_iit_exec_policy" ref="af5acea9aa34d3883514d925de246a939" args=")(struct osd_thread_info *info, struct osd_device *dev, struct osd_iit_param *param, struct osd_idmap_cache *oic, bool *noslot, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="osd__scrub_8c.html#af5acea9aa34d3883514d925de246a939">osd_iit_exec_policy</a>)(struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *param, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *oic, bool *noslot, int rc)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00816">816</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="a84ab1910dc144451d9abbdad390ef56a"></a><!-- doxytag: member="osd_scrub.c::osd_iit_next_policy" ref="a84ab1910dc144451d9abbdad390ef56a" args=")(struct osd_thread_info *info, struct osd_device *dev, struct osd_iit_param *param, struct osd_idmap_cache **oic, const bool noslot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="osd__scrub_8c.html#a84ab1910dc144451d9abbdad390ef56a">osd_iit_next_policy</a>)(struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *dev, struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *param, struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> **oic, const bool noslot)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00810">810</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="afe5c012767bf82938ac32f6918ab66a9"></a><!-- doxytag: member="osd_scrub.c::scandir_t" ref="afe5c012767bf82938ac32f6918ab66a9" args=")(struct osd_thread_info *, struct osd_device *, struct dentry *, filldir_t filldir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="osd__scrub_8c.html#afe5c012767bf82938ac32f6918ab66a9">scandir_t</a>)(struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *, struct <a class="el" href="structosd__device.html">osd_device</a> *, struct dentry *, filldir_t filldir)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01543">1543</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a05874a4bfc8dbdb025fe8d9d207988b8"></a><!-- doxytag: member="osd_scrub.c::osd_lf_flags" ref="a05874a4bfc8dbdb025fe8d9d207988b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="osd__scrub_8c.html#a05874a4bfc8dbdb025fe8d9d207988b8">osd_lf_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a05874a4bfc8dbdb025fe8d9d207988b8a718ce5132221c84dc450d272f96bc2f7"></a><!-- doxytag: member="OLF_SCAN_SUBITEMS" ref="a05874a4bfc8dbdb025fe8d9d207988b8a718ce5132221c84dc450d272f96bc2f7" args="" -->OLF_SCAN_SUBITEMS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a05874a4bfc8dbdb025fe8d9d207988b8aa5872f3274c788ec016b95bea37bb315"></a><!-- doxytag: member="OLF_HIDE_FID" ref="a05874a4bfc8dbdb025fe8d9d207988b8aa5872f3274c788ec016b95bea37bb315" args="" -->OLF_HIDE_FID</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a05874a4bfc8dbdb025fe8d9d207988b8a7fe4f2cc71404ec06c5a274273677d91"></a><!-- doxytag: member="OLF_SHOW_NAME" ref="a05874a4bfc8dbdb025fe8d9d207988b8a7fe4f2cc71404ec06c5a274273677d91" args="" -->OLF_SHOW_NAME</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a05874a4bfc8dbdb025fe8d9d207988b8ab19dba5b41b52b86e001c985de4d1a2b"></a><!-- doxytag: member="OLF_NO_OI" ref="a05874a4bfc8dbdb025fe8d9d207988b8ab19dba5b41b52b86e001c985de4d1a2b" args="" -->OLF_NO_OI</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a05874a4bfc8dbdb025fe8d9d207988b8a3d80269c8033b9717d3753a5a5770b57"></a><!-- doxytag: member="OLF_IDX_IN_FID" ref="a05874a4bfc8dbdb025fe8d9d207988b8a3d80269c8033b9717d3753a5a5770b57" args="" -->OLF_IDX_IN_FID</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01581">1581</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac22ba4845893d9a3d1344a656f3c5047"></a><!-- doxytag: member="osd_scrub.c::do_osd_scrub_start" ref="ac22ba4845893d9a3d1344a656f3c5047" args="(struct osd_device *dev, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int do_osd_scrub_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02377">2377</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00228">osd_scrub::os_start_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8c_source.html#l01191">osd_scrub_join()</a>, <a class="el" href="osd__scrub_8c_source.html#l01471">osd_scrub_main()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00075">SF_AUTO</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00100">SS_AUTO_FULL</a>, <a class="el" href="osd__scrub_8h_source.html#l00103">SS_AUTO_PARTIAL</a>, <a class="el" href="osd__scrub_8h_source.html#l00109">SS_CLEAR_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00094">SS_CLEAR_FAILOUT</a>, <a class="el" href="osd__scrub_8h_source.html#l00052">SS_COMPLETED</a>, <a class="el" href="osd__scrub_8h_source.html#l00097">SS_RESET</a>, <a class="el" href="osd__scrub_8h_source.html#l00106">SS_SET_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00091">SS_SET_FAILOUT</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>, <a class="el" href="lustre__net_8h_source.html#l01547">thread_is_stopping()</a>, <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02679">osd_otable_it_init()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02442">osd_scrub_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ad05e0eab18dcd4741c30bc5aaecbd6cf"></a><!-- doxytag: member="osd_scrub.c::do_osd_scrub_stop" ref="ad05e0eab18dcd4741c30bc5aaecbd6cf" args="(struct osd_scrub *scrub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void do_osd_scrub_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02455">2455</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="lustre__net_8h_source.html#l01495">SVC_STOPPING</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01537">thread_is_init()</a>, <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>, and <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02739">osd_otable_it_fini()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02476">osd_scrub_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="ab0fa8abaf74eeb40600ea76a73ccfb43"></a><!-- doxytag: member="osd_scrub.c::osd_iit_iget" ref="ab0fa8abaf74eeb40600ea76a73ccfb43" args="(struct osd_thread_info *info, struct osd_device *dev, struct lu_fid *fid, struct osd_inode_id *lid, __u32 pos, struct super_block *sb, bool scrub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_iit_iget </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>lid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct super_block *&nbsp;</td>
          <td class="paramname"> <em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>scrub</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00940">940</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00081">LDISKFS_STATE_LUSTRE_NOSCRUB</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00930">osd_is_ea_inode()</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01202">osd_remote_parent_ino()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00853">osd_scrub_get_fid()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8c_source.html#l00055">SCRUB_NEXT_CONTINUE</a>, <a class="el" href="osd__scrub_8c_source.html#l00060">SCRUB_NEXT_NOSCRUB</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01056">osd_preload_next()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00989">osd_scrub_next()</a>.</p>

</div>
</div>
<a class="anchor" id="adc8103a2519287702786d4a295327f30"></a><!-- doxytag: member="osd_scrub.c::osd_iit_next" ref="adc8103a2519287702786d4a295327f30" args="(struct osd_iit_param *param, __u32 *pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_iit_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>pos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00822">822</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd__scrub_8c_source.html#l00805">osd_iit_param::bg</a>, <a class="el" href="osd__scrub_8c_source.html#l00804">osd_iit_param::bitmap</a>, <a class="el" href="osd__scrub_8c_source.html#l00806">osd_iit_param::gbase</a>, <a class="el" href="osd__scrub_8c_source.html#l00807">osd_iit_param::offset</a>, <a class="el" href="osd__scrub_8c_source.html#l00803">osd_iit_param::sb</a>, and <a class="el" href="osd__scrub_8c_source.html#l00054">SCRUB_NEXT_BREAK</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01056">osd_preload_next()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00989">osd_scrub_next()</a>.</p>

</div>
</div>
<a class="anchor" id="a8bb366544354bd67f020006e11103bb4"></a><!-- doxytag: member="osd_scrub.c::osd_initial_OI_scrub" ref="a8bb366544354bd67f020006e11103bb4" args="(struct osd_thread_info *info, struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_initial_OI_scrub </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02282">2282</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00377">DTO_INDEX_DELETE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_igif_inoi</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00282">osd_device::od_ios_list</a>, <a class="el" href="osd__scrub_8c_source.html#l01744">osd_ios_item::oii_dentry</a>, <a class="el" href="osd__scrub_8c_source.html#l01746">osd_ios_item::oii_filldir</a>, <a class="el" href="osd__scrub_8c_source.html#l01743">osd_ios_item::oii_list</a>, <a class="el" href="osd__scrub_8c_source.html#l01745">osd_ios_item::oii_scandir</a>, <a class="el" href="osd__scrub_8c_source.html#l01591">osd_lf_map::olm_fid</a>, <a class="el" href="osd__scrub_8c_source.html#l01590">osd_lf_map::olm_name</a>, <a class="el" href="osd__scrub_8c_source.html#l01593">osd_lf_map::olm_namelen</a>, <a class="el" href="osd__scrub_8c_source.html#l02127">osd_ios_general_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l01760">osd_ios_lookup_one_len()</a>, <a class="el" href="osd__scrub_8c_source.html#l02084">osd_ios_root_fill()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a0bc1ab883cb7a9e1b538e6e834de6734"></a><!-- doxytag: member="osd_scrub.c::osd_inode_iteration" ref="a0bc1ab883cb7a9e1b538e6e834de6734" args="(struct osd_thread_info *info, struct osd_device *dev, __u32 max, bool preload)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_inode_iteration </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>preload</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01259">1259</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="osd__scrub_8c_source.html#l00805">osd_iit_param::bg</a>, <a class="el" href="osd__scrub_8c_source.html#l00804">osd_iit_param::bitmap</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="fail_8c_source.html#l00039">cfs_fail_val</a>, <a class="el" href="byteorder_8h_source.html#l00055">cpu_to_le16</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="llverdev_8c_source.html#l00113">full</a>, <a class="el" href="osd__scrub_8c_source.html#l00806">osd_iit_param::gbase</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00270">OBD_FAIL_OSD_SCRUB_DELAY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00297">osd_device::od_full_scrub_ratio</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00280">osd_device::od_otable_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8c_source.html#l00807">osd_iit_param::offset</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00309">OFSR_DIRECTLY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00315">OFSR_NEVER</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00207">osd_otable_cache::ooc_cached_items</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_in_join</a>, <a class="el" href="osd__scrub_8h_source.html#l00193">osd_scrub::os_inconsistent_items</a>, <a class="el" href="osd__scrub_8h_source.html#l00226">osd_scrub::os_new_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_partial_scan</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8c_source.html#l01174">osd_preload_exec()</a>, <a class="el" href="osd__scrub_8c_source.html#l01056">osd_preload_next()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8c_source.html#l01100">osd_scrub_exec()</a>, <a class="el" href="osd__scrub_8c_source.html#l01191">osd_scrub_join()</a>, <a class="el" href="osd__scrub_8c_source.html#l00989">osd_scrub_next()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00530">osd_thread_info::oti_ksfs</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8c_source.html#l00803">osd_iit_param::sb</a>, <a class="el" href="osd__scrub_8c_source.html#l01188">SCRUB_IT_ALL</a>, <a class="el" href="osd__scrub_8c_source.html#l01189">SCRUB_IT_CRASH</a>, <a class="el" href="osd__scrub_8c_source.html#l00054">SCRUB_NEXT_BREAK</a>, <a class="el" href="osd__scrub_8c_source.html#l00058">SCRUB_NEXT_CRASH</a>, <a class="el" href="osd__scrub_8c_source.html#l00056">SCRUB_NEXT_EXIT</a>, <a class="el" href="osd__scrub_8c_source.html#l00059">SCRUB_NEXT_FATAL</a>, <a class="el" href="osd__scrub_8c_source.html#l00057">SCRUB_NEXT_WAIT</a>, <a class="el" href="osd__scrub_8h_source.html#l00075">SF_AUTO</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00072">SF_INCONSISTENT</a>, <a class="el" href="osd__scrub_8h_source.html#l00162">scrub_file::sf_items_updated_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00069">SF_RECREATED</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00078">SF_UPGRADE</a>, <a class="el" href="osd__scrub_8h_source.html#l00100">SS_AUTO_FULL</a>, <a class="el" href="osd__scrub_8h_source.html#l00052">SS_COMPLETED</a>, <a class="el" href="osd__scrub_8h_source.html#l00097">SS_RESET</a>, <a class="el" href="osd__scrub_8h_source.html#l00049">SS_SCANNING</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01447">osd_otable_it_preload()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01471">osd_scrub_main()</a>.</p>

</div>
</div>
<a class="anchor" id="a84e3d9bfe96d35fc4605439de938fb90"></a><!-- doxytag: member="osd_scrub.c::osd_ios_dl_fill" ref="a84e3d9bfe96d35fc4605439de938fb90" args="(void *buf, const char *name, int namelen, loff_t offset, __u64 ino, unsigned d_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_dl_fill </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>d_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02007">2007</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__scrub_8c_source.html#l01756">osd_ios_filldir_buf::oifb_dentry</a>, <a class="el" href="osd__scrub_8c_source.html#l01755">osd_ios_filldir_buf::oifb_dev</a>, <a class="el" href="osd__scrub_8c_source.html#l01754">osd_ios_filldir_buf::oifb_info</a>, <a class="el" href="osd__scrub_8c_source.html#l01591">osd_lf_map::olm_fid</a>, <a class="el" href="osd__scrub_8c_source.html#l01592">osd_lf_map::olm_flags</a>, <a class="el" href="osd__scrub_8c_source.html#l01590">osd_lf_map::olm_name</a>, <a class="el" href="osd__scrub_8c_source.html#l01593">osd_lf_map::olm_namelen</a>, <a class="el" href="osd__scrub_8c_source.html#l01760">osd_ios_lookup_one_len()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02166">osd_ios_ROOT_scan()</a>.</p>

</div>
</div>
<a class="anchor" id="acf5415fb99a87e5669a24d132b86176e"></a><!-- doxytag: member="osd_scrub.c::osd_ios_general_scan" ref="acf5415fb99a87e5669a24d132b86176e" args="(struct osd_thread_info *info, struct osd_device *dev, struct dentry *dentry, filldir_t filldir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_general_scan </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">filldir_t&nbsp;</td>
          <td class="paramname"> <em>filldir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02127">2127</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd__scrub_8c_source.html#l01754">osd_ios_filldir_buf::oifb_info</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00528">osd_thread_info::oti_file</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__compat_8h_source.html#l00350">set_file_inode</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02282">osd_initial_OI_scrub()</a>, <a class="el" href="osd__scrub_8c_source.html#l01900">osd_ios_lf_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l02166">osd_ios_ROOT_scan()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01974">osd_ios_varfid_fill()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4d277b6b1735f3df253c6c9862529af"></a><!-- doxytag: member="osd_scrub.c::osd_ios_lf_fill" ref="ad4d277b6b1735f3df253c6c9862529af" args="(void *buf, const char *name, int namelen, loff_t offset, __u64 ino, unsigned d_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_lf_fill </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>d_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It scans the /lost+found, and for the OST-object (with <a class="el" href="structfilter__fid.html">filter_fid</a> or <a class="el" href="structfilter__fid__old.html">filter_fid_old</a>), move them back to its proper /O/&lt;seq&gt;/d&lt;x&gt;. </p>

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01900">1900</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8c_source.html#l01756">osd_ios_filldir_buf::oifb_dentry</a>, <a class="el" href="osd__scrub_8c_source.html#l01755">osd_ios_filldir_buf::oifb_dev</a>, <a class="el" href="osd__scrub_8c_source.html#l01754">osd_ios_filldir_buf::oifb_info</a>, <a class="el" href="osd__scrub_8h_source.html#l00223">osd_scrub::os_lf_failed</a>, <a class="el" href="osd__scrub_8h_source.html#l00221">osd_scrub::os_lf_repaired</a>, <a class="el" href="osd__scrub_8h_source.html#l00219">osd_scrub::os_lf_scanned</a>, <a class="el" href="osd__scrub_8c_source.html#l02127">osd_ios_general_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l01760">osd_ios_lookup_one_len()</a>, <a class="el" href="osd__scrub_8c_source.html#l01786">osd_ios_new_item()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd__compat_8c_source.html#l01078">osd_obj_map_recover()</a>, <a class="el" href="osd__scrub_8c_source.html#l00853">osd_scrub_get_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8c_source.html#l00062">SCRUB_NEXT_OSTOBJ</a>, and <a class="el" href="osd__scrub_8c_source.html#l00063">SCRUB_NEXT_OSTOBJ_OLD</a>.</p>

</div>
</div>
<a class="anchor" id="aa434f420786e1924c8a5915b767dd658"></a><!-- doxytag: member="osd_scrub.c::osd_ios_lookup_one_len" ref="aa434f420786e1924c8a5915b767dd658" args="(const char *name, struct dentry *parent, int namelen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct dentry* osd_ios_lookup_one_len </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01760">1760</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, and <a class="el" href="lvfs_8h_source.html#l00084">ll_lookup_one_len()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02282">osd_initial_OI_scrub()</a>, <a class="el" href="osd__scrub_8c_source.html#l02007">osd_ios_dl_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l01900">osd_ios_lf_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l02241">osd_ios_OBJECTS_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l02084">osd_ios_root_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l02166">osd_ios_ROOT_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l02049">osd_ios_uld_fill()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01974">osd_ios_varfid_fill()</a>.</p>

</div>
</div>
<a class="anchor" id="a15a2aa24780f92fbc1b6bb9d0bba275f"></a><!-- doxytag: member="osd_scrub.c::osd_ios_new_item" ref="a15a2aa24780f92fbc1b6bb9d0bba275f" args="(struct osd_device *dev, struct dentry *dentry, scandir_t scandir, filldir_t filldir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_new_item </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="osd__scrub_8c.html#afe5c012767bf82938ac32f6918ab66a9">scandir_t</a>&nbsp;</td>
          <td class="paramname"> <em>scandir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">filldir_t&nbsp;</td>
          <td class="paramname"> <em>filldir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01786">1786</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00282">osd_device::od_ios_list</a>, <a class="el" href="osd__scrub_8c_source.html#l01744">osd_ios_item::oii_dentry</a>, <a class="el" href="osd__scrub_8c_source.html#l01746">osd_ios_item::oii_filldir</a>, <a class="el" href="osd__scrub_8c_source.html#l01743">osd_ios_item::oii_list</a>, <a class="el" href="osd__scrub_8c_source.html#l01745">osd_ios_item::oii_scandir</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01900">osd_ios_lf_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l02084">osd_ios_root_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l02166">osd_ios_ROOT_scan()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01974">osd_ios_varfid_fill()</a>.</p>

</div>
</div>
<a class="anchor" id="a28a5a06aa581bfe5f9656da998bcdc96"></a><!-- doxytag: member="osd_scrub.c::osd_ios_OBJECTS_scan" ref="a28a5a06aa581bfe5f9656da998bcdc96" args="(struct osd_thread_info *info, struct osd_device *dev, struct dentry *dentry, filldir_t filldir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_OBJECTS_scan </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">filldir_t&nbsp;</td>
          <td class="paramname"> <em>filldir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02241">2241</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00091">ADMIN_GRP</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00090">ADMIN_USR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8c_source.html#l01760">osd_ios_lookup_one_len()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00180">scrub_file::sf_internal_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00115">SIF_NO_HANDLE_OLD_FID</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a4c4156bdb09ffe1e43fea252a104ecd6"></a><!-- doxytag: member="osd_scrub.c::osd_ios_root_fill" ref="a4c4156bdb09ffe1e43fea252a104ecd6" args="(void *buf, const char *name, int namelen, loff_t offset, __u64 ino, unsigned d_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_root_fill </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>d_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02084">2084</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__scrub_8c_source.html#l01756">osd_ios_filldir_buf::oifb_dentry</a>, <a class="el" href="osd__scrub_8c_source.html#l01755">osd_ios_filldir_buf::oifb_dev</a>, <a class="el" href="osd__scrub_8c_source.html#l01754">osd_ios_filldir_buf::oifb_info</a>, <a class="el" href="osd__scrub_8c_source.html#l01585">OLF_NO_OI</a>, <a class="el" href="osd__scrub_8c_source.html#l01582">OLF_SCAN_SUBITEMS</a>, <a class="el" href="osd__scrub_8c_source.html#l01591">osd_lf_map::olm_fid</a>, <a class="el" href="osd__scrub_8c_source.html#l01595">osd_lf_map::olm_filldir</a>, <a class="el" href="osd__scrub_8c_source.html#l01592">osd_lf_map::olm_flags</a>, <a class="el" href="osd__scrub_8c_source.html#l01590">osd_lf_map::olm_name</a>, <a class="el" href="osd__scrub_8c_source.html#l01593">osd_lf_map::olm_namelen</a>, <a class="el" href="osd__scrub_8c_source.html#l01594">osd_lf_map::olm_scandir</a>, <a class="el" href="osd__scrub_8c_source.html#l01760">osd_ios_lookup_one_len()</a>, <a class="el" href="osd__scrub_8c_source.html#l01786">osd_ios_new_item()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02282">osd_initial_OI_scrub()</a>.</p>

</div>
</div>
<a class="anchor" id="a54959a6e3f916f618b88efb937450d0c"></a><!-- doxytag: member="osd_scrub.c::osd_ios_ROOT_scan" ref="a54959a6e3f916f618b88efb937450d0c" args="(struct osd_thread_info *info, struct osd_device *dev, struct dentry *dentry, filldir_t filldir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_ROOT_scan </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">filldir_t&nbsp;</td>
          <td class="paramname"> <em>filldir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02166">2166</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l01035">dot_lustre_name</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="fid__lib_8c_source.html#l00084">LU_DOT_LUSTRE_FID</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_convert_igif</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8c_source.html#l02007">osd_ios_dl_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l02127">osd_ios_general_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l01760">osd_ios_lookup_one_len()</a>, <a class="el" href="osd__scrub_8c_source.html#l01786">osd_ios_new_item()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00272">osd_scrub_file_reset()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00180">scrub_file::sf_internal_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00078">SF_UPGRADE</a>, and <a class="el" href="osd__scrub_8h_source.html#l00115">SIF_NO_HANDLE_OLD_FID</a>.</p>

</div>
</div>
<a class="anchor" id="a182d41e599a2c755c759d7a582dfedc2"></a><!-- doxytag: member="osd_scrub.c::osd_ios_scan_one" ref="a182d41e599a2c755c759d7a582dfedc2" args="(struct osd_thread_info *info, struct osd_device *dev, struct inode *inode, const struct lu_fid *fid, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_scan_one </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="osd__scrub_8c.html#a182d41e599a2c755c759d7a582dfedc2" title="osd_ios_scan_one() - check/fix LMA FID and OI entry for one inode">osd_ios_scan_one()</a> - check/fix LMA FID and OI entry for one inode </p>
<p>The passed <em>inode's</em> <em>fid</em> is verified against the LMA FID. If the <em>fid</em> is NULL or is empty the IGIF FID is used. The FID is verified in the OI to reference the inode, or fixed if it is missing or references another inode. </p>

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01813">1813</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00376">DTO_INDEX_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00378">DTO_INDEX_UPDATE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00147">lu_fid::f_oid</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__user_8h_source.html#l00192">lustre_mdt_attrs::lma_compat</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__idl_8h_source.html#l00754">lu_igif_build()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00259">osd_device::od_index</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8c_source.html#l01583">OLF_HIDE_FID</a>, <a class="el" href="osd__scrub_8c_source.html#l01586">OLF_IDX_IN_FID</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd__oi_8h_source.html#l00130">osd_id_eq_strict()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00272">osd_scrub_file_reset()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00538">osd_thread_info::oti_id</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00539">osd_thread_info::oti_id2</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, and <a class="el" href="osd__scrub_8h_source.html#l00072">SF_INCONSISTENT</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02007">osd_ios_dl_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l02241">osd_ios_OBJECTS_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l02084">osd_ios_root_fill()</a>, <a class="el" href="osd__scrub_8c_source.html#l02166">osd_ios_ROOT_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l02049">osd_ios_uld_fill()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01974">osd_ios_varfid_fill()</a>.</p>

</div>
</div>
<a class="anchor" id="a0169818440f9a759edc15efe45a46a25"></a><!-- doxytag: member="osd_scrub.c::osd_ios_uld_fill" ref="a0169818440f9a759edc15efe45a46a25" args="(void *buf, const char *name, int namelen, loff_t offset, __u64 ino, unsigned d_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_uld_fill </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>d_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02049">2049</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="osd__scrub_8c_source.html#l01756">osd_ios_filldir_buf::oifb_dentry</a>, <a class="el" href="osd__scrub_8c_source.html#l01755">osd_ios_filldir_buf::oifb_dev</a>, <a class="el" href="osd__scrub_8c_source.html#l01754">osd_ios_filldir_buf::oifb_info</a>, <a class="el" href="osd__scrub_8c_source.html#l01760">osd_ios_lookup_one_len()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__user_8h_source.html#l00555">RFID</a>, and <a class="el" href="lustre__user_8h_source.html#l00554">SFID</a>.</p>

</div>
</div>
<a class="anchor" id="af9a9888a1b0d7b7fd07a06287ac23eb4"></a><!-- doxytag: member="osd_scrub.c::osd_ios_varfid_fill" ref="af9a9888a1b0d7b7fd07a06287ac23eb4" args="(void *buf, const char *name, int namelen, loff_t offset, __u64 ino, unsigned d_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_ios_varfid_fill </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>d_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01974">1974</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__scrub_8c_source.html#l01756">osd_ios_filldir_buf::oifb_dentry</a>, <a class="el" href="osd__scrub_8c_source.html#l01755">osd_ios_filldir_buf::oifb_dev</a>, <a class="el" href="osd__scrub_8c_source.html#l01754">osd_ios_filldir_buf::oifb_info</a>, <a class="el" href="osd__scrub_8c_source.html#l02127">osd_ios_general_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l01760">osd_ios_lookup_one_len()</a>, <a class="el" href="osd__scrub_8c_source.html#l01786">osd_ios_new_item()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a29a581a5d333eb5349c64d52e273ecd9"></a><!-- doxytag: member="osd_scrub.c::osd_lf_fid2name" ref="a29a581a5d333eb5349c64d52e273ecd9" args="(const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* osd_lf_fid2name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02356">2356</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="osd__scrub_8c_source.html#l01584">OLF_SHOW_NAME</a>, <a class="el" href="osd__scrub_8c_source.html#l01591">osd_lf_map::olm_fid</a>, <a class="el" href="osd__scrub_8c_source.html#l01592">osd_lf_map::olm_flags</a>, and <a class="el" href="osd__scrub_8c_source.html#l01590">osd_lf_map::olm_name</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l01263">osd_obj_spec_lookup()</a>, and <a class="el" href="osd__compat_8c_source.html#l01195">osd_object_spec_find()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c3c2f6e2535ebf779351ac39abcea83"></a><!-- doxytag: member="osd_scrub.c::osd_oii_insert" ref="a1c3c2f6e2535ebf779351ac39abcea83" args="(struct osd_device *dev, struct osd_idmap_cache *oic, int insert)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oii_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>oic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>insert</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02935">2935</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="createmany_8c_source.html#l00069">now()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00301">osd_device::od_full_scrub_threshold_rate</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00192">osd_inconsistent_item::oii_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00194">osd_inconsistent_item::oii_insert</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00189">osd_inconsistent_item::oii_list</a>, <a class="el" href="osd__scrub_8h_source.html#l00238">osd_scrub::os_bad_oimap_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00239">osd_scrub::os_bad_oimap_time</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00193">osd_scrub::os_inconsistent_items</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_partial_scan</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8c_source.html#l02933">SCRUB_BAD_OIMAP_DECAY_INTERVAL</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">osd_consistency_check()</a>.</p>

</div>
</div>
<a class="anchor" id="a61d4f2b60f546541806370355f8b69d8"></a><!-- doxytag: member="osd_scrub.c::osd_oii_lookup" ref="a61d4f2b60f546541806370355f8b69d8" args="(struct osd_device *dev, const struct lu_fid *fid, struct osd_inode_id *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oii_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02990">2990</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00192">osd_inconsistent_item::oii_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00189">osd_inconsistent_item::oii_list</a>, <a class="el" href="osd__scrub_8h_source.html#l00193">osd_scrub::os_inconsistent_items</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a2450844c10c18089197ee1145e8f68f2"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_fini" ref="a2450844c10c18089197ee1145e8f68f2" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_otable_it_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02739">2739</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd__scrub_8c_source.html#l02455">do_osd_scrub_stop()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00280">osd_device::od_otable_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00279">osd_device::od_otable_mutex</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00214">osd_otable_it::ooi_dev</a>.</p>

</div>
</div>
<a class="anchor" id="a0509d276bb2c7fb472eebb0785887cdb"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_get" ref="a0509d276bb2c7fb472eebb0785887cdb" args="(const struct lu_env *env, struct dt_it *di, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_otable_it_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02754">2754</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa40b6519c666bb7a86574c79c20f8e72"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_init" ref="aa40b6519c666bb7a86574c79c20f8e72" args="(const struct lu_env *env, struct dt_object *dt, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct dt_it* osd_otable_it_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02679">2679</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osd__scrub_8c_source.html#l02377">do_osd_scrub_start()</a>, <a class="el" href="dt__object_8h_source.html#l01708">DOIF_DRYRUN</a>, <a class="el" href="dt__object_8h_source.html#l01699">DOIF_FAILOUT</a>, <a class="el" href="dt__object_8h_source.html#l01705">DOIF_OUTUSED</a>, <a class="el" href="dt__object_8h_source.html#l01702">DOIF_RESET</a>, <a class="el" href="dt__object_8h_source.html#l01694">DOIV_DRYRUN</a>, <a class="el" href="dt__object_8h_source.html#l01693">DOIV_ERROR_HANDLE</a>, <a class="el" href="dt__object_8h_source.html#l01720">DT_OTABLE_IT_FLAGS_MASK</a>, <a class="el" href="dt__object_8h_source.html#l01719">DT_OTABLE_IT_FLAGS_SHIFT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00280">osd_device::od_otable_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00279">osd_device::od_otable_mutex</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00204">osd_otable_cache::ooc_consumer_idx</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00214">osd_otable_it::ooi_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_used_outside</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00878">osd_dev()</a>, <a class="el" href="osd__scrub_8h_source.html#l00103">SS_AUTO_PARTIAL</a>, <a class="el" href="osd__scrub_8h_source.html#l00109">SS_CLEAR_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00094">SS_CLEAR_FAILOUT</a>, <a class="el" href="osd__scrub_8h_source.html#l00097">SS_RESET</a>, <a class="el" href="osd__scrub_8h_source.html#l00106">SS_SET_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00091">SS_SET_FAILOUT</a>, and <a class="el" href="rename__many_8c_source.html#l00057">start</a>.</p>

</div>
</div>
<a class="anchor" id="a60656ee143c45e639d8bb4f67af5cd96"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_key" ref="a60656ee143c45e639d8bb4f67af5cd96" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a>* osd_otable_it_key </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02832">2832</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="aee6a0afdb9d74335ec8bad68f20d39f5"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_key_rec" ref="aee6a0afdb9d74335ec8bad68f20d39f5" args="(const struct lu_env *env, const struct dt_it *di, void *key_rec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_otable_it_key_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key_rec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02909">2909</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0ccae53aeeef841a421a090968bafc80"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_key_size" ref="a0ccae53aeeef841a421a090968bafc80" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_otable_it_key_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02838">2838</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>.</p>

</div>
</div>
<a class="anchor" id="ae6226df9fa0efe4737cfa94da25d8d65"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_load" ref="ae6226df9fa0efe4737cfa94da25d8d65" args="(const struct lu_env *env, const struct dt_it *di, __u64 hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_otable_it_load </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the OSD layer iteration start position as the specified hash. </p>

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02878">2878</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00214">osd_otable_it::ooi_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_user_ready</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_speed</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8c_source.html#l02779">osd_otable_it_next()</a>, <a class="el" href="osd__scrub_8c_source.html#l00052">OSD_OTABLE_MAX_HASH</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>.</p>

</div>
</div>
<a class="anchor" id="a21a5b6ea2b6785858e4ed6688d5c6d31"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_next" ref="a21a5b6ea2b6785858e4ed6688d5c6d31" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_otable_it_next </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02779">2779</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00207">osd_otable_cache::ooc_cached_items</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00204">osd_otable_cache::ooc_consumer_idx</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_all_cached</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00214">osd_otable_it::ooi_dev</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_used_outside</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_user_ready</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_waiting</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00184">OSD_OTABLE_IT_CACHE_MASK</a>, <a class="el" href="osd__scrub_8c_source.html#l01447">osd_otable_it_preload()</a>, <a class="el" href="osd__scrub_8c_source.html#l02765">osd_otable_it_wakeup()</a>, <a class="el" href="osd__scrub_8c_source.html#l00078">osd_scrub_has_window()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, and <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02878">osd_otable_it_load()</a>.</p>

</div>
</div>
<a class="anchor" id="afd7566f1391eba075dd2b4005b2090d7"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_preload" ref="afd7566f1391eba075dd2b4005b2090d7" args="(const struct lu_env *env, struct osd_otable_it *it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_otable_it_preload </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__otable__it.html">osd_otable_it</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01447">1447</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00207">osd_otable_cache::ooc_cached_items</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_all_cached</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00214">osd_otable_it::ooi_dev</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_waiting</a>, <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00183">OSD_OTABLE_IT_CACHE_SIZE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd__scrub_8c_source.html#l00078">osd_scrub_has_window()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8c_source.html#l01188">SCRUB_IT_ALL</a>, and <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02779">osd_otable_it_next()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f41e581ebed5dbb30e3828bc179ebad"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_put" ref="a8f41e581ebed5dbb30e3828bc179ebad" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_otable_it_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02760">2760</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="afb5c7bfa1cfe373dd7a172cf13576710"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_rec" ref="afb5c7bfa1cfe373dd7a172cf13576710" args="(const struct lu_env *env, const struct dt_it *di, struct dt_rec *rec, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_otable_it_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02844">2844</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00198">osd_otable_cache::ooc_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00204">osd_otable_cache::ooc_consumer_idx</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00201">osd_otable_cache::ooc_producer_idx</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

</div>
</div>
<a class="anchor" id="af536d3a07dde67b078c5bceed8f31d37"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_store" ref="af536d3a07dde67b078c5bceed8f31d37" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> osd_otable_it_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02861">2861</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00198">osd_otable_cache::ooc_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00204">osd_otable_cache::ooc_consumer_idx</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_user_ready</a>.</p>

</div>
</div>
<a class="anchor" id="a7e01e19e1ad3681a8370e419868a7355"></a><!-- doxytag: member="osd_scrub.c::osd_otable_it_wakeup" ref="a7e01e19e1ad3681a8370e419868a7355" args="(struct osd_scrub *scrub, struct osd_otable_it *it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_otable_it_wakeup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__otable__it.html">osd_otable_it</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02765">2765</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_waiting</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_waiting</a>, and <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02779">osd_otable_it_next()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a9372d35e1c3a79ac9ff03a07a53f3e"></a><!-- doxytag: member="osd_scrub.c::osd_preload_exec" ref="a0a9372d35e1c3a79ac9ff03a07a53f3e" args="(struct osd_thread_info *info, struct osd_device *dev, struct osd_iit_param *param, struct osd_idmap_cache *oic, bool *noslot, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_preload_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>oic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>noslot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01174">1174</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00280">osd_device::od_otable_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00207">osd_otable_cache::ooc_cached_items</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00201">osd_otable_cache::ooc_producer_idx</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00184">OSD_OTABLE_IT_CACHE_MASK</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>.</p>

</div>
</div>
<a class="anchor" id="a709116124e091db64cfd222a467bcd4f"></a><!-- doxytag: member="osd_scrub.c::osd_preload_next" ref="a709116124e091db64cfd222a467bcd4f" args="(struct osd_thread_info *info, struct osd_device *dev, struct osd_iit_param *param, struct osd_idmap_cache **oic, const bool noslot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_preload_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> **&nbsp;</td>
          <td class="paramname"> <em>oic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>noslot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01056">1056</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd__scrub_8c_source.html#l00806">osd_iit_param::gbase</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00280">osd_device::od_otable_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8c_source.html#l00807">osd_iit_param::offset</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00198">osd_otable_cache::ooc_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00201">osd_otable_cache::ooc_producer_idx</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8c_source.html#l00940">osd_iit_iget()</a>, <a class="el" href="osd__scrub_8c_source.html#l00822">osd_iit_next()</a>, <a class="el" href="osd__scrub_8c_source.html#l00803">osd_iit_param::sb</a>, <a class="el" href="osd__scrub_8c_source.html#l00056">SCRUB_NEXT_EXIT</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, and <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>.</p>

</div>
</div>
<a class="anchor" id="a131db3cafecf05e0b036cbd5447f0d0f"></a><!-- doxytag: member="osd_scrub.c::osd_scrub2dev" ref="a131db3cafecf05e0b036cbd5447f0d0f" args="(struct osd_scrub *scrub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosd__device.html">osd_device</a>* osd_scrub2dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00068">68</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00073">osd_scrub2sb()</a>.</p>

</div>
</div>
<a class="anchor" id="aa9b991661ea473b92e7dbfd3d2b0a547"></a><!-- doxytag: member="osd_scrub.c::osd_scrub2name" ref="aa9b991661ea473b92e7dbfd3d2b0a547" args="(struct osd_scrub *scrub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* osd_scrub2name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00084">84</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd__scrub_8c_source.html#l00073">osd_scrub2sb()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02377">do_osd_scrub_start()</a>, <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, <a class="el" href="osd__scrub_8c_source.html#l01100">osd_scrub_exec()</a>, <a class="el" href="osd__scrub_8c_source.html#l00300">osd_scrub_file_load()</a>, <a class="el" href="osd__scrub_8c_source.html#l00272">osd_scrub_file_reset()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="osd__scrub_8c_source.html#l01191">osd_scrub_join()</a>, <a class="el" href="osd__scrub_8c_source.html#l01471">osd_scrub_main()</a>, <a class="el" href="osd__scrub_8c_source.html#l00751">osd_scrub_post()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00649">osd_scrub_prep()</a>.</p>

</div>
</div>
<a class="anchor" id="afbb9578061a1c34a4e6d18ace9221e21"></a><!-- doxytag: member="osd_scrub.c::osd_scrub2sb" ref="afbb9578061a1c34a4e6d18ace9221e21" args="(struct osd_scrub *scrub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct super_block* osd_scrub2sb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00073">73</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00068">osd_scrub2dev()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>.</p>

</div>
</div>
<a class="anchor" id="a486eac35c323e3832ad7a2ff300015d0"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_check_local_fldb" ref="a486eac35c323e3832ad7a2ff300015d0" args="(struct osd_thread_info *info, struct osd_device *dev, struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_check_local_fldb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SCRUB_NEXT_OSTOBJ_OLD,:</em>&nbsp;</td><td>FID-on-OST </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0,:</em>&nbsp;</td><td>FID-on-MDT </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00839">839</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_is_ost</a>, and <a class="el" href="osd__scrub_8c_source.html#l00063">SCRUB_NEXT_OSTOBJ_OLD</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00853">osd_scrub_get_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="ad428fbf663a7aab8d1fc46b8c7bd2ef0"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_check_update" ref="ad428fbf663a7aab8d1fc46b8c7bd2ef0" args="(struct osd_thread_info *info, struct osd_device *dev, struct osd_idmap_cache *oic, int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_check_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>oic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00459">459</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00377">DTO_INDEX_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00376">DTO_INDEX_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00378">DTO_INDEX_UPDATE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00447">fid_is_igif()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00082">LDISKFS_STATE_LUSTRE_DESTROY</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00520">OBD_FAIL_FID_NOLMA</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_check_ff</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_igif_inoi</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__oi_8h_source.html#l00138">OI_KNOWN_ON_OST</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd__oi_8h_source.html#l00089">osd_idmap_cache::oic_lid</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00194">osd_inconsistent_item::oii_insert</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00189">osd_inconsistent_item::oii_list</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_convert_igif</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_speed</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_in_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00226">osd_scrub::os_new_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_partial_scan</a>, <a class="el" href="osd__scrub_8h_source.html#l00197">osd_scrub::os_rwsem</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd__oi_8h_source.html#l00121">osd_id_eq()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00930">osd_is_ea_inode()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00847">osd_oi_fid2idx()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, <a class="el" href="osd__scrub_8c_source.html#l00370">osd_scrub_convert_ff()</a>, <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00538">osd_thread_info::oti_id</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8c_source.html#l00061">SCRUB_NEXT_NOLMA</a>, <a class="el" href="osd__scrub_8c_source.html#l00062">SCRUB_NEXT_OSTOBJ</a>, <a class="el" href="osd__scrub_8c_source.html#l00063">SCRUB_NEXT_OSTOBJ_OLD</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00072">SF_INCONSISTENT</a>, <a class="el" href="osd__scrub_8h_source.html#l00180">scrub_file::sf_internal_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00159">scrub_file::sf_items_failed</a>, <a class="el" href="osd__scrub_8h_source.html#l00168">scrub_file::sf_items_igif</a>, <a class="el" href="osd__scrub_8h_source.html#l00156">scrub_file::sf_items_updated</a>, <a class="el" href="osd__scrub_8h_source.html#l00162">scrub_file::sf_items_updated_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00186">scrub_file::sf_oi_bitmap</a>, <a class="el" href="osd__scrub_8h_source.html#l00132">scrub_file::sf_param</a>, <a class="el" href="osd__scrub_8h_source.html#l00150">scrub_file::sf_pos_first_inconsistent</a>, <a class="el" href="osd__scrub_8h_source.html#l00144">scrub_file::sf_pos_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00069">SF_RECREATED</a>, <a class="el" href="osd__scrub_8h_source.html#l00078">SF_UPGRADE</a>, <a class="el" href="osd__scrub_8h_source.html#l00115">SIF_NO_HANDLE_OLD_FID</a>, <a class="el" href="osd__scrub_8h_source.html#l00086">SP_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00083">SP_FAILOUT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01100">osd_scrub_exec()</a>.</p>

</div>
</div>
<a class="anchor" id="ac90199f52bb45865f03260c7abe337c5"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_checkpoint" ref="ac90199f52bb45865f03260c7abe337c5" args="(struct osd_scrub *scrub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_checkpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00728">728</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00188">cfs_duration_sec()</a>, <a class="el" href="linux-time_8h_source.html#l00142">cfs_time_before()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00050">HALF_SEC</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00226">osd_scrub::os_new_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00197">osd_scrub::os_rwsem</a>, <a class="el" href="osd__scrub_8h_source.html#l00210">osd_scrub::os_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00213">osd_scrub::os_time_next_checkpoint</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="osd__scrub_8h_source.html#l00153">scrub_file::sf_items_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00147">scrub_file::sf_pos_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00171">scrub_file::sf_run_time</a>, and <a class="el" href="osd__scrub_8h_source.html#l00141">scrub_file::sf_time_last_checkpoint</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01100">osd_scrub_exec()</a>.</p>

</div>
</div>
<a class="anchor" id="a143eda603dd5fcef3aa810a5d6653699"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_cleanup" ref="a143eda603dd5fcef3aa810a5d6653699" args="(const struct lu_env *env, struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osd_scrub_cleanup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02662">2662</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00244">osd_device::od_oi_table</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00280">osd_device::od_otable_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00207">osd_scrub::os_inode</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00496">osd_oi_fini()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02476">osd_scrub_stop()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06389">osd_device_fini()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">osd_device_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a6de3d5974a7b5981da822adc7425b4bd"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_convert_ff" ref="a6de3d5974a7b5981da822adc7425b4bd" args="(struct osd_thread_info *info, struct osd_device *dev, struct inode *inode, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_convert_ff </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00370">370</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd__xattr_8c_source.html#l00227">__osd_xattr_get()</a>, <a class="el" href="osd__xattr_8c_source.html#l00477">__osd_xattr_set()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00382">DTO_XATTR_SET</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00462">fid_is_idif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00791">LDISKFS_HT_MISC</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="lustre__idl_8h_source.html#l00184">LMAC_FID_ON_OST</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_index_in_idif</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="structost__id.html#a01d44bff8859d8cd3aabe8a4b0c2ee46">ost_id::oi</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01782">osd_dto_credits_noquota</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00792">osd_journal_start_sb</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="lustre__idl_8h_source.html#l00659">ostid_to_fid()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00595">osd_thread_info::oti_ff</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00541">osd_thread_info::oti_ostid</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00132">scrub_file::sf_param</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, <a class="el" href="osd__scrub_8h_source.html#l00086">SP_DRYRUN</a>, <a class="el" href="rename__many_8c_source.html#l00056">stop</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__idl_8h_source.html#l01599">XATTR_NAME_FID</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>.</p>

</div>
</div>
<a class="anchor" id="afd6f406fb0c26c10f2b313f839e96851"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_dump" ref="afd6f406fb0c26c10f2b313f839e96851" args="(struct seq_file *m, struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_scrub_dump </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l03071">3071</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="linux-time_8h_source.html#l00188">cfs_duration_sec()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00050">HALF_SEC</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00223">osd_scrub::os_lf_failed</a>, <a class="el" href="osd__scrub_8h_source.html#l00221">osd_scrub::os_lf_repaired</a>, <a class="el" href="osd__scrub_8h_source.html#l00219">osd_scrub::os_lf_scanned</a>, <a class="el" href="osd__scrub_8h_source.html#l00226">osd_scrub::os_new_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00197">osd_scrub::os_rwsem</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8h_source.html#l00210">osd_scrub::os_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8c_source.html#l03037">scrub_bits_dump()</a>, <a class="el" href="osd__scrub_8c_source.html#l03063">scrub_pos_dump()</a>, <a class="el" href="osd__scrub_8c_source.html#l03054">scrub_time_dump()</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00153">scrub_file::sf_items_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00159">scrub_file::sf_items_failed</a>, <a class="el" href="osd__scrub_8h_source.html#l00168">scrub_file::sf_items_igif</a>, <a class="el" href="osd__scrub_8h_source.html#l00165">scrub_file::sf_items_noscrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00156">scrub_file::sf_items_updated</a>, <a class="el" href="osd__scrub_8h_source.html#l00162">scrub_file::sf_items_updated_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00126">scrub_file::sf_magic</a>, <a class="el" href="osd__scrub_8h_source.html#l00177">scrub_file::sf_oi_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00132">scrub_file::sf_param</a>, <a class="el" href="osd__scrub_8h_source.html#l00150">scrub_file::sf_pos_first_inconsistent</a>, <a class="el" href="osd__scrub_8h_source.html#l00147">scrub_file::sf_pos_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00144">scrub_file::sf_pos_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00171">scrub_file::sf_run_time</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00174">scrub_file::sf_success_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00141">scrub_file::sf_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00135">scrub_file::sf_time_last_complete</a>, <a class="el" href="osd__scrub_8h_source.html#l00138">scrub_file::sf_time_latest_start</a>, and <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>.</p>

</div>
</div>
<a class="anchor" id="ac09061970ab56969080ab70fa3aa3247"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_exec" ref="ac09061970ab56969080ab70fa3aa3247" args="(struct osd_thread_info *info, struct osd_device *dev, struct osd_iit_param *param, struct osd_idmap_cache *oic, bool *noslot, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>oic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>noslot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01100">1100</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="osd__scrub_8c_source.html#l00806">osd_iit_param::gbase</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00280">osd_device::od_otable_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8c_source.html#l00807">osd_iit_param::offset</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_waiting</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_speed</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_in_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00226">osd_scrub::os_new_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00197">osd_scrub::os_rwsem</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>, <a class="el" href="osd__scrub_8c_source.html#l00728">osd_scrub_checkpoint()</a>, <a class="el" href="osd__scrub_8c_source.html#l00078">osd_scrub_has_window()</a>, <a class="el" href="osd__scrub_8c_source.html#l01086">osd_scrub_wakeup()</a>, <a class="el" href="osd__scrub_8c_source.html#l00055">SCRUB_NEXT_CONTINUE</a>, <a class="el" href="osd__scrub_8c_source.html#l00060">SCRUB_NEXT_NOSCRUB</a>, <a class="el" href="osd__scrub_8c_source.html#l00057">SCRUB_NEXT_WAIT</a>, <a class="el" href="osd__scrub_8h_source.html#l00165">scrub_file::sf_items_noscrub</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="obd_8c_source.html#l00114">thread</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a4eb4361335265ca37dc24a368b6982"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_file_init" ref="a9a4eb4361335265ca37dc24a368b6982" args="(struct osd_scrub *scrub, __u8 *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_scrub_file_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8 *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00262">262</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00038">SCRUB_MAGIC_V1</a>, <a class="el" href="osd__scrub_8h_source.html#l00126">scrub_file::sf_magic</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00120">scrub_file::sf_uuid</a>, and <a class="el" href="osd__scrub_8h_source.html#l00046">SS_INIT</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a0e96167600eeb56488a40dcce2e319ff"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_file_load" ref="a0e96167600eeb56488a40dcce2e319ff" args="(struct osd_scrub *scrub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_file_load </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00300">300</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00204">osd_scrub::os_file_disk</a>, <a class="el" href="osd__scrub_8h_source.html#l00207">osd_scrub::os_inode</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01402">osd_ldiskfs_read()</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8c_source.html#l00192">osd_scrub_file_to_cpu()</a>, <a class="el" href="osd__scrub_8h_source.html#l00038">SCRUB_MAGIC_V1</a>, and <a class="el" href="osd__scrub_8h_source.html#l00126">scrub_file::sf_magic</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a1361e78746369d0de05029d472e425ce"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_file_reset" ref="a1361e78746369d0de05029d472e425ce" args="(struct osd_scrub *scrub, __u8 *uuid, __u64 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osd_scrub_file_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8 *&nbsp;</td>
          <td class="paramname"> <em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00272">272</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_in_join</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8h_source.html#l00075">SF_AUTO</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00153">scrub_file::sf_items_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00159">scrub_file::sf_items_failed</a>, <a class="el" href="osd__scrub_8h_source.html#l00168">scrub_file::sf_items_igif</a>, <a class="el" href="osd__scrub_8h_source.html#l00165">scrub_file::sf_items_noscrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00156">scrub_file::sf_items_updated</a>, <a class="el" href="osd__scrub_8h_source.html#l00162">scrub_file::sf_items_updated_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00150">scrub_file::sf_pos_first_inconsistent</a>, <a class="el" href="osd__scrub_8h_source.html#l00147">scrub_file::sf_pos_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00144">scrub_file::sf_pos_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00171">scrub_file::sf_run_time</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00141">scrub_file::sf_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00138">scrub_file::sf_time_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00120">scrub_file::sf_uuid</a>, and <a class="el" href="osd__scrub_8h_source.html#l00046">SS_INIT</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02166">osd_ios_ROOT_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>, <a class="el" href="osd__scrub_8c_source.html#l01191">osd_scrub_join()</a>, <a class="el" href="osd__scrub_8c_source.html#l00649">osd_scrub_prep()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a6334fbe7a50b9b07959f5d088d4b7530"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_file_store" ref="a6334fbe7a50b9b07959f5d088d4b7530" args="(struct osd_scrub *scrub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_scrub_file_store </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00334">334</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="gnilnd__modparams_8c_source.html#l00028">credits</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00383">DTO_WRITE_BASE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00384">DTO_WRITE_BLOCK</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00791">LDISKFS_HT_MISC</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00204">osd_scrub::os_file_disk</a>, <a class="el" href="osd__scrub_8h_source.html#l00207">osd_scrub::os_inode</a>, <a class="el" href="osd__scrub_8h_source.html#l00210">osd_scrub::os_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00213">osd_scrub::os_time_next_checkpoint</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01782">osd_dto_credits_noquota</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00792">osd_journal_start_sb</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01640">osd_ldiskfs_write_record()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8c_source.html#l00227">osd_scrub_file_to_le()</a>, and <a class="el" href="osd__scrub_8h_source.html#l00039">SCRUB_CHECKPOINT_INTERVAL</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02241">osd_ios_OBJECTS_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l02166">osd_ios_ROOT_scan()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>, <a class="el" href="osd__scrub_8c_source.html#l00728">osd_scrub_checkpoint()</a>, <a class="el" href="osd__scrub_8c_source.html#l01191">osd_scrub_join()</a>, <a class="el" href="osd__scrub_8c_source.html#l00751">osd_scrub_post()</a>, <a class="el" href="osd__scrub_8c_source.html#l00649">osd_scrub_prep()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a516980072352c5be254279bbf2de8709"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_file_to_cpu" ref="a516980072352c5be254279bbf2de8709" args="(struct scrub_file *des, struct scrub_file *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_scrub_file_to_cpu </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structscrub__file.html">scrub_file</a> *&nbsp;</td>
          <td class="paramname"> <em>des</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structscrub__file.html">scrub_file</a> *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00192">192</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00054">le16_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="osd__scrub_8h_source.html#l00040">SCRUB_OI_BITMAP_SIZE</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00180">scrub_file::sf_internal_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00153">scrub_file::sf_items_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00159">scrub_file::sf_items_failed</a>, <a class="el" href="osd__scrub_8h_source.html#l00156">scrub_file::sf_items_updated</a>, <a class="el" href="osd__scrub_8h_source.html#l00162">scrub_file::sf_items_updated_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00126">scrub_file::sf_magic</a>, <a class="el" href="osd__scrub_8h_source.html#l00186">scrub_file::sf_oi_bitmap</a>, <a class="el" href="osd__scrub_8h_source.html#l00177">scrub_file::sf_oi_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00132">scrub_file::sf_param</a>, <a class="el" href="osd__scrub_8h_source.html#l00150">scrub_file::sf_pos_first_inconsistent</a>, <a class="el" href="osd__scrub_8h_source.html#l00147">scrub_file::sf_pos_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00144">scrub_file::sf_pos_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00171">scrub_file::sf_run_time</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00174">scrub_file::sf_success_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00141">scrub_file::sf_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00135">scrub_file::sf_time_last_complete</a>, <a class="el" href="osd__scrub_8h_source.html#l00138">scrub_file::sf_time_latest_start</a>, and <a class="el" href="osd__scrub_8h_source.html#l00120">scrub_file::sf_uuid</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00300">osd_scrub_file_load()</a>.</p>

</div>
</div>
<a class="anchor" id="ade3b832a7e10cc925510a4f98313961b"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_file_to_le" ref="ade3b832a7e10cc925510a4f98313961b" args="(struct scrub_file *des, struct scrub_file *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_scrub_file_to_le </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structscrub__file.html">scrub_file</a> *&nbsp;</td>
          <td class="paramname"> <em>des</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structscrub__file.html">scrub_file</a> *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00227">227</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00055">cpu_to_le16</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="byteorder_8h_source.html#l00059">cpu_to_le64</a>, <a class="el" href="osd__scrub_8h_source.html#l00040">SCRUB_OI_BITMAP_SIZE</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00180">scrub_file::sf_internal_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00153">scrub_file::sf_items_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00159">scrub_file::sf_items_failed</a>, <a class="el" href="osd__scrub_8h_source.html#l00156">scrub_file::sf_items_updated</a>, <a class="el" href="osd__scrub_8h_source.html#l00162">scrub_file::sf_items_updated_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00126">scrub_file::sf_magic</a>, <a class="el" href="osd__scrub_8h_source.html#l00186">scrub_file::sf_oi_bitmap</a>, <a class="el" href="osd__scrub_8h_source.html#l00177">scrub_file::sf_oi_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00132">scrub_file::sf_param</a>, <a class="el" href="osd__scrub_8h_source.html#l00150">scrub_file::sf_pos_first_inconsistent</a>, <a class="el" href="osd__scrub_8h_source.html#l00147">scrub_file::sf_pos_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00144">scrub_file::sf_pos_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00171">scrub_file::sf_run_time</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00174">scrub_file::sf_success_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00141">scrub_file::sf_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00135">scrub_file::sf_time_last_complete</a>, <a class="el" href="osd__scrub_8h_source.html#l00138">scrub_file::sf_time_latest_start</a>, and <a class="el" href="osd__scrub_8h_source.html#l00120">scrub_file::sf_uuid</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>.</p>

</div>
</div>
<a class="anchor" id="afd40034f12c916435cc64541cd8e6795"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_get_fid" ref="afd40034f12c916435cc64541cd8e6795" args="(struct osd_thread_info *info, struct osd_device *dev, struct inode *inode, struct lu_fid *fid, bool scrub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_get_fid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>scrub</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00853">853</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00462">fid_is_idif()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l01197">fid_is_internal()</a>, <a class="el" href="lustre__fid_8h_source.html#l00301">fid_is_namespace_visible()</a>, <a class="el" href="lustre__idl_8h_source.html#l00477">fid_is_norm()</a>, <a class="el" href="lustre__user_8h_source.html#l00192">lustre_mdt_attrs::lma_compat</a>, <a class="el" href="lustre__user_8h_source.html#l00198">lustre_mdt_attrs::lma_incompat</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00184">LMAC_FID_ON_OST</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__idl_8h_source.html#l00195">LMAI_AGENT</a>, <a class="el" href="lustre__idl_8h_source.html#l00754">lu_igif_build()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_convert_igif</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00641">osd_get_idif()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd__scrub_8c_source.html#l00839">osd_scrub_check_local_fldb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="osd__scrub_8c_source.html#l00055">SCRUB_NEXT_CONTINUE</a>, <a class="el" href="osd__scrub_8c_source.html#l00061">SCRUB_NEXT_NOLMA</a>, <a class="el" href="osd__scrub_8c_source.html#l00062">SCRUB_NEXT_OSTOBJ</a>, and <a class="el" href="osd__scrub_8c_source.html#l00063">SCRUB_NEXT_OSTOBJ_OLD</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00940">osd_iit_iget()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01900">osd_ios_lf_fill()</a>.</p>

</div>
</div>
<a class="anchor" id="a77b96c80ba74a954e5fc8dbf88a8904f"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_has_window" ref="a77b96c80ba74a954e5fc8dbf88a8904f" args="(struct osd_scrub *scrub, struct osd_otable_cache *ooc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_has_window </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__otable__cache.html">osd_otable_cache</a> *&nbsp;</td>
          <td class="paramname"> <em>ooc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00078">78</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, and <a class="el" href="osd__scrub_8h_source.html#l00041">SCRUB_WINDOW_SIZE</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02779">osd_otable_it_next()</a>, <a class="el" href="osd__scrub_8c_source.html#l01447">osd_otable_it_preload()</a>, <a class="el" href="osd__scrub_8c_source.html#l01100">osd_scrub_exec()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01086">osd_scrub_wakeup()</a>.</p>

</div>
</div>
<a class="anchor" id="ad3fb7766f6102cd891d91b22f1d24791"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_join" ref="ad3fb7766f6102cd891d91b22f1d24791" args="(struct osd_device *dev, __u32 flags, bool inconsistent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_scrub_join </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>inconsistent</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01191">1191</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_speed</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_in_join</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00226">osd_scrub::os_new_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_partial_scan</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_paused</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00197">osd_scrub::os_rwsem</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_waiting</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8c_source.html#l00272">osd_scrub_file_reset()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="osd__scrub_8h_source.html#l00075">SF_AUTO</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00072">SF_INCONSISTENT</a>, <a class="el" href="osd__scrub_8h_source.html#l00132">scrub_file::sf_param</a>, <a class="el" href="osd__scrub_8h_source.html#l00147">scrub_file::sf_pos_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00144">scrub_file::sf_pos_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00069">SF_RECREATED</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00141">scrub_file::sf_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00138">scrub_file::sf_time_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00078">SF_UPGRADE</a>, <a class="el" href="osd__scrub_8h_source.html#l00086">SP_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00083">SP_FAILOUT</a>, <a class="el" href="osd__scrub_8h_source.html#l00100">SS_AUTO_FULL</a>, <a class="el" href="osd__scrub_8h_source.html#l00103">SS_AUTO_PARTIAL</a>, <a class="el" href="osd__scrub_8h_source.html#l00109">SS_CLEAR_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00094">SS_CLEAR_FAILOUT</a>, <a class="el" href="osd__scrub_8h_source.html#l00097">SS_RESET</a>, <a class="el" href="osd__scrub_8h_source.html#l00049">SS_SCANNING</a>, <a class="el" href="osd__scrub_8h_source.html#l00106">SS_SET_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00091">SS_SET_FAILOUT</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="obd_8c_source.html#l00114">thread</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02377">do_osd_scrub_start()</a>, and <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>.</p>

</div>
</div>
<a class="anchor" id="a3cdec04e54864983dbc5e8dc9e16016d"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_main" ref="a3cdec04e54864983dbc5e8dc9e16016d" args="(void *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_main </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01471">1471</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lu__object_8h_source.html#l01024">LCT_LOCAL</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00280">osd_device::od_otable_it</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00189">osd_inconsistent_item::oii_list</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00210">osd_otable_cache::ooc_pos_preload</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_user_ready</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_speed</a>, <a class="el" href="osd__scrub_8h_source.html#l00193">osd_scrub::os_inconsistent_items</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_partial_scan</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00228">osd_scrub::os_start_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8c_source.html#l00751">osd_scrub_post()</a>, <a class="el" href="osd__scrub_8c_source.html#l00649">osd_scrub_prep()</a>, <a class="el" href="osd__scrub_8c_source.html#l01189">SCRUB_IT_CRASH</a>, <a class="el" href="lustre__net_8h_source.html#l01494">SVC_STOPPED</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02377">do_osd_scrub_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a632b61e3f989e1605ff2c52883327802"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_next" ref="a632b61e3f989e1605ff2c52883327802" args="(struct osd_thread_info *info, struct osd_device *dev, struct osd_iit_param *param, struct osd_idmap_cache **oic, const bool noslot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__iit__param.html">osd_iit_param</a> *&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a> **&nbsp;</td>
          <td class="paramname"> <em>oic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>noslot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00989">989</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="fail_8c_source.html#l00039">cfs_fail_val</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="lustre__lib_8h_source.html#l00171">LWI_TIMEOUT</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00271">OBD_FAIL_OSD_SCRUB_CRASH</a>, <a class="el" href="obd__support_8h_source.html#l00270">OBD_FAIL_OSD_SCRUB_DELAY</a>, <a class="el" href="obd__support_8h_source.html#l00272">OBD_FAIL_OSD_SCRUB_FATAL</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00192">osd_inconsistent_item::oii_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00189">osd_inconsistent_item::oii_list</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_in_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00193">osd_scrub::os_inconsistent_items</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00192">osd_scrub::os_oic</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8c_source.html#l00940">osd_iit_iget()</a>, <a class="el" href="osd__scrub_8c_source.html#l00822">osd_iit_next()</a>, <a class="el" href="osd__scrub_8c_source.html#l00803">osd_iit_param::sb</a>, <a class="el" href="osd__scrub_8c_source.html#l00058">SCRUB_NEXT_CRASH</a>, <a class="el" href="osd__scrub_8c_source.html#l00056">SCRUB_NEXT_EXIT</a>, <a class="el" href="osd__scrub_8c_source.html#l00059">SCRUB_NEXT_FATAL</a>, <a class="el" href="osd__scrub_8c_source.html#l00057">SCRUB_NEXT_WAIT</a>, <a class="el" href="lustre__net_8h_source.html#l01495">SVC_STOPPING</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d075eac361b2c2dce81e7baf1eb32f3"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_post" ref="a1d075eac361b2c2dce81e7baf1eb32f3" args="(struct osd_scrub *scrub, int result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_post </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00751">751</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00188">cfs_duration_sec()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00050">HALF_SEC</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_check_ff</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_igif_inoi</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00226">osd_scrub::os_new_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_paused</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00197">osd_scrub::os_rwsem</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8h_source.html#l00210">osd_scrub::os_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00040">SCRUB_OI_BITMAP_SIZE</a>, <a class="el" href="osd__scrub_8h_source.html#l00075">SF_AUTO</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00072">SF_INCONSISTENT</a>, <a class="el" href="osd__scrub_8h_source.html#l00153">scrub_file::sf_items_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00186">scrub_file::sf_oi_bitmap</a>, <a class="el" href="osd__scrub_8h_source.html#l00132">scrub_file::sf_param</a>, <a class="el" href="osd__scrub_8h_source.html#l00147">scrub_file::sf_pos_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00069">SF_RECREATED</a>, <a class="el" href="osd__scrub_8h_source.html#l00171">scrub_file::sf_run_time</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00174">scrub_file::sf_success_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00141">scrub_file::sf_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00135">scrub_file::sf_time_last_complete</a>, <a class="el" href="osd__scrub_8h_source.html#l00078">SF_UPGRADE</a>, <a class="el" href="osd__scrub_8h_source.html#l00086">SP_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00052">SS_COMPLETED</a>, <a class="el" href="osd__scrub_8h_source.html#l00055">SS_FAILED</a>, <a class="el" href="osd__scrub_8h_source.html#l00061">SS_PAUSED</a>, <a class="el" href="osd__scrub_8h_source.html#l00058">SS_STOPPED</a>, <a class="el" href="lustre__net_8h_source.html#l01495">SVC_STOPPING</a>, and <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01471">osd_scrub_main()</a>.</p>

</div>
</div>
<a class="anchor" id="aab30da054af17f02ee128727aa6fea86"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_prep" ref="aab30da054af17f02ee128727aa6fea86" args="(struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_prep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00649">649</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_full_speed</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_in_join</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_in_prior</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00226">osd_scrub::os_new_checked</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_partial_scan</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_paused</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00197">osd_scrub::os_rwsem</a>, <a class="el" href="osd__scrub_8h_source.html#l00228">osd_scrub::os_start_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_waiting</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00084">osd_scrub2name()</a>, <a class="el" href="osd__scrub_8c_source.html#l00272">osd_scrub_file_reset()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00075">SF_AUTO</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00072">SF_INCONSISTENT</a>, <a class="el" href="osd__scrub_8h_source.html#l00132">scrub_file::sf_param</a>, <a class="el" href="osd__scrub_8h_source.html#l00150">scrub_file::sf_pos_first_inconsistent</a>, <a class="el" href="osd__scrub_8h_source.html#l00147">scrub_file::sf_pos_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00144">scrub_file::sf_pos_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00069">SF_RECREATED</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00141">scrub_file::sf_time_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00138">scrub_file::sf_time_latest_start</a>, <a class="el" href="osd__scrub_8h_source.html#l00078">SF_UPGRADE</a>, <a class="el" href="osd__scrub_8h_source.html#l00086">SP_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00083">SP_FAILOUT</a>, <a class="el" href="osd__scrub_8h_source.html#l00100">SS_AUTO_FULL</a>, <a class="el" href="osd__scrub_8h_source.html#l00103">SS_AUTO_PARTIAL</a>, <a class="el" href="osd__scrub_8h_source.html#l00109">SS_CLEAR_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00094">SS_CLEAR_FAILOUT</a>, <a class="el" href="osd__scrub_8h_source.html#l00097">SS_RESET</a>, <a class="el" href="osd__scrub_8h_source.html#l00049">SS_SCANNING</a>, <a class="el" href="osd__scrub_8h_source.html#l00106">SS_SET_DRYRUN</a>, <a class="el" href="osd__scrub_8h_source.html#l00091">SS_SET_FAILOUT</a>, <a class="el" href="lustre__net_8h_source.html#l01497">SVC_RUNNING</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, and <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01471">osd_scrub_main()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7eeccca8a1f2f5fbd09ef7420589749"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_refresh_mapping" ref="ac7eeccca8a1f2f5fbd09ef7420589749" args="(struct osd_thread_info *info, struct osd_device *dev, const struct lu_fid *fid, const struct osd_inode_id *id, int ops, bool force, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_refresh_mapping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>force</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>update/insert/delete the specified OI mapping ( ) according to the ops </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1,changed</em>&nbsp;</td><td>nothing </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0,changed</em>&nbsp;</td><td>successfully </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve,on</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l00096">96</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00377">DTO_INDEX_DELETE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00376">DTO_INDEX_INSERT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00378">DTO_INDEX_UPDATE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00791">LDISKFS_HT_MISC</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l01782">osd_dto_credits_noquota</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00792">osd_journal_start_sb</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00778">osd_oi_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00799">osd_oi_update()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00132">scrub_file::sf_param</a>, <a class="el" href="osd__scrub_8h_source.html#l00086">SP_DRYRUN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02282">osd_initial_OI_scrub()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a2ef8023e882ef01e400372c112ed9c"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_setup" ref="a6a2ef8023e882ef01e400372c112ed9c" args="(const struct lu_env *env, struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_scrub_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02489">2489</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="uuid_8c_source.html#l00070">class_uuid_unparse()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lvfs_8h_source.html#l00059">lvfs_run_ctxt::fs</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__idl_8h_source.html#l00754">lu_igif_build()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lvfs_8h_source.html#l00067">OBD_SET_CTXT_MAGIC()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_check_ff</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_igif_inoi</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_is_ost</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_maybe_new</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00242">osd_device::od_mnt</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_noscrub</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00190">osd_scrub::os_ctxt</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__scrub_8h_source.html#l00193">osd_scrub::os_inconsistent_items</a>, <a class="el" href="osd__scrub_8h_source.html#l00207">osd_scrub::os_inode</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00227">osd_scrub::os_pos_current</a>, <a class="el" href="osd__scrub_8h_source.html#l00197">osd_scrub::os_rwsem</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd__scrub_8c_source.html#l02282">osd_initial_OI_scrub()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00496">osd_oi_fini()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00938">osd_oti_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00262">osd_scrub_file_init()</a>, <a class="el" href="osd__scrub_8c_source.html#l00300">osd_scrub_file_load()</a>, <a class="el" href="osd__scrub_8c_source.html#l00272">osd_scrub_file_reset()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="osd__scrub_8c_source.html#l02442">osd_scrub_start()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, <a class="el" href="sec__ctx_8c_source.html#l00078">pop_ctxt()</a>, <a class="el" href="sec__ctx_8c_source.html#l00050">push_ctxt()</a>, <a class="el" href="lvfs_8h_source.html#l00058">lvfs_run_ctxt::pwd</a>, <a class="el" href="lvfs_8h_source.html#l00057">lvfs_run_ctxt::pwdmnt</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00075">SF_AUTO</a>, <a class="el" href="osd__scrub_8h_source.html#l00123">scrub_file::sf_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00072">SF_INCONSISTENT</a>, <a class="el" href="osd__scrub_8h_source.html#l00180">scrub_file::sf_internal_flags</a>, <a class="el" href="osd__scrub_8h_source.html#l00147">scrub_file::sf_pos_last_checkpoint</a>, <a class="el" href="osd__scrub_8h_source.html#l00069">SF_RECREATED</a>, <a class="el" href="osd__scrub_8h_source.html#l00129">scrub_file::sf_status</a>, <a class="el" href="osd__scrub_8h_source.html#l00174">scrub_file::sf_success_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00078">SF_UPGRADE</a>, <a class="el" href="osd__scrub_8h_source.html#l00120">scrub_file::sf_uuid</a>, <a class="el" href="osd__scrub_8h_source.html#l00115">SIF_NO_HANDLE_OLD_FID</a>, <a class="el" href="osd__scrub_8h_source.html#l00100">SS_AUTO_FULL</a>, <a class="el" href="osd__scrub_8h_source.html#l00064">SS_CRASHED</a>, <a class="el" href="osd__scrub_8h_source.html#l00046">SS_INIT</a>, <a class="el" href="osd__scrub_8h_source.html#l00061">SS_PAUSED</a>, <a class="el" href="osd__scrub_8h_source.html#l00049">SS_SCANNING</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">osd_device_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a2eca8a4339f8b2871836dfa68b372b36"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_start" ref="a2eca8a4339f8b2871836dfa68b372b36" args="(struct osd_device *dev, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_scrub_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02442">2442</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd__scrub_8c_source.html#l02377">do_osd_scrub_start()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00279">osd_device::od_otable_mutex</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">osd_consistency_check()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a44ba0f1890eebe044978526e748d8dcd"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_stop" ref="a44ba0f1890eebe044978526e748d8dcd" args="(struct osd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_scrub_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02476">2476</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="osd__scrub_8c_source.html#l02455">do_osd_scrub_stop()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00279">osd_device::od_otable_mutex</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, and <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_paused</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02662">osd_scrub_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a6bf80c2f82883972b2e340d4d044d659"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_wakeup" ref="a6bf80c2f82883972b2e340d4d044d659" args="(struct osd_scrub *scrub, struct osd_otable_it *it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_scrub_wakeup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__scrub.html">osd_scrub</a> *&nbsp;</td>
          <td class="paramname"> <em>scrub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__otable__it.html">osd_otable_it</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01086">1086</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00215">osd_otable_it::ooi_cache</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00220">osd_otable_it::ooi_waiting</a>, <a class="el" href="osd__scrub_8h_source.html#l00193">osd_scrub::os_inconsistent_items</a>, <a class="el" href="osd__scrub_8h_source.html#l00198">osd_scrub::os_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00191">osd_scrub::os_thread</a>, <a class="el" href="osd__scrub_8h_source.html#l00229">osd_scrub::os_waiting</a>, <a class="el" href="osd__scrub_8c_source.html#l00078">osd_scrub_has_window()</a>, and <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01100">osd_scrub_exec()</a>.</p>

</div>
</div>
<a class="anchor" id="a8af58c767aa0ef055ff77166153f8f97"></a><!-- doxytag: member="osd_scrub.c::scrub_bits_dump" ref="a8af58c767aa0ef055ff77166153f8f97" args="(struct seq_file *m, int bits, const char *names[], const char *prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void scrub_bits_dump </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>names</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l03037">3037</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l03071">osd_scrub_dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a5235388ee5aef3b4918864c4c602ff20"></a><!-- doxytag: member="osd_scrub.c::scrub_pos_dump" ref="a5235388ee5aef3b4918864c4c602ff20" args="(struct seq_file *m, __u64 pos, const char *prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void scrub_pos_dump </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l03063">3063</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l03071">osd_scrub_dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a123c87619f17deb7bf41a59d59ec635b"></a><!-- doxytag: member="osd_scrub.c::scrub_time_dump" ref="a123c87619f17deb7bf41a59d59ec635b" args="(struct seq_file *m, __u64 time, const char *prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void scrub_time_dump </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l03054">3054</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, and <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l03071">osd_scrub_dump()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a883fe4d86c08ee131769ee7a43b25cbf"></a><!-- doxytag: member="osd_scrub.c::osd_dl_maps" ref="a883fe4d86c08ee131769ee7a43b25cbf" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structosd__lf__map.html">osd_lf_map</a> <a class="el" href="osd__scrub_8c.html#a883fe4d86c08ee131769ee7a43b25cbf">osd_dl_maps</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        
        { <span class="stringliteral">&quot;fid&quot;</span>, { <a class="code" href="group__lu__fid.html#gga962ff98f105cccff448c45b0c7b77e2fab4f64c953ed40b5e363022f03c1a12ba">FID_SEQ_DOT_LUSTRE</a>, <a class="code" href="group__lu__fid.html#gga75ebbd83cf9ff73571541e51c26ce786a8752d7ea98a30b874a2b4ea43d85af70">FID_OID_DOT_LUSTRE_OBF</a>, 0 }, 0,
                <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;fid&quot;</span>) - 1, NULL, NULL },

        
        { <span class="stringliteral">&quot;lost+found&quot;</span>, { <a class="code" href="group__lu__fid.html#gga962ff98f105cccff448c45b0c7b77e2fab4f64c953ed40b5e363022f03c1a12ba">FID_SEQ_DOT_LUSTRE</a>, <a class="code" href="group__lu__fid.html#gga75ebbd83cf9ff73571541e51c26ce786a325279215753aa4fb3e38a52c7514196">FID_OID_DOT_LUSTRE_LPF</a>, 0 }, 0,
                <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;lost+found&quot;</span>) - 1, NULL, NULL },

        { NULL, { 0, 0, 0 }, 0, 0, NULL, NULL }
}
</pre></div>
<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01730">1730</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="a20a3440b4c91b4edb027e465c6ed4006"></a><!-- doxytag: member="osd_scrub.c::osd_lf_maps" ref="a20a3440b4c91b4edb027e465c6ed4006" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structosd__lf__map.html">osd_lf_map</a> <a class="el" href="osd__scrub_8c.html#a20a3440b4c91b4edb027e465c6ed4006">osd_lf_maps</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l01599">1599</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa295143d631c3471b40de9493f9bb973"></a><!-- doxytag: member="osd_scrub.c::osd_otable_ops" ref="aa295143d631c3471b40de9493f9bb973" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a> <a class="el" href="osd__scrub_8c.html#aa295143d631c3471b40de9493f9bb973">osd_otable_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dio_it = {
                .init     = <a class="code" href="osd__scrub_8c.html#aa40b6519c666bb7a86574c79c20f8e72">osd_otable_it_init</a>,
                .fini     = <a class="code" href="osd__scrub_8c.html#a2450844c10c18089197ee1145e8f68f2">osd_otable_it_fini</a>,
                .get      = <a class="code" href="osd__scrub_8c.html#a0509d276bb2c7fb472eebb0785887cdb">osd_otable_it_get</a>,
                .put      = <a class="code" href="osd__scrub_8c.html#a8f41e581ebed5dbb30e3828bc179ebad">osd_otable_it_put</a>,
                .next     = <a class="code" href="osd__scrub_8c.html#a21a5b6ea2b6785858e4ed6688d5c6d31">osd_otable_it_next</a>,
                .key      = <a class="code" href="osd__scrub_8c.html#a60656ee143c45e639d8bb4f67af5cd96">osd_otable_it_key</a>,
                .key_size = <a class="code" href="osd__scrub_8c.html#a0ccae53aeeef841a421a090968bafc80">osd_otable_it_key_size</a>,
                .rec      = <a class="code" href="osd__scrub_8c.html#afb5c7bfa1cfe373dd7a172cf13576710">osd_otable_it_rec</a>,
                .store    = <a class="code" href="osd__scrub_8c.html#af536d3a07dde67b078c5bceed8f31d37">osd_otable_it_store</a>,
                .load     = <a class="code" href="osd__scrub_8c.html#ae6226df9fa0efe4737cfa94da25d8d65" title="Set the OSD layer iteration start position as the specified hash.">osd_otable_it_load</a>,
                .key_rec  = <a class="code" href="osd__scrub_8c.html#aee6a0afdb9d74335ec8bad68f20d39f5">osd_otable_it_key_rec</a>,
        }
}
</pre></div>
<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02915">2915</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03676">osd_index_try()</a>.</p>

</div>
</div>
<a class="anchor" id="a24ae414fc7dfd1d18840efc98e5daf7e"></a><!-- doxytag: member="osd_scrub.c::osd_scrub_name" ref="a24ae414fc7dfd1d18840efc98e5daf7e" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="osd__scrub_8c.html#a24ae414fc7dfd1d18840efc98e5daf7e">osd_scrub_name</a>[] = &quot;OI_scrub&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l02487">2487</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="afff2693686002edad6933a28059b0183"></a><!-- doxytag: member="osd_scrub.c::scrub_flags_names" ref="afff2693686002edad6933a28059b0183" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="osd__scrub_8c.html#afff2693686002edad6933a28059b0183">scrub_flags_names</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        <span class="stringliteral">&quot;recreated&quot;</span>,
        <span class="stringliteral">&quot;inconsistent&quot;</span>,
        <span class="stringliteral">&quot;auto&quot;</span>,
        <span class="stringliteral">&quot;upgrade&quot;</span>,
        NULL
}
</pre></div>
<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l03023">3023</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac7bd931a1ff30062ea3645af5d83d264"></a><!-- doxytag: member="osd_scrub.c::scrub_param_names" ref="ac7bd931a1ff30062ea3645af5d83d264" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="osd__scrub_8c.html#ac7bd931a1ff30062ea3645af5d83d264">scrub_param_names</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        <span class="stringliteral">&quot;failout&quot;</span>,
        <span class="stringliteral">&quot;dryrun&quot;</span>,
        NULL
}
</pre></div>
<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l03031">3031</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
<a class="anchor" id="a87c20635c08954e04fc24b48899f6d01"></a><!-- doxytag: member="osd_scrub.c::scrub_status_names" ref="a87c20635c08954e04fc24b48899f6d01" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="osd__scrub_8c.html#a87c20635c08954e04fc24b48899f6d01">scrub_status_names</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        <span class="stringliteral">&quot;init&quot;</span>,
        <span class="stringliteral">&quot;scanning&quot;</span>,
        <span class="stringliteral">&quot;completed&quot;</span>,
        <span class="stringliteral">&quot;failed&quot;</span>,
        <span class="stringliteral">&quot;stopped&quot;</span>,
        <span class="stringliteral">&quot;paused&quot;</span>,
        <span class="stringliteral">&quot;crashed&quot;</span>,
        NULL
}
</pre></div>
<p>Definition at line <a class="el" href="osd__scrub_8c_source.html#l03012">3012</a> of file <a class="el" href="osd__scrub_8c_source.html">osd_scrub.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
