<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/osd-ldiskfs/osd_oi.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/osd-ldiskfs/osd_oi.c File Reference</h1><code>#include &lt;linux/module.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__ver_8h_source.html">lustre_ver.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd_8h_source.html">obd.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__fid_8h_source.html">lustre_fid.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dt__object_8h_source.html">dt_object.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="osd-zfs_2osd__internal_8h_source.html">osd_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="osd__scrub_8h_source.html">osd_scrub.h</a>&quot;</code><br/>

<p><a href="osd-ldiskfs_2osd__oi_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_OSD</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#ab5f74215f957c10495fc1e3570e4faca">OSD_OI_NAME_BASE</a>&nbsp;&nbsp;&nbsp;&quot;oi.16&quot;</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a1fcb5769b4bbdb4d4d71abd9d6a6f707">module_param</a> (<a class="el" href="osd-zfs_2osd__oi_8c.html#a1c588688b69c2e27cf28b3c0f6637a3d">osd_oi_count</a>, int, 0444)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a4b289111895b984173dcbf887efdaf35">MODULE_PARM_DESC</a> (<a class="el" href="osd-zfs_2osd__oi_8c.html#a1c588688b69c2e27cf28b3c0f6637a3d">osd_oi_count</a>,&quot;Number of Object Index containers to be created, it's only valid for new filesystem.&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a2a5d544ab46d5c973ff855a7e69c3833">osd_oi_table_put</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__oi.html">osd_oi</a> **oi_table, unsigned oi_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a36386baf4295520bb439bd3577c02c3d">osd_oi_index_create_one</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *feat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct inode *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#aac549a98573344c361ee44a0b5386162">osd_oi_index_open</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *f, bool create)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a54ddfbc8b60289571a3575bd070de792">osd_oi_open</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structosd__oi.html">osd_oi</a> **oi_slot, bool create)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open an OI(Ojbect Index) container.  <a href="#a54ddfbc8b60289571a3575bd070de792"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#ad5395ef613da7c2de59fb18b6d30e78e">osd_oi_table_open</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, struct <a class="el" href="structosd__oi.html">osd_oi</a> **oi_table, unsigned oi_count, bool create)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open OI(Object Index) table.  <a href="#ad5395ef613da7c2de59fb18b6d30e78e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a223d99f7f481959aa8b7551d5cf3aa5c">osd_remove_oi_one</a> (struct dentry *parent, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int namelen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#aeeabd70453639007512b2c179d99bc5d">osd_remove_ois</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a0a5a8a27b6a2cff32988c270f760c123">osd_oi_init</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, bool restored)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a07ec73eaf18108800ca42eb6efb4a24f">osd_oi_fini</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#ae38b70a82000e4eb21024b3363cbd002">fid_is_fs_root</a> (const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a9957d4f9e58a05978d585efd6b2c33c2">osd_oi_iam_lookup</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *oti, struct <a class="el" href="structosd__oi.html">osd_oi</a> *oi, struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#aca991b15d5c1d39a064ea8395169a5ce">fid_is_on_ost</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a61a016aa7c2de46552ff9d63c3d8d046">__osd_oi_lookup</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#aaaf0b38579d87343582b55062afadbd2">osd_oi_lookup</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a9814469cb8674a211d080380593155f2">osd_oi_iam_refresh</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *oti, struct <a class="el" href="structosd__oi.html">osd_oi</a> *oi, const struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, handle_t *th, bool insert)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a6ab8a2a773427896c921f0ee5a638841">osd_oi_insert</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#affa700eabdbae04962b7178f8c51f63b">osd_oi_iam_delete</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *oti, struct <a class="el" href="structosd__oi.html">osd_oi</a> *oi, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, handle_t *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#abfd71f5bd46d6b6255b2c087c7bcc52a">osd_oi_delete</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, handle_t *th, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#af6bdc345f3b320870d5c87351286ac54">osd_oi_update</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a072be8df4344a42cda0a1b3ca99ed083">osd_oi_mod_init</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a1c588688b69c2e27cf28b3c0f6637a3d">osd_oi_count</a> = OSD_OI_FID_NR</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a3e396e35143a29b5d34107286dc585b0">oi_init_lock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">to serialize concurrent OI index initialization  <a href="#a3e396e35143a29b5d34107286dc585b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__index__features.html">dt_index_features</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a9db9dc93269286f6efad21820c40b900">oi_feat</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="osd_oi.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_OSD</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00043">43</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab5f74215f957c10495fc1e3570e4faca"></a><!-- doxytag: member="osd_oi.c::OSD_OI_NAME_BASE" ref="ab5f74215f957c10495fc1e3570e4faca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSD_OI_NAME_BASE&nbsp;&nbsp;&nbsp;&quot;oi.16&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00079">79</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00286">osd_oi_table_open()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00357">osd_remove_ois()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a61a016aa7c2de46552ff9d63c3d8d046"></a><!-- doxytag: member="osd_oi.c::__osd_oi_lookup" ref="a61a016aa7c2de46552ff9d63c3d8d046" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, struct osd_inode_id *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __osd_oi_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00586">586</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00853">osd_fid2oi()</a>, <a class="el" href="osd__oi_8h_source.html#l00101">osd_id_unpack()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00515">osd_oi_iam_lookup()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00536">osd_thread_info::oti_fid2</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="ae38b70a82000e4eb21024b3363cbd002"></a><!-- doxytag: member="osd_oi.c::fid_is_fs_root" ref="ae38b70a82000e4eb21024b3363cbd002" args="(const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int fid_is_fs_root </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00508">508</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00249">fid_oid()</a>, <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>, <a class="el" href="lustre__fid_8h_source.html#l00222">OSD_FS_ROOT_OID</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="aca991b15d5c1d39a064ea8395169a5ce"></a><!-- doxytag: member="osd_oi.c::fid_is_on_ost" ref="aca991b15d5c1d39a064ea8395169a5ce" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fid_is_on_ost </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">548</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00462">fid_is_idif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00447">fid_is_igif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="lustre__idl_8h_source.html#l00467">fid_is_local_file()</a>, <a class="el" href="lustre__fid_8h_source.html#l00296">fid_is_name_llog()</a>, <a class="el" href="lustre__fid_8h_source.html#l00290">fid_is_quota()</a>, <a class="el" href="seq__range_8h_source.html#l00052">fld_range_is_ost()</a>, <a class="el" href="osd__oi_8h_source.html#l00137">OI_CHECK_FLD</a>, <a class="el" href="osd__oi_8h_source.html#l00138">OI_KNOWN_ON_OST</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02619">osd_fld_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00920">osd_seq_site()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00619">osd_thread_info::oti_seq_range</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00424">osd_get_name_n_idx()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03108">osd_object_ea_create()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00778">osd_oi_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00799">osd_oi_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a1fcb5769b4bbdb4d4d71abd9d6a6f707"></a><!-- doxytag: member="osd_oi.c::module_param" ref="a1fcb5769b4bbdb4d4d71abd9d6a6f707" args="(osd_oi_count, int, 0444)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="osd-zfs_2osd__oi_8c.html#a1c588688b69c2e27cf28b3c0f6637a3d">osd_oi_count</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0444&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4b289111895b984173dcbf887efdaf35"></a><!-- doxytag: member="osd_oi.c::MODULE_PARM_DESC" ref="a4b289111895b984173dcbf887efdaf35" args="(osd_oi_count,&quot;Number of Object Index containers to be created, it's only valid for new filesystem.&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="osd-zfs_2osd__oi_8c.html#a1c588688b69c2e27cf28b3c0f6637a3d">osd_oi_count</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of Object Index containers to be &nbsp;</td>
          <td class="paramname"> <em>created</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">it's only valid for new filesystem.&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abfd71f5bd46d6b6255b2c087c7bcc52a"></a><!-- doxytag: member="osd_oi.c::osd_oi_delete" ref="abfd71f5bd46d6b6255b2c087c7bcc52a" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, handle_t *th, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00778">778</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00853">osd_fid2oi()</a>, <a class="el" href="osd__compat_8c_source.html#l01019">osd_obj_map_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00752">osd_oi_iam_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00577">osd_thread_info::oti_cache</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00536">osd_thread_info::oti_fid2</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02773">osd_object_destroy()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="a07ec73eaf18108800ca42eb6efb4a24f"></a><!-- doxytag: member="osd_oi.c::osd_oi_fini" ref="a07ec73eaf18108800ca42eb6efb4a24f" args="(struct osd_thread_info *info, struct osd_device *osd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osd_oi_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00496">496</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00246">osd_device::od_oi_count</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00244">osd_device::od_oi_table</a>, <a class="el" href="osd__oi_8h_source.html#l00061">OSD_OI_FID_NR_MAX</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00081">osd_oi_table_put()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-zfs_2osd__handler_8c_source.html#l01137">osd_device_fini()</a>, <a class="el" href="osd__scrub_8c_source.html#l02662">osd_scrub_cleanup()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="affa700eabdbae04962b7178f8c51f63b"></a><!-- doxytag: member="osd_oi.c::osd_oi_iam_delete" ref="affa700eabdbae04962b7178f8c51f63b" args="(struct osd_thread_info *oti, struct osd_oi *oi, const struct dt_key *key, handle_t *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_oi_iam_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>oti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__oi.html">osd_oi</a> *&nbsp;</td>
          <td class="paramname"> <em>oi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00752">752</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libiam_8c_source.html#l00557">iam_delete()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00110">osd_oi::oi_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00109">osd_oi::oi_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00957">osd_idx_ipd_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00964">osd_ipd_put()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00778">osd_oi_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="a9957d4f9e58a05978d585efd6b2c33c2"></a><!-- doxytag: member="osd_oi.c::osd_oi_iam_lookup" ref="a9957d4f9e58a05978d585efd6b2c33c2" args="(struct osd_thread_info *oti, struct osd_oi *oi, struct dt_rec *rec, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_oi_iam_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>oti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__oi.html">osd_oi</a> *&nbsp;</td>
          <td class="paramname"> <em>oi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00515">515</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8c_source.html#l00733">iam_it_fini()</a>, <a class="el" href="osd__iam_8c_source.html#l01169">iam_it_get()</a>, <a class="el" href="osd__iam_8c_source.html#l00718">iam_it_init()</a>, <a class="el" href="osd__iam_8c_source.html#l01267">iam_it_put()</a>, <a class="el" href="osd__iam_8h_source.html#l00807">iam_reccpy()</a>, <a class="el" href="osd__iam_8h_source.html#l00640">iam_iterator::ii_path</a>, <a class="el" href="osd__iam_8h_source.html#l00531">iam_path::ip_leaf</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00110">osd_oi::oi_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00109">osd_oi::oi_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00957">osd_idx_ipd_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00964">osd_ipd_put()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00563">osd_thread_info::oti_idx_it</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00586">__osd_oi_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a9814469cb8674a211d080380593155f2"></a><!-- doxytag: member="osd_oi.c::osd_oi_iam_refresh" ref="a9814469cb8674a211d080380593155f2" args="(struct osd_thread_info *oti, struct osd_oi *oi, const struct dt_rec *rec, const struct dt_key *key, handle_t *th, bool insert)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_oi_iam_refresh </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>oti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__oi.html">osd_oi</a> *&nbsp;</td>
          <td class="paramname"> <em>oi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>insert</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00640">640</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libiam_8c_source.html#l00531">iam_insert()</a>, <a class="el" href="osd__iam_8c_source.html#l02633">iam_update()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lustre__compat_8h_source.html#l00169">ll_vfs_dq_init</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00110">osd_oi::oi_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00109">osd_oi::oi_inode</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00957">osd_idx_ipd_get()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00840">osd_invariant</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00964">osd_ipd_put()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00799">osd_oi_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a36386baf4295520bb439bd3577c02c3d"></a><!-- doxytag: member="osd_oi.c::osd_oi_index_create_one" ref="a36386baf4295520bb439bd3577c02c3d" args="(struct osd_thread_info *info, struct osd_device *osd, const char *name, struct dt_index_features *feat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_oi_index_create_one </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *&nbsp;</td>
          <td class="paramname"> <em>feat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00103">103</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00314">dt_index_features::dif_flags</a>, <a class="el" href="dt__object_8h_source.html#l00318">dt_index_features::dif_keysize_max</a>, <a class="el" href="dt__object_8h_source.html#l00324">dt_index_features::dif_ptrsize</a>, <a class="el" href="dt__object_8h_source.html#l00322">dt_index_features::dif_recsize_max</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="dt__object_8h_source.html#l00329">DT_IND_VARKEY</a>, <a class="el" href="osd__iam__lfix_8c_source.html#l00850">iam_lfix_create()</a>, <a class="el" href="osd__iam__lvar_8c_source.html#l01005">iam_lvar_create()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00791">LDISKFS_HT_MISC</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00081">LDISKFS_STATE_LUSTRE_NOSCRUB</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00980">osd_child_dentry_by_inode()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00792">osd_journal_start_sb</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00436">osd_ldiskfs_add_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00809">osd_ldiskfs_find_entry</a>, <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00538">osd_thread_info::oti_id</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00159">osd_oi_index_open()</a>.</p>

</div>
</div>
<a class="anchor" id="aac549a98573344c361ee44a0b5386162"></a><!-- doxytag: member="osd_oi.c::osd_oi_index_open" ref="aac549a98573344c361ee44a0b5386162" args="(struct osd_thread_info *info, struct osd_device *osd, const char *name, struct dt_index_features *f, bool create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct inode* osd_oi_index_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>create</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00159">159</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lvfs_8h_source.html#l00084">ll_lookup_one_len()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00103">osd_oi_index_create_one()</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00215">osd_oi_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a5a8a27b6a2cff32988c270f760c123"></a><!-- doxytag: member="osd_oi.c::osd_oi_init" ref="a0a5a8a27b6a2cff32988c270f760c123" args="(struct osd_thread_info *info, struct osd_device *osd, bool restored)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>restored</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">386</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00246">osd_device::od_oi_count</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00244">osd_device::od_oi_table</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00070">oi_init_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00065">osd_oi_count</a>, <a class="el" href="osd__oi_8h_source.html#l00061">OSD_OI_FID_NR_MAX</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00079">OSD_OI_NAME_BASE</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00215">osd_oi_open()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00286">osd_oi_table_open()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00081">osd_oi_table_put()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00357">osd_remove_ois()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00272">osd_scrub_file_reset()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00040">SCRUB_OI_BITMAP_SIZE</a>, <a class="el" href="osd__scrub_8h_source.html#l00186">scrub_file::sf_oi_bitmap</a>, <a class="el" href="osd__scrub_8h_source.html#l00177">scrub_file::sf_oi_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00069">SF_RECREATED</a>, <a class="el" href="osd__scrub_8h_source.html#l00174">scrub_file::sf_success_count</a>, and <a class="el" href="osd__scrub_8h_source.html#l00078">SF_UPGRADE</a>.</p>

<p>Referenced by <a class="el" href="osd-zfs_2osd__handler_8c_source.html#l00947">osd_mount()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ab8a2a773427896c921f0ee5a638841"></a><!-- doxytag: member="osd_oi.c::osd_oi_insert" ref="a6ab8a2a773427896c921f0ee5a638841" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, const struct osd_inode_id *id, handle_t *th, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">671</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>, <a class="el" href="lustre__user_8h_source.html#l00192">lustre_mdt_attrs::lma_compat</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00853">osd_fid2oi()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd__oi_8h_source.html#l00121">osd_id_eq()</a>, <a class="el" href="osd__oi_8h_source.html#l00094">osd_id_pack()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00930">osd_is_ea_inode()</a>, <a class="el" href="osd__compat_8c_source.html#l00973">osd_obj_map_insert()</a>, <a class="el" href="osd__compat_8c_source.html#l01242">osd_obj_spec_insert()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00640">osd_oi_iam_refresh()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00536">osd_thread_info::oti_fid2</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00539">osd_thread_info::oti_id2</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02597">__osd_oi_insert()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="aaaf0b38579d87343582b55062afadbd2"></a><!-- doxytag: member="osd_oi.c::osd_oi_lookup" ref="aaaf0b38579d87343582b55062afadbd2" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, struct osd_inode_id *id, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">604</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00586">__osd_oi_lookup()</a>, <a class="el" href="lustre__fid_8h_source.html#l00283">fid_is_acct()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00508">fid_is_fs_root()</a>, <a class="el" href="lustre__idl_8h_source.html#l00447">fid_is_igif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>, <a class="el" href="lustre__idl_8h_source.html#l00746">lu_igif_gen()</a>, <a class="el" href="lustre__idl_8h_source.html#l00736">lu_igif_ino()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_igif_inoi</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00064">osd_acct_obj_lookup()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd__compat_8c_source.html#l00911">osd_obj_map_lookup()</a>, <a class="el" href="osd__compat_8c_source.html#l01263">osd_obj_spec_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">osd_consistency_check()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00251">osd_idc_find_or_init()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00510">osd_iget_check()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00518">osd_oi_add_table()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00191">osd_oi_find_or_create()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00581">osd_oi_probe()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a072be8df4344a42cda0a1b3ca99ed083"></a><!-- doxytag: member="osd_oi.c::osd_oi_mod_init" ref="a072be8df4344a42cda0a1b3ca99ed083" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_mod_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00826">826</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00284">LCONSOLE_WARN</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00070">oi_init_lock</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00065">osd_oi_count</a>, <a class="el" href="osd__oi_8h_source.html#l00060">OSD_OI_FID_NR</a>, <a class="el" href="osd__oi_8h_source.html#l00061">OSD_OI_FID_NR_MAX</a>, and <a class="el" href="lustre__sec_8h_source.html#l00941">size_roundup_power2()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06748">osd_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a54ddfbc8b60289571a3575bd070de792"></a><!-- doxytag: member="osd_oi.c::osd_oi_open" ref="a54ddfbc8b60289571a3575bd070de792" args="(struct osd_thread_info *info, struct osd_device *osd, char *name, struct osd_oi **oi_slot, bool create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_oi_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__oi.html">osd_oi</a> **&nbsp;</td>
          <td class="paramname"> <em>oi_slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>create</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open an OI(Ojbect Index) container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of OI container </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>objp</em>&nbsp;</td><td>Pointer of returned OI</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00215">215</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00318">dt_index_features::dif_keysize_max</a>, <a class="el" href="dt__object_8h_source.html#l00316">dt_index_features::dif_keysize_min</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="osd__iam_8c_source.html#l00282">iam_container_fini()</a>, <a class="el" href="osd__iam_8c_source.html#l00259">iam_container_init()</a>, <a class="el" href="osd__iam_8c_source.html#l00274">iam_container_setup()</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__idl_8h_source.html#l00754">lu_igif_build()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00099">osd_directory::od_descr</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00110">osd_oi::oi_dir</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00109">osd_oi::oi_inode</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02836">osd_ea_fid_set()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00159">osd_oi_index_open()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00535">osd_thread_info::oti_fid</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00286">osd_oi_table_open()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5395ef613da7c2de59fb18b6d30e78e"></a><!-- doxytag: member="osd_oi.c::osd_oi_table_open" ref="ad5395ef613da7c2de59fb18b6d30e78e" args="(struct osd_thread_info *info, struct osd_device *osd, struct osd_oi **oi_table, unsigned oi_count, bool create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_oi_table_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__oi.html">osd_oi</a> **&nbsp;</td>
          <td class="paramname"> <em>oi_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>oi_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>create</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open OI(Object Index) table. </p>
<p>If <em>oi_count</em> is zero, which means caller doesn't know how many OIs there will be, this function can either return 0 for new filesystem, or number of OIs on existed filesystem.</p>
<p>If <em>oi_count</em> is non-zero, which means caller does know number of OIs on filesystem, this function should return the exactly same number on success, or error code in failure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oi_count</em>&nbsp;</td><td>Number of expected OI containers </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>create</em>&nbsp;</td><td>Create OIs if doesn't exist</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>+ve</em>&nbsp;</td><td>number of opened OI containers </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>no OI containers found </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00286">286</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd__oi_8h_source.html#l00061">OSD_OI_FID_NR_MAX</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00079">OSD_OI_NAME_BASE</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00215">osd_oi_open()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00081">osd_oi_table_put()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osd__scrub_8h_source.html#l00186">scrub_file::sf_oi_bitmap</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a5d544ab46d5c973ff855a7e69c3833"></a><!-- doxytag: member="osd_oi.c::osd_oi_table_put" ref="a2a5d544ab46d5c973ff855a7e69c3833" args="(struct osd_thread_info *info, struct osd_oi **oi_table, unsigned oi_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_oi_table_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__oi.html">osd_oi</a> **&nbsp;</td>
          <td class="paramname"> <em>oi_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>oi_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00081">81</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="osd__iam_8c_source.html#l00282">iam_container_fini()</a>, <a class="el" href="osd__iam_8h_source.html#l00473">iam_container::ic_object</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00098">osd_directory::od_container</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00110">osd_oi::oi_dir</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00109">osd_oi::oi_inode</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00496">osd_oi_fini()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00286">osd_oi_table_open()</a>.</p>

</div>
</div>
<a class="anchor" id="af6bdc345f3b320870d5c87351286ac54"></a><!-- doxytag: member="osd_oi.c::osd_oi_update" ref="af6bdc345f3b320870d5c87351286ac54" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, const struct osd_inode_id *id, handle_t *th, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00799">799</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00853">osd_fid2oi()</a>, <a class="el" href="osd__oi_8h_source.html#l00094">osd_id_pack()</a>, <a class="el" href="osd__compat_8c_source.html#l01050">osd_obj_map_update()</a>, <a class="el" href="osd__compat_8c_source.html#l01221">osd_obj_spec_update()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00640">osd_oi_iam_refresh()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00536">osd_thread_info::oti_fid2</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00539">osd_thread_info::oti_id2</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="a223d99f7f481959aa8b7551d5cf3aa5c"></a><!-- doxytag: member="osd_oi.c::osd_remove_oi_one" ref="a223d99f7f481959aa8b7551d5cf3aa5c" args="(struct dentry *parent, const char *name, int namelen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_remove_oi_one </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>namelen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00340">340</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="lvfs_8h_source.html#l00084">ll_lookup_one_len()</a>, and <a class="el" href="lustre__compat_8h_source.html#l00370">ll_vfs_unlink</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00357">osd_remove_ois()</a>.</p>

</div>
</div>
<a class="anchor" id="aeeabd70453639007512b2c179d99bc5d"></a><!-- doxytag: member="osd_oi.c::osd_remove_ois" ref="aeeabd70453639007512b2c179d99bc5d" args="(struct osd_thread_info *info, struct osd_device *osd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_remove_ois </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00357">357</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00079">OSD_OI_NAME_BASE</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00340">osd_remove_oi_one()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, and <a class="el" href="osd__scrub_8h_source.html#l00177">scrub_file::sf_oi_count</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a9db9dc93269286f6efad21820c40b900"></a><!-- doxytag: member="osd_oi.c::oi_feat" ref="a9db9dc93269286f6efad21820c40b900" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__index__features.html">dt_index_features</a> <a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a9db9dc93269286f6efad21820c40b900">oi_feat</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dif_flags       = <a class="code" href="group__dt.html#ggaea9a8b2931d0590dac0d8265121fd073a6528f1359f7a4f7626b6e1aa3b0d0eef" title="index can be modified">DT_IND_UPDATE</a>,
        .dif_recsize_min = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structosd__inode__id.html">osd_inode_id</a>),
        .dif_recsize_max = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structosd__inode__id.html">osd_inode_id</a>),
        .dif_ptrsize     = 4
}
</pre></div>
<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00072">72</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3e396e35143a29b5d34107286dc585b0"></a><!-- doxytag: member="osd_oi.c::oi_init_lock" ref="a3e396e35143a29b5d34107286dc585b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mutex <a class="el" href="osd-ldiskfs_2osd__oi_8c.html#a3e396e35143a29b5d34107286dc585b0">oi_init_lock</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>to serialize concurrent OI index initialization </p>

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00070">70</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00826">osd_oi_mod_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c588688b69c2e27cf28b3c0f6637a3d"></a><!-- doxytag: member="osd_oi.c::osd_oi_count" ref="a1c588688b69c2e27cf28b3c0f6637a3d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="osd-zfs_2osd__oi_8c.html#a1c588688b69c2e27cf28b3c0f6637a3d">osd_oi_count</a> = OSD_OI_FID_NR<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00065">65</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00826">osd_oi_mod_init()</a>, and <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00748">osd_options_init()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
