<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lnet/selftest/rpc.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>lnet/selftest/rpc.h</h1><a href="rpc_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * GPL HEADER START</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * This program is free software; you can redistribute it and/or modify</span>
<a name="l00007"></a>00007 <span class="comment"> * it under the terms of the GNU General Public License version 2 only,</span>
<a name="l00008"></a>00008 <span class="comment"> * as published by the Free Software Foundation.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * This program is distributed in the hope that it will be useful, but</span>
<a name="l00011"></a>00011 <span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00013"></a>00013 <span class="comment"> * General Public License version 2 for more details (a copy is included</span>
<a name="l00014"></a>00014 <span class="comment"> * in the LICENSE file that accompanied this code).</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment"> * version 2 along with this program; If not, see</span>
<a name="l00018"></a>00018 <span class="comment"> * http://www.sun.com/software/products/lustre/docs/GPLv2.pdf</span>
<a name="l00019"></a>00019 <span class="comment"> *</span>
<a name="l00020"></a>00020 <span class="comment"> * Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa Clara,</span>
<a name="l00021"></a>00021 <span class="comment"> * CA 95054 USA or visit www.sun.com if you need additional information or</span>
<a name="l00022"></a>00022 <span class="comment"> * have any questions.</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * GPL HEADER END</span>
<a name="l00025"></a>00025 <span class="comment"> */</span>
<a name="l00026"></a>00026 <span class="comment">/*</span>
<a name="l00027"></a>00027 <span class="comment"> * Copyright (c) 2007, 2010, Oracle and/or its affiliates. All rights reserved.</span>
<a name="l00028"></a>00028 <span class="comment"> * Use is subject to license terms.</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> * Copyright (c) 2012, Intel Corporation.</span>
<a name="l00031"></a>00031 <span class="comment"> */</span>
<a name="l00032"></a>00032 <span class="comment">/*</span>
<a name="l00033"></a>00033 <span class="comment"> * This file is part of Lustre, http://www.lustre.org/</span>
<a name="l00034"></a>00034 <span class="comment"> * Lustre is a trademark of Sun Microsystems, Inc.</span>
<a name="l00035"></a>00035 <span class="comment"> */</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="preprocessor">#ifndef __SELFTEST_RPC_H__</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#define __SELFTEST_RPC_H__</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;<a class="code" href="lnetst_8h.html">lnet/lnetst.h</a>&gt;</span>
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="comment">/*</span>
<a name="l00043"></a>00043 <span class="comment"> * LST wired structures</span>
<a name="l00044"></a>00044 <span class="comment"> * </span>
<a name="l00045"></a>00045 <span class="comment"> * XXX: *REPLY == *REQST + 1</span>
<a name="l00046"></a>00046 <span class="comment"> */</span>
<a name="l00047"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3">00047</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00048"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3ab5150dcb22b4f457e92e0b130d9db98c">00048</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3ab5150dcb22b4f457e92e0b130d9db98c">SRPC_MSG_MKSN_REQST</a>     = 0,
<a name="l00049"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a6441f94df3054a8c1968c60f90b967ad">00049</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a6441f94df3054a8c1968c60f90b967ad">SRPC_MSG_MKSN_REPLY</a>     = 1,
<a name="l00050"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a1d7bde37a5f48622b9d931eacfef0ad0">00050</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a1d7bde37a5f48622b9d931eacfef0ad0">SRPC_MSG_RMSN_REQST</a>     = 2,
<a name="l00051"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3aeaf950eea80c25dffefff3870ae86cd1">00051</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3aeaf950eea80c25dffefff3870ae86cd1">SRPC_MSG_RMSN_REPLY</a>     = 3,
<a name="l00052"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a2b0a6d9089298d8a3bafee72970a0e80">00052</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a2b0a6d9089298d8a3bafee72970a0e80">SRPC_MSG_BATCH_REQST</a>    = 4,
<a name="l00053"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a7e2945871707c95c5f9b5b4ccd0f99ae">00053</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a7e2945871707c95c5f9b5b4ccd0f99ae">SRPC_MSG_BATCH_REPLY</a>    = 5,
<a name="l00054"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a11ca655a960416bb1c6c3f4650669e22">00054</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a11ca655a960416bb1c6c3f4650669e22">SRPC_MSG_STAT_REQST</a>     = 6,
<a name="l00055"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3afad6d5de4754cddd7f11c5b70e0da315">00055</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3afad6d5de4754cddd7f11c5b70e0da315">SRPC_MSG_STAT_REPLY</a>     = 7,
<a name="l00056"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a3e4a9f473709f99352499102f30bf2b0">00056</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a3e4a9f473709f99352499102f30bf2b0">SRPC_MSG_TEST_REQST</a>     = 8,
<a name="l00057"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a3a33fc31de5a9538ca9126dcd55d7f0a">00057</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a3a33fc31de5a9538ca9126dcd55d7f0a">SRPC_MSG_TEST_REPLY</a>     = 9,
<a name="l00058"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3ae2fe35e749c1d608f16d2385dd1bc746">00058</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3ae2fe35e749c1d608f16d2385dd1bc746">SRPC_MSG_DEBUG_REQST</a>    = 10,
<a name="l00059"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a499dd8def4b845fdb85ae79c07ac44f4">00059</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a499dd8def4b845fdb85ae79c07ac44f4">SRPC_MSG_DEBUG_REPLY</a>    = 11,
<a name="l00060"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3aa7c02219b206a7654d2a7bc57dd4cd8f">00060</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3aa7c02219b206a7654d2a7bc57dd4cd8f">SRPC_MSG_BRW_REQST</a>      = 12,
<a name="l00061"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a045eafc5064c8da8b229106e06966107">00061</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a045eafc5064c8da8b229106e06966107">SRPC_MSG_BRW_REPLY</a>      = 13,
<a name="l00062"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a0ee011ee027ee3a54d8a3ca757c2bc63">00062</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a0ee011ee027ee3a54d8a3ca757c2bc63">SRPC_MSG_PING_REQST</a>     = 14,
<a name="l00063"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a162d0d39c20d17c4e6944584ad3bca59">00063</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a162d0d39c20d17c4e6944584ad3bca59">SRPC_MSG_PING_REPLY</a>     = 15,
<a name="l00064"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a1488fc4805e0bb0b3035d8506f3508a2">00064</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3a1488fc4805e0bb0b3035d8506f3508a2">SRPC_MSG_JOIN_REQST</a>     = 16,
<a name="l00065"></a><a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3aff6f3a1c51db1ddfefb3e44a79619f74">00065</a>         <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3aff6f3a1c51db1ddfefb3e44a79619f74">SRPC_MSG_JOIN_REPLY</a>     = 17,
<a name="l00066"></a>00066 } <a class="code" href="rpc_8h.html#a0280c053b393b459a333168bf9ed81b3">srpc_msg_type_t</a>;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="comment">/* CAVEAT EMPTOR:</span>
<a name="l00069"></a>00069 <span class="comment"> * All srpc_*_reqst_t&apos;s 1st field must be matchbits of reply buffer,</span>
<a name="l00070"></a>00070 <span class="comment"> * and 2nd field matchbits of bulk buffer if any.</span>
<a name="l00071"></a>00071 <span class="comment"> *</span>
<a name="l00072"></a>00072 <span class="comment"> * All srpc_*_reply_t&apos;s 1st field must be a __u32 status, and 2nd field</span>
<a name="l00073"></a>00073 <span class="comment"> * session id if needed.</span>
<a name="l00074"></a>00074 <span class="comment"> */</span>
<a name="l00075"></a>00075 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00076"></a><a class="code" href="structWIRE__ATTR.html#a587f54e44b9fb9e8227c002ad3db4279">00076</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   rpyid;          <span class="comment">/* reply buffer matchbits */</span>
<a name="l00077"></a><a class="code" href="structWIRE__ATTR.html#aaaa5dd8b39513dce2f8d1cd08b739325">00077</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   bulkid;         <span class="comment">/* bulk buffer matchbits */</span>
<a name="l00078"></a>00078 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_generic_reqst_t;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00081"></a><a class="code" href="structWIRE__ATTR.html#afa9f3e0e79eecf5f0e0cdeae3f72d599">00081</a>         __u32                   <a class="code" href="lustre__rsync_8c.html#a55591f17a60f597b63f070969c54fd6c">status</a>;
<a name="l00082"></a><a class="code" href="structWIRE__ATTR.html#a3dd8fe17c0c91ed7681e69a12c5d949e">00082</a>         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               sid;
<a name="l00083"></a>00083 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_generic_reply_t;
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="comment">/* FRAMEWORK RPCs */</span>
<a name="l00086"></a>00086 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00087"></a><a class="code" href="structWIRE__ATTR.html#a9545acc54b357b22902bff2f1ec6b5b3">00087</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   mksn_rpyid;      <span class="comment">/* reply buffer matchbits */</span>
<a name="l00088"></a><a class="code" href="structWIRE__ATTR.html#a15dd5fdca52b378d9b873e00822447eb">00088</a>         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               mksn_sid;        <span class="comment">/* session id */</span>
<a name="l00089"></a><a class="code" href="structWIRE__ATTR.html#a754f17844d6bde72c659c8780d718c6b">00089</a>         __u32                   mksn_force;      <span class="comment">/* use brute force */</span>
<a name="l00090"></a><a class="code" href="structWIRE__ATTR.html#a8b3b823831f3ce77113017e0614b4383">00090</a>         <span class="keywordtype">char</span>                    mksn_name[<a class="code" href="lnetst_8h.html#a9059638ff3278906c91706d190994945">LST_NAME_SIZE</a>];
<a name="l00091"></a>00091 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_mksn_reqst_t;                  <span class="comment">/* make session request */</span>
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00094"></a><a class="code" href="structWIRE__ATTR.html#ab166f67bf28f661c466ca8dc719b6a09">00094</a>         __u32                   mksn_status;      <span class="comment">/* session status */</span>
<a name="l00095"></a>00095         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               mksn_sid;         <span class="comment">/* session id */</span>
<a name="l00096"></a><a class="code" href="structWIRE__ATTR.html#aee98399ad2c5fc9b437370b78bc782e4">00096</a>         __u32                   mksn_timeout;     <span class="comment">/* session timeout */</span>
<a name="l00097"></a>00097         <span class="keywordtype">char</span>                    mksn_name[<a class="code" href="lnetst_8h.html#a9059638ff3278906c91706d190994945">LST_NAME_SIZE</a>];
<a name="l00098"></a>00098 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_mksn_reply_t; <span class="comment">/* make session reply */</span>
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00101"></a><a class="code" href="structWIRE__ATTR.html#a1d66238242dacc3ed46c86213f74791e">00101</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   rmsn_rpyid;      <span class="comment">/* reply buffer matchbits */</span>
<a name="l00102"></a><a class="code" href="structWIRE__ATTR.html#a11ad7b29d38cd4800ec5ef82b337e5b9">00102</a>         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               rmsn_sid;        <span class="comment">/* session id */</span>
<a name="l00103"></a>00103 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_rmsn_reqst_t; <span class="comment">/* remove session request */</span>
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00106"></a><a class="code" href="structWIRE__ATTR.html#a3fd1a30151c1d922d8d279314c31a281">00106</a>         __u32                   rmsn_status;
<a name="l00107"></a>00107         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               rmsn_sid;        <span class="comment">/* session id */</span>
<a name="l00108"></a>00108 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_rmsn_reply_t; <span class="comment">/* remove session reply */</span>
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00111"></a><a class="code" href="structWIRE__ATTR.html#a04a687487746bbd9ee92d8dbf782153c">00111</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   join_rpyid;     <span class="comment">/* reply buffer matchbits */</span>
<a name="l00112"></a><a class="code" href="structWIRE__ATTR.html#a656d17bed76dc17b4e6280df295af396">00112</a>         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               join_sid;       <span class="comment">/* session id to join */</span>
<a name="l00113"></a><a class="code" href="structWIRE__ATTR.html#a6a274250514c1ec59c168851dc46c896">00113</a>         <span class="keywordtype">char</span>                    join_group[<a class="code" href="lnetst_8h.html#a9059638ff3278906c91706d190994945">LST_NAME_SIZE</a>]; <span class="comment">/* group name */</span>
<a name="l00114"></a>00114 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_join_reqst_t;
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00117"></a><a class="code" href="structWIRE__ATTR.html#a0f6dde58427614ed95e35f5cb3db3569">00117</a>         __u32                   join_status;    <span class="comment">/* returned status */</span>
<a name="l00118"></a>00118         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               join_sid;       <span class="comment">/* session id */</span>
<a name="l00119"></a><a class="code" href="structWIRE__ATTR.html#a266497b6e0a6f401e8991fd0dc74bf74">00119</a>         __u32                   join_timeout;   <span class="comment">/* # seconds&apos; inactivity to expire */</span>
<a name="l00120"></a><a class="code" href="structWIRE__ATTR.html#af87456b53391bef6a3d5484f02caf0e7">00120</a>         <span class="keywordtype">char</span>                    join_session[<a class="code" href="lnetst_8h.html#a9059638ff3278906c91706d190994945">LST_NAME_SIZE</a>]; <span class="comment">/* session name */</span>
<a name="l00121"></a>00121 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_join_reply_t;
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00124"></a><a class="code" href="structWIRE__ATTR.html#aaf50c4679018e9886d2a78bb18ee17ef">00124</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   dbg_rpyid;      <span class="comment">/* reply buffer matchbits */</span> 
<a name="l00125"></a><a class="code" href="structWIRE__ATTR.html#a588191b9423ad5a37b0ebf7468ed5385">00125</a>         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               dbg_sid;        <span class="comment">/* session id */</span>
<a name="l00126"></a><a class="code" href="structWIRE__ATTR.html#a4ba51ec49ef44852ef68313a831e105b">00126</a>         __u32                   dbg_flags;      <span class="comment">/* bitmap of debug */</span>
<a name="l00127"></a>00127 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_debug_reqst_t;
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00130"></a><a class="code" href="structWIRE__ATTR.html#accd877eeb7cf503c522673e9a5db7758">00130</a>         __u32                   dbg_status;     <span class="comment">/* returned code */</span>
<a name="l00131"></a>00131         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               dbg_sid;        <span class="comment">/* session id */</span>
<a name="l00132"></a><a class="code" href="structWIRE__ATTR.html#aba05e8000555f976c86c16deb5fdf0f5">00132</a>         __u32                   dbg_timeout;    <span class="comment">/* session timeout */</span>
<a name="l00133"></a><a class="code" href="structWIRE__ATTR.html#a90aa675eba53570baecd80688fbf3f38">00133</a>         __u32                   dbg_nbatch;     <span class="comment">/* # of batches in the node */</span>
<a name="l00134"></a><a class="code" href="structWIRE__ATTR.html#a8061a8ddbc8f3bbcec059b53e13d9844">00134</a>         <span class="keywordtype">char</span>                    dbg_name[<a class="code" href="lnetst_8h.html#a9059638ff3278906c91706d190994945">LST_NAME_SIZE</a>]; <span class="comment">/* session name */</span>
<a name="l00135"></a>00135 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_debug_reply_t;
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="rpc_8h.html#a1b313293c875a2fada8f8c8d4e577c39">00137</a> <span class="preprocessor">#define SRPC_BATCH_OPC_RUN      1</span>
<a name="l00138"></a><a class="code" href="rpc_8h.html#ab4c2792d5730cc283d267fea13aaf1f0">00138</a> <span class="preprocessor"></span><span class="preprocessor">#define SRPC_BATCH_OPC_STOP     2</span>
<a name="l00139"></a><a class="code" href="rpc_8h.html#a20152bd72c35c33e351dec0765e77c14">00139</a> <span class="preprocessor"></span><span class="preprocessor">#define SRPC_BATCH_OPC_QUERY    3</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span>
<a name="l00141"></a>00141 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00142"></a><a class="code" href="structWIRE__ATTR.html#ad98bfa6a173a4b84e61d57db89414bce">00142</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   bar_rpyid;      <span class="comment">/* reply buffer matchbits */</span> 
<a name="l00143"></a><a class="code" href="structWIRE__ATTR.html#a5f5384e60d42aa0f0b283461190d7afb">00143</a>         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               bar_sid;        <span class="comment">/* session id */</span>
<a name="l00144"></a><a class="code" href="structWIRE__ATTR.html#ad4546cb49196bcf6f362ae912773be0b">00144</a>         <a class="code" href="structlst__bid__t.html">lst_bid_t</a>               bar_bid;        <span class="comment">/* batch id */</span>
<a name="l00145"></a><a class="code" href="structWIRE__ATTR.html#a793515132c50c7f48bb54bf98e4432e7">00145</a>         __u32                   bar_opc;        <span class="comment">/* create/start/stop batch */</span>
<a name="l00146"></a><a class="code" href="structWIRE__ATTR.html#a1a5caed3b02a1f768d797f163cac5013">00146</a>         __u32                   bar_testidx;    <span class="comment">/* index of test */</span>
<a name="l00147"></a><a class="code" href="structWIRE__ATTR.html#a8d12f81aea9c77c156cc81c9bef7c781">00147</a>         __u32                   bar_arg;        <span class="comment">/* parameters */</span>
<a name="l00148"></a>00148 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_batch_reqst_t;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00151"></a><a class="code" href="structWIRE__ATTR.html#a471bd77469efce9e2b19bb28f2be917b">00151</a>         __u32                   bar_status;     <span class="comment">/* status of request */</span>
<a name="l00152"></a>00152         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               bar_sid;        <span class="comment">/* session id */</span>
<a name="l00153"></a><a class="code" href="structWIRE__ATTR.html#a412ae14840df048a5fa7b1a58e63b34c">00153</a>         __u32                   bar_active;     <span class="comment">/* # of active tests in batch/test */</span>
<a name="l00154"></a><a class="code" href="structWIRE__ATTR.html#ae0f021635d49df5f7fa988d9ce499f4c">00154</a>         __u32                   bar_time;       <span class="comment">/* remained time */</span>
<a name="l00155"></a>00155 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_batch_reply_t;
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00158"></a><a class="code" href="structWIRE__ATTR.html#ae965cbee41736375d63fce7adbbe42c2">00158</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   str_rpyid;      <span class="comment">/* reply buffer matchbits */</span>
<a name="l00159"></a><a class="code" href="structWIRE__ATTR.html#acb94eed0b7bfbebe64ce07c061127a5a">00159</a>         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               str_sid;        <span class="comment">/* session id */</span>
<a name="l00160"></a><a class="code" href="structWIRE__ATTR.html#a1dee695c4e3f5e89669d2763eef70daf">00160</a>         __u32                   str_type;       <span class="comment">/* type of stat */</span>
<a name="l00161"></a>00161 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_stat_reqst_t;
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00164"></a><a class="code" href="structWIRE__ATTR.html#a6285f688032f6a6c0d1d48e17bc295cb">00164</a>         __u32                   str_status;
<a name="l00165"></a>00165         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               str_sid;
<a name="l00166"></a><a class="code" href="structWIRE__ATTR.html#aa28370ca2d8401d3c09d5bc023609fd7">00166</a>         sfw_counters_t          str_fw;
<a name="l00167"></a><a class="code" href="structWIRE__ATTR.html#a3501c6d06ba35c64f0715c67b87c8d6a">00167</a>         srpc_counters_t         str_rpc;
<a name="l00168"></a><a class="code" href="structWIRE__ATTR.html#a0b260d813bb13d1e1f48a40340359ec8">00168</a>         <a class="code" href="structlnet__counters.html">lnet_counters_t</a>         str_lnet;
<a name="l00169"></a>00169 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_stat_reply_t;
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00172"></a><a class="code" href="structWIRE__ATTR.html#a38f9823f32abbf1264941b1180f21ca5">00172</a>         __u32                   blk_opc;        <span class="comment">/* bulk operation code */</span>
<a name="l00173"></a><a class="code" href="structWIRE__ATTR.html#a7f3ef9ce511dbeb90e361840ae2ef891">00173</a>         __u32                   blk_npg;        <span class="comment">/* # of pages */</span>
<a name="l00174"></a><a class="code" href="structWIRE__ATTR.html#a37d0c001290f3a2464521707b49dd30c">00174</a>         __u32                   blk_flags;      <span class="comment">/* reserved flags */</span>
<a name="l00175"></a>00175 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> test_bulk_req_t;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00179"></a><a class="code" href="structWIRE__ATTR.html#a210adf32c3da6133c4f7252fe6fb55bf">00179</a>         __u16                   blk_opc;
<a name="l00181"></a><a class="code" href="structWIRE__ATTR.html#a4d79df98fda5a907497737b9aa0aeacd">00181</a>         __u16                   blk_flags;
<a name="l00183"></a><a class="code" href="structWIRE__ATTR.html#a61e890c60f07269e217c57ce251433ee">00183</a>         __u32                   blk_len;
<a name="l00185"></a><a class="code" href="structWIRE__ATTR.html#a3f67170c0ad7d881da1bd2cfc930769d">00185</a>         __u32                   blk_offset;
<a name="l00186"></a>00186 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> test_bulk_req_v1_t;
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00189"></a><a class="code" href="structWIRE__ATTR.html#a570415789f9e3021c565a3db86d68bcd">00189</a>         __u32                   png_size;       <span class="comment">/* size of ping message */</span>
<a name="l00190"></a><a class="code" href="structWIRE__ATTR.html#ab1e898e8f6d6d7ccc5bb7cfedbd386fe">00190</a>         __u32                   png_flags;      <span class="comment">/* reserved flags */</span>
<a name="l00191"></a>00191 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> test_ping_req_t;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00194"></a><a class="code" href="structWIRE__ATTR.html#abe21cf59355df504e82185a65c6043a2">00194</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   tsr_rpyid;      <span class="comment">/* reply buffer matchbits */</span>
<a name="l00195"></a><a class="code" href="structWIRE__ATTR.html#ae0ac062cc96821c193a4389af3e1faa8">00195</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   tsr_bulkid;     <span class="comment">/* bulk buffer matchbits */</span>
<a name="l00196"></a><a class="code" href="structWIRE__ATTR.html#ad7516a911e5c99843d3753194a686cf9">00196</a>         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               tsr_sid;        <span class="comment">/* session id */</span>
<a name="l00197"></a><a class="code" href="structWIRE__ATTR.html#a037972075ab2a25e290210fe13cbf660">00197</a>         <a class="code" href="structlst__bid__t.html">lst_bid_t</a>               tsr_bid;        <span class="comment">/* batch id */</span>
<a name="l00198"></a><a class="code" href="structWIRE__ATTR.html#a6b96dbf43fddd335f3a36e8ad7479238">00198</a>         __u32                   tsr_service;    <span class="comment">/* test type: bulk|ping|... */</span>
<a name="l00199"></a>00199         <span class="comment">/* test client loop count or # server buffers needed */</span>
<a name="l00200"></a><a class="code" href="structWIRE__ATTR.html#ae64af476db856dc2df9f52c4c23edac0">00200</a>         __u32                   tsr_loop;
<a name="l00201"></a><a class="code" href="structWIRE__ATTR.html#a8a7baed8f26d32202288651aaded42de">00201</a>         __u32                   tsr_concur;     <span class="comment">/* concurrency of test */</span>
<a name="l00202"></a><a class="code" href="structWIRE__ATTR.html#a7c73f86505593f43809008e849e81a4c">00202</a>         __u8                    tsr_is_client;  <span class="comment">/* is test client or not */</span>
<a name="l00203"></a><a class="code" href="structWIRE__ATTR.html#a0bd343561aec5852d3d89e6a09790e2f">00203</a>         __u8                    tsr_stop_onerr; <span class="comment">/* stop on error */</span>
<a name="l00204"></a><a class="code" href="structWIRE__ATTR.html#afbe6042f8265285ab11c5f10fb2bb5b8">00204</a>         __u32                   tsr_ndest;      <span class="comment">/* # of dest nodes */</span>
<a name="l00205"></a>00205 
<a name="l00206"></a>00206         <span class="keyword">union </span>{
<a name="l00207"></a><a class="code" href="structWIRE__ATTR.html#aaae8c3145facfb3c0a0968d417d479e2">00207</a>                 test_ping_req_t         ping;
<a name="l00208"></a><a class="code" href="structWIRE__ATTR.html#a9db33f313a2d76426eb53d3bda91effb">00208</a>                 test_bulk_req_t         bulk_v0;
<a name="l00209"></a><a class="code" href="structWIRE__ATTR.html#a379081e256d04b9c54cb7ab3bfe03e30">00209</a>                 test_bulk_req_v1_t      bulk_v1;
<a name="l00210"></a>00210         }               tsr_u;
<a name="l00211"></a>00211 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_test_reqst_t;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00214"></a><a class="code" href="structWIRE__ATTR.html#aca3a13b343584614ea6f224f76cef3c3">00214</a>         __u32                   tsr_status;     <span class="comment">/* returned code */</span>
<a name="l00215"></a>00215         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               tsr_sid;
<a name="l00216"></a>00216 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_test_reply_t;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 <span class="comment">/* TEST RPCs */</span>
<a name="l00219"></a>00219 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00220"></a><a class="code" href="structWIRE__ATTR.html#a25e18f7d638a4f3b7b583cf080f49988">00220</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   pnr_rpyid;
<a name="l00221"></a><a class="code" href="structWIRE__ATTR.html#a2e03b75f5c4e263e5bb29ff161351261">00221</a>         __u32                   pnr_magic;
<a name="l00222"></a><a class="code" href="structWIRE__ATTR.html#ab98575accb6bf8f38a7cf4fb3b3bae83">00222</a>         __u32                   pnr_seq;
<a name="l00223"></a><a class="code" href="structWIRE__ATTR.html#a360a2412320fd2b426f3ea47c0be2a55">00223</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   pnr_time_sec;
<a name="l00224"></a><a class="code" href="structWIRE__ATTR.html#a66de488876d7aaf5b872795604bba1e0">00224</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   pnr_time_usec;
<a name="l00225"></a>00225 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_ping_reqst_t;
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00228"></a><a class="code" href="structWIRE__ATTR.html#a8b2d5587ee5d3564e011044f45566c99">00228</a>         __u32                   pnr_status;
<a name="l00229"></a>00229         __u32                   pnr_magic;
<a name="l00230"></a>00230         __u32                   pnr_seq;
<a name="l00231"></a>00231 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_ping_reply_t;
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00234"></a><a class="code" href="structWIRE__ATTR.html#a3e07ba52167b1e9e34ca90199946de79">00234</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   brw_rpyid;      <span class="comment">/* reply buffer matchbits */</span>
<a name="l00235"></a><a class="code" href="structWIRE__ATTR.html#abba44ee8030dd71e63d4e4ab8cc02015">00235</a>         <a class="code" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>                   brw_bulkid;     <span class="comment">/* bulk buffer matchbits */</span>
<a name="l00236"></a><a class="code" href="structWIRE__ATTR.html#aadaaf0de8d7c0bff0b60b867456c9638">00236</a>         __u32                   brw_rw;         <span class="comment">/* read or write */</span>
<a name="l00237"></a><a class="code" href="structWIRE__ATTR.html#a9e959ccef1ca3aa4cf6755506eaf9e9c">00237</a>         __u32                   brw_len;        <span class="comment">/* bulk data len */</span>
<a name="l00238"></a><a class="code" href="structWIRE__ATTR.html#a9f36bda658cd322d3a46521fb2f4d0d2">00238</a>         __u32                   brw_flags;      <span class="comment">/* bulk data patterns */</span>
<a name="l00239"></a>00239 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_brw_reqst_t; <span class="comment">/* bulk r/w request */</span>
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00242"></a><a class="code" href="structWIRE__ATTR.html#a1749d74e8f731f6fe7d1b319a0e316e6">00242</a>         __u32                   brw_status;
<a name="l00243"></a>00243 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> srpc_brw_reply_t; <span class="comment">/* bulk r/w reply */</span>
<a name="l00244"></a>00244 
<a name="l00245"></a><a class="code" href="rpc_8h.html#a1f1d3307d7605f702a02b75b6a3e0408">00245</a> <span class="preprocessor">#define SRPC_MSG_MAGIC                  0xeeb0f00d</span>
<a name="l00246"></a><a class="code" href="rpc_8h.html#ac168ed965dc2c8c7df214a7cdf89ee02">00246</a> <span class="preprocessor"></span><span class="preprocessor">#define SRPC_MSG_VERSION                1</span>
<a name="l00247"></a>00247 <span class="preprocessor"></span>
<a name="l00248"></a><a class="code" href="structsrpc__msg.html">00248</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structsrpc__msg.html">srpc_msg</a> {
<a name="l00250"></a><a class="code" href="structsrpc__msg.html#a6e19bc3729ed00441eb74910836610ff">00250</a>         __u32   <a class="code" href="structsrpc__msg.html#a6e19bc3729ed00441eb74910836610ff" title="magic number">msg_magic</a>;
<a name="l00252"></a><a class="code" href="structsrpc__msg.html#a908c4f62d058a1478431f326b24be5a3">00252</a>         __u32   <a class="code" href="structsrpc__msg.html#a908c4f62d058a1478431f326b24be5a3" title="message version number">msg_version</a>;
<a name="l00254"></a><a class="code" href="structsrpc__msg.html#a671d12977af3f77ec638f20b383630b5">00254</a>         __u32   <a class="code" href="structsrpc__msg.html#a671d12977af3f77ec638f20b383630b5" title="type of message body: srpc_msg_type_t">msg_type</a>;
<a name="l00255"></a><a class="code" href="structsrpc__msg.html#a328fcb6c10b69cea7080ab14b9832a06">00255</a>         __u32   <a class="code" href="structsrpc__msg.html#a328fcb6c10b69cea7080ab14b9832a06">msg_reserved0</a>;
<a name="l00256"></a><a class="code" href="structsrpc__msg.html#a3c7c2f76971da7db765763b8c70a55a6">00256</a>         __u32   <a class="code" href="structsrpc__msg.html#a3c7c2f76971da7db765763b8c70a55a6">msg_reserved1</a>;
<a name="l00258"></a><a class="code" href="structsrpc__msg.html#a26415755866d1fb46d201e4d937db7fd">00258</a>         __u32   <a class="code" href="structsrpc__msg.html#a26415755866d1fb46d201e4d937db7fd" title="test session features">msg_ses_feats</a>;
<a name="l00259"></a>00259         <span class="keyword">union </span>{
<a name="l00260"></a><a class="code" href="structsrpc__msg.html#ac7a72c6ecdc3a41be670cec2057fde0d">00260</a>                 srpc_generic_reqst_t <a class="code" href="structsrpc__msg.html#ac7a72c6ecdc3a41be670cec2057fde0d">reqst</a>;
<a name="l00261"></a><a class="code" href="structsrpc__msg.html#a5bbfe5c2fa06b526d847e5ea0c13aa9b">00261</a>                 srpc_generic_reply_t <a class="code" href="structsrpc__msg.html#a5bbfe5c2fa06b526d847e5ea0c13aa9b">reply</a>;
<a name="l00262"></a>00262 
<a name="l00263"></a><a class="code" href="structsrpc__msg.html#a923110117afa75b8fba5c98b9f038591">00263</a>                 srpc_mksn_reqst_t    <a class="code" href="structsrpc__msg.html#a923110117afa75b8fba5c98b9f038591">mksn_reqst</a>;
<a name="l00264"></a><a class="code" href="structsrpc__msg.html#a7fc5e15eff939daa2c0ba928a79906d1">00264</a>                 srpc_mksn_reply_t    <a class="code" href="structsrpc__msg.html#a7fc5e15eff939daa2c0ba928a79906d1">mksn_reply</a>;
<a name="l00265"></a><a class="code" href="structsrpc__msg.html#adffa0a214d60ae8e86bf693f4b5fbcff">00265</a>                 srpc_rmsn_reqst_t    <a class="code" href="structsrpc__msg.html#adffa0a214d60ae8e86bf693f4b5fbcff">rmsn_reqst</a>;
<a name="l00266"></a><a class="code" href="structsrpc__msg.html#a4c5f69429fd004d56f5045a528074db7">00266</a>                 srpc_rmsn_reply_t    <a class="code" href="structsrpc__msg.html#a4c5f69429fd004d56f5045a528074db7">rmsn_reply</a>;
<a name="l00267"></a><a class="code" href="structsrpc__msg.html#a2b9b055fa6a5742a93a12a4d1fb567da">00267</a>                 srpc_debug_reqst_t   <a class="code" href="structsrpc__msg.html#a2b9b055fa6a5742a93a12a4d1fb567da">dbg_reqst</a>;
<a name="l00268"></a><a class="code" href="structsrpc__msg.html#abce4407017f01732c84d9548a990bfdb">00268</a>                 srpc_debug_reply_t   <a class="code" href="structsrpc__msg.html#abce4407017f01732c84d9548a990bfdb">dbg_reply</a>;
<a name="l00269"></a><a class="code" href="structsrpc__msg.html#a908172ec8c5c79cc12698148332ad95a">00269</a>                 srpc_batch_reqst_t   <a class="code" href="structsrpc__msg.html#a908172ec8c5c79cc12698148332ad95a">bat_reqst</a>;
<a name="l00270"></a><a class="code" href="structsrpc__msg.html#af4b1741fe57cd28a3ca35357add4e23d">00270</a>                 srpc_batch_reply_t   <a class="code" href="structsrpc__msg.html#af4b1741fe57cd28a3ca35357add4e23d">bat_reply</a>;
<a name="l00271"></a><a class="code" href="structsrpc__msg.html#a67c77e848f419656110cabad44adfcb4">00271</a>                 srpc_stat_reqst_t    <a class="code" href="structsrpc__msg.html#a67c77e848f419656110cabad44adfcb4">stat_reqst</a>;
<a name="l00272"></a><a class="code" href="structsrpc__msg.html#ac4a9cfb074f7352c76ced1e0d4eb0060">00272</a>                 srpc_stat_reply_t    <a class="code" href="structsrpc__msg.html#ac4a9cfb074f7352c76ced1e0d4eb0060">stat_reply</a>;
<a name="l00273"></a><a class="code" href="structsrpc__msg.html#a8fdce0a522ed682b3268b6cb13fc4cdb">00273</a>                 srpc_test_reqst_t    <a class="code" href="structsrpc__msg.html#a8fdce0a522ed682b3268b6cb13fc4cdb">tes_reqst</a>;
<a name="l00274"></a><a class="code" href="structsrpc__msg.html#a1b36256e6897d07861bc9ee398c9701d">00274</a>                 srpc_test_reply_t    <a class="code" href="structsrpc__msg.html#a1b36256e6897d07861bc9ee398c9701d">tes_reply</a>;
<a name="l00275"></a><a class="code" href="structsrpc__msg.html#acc0af33ae3bfe966700928374af30b88">00275</a>                 srpc_join_reqst_t    <a class="code" href="structsrpc__msg.html#acc0af33ae3bfe966700928374af30b88">join_reqst</a>;
<a name="l00276"></a><a class="code" href="structsrpc__msg.html#ac7af093148dc1852b2fb560b3d82d6a9">00276</a>                 srpc_join_reply_t    <a class="code" href="structsrpc__msg.html#ac7af093148dc1852b2fb560b3d82d6a9">join_reply</a>;
<a name="l00277"></a>00277 
<a name="l00278"></a><a class="code" href="structsrpc__msg.html#a6d363bea16ec0346dc570b480f732b87">00278</a>                 srpc_ping_reqst_t    <a class="code" href="structsrpc__msg.html#a6d363bea16ec0346dc570b480f732b87">ping_reqst</a>;
<a name="l00279"></a><a class="code" href="structsrpc__msg.html#a4e6cedc73b0374e5718ae3849f587f35">00279</a>                 srpc_ping_reply_t    <a class="code" href="structsrpc__msg.html#a4e6cedc73b0374e5718ae3849f587f35">ping_reply</a>;
<a name="l00280"></a><a class="code" href="structsrpc__msg.html#a63d87483d8e4147302f6980af4a2c580">00280</a>                 srpc_brw_reqst_t     <a class="code" href="structsrpc__msg.html#a63d87483d8e4147302f6980af4a2c580">brw_reqst</a>;
<a name="l00281"></a><a class="code" href="structsrpc__msg.html#a0848a1efd7722d29e628b889f750d5ec">00281</a>                 srpc_brw_reply_t     <a class="code" href="structsrpc__msg.html#a0848a1efd7722d29e628b889f750d5ec">brw_reply</a>;
<a name="l00282"></a>00282         }     <a class="code" href="structsrpc__msg.html#ac62035087baaa5611d90496f71915b26">msg_body</a>;
<a name="l00283"></a>00283 } <a class="code" href="structWIRE__ATTR.html">WIRE_ATTR</a> <a class="code" href="structsrpc__msg.html">srpc_msg_t</a>;
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00286"></a><a class="code" href="rpc_8h.html#aa6c6c4931f2773f8ccc9150f5697296b">00286</a> <a class="code" href="rpc_8h.html#aa6c6c4931f2773f8ccc9150f5697296b">srpc_unpack_msg_hdr</a>(srpc_msg_t *<a class="code" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)
<a name="l00287"></a>00287 {
<a name="l00288"></a>00288         <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="structsrpc__msg.html#a6e19bc3729ed00441eb74910836610ff" title="magic number">msg_magic</a> == <a class="code" href="rpc_8h.html#a1f1d3307d7605f702a02b75b6a3e0408">SRPC_MSG_MAGIC</a>)
<a name="l00289"></a>00289                 <span class="keywordflow">return</span>; <span class="comment">/* no flipping needed */</span>
<a name="l00290"></a>00290 
<a name="l00291"></a>00291         <span class="comment">/* We do not swap the magic number here as it is needed to</span>
<a name="l00292"></a>00292 <span class="comment">           determine whether the body needs to be swapped. */</span>
<a name="l00293"></a>00293         <span class="comment">/* __swab32s(&amp;msg-&gt;msg_magic); */</span>
<a name="l00294"></a>00294         <a class="code" href="byteorder_8h.html#ab9cd632aa0194b301cae9e8dbc210718">__swab32s</a>(&amp;msg-&gt;<a class="code" href="structsrpc__msg.html#a671d12977af3f77ec638f20b383630b5" title="type of message body: srpc_msg_type_t">msg_type</a>);
<a name="l00295"></a>00295         <a class="code" href="byteorder_8h.html#ab9cd632aa0194b301cae9e8dbc210718">__swab32s</a>(&amp;msg-&gt;<a class="code" href="structsrpc__msg.html#a908c4f62d058a1478431f326b24be5a3" title="message version number">msg_version</a>);
<a name="l00296"></a>00296         <a class="code" href="byteorder_8h.html#ab9cd632aa0194b301cae9e8dbc210718">__swab32s</a>(&amp;msg-&gt;<a class="code" href="structsrpc__msg.html#a26415755866d1fb46d201e4d937db7fd" title="test session features">msg_ses_feats</a>);
<a name="l00297"></a>00297         <a class="code" href="byteorder_8h.html#ab9cd632aa0194b301cae9e8dbc210718">__swab32s</a>(&amp;msg-&gt;<a class="code" href="structsrpc__msg.html#a328fcb6c10b69cea7080ab14b9832a06">msg_reserved0</a>);
<a name="l00298"></a>00298         <a class="code" href="byteorder_8h.html#ab9cd632aa0194b301cae9e8dbc210718">__swab32s</a>(&amp;msg-&gt;<a class="code" href="structsrpc__msg.html#a3c7c2f76971da7db765763b8c70a55a6">msg_reserved1</a>);
<a name="l00299"></a>00299 }
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 <span class="preprocessor">#endif </span><span class="comment">/* __SELFTEST_RPC_H__ */</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:34 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
