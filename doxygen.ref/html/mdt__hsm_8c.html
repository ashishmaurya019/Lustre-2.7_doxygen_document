<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/mdt/mdt_hsm.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/mdt/mdt_hsm.c File Reference</h1><code>#include &quot;<a class="el" href="mdt__internal_8h_source.html">mdt_internal.h</a>&quot;</code><br/>

<p><a href="mdt__hsm_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_MDS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a0ecfc2f935c8b45ae80f3f46fd301ee6">MDT_HSM_ALLOC_MAX</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 20)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a4a10ca5fba2d412a815f8bffa4affd4e">MDT_HSM_ALLOC</a>(ptr, <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a1ea0ab5e1e8bc96efa3d5e22e03ed16d">MDT_HSM_FREE</a>(ptr, <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)&nbsp;&nbsp;&nbsp;OBD_FREE_LARGE((ptr), (<a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>))</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a43a0f5056d05368cb3f3d89442172bcd">mdt_hsm_attr_set</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__object.html">mdt_object</a> *obj, const struct <a class="el" href="structmd__hsm.html">md_hsm</a> *mh)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update on-disk HSM attributes.  <a href="#a43a0f5056d05368cb3f3d89442172bcd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a556417af4edb2dc9d20b0ef4a041f7d6">mdt_hsm_is_admin</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a4c8b54b66bd9aa8b7b4f3999ee5e333d">mdt_hsm_progress</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extract information coming from a copytool and asks <a class="el" href="structcoordinator.html">coordinator</a> to update a request status depending on the update content.  <a href="#a4c8b54b66bd9aa8b7b4f3999ee5e333d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a936691a61af675c0aaa1a1bbcfddf51f">mdt_hsm_ct_register</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a4d6f5918c0214d00ae62b7cb5943320b">mdt_hsm_ct_unregister</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#abaa01318221c7e8909a7eb09677fee88">mdt_hsm_state_get</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the current HSM flags, archive id and undergoing HSM requests for the fid provided in RPC body.  <a href="#abaa01318221c7e8909a7eb09677fee88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a7c5813c8ac14de83cb3be92368223e23">mdt_hsm_state_set</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change HSM state and archive number of a file.  <a href="#a7c5813c8ac14de83cb3be92368223e23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a60d2d4b01f96b6bc65db4e5b0a32ec85">mdt_hsm_action</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve undergoing HSM requests for the fid provided in RPC body.  <a href="#a60d2d4b01f96b6bc65db4e5b0a32ec85"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__hsm_8c.html#a47b649f2238bf0991480cefcd5f232ea">mdt_hsm_request</a> (struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *tsi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process the HSM actions described in a struct <a class="el" href="structhsm__user__request.html">hsm_user_request</a>.  <a href="#a47b649f2238bf0991480cefcd5f232ea"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="mdt_hsm.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_MDS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00038">38</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4a10ca5fba2d412a815f8bffa4affd4e"></a><!-- doxytag: member="mdt_hsm.c::MDT_HSM_ALLOC" ref="a4a10ca5fba2d412a815f8bffa4affd4e" args="(ptr, size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDT_HSM_ALLOC</td>
          <td>(</td>
          <td class="paramtype">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                            \
                <span class="keywordflow">if</span> ((<a class="code" href="lp__utils_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a>) &lt;= <a class="code" href="mdt__hsm_8c.html#a0ecfc2f935c8b45ae80f3f46fd301ee6">MDT_HSM_ALLOC_MAX</a>)        \
                        <a class="code" href="obd__support_8h.html#afa959cd10c660882cd6c5fad07311897">OBD_ALLOC_LARGE</a>((ptr), (<a class="code" href="lp__utils_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)); \
                <span class="keywordflow">else</span>                                    \
                        (ptr) = NULL;                   \
        } <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00045">45</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__hsm_8c_source.html#l00371">mdt_hsm_action()</a>, and <a class="el" href="mdt__hsm_8c_source.html#l00471">mdt_hsm_request()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ecfc2f935c8b45ae80f3f46fd301ee6"></a><!-- doxytag: member="mdt_hsm.c::MDT_HSM_ALLOC_MAX" ref="a0ecfc2f935c8b45ae80f3f46fd301ee6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDT_HSM_ALLOC_MAX&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 20)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00043">43</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1ea0ab5e1e8bc96efa3d5e22e03ed16d"></a><!-- doxytag: member="mdt_hsm.c::MDT_HSM_FREE" ref="a1ea0ab5e1e8bc96efa3d5e22e03ed16d" args="(ptr, size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDT_HSM_FREE</td>
          <td>(</td>
          <td class="paramtype">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;OBD_FREE_LARGE((ptr), (<a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00053">53</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>Referenced by <a class="el" href="mdt__hsm_8c_source.html#l00371">mdt_hsm_action()</a>, and <a class="el" href="mdt__hsm_8c_source.html#l00471">mdt_hsm_request()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a60d2d4b01f96b6bc65db4e5b0a32ec85"></a><!-- doxytag: member="mdt_hsm.c::mdt_hsm_action" ref="a60d2d4b01f96b6bc65db4e5b0a32ec85" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_hsm_action </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve undergoing HSM requests for the fid provided in RPC body. </p>
<p>Current requests are read from <a class="el" href="structcoordinator.html">coordinator</a> states.</p>
<p>This is MDS_HSM_ACTION RPC handler. </p>

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00371">371</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__user_8h_source.html#l01240">hsm_action_item::hai_action</a>, <a class="el" href="lustre__user_8h_source.html#l01244">hsm_action_item::hai_cookie</a>, <a class="el" href="lustre__user_8h_source.html#l01243">hsm_action_item::hai_extent</a>, <a class="el" href="lustre__user_8h_source.html#l01241">hsm_action_item::hai_fid</a>, <a class="el" href="lustre__user_8h_source.html#l01303">hai_first()</a>, <a class="el" href="lustre__user_8h_source.html#l01245">hsm_action_item::hai_gid</a>, <a class="el" href="lustre__user_8h_source.html#l01239">hsm_action_item::hai_len</a>, <a class="el" href="lustre__user_8h_source.html#l01287">hsm_action_list::hal_archive_id</a>, <a class="el" href="lustre__user_8h_source.html#l01284">hsm_action_list::hal_count</a>, <a class="el" href="lustre__user_8h_source.html#l01286">hsm_action_list::hal_flags</a>, <a class="el" href="lustre__user_8h_source.html#l01289">hsm_action_list::hal_fsname</a>, <a class="el" href="lustre__user_8h_source.html#l01318">hal_size()</a>, <a class="el" href="lustre__user_8h_source.html#l01280">HAL_VERSION</a>, <a class="el" href="lustre__user_8h_source.html#l01283">hsm_action_list::hal_version</a>, <a class="el" href="lustre__user_8h_source.html#l01123">hsm_current_action::hca_action</a>, <a class="el" href="lustre__user_8h_source.html#l01124">hsm_current_action::hca_location</a>, <a class="el" href="lustre__user_8h_source.html#l01121">hsm_current_action::hca_state</a>, <a class="el" href="lustre__user_8h_source.html#l01071">HPS_RUNNING</a>, <a class="el" href="lustre__user_8h_source.html#l01070">HPS_WAITING</a>, <a class="el" href="lustre__user_8h_source.html#l01219">HSMA_ARCHIVE</a>, <a class="el" href="lustre__user_8h_source.html#l01222">HSMA_CANCEL</a>, <a class="el" href="lustre__user_8h_source.html#l01218">HSMA_NONE</a>, <a class="el" href="lustre__user_8h_source.html#l01221">HSMA_REMOVE</a>, <a class="el" href="lustre__user_8h_source.html#l01220">HSMA_RESTORE</a>, <a class="el" href="lustre__user_8h_source.html#l01131">HUA_ARCHIVE</a>, <a class="el" href="lustre__user_8h_source.html#l01135">HUA_CANCEL</a>, <a class="el" href="lustre__user_8h_source.html#l01130">HUA_NONE</a>, <a class="el" href="lustre__user_8h_source.html#l01134">HUA_REMOVE</a>, <a class="el" href="lustre__user_8h_source.html#l01132">HUA_RESTORE</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00045">MDT_HSM_ALLOC</a>, <a class="el" href="mdt__hsm_8c_source.html#l00053">MDT_HSM_FREE</a>, <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00549">mdt_hsm_get_actions()</a>, <a class="el" href="mdt__lib_8c_source.html#l00596">mdt_init_ucred()</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="lustre__user_8h_source.html#l00532">obd_uuid2fsname()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01174">RMF_MDS_HSM_CURRENT_ACTION</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, <a class="el" href="lu__target_8h_source.html#l00206">tgt_session_info::tsi_mdt_body</a>, and <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>.</p>

</div>
</div>
<a class="anchor" id="a43a0f5056d05368cb3f3d89442172bcd"></a><!-- doxytag: member="mdt_hsm.c::mdt_hsm_attr_set" ref="a43a0f5056d05368cb3f3d89442172bcd" args="(struct mdt_thread_info *info, struct mdt_object *obj, const struct md_hsm *mh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_hsm_attr_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__object.html">mdt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmd__hsm.html">md_hsm</a> *&nbsp;</td>
          <td class="paramname"> <em>mh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update on-disk HSM attributes. </p>

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00058">58</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="md__attrs_8c_source.html#l00129">lustre_hsm2buf()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="md__object_8h_source.html#l00387">mo_xattr_set()</a>, <a class="el" href="mdt__internal_8h_source.html#l00418">mdt_thread_info::mti_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00429">mdt_thread_info::mti_xattr_buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01602">XATTR_NAME_HSM</a>.</p>

<p>Referenced by <a class="el" href="mdt__coordinator_8c_source.html#l01161">hsm_cdt_request_completed()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01099">hsm_swap_layouts()</a>, <a class="el" href="mdt__reint_8c_source.html#l00678">mdt_add_dirty_flag()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01011">mdt_hsm_add_hal()</a>, and <a class="el" href="mdt__hsm_8c_source.html#l00254">mdt_hsm_state_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a936691a61af675c0aaa1a1bbcfddf51f"></a><!-- doxytag: member="mdt_hsm.c::mdt_hsm_ct_register" ref="a936691a61af675c0aaa1a1bbcfddf51f" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_hsm_ct_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00146">146</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="lustre__export_8h_source.html#l00193">obd_export::exp_client_uuid</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mdt__hsm__cdt__agent_8c_source.html#l00153">mdt_hsm_agent_register_mask()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00081">mdt_hsm_is_admin()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01185">RMF_MDS_HSM_ARCHIVE</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, <a class="el" href="lu__target_8h_source.html#l00202">tgt_session_info::tsi_exp</a>, and <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>.</p>

</div>
</div>
<a class="anchor" id="a4d6f5918c0214d00ae62b7cb5943320b"></a><!-- doxytag: member="mdt_hsm.c::mdt_hsm_ct_unregister" ref="a4d6f5918c0214d00ae62b7cb5943320b" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_hsm_ct_unregister </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00169">169</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00193">obd_export::exp_client_uuid</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mdt__hsm__cdt__agent_8c_source.html#l00191">mdt_hsm_agent_unregister()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00081">mdt_hsm_is_admin()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, <a class="el" href="lu__target_8h_source.html#l00202">tgt_session_info::tsi_exp</a>, and <a class="el" href="lu__target_8h_source.html#l00206">tgt_session_info::tsi_mdt_body</a>.</p>

</div>
</div>
<a class="anchor" id="a556417af4edb2dc9d20b0ef4a041f7d6"></a><!-- doxytag: member="mdt_hsm.c::mdt_hsm_is_admin" ref="a556417af4edb2dc9d20b0ef4a041f7d6" args="(struct mdt_thread_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool mdt_hsm_is_admin </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00081">81</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>References <a class="el" href="curproc_8h_source.html#l00118">CFS_CAP_SYS_ADMIN</a>, <a class="el" href="md__object_8h_source.html#l00618">md_capable()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__lib_8c_source.html#l00596">mdt_init_ucred()</a>, <a class="el" href="mdt__handler_8c_source.html#l06063">mdt_ucred()</a>, and <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>.</p>

<p>Referenced by <a class="el" href="mdt__hsm_8c_source.html#l00146">mdt_hsm_ct_register()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00169">mdt_hsm_ct_unregister()</a>, and <a class="el" href="mdt__hsm_8c_source.html#l00108">mdt_hsm_progress()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c8b54b66bd9aa8b7b4f3999ee5e333d"></a><!-- doxytag: member="mdt_hsm.c::mdt_hsm_progress" ref="a4c8b54b66bd9aa8b7b4f3999ee5e333d" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_hsm_progress </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Extract information coming from a copytool and asks <a class="el" href="structcoordinator.html">coordinator</a> to update a request status depending on the update content. </p>
<p>Copytools could use this to report failure in their process.</p>
<p>This is HSM_PROGRESS RPC handler. </p>

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00108">108</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00158">D_HSM</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__user_8h_source.html#l01348">HP_FLAG_COMPLETED</a>, <a class="el" href="lustre__user_8h_source.html#l01349">HP_FLAG_RETRY</a>, <a class="el" href="lustre__idl_8h_source.html#l03737">hsm_progress_kernel::hpk_cookie</a>, <a class="el" href="lustre__idl_8h_source.html#l03740">hsm_progress_kernel::hpk_errval</a>, <a class="el" href="lustre__idl_8h_source.html#l03738">hsm_progress_kernel::hpk_extent</a>, <a class="el" href="lustre__idl_8h_source.html#l03736">hsm_progress_kernel::hpk_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l03739">hsm_progress_kernel::hpk_flags</a>, <a class="el" href="lustre__user_8h_source.html#l01088">hsm_extent::length</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="errno_8c_source.html#l00360">lustre_errno_ntoh()</a>, <a class="el" href="mdt__hsm__cdt__agent_8c_source.html#l00521">mdt_hsm_coordinator_update()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00081">mdt_hsm_is_admin()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01169">RMF_MDS_HSM_PROGRESS</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, <a class="el" href="lu__target_8h_source.html#l00206">tgt_session_info::tsi_mdt_body</a>, and <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>.</p>

</div>
</div>
<a class="anchor" id="a47b649f2238bf0991480cefcd5f232ea"></a><!-- doxytag: member="mdt_hsm.c::mdt_hsm_request" ref="a47b649f2238bf0991480cefcd5f232ea" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_hsm_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process the HSM actions described in a struct <a class="el" href="structhsm__user__request.html">hsm_user_request</a>. </p>
<p>The action described in hur will be send to <a class="el" href="structcoordinator.html">coordinator</a> to be saved and processed later or either handled directly if hur.hur_action is HUA_RELEASE.</p>
<p>This is MDS_HSM_REQUEST RPC handler. </p>

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00471">471</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__user_8h_source.html#l01303">hai_first()</a>, <a class="el" href="lustre__user_8h_source.html#l01311">hai_next()</a>, <a class="el" href="lustre__user_8h_source.html#l01287">hsm_action_list::hal_archive_id</a>, <a class="el" href="lustre__user_8h_source.html#l01284">hsm_action_list::hal_count</a>, <a class="el" href="lustre__user_8h_source.html#l01286">hsm_action_list::hal_flags</a>, <a class="el" href="lustre__user_8h_source.html#l01289">hsm_action_list::hal_fsname</a>, <a class="el" href="lustre__user_8h_source.html#l01318">hal_size()</a>, <a class="el" href="lustre__user_8h_source.html#l01280">HAL_VERSION</a>, <a class="el" href="lustre__user_8h_source.html#l01283">hsm_action_list::hal_version</a>, <a class="el" href="lustre__user_8h_source.html#l01163">hsm_request::hr_action</a>, <a class="el" href="lustre__user_8h_source.html#l01164">hsm_request::hr_archive_id</a>, <a class="el" href="lustre__user_8h_source.html#l01167">hsm_request::hr_data_len</a>, <a class="el" href="lustre__user_8h_source.html#l01165">hsm_request::hr_flags</a>, <a class="el" href="lustre__user_8h_source.html#l01166">hsm_request::hr_itemcount</a>, <a class="el" href="lustre__user_8h_source.html#l01219">HSMA_ARCHIVE</a>, <a class="el" href="lustre__user_8h_source.html#l01222">HSMA_CANCEL</a>, <a class="el" href="lustre__user_8h_source.html#l01218">HSMA_NONE</a>, <a class="el" href="lustre__user_8h_source.html#l01221">HSMA_REMOVE</a>, <a class="el" href="lustre__user_8h_source.html#l01220">HSMA_RESTORE</a>, <a class="el" href="lustre__user_8h_source.html#l01131">HUA_ARCHIVE</a>, <a class="el" href="lustre__user_8h_source.html#l01135">HUA_CANCEL</a>, <a class="el" href="lustre__user_8h_source.html#l01133">HUA_RELEASE</a>, <a class="el" href="lustre__user_8h_source.html#l01134">HUA_REMOVE</a>, <a class="el" href="lustre__user_8h_source.html#l01132">HUA_RESTORE</a>, <a class="el" href="lustre__user_8h_source.html#l01172">hsm_user_item::hui_extent</a>, <a class="el" href="lustre__user_8h_source.html#l01171">hsm_user_item::hui_fid</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00298">mdt_hsm_add_actions()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00045">MDT_HSM_ALLOC</a>, <a class="el" href="mdt__hsm_8c_source.html#l00053">MDT_HSM_FREE</a>, <a class="el" href="mdt__lib_8c_source.html#l00596">mdt_init_ucred()</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="lustre__user_8h_source.html#l00532">obd_uuid2fsname()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02263">req_capsule_get_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00865">RMF_GENERIC_DATA</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00301">RMF_MDS_HSM_REQUEST</a>, <a class="el" href="layout_8c_source.html#l01179">RMF_MDS_HSM_USER_ITEM</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, <a class="el" href="lu__target_8h_source.html#l00206">tgt_session_info::tsi_mdt_body</a>, and <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>.</p>

</div>
</div>
<a class="anchor" id="abaa01318221c7e8909a7eb09677fee88"></a><!-- doxytag: member="mdt_hsm.c::mdt_hsm_state_get" ref="abaa01318221c7e8909a7eb09677fee88" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_hsm_state_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve the current HSM flags, archive id and undergoing HSM requests for the fid provided in RPC body. </p>
<p>Current requests are read from <a class="el" href="structcoordinator.html">coordinator</a> states.</p>
<p>This is MDS_HSM_STATE_GET RPC handler. </p>

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00197">197</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__user_8h_source.html#l01100">hsm_user_state::hus_archive_id</a>, <a class="el" href="lustre__user_8h_source.html#l01099">hsm_user_state::hus_states</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="md__object_8h_source.html#l00121">md_attr::ma_hsm</a>, <a class="el" href="md__object_8h_source.html#l00078">MA_HSM</a>, <a class="el" href="md__object_8h_source.html#l00117">md_attr::ma_need</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="mdt__handler_8c_source.html#l00819">mdt_attr_get_complex()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__lib_8c_source.html#l00596">mdt_init_ucred()</a>, <a class="el" href="mdt__internal_8h_source.html#l00270">MDT_LH_CHILD</a>, <a class="el" href="mdt__handler_8c_source.html#l00163">mdt_lock_reg_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l02619">mdt_object_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02771">mdt_object_unlock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="md__object_8h_source.html#l00111">md_hsm::mh_arch_id</a>, <a class="el" href="md__object_8h_source.html#l00110">md_hsm::mh_flags</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01159">RMF_HSM_USER_STATE</a>, <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>, and <a class="el" href="lu__target_8h_source.html#l00193">tgt_session_info::tsi_pill</a>.</p>

</div>
</div>
<a class="anchor" id="a7c5813c8ac14de83cb3be92368223e23"></a><!-- doxytag: member="mdt_hsm.c::mdt_hsm_state_set" ref="a7c5813c8ac14de83cb3be92368223e23" args="(struct tgt_session_info *tsi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_hsm_state_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtgt__session__info.html">tgt_session_info</a> *&nbsp;</td>
          <td class="paramname"> <em>tsi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change HSM state and archive number of a file. </p>
<p>Archive number is changed iif the value is not 0. The new flagset that will be computed should result in a coherent state. This function checks that flags are compatible.</p>
<p>This is MDS_HSM_STATE_SET RPC handler. </p>

<p>Definition at line <a class="el" href="mdt__hsm_8c_source.html#l00254">254</a> of file <a class="el" href="mdt__hsm_8c_source.html">mdt_hsm.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="curproc_8h_source.html#l00118">CFS_CAP_SYS_ADMIN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00158">D_HSM</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__user_8h_source.html#l01048">HS_ARCHIVED</a>, <a class="el" href="lustre__user_8h_source.html#l01046">HS_DIRTY</a>, <a class="el" href="lustre__user_8h_source.html#l01045">HS_EXISTS</a>, <a class="el" href="lustre__user_8h_source.html#l01051">HS_LOST</a>, <a class="el" href="lustre__user_8h_source.html#l01047">HS_RELEASED</a>, <a class="el" href="lustre__user_8h_source.html#l01064">HSM_FLAGS_MASK</a>, <a class="el" href="lustre__user_8h_source.html#l01055">HSM_USER_MASK</a>, <a class="el" href="lustre__idl_8h_source.html#l01739">hsm_state_set::hss_archive_id</a>, <a class="el" href="lustre__idl_8h_source.html#l01734">HSS_ARCHIVE_ID</a>, <a class="el" href="lustre__idl_8h_source.html#l01733">HSS_CLEARMASK</a>, <a class="el" href="lustre__idl_8h_source.html#l01741">hsm_state_set::hss_clearmask</a>, <a class="el" href="lustre__idl_8h_source.html#l01732">HSS_SETMASK</a>, <a class="el" href="lustre__idl_8h_source.html#l01740">hsm_state_set::hss_setmask</a>, <a class="el" href="lustre__idl_8h_source.html#l01738">hsm_state_set::hss_valid</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lustre__idl_8h_source.html#l00214">LL_HSM_MAX_ARCHIVE</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="md__object_8h_source.html#l00121">md_attr::ma_hsm</a>, <a class="el" href="md__object_8h_source.html#l00078">MA_HSM</a>, <a class="el" href="md__object_8h_source.html#l00117">md_attr::ma_need</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="md__object_8h_source.html#l00618">md_capable()</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02093">MDS_INODELOCK_XATTR</a>, <a class="el" href="mdt__handler_8c_source.html#l00819">mdt_attr_get_complex()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__hsm_8c_source.html#l00058">mdt_hsm_attr_set()</a>, <a class="el" href="mdt__lib_8c_source.html#l00596">mdt_init_ucred()</a>, <a class="el" href="mdt__internal_8h_source.html#l00270">MDT_LH_CHILD</a>, <a class="el" href="mdt__handler_8c_source.html#l00163">mdt_lock_reg_init()</a>, <a class="el" href="mdt__handler_8c_source.html#l02619">mdt_object_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02771">mdt_object_unlock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02949">mdt_thread_info_fini()</a>, <a class="el" href="mdt__handler_8c_source.html#l06063">mdt_ucred()</a>, <a class="el" href="md__object_8h_source.html#l00111">md_hsm::mh_arch_id</a>, <a class="el" href="md__object_8h_source.html#l00110">md_hsm::mh_flags</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l01164">RMF_HSM_STATE_SET</a>, and <a class="el" href="mdt__handler_8c_source.html#l02968">tsi2mdt_info()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
