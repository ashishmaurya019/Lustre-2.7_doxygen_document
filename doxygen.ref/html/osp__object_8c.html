<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/osp/osp_object.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/osp/osp_object.c File Reference</h1><code>#include &lt;<a class="el" href="lustre__obdo_8h_source.html">lustre_obdo.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__swab_8h_source.html">lustre_swab.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="osp__internal_8h_source.html">osp_internal.h</a>&quot;</code><br/>

<p><a href="osp__object_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_MDS</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static __u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a73a849d4f1317712bb72ce91f47c2ae7">osp_dev2node</a> (struct <a class="el" href="structosp__device.html">osp_device</a> *osp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a518440426b9796739bad11e5d49f247f">is_ost_obj</a> (struct <a class="el" href="structlu__object.html">lu_object</a> *lo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#ab496f55066f7187d389ce2e602f4e74c">osp_object_assign_fid</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosp__device.html">osp_device</a> *d, struct <a class="el" href="structosp__object.html">osp_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assign FID to the OST object.  <a href="#ab496f55066f7187d389ce2e602f4e74c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a6495832e4efeddcaa1368ffe41af4c85">osp_oac_init</a> (struct <a class="el" href="structosp__object.html">osp_object</a> *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the OSP object attributes cache.  <a href="#a6495832e4efeddcaa1368ffe41af4c85"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#afd70598ed6a118bec10b97fabcbd0c04">osp_oac_xattr_find_locked</a> (struct <a class="el" href="structosp__object__attr.html">osp_object_attr</a> *ooa, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, size_t namelen)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the named extended attribute in the OSP object attributes cache.  <a href="#afd70598ed6a118bec10b97fabcbd0c04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aa064310b70ff81273abfc640b4b1eb12">osp_oac_xattr_find</a> (struct <a class="el" href="structosp__object.html">osp_object</a> *obj, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, bool unlink)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the named extended attribute in the OSP object attributes cache.  <a href="#aa064310b70ff81273abfc640b4b1eb12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a12a2e9d115e4fbc94a6b83018f36db78">osp_oac_xattr_find_or_add</a> (struct <a class="el" href="structosp__object.html">osp_object</a> *obj, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, size_t len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the named extended attribute in the OSP object attributes cache.  <a href="#a12a2e9d115e4fbc94a6b83018f36db78"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aad63c3197b9db90516a30ed33ee2c80d">osp_oac_xattr_replace</a> (struct <a class="el" href="structosp__object.html">osp_object</a> *obj, struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a> **poxe, size_t len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add the given extended attribute to the OSP object attributes cache.  <a href="#aad63c3197b9db90516a30ed33ee2c80d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aee487a7096b9e648b1fd600e25c41a57">osp_oac_xattr_put</a> (struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a> *oxe)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release reference from the OSP object extended attribute entry.  <a href="#aee487a7096b9e648b1fd600e25c41a57"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a598652ceb32c6281106bab6cd4875266">osp_get_attr_from_reply</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobject__update__reply.html">object_update_reply</a> *reply, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structosp__object.html">osp_object</a> *obj, int index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse the OSP object attribute from the RPC reply.  <a href="#a598652ceb32c6281106bab6cd4875266"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a1fef746df0d1895ced4eb7c197bb12b2">osp_attr_get_interpterer</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobject__update__reply.html">object_update_reply</a> *reply, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structosp__object.html">osp_object</a> *obj, void *data, int index, int rc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interpreter function for getting OSP object attribute asynchronously.  <a href="#a1fef746df0d1895ced4eb7c197bb12b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#af2bd0069b3de947fbeb4e8a9cfd3eef1">osp_declare_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#adc1fb34feaf57d9448beaab7f04302bd" title="Declare intention to request reqular attributes.">dt_object_operations::do_declare_attr_get()</a> interface.  <a href="#af2bd0069b3de947fbeb4e8a9cfd3eef1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#af3841bfc19af7e21ce75974da9e99b78">osp_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#a1d2ff17287fa229d0325cccf0aac5beb" title="Return regular attributes.">dt_object_operations::do_attr_get()</a> interface.  <a href="#af3841bfc19af7e21ce75974da9e99b78"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a72517b6c8bf81ac9711c4b4ff1dace14">osp_declare_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#a44eb5df458974e0568eba9863c439362" title="Declare intention to change regular object&#39;s attributes.">dt_object_operations::do_declare_attr_set()</a> interface.  <a href="#a72517b6c8bf81ac9711c4b4ff1dace14"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#ab805b3f934b827661d470b67a695cf40">osp_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#aa9a55847088d77aa8bbc16c693344ddb" title="Change regular attributes.">dt_object_operations::do_attr_set()</a> interface.  <a href="#ab805b3f934b827661d470b67a695cf40"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aa677dd1fa0a63ad28159eddb606b199d">osp_xattr_get_interpterer</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobject__update__reply.html">object_update_reply</a> *reply, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structosp__object.html">osp_object</a> *obj, void *data, int index, int rc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interpreter function for getting OSP object extended attribute asynchronously.  <a href="#aa677dd1fa0a63ad28159eddb606b199d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a34a6407b9c27c708d2b36902af3fa680">osp_declare_xattr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP <a class="el" href="structdt__object__operations.html#a2032c927c95147729dd7a7247c5c12aa" title="Declare intention to request extented attribute.">dt_object_operations::do_declare_xattr_get()</a> interface.  <a href="#a34a6407b9c27c708d2b36902af3fa680"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aee4dfb5ebf4062287d3a3b1a4ee1ac13">osp_xattr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#af4c8c504e52a5571dbd0557980c3818a" title="Return a value of an extended attribute.">dt_object_operations::do_xattr_get()</a> interface.  <a href="#aee4dfb5ebf4062287d3a3b1a4ee1ac13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a087e25234317d46c46d282db94658f7b">osp_declare_xattr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int flag, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#ad5d602fce101080720544cbdb0de96e8" title="Declare intention to change an extended attribute.">dt_object_operations::do_declare_xattr_set()</a> interface.  <a href="#a087e25234317d46c46d282db94658f7b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a6e9f34a7e74d91c77816e90c8d3002f5">osp_xattr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#a231db7d512a5786b8ad887e9fc47190b" title="Set an extended attribute.">dt_object_operations::do_xattr_set()</a> interface.  <a href="#a6e9f34a7e74d91c77816e90c8d3002f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#afd49d501a6423438845e4f1e65c42dde">osp_declare_xattr_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#a7b2e57f4c0bdb5108e9d1920242e813e" title="Declare intention to delete an extended attribute.">dt_object_operations::do_declare_xattr_del()</a> interface.  <a href="#afd49d501a6423438845e4f1e65c42dde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a5cba0564396dce70318ff5a5ac64f775">osp_xattr_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#a19762fb1d9e75136521019d51759b6ec" title="Delete an extended attribute.">dt_object_operations::do_xattr_del()</a> interface.  <a href="#a5cba0564396dce70318ff5a5ac64f775"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a97cc0993f0f8543193629a7d9edd8c77">osp_declare_object_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#ab16b75516dfd3d619fbffbc96f2b9d24" title="Declare intention to create a new object.">dt_object_operations::do_declare_create()</a> interface.  <a href="#a97cc0993f0f8543193629a7d9edd8c77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#af498986402b3be3292cfbd9d93d8273b">osp_object_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#ac1ca5a81cd3d00bd821fbfead64022c3" title="Create new object.">dt_object_operations::do_create()</a> interface.  <a href="#af498986402b3be3292cfbd9d93d8273b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a57947ae1ea27d7f831d850087b300904">osp_declare_object_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#af211c9cc7a0203979cd8cf0f0b81b293" title="Declare intention to destroy an object.">dt_object_operations::do_declare_destroy()</a> interface.  <a href="#a57947ae1ea27d7f831d850087b300904"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a343152f28ffead0a82480e9673dd0afc">osp_object_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#a19ddd277003c24371f8c5771a2ba77bb" title="Destroy an object.">dt_object_operations::do_destroy()</a> interface.  <a href="#a343152f28ffead0a82480e9673dd0afc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aa06c4e73eb0a130f8260805fbe5ec0f3">osp_orphan_index_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#adf270abad708770f665572c11266bc2b">osp_orphan_index_declare_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aa6d3e3c4e4a3685b6c3a2137a5bc9480">osp_orphan_index_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle, int ignore_quota)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a76c445ec3d4e736348a454f82b072641">osp_orphan_index_declare_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aae87df97e7ccb65ede7a5001664df5bb">osp_orphan_index_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct dt_it *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a0da5f987514d58d617d9e20d1b5ffa9e">osp_it_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the OSP layer index iteration.  <a href="#a0da5f987514d58d617d9e20d1b5ffa9e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#ae9d075a9ad9358a90a4e0ee239e944f1">osp_it_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize the OSP layer index iteration.  <a href="#ae9d075a9ad9358a90a4e0ee239e944f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a61ec8b07ce1945a2658af5dfcd818f9f">osp_it_fetch</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosp__it.html">osp_it</a> *it)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get more records for the iteration from peer.  <a href="#a61ec8b07ce1945a2658af5dfcd818f9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a15b2be68bdfbe9bccf8d43b4d5174080">osp_it_next_page</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the iteration cursor to the next <a class="el" href="unionlu__page.html">lu_page</a>.  <a href="#a15b2be68bdfbe9bccf8d43b4d5174080"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a120b6881eaffa6d6df0645ab7c32c7d9">osp_orphan_it_next</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the iteration cursor to the next record.  <a href="#a120b6881eaffa6d6df0645ab7c32c7d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a07d21a6da27503c32900b08c2c084faf">osp_it_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a8106562211602449cbbfe777335da553">osp_it_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aad5b1a8d473fc86f90ef6b6e08fa4d99">osp_orphan_it_key</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aa042833d06dcbd705f02057d1c861edf">osp_orphan_it_key_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a99791b8360f35f57552327eef6f9602a">osp_orphan_it_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, struct dt_rec *rec, __u32 attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a80a49dbf124329dd0433ee6924d97462">osp_it_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a0f7d6cd0be93164251feaf6332ae00e6">osp_orphan_it_load</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> hash)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Locate the iteration cursor to the specified position (cookie).  <a href="#a0f7d6cd0be93164251feaf6332ae00e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#ae029b34f183e7b6def52134812822a2f">osp_it_key_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, void *key_rec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#adfc9474dc51f64d49de77943cfd040fd">osp_index_try</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *feat)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2" title="Try object as an index.">dt_object_operations::do_index_try()</a> interface.  <a href="#adfc9474dc51f64d49de77943cfd040fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#aeecff5fce12a1aabda812df9ca9d78df">osp_object_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structlu__object__operations.html#a15b69dd7ca43e31bee4023da49fbb8a8" title="Allocate lower-layer parts of the object by calling lu_device_operations::ldo_object_alloc()...">lu_object_operations::loo_object_init()</a> interface.  <a href="#aeecff5fce12a1aabda812df9ca9d78df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a984f6009245ed88ec86ab85789e8d2cb">osp_object_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structlu__object__operations.html#a59cf8062ebe405ac01fdcab9d976eed3" title="Dual to lu_device_operations::ldo_object_alloc().">lu_object_operations::loo_object_free()</a> interface.  <a href="#a984f6009245ed88ec86ab85789e8d2cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a4513942f0a1b60fd0786c89334749fd2">osp_object_release</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement OSP layer <a class="el" href="structlu__object__operations.html#a4fa5d3edafc04a638d06465d57ebc20a" title="Called when last active reference to the object is released (and object returns to...">lu_object_operations::loo_object_release()</a> interface.  <a href="#a4513942f0a1b60fd0786c89334749fd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a333f2de02c555f57295a0c9b27e90591">osp_object_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> p, const struct <a class="el" href="structlu__object.html">lu_object</a> *l)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a43ea7a87900de34ab485865c10d6f484">osp_object_invariant</a> (const struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a2936e68d6857aff098eb527adbb668d7">osp_orphan_index_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a345b4561652f8ad5db07a8a8cdd267ff">osp_obj_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osp__object_8c.html#a6e0b54753466e13a043eadfebe298cfa">osp_lu_obj_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="osp_object.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_MDS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00125">125</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a518440426b9796739bad11e5d49f247f"></a><!-- doxytag: member="osp_object.c::is_ost_obj" ref="a518440426b9796739bad11e5d49f247f" args="(struct lu_object *lo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_ost_obj </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00137">137</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, and <a class="el" href="osp__internal_8h_source.html#l00167">osp_device::opd_connect_mdt</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00542">osp_attr_get()</a>, <a class="el" href="osp__object_8c_source.html#l02127">osp_object_init()</a>, <a class="el" href="osp__object_8c_source.html#l02212">osp_object_release()</a>, and <a class="el" href="osp__object_8c_source.html#l00916">osp_xattr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="af3841bfc19af7e21ce75974da9e99b78"></a><!-- doxytag: member="osp_object.c::osp_attr_get" ref="af3841bfc19af7e21ce75974da9e99b78" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_attr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#a1d2ff17287fa229d0325cccf0aac5beb" title="Return regular attributes.">dt_object_operations::do_attr_get()</a> interface. </p>
<p>Get attribute from the specified MDT/OST object.</p>
<p>If the attribute is in the OSP object attributes cache, then return the cached attribute directly. Otherwise it will trigger an OUT RPC to the peer to get the attribute synchronously, if successful, add it to the OSP attributes cache. (</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="osp__trans_8c.html">lustre/osp/osp_trans.c</a> for <a class="el" href="gni__pub_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> RPC.)</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>pointer to the buffer to hold the output attribute</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00542">542</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="osp__object_8c_source.html#l00137">is_ost_obj()</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lu__object_8h_source.html#l00501">LOHA_EXISTS</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="osp__internal_8h_source.html#l00284">osp_object_attr::ooa_attr</a>, <a class="el" href="osp__internal_8h_source.html#l00139">osp_device::opd_dt_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_non_exist</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_stale</a>, <a class="el" href="osp__internal_8h_source.html#l00466">osp2lu_obj()</a>, <a class="el" href="osp__object_8c_source.html#l00400">osp_get_attr_from_reply()</a>, <a class="el" href="osp__trans_8c_source.html#l00442">osp_remote_sync()</a>, <a class="el" href="osp__trans_8c_source.html#l00187">osp_update_request_create()</a>, <a class="el" href="osp__trans_8c_source.html#l00204">osp_update_request_destroy()</a>, <a class="el" href="osp__internal_8h_source.html#l00605">osp_update_rpc_pack</a>, <a class="el" href="lustre__idl_8h_source.html#l03922">object_update_reply::ourp_magic</a>, <a class="el" href="lustre__idl_8h_source.html#l03790">OUT_ATTR_GET</a>, <a class="el" href="lustre__update_8h_source.html#l00037">OUT_UPDATE_REPLY_SIZE</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="layout_8c_source.html#l02186">req_capsule_server_sized_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01199">RMF_OUT_UPDATE_REPLY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="lustre__idl_8h_source.html#l03919">UPDATE_REPLY_MAGIC</a>.</p>

</div>
</div>
<a class="anchor" id="a1fef746df0d1895ced4eb7c197bb12b2"></a><!-- doxytag: member="osp_object.c::osp_attr_get_interpterer" ref="a1fef746df0d1895ced4eb7c197bb12b2" args="(const struct lu_env *env, struct object_update_reply *reply, struct ptlrpc_request *req, struct osp_object *obj, void *data, int index, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_attr_get_interpterer </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobject__update__reply.html">object_update_reply</a> *&nbsp;</td>
          <td class="paramname"> <em>reply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosp__object.html">osp_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Interpreter function for getting OSP object attribute asynchronously. </p>
<p>Called to interpret the result of an async mode RPC for getting the OSP object attribute.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>reply</em>&nbsp;</td><td>pointer to the RPC reply </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>req</em>&nbsp;</td><td>pointer to the RPC request </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the OSP object </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>pointer to buffer to hold the output attribute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>index</em>&nbsp;</td><td>the index of the attribute buffer in the reply </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rc</em>&nbsp;</td><td>the result for handling the RPC</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00457">457</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lu__object_8h_source.html#l00501">LOHA_EXISTS</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_non_exist</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__internal_8h_source.html#l00466">osp2lu_obj()</a>, and <a class="el" href="osp__object_8c_source.html#l00400">osp_get_attr_from_reply()</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00503">osp_declare_attr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="ab805b3f934b827661d470b67a695cf40"></a><!-- doxytag: member="osp_object.c::osp_attr_set" ref="ab805b3f934b827661d470b67a695cf40" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_attr *attr, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#aa9a55847088d77aa8bbc16c693344ddb" title="Change regular attributes.">dt_object_operations::do_attr_set()</a> interface. </p>
<p>Set attribute to the specified OST object.</p>
<p>If the transaction is a remote one, then add OUT_ATTR_SET sub-request in the OUT RPC that will be flushed when the remote transaction stop. Otherwise, it will generate a MDS_SETATTR64_REC record in the llog that will be handled by a dedicated thread asynchronously.</p>
<p>If the attribute entry exists in the OSP object attributes cache, then update the cached attribute according to given attribute.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>pointer to the attribute to be set </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00709">709</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osp__internal_8h_source.html#l00378">is_only_remote_trans()</a>, <a class="el" href="lu__object_8h_source.html#l00423">lu_attr::la_gid</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00525">lu_object_header::loh_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l03092">MDS_SETATTR64_REC</a>, <a class="el" href="osp__internal_8h_source.html#l00284">osp_object_attr::ooa_attr</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__md__object_8c_source.html#l00359">osp_md_attr_set()</a>, <a class="el" href="osp__sync_8c_source.html#l00429">osp_sync_add()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="af2bd0069b3de947fbeb4e8a9cfd3eef1"></a><!-- doxytag: member="osp_object.c::osp_declare_attr_get" ref="af2bd0069b3de947fbeb4e8a9cfd3eef1" args="(const struct lu_env *env, struct dt_object *dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_declare_attr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#adc1fb34feaf57d9448beaab7f04302bd" title="Declare intention to request reqular attributes.">dt_object_operations::do_declare_attr_get()</a> interface. </p>
<p>Declare that the caller will get attribute from the specified OST object.</p>
<p>This function adds an Object Unified Target (OUT) sub-request to the per-OSP based shared asynchronous request queue. The <a class="el" href="osp__object_8c.html#a1fef746df0d1895ced4eb7c197bb12b2" title="Interpreter function for getting OSP object attribute asynchronously.">osp_attr_get_interpterer()</a> is registered as the interpreter function to handle the result of this sub-request.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a></td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00503">503</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="osp__internal_8h_source.html#l00284">osp_object_attr::ooa_attr</a>, <a class="el" href="osp__internal_8h_source.html#l00249">osp_device::opd_async_requests_mutex</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__object_8c_source.html#l00457">osp_attr_get_interpterer()</a>, <a class="el" href="osp__trans_8c_source.html#l00840">osp_insert_async_request()</a>, <a class="el" href="osp__object_8c_source.html#l00174">osp_oac_init()</a>, and <a class="el" href="lustre__idl_8h_source.html#l03790">OUT_ATTR_GET</a>.</p>

</div>
</div>
<a class="anchor" id="a72517b6c8bf81ac9711c4b4ff1dace14"></a><!-- doxytag: member="osp_object.c::osp_declare_attr_set" ref="a72517b6c8bf81ac9711c4b4ff1dace14" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_attr *attr, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_declare_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#a44eb5df458974e0568eba9863c439362" title="Declare intention to change regular object&#39;s attributes.">dt_object_operations::do_declare_attr_set()</a> interface. </p>
<p>If the transaction is not remote one, then declare the credits that will be used for the subsequent llog record for the object's attributes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>pointer to the attribute to be set </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00638">638</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="osp__internal_8h_source.html#l00378">is_only_remote_trans()</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00409">lu_attr::la_size</a>, <a class="el" href="lu__object_8h_source.html#l00447">LA_SIZE</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l03092">MDS_SETATTR64_REC</a>, <a class="el" href="osp__internal_8h_source.html#l00291">osp_object::opo_obj</a>, <a class="el" href="osp__md__object_8c_source.html#l00337">osp_md_declare_attr_set()</a>, <a class="el" href="osp__object_8c_source.html#l00152">osp_object_assign_fid()</a>, <a class="el" href="osp__precreate_8c_source.html#l01454">osp_object_truncate()</a>, <a class="el" href="osp__sync_8c_source.html#l00294">osp_sync_declare_add()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a97cc0993f0f8543193629a7d9edd8c77"></a><!-- doxytag: member="osp_object.c::osp_declare_object_create" ref="a97cc0993f0f8543193629a7d9edd8c77" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_declare_object_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#ab16b75516dfd3d619fbffbc96f2b9d24" title="Declare intention to create a new object.">dt_object_operations::do_declare_create()</a> interface. </p>
<p>Declare that the caller will create the OST object.</p>
<p>If the transaction is a remote transaction and the FID for the OST-object has been assigned already, then handle it as creating (remote) MDT object via <a class="el" href="osp__internal_8h.html#a1795337c33a409d5f78b87ff38a112ec" title="Implementation of dt_object_operations::do_declare_create.">osp_md_declare_object_create()</a>. This function is usually used for LFSCK to re-create the lost OST object. Otherwise, if it is not replay case, the OSP will reserve pre-created object for the subsequent create operation; if the MDT side cached pre-created objects are less than some threshold, then it will wakeup the pre-create thread.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>the attribute for the object to be created </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hint</em>&nbsp;</td><td>pointer to the hint for creating the object, such as the parent object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dof</em>&nbsp;</td><td>pointer to the <a class="el" href="structdt__object__format.html" title="object format specifier.">dt_object_format</a> for help the creation </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01309">1309</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="dt__object_8h_source.html#l02087">dt_declare_record_write()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="osp__internal_8h_source.html#l00378">is_only_remote_trans()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00530">lu_object_header::loh_flags</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lu__object_8h_source.html#l00493">LU_OBJECT_HEARD_BANSHEE</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00230">OBD_FAIL_MDS_OSC_CREATE_FAIL</a>, <a class="el" href="osp__internal_8h_source.html#l00141">osp_device::opd_index</a>, <a class="el" href="osp__internal_8h_source.html#l00149">osp_device::opd_last_used_oid_file</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_reserved</a>, <a class="el" href="osp__internal_8h_source.html#l00316">osp_thread_info::osi_id</a>, <a class="el" href="osp__internal_8h_source.html#l00310">osp_thread_info::osi_lb</a>, <a class="el" href="osp__internal_8h_source.html#l00317">osp_thread_info::osi_off</a>, <a class="el" href="osp__internal_8h_source.html#l00409">osp_env_info()</a>, <a class="el" href="osp__trans_8c_source.html#l01227">osp_get_storage_thandle()</a>, <a class="el" href="osp__md__object_8c_source.html#l00121">osp_md_declare_object_create()</a>, <a class="el" href="osp__precreate_8c_source.html#l01292">osp_precreate_reserve()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a57947ae1ea27d7f831d850087b300904"></a><!-- doxytag: member="osp_object.c::osp_declare_object_destroy" ref="a57947ae1ea27d7f831d850087b300904" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_declare_object_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#af211c9cc7a0203979cd8cf0f0b81b293" title="Declare intention to destroy an object.">dt_object_operations::do_declare_destroy()</a> interface. </p>
<p>Declare that the caller will destroy the specified OST object.</p>
<p>The OST object destroy will be handled via llog asynchronously. This function will declare the credits for generating MDS_UNLINK64_REC llog.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> to be destroyed </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01530">1530</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lustre__idl_8h_source.html#l03089">MDS_UNLINK64_REC</a>, <a class="el" href="osp__internal_8h_source.html#l00167">osp_device::opd_connect_mdt</a>, <a class="el" href="osp__sync_8c_source.html#l00294">osp_sync_declare_add()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="afd49d501a6423438845e4f1e65c42dde"></a><!-- doxytag: member="osp_object.c::osp_declare_xattr_del" ref="afd49d501a6423438845e4f1e65c42dde" args="(const struct lu_env *env, struct dt_object *dt, const char *name, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_declare_xattr_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#a7b2e57f4c0bdb5108e9d1920242e813e" title="Declare intention to delete an extended attribute.">dt_object_operations::do_declare_xattr_del()</a> interface. </p>
<p>Declare that the caller will delete extended attribute on the specified MDT/OST object.</p>
<p>If it is non-remote transaction, it will add an OUT_XATTR_DEL sub-request to the OUT RPC that will be flushed when the transaction start. And if the name extended attribute entry exists in the OSP attributes cache, then remove it from the cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the extended attribute to be set </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01236">1236</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="osp__trans_8c_source.html#l00899">osp_trans_update_request_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a34a6407b9c27c708d2b36902af3fa680"></a><!-- doxytag: member="osp_object.c::osp_declare_xattr_get" ref="a34a6407b9c27c708d2b36902af3fa680" args="(const struct lu_env *env, struct dt_object *dt, struct lu_buf *buf, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_declare_xattr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP <a class="el" href="structdt__object__operations.html#a2032c927c95147729dd7a7247c5c12aa" title="Declare intention to request extented attribute.">dt_object_operations::do_declare_xattr_get()</a> interface. </p>
<p>Declare that the caller will get extended attribute from the specified OST object.</p>
<p>This function will add an OUT_XATTR_GET sub-request to the per OSP based shared asynchronous request queue with the interpreter function: <a class="el" href="osp__object_8c.html#aa677dd1fa0a63ad28159eddb606b199d" title="Interpreter function for getting OSP object extended attribute asynchronously.">osp_xattr_get_interpterer()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>pointer to the <a class="el" href="structlu__buf.html" title="Common buffer structure to be passed around for various xattr_{s,g}et() methods.">lu_buf</a> to hold the extended attribute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name for the expected extended attribute</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00835">835</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="osp__internal_8h_source.html#l00247">osp_device::opd_async_requests</a>, <a class="el" href="osp__internal_8h_source.html#l00249">osp_device::opd_async_requests_mutex</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__trans_8c_source.html#l00166">osp_current_object_update_request()</a>, <a class="el" href="osp__trans_8c_source.html#l00840">osp_insert_async_request()</a>, <a class="el" href="osp__object_8c_source.html#l00174">osp_oac_init()</a>, <a class="el" href="osp__object_8c_source.html#l00275">osp_oac_xattr_find_or_add()</a>, <a class="el" href="osp__object_8c_source.html#l00375">osp_oac_xattr_put()</a>, <a class="el" href="osp__trans_8c_source.html#l00714">osp_unplug_async_request()</a>, <a class="el" href="osp__object_8c_source.html#l00770">osp_xattr_get_interpterer()</a>, <a class="el" href="lustre__idl_8h_source.html#l03842">object_update_request::ourq_count</a>, <a class="el" href="osp__internal_8h_source.html#l00098">osp_update_request_sub::ours_req</a>, <a class="el" href="lustre__idl_8h_source.html#l03792">OUT_XATTR_GET</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a087e25234317d46c46d282db94658f7b"></a><!-- doxytag: member="osp_object.c::osp_declare_xattr_set" ref="a087e25234317d46c46d282db94658f7b" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int flag, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_declare_xattr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#ad5d602fce101080720544cbdb0de96e8" title="Declare intention to change an extended attribute.">dt_object_operations::do_declare_xattr_set()</a> interface. </p>
<p>Declare that the caller will set extended attribute to the specified MDT/OST object.</p>
<p>If it is non-remote transaction, it will add an OUT_XATTR_SET sub-request to the OUT RPC that will be flushed when the transaction start. And if the OSP attributes cache is initialized, then check whether the name extended attribute entry exists in the cache or not. If yes, replace it; otherwise, add the extended attribute to the cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>pointer to the <a class="el" href="structlu__buf.html" title="Common buffer structure to be passed around for various xattr_{s,g}et() methods.">lu_buf</a> to hold the extended attribute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the extended attribute to be set </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>flag</em>&nbsp;</td><td>to indicate the detailed set operation: LU_XATTR_CREATE or LU_XATTR_REPLACE or others </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01125">1125</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="osp__trans_8c_source.html#l00899">osp_trans_update_request_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a73a849d4f1317712bb72ce91f47c2ae7"></a><!-- doxytag: member="osp_object.c::osp_dev2node" ref="a73a849d4f1317712bb72ce91f47c2ae7" args="(struct osp_device *osp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static __u32 osp_dev2node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosp__device.html">osp_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00132">132</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="lu__object_8h_source.html#l00645">lu_site::ld_seq_site</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="osp__internal_8h_source.html#l00148">osp_device::opd_storage</a>, and <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, and <a class="el" href="osp__object_8c_source.html#l00916">osp_xattr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a598652ceb32c6281106bab6cd4875266"></a><!-- doxytag: member="osp_object.c::osp_get_attr_from_reply" ref="a598652ceb32c6281106bab6cd4875266" args="(const struct lu_env *env, struct object_update_reply *reply, struct ptlrpc_request *req, struct lu_attr *attr, struct osp_object *obj, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_get_attr_from_reply </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobject__update__reply.html">object_update_reply</a> *&nbsp;</td>
          <td class="paramname"> <em>reply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosp__object.html">osp_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parse the OSP object attribute from the RPC reply. </p>
<p>If the attribute is valid, then it will be added to the OSP object attributes cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>reply</em>&nbsp;</td><td>pointer to the RPC reply </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>req</em>&nbsp;</td><td>pointer to the RPC request </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>pointer to buffer to hold the output attribute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the OSP object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>index</em>&nbsp;</td><td>the index of the attribute buffer in the reply</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00400">400</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="linux-obdo_8c_source.html#l00103">la_from_obdo()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__obdo_8h_source.html#l00069">lustre_get_wire_obdo()</a>, <a class="el" href="pack__generic_8c_source.html#l01701">lustre_swab_obdo()</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__update_8h_source.html#l00243">object_update_result_data_get()</a>, <a class="el" href="osp__internal_8h_source.html#l00284">osp_object_attr::ooa_attr</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__internal_8h_source.html#l00311">osp_thread_info::osi_lb2</a>, <a class="el" href="osp__internal_8h_source.html#l00328">osp_thread_info::osi_obdo</a>, <a class="el" href="osp__internal_8h_source.html#l00409">osp_env_info()</a>, and <a class="el" href="lustre__net_8h_source.html#l01190">ptlrpc_req_need_swab()</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00542">osp_attr_get()</a>, and <a class="el" href="osp__object_8c_source.html#l00457">osp_attr_get_interpterer()</a>.</p>

</div>
</div>
<a class="anchor" id="adfc9474dc51f64d49de77943cfd040fd"></a><!-- doxytag: member="osp_object.c::osp_index_try" ref="adfc9474dc51f64d49de77943cfd040fd" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_index_features *feat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_index_try </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *&nbsp;</td>
          <td class="paramname"> <em>feat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2" title="Try object as an index.">dt_object_operations::do_index_try()</a> interface. </p>
<p>Negotiate the index type.</p>
<p>If the target index is an IDIF object, then use osp_orphan_index_ops. Otherwise, assign osp_md_index_ops to the <a class="el" href="structdt__object.html#a21906ed22430634d75c0037dac1d47a1">dt_object::do_index_ops</a>. (</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="lustre__fid_8h.html">lustre/include/lustre_fid.h</a> for IDIF.)</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>feat</em>&nbsp;</td><td>unused</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02083">2083</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lustre__idl_8h_source.html#l00462">fid_is_idif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, and <a class="el" href="osp__md__object_8c_source.html#l00820">osp_md_index_ops</a>.</p>

</div>
</div>
<a class="anchor" id="a61ec8b07ce1945a2658af5dfcd818f9f"></a><!-- doxytag: member="osp_object.c::osp_it_fetch" ref="a61ec8b07ce1945a2658af5dfcd818f9f" args="(const struct lu_env *env, struct osp_it *it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_it_fetch </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosp__it.html">osp_it</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get more records for the iteration from peer. </p>
<p>The new records will be filled in an array of pages. The OSP side allows 1MB bulk data to be transferred.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>it</em>&nbsp;</td><td>pointer to the iteration structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01695">1695</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="structptlrpc__bulk__frag__ops.html#a3338125828618910ae190978e235d52a">ptlrpc_bulk_frag_ops::add_kiov_frag</a>, <a class="el" href="lustre__net_8h_source.html#l01451">ptlrpc_bulk_desc::bd_frag_ops</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00147">lu_fid::f_oid</a>, <a class="el" href="lustre__user_8h_source.html#l00145">lu_fid::f_seq</a>, <a class="el" href="lustre__user_8h_source.html#l00153">lu_fid::f_ver</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00306">FID_SEQ_LAYOUT_RBTREE</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l03505">IDX_INFO_MAGIC</a>, <a class="el" href="lustre__idl_8h_source.html#l03520">idx_info::ii_attrs</a>, <a class="el" href="lustre__idl_8h_source.html#l03516">idx_info::ii_count</a>, <a class="el" href="lustre__idl_8h_source.html#l03523">idx_info::ii_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l03553">II_FL_NOHASH</a>, <a class="el" href="lustre__idl_8h_source.html#l03557">II_FL_NOKEY</a>, <a class="el" href="lustre__idl_8h_source.html#l03554">II_FL_VARKEY</a>, <a class="el" href="lustre__idl_8h_source.html#l03555">II_FL_VARREC</a>, <a class="el" href="lustre__idl_8h_source.html#l03513">idx_info::ii_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03534">idx_info::ii_hash_end</a>, <a class="el" href="lustre__idl_8h_source.html#l03533">idx_info::ii_hash_start</a>, <a class="el" href="lustre__idl_8h_source.html#l03510">idx_info::ii_magic</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00619">lu_site::ls_top_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l01012">LU_PAGE_COUNT</a>, <a class="el" href="lustre__idl_8h_source.html#l01008">LU_PAGE_SHIFT</a>, <a class="el" href="packet-lustre_8c_source.html#l00076">LUSTRE_OBD_VERSION</a>, <a class="el" href="lustre__idl_8h_source.html#l00104">MDS_BULK_PORTAL</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="lustre__idl_8h_source.html#l03031">OBD_IDX_READ</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_recovering</a>, <a class="el" href="lustre__net_8h_source.html#l00112">OFD_MAX_BRW_SIZE</a>, <a class="el" href="osp__internal_8h_source.html#l00335">osp_it::ooi_attr</a>, <a class="el" href="osp__internal_8h_source.html#l00340">osp_it::ooi_next</a>, <a class="el" href="osp__internal_8h_source.html#l00341">osp_it::ooi_obj</a>, <a class="el" href="osp__internal_8h_source.html#l00345">osp_it::ooi_pages</a>, <a class="el" href="osp__internal_8h_source.html#l00339">osp_it::ooi_swab</a>, <a class="el" href="osp__internal_8h_source.html#l00337">osp_it::ooi_total_npages</a>, <a class="el" href="osp__internal_8h_source.html#l00338">osp_it::ooi_valid_npages</a>, <a class="el" href="osp__internal_8h_source.html#l00141">osp_device::opd_index</a>, <a class="el" href="osp__internal_8h_source.html#l00159">osp_device::opd_obd</a>, <a class="el" href="osp__object_8c_source.html#l00132">osp_dev2node()</a>, <a class="el" href="lustre__idl_8h_source.html#l00114">OUT_PORTAL</a>, <a class="el" href="client_8c_source.html#l00293">ptlrpc_at_set_req_timeout()</a>, <a class="el" href="lustre__net_8h_source.html#l01337">PTLRPC_BULK_BUF_KIOV</a>, <a class="el" href="client_8c_source.html#l00050">ptlrpc_bulk_kiov_pin_ops</a>, <a class="el" href="lustre__net_8h_source.html#l01339">PTLRPC_BULK_PUT_SINK</a>, <a class="el" href="client_8c_source.html#l00174">ptlrpc_prep_bulk_imp()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="lustre__net_8h_source.html#l01198">ptlrpc_rep_need_swab()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01155">RMF_IDX_INFO</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_allow_replay</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01279">RQF_OBD_IDX_READ</a>, <a class="el" href="sec_8c_source.html#l02286">sptlrpc_cli_unwrap_bulk_read()</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l01833">osp_it_next_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9d075a9ad9358a90a4e0ee239e944f1"></a><!-- doxytag: member="osp_object.c::osp_it_fini" ref="ae9d075a9ad9358a90a4e0ee239e944f1" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osp_it_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finalize the OSP layer index iteration. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>di</em>&nbsp;</td><td>pointer to the iteration structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01661">1661</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osp__internal_8h_source.html#l00343">osp_it::ooi_cur_page</a>, <a class="el" href="osp__internal_8h_source.html#l00345">osp_it::ooi_pages</a>, and <a class="el" href="osp__internal_8h_source.html#l00337">osp_it::ooi_total_npages</a>.</p>

</div>
</div>
<a class="anchor" id="a07d21a6da27503c32900b08c2c084faf"></a><!-- doxytag: member="osp_object.c::osp_it_get" ref="a07d21a6da27503c32900b08c2c084faf" args="(const struct lu_env *env, struct dt_it *di, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_it_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01963">1963</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0da5f987514d58d617d9e20d1b5ffa9e"></a><!-- doxytag: member="osp_object.c::osp_it_init" ref="a0da5f987514d58d617d9e20d1b5ffa9e" args="(const struct lu_env *env, struct dt_object *dt, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct dt_it* osp_it_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the OSP layer index iteration. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the index object to be iterated </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>unused</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pointer</em>&nbsp;</td><td>to the iteration structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01639">1639</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="osp__internal_8h_source.html#l00335">osp_it::ooi_attr</a>, <a class="el" href="osp__internal_8h_source.html#l00341">osp_it::ooi_obj</a>, and <a class="el" href="osp__internal_8h_source.html#l00336">osp_it::ooi_pos_ent</a>.</p>

</div>
</div>
<a class="anchor" id="ae029b34f183e7b6def52134812822a2f"></a><!-- doxytag: member="osp_object.c::osp_it_key_rec" ref="ae029b34f183e7b6def52134812822a2f" args="(const struct lu_env *env, const struct dt_it *di, void *key_rec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_it_key_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key_rec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02041">2041</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a15b2be68bdfbe9bccf8d43b4d5174080"></a><!-- doxytag: member="osp_object.c::osp_it_next_page" ref="a15b2be68bdfbe9bccf8d43b4d5174080" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_it_next_page </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move the iteration cursor to the next <a class="el" href="unionlu__page.html">lu_page</a>. </p>
<p>One system page (PAGE_SIZE) may contain multiple <a class="el" href="unionlu__page.html">lu_page</a> (4KB), that depends on the LU_PAGE_COUNT. If it is not the last <a class="el" href="unionlu__page.html">lu_page</a> in current system page, then move the iteration cursor to the next <a class="el" href="unionlu__page.html">lu_page</a> in current system page. Otherwise, if there are more system pages in the cache, then move the iteration cursor to the next system page. If all the cached records (pages) have been iterated, then fetch more records via <a class="el" href="osp__object_8c.html#a61ec8b07ce1945a2658af5dfcd818f9f" title="Get more records for the iteration from peer.">osp_it_fetch()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>di</em>&nbsp;</td><td>pointer to the iteration structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>positive</em>&nbsp;</td><td>for end of the directory </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01833">1833</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l03549">II_END_OFF</a>, <a class="el" href="lustre__idl_8h_source.html#l03560">LIP_MAGIC</a>, <a class="el" href="lustre__idl_8h_source.html#l03565">lu_idxpage::lip_magic</a>, <a class="el" href="lustre__idl_8h_source.html#l03567">lu_idxpage::lip_nr</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lustre__idl_8h_source.html#l01012">LU_PAGE_COUNT</a>, <a class="el" href="lustre__idl_8h_source.html#l01009">LU_PAGE_SIZE</a>, <a class="el" href="pack__generic_8c_source.html#l02016">lustre_swab_lip_header()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="osp__internal_8h_source.html#l00344">osp_it::ooi_cur_idxpage</a>, <a class="el" href="osp__internal_8h_source.html#l00343">osp_it::ooi_cur_page</a>, <a class="el" href="osp__internal_8h_source.html#l00342">osp_it::ooi_ent</a>, <a class="el" href="osp__internal_8h_source.html#l00340">osp_it::ooi_next</a>, <a class="el" href="osp__internal_8h_source.html#l00341">osp_it::ooi_obj</a>, <a class="el" href="osp__internal_8h_source.html#l00345">osp_it::ooi_pages</a>, <a class="el" href="osp__internal_8h_source.html#l00336">osp_it::ooi_pos_ent</a>, <a class="el" href="osp__internal_8h_source.html#l00334">osp_it::ooi_pos_lu_page</a>, <a class="el" href="osp__internal_8h_source.html#l00333">osp_it::ooi_pos_page</a>, <a class="el" href="osp__internal_8h_source.html#l00339">osp_it::ooi_swab</a>, <a class="el" href="osp__internal_8h_source.html#l00337">osp_it::ooi_total_npages</a>, <a class="el" href="osp__internal_8h_source.html#l00338">osp_it::ooi_valid_npages</a>, <a class="el" href="osp__internal_8h_source.html#l00159">osp_device::opd_obd</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osp__md__object_8c_source.html#l00683">osp_md_index_it_next()</a>, and <a class="el" href="osp__object_8c_source.html#l01932">osp_orphan_it_next()</a>.</p>

</div>
</div>
<a class="anchor" id="a8106562211602449cbbfe777335da553"></a><!-- doxytag: member="osp_object.c::osp_it_put" ref="a8106562211602449cbbfe777335da553" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osp_it_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01969">1969</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a80a49dbf124329dd0433ee6924d97462"></a><!-- doxytag: member="osp_object.c::osp_it_store" ref="a80a49dbf124329dd0433ee6924d97462" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> osp_it_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02005">2005</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="osp__internal_8h_source.html#l00340">osp_it::ooi_next</a>.</p>

</div>
</div>
<a class="anchor" id="a6495832e4efeddcaa1368ffe41af4c85"></a><!-- doxytag: member="osp_object.c::osp_oac_init" ref="a6495832e4efeddcaa1368ffe41af4c85" args="(struct osp_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_oac_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosp__object.html">osp_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the OSP object attributes cache. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the OSP object</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00174">174</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="osp__internal_8h_source.html#l00285">osp_object_attr::ooa_xattr_list</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, and <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00503">osp_declare_attr_get()</a>, <a class="el" href="osp__object_8c_source.html#l00835">osp_declare_xattr_get()</a>, and <a class="el" href="osp__md__object_8c_source.html#l00121">osp_md_declare_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="aa064310b70ff81273abfc640b4b1eb12"></a><!-- doxytag: member="osp_object.c::osp_oac_xattr_find" ref="aa064310b70ff81273abfc640b4b1eb12" args="(struct osp_object *obj, const char *name, bool unlink)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a>* osp_oac_xattr_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosp__object.html">osp_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>unlink</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find the named extended attribute in the OSP object attributes cache. </p>
<p>Call <a class="el" href="osp__object_8c.html#afd70598ed6a118bec10b97fabcbd0c04" title="Find the named extended attribute in the OSP object attributes cache.">osp_oac_xattr_find_locked()</a> with the <a class="el" href="structosp__object.html#ad371d0b2afb79618fefc62596fa529c9">osp_object::opo_lock</a> held.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the OSP object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the extended attribute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>unlink</em>&nbsp;</td><td>true if the extended attribute entry is to be removed from the cache</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pointer</em>&nbsp;</td><td>to the found extended attribute entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>if the specified extended attribute is not in the cache </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00238">238</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__object_8c_source.html#l00210">osp_oac_xattr_find_locked()</a>, <a class="el" href="osp__internal_8h_source.html#l00272">osp_xattr_entry::oxe_list</a>, and <a class="el" href="osp__internal_8h_source.html#l00273">osp_xattr_entry::oxe_ref</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00275">osp_oac_xattr_find_or_add()</a>, <a class="el" href="osp__object_8c_source.html#l01260">osp_xattr_del()</a>, and <a class="el" href="osp__object_8c_source.html#l00916">osp_xattr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="afd70598ed6a118bec10b97fabcbd0c04"></a><!-- doxytag: member="osp_object.c::osp_oac_xattr_find_locked" ref="afd70598ed6a118bec10b97fabcbd0c04" args="(struct osp_object_attr *ooa, const char *name, size_t namelen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a>* osp_oac_xattr_find_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosp__object__attr.html">osp_object_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>ooa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>namelen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find the named extended attribute in the OSP object attributes cache. </p>
<p>The caller should take the <a class="el" href="structosp__object.html#ad371d0b2afb79618fefc62596fa529c9">osp_object::opo_lock</a> before calling this function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ooa</em>&nbsp;</td><td>pointer to the OSP object attributes cache </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the extended attribute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>namelen</em>&nbsp;</td><td>the name length of the extended attribute</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pointer</em>&nbsp;</td><td>to the found extended attribute entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>if the specified extended attribute is not in the cache </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00210">210</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="osp__internal_8h_source.html#l00285">osp_object_attr::ooa_xattr_list</a>, <a class="el" href="osp__internal_8h_source.html#l00280">osp_xattr_entry::oxe_buf</a>, <a class="el" href="osp__internal_8h_source.html#l00272">osp_xattr_entry::oxe_list</a>, and <a class="el" href="osp__internal_8h_source.html#l00276">osp_xattr_entry::oxe_namelen</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00238">osp_oac_xattr_find()</a>, <a class="el" href="osp__object_8c_source.html#l00275">osp_oac_xattr_find_or_add()</a>, and <a class="el" href="osp__object_8c_source.html#l00335">osp_oac_xattr_replace()</a>.</p>

</div>
</div>
<a class="anchor" id="a12a2e9d115e4fbc94a6b83018f36db78"></a><!-- doxytag: member="osp_object.c::osp_oac_xattr_find_or_add" ref="a12a2e9d115e4fbc94a6b83018f36db78" args="(struct osp_object *obj, const char *name, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a>* osp_oac_xattr_find_or_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosp__object.html">osp_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find the named extended attribute in the OSP object attributes cache. </p>
<p>If it is not in the cache, then add an empty entry (that will be filled later) to cache with the given name.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the OSP object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the extended attribute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>the length of the extended attribute value</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pointer</em>&nbsp;</td><td>to the found or new-created extended attribute entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>if the specified extended attribute is not in the cache or fail to add new empty entry to the cache. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00275">275</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="osp__internal_8h_source.html#l00285">osp_object_attr::ooa_xattr_list</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__object_8c_source.html#l00238">osp_oac_xattr_find()</a>, <a class="el" href="osp__object_8c_source.html#l00210">osp_oac_xattr_find_locked()</a>, <a class="el" href="osp__internal_8h_source.html#l00280">osp_xattr_entry::oxe_buf</a>, <a class="el" href="osp__internal_8h_source.html#l00275">osp_xattr_entry::oxe_buflen</a>, <a class="el" href="osp__internal_8h_source.html#l00272">osp_xattr_entry::oxe_list</a>, <a class="el" href="osp__internal_8h_source.html#l00276">osp_xattr_entry::oxe_namelen</a>, <a class="el" href="osp__internal_8h_source.html#l00273">osp_xattr_entry::oxe_ref</a>, <a class="el" href="osp__internal_8h_source.html#l00274">osp_xattr_entry::oxe_value</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00835">osp_declare_xattr_get()</a>, <a class="el" href="osp__object_8c_source.html#l00916">osp_xattr_get()</a>, and <a class="el" href="osp__object_8c_source.html#l01153">osp_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="aee487a7096b9e648b1fd600e25c41a57"></a><!-- doxytag: member="osp_object.c::osp_oac_xattr_put" ref="aee487a7096b9e648b1fd600e25c41a57" args="(struct osp_xattr_entry *oxe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osp_oac_xattr_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a> *&nbsp;</td>
          <td class="paramname"> <em>oxe</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release reference from the OSP object extended attribute entry. </p>
<p>If it is the last reference, then free the entry.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>oxe</em>&nbsp;</td><td>pointer to the OSP object extended attribute entry. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00375">375</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="osp__internal_8h_source.html#l00275">osp_xattr_entry::oxe_buflen</a>, <a class="el" href="osp__internal_8h_source.html#l00272">osp_xattr_entry::oxe_list</a>, and <a class="el" href="osp__internal_8h_source.html#l00273">osp_xattr_entry::oxe_ref</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00835">osp_declare_xattr_get()</a>, <a class="el" href="osp__object_8c_source.html#l01260">osp_xattr_del()</a>, <a class="el" href="osp__object_8c_source.html#l00916">osp_xattr_get()</a>, <a class="el" href="osp__object_8c_source.html#l00770">osp_xattr_get_interpterer()</a>, and <a class="el" href="osp__object_8c_source.html#l01153">osp_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="aad63c3197b9db90516a30ed33ee2c80d"></a><!-- doxytag: member="osp_object.c::osp_oac_xattr_replace" ref="aad63c3197b9db90516a30ed33ee2c80d" args="(struct osp_object *obj, struct osp_xattr_entry **poxe, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a>* osp_oac_xattr_replace </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosp__object.html">osp_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosp__xattr__entry.html">osp_xattr_entry</a> **&nbsp;</td>
          <td class="paramname"> <em>poxe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add the given extended attribute to the OSP object attributes cache. </p>
<p>If there is an old extended attributed entry with the same name, remove it from the cache and return it via the parameter <em>poxe</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the OSP object </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>poxe</em>&nbsp;</td><td>double pointer to the OSP object extended attribute entry: the new extended attribute entry is transferred via such pointer target, and if old the extended attribute entry exists, then it will be returned back via such pointer target. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>the length of the (new) extended attribute value</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pointer</em>&nbsp;</td><td>to the new extended attribute entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>for failure cases. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00335">335</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="osp__internal_8h_source.html#l00285">osp_object_attr::ooa_xattr_list</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__object_8c_source.html#l00210">osp_oac_xattr_find_locked()</a>, <a class="el" href="osp__internal_8h_source.html#l00280">osp_xattr_entry::oxe_buf</a>, <a class="el" href="osp__internal_8h_source.html#l00275">osp_xattr_entry::oxe_buflen</a>, <a class="el" href="osp__internal_8h_source.html#l00272">osp_xattr_entry::oxe_list</a>, <a class="el" href="osp__internal_8h_source.html#l00276">osp_xattr_entry::oxe_namelen</a>, <a class="el" href="osp__internal_8h_source.html#l00273">osp_xattr_entry::oxe_ref</a>, <a class="el" href="osp__internal_8h_source.html#l00274">osp_xattr_entry::oxe_value</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00916">osp_xattr_get()</a>, and <a class="el" href="osp__object_8c_source.html#l01153">osp_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ab496f55066f7187d389ce2e602f4e74c"></a><!-- doxytag: member="osp_object.c::osp_object_assign_fid" ref="ab496f55066f7187d389ce2e602f4e74c" args="(const struct lu_env *env, struct osp_device *d, struct osp_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osp_object_assign_fid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosp__device.html">osp_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosp__object.html">osp_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assign FID to the OST object. </p>
<p>This function will assign the FID to the OST object of a striped file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>d</em>&nbsp;</td><td>pointer to the OSP device </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>o</em>&nbsp;</td><td>pointer to the OSP object that the FID will be assigned to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00152">152</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8c_source.html#l02290">lu_object_assign_fid()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osp__internal_8h_source.html#l00291">osp_object::opo_obj</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_reserved</a>, <a class="el" href="osp__internal_8h_source.html#l00312">osp_thread_info::osi_fid</a>, <a class="el" href="osp__internal_8h_source.html#l00409">osp_env_info()</a>, and <a class="el" href="osp__precreate_8c_source.html#l01405">osp_precreate_get_fid()</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00638">osp_declare_attr_set()</a>, and <a class="el" href="osp__object_8c_source.html#l01417">osp_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="af498986402b3be3292cfbd9d93d8273b"></a><!-- doxytag: member="osp_object.c::osp_object_create" ref="af498986402b3be3292cfbd9d93d8273b" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_object_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#ac1ca5a81cd3d00bd821fbfead64022c3" title="Create new object.">dt_object_operations::do_create()</a> interface. </p>
<p>Create the OST object.</p>
<p>If the transaction is a remote transaction and the FID for the OST-object has been assigned already, then handle it as handling MDT object via the <a class="el" href="osp__internal_8h.html#a64726676693349c027bdbe148fba7d97" title="Implementation of dt_object_operations::do_create.">osp_md_object_create()</a>. For other cases, the OSP will assign FID to the object to be created, and update last_used Object ID (OID) file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>the attribute for the object to be created </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hint</em>&nbsp;</td><td>pointer to the hint for creating the object, such as the parent object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dof</em>&nbsp;</td><td>pointer to the <a class="el" href="structdt__object__format.html" title="object format specifier.">dt_object_format</a> for help the creation </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01417">1417</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="dt__object_8c_source.html#l00504">dt_record_write()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00147">lu_fid::f_oid</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="lustre__idl_8h_source.html#l00249">fid_oid()</a>, <a class="el" href="osp__internal_8h_source.html#l00378">is_only_remote_trans()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="osp__internal_8h_source.html#l00157">osp_device::opd_gap_count</a>, <a class="el" href="osp__internal_8h_source.html#l00156">osp_device::opd_gap_start_fid</a>, <a class="el" href="osp__internal_8h_source.html#l00141">osp_device::opd_index</a>, <a class="el" href="osp__internal_8h_source.html#l00155">osp_device::opd_last_used_fid</a>, <a class="el" href="osp__internal_8h_source.html#l00149">osp_device::opd_last_used_oid_file</a>, <a class="el" href="osp__internal_8h_source.html#l00159">osp_device::opd_obd</a>, <a class="el" href="osp__internal_8h_source.html#l00179">osp_device::opd_pre</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_non_exist</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_reserved</a>, <a class="el" href="osp__internal_8h_source.html#l00312">osp_thread_info::osi_fid</a>, <a class="el" href="osp__internal_8h_source.html#l00310">osp_thread_info::osi_lb</a>, <a class="el" href="osp__internal_8h_source.html#l00317">osp_thread_info::osi_off</a>, <a class="el" href="osp__internal_8h_source.html#l00314">osp_thread_info::osi_oi</a>, <a class="el" href="osp__internal_8h_source.html#l00409">osp_env_info()</a>, <a class="el" href="osp__trans_8c_source.html#l01227">osp_get_storage_thandle()</a>, <a class="el" href="osp__internal_8h_source.html#l00585">osp_is_fid_client()</a>, <a class="el" href="osp__md__object_8c_source.html#l00173">osp_md_object_create()</a>, <a class="el" href="osp__object_8c_source.html#l00152">osp_object_assign_fid()</a>, <a class="el" href="osp__internal_8h_source.html#l00383">osp_objid_buf_prep()</a>, <a class="el" href="osp__internal_8h_source.html#l00574">osp_precreate_end_seq()</a>, <a class="el" href="osp__internal_8h_source.html#l00534">osp_update_last_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l00594">ostid_set_id()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_sync</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a343152f28ffead0a82480e9673dd0afc"></a><!-- doxytag: member="osp_object.c::osp_object_destroy" ref="a343152f28ffead0a82480e9673dd0afc" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_object_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#a19ddd277003c24371f8c5771a2ba77bb" title="Destroy an object.">dt_object_operations::do_destroy()</a> interface. </p>
<p>Destroy the specified OST object.</p>
<p>The OSP generates a MDS_UNLINK64_REC record in the llog. There will be some dedicated thread to handle the llog asynchronously.</p>
<p>It also marks the object as non-cached.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> to be destroyed </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01562">1562</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00530">lu_object_header::loh_flags</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00493">LU_OBJECT_HEARD_BANSHEE</a>, <a class="el" href="lustre__idl_8h_source.html#l03089">MDS_UNLINK64_REC</a>, <a class="el" href="osp__internal_8h_source.html#l00167">osp_device::opd_connect_mdt</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_non_exist</a>, <a class="el" href="osp__sync_8c_source.html#l00429">osp_sync_add()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a984f6009245ed88ec86ab85789e8d2cb"></a><!-- doxytag: member="osp_object.c::osp_object_free" ref="a984f6009245ed88ec86ab85789e8d2cb" args="(const struct lu_env *env, struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osp_object_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structlu__object__operations.html#a59cf8062ebe405ac01fdcab9d976eed3" title="Dual to lu_device_operations::ldo_object_alloc().">lu_object_operations::loo_object_free()</a> interface. </p>
<p>Finalize the object.</p>
<p>If the OSP object has attributes cache, then destroy the cache. Free the object finally.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>o</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structlu__object.html" title="Layer in the layered object.">lu_object</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02173">2173</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00178">dt_object_fini()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="osp__internal_8h_source.html#l00460">lu2osp_obj()</a>, <a class="el" href="lu__object_8c_source.html#l01316">lu_object_header_fini()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, <a class="el" href="osp__internal_8h_source.html#l00285">osp_object_attr::ooa_xattr_list</a>, <a class="el" href="osp__internal_8h_source.html#l00291">osp_object::opo_obj</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__dev_8c_source.html#l00088">osp_object_kmem</a>, <a class="el" href="osp__internal_8h_source.html#l00280">osp_xattr_entry::oxe_buf</a>, <a class="el" href="osp__internal_8h_source.html#l00275">osp_xattr_entry::oxe_buflen</a>, <a class="el" href="osp__internal_8h_source.html#l00272">osp_xattr_entry::oxe_list</a>, <a class="el" href="osp__internal_8h_source.html#l00276">osp_xattr_entry::oxe_namelen</a>, and <a class="el" href="osp__internal_8h_source.html#l00273">osp_xattr_entry::oxe_ref</a>.</p>

</div>
</div>
<a class="anchor" id="aeecff5fce12a1aabda812df9ca9d78df"></a><!-- doxytag: member="osp_object.c::osp_object_init" ref="aeecff5fce12a1aabda812df9ca9d78df" args="(const struct lu_env *env, struct lu_object *o, const struct lu_object_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_object_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structlu__object__operations.html#a15b69dd7ca43e31bee4023da49fbb8a8" title="Allocate lower-layer parts of the object by calling lu_device_operations::ldo_object_alloc()...">lu_object_operations::loo_object_init()</a> interface. </p>
<p>Initialize the object.</p>
<p>If it is a remote MDT object, then call do_attr_get() to fetch the attribute from the peer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>o</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structlu__object.html" title="Layer in the layered object.">lu_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>conf</em>&nbsp;</td><td>unused</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02127">2127</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="structdt__object__operations.html#a1d2ff17287fa229d0325cccf0aac5beb">dt_object_operations::do_attr_get</a>, <a class="el" href="dt__object_8h_source.html#l01752">dt_object::do_body_ops</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osp__object_8c_source.html#l00137">is_ost_obj()</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00171">LOC_F_NEW</a>, <a class="el" href="lu__object_8h_source.html#l00187">lu_object_conf::loc_flags</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lu__object_8h_source.html#l00501">LOHA_EXISTS</a>, <a class="el" href="lu__object_8h_source.html#l00502">LOHA_REMOTE</a>, <a class="el" href="dt__object_8h_source.html#l01800">lu2dt_obj()</a>, <a class="el" href="osp__internal_8h_source.html#l00460">lu2osp_obj()</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_non_exist</a>, <a class="el" href="osp__internal_8h_source.html#l00291">osp_object::opo_obj</a>, <a class="el" href="osp__internal_8h_source.html#l00297">osp_object::opo_sem</a>, <a class="el" href="osp__internal_8h_source.html#l00313">osp_thread_info::osi_attr</a>, <a class="el" href="osp__internal_8h_source.html#l00409">osp_env_info()</a>, <a class="el" href="osp__md__object_8c_source.html#l01236">osp_md_body_ops</a>, <a class="el" href="osp__md__object_8c_source.html#l01010">osp_md_obj_ops</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a43ea7a87900de34ab485865c10d6f484"></a><!-- doxytag: member="osp_object.c::osp_object_invariant" ref="a43ea7a87900de34ab485865c10d6f484" args="(const struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_object_invariant </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02252">2252</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>.</p>

</div>
</div>
<a class="anchor" id="a333f2de02c555f57295a0c9b27e90591"></a><!-- doxytag: member="osp_object.c::osp_object_print" ref="a333f2de02c555f57295a0c9b27e90591" args="(const struct lu_env *env, void *cookie, lu_printer_t p, const struct lu_object *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_object_print </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>l</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02244">2244</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="osp__internal_8h_source.html#l00460">lu2osp_obj()</a>, and <a class="el" href="obd_8h_source.html#l00453">LUSTRE_OSP_NAME</a>.</p>

</div>
</div>
<a class="anchor" id="a4513942f0a1b60fd0786c89334749fd2"></a><!-- doxytag: member="osp_object.c::osp_object_release" ref="a4513942f0a1b60fd0786c89334749fd2" args="(const struct lu_env *env, struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osp_object_release </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structlu__object__operations.html#a4fa5d3edafc04a638d06465d57ebc20a" title="Called when last active reference to the object is released (and object returns to...">lu_object_operations::loo_object_release()</a> interface. </p>
<p>Cleanup (not free) the object.</p>
<p>If it is a reserved object but failed to be created, or it is an OST object, then mark the object as non-cached.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>o</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structlu__object.html" title="Layer in the layered object.">lu_object</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02212">2212</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="osp__object_8c_source.html#l00137">is_ost_obj()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00530">lu_object_header::loh_flags</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="osp__internal_8h_source.html#l00460">lu2osp_obj()</a>, <a class="el" href="lu__object_8h_source.html#l00493">LU_OBJECT_HEARD_BANSHEE</a>, <a class="el" href="osp__internal_8h_source.html#l00179">osp_device::opd_pre</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_reserved</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a76c445ec3d4e736348a454f82b072641"></a><!-- doxytag: member="osp_object.c::osp_orphan_index_declare_delete" ref="a76c445ec3d4e736348a454f82b072641" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_key *key, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_orphan_index_declare_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01613">1613</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="adf270abad708770f665572c11266bc2b"></a><!-- doxytag: member="osp_object.c::osp_orphan_index_declare_insert" ref="adf270abad708770f665572c11266bc2b" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_rec *rec, const struct dt_key *key, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_orphan_index_declare_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01594">1594</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="aae87df97e7ccb65ede7a5001664df5bb"></a><!-- doxytag: member="osp_object.c::osp_orphan_index_delete" ref="aae87df97e7ccb65ede7a5001664df5bb" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_key *key, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_orphan_index_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01621">1621</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa6d3e3c4e4a3685b6c3a2137a5bc9480"></a><!-- doxytag: member="osp_object.c::osp_orphan_index_insert" ref="aa6d3e3c4e4a3685b6c3a2137a5bc9480" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_rec *rec, const struct dt_key *key, struct thandle *handle, int ignore_quota)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_orphan_index_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ignore_quota</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01603">1603</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa06c4e73eb0a130f8260805fbe5ec0f3"></a><!-- doxytag: member="osp_object.c::osp_orphan_index_lookup" ref="aa06c4e73eb0a130f8260805fbe5ec0f3" args="(const struct lu_env *env, struct dt_object *dt, struct dt_rec *rec, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_orphan_index_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01586">1586</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="aad5b1a8d473fc86f90ef6b6e08fa4d99"></a><!-- doxytag: member="osp_object.c::osp_orphan_it_key" ref="aad5b1a8d473fc86f90ef6b6e08fa4d99" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a>* osp_orphan_it_key </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01973">1973</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lustre__idl_8h_source.html#l00854">lu_orphan_ent::loe_key</a>, and <a class="el" href="osp__internal_8h_source.html#l00342">osp_it::ooi_ent</a>.</p>

</div>
</div>
<a class="anchor" id="aa042833d06dcbd705f02057d1c861edf"></a><!-- doxytag: member="osp_object.c::osp_orphan_it_key_size" ref="aa042833d06dcbd705f02057d1c861edf" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_orphan_it_key_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01985">1985</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0f7d6cd0be93164251feaf6332ae00e6"></a><!-- doxytag: member="osp_object.c::osp_orphan_it_load" ref="a0f7d6cd0be93164251feaf6332ae00e6" args="(const struct lu_env *env, const struct dt_it *di, __u64 hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_orphan_it_load </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Locate the iteration cursor to the specified position (cookie). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>di</em>&nbsp;</td><td>pointer to the iteration structure </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hash</em>&nbsp;</td><td>the specified position</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>positive</em>&nbsp;</td><td>number for locating to the exactly position or the next </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for arriving at the end of the iteration </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02024">2024</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="osp__internal_8h_source.html#l00340">osp_it::ooi_next</a>, and <a class="el" href="osp__object_8c_source.html#l01932">osp_orphan_it_next()</a>.</p>

</div>
</div>
<a class="anchor" id="a120b6881eaffa6d6df0645ab7c32c7d9"></a><!-- doxytag: member="osp_object.c::osp_orphan_it_next" ref="a120b6881eaffa6d6df0645ab7c32c7d9" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_orphan_it_next </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move the iteration cursor to the next record. </p>
<p>If there are more records in the <a class="el" href="unionlu__page.html">lu_page</a>, then move the iteration cursor to the next record directly. Otherwise, move the iteration cursor to the record in the next <a class="el" href="unionlu__page.html">lu_page</a> via <a class="el" href="osp__internal_8h.html#a15b2be68bdfbe9bccf8d43b4d5174080" title="Move the iteration cursor to the next lu_page.">osp_it_next_page()</a></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>di</em>&nbsp;</td><td>pointer to the iteration structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>positive</em>&nbsp;</td><td>for end of the directory </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01932">1932</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l03578">lu_idxpage::lip_entries</a>, <a class="el" href="lustre__idl_8h_source.html#l03567">lu_idxpage::lip_nr</a>, <a class="el" href="pack__generic_8c_source.html#l02634">lustre_swab_orphan_ent()</a>, <a class="el" href="osp__internal_8h_source.html#l00344">osp_it::ooi_cur_idxpage</a>, <a class="el" href="osp__internal_8h_source.html#l00342">osp_it::ooi_ent</a>, <a class="el" href="osp__internal_8h_source.html#l00336">osp_it::ooi_pos_ent</a>, <a class="el" href="osp__internal_8h_source.html#l00339">osp_it::ooi_swab</a>, <a class="el" href="osp__object_8c_source.html#l01833">osp_it_next_page()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l02024">osp_orphan_it_load()</a>.</p>

</div>
</div>
<a class="anchor" id="a99791b8360f35f57552327eef6f9602a"></a><!-- doxytag: member="osp_object.c::osp_orphan_it_rec" ref="a99791b8360f35f57552327eef6f9602a" args="(const struct lu_env *env, const struct dt_it *di, struct dt_rec *rec, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_orphan_it_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01991">1991</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lustre__idl_8h_source.html#l00855">lu_orphan_ent::loe_rec</a>, and <a class="el" href="osp__internal_8h_source.html#l00342">osp_it::ooi_ent</a>.</p>

</div>
</div>
<a class="anchor" id="a5cba0564396dce70318ff5a5ac64f775"></a><!-- doxytag: member="osp_object.c::osp_xattr_del" ref="a5cba0564396dce70318ff5a5ac64f775" args="(const struct lu_env *env, struct dt_object *dt, const char *name, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_xattr_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#a19762fb1d9e75136521019d51759b6ec" title="Delete an extended attribute.">dt_object_operations::do_xattr_del()</a> interface. </p>
<p>Delete extended attribute on the specified MDT/OST object.</p>
<p>If it is remote transaction, it will add an OUT_XATTR_DEL sub-request into the OUT RPC that will be flushed when the transaction stop. And if the name extended attribute entry exists in the OSP attributes cache, then remove it from the cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the extended attribute to be set </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01260">1260</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__object_8c_source.html#l00238">osp_oac_xattr_find()</a>, <a class="el" href="osp__object_8c_source.html#l00375">osp_oac_xattr_put()</a>, <a class="el" href="osp__internal_8h_source.html#l00605">osp_update_rpc_pack</a>, <a class="el" href="lustre__idl_8h_source.html#l03797">OUT_XATTR_DEL</a>, and <a class="el" href="osp__internal_8h_source.html#l00368">thandle_to_osp_update_request()</a>.</p>

</div>
</div>
<a class="anchor" id="aee4dfb5ebf4062287d3a3b1a4ee1ac13"></a><!-- doxytag: member="osp_object.c::osp_xattr_get" ref="aee4dfb5ebf4062287d3a3b1a4ee1ac13" args="(const struct lu_env *env, struct dt_object *dt, struct lu_buf *buf, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_xattr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#af4c8c504e52a5571dbd0557980c3818a" title="Return a value of an extended attribute.">dt_object_operations::do_xattr_get()</a> interface. </p>
<p>Get extended attribute from the specified MDT/OST object.</p>
<p>If the extended attribute is in the OSP object attributes cache, then return the cached extended attribute directly. Otherwise it will get the extended attribute synchronously, if successful, add it to the OSP attributes cache. (</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="osp__trans_8c.html">lustre/osp/osp_trans.c</a> for <a class="el" href="gni__pub_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> RPC.)</dd></dl>
<p>There is a race condition: some other thread has added the named extended attributed entry to the OSP object attributes cache during the current OUT_XATTR_GET handling. If such case happens, the OSP will replace the (just) existing extended attribute entry with the new replied one.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>pointer to the <a class="el" href="structlu__buf.html" title="Common buffer structure to be passed around for various xattr_{s,g}et() methods.">lu_buf</a> to hold the extended attribute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name for the expected extended attribute</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00916">916</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="fail_8c_source.html#l00039">cfs_fail_val</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="osp__object_8c_source.html#l00137">is_ost_obj()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lu__object_8h_source.html#l00501">LOHA_EXISTS</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00549">OBD_FAIL_LFSCK_BAD_NETWORK</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__update_8h_source.html#l00243">object_update_result_data_get()</a>, <a class="el" href="osp__internal_8h_source.html#l00167">osp_device::opd_connect_mdt</a>, <a class="el" href="osp__internal_8h_source.html#l00139">osp_device::opd_dt_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00141">osp_device::opd_index</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00292">osp_object::opo_non_exist</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__internal_8h_source.html#l00311">osp_thread_info::osi_lb2</a>, <a class="el" href="osp__object_8c_source.html#l00132">osp_dev2node()</a>, <a class="el" href="osp__internal_8h_source.html#l00409">osp_env_info()</a>, <a class="el" href="osp__object_8c_source.html#l00238">osp_oac_xattr_find()</a>, <a class="el" href="osp__object_8c_source.html#l00275">osp_oac_xattr_find_or_add()</a>, <a class="el" href="osp__object_8c_source.html#l00375">osp_oac_xattr_put()</a>, <a class="el" href="osp__object_8c_source.html#l00335">osp_oac_xattr_replace()</a>, <a class="el" href="osp__trans_8c_source.html#l00442">osp_remote_sync()</a>, <a class="el" href="osp__trans_8c_source.html#l00187">osp_update_request_create()</a>, <a class="el" href="osp__trans_8c_source.html#l00204">osp_update_request_destroy()</a>, <a class="el" href="osp__internal_8h_source.html#l00605">osp_update_rpc_pack</a>, <a class="el" href="lustre__idl_8h_source.html#l03922">object_update_reply::ourp_magic</a>, <a class="el" href="lustre__update_8h_source.html#l00037">OUT_UPDATE_REPLY_SIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l03792">OUT_XATTR_GET</a>, <a class="el" href="osp__internal_8h_source.html#l00275">osp_xattr_entry::oxe_buflen</a>, <a class="el" href="osp__internal_8h_source.html#l00278">osp_xattr_entry::oxe_exist</a>, <a class="el" href="osp__internal_8h_source.html#l00276">osp_xattr_entry::oxe_namelen</a>, <a class="el" href="osp__internal_8h_source.html#l00278">osp_xattr_entry::oxe_ready</a>, <a class="el" href="osp__internal_8h_source.html#l00277">osp_xattr_entry::oxe_vallen</a>, <a class="el" href="osp__internal_8h_source.html#l00274">osp_xattr_entry::oxe_value</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="layout_8c_source.html#l02186">req_capsule_server_sized_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01199">RMF_OUT_UPDATE_REPLY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, <a class="el" href="lustre__idl_8h_source.html#l03919">UPDATE_REPLY_MAGIC</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

</div>
</div>
<a class="anchor" id="aa677dd1fa0a63ad28159eddb606b199d"></a><!-- doxytag: member="osp_object.c::osp_xattr_get_interpterer" ref="aa677dd1fa0a63ad28159eddb606b199d" args="(const struct lu_env *env, struct object_update_reply *reply, struct ptlrpc_request *req, struct osp_object *obj, void *data, int index, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osp_xattr_get_interpterer </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobject__update__reply.html">object_update_reply</a> *&nbsp;</td>
          <td class="paramname"> <em>reply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosp__object.html">osp_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Interpreter function for getting OSP object extended attribute asynchronously. </p>
<p>Called to interpret the result of an async mode RPC for getting the OSP object extended attribute.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>reply</em>&nbsp;</td><td>pointer to the RPC reply </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>req</em>&nbsp;</td><td>pointer to the RPC request </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the OSP object </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>pointer to OSP object attributes cache </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>index</em>&nbsp;</td><td>the index of the attribute buffer in the reply </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rc</em>&nbsp;</td><td>the result for handling the RPC</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l00770">770</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__update_8h_source.html#l00243">object_update_result_data_get()</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__internal_8h_source.html#l00311">osp_thread_info::osi_lb2</a>, <a class="el" href="osp__internal_8h_source.html#l00409">osp_env_info()</a>, <a class="el" href="osp__object_8c_source.html#l00375">osp_oac_xattr_put()</a>, <a class="el" href="osp__internal_8h_source.html#l00275">osp_xattr_entry::oxe_buflen</a>, <a class="el" href="osp__internal_8h_source.html#l00278">osp_xattr_entry::oxe_exist</a>, <a class="el" href="osp__internal_8h_source.html#l00276">osp_xattr_entry::oxe_namelen</a>, <a class="el" href="osp__internal_8h_source.html#l00278">osp_xattr_entry::oxe_ready</a>, <a class="el" href="osp__internal_8h_source.html#l00277">osp_xattr_entry::oxe_vallen</a>, and <a class="el" href="osp__internal_8h_source.html#l00274">osp_xattr_entry::oxe_value</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l00835">osp_declare_xattr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e9f34a7e74d91c77816e90c8d3002f5"></a><!-- doxytag: member="osp_object.c::osp_xattr_set" ref="a6e9f34a7e74d91c77816e90c8d3002f5" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osp_xattr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implement OSP layer <a class="el" href="structdt__object__operations.html#a231db7d512a5786b8ad887e9fc47190b" title="Set an extended attribute.">dt_object_operations::do_xattr_set()</a> interface. </p>
<p>Set extended attribute to the specified MDT/OST object.</p>
<p>Add an OUT_XATTR_SET sub-request into the OUT RPC that will be flushed in the transaction stop. And if the OSP attributes cache is initialized, then check whether the name extended attribute entry exists in the cache or not. If yes, replace it; otherwise, add the extended attribute to the cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>pointer to the OSP layer <a class="el" href="structdt__object.html">dt_object</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>pointer to the <a class="el" href="structlu__buf.html" title="Common buffer structure to be passed around for various xattr_{s,g}et() methods.">lu_buf</a> to hold the extended attribute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the extended attribute to be set </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fl</em>&nbsp;</td><td>to indicate the detailed set operation: LU_XATTR_CREATE or LU_XATTR_REPLACE or others </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>pointer to the transaction handler</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osp__object_8c_source.html#l01153">1153</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="osp__internal_8h_source.html#l00477">dt2osp_obj()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osp__internal_8h_source.html#l00443">lu2osp_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="osp__internal_8h_source.html#l00167">osp_device::opd_connect_mdt</a>, <a class="el" href="osp__internal_8h_source.html#l00301">osp_object::opo_lock</a>, <a class="el" href="osp__internal_8h_source.html#l00299">osp_object::opo_ooa</a>, <a class="el" href="osp__object_8c_source.html#l00275">osp_oac_xattr_find_or_add()</a>, <a class="el" href="osp__object_8c_source.html#l00375">osp_oac_xattr_put()</a>, <a class="el" href="osp__object_8c_source.html#l00335">osp_oac_xattr_replace()</a>, <a class="el" href="osp__internal_8h_source.html#l00605">osp_update_rpc_pack</a>, <a class="el" href="lustre__idl_8h_source.html#l03791">OUT_XATTR_SET</a>, <a class="el" href="osp__internal_8h_source.html#l00275">osp_xattr_entry::oxe_buflen</a>, <a class="el" href="osp__internal_8h_source.html#l00278">osp_xattr_entry::oxe_exist</a>, <a class="el" href="osp__internal_8h_source.html#l00276">osp_xattr_entry::oxe_namelen</a>, <a class="el" href="osp__internal_8h_source.html#l00278">osp_xattr_entry::oxe_ready</a>, <a class="el" href="osp__internal_8h_source.html#l00277">osp_xattr_entry::oxe_vallen</a>, <a class="el" href="osp__internal_8h_source.html#l00274">osp_xattr_entry::oxe_value</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osp__internal_8h_source.html#l00368">thandle_to_osp_update_request()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a6e0b54753466e13a043eadfebe298cfa"></a><!-- doxytag: member="osp_object.c::osp_lu_obj_ops" ref="a6e0b54753466e13a043eadfebe298cfa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a> <a class="el" href="osp__object_8c.html#a6e0b54753466e13a043eadfebe298cfa">osp_lu_obj_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .loo_object_init        = <a class="code" href="osp__object_8c.html#aeecff5fce12a1aabda812df9ca9d78df" title="Implement OSP layer lu_object_operations::loo_object_init() interface.">osp_object_init</a>,
        .loo_object_free        = <a class="code" href="osp__object_8c.html#a984f6009245ed88ec86ab85789e8d2cb" title="Implement OSP layer lu_object_operations::loo_object_free() interface.">osp_object_free</a>,
        .loo_object_release     = <a class="code" href="osp__object_8c.html#a4513942f0a1b60fd0786c89334749fd2" title="Implement OSP layer lu_object_operations::loo_object_release() interface.">osp_object_release</a>,
        .loo_object_print       = <a class="code" href="osp__object_8c.html#a333f2de02c555f57295a0c9b27e90591">osp_object_print</a>,
        .loo_object_invariant   = <a class="code" href="osp__object_8c.html#a43ea7a87900de34ab485865c10d6f484">osp_object_invariant</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02257">2257</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

<p>Referenced by <a class="el" href="osp__dev_8c_source.html#l00116">osp_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a345b4561652f8ad5db07a8a8cdd267ff"></a><!-- doxytag: member="osp_object.c::osp_obj_ops" ref="a345b4561652f8ad5db07a8a8cdd267ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a> <a class="el" href="osp__object_8c.html#a345b4561652f8ad5db07a8a8cdd267ff">osp_obj_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .do_declare_attr_get    = <a class="code" href="osp__object_8c.html#af2bd0069b3de947fbeb4e8a9cfd3eef1" title="Implement OSP layer dt_object_operations::do_declare_attr_get() interface.">osp_declare_attr_get</a>,
        .do_attr_get            = <a class="code" href="osp__internal_8h.html#af3841bfc19af7e21ce75974da9e99b78" title="Implement OSP layer dt_object_operations::do_attr_get() interface.">osp_attr_get</a>,
        .do_declare_attr_set    = <a class="code" href="osp__object_8c.html#a72517b6c8bf81ac9711c4b4ff1dace14" title="Implement OSP layer dt_object_operations::do_declare_attr_set() interface.">osp_declare_attr_set</a>,
        .do_attr_set            = <a class="code" href="osp__object_8c.html#ab805b3f934b827661d470b67a695cf40" title="Implement OSP layer dt_object_operations::do_attr_set() interface.">osp_attr_set</a>,
        .do_declare_xattr_get   = <a class="code" href="osp__object_8c.html#a34a6407b9c27c708d2b36902af3fa680" title="Implement OSP dt_object_operations::do_declare_xattr_get() interface.">osp_declare_xattr_get</a>,
        .do_xattr_get           = <a class="code" href="osp__internal_8h.html#aee4dfb5ebf4062287d3a3b1a4ee1ac13" title="Implement OSP layer dt_object_operations::do_xattr_get() interface.">osp_xattr_get</a>,
        .do_declare_xattr_set   = <a class="code" href="osp__internal_8h.html#a087e25234317d46c46d282db94658f7b" title="Implement OSP layer dt_object_operations::do_declare_xattr_set() interface.">osp_declare_xattr_set</a>,
        .do_xattr_set           = <a class="code" href="osp__internal_8h.html#a6e9f34a7e74d91c77816e90c8d3002f5" title="Implement OSP layer dt_object_operations::do_xattr_set() interface.">osp_xattr_set</a>,
        .do_declare_create      = <a class="code" href="osp__object_8c.html#a97cc0993f0f8543193629a7d9edd8c77" title="Implement OSP layer dt_object_operations::do_declare_create() interface.">osp_declare_object_create</a>,
        .do_create              = <a class="code" href="osp__object_8c.html#af498986402b3be3292cfbd9d93d8273b" title="Implement OSP layer dt_object_operations::do_create() interface.">osp_object_create</a>,
        .do_declare_destroy     = <a class="code" href="osp__object_8c.html#a57947ae1ea27d7f831d850087b300904" title="Implement OSP layer dt_object_operations::do_declare_destroy() interface.">osp_declare_object_destroy</a>,
        .do_destroy             = <a class="code" href="osp__object_8c.html#a343152f28ffead0a82480e9673dd0afc" title="Implement OSP layer dt_object_operations::do_destroy() interface.">osp_object_destroy</a>,
        .do_index_try           = <a class="code" href="osp__object_8c.html#adfc9474dc51f64d49de77943cfd040fd" title="Implement OSP layer dt_object_operations::do_index_try() interface.">osp_index_try</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02096">2096</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2936e68d6857aff098eb527adbb668d7"></a><!-- doxytag: member="osp_object.c::osp_orphan_index_ops" ref="a2936e68d6857aff098eb527adbb668d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a> <a class="el" href="osp__object_8c.html#a2936e68d6857aff098eb527adbb668d7">osp_orphan_index_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dio_lookup             = <a class="code" href="osp__object_8c.html#aa06c4e73eb0a130f8260805fbe5ec0f3">osp_orphan_index_lookup</a>,
        .dio_declare_insert     = <a class="code" href="osp__object_8c.html#adf270abad708770f665572c11266bc2b">osp_orphan_index_declare_insert</a>,
        .dio_insert             = <a class="code" href="osp__object_8c.html#aa6d3e3c4e4a3685b6c3a2137a5bc9480">osp_orphan_index_insert</a>,
        .dio_declare_delete     = <a class="code" href="osp__object_8c.html#a76c445ec3d4e736348a454f82b072641">osp_orphan_index_declare_delete</a>,
        .dio_delete             = <a class="code" href="osp__object_8c.html#aae87df97e7ccb65ede7a5001664df5bb">osp_orphan_index_delete</a>,
        .dio_it = {
                .init           = <a class="code" href="osp__internal_8h.html#a0da5f987514d58d617d9e20d1b5ffa9e" title="Initialize the OSP layer index iteration.">osp_it_init</a>,
                .fini           = <a class="code" href="osp__internal_8h.html#ae9d075a9ad9358a90a4e0ee239e944f1" title="Finalize the OSP layer index iteration.">osp_it_fini</a>,
                .next           = <a class="code" href="osp__object_8c.html#a120b6881eaffa6d6df0645ab7c32c7d9" title="Move the iteration cursor to the next record.">osp_orphan_it_next</a>,
                .get            = <a class="code" href="osp__internal_8h.html#a07d21a6da27503c32900b08c2c084faf">osp_it_get</a>,
                .put            = <a class="code" href="osp__internal_8h.html#a8106562211602449cbbfe777335da553">osp_it_put</a>,
                .key            = <a class="code" href="osp__object_8c.html#aad5b1a8d473fc86f90ef6b6e08fa4d99">osp_orphan_it_key</a>,
                .key_size       = <a class="code" href="osp__object_8c.html#aa042833d06dcbd705f02057d1c861edf">osp_orphan_it_key_size</a>,
                .rec            = <a class="code" href="osp__object_8c.html#a99791b8360f35f57552327eef6f9602a">osp_orphan_it_rec</a>,
                .store          = <a class="code" href="osp__internal_8h.html#a80a49dbf124329dd0433ee6924d97462">osp_it_store</a>,
                .load           = <a class="code" href="osp__object_8c.html#a0f7d6cd0be93164251feaf6332ae00e6" title="Locate the iteration cursor to the specified position (cookie).">osp_orphan_it_load</a>,
                .key_rec        = <a class="code" href="osp__internal_8h.html#ae029b34f183e7b6def52134812822a2f">osp_it_key_rec</a>,
        }
}
</pre></div>
<p>Definition at line <a class="el" href="osp__object_8c_source.html#l02047">2047</a> of file <a class="el" href="osp__object_8c_source.html">osp_object.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
