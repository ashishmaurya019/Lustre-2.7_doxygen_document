<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/lod/lod_object.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/lod/lod_object.c File Reference</h1><code>#include &lt;<a class="el" href="obd_8h_source.html">obd.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__fid_8h_source.html">lustre_fid.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__linkea_8h_source.html">lustre_linkea.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__lmv_8h_source.html">lustre_lmv.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__param_8h_source.html">lustre_param.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__swab_8h_source.html">lustre_swab.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__ver_8h_source.html">lustre_ver.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lprocfs__status_8h_source.html">lprocfs_status.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="md__object_8h_source.html">md_object.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="lod__internal_8h_source.html">lod_internal.h</a>&quot;</code><br/>

<p><a href="lod__object_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_MDS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a5aea845e5ec1e6560400ea4e495526ee">LOD_CHECK_IT</a>(env, it)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aa4a522644a24ec6a9a5db025a5049b46">LOD_CHECK_STRIPED_IT</a>(env, it, lo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a7b39fb1f40cbc558c9e759fcfd25a46f">ll_do_div64</a>(aaa, bbb)&nbsp;&nbsp;&nbsp;do_div((aaa), (bbb))</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ac87c3ff5ebb783c4165a881c184fe2c8">lod_index_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__index__operations.html#aab6a7632adfce2297c022b12f0d61791" title="Lookup in an index by key.">dt_index_operations::dio_lookup</a>.  <a href="#ac87c3ff5ebb783c4165a881c184fe2c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#adf23bbaa97f21b5d1fc3e06b55f9881e">lod_declare_index_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__index__operations.html#af077ea7c9f156cb161f9c361109e1f68" title="Declare intention to insert a key/value into an index.">dt_index_operations::dio_declare_insert</a>.  <a href="#adf23bbaa97f21b5d1fc3e06b55f9881e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aa07424a7b4f8a06c5de00c931a2ee137">lod_index_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct dt_rec *rec, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *th, int ign)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__index__operations.html#af1e0507f0ca4df0ed3f486bab027dbda" title="Insert a new key/value pair into an index.">dt_index_operations::dio_insert</a>.  <a href="#aa07424a7b4f8a06c5de00c931a2ee137"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ad3b1b1795b9333a7656a8748671b7d6d">lod_declare_index_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__index__operations.html#aa25f7e5f60a5b9055e3f9b0898b2888b" title="Declare intention to delete a key/value from an index.">dt_index_operations::dio_declare_delete</a>.  <a href="#ad3b1b1795b9333a7656a8748671b7d6d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#adbf949f71a77600b9d3fa746688e3a41">lod_index_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__index__operations.html#abe3c3c85ed6a910700306482ba8fcd0d" title="Delete key/value pair from an index.">dt_index_operations::dio_delete</a>.  <a href="#adbf949f71a77600b9d3fa746688e3a41"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct dt_it *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a0fcea3fb9abe32b22251313ea87721be">lod_it_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::init.  <a href="#a0fcea3fb9abe32b22251313ea87721be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aa78ac8500ad92ae94bf35d807205b049">lod_it_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_index_operations::dio_it.fini.  <a href="#aa78ac8500ad92ae94bf35d807205b049"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a8fbc17ae8860998b2b6eeee7c540fbc6">lod_it_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::get.  <a href="#a8fbc17ae8860998b2b6eeee7c540fbc6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ae6ecbf155e93d0dac28676f6764bc443">lod_it_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::put.  <a href="#ae6ecbf155e93d0dac28676f6764bc443"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ab5e478491758227d92ec261fdcec6d2c">lod_it_next</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::next.  <a href="#ab5e478491758227d92ec261fdcec6d2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a03d87099892e03f63de96bcdfe664bd7">lod_it_key</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::key.  <a href="#a03d87099892e03f63de96bcdfe664bd7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aee39709b990500ece17f78ba524f3d5f">lod_it_key_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::key_size.  <a href="#aee39709b990500ece17f78ba524f3d5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a81c4aa48a34e7e828fa88df45cf2cd01">lod_it_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, struct dt_rec *rec, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::rec.  <a href="#a81c4aa48a34e7e828fa88df45cf2cd01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a1fed600b912f4d4f71075cbcf9960cc4">lod_it_rec_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="osd__iam__lvar_8c.html#a0810c988b35adcf61dd4facece2d66d9">dt_it_ops::rec_size</a>.  <a href="#a1fed600b912f4d4f71075cbcf9960cc4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a80230685e8bdacc862e573d56552f591">lod_it_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::store.  <a href="#a80230685e8bdacc862e573d56552f591"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a52016f64adef42970e895bafe1110440">lod_it_load</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> hash)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::load.  <a href="#a52016f64adef42970e895bafe1110440"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ab8b7783f857e3bae62eecfd7fb7f95b4">lod_it_key_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, void *key_rec)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::key_rec.  <a href="#ab8b7783f857e3bae62eecfd7fb7f95b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct dt_it *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a47d3734c1a35743508289640565afefe">lod_striped_it_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::init.  <a href="#a47d3734c1a35743508289640565afefe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aa635b927f8e7b426a3a08cf1bbf8a88f">lod_striped_it_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::fini.  <a href="#aa635b927f8e7b426a3a08cf1bbf8a88f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a3b3a7aef7ab714547ceb9d8190003eac">lod_striped_it_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di, const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::get.  <a href="#a3b3a7aef7ab714547ceb9d8190003eac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aa91a0164449133a668ead9940de2d082">lod_striped_it_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::put.  <a href="#aa91a0164449133a668ead9940de2d082"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a48a5b0b624fd3aef1f6fb77f3a59ce9e">lod_striped_it_next</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::next.  <a href="#a48a5b0b624fd3aef1f6fb77f3a59ce9e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a2f875717b9df2bea96d55b1a79562d77">lod_striped_it_key</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::key.  <a href="#a2f875717b9df2bea96d55b1a79562d77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a91f6ea9ae7ccd75116df82c6715c365c">lod_striped_it_key_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::key_size.  <a href="#a91f6ea9ae7ccd75116df82c6715c365c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a14a0dea016aa4f721b281c025c8565bb">lod_striped_it_rec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, struct dt_rec *rec, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::rec.  <a href="#a14a0dea016aa4f721b281c025c8565bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a59844f9e963382d31144bf4c640a7e68">lod_striped_it_rec_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, __u32 attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="osd__iam__lvar_8c.html#a0810c988b35adcf61dd4facece2d66d9">dt_it_ops::rec_size</a>.  <a href="#a59844f9e963382d31144bf4c640a7e68"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a35cdb66df1329b888f3ba63e17ed2545">lod_striped_it_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::store.  <a href="#a35cdb66df1329b888f3ba63e17ed2545"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a3a290be77b22b4f01efda9ad309ff6e1">lod_striped_it_load</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct dt_it *di, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> hash)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of dt_it_ops::load.  <a href="#a3a290be77b22b4f01efda9ad309ff6e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a704f7166957c411a3a62b268f0f40f8b">lod_load_lmv_shards</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlod__object.html">lod_object</a> *lo, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, bool resize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append the FID for each shard of the striped directory after the given LMV EA header.  <a href="#a704f7166957c411a3a62b268f0f40f8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aca17cc3d27b61f53596cbfeb744f8e96">lod_index_try</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *feat)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2" title="Try object as an index.">dt_object_operations::do_index_try</a>.  <a href="#aca17cc3d27b61f53596cbfeb744f8e96"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a45bc59c9576ff96f909af6a47f5f7445">lod_object_read_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, unsigned role)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a32a37f3abca0903ec9fa5c70b2b7a423" title="Get read lock on object.">dt_object_operations::do_read_lock</a>.  <a href="#a45bc59c9576ff96f909af6a47f5f7445"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a8102abe84481a87e7d675d3808796ae0">lod_object_write_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, unsigned role)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a5bf582901eb4dcb781f03f02621535a2">dt_object_operations::do_write_lock</a>.  <a href="#a8102abe84481a87e7d675d3808796ae0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#acb403356d63e28e846d7127ee30fb320">lod_object_read_unlock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a5d68d191697e7964615a090f9896f7f5" title="Release read lock.">dt_object_operations::do_read_unlock</a>.  <a href="#acb403356d63e28e846d7127ee30fb320"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aa661fc0d2e2dbbc9ddf31f0651b520f8">lod_object_write_unlock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#ad5346269fb80455252849f4fd7403720" title="Release write lock.">dt_object_operations::do_write_unlock</a>.  <a href="#aa661fc0d2e2dbbc9ddf31f0651b520f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aab23aa25cf724d5eb6a09d3546f7ffa8">lod_object_write_locked</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a9072566fd18a198a7323439603b6fbdf" title="Check whether write lock is held.">dt_object_operations::do_write_locked</a>.  <a href="#aab23aa25cf724d5eb6a09d3546f7ffa8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aad3098a2e4740e25b77325d8b91d4058">lod_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a1d2ff17287fa229d0325cccf0aac5beb" title="Return regular attributes.">dt_object_operations::do_attr_get</a>.  <a href="#aad3098a2e4740e25b77325d8b91d4058"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a40f51113043f2f13ad68b468ec799dc4">lod_declare_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a44eb5df458974e0568eba9863c439362" title="Declare intention to change regular object&#39;s attributes.">dt_object_operations::do_declare_attr_set</a>.  <a href="#a40f51113043f2f13ad68b468ec799dc4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ae0051397c316b4ef4de018c3eb5d8e20">lod_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#aa9a55847088d77aa8bbc16c693344ddb" title="Change regular attributes.">dt_object_operations::do_attr_set</a>.  <a href="#ae0051397c316b4ef4de018c3eb5d8e20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#af3fc3c97d29defbbb1ccf75543491bc5">lod_xattr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#af4c8c504e52a5571dbd0557980c3818a" title="Return a value of an extended attribute.">dt_object_operations::do_xattr_get</a>.  <a href="#af3fc3c97d29defbbb1ccf75543491bc5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ae62897e1282c6d4c339aa8b8e5badfc3">lod_verify_md_striping</a> (struct <a class="el" href="structlod__device.html">lod_device</a> *lod, const struct <a class="el" href="structlmv__user__md__v1.html">lmv_user_md_v1</a> *lum)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verify LVM EA.  <a href="#ae62897e1282c6d4c339aa8b8e5badfc3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a3803396cb1a6e1757219802936bcdf8c">lod_prep_slave_lmv_md</a> (struct <a class="el" href="structlmv__mds__md__v1.html">lmv_mds_md_v1</a> *slave_lmv, const struct <a class="el" href="structlmv__mds__md__v1.html">lmv_mds_md_v1</a> *master_lmv)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize LMV EA for a slave.  <a href="#a3803396cb1a6e1757219802936bcdf8c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a23349f9ac65d2253f7f0f33ab0d02949">lod_prep_lmv_md</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__buf.html">lu_buf</a> *lmv_buf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generate LMV EA.  <a href="#a23349f9ac65d2253f7f0f33ab0d02949"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a7620fcaabad269124cea08babc83e70a">lod_parse_dir_striping</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlod__object.html">lod_object</a> *lo, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create in-core represenation for a striped directory.  <a href="#a7620fcaabad269124cea08babc83e70a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a03078649ee6525853887a750daa3aedc">lod_dir_declare_create_stripes</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declare create a striped directory.  <a href="#a03078649ee6525853887a750daa3aedc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a356987a4c28c099e25995e0feb0315e1">lod_prep_md_striped_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, const struct <a class="el" href="structlmv__user__md__v1.html">lmv_user_md_v1</a> *lum, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#add43bb6f3945e2e04cb12d4de38f94ff">lod_declare_xattr_set_lmv</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *lum_buf, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declare create striped md object.  <a href="#add43bb6f3945e2e04cb12d4de38f94ff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ab1e75b9bfc9962f436a302c5ddf0a6c8">lod_dir_declare_xattr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#ad5d602fce101080720544cbdb0de96e8" title="Declare intention to change an extended attribute.">dt_object_operations::do_declare_xattr_set</a>.  <a href="#ab1e75b9bfc9962f436a302c5ddf0a6c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a68c7d3f3092e16b0fb25c8c90d02aa30">lod_object_replace_parent_fid</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th, bool declare)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset parent FID on OST object.  <a href="#a68c7d3f3092e16b0fb25c8c90d02aa30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a6e7eab53fd78458d762750c974b379d0">lod_declare_xattr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#ad5d602fce101080720544cbdb0de96e8" title="Declare intention to change an extended attribute.">dt_object_operations::do_declare_xattr_set</a>.  <a href="#a6e7eab53fd78458d762750c974b379d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aaaaf8054b4e0b5b38427b4e890a2c819">lod_lov_stripe_cache_clear</a> (struct <a class="el" href="structlod__object.html">lod_object</a> *lo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets cached default striping in the object.  <a href="#aaaaf8054b4e0b5b38427b4e890a2c819"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ae4744538c28ebb773b0969e973771023">lod_xattr_set_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Apply xattr changes to the object.  <a href="#ae4744538c28ebb773b0969e973771023"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#acf8e1ebaea3ca441af1278b6634a1f17">lod_xattr_del_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete an extended attribute.  <a href="#acf8e1ebaea3ca441af1278b6634a1f17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a8edc6998010b3d4fac92d44500cacf7b">lod_xattr_set_lov_on_dir</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set default striping on a directory.  <a href="#a8edc6998010b3d4fac92d44500cacf7b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a43135eeb36023d7ed5b5a80df0c02b79">lod_xattr_set_default_lmv_on_dir</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set default striping on a directory object.  <a href="#a43135eeb36023d7ed5b5a80df0c02b79"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a793eff1f837b4c9c23b77a37871b0616">lod_xattr_set_lmv</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Turn directory into a striped directory.  <a href="#a793eff1f837b4c9c23b77a37871b0616"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a5842c346674524b66a0beb6ed40a038c">lod_dir_striping_create_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th, bool declare)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to declare/execute creation of a striped directory.  <a href="#a5842c346674524b66a0beb6ed40a038c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#accd6e2be638f58bd44a95b5b4bfb558a">lod_declare_dir_striping_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a9573b0b4245375e538f8648cef47ce51">lod_dir_striping_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a47cb51fd5e9bd25bdf12b1026f6efd95">lod_xattr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a231db7d512a5786b8ad887e9fc47190b" title="Set an extended attribute.">dt_object_operations::do_xattr_set</a>.  <a href="#a47cb51fd5e9bd25bdf12b1026f6efd95"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a50aebe160b6ecbdfc17cab3cffd5e522">lod_declare_xattr_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a7b2e57f4c0bdb5108e9d1920242e813e" title="Declare intention to delete an extended attribute.">dt_object_operations::do_declare_xattr_del</a>.  <a href="#a50aebe160b6ecbdfc17cab3cffd5e522"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a0a2a8581df9ebcb779d798185aea25ed">lod_xattr_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a19762fb1d9e75136521019d51759b6ec" title="Delete an extended attribute.">dt_object_operations::do_xattr_del</a>.  <a href="#a0a2a8581df9ebcb779d798185aea25ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a973cbd1826bf8e8987b7fb26170d4aee">lod_xattr_list</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a0ace7a9f2e3ae94bb5d5b7434917f0f1" title="Return a list of the extended attributes.">dt_object_operations::do_xattr_list</a>.  <a href="#a973cbd1826bf8e8987b7fb26170d4aee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a512c575080504425dbdbfd0b2db9765f">lod_object_set_pool</a> (struct <a class="el" href="structlod__object.html">lod_object</a> *o, char *pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a pool the object belongs to.  <a href="#a512c575080504425dbdbfd0b2db9765f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a8299e9ba8ec91071d7c0e52f2df4aea5">lod_object_will_be_striped</a> (int is_reg, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#acfa4b4d2dfd269c1f088ce664dff1731">lod_cache_parent_lov_striping</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlod__object.html">lod_object</a> *lp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cache default regular striping in the object.  <a href="#acfa4b4d2dfd269c1f088ce664dff1731"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a2d96b4874ebf8df251e23e4bc83d9f1c">lod_cache_parent_lmv_striping</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlod__object.html">lod_object</a> *lp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cache default directory striping in the object.  <a href="#a2d96b4874ebf8df251e23e4bc83d9f1c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aaa178160800c86583ff42b49d029e688">lod_cache_parent_striping</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlod__object.html">lod_object</a> *lp, umode_t child_mode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cache default striping in the object.  <a href="#aaa178160800c86583ff42b49d029e688"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a09d1072d429eb68ed3b552f9a480f874">lod_ah_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *ah, struct <a class="el" href="structdt__object.html">dt_object</a> *parent, struct <a class="el" href="structdt__object.html">dt_object</a> *child, umode_t child_mode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a00fed99bee94890d3e36719af00d5595" title="Prepare allocation hint for a new object.">dt_object_operations::do_ah_init</a>.  <a href="#a09d1072d429eb68ed3b552f9a480f874"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#aa21747211b10a215a0ea115d025c6770">lod_declare_init_size</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size initialization on late striping.  <a href="#aa21747211b10a215a0ea115d025c6770"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#af28b9aacfb3e44c1374d8dbdfbde74d5">lod_declare_striped_object</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *lovea, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declare creation of striped object.  <a href="#af28b9aacfb3e44c1374d8dbdfbde74d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a0a6cba773b2fb89cc0f208d97db43b79">lod_declare_object_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#ab16b75516dfd3d619fbffbc96f2b9d24" title="Declare intention to create a new object.">dt_object_operations::do_declare_create</a>.  <a href="#a0a6cba773b2fb89cc0f208d97db43b79"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ab4f6d91acb376f565220d7c804f1a230">lod_striping_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creation of a striped regular object.  <a href="#ab4f6d91acb376f565220d7c804f1a230"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ae967556b8dbe3bdf02573a64196a8b28">lod_object_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#ac1ca5a81cd3d00bd821fbfead64022c3" title="Create new object.">dt_object_operations::do_create</a>.  <a href="#ae967556b8dbe3bdf02573a64196a8b28"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a830bb44519de225cd0340b19eb0aaaa2">lod_declare_object_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#af211c9cc7a0203979cd8cf0f0b81b293" title="Declare intention to destroy an object.">dt_object_operations::do_declare_destroy</a>.  <a href="#a830bb44519de225cd0340b19eb0aaaa2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ab43337878d8c5f61b491a6813ad141c7">lod_object_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a19ddd277003c24371f8c5771a2ba77bb" title="Destroy an object.">dt_object_operations::do_destroy</a>.  <a href="#ab43337878d8c5f61b491a6813ad141c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a86c5344f7c6bed6f28deb864fba326d1">lod_declare_ref_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a53431a1038b787ca15950b5a0495408b" title="Declare intention to increment nlink count.">dt_object_operations::do_declare_ref_add</a>.  <a href="#a86c5344f7c6bed6f28deb864fba326d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a419659d1d2420f926071f0611fde7734">lod_ref_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a3ea43d6a7abb742fb238acc711b3bd2b" title="Increment nlink.">dt_object_operations::do_ref_add</a>.  <a href="#a419659d1d2420f926071f0611fde7734"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a6e5f16021ef180d078b4af6726cfbd3e">lod_declare_ref_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#ae33177c8da269d507a9b22b8066ae5f4" title="Declare intention to decrement nlink count.">dt_object_operations::do_declare_ref_del</a>.  <a href="#a6e5f16021ef180d078b4af6726cfbd3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a4e62d48055f9d36f80ff12213a8508ff">lod_ref_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a8d0abf79c5dace1f0839aefe251bfc1f" title="Decrement nlink.">dt_object_operations::do_ref_del</a>.  <a href="#a4e62d48055f9d36f80ff12213a8508ff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a7f6a6878ef166365ee16f78213ec1d75">lod_object_sync</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> end)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a2e3f3539d6ce344b27712d4b2f39d7b2" title="Sync obect.">dt_object_operations::do_object_sync</a>.  <a href="#a7f6a6878ef166365ee16f78213ec1d75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a9bca35f68658ca5bdbc7d271fba59e76">lod_object_unlock_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *einfo, union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release LDLM locks on the stripes of a striped directory.  <a href="#a9bca35f68658ca5bdbc7d271fba59e76"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a7ee35b598501738757d8041933fbc86c">lod_object_unlock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *einfo, union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a0cc597f75bd319af28376e8a280a6ae3" title="Unlock object.">dt_object_operations::do_object_unlock</a>.  <a href="#a7ee35b598501738757d8041933fbc86c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a57558d2070914a690d67e6d26ce9b390">lod_object_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lh, struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *einfo, union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__object__operations.html#a1f63b46e6b64b5c8ba9e81492e0c2f19" title="Lock object.">dt_object_operations::do_object_lock</a>.  <a href="#a57558d2070914a690d67e6d26ce9b390"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a56d64b765a54bc0101a7caa2226ae643">lod_read</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, loff_t *pos)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__body__operations.html#a6d7a363128fd4899b709b2ff18afd54c" title="Read data.">dt_body_operations::dbo_read</a>.  <a href="#a56d64b765a54bc0101a7caa2226ae643"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a1df8aefc03f64a449cf3e8a2767f66a1">lod_declare_write</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, loff_t pos, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__body__operations.html#aa4d64d407e2b442c1e418fa9ca46ab44" title="Declare intention to write data to object.">dt_body_operations::dbo_declare_write</a>.  <a href="#a1df8aefc03f64a449cf3e8a2767f66a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ae5c04a5959762ed9d436f587c49a60c8">lod_write</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, loff_t *pos, struct <a class="el" href="structthandle.html">thandle</a> *th, int iq)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structdt__body__operations.html#a1d14bb3445892ab680cd8885645334bb" title="Write unstructured data to regular existing object.">dt_body_operations::dbo_write</a>.  <a href="#ae5c04a5959762ed9d436f587c49a60c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a710997113e829c0f005846fde29cf06b">lod_declare_punch</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> end, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a8a992349559286981963a864e4888367">lod_punch</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *dt, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> end, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a718ffb4659817d62ce24448b210c1163">lod_object_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *lo, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structlu__object__operations.html#a15b69dd7ca43e31bee4023da49fbb8a8" title="Allocate lower-layer parts of the object by calling lu_device_operations::ldo_object_alloc()...">lu_object_operations::loo_object_init</a>.  <a href="#a718ffb4659817d62ce24448b210c1163"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a3bd90d51c3b31f70277187f7c1846d10">lod_object_free_striping</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlod__object.html">lod_object</a> *lo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release resources associated with striping.  <a href="#a3bd90d51c3b31f70277187f7c1846d10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a98112c3829efaedbc1a2ec2b5b864d21">lod_object_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structlu__object__operations.html#ab362623fe2d30118add2f4552b37b494" title="Called (in top-to-bottom order) during object allocation after all layers were allocated...">lu_object_operations::loo_object_start</a>.  <a href="#a98112c3829efaedbc1a2ec2b5b864d21"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a47881aa85073bf77556a4062df1b28a8">lod_object_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structlu__object__operations.html#a59cf8062ebe405ac01fdcab9d976eed3" title="Dual to lu_device_operations::ldo_object_alloc().">lu_object_operations::loo_object_free</a>.  <a href="#a47881aa85073bf77556a4062df1b28a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ae2a0c676accc6d8cb3c4b1e686b8c36a">lod_object_release</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structlu__object__operations.html#a4fa5d3edafc04a638d06465d57ebc20a" title="Called when last active reference to the object is released (and object returns to...">lu_object_operations::loo_object_release</a>.  <a href="#ae2a0c676accc6d8cb3c4b1e686b8c36a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a4816b5e63ba2333606756be1e4cd4930">lod_object_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> p, const struct <a class="el" href="structlu__object.html">lu_object</a> *l)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structlu__object__operations.html#acf091707006dc9d8d216351834d8d974" title="Optional debugging helper.">lu_object_operations::loo_object_print</a>.  <a href="#a4816b5e63ba2333606756be1e4cd4930"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#abe6cafa537717678814801ed8d6cb180">dot</a> [] = &quot;.&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a7914eee395b20d62ae6bc4a189f3a468">dotdot</a> [] = &quot;..&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__body__operations.html">dt_body_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#ab5d691e144231932e5957170d2bb58e5">lod_body_lnk_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__body__operations.html">dt_body_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a3233512b92fd829fcd6924898203d1d0">lod_body_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#af86316b19bd41f9b9f1370f93847291e">lod_index_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a1339d3e0f5d5401635566fade01fca36">lod_striped_index_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a93f1c48472664a89401155982eb10a23">lod_obj_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lod__object_8c.html#a6f488be9b0758b51bdf27d673712bc6b">lod_lu_obj_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="lod_object.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_MDS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00041">41</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7b39fb1f40cbc558c9e759fcfd25a46f"></a><!-- doxytag: member="lod_object.c::ll_do_div64" ref="a7b39fb1f40cbc558c9e759fcfd25a46f" args="(aaa, bbb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ll_do_div64</td>
          <td>(</td>
          <td class="paramtype">aaa, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bbb&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;do_div((aaa), (bbb))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03258">3258</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03275">lod_declare_init_size()</a>.</p>

</div>
</div>
<a class="anchor" id="a5aea845e5ec1e6560400ea4e495526ee"></a><!-- doxytag: member="lod_object.c::LOD_CHECK_IT" ref="a5aea845e5ec1e6560400ea4e495526ee" args="(env, it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOD_CHECK_IT</td>
          <td>(</td>
          <td class="paramtype">env, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">it&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                            \
        <a class="code" href="utils_2wirehdr_8c.html#a40eabc293a68a6404ce1de507c99c4b5">LASSERT</a>((it)-&gt;lit_obj != NULL);                         \
        <a class="code" href="utils_2wirehdr_8c.html#a40eabc293a68a6404ce1de507c99c4b5">LASSERT</a>((it)-&gt;lit_it != NULL);                          \
} <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00176">176</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l00189">lod_it_fini()</a>, <a class="el" href="lod__object_8c_source.html#l00208">lod_it_get()</a>, <a class="el" href="lod__object_8c_source.html#l00254">lod_it_key()</a>, <a class="el" href="lod__object_8c_source.html#l00350">lod_it_key_rec()</a>, <a class="el" href="lod__object_8c_source.html#l00270">lod_it_key_size()</a>, <a class="el" href="lod__object_8c_source.html#l00334">lod_it_load()</a>, <a class="el" href="lod__object_8c_source.html#l00239">lod_it_next()</a>, <a class="el" href="lod__object_8c_source.html#l00224">lod_it_put()</a>, <a class="el" href="lod__object_8c_source.html#l00285">lod_it_rec()</a>, <a class="el" href="lod__object_8c_source.html#l00302">lod_it_rec_size()</a>, and <a class="el" href="lod__object_8c_source.html#l00319">lod_it_store()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4a522644a24ec6a9a5db025a5049b46"></a><!-- doxytag: member="lod_object.c::LOD_CHECK_STRIPED_IT" ref="aa4a522644a24ec6a9a5db025a5049b46" args="(env, it, lo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOD_CHECK_STRIPED_IT</td>
          <td>(</td>
          <td class="paramtype">env, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">it, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lo&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                            \
        <a class="code" href="utils_2wirehdr_8c.html#a40eabc293a68a6404ce1de507c99c4b5">LASSERT</a>((it)-&gt;lit_obj != NULL);                         \
        <a class="code" href="utils_2wirehdr_8c.html#a40eabc293a68a6404ce1de507c99c4b5">LASSERT</a>((it)-&gt;lit_it != NULL);                          \
        <a class="code" href="utils_2wirehdr_8c.html#a40eabc293a68a6404ce1de507c99c4b5">LASSERT</a>((lo)-&gt;ldo_stripenr &gt; 0);                        \
        <a class="code" href="utils_2wirehdr_8c.html#a40eabc293a68a6404ce1de507c99c4b5">LASSERT</a>((it)-&gt;lit_stripe_index &lt; (lo)-&gt;ldo_stripenr);   \
} <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00422">422</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l00437">lod_striped_it_fini()</a>, <a class="el" href="lod__object_8c_source.html#l00470">lod_striped_it_get()</a>, <a class="el" href="lod__object_8c_source.html#l00598">lod_striped_it_key()</a>, <a class="el" href="lod__object_8c_source.html#l00621">lod_striped_it_key_size()</a>, <a class="el" href="lod__object_8c_source.html#l00713">lod_striped_it_load()</a>, <a class="el" href="lod__object_8c_source.html#l00517">lod_striped_it_next()</a>, <a class="el" href="lod__object_8c_source.html#l00494">lod_striped_it_put()</a>, <a class="el" href="lod__object_8c_source.html#l00644">lod_striped_it_rec()</a>, <a class="el" href="lod__object_8c_source.html#l00667">lod_striped_it_rec_size()</a>, and <a class="el" href="lod__object_8c_source.html#l00690">lod_striped_it_store()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a09d1072d429eb68ed3b552f9a480f874"></a><!-- doxytag: member="lod_object.c::lod_ah_init" ref="a09d1072d429eb68ed3b552f9a480f874" args="(const struct lu_env *env, struct dt_allocation_hint *ah, struct dt_object *parent, struct dt_object *child, umode_t child_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_ah_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>ah</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">umode_t&nbsp;</td>
          <td class="paramname"> <em>child_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a00fed99bee94890d3e36719af00d5595" title="Prepare allocation hint for a new object.">dt_object_operations::do_ah_init</a>. </p>
<p>This method is used to make a decision on the striping configuration for the object being created. It can be taken from the <em>parent</em> object if it exists, or filesystem's default. The resulting configuration (number of stripes, stripe size/offset, pool name, etc) is stored in the object itself and will be used by the methods like -&gt;doo_declare_create().</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a00fed99bee94890d3e36719af00d5595" title="Prepare allocation hint for a new object.">dt_object_operations::do_ah_init()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03075">3075</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00141">D_OTHER</a>, <a class="el" href="dt__object_8h_source.html#l00371">dt_allocation_hint::dah_eadata</a>, <a class="el" href="dt__object_8h_source.html#l00372">dt_allocation_hint::dah_eadata_len</a>, <a class="el" href="structdt__object__operations.html#a00fed99bee94890d3e36719af00d5595">dt_object_operations::do_ah_init</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l02749">lov_desc::ld_default_stripe_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02751">lov_desc::ld_default_stripe_size</a>, <a class="el" href="lod__internal_8h_source.html#l00269">lod_object::ldo_def_stripe_offset</a>, <a class="el" href="lod__internal_8h_source.html#l00267">lod_object::ldo_def_stripe_size</a>, <a class="el" href="lod__internal_8h_source.html#l00268">lod_object::ldo_def_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_def_striping_cached</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_def_striping_set</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_dir_slave_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00270">lod_object::ldo_dir_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00255">lod_object::ldo_pool</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00252">lod_object::ldo_stripe_size</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lod__object_8c_source.html#l03038">lod_cache_parent_striping()</a>, <a class="el" href="lod__internal_8h_source.html#l00181">lod_device::lod_desc</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__lov_8c_source.html#l01067">lod_load_striping()</a>, <a class="el" href="lod__object_8c_source.html#l02112">lod_lov_stripe_cache_clear()</a>, <a class="el" href="lod__object_8c_source.html#l02868">lod_object_set_pool()</a>, <a class="el" href="lod__object_8c_source.html#l02887">lod_object_will_be_striped()</a>, <a class="el" href="lod__object_8c_source.html#l01362">lod_verify_md_striping()</a>, <a class="el" href="lod__internal_8h_source.html#l00057">LOV_OFFSET_DEFAULT</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__user_8h_source.html#l00463">lmv_user_md_v1::lum_hash_type</a>, <a class="el" href="lustre__user_8h_source.html#l00461">lmv_user_md_v1::lum_stripe_count</a>, <a class="el" href="lustre__user_8h_source.html#l00462">lmv_user_md_v1::lum_stripe_offset</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, and <a class="el" href="obd__support_8h_source.html#l00574">OBD_FAIL_LARGE_STRIPE</a>.</p>

</div>
</div>
<a class="anchor" id="aad3098a2e4740e25b77325d8b91d4058"></a><!-- doxytag: member="lod_object.c::lod_attr_get" ref="aad3098a2e4740e25b77325d8b91d4058" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_attr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a1d2ff17287fa229d0325cccf0aac5beb" title="Return regular attributes.">dt_object_operations::do_attr_get</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a1d2ff17287fa229d0325cccf0aac5beb" title="Return regular attributes.">dt_object_operations::do_attr_get()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01056">1056</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02225">dt_attr_get()</a>, and <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0051397c316b4ef4de018c3eb5d8e20"></a><!-- doxytag: member="lod_object.c::lod_attr_set" ref="ae0051397c316b4ef4de018c3eb5d8e20" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_attr *attr, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#aa9a55847088d77aa8bbc16c693344ddb" title="Change regular attributes.">dt_object_operations::do_attr_set</a>. </p>
<p>If the object is striped, then apply the changes to all or subset of the stripes depending on the object type and specific attributes.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#aa9a55847088d77aa8bbc16c693344ddb" title="Change regular attributes.">dt_object_operations::do_attr_set()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01167">1167</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00147">lu_fid::f_oid</a>, <a class="el" href="lustre__idl_8h_source.html#l00706">fid_to_ostid()</a>, <a class="el" href="lustre__idl_8h_source.html#l01499">lov_ost_data_v1::l_ost_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l01497">lov_ost_data_v1::l_ost_oi</a>, <a class="el" href="lu__object_8h_source.html#l00444">LA_ATIME</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00453">LA_FLAGS</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__idl_8h_source.html#l01504">lov_mds_md_v1::lmm_magic</a>, <a class="el" href="lustre__idl_8h_source.html#l01511">lov_mds_md_v1::lmm_objects</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__internal_8h_source.html#l00425">lod_get_lov_ea()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00678">lod_sub_object_attr_set()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00755">lod_sub_object_xattr_del()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00602">lod_sub_object_xattr_set()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="packet-lustre_8c_source.html#l00085">LOV_MAGIC_V1</a>, <a class="el" href="lod__internal_8h_source.html#l00295">lod_thread_info::lti_buf</a>, <a class="el" href="lod__internal_8h_source.html#l00292">lod_thread_info::lti_ea_store</a>, <a class="el" href="lod__internal_8h_source.html#l00293">lod_thread_info::lti_ea_store_size</a>, <a class="el" href="lod__internal_8h_source.html#l00297">lod_thread_info::lti_fid</a>, <a class="el" href="lod__internal_8h_source.html#l00296">lod_thread_info::lti_ostid</a>, <a class="el" href="lu__object_8h_source.html#l00909">LU_XATTR_REPLACE</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00540">OBD_FAIL_LFSCK_BAD_OWNER</a>, <a class="el" href="obd__support_8h_source.html#l00545">OBD_FAIL_LFSCK_CHANGE_STRIPE</a>, <a class="el" href="obd__support_8h_source.html#l00542">OBD_FAIL_LFSCK_LOST_STRIPE</a>, <a class="el" href="structost__id.html#a01d44bff8859d8cd3aabe8a4b0c2ee46">ost_id::oi</a>, <a class="el" href="lustre__idl_8h_source.html#l00823">ostid_cpu_to_le()</a>, <a class="el" href="lustre__idl_8h_source.html#l00834">ostid_le_to_cpu()</a>, <a class="el" href="lustre__idl_8h_source.html#l00659">ostid_to_fid()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

</div>
</div>
<a class="anchor" id="a2d96b4874ebf8df251e23e4bc83d9f1c"></a><!-- doxytag: member="lod_object.c::lod_cache_parent_lmv_striping" ref="a2d96b4874ebf8df251e23e4bc83d9f1c" args="(const struct lu_env *env, struct lod_object *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_cache_parent_lmv_striping </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlod__object.html">lod_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cache default directory striping in the object. </p>
<p>To improve performance of striped directory creation we cache default directory striping (if it exists) in the parent directory object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lp</em>&nbsp;</td><td>object</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02981">2981</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lod__internal_8h_source.html#l00246">lod_object::ldo_obj</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__user_8h_source.html#l00449">LMV_HASH_TYPE_FNV_1A_64</a>, <a class="el" href="lustre__user_8h_source.html#l00458">lmv_user_md</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__internal_8h_source.html#l00437">lod_get_default_lmv_ea()</a>, <a class="el" href="lod__internal_8h_source.html#l00292">lod_thread_info::lti_ea_store</a>, <a class="el" href="lustre__user_8h_source.html#l00463">lmv_user_md_v1::lum_hash_type</a>, <a class="el" href="lustre__user_8h_source.html#l00461">lmv_user_md_v1::lum_stripe_count</a>, and <a class="el" href="lustre__user_8h_source.html#l00462">lmv_user_md_v1::lum_stripe_offset</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03038">lod_cache_parent_striping()</a>.</p>

</div>
</div>
<a class="anchor" id="acfa4b4d2dfd269c1f088ce664dff1731"></a><!-- doxytag: member="lod_object.c::lod_cache_parent_lov_striping" ref="acfa4b4d2dfd269c1f088ce664dff1731" args="(const struct lu_env *env, struct lod_object *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_cache_parent_lov_striping </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlod__object.html">lod_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cache default regular striping in the object. </p>
<p>To improve performance of striped regular object creation we cache default LOV striping (if it exists) in the parent directory object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lp</em>&nbsp;</td><td>object</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02905">2905</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00039">__swab32</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lod__internal_8h_source.html#l00269">lod_object::ldo_def_stripe_offset</a>, <a class="el" href="lod__internal_8h_source.html#l00267">lod_object::ldo_def_stripe_size</a>, <a class="el" href="lod__internal_8h_source.html#l00268">lod_object::ldo_def_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_def_striping_cached</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_def_striping_set</a>, <a class="el" href="lod__internal_8h_source.html#l00246">lod_object::ldo_obj</a>, <a class="el" href="lustre__user_8h_source.html#l00385">lov_user_md_v1::lmm_magic</a>, <a class="el" href="lustre__user_8h_source.html#l00386">lov_user_md_v1::lmm_pattern</a>, <a class="el" href="lustre__user_8h_source.html#l00411">lov_user_md_v3::lmm_pool_name</a>, <a class="el" href="lustre__user_8h_source.html#l00389">lov_user_md_v1::lmm_stripe_count</a>, <a class="el" href="lustre__user_8h_source.html#l00391">lov_user_md_v1::lmm_stripe_offset</a>, <a class="el" href="lustre__user_8h_source.html#l00388">lov_user_md_v1::lmm_stripe_size</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__internal_8h_source.html#l00425">lod_get_lov_ea()</a>, <a class="el" href="lod__object_8c_source.html#l02868">lod_object_set_pool()</a>, <a class="el" href="packet-lustre_8c_source.html#l00085">LOV_MAGIC_V1</a>, <a class="el" href="lustre__idl_8h_source.html#l01471">LOV_MAGIC_V3</a>, <a class="el" href="lustre__user_8h_source.html#l00345">LOV_PATTERN_RAID0</a>, <a class="el" href="lustre__user_8h_source.html#l00336">LOV_USER_MAGIC_V1</a>, <a class="el" href="lustre__user_8h_source.html#l00339">LOV_USER_MAGIC_V3</a>, <a class="el" href="lustre__user_8h_source.html#l00383">lov_user_md</a>, <a class="el" href="lod__internal_8h_source.html#l00292">lod_thread_info::lti_ea_store</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="pack__generic_8c_source.html#l02165">lustre_swab_lov_user_md_v1()</a>, <a class="el" href="pack__generic_8c_source.html#l02174">lustre_swab_lov_user_md_v3()</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03038">lod_cache_parent_striping()</a>.</p>

</div>
</div>
<a class="anchor" id="aaa178160800c86583ff42b49d029e688"></a><!-- doxytag: member="lod_object.c::lod_cache_parent_striping" ref="aaa178160800c86583ff42b49d029e688" args="(const struct lu_env *env, struct lod_object *lp, umode_t child_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_cache_parent_striping </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlod__object.html">lod_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">umode_t&nbsp;</td>
          <td class="paramname"> <em>child_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cache default striping in the object. </p>
<p>To improve performance of striped object creation we cache default striping (if it exists) in the parent directory object. We always cache default striping for the regular files (stored in LOV EA) and we cache default striping for the directories if requested by <em>child_mode</em> (when a new directory is being created).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lp</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>child_mode</em>&nbsp;</td><td>new object's mode</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03038">3038</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_def_striping_cached</a>, <a class="el" href="lod__internal_8h_source.html#l00246">lod_object::ldo_obj</a>, <a class="el" href="lod__object_8c_source.html#l02981">lod_cache_parent_lmv_striping()</a>, <a class="el" href="lod__object_8c_source.html#l02905">lod_cache_parent_lov_striping()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03075">lod_ah_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a40f51113043f2f13ad68b468ec799dc4"></a><!-- doxytag: member="lod_object.c::lod_declare_attr_set" ref="a40f51113043f2f13ad68b468ec799dc4" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_attr *attr, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a44eb5df458974e0568eba9863c439362" title="Declare intention to change regular object&#39;s attributes.">dt_object_operations::do_declare_attr_set</a>. </p>
<p>If the object is striped, then apply the changes to all the stripes.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a44eb5df458974e0568eba9863c439362" title="Declare intention to change regular object&#39;s attributes.">dt_object_operations::do_declare_attr_set()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01075">1075</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00444">LA_ATIME</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00453">LA_FLAGS</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__lov_8c_source.html#l01067">lod_load_striping()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00641">lod_sub_object_declare_attr_set()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00717">lod_sub_object_declare_xattr_del()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00561">lod_sub_object_declare_xattr_set()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00295">lod_thread_info::lti_buf</a>, <a class="el" href="lod__internal_8h_source.html#l00292">lod_thread_info::lti_ea_store</a>, <a class="el" href="lod__internal_8h_source.html#l00293">lod_thread_info::lti_ea_store_size</a>, <a class="el" href="lu__object_8h_source.html#l00909">LU_XATTR_REPLACE</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00540">OBD_FAIL_LFSCK_BAD_OWNER</a>, <a class="el" href="obd__support_8h_source.html#l00545">OBD_FAIL_LFSCK_CHANGE_STRIPE</a>, <a class="el" href="obd__support_8h_source.html#l00542">OBD_FAIL_LFSCK_LOST_STRIPE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

</div>
</div>
<a class="anchor" id="accd6e2be638f58bd44a95b5b4bfb558a"></a><!-- doxytag: member="lod_object.c::lod_declare_dir_striping_create" ref="accd6e2be638f58bd44a95b5b4bfb558a" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_dir_striping_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02651">2651</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lod__object_8c_source.html#l02531">lod_dir_striping_create_internal()</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03407">lod_declare_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ad3b1b1795b9333a7656a8748671b7d6d"></a><!-- doxytag: member="lod_object.c::lod_declare_index_delete" ref="ad3b1b1795b9333a7656a8748671b7d6d" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_key *key, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_index_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__index__operations.html#aa25f7e5f60a5b9055e3f9b0898b2888b" title="Declare intention to delete a key/value from an index.">dt_index_operations::dio_declare_delete</a>. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__index__operations.html#aa25f7e5f60a5b9055e3f9b0898b2888b" title="Declare intention to delete a key/value from an index.">dt_index_operations::dio_declare_delete()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00122">122</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00491">lod_sub_object_declare_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="adf23bbaa97f21b5d1fc3e06b55f9881e"></a><!-- doxytag: member="lod_object.c::lod_declare_index_insert" ref="adf23bbaa97f21b5d1fc3e06b55f9881e" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_rec *rec, const struct dt_key *key, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_index_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__index__operations.html#af077ea7c9f156cb161f9c361109e1f68" title="Declare intention to insert a key/value into an index.">dt_index_operations::dio_declare_insert</a>. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__index__operations.html#af077ea7c9f156cb161f9c361109e1f68" title="Declare intention to insert a key/value into an index.">dt_index_operations::dio_declare_insert()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00086">86</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00419">lod_sub_object_declare_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="aa21747211b10a215a0ea115d025c6770"></a><!-- doxytag: member="lod_object.c::lod_declare_init_size" ref="aa21747211b10a215a0ea115d025c6770" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_init_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Size initialization on late striping. </p>
<p>Propagate the size of a truncated object to a deferred striping. This function handles a special case when truncate was done on a non-striped object and now while the striping is being created we can't lose that size, so we have to propagate it to the stripes being created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03275">3275</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="dt__object_8h_source.html#l02225">dt_attr_get()</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00409">lu_attr::la_size</a>, <a class="el" href="lu__object_8h_source.html#l00447">LA_SIZE</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00252">lod_object::ldo_stripe_size</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lod__object_8c_source.html#l03258">ll_do_div64</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00641">lod_sub_object_declare_attr_set()</a>, <a class="el" href="lod__internal_8h_source.html#l00299">lod_thread_info::lti_attr</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03337">lod_declare_striped_object()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a6cba773b2fb89cc0f208d97db43b79"></a><!-- doxytag: member="lod_object.c::lod_declare_object_create" ref="a0a6cba773b2fb89cc0f208d97db43b79" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_object_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#ab16b75516dfd3d619fbffbc96f2b9d24" title="Declare intention to create a new object.">dt_object_operations::do_declare_create</a>. </p>
<p>The method declares creation of a new object. If the object will be striped, then helper functions are called to find FIDs for the stripes, declare creation of the stripes and declare initialization of the striping information to be stored in the master object.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#ab16b75516dfd3d619fbffbc96f2b9d24" title="Declare intention to create a new object.">dt_object_operations::do_declare_create()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03407">3407</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="bitmap_8h_source.html#l00116">cfs_foreach_bit</a>, <a class="el" href="dt__object_8h_source.html#l00371">dt_allocation_hint::dah_eadata</a>, <a class="el" href="dt__object_8h_source.html#l00370">dt_allocation_hint::dah_parent</a>, <a class="el" href="dt__object_8h_source.html#l00382">DFT_DIR</a>, <a class="el" href="dt__object_8h_source.html#l00381">DFT_REGULAR</a>, <a class="el" href="dt__object_8h_source.html#l00388">DFT_SYM</a>, <a class="el" href="dt__object_8h_source.html#l01752">dt_object::do_body_ops</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="structdt__object__format.html#a1360e65937447b79d2cf8985faf12984">dt_object_format::dof_reg</a>, <a class="el" href="dt__object_8h_source.html#l00396">dt_object_format::dof_type</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lod__internal_8h_source.html#l00270">lod_object::ldo_dir_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00246">lod_object::ldo_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lod__object_8c_source.html#l00061">lod_body_lnk_ops</a>, <a class="el" href="lod__object_8c_source.html#l00062">lod_body_ops</a>, <a class="el" href="lod__object_8c_source.html#l02651">lod_declare_dir_striping_create()</a>, <a class="el" href="lod__object_8c_source.html#l03337">lod_declare_striped_object()</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00189">lod_device::lod_mdt_descs</a>, <a class="el" href="lod__sub__object_8c_source.html#l00129">lod_sub_object_declare_create()</a>, <a class="el" href="lod__internal_8h_source.html#l00124">lod_tgt_desc::ltd_index</a>, <a class="el" href="lod__internal_8h_source.html#l00142">LTD_TGT</a>, <a class="el" href="lod__internal_8h_source.html#l00156">lod_tgt_descs::ltd_tgt_bitmap</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00661">lu_site2seq()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00247">OBD_FAIL_MDS_STALE_DIR_LAYOUT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, and <a class="el" href="structdt__object__format.html#ab53de8222a0a448faf6fe773746a36ed">dt_object_format::u</a>.</p>

</div>
</div>
<a class="anchor" id="a830bb44519de225cd0340b19eb0aaaa2"></a><!-- doxytag: member="lod_object.c::lod_declare_object_destroy" ref="a830bb44519de225cd0340b19eb0aaaa2" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_object_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#af211c9cc7a0203979cd8cf0f0b81b293" title="Declare intention to destroy an object.">dt_object_operations::do_declare_destroy</a>. </p>
<p>If the object is a striped directory, then the function declares reference removal from the master object (this is an index) to the stripes and declares destroy of all the stripes. In all the cases, it declares an intention to destroy the object itself.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#af211c9cc7a0203979cd8cf0f0b81b293" title="Declare intention to destroy an object.">dt_object_operations::do_declare_destroy()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03600">3600</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2">dt_object_operations::do_index_try</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="dt__object_8c_source.html#l00575">dt_directory_features</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__lov_8c_source.html#l01067">lod_load_striping()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00491">lod_sub_object_declare_delete()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00346">lod_sub_object_declare_destroy()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00276">lod_sub_object_declare_ref_del()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00303">lod_thread_info::lti_key</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00543">OBD_FAIL_LFSCK_LOST_MDTOBJ</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a710997113e829c0f005846fde29cf06b"></a><!-- doxytag: member="lod_object.c::lod_declare_punch" ref="a710997113e829c0f005846fde29cf06b" args="(const struct lu_env *env, struct dt_object *dt, __u64 start, __u64 end, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_punch </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04051">4051</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00873">lod_sub_object_declare_punch()</a>.</p>

</div>
</div>
<a class="anchor" id="a86c5344f7c6bed6f28deb864fba326d1"></a><!-- doxytag: member="lod_object.c::lod_declare_ref_add" ref="a86c5344f7c6bed6f28deb864fba326d1" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_ref_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a53431a1038b787ca15950b5a0495408b" title="Declare intention to increment nlink count.">dt_object_operations::do_declare_ref_add</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a53431a1038b787ca15950b5a0495408b" title="Declare intention to increment nlink count.">dt_object_operations::do_declare_ref_add()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03754">3754</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00206">lod_sub_object_declare_ref_add()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e5f16021ef180d078b4af6726cfbd3e"></a><!-- doxytag: member="lod_object.c::lod_declare_ref_del" ref="a6e5f16021ef180d078b4af6726cfbd3e" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_ref_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#ae33177c8da269d507a9b22b8066ae5f4" title="Declare intention to decrement nlink count.">dt_object_operations::do_declare_ref_del</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#ae33177c8da269d507a9b22b8066ae5f4" title="Declare intention to decrement nlink count.">dt_object_operations::do_declare_ref_del()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03777">3777</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00276">lod_sub_object_declare_ref_del()</a>.</p>

</div>
</div>
<a class="anchor" id="af28b9aacfb3e44c1374d8dbdfbde74d5"></a><!-- doxytag: member="lod_object.c::lod_declare_striped_object" ref="af28b9aacfb3e44c1374d8dbdfbde74d5" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, const struct lu_buf *lovea, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lod_declare_striped_object </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>lovea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declare creation of striped object. </p>
<p>The function declares creation stripes for a regular object. The function also declares whether the stripes will be created with non-zero size if previously size was set non-zero on the master object. If object <em>dt</em> is not local, then only fully defined striping can be applied in <em>lovea</em>. Otherwise <em>lovea</em> can be in the form of pattern, see <a class="el" href="lod__qos_8c.html#a6b20eb75ce250278dab3d3f2e7cf8dc3" title="Parse suggested striping configuration.">lod_qos_parse_config()</a> for the details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>attributes the stripes will be created with </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lovea</em>&nbsp;</td><td>a buffer containing striping description </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03337">3337</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lod__internal_8h_source.html#l00255">lod_object::ldo_pool</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lod__object_8c_source.html#l03275">lod_declare_init_size()</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__object_8c_source.html#l04168">lod_object_free_striping()</a>, <a class="el" href="lod__qos_8c_source.html#l01848">lod_qos_prep_create()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00561">lod_sub_object_declare_xattr_set()</a>, <a class="el" href="packet-lustre_8c_source.html#l00085">LOV_MAGIC_V1</a>, <a class="el" href="lustre__idl_8h_source.html#l01471">LOV_MAGIC_V3</a>, <a class="el" href="lustre__idl_8h_source.html#l01621">lov_mds_md_size()</a>, <a class="el" href="lod__internal_8h_source.html#l00295">lod_thread_info::lti_buf</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00199">OBD_FAIL_MDS_ALLOC_OBDO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03407">lod_declare_object_create()</a>, and <a class="el" href="lod__object_8c_source.html#l02061">lod_declare_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a1df8aefc03f64a449cf3e8a2767f66a1"></a><!-- doxytag: member="lod_object.c::lod_declare_write" ref="a1df8aefc03f64a449cf3e8a2767f66a1" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, loff_t pos, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lod_declare_write </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__body__operations.html#aa4d64d407e2b442c1e418fa9ca46ab44" title="Declare intention to write data to object.">dt_body_operations::dbo_declare_write</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__body__operations.html#aa4d64d407e2b442c1e418fa9ca46ab44" title="Declare intention to write data to object.">dt_body_operations::dbo_declare_write()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04030">4030</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00795">lod_sub_object_declare_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a50aebe160b6ecbdfc17cab3cffd5e522"></a><!-- doxytag: member="lod_object.c::lod_declare_xattr_del" ref="a50aebe160b6ecbdfc17cab3cffd5e522" args="(const struct lu_env *env, struct dt_object *dt, const char *name, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_xattr_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a7b2e57f4c0bdb5108e9d1920242e813e" title="Declare intention to delete an extended attribute.">dt_object_operations::do_declare_xattr_del</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a7b2e57f4c0bdb5108e9d1920242e813e" title="Declare intention to delete an extended attribute.">dt_object_operations::do_declare_xattr_del()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02769">2769</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__lov_8c_source.html#l01067">lod_load_striping()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00717">lod_sub_object_declare_xattr_del()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a6e7eab53fd78458d762750c974b379d0"></a><!-- doxytag: member="lod_object.c::lod_declare_xattr_set" ref="a6e7eab53fd78458d762750c974b379d0" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_xattr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#ad5d602fce101080720544cbdb0de96e8" title="Declare intention to change an extended attribute.">dt_object_operations::do_declare_xattr_set</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#ad5d602fce101080720544cbdb0de96e8" title="Declare intention to change an extended attribute.">dt_object_operations::do_declare_xattr_set()</a> in the API description for details.</dd></dl>
<p>the extension to the API:</p>
<ul>
<li>declaring LOVEA requests striping creation</li>
<li>LU_XATTR_REPLACE means layout swap </li>
</ul>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02061">2061</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02225">dt_attr_get()</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00452">LA_TYPE</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__object_8c_source.html#l03337">lod_declare_striped_object()</a>, <a class="el" href="lod__object_8c_source.html#l01918">lod_dir_declare_xattr_set()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__object_8c_source.html#l01987">lod_object_replace_parent_fid()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00561">lod_sub_object_declare_xattr_set()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00299">lod_thread_info::lti_attr</a>, <a class="el" href="lu__object_8h_source.html#l00909">LU_XATTR_REPLACE</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l01599">XATTR_NAME_FID</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

</div>
</div>
<a class="anchor" id="add43bb6f3945e2e04cb12d4de38f94ff"></a><!-- doxytag: member="lod_object.c::lod_declare_xattr_set_lmv" ref="add43bb6f3945e2e04cb12d4de38f94ff" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, const struct lu_buf *lum_buf, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_declare_xattr_set_lmv </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>lum_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declare create striped md object. </p>
<p>The function declares intention to create a striped directory. This is a wrapper for <a class="el" href="lod__object_8c.html#a356987a4c28c099e25995e0feb0315e1">lod_prep_md_striped_create()</a>. The only additional functionality is to verify pattern <em>lum_buf</em> is good. Check that function for the details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>attributes to initialize the objects with </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lum_buf</em>&nbsp;</td><td>a pattern specifying the number of stripes and MDT to start from </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dof</em>&nbsp;</td><td>type of objects to be created </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01869">1869</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__object_8c_source.html#l04168">lod_object_free_striping()</a>, <a class="el" href="lod__object_8c_source.html#l01691">lod_prep_md_striped_create()</a>, <a class="el" href="lod__object_8c_source.html#l01362">lod_verify_md_striping()</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="lustre__user_8h_source.html#l00460">lmv_user_md_v1::lum_magic</a>, <a class="el" href="lustre__user_8h_source.html#l00461">lmv_user_md_v1::lum_stripe_count</a>, <a class="el" href="lustre__user_8h_source.html#l00462">lmv_user_md_v1::lum_stripe_offset</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02531">lod_dir_striping_create_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a03078649ee6525853887a750daa3aedc"></a><!-- doxytag: member="lod_object.c::lod_dir_declare_create_stripes" ref="a03078649ee6525853887a750daa3aedc" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_dir_declare_create_stripes </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declare create a striped directory. </p>
<p>Declare creating a striped directory with a given stripe pattern on the specified MDTs. A striped directory is represented as a regular directory</p>
<ul>
<li>an index listing all the stripes. The stripes point back to the master object with ".." and LinkEA. The master object gets LMV EA which identifies it as a striped directory. The function allocates FIDs for all stripes.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>attributes to initialize the objects with </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dof</em>&nbsp;</td><td>type of objects to be created </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01558">1558</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="fail_8c_source.html#l00039">cfs_fail_val</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lfsck__lib_8c_source.html#l00542">dot</a>, <a class="el" href="lfsck__lib_8c_source.html#l00543">dotdot</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00040">linkea_data::ld_leh</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lustre__idl_8h_source.html#l03675">link_ea_header::leh_len</a>, <a class="el" href="linkea_8c_source.html#l00113">linkea_add_buf()</a>, <a class="el" href="linkea_8c_source.html#l00034">linkea_data_new()</a>, <a class="el" href="lustre__idl_8h_source.html#l02579">lmv_mds_md_v1::lmv_master_mdt_index</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__internal_8h_source.html#l00381">lod_name_get()</a>, <a class="el" href="lod__object_8c_source.html#l01406">lod_prep_lmv_md()</a>, <a class="el" href="lod__object_8c_source.html#l01386">lod_prep_slave_lmv_md()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00129">lod_sub_object_declare_create()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00419">lod_sub_object_declare_insert()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00206">lod_sub_object_declare_ref_add()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00561">lod_sub_object_declare_xattr_set()</a>, <a class="el" href="lod__internal_8h_source.html#l00307">lod_thread_info::lti_dt_rec</a>, <a class="el" href="lod__internal_8h_source.html#l00303">lod_thread_info::lti_key</a>, <a class="el" href="lod__internal_8h_source.html#l00306">lod_thread_info::lti_linkea_buf</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00563">OBD_FAIL_LFSCK_BAD_SLAVE_LMV</a>, <a class="el" href="obd__support_8h_source.html#l00564">OBD_FAIL_LFSCK_BAD_SLAVE_NAME</a>, <a class="el" href="obd__support_8h_source.html#l00562">OBD_FAIL_LFSCK_LOST_SLAVE_LMV</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="dt__object_8h_source.html#l02684">dt_insert_rec::rec_fid</a>, <a class="el" href="dt__object_8h_source.html#l02689">dt_insert_rec::rec_type</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>, and <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l01691">lod_prep_md_striped_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ab1e75b9bfc9962f436a302c5ddf0a6c8"></a><!-- doxytag: member="lod_object.c::lod_dir_declare_xattr_set" ref="ab1e75b9bfc9962f436a302c5ddf0a6c8" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_dir_declare_xattr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#ad5d602fce101080720544cbdb0de96e8" title="Declare intention to change an extended attribute.">dt_object_operations::do_declare_xattr_set</a>. </p>
<p>Used with regular (non-striped) objects. Basically it initializes the striping information and applies the change to all the stripes.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#ad5d602fce101080720544cbdb0de96e8" title="Declare intention to change an extended attribute.">dt_object_operations::do_declare_xattr_set()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01918">1918</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__lov_8c_source.html#l01067">lod_load_striping()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00561">lod_sub_object_declare_xattr_set()</a>, <a class="el" href="lod__object_8c_source.html#l01362">lod_verify_md_striping()</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l01597">XATTR_NAME_DEFAULT_LMV</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02061">lod_declare_xattr_set()</a>, and <a class="el" href="lod__object_8c_source.html#l02531">lod_dir_striping_create_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a9573b0b4245375e538f8648cef47ce51"></a><!-- doxytag: member="lod_object.c::lod_dir_striping_create" ref="a9573b0b4245375e538f8648cef47ce51" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_dir_striping_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02660">2660</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_striping_cached</a>, <a class="el" href="lod__object_8c_source.html#l02531">lod_dir_striping_create_internal()</a>, and <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02694">lod_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a5842c346674524b66a0beb6ed40a038c"></a><!-- doxytag: member="lod_object.c::lod_dir_striping_create_internal" ref="a5842c346674524b66a0beb6ed40a038c" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_object_format *dof, struct thandle *th, bool declare)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_dir_striping_create_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>declare</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to declare/execute creation of a striped directory. </p>
<p>Called in declare/create object path, prepare striping for a directory and prepare defaults data striping for the objects to be created in that directory. Notice the function calls "declaration" or "execution" methods depending on <em>declare</em> param. This is a consequence of the current approach while we don't have natural distributed transactions: we basically execute non-local updates in the declare phase. So, the arguments for the both phases are the same and this is the reason for this function to exist.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>attributes the stripes will be created with </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dof</em>&nbsp;</td><td>format of stripes (see OSD API description) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>declare</em>&nbsp;</td><td>where to call "declare" or "execute" methods</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02531">2531</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00055">cpu_to_le16</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lod__internal_8h_source.html#l00269">lod_object::ldo_def_stripe_offset</a>, <a class="el" href="lod__internal_8h_source.html#l00267">lod_object::ldo_def_stripe_size</a>, <a class="el" href="lod__internal_8h_source.html#l00268">lod_object::ldo_def_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_def_striping_set</a>, <a class="el" href="lod__internal_8h_source.html#l00255">lod_object::ldo_pool</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lustre__user_8h_source.html#l00400">lov_user_md_v3::lmm_magic</a>, <a class="el" href="lustre__user_8h_source.html#l00411">lov_user_md_v3::lmm_pool_name</a>, <a class="el" href="lustre__user_8h_source.html#l00404">lov_user_md_v3::lmm_stripe_count</a>, <a class="el" href="lustre__user_8h_source.html#l00406">lov_user_md_v3::lmm_stripe_offset</a>, <a class="el" href="lustre__user_8h_source.html#l00403">lov_user_md_v3::lmm_stripe_size</a>, <a class="el" href="lustre__user_8h_source.html#l00343">LMV_USER_MAGIC</a>, <a class="el" href="lod__internal_8h_source.html#l00054">LMVEA_DELETE_VALUES</a>, <a class="el" href="lod__object_8c_source.html#l01869">lod_declare_xattr_set_lmv()</a>, <a class="el" href="lod__object_8c_source.html#l01918">lod_dir_declare_xattr_set()</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__lov_8c_source.html#l00596">lod_ea_store_resize()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__object_8c_source.html#l02305">lod_xattr_set_default_lmv_on_dir()</a>, <a class="el" href="lod__object_8c_source.html#l02365">lod_xattr_set_lmv()</a>, <a class="el" href="lod__object_8c_source.html#l02233">lod_xattr_set_lov_on_dir()</a>, <a class="el" href="lustre__user_8h_source.html#l00339">LOV_USER_MAGIC_V3</a>, <a class="el" href="lod__internal_8h_source.html#l00050">LOVEA_DELETE_VALUES</a>, <a class="el" href="lod__internal_8h_source.html#l00295">lod_thread_info::lti_buf</a>, <a class="el" href="lod__internal_8h_source.html#l00292">lod_thread_info::lti_ea_store</a>, <a class="el" href="lod__internal_8h_source.html#l00293">lod_thread_info::lti_ea_store_size</a>, <a class="el" href="lustre__user_8h_source.html#l00463">lmv_user_md_v1::lum_hash_type</a>, <a class="el" href="lustre__user_8h_source.html#l00460">lmv_user_md_v1::lum_magic</a>, <a class="el" href="lustre__user_8h_source.html#l00461">lmv_user_md_v1::lum_stripe_count</a>, <a class="el" href="lustre__user_8h_source.html#l00462">lmv_user_md_v1::lum_stripe_offset</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>, <a class="el" href="lustre__idl_8h_source.html#l01597">XATTR_NAME_DEFAULT_LMV</a>, <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02651">lod_declare_dir_striping_create()</a>, and <a class="el" href="lod__object_8c_source.html#l02660">lod_dir_striping_create()</a>.</p>

</div>
</div>
<a class="anchor" id="adbf949f71a77600b9d3fa746688e3a41"></a><!-- doxytag: member="lod_object.c::lod_index_delete" ref="adbf949f71a77600b9d3fa746688e3a41" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_key *key, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_index_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__index__operations.html#abe3c3c85ed6a910700306482ba8fcd0d" title="Delete key/value pair from an index.">dt_index_operations::dio_delete</a>. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__index__operations.html#abe3c3c85ed6a910700306482ba8fcd0d" title="Delete key/value pair from an index.">dt_index_operations::dio_delete()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00138">138</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00524">lod_sub_object_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="aa07424a7b4f8a06c5de00c931a2ee137"></a><!-- doxytag: member="lod_object.c::lod_index_insert" ref="aa07424a7b4f8a06c5de00c931a2ee137" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_rec *rec, const struct dt_key *key, struct thandle *th, int ign)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_index_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ign</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__index__operations.html#af1e0507f0ca4df0ed3f486bab027dbda" title="Insert a new key/value pair into an index.">dt_index_operations::dio_insert</a>. </p>
<p>Used with regular (non-striped) objects</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__index__operations.html#af1e0507f0ca4df0ed3f486bab027dbda" title="Insert a new key/value pair into an index.">dt_index_operations::dio_insert()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00103">103</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00455">lod_sub_object_index_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="ac87c3ff5ebb783c4165a881c184fe2c8"></a><!-- doxytag: member="lod_object.c::lod_index_lookup" ref="ac87c3ff5ebb783c4165a881c184fe2c8" args="(const struct lu_env *env, struct dt_object *dt, struct dt_rec *rec, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_index_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__index__operations.html#aab6a7632adfce2297c022b12f0d61791" title="Lookup in an index by key.">dt_index_operations::dio_lookup</a>. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__index__operations.html#aab6a7632adfce2297c022b12f0d61791" title="Lookup in an index by key.">dt_index_operations::dio_lookup()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00071">71</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#aab6a7632adfce2297c022b12f0d61791">dt_index_operations::dio_lookup</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, and <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>.</p>

</div>
</div>
<a class="anchor" id="aca17cc3d27b61f53596cbfeb744f8e96"></a><!-- doxytag: member="lod_object.c::lod_index_try" ref="aca17cc3d27b61f53596cbfeb744f8e96" args="(const struct lu_env *env, struct dt_object *dt, const struct dt_index_features *feat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_index_try </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdt__index__features.html">dt_index_features</a> *&nbsp;</td>
          <td class="paramname"> <em>feat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2" title="Try object as an index.">dt_object_operations::do_index_try</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2" title="Try object as an index.">dt_object_operations::do_index_try()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00954">954</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2">dt_object_operations::do_index_try</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__lov_8c_source.html#l00988">lod_load_striping_locked()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="aa78ac8500ad92ae94bf35d807205b049"></a><!-- doxytag: member="lod_object.c::lod_it_fini" ref="aa78ac8500ad92ae94bf35d807205b049" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_it_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_index_operations::dio_it.fini. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_index_operations::dio_it.fini() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00189">189</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a9bde98040f4ba4fd69f69aa73c606cdd">dt_index_operations::dt_it_ops::fini</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, and <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>.</p>

</div>
</div>
<a class="anchor" id="a8fbc17ae8860998b2b6eeee7c540fbc6"></a><!-- doxytag: member="lod_object.c::lod_it_get" ref="a8fbc17ae8860998b2b6eeee7c540fbc6" args="(const struct lu_env *env, struct dt_it *di, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_it_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::get. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::get() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00208">208</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a6f4864859efe4a643b4597f0fb87f229">dt_index_operations::dt_it_ops::get</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, and <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>.</p>

</div>
</div>
<a class="anchor" id="a0fcea3fb9abe32b22251313ea87721be"></a><!-- doxytag: member="lod_object.c::lod_it_init" ref="a0fcea3fb9abe32b22251313ea87721be" args="(const struct lu_env *env, struct dt_object *dt, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct dt_it* lod_it_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::init. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::init() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00153">153</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a74b9db7e1791f6accf99c80a3a0c43e2">dt_index_operations::dt_it_ops::init</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, and <a class="el" href="lod__internal_8h_source.html#l00300">lod_thread_info::lti_it</a>.</p>

</div>
</div>
<a class="anchor" id="a03d87099892e03f63de96bcdfe664bd7"></a><!-- doxytag: member="lod_object.c::lod_it_key" ref="a03d87099892e03f63de96bcdfe664bd7" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a>* lod_it_key </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::key. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::key() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00254">254</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a426dff3fc53f2cfed2fe22713d990ddc">dt_index_operations::dt_it_ops::key</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, and <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>.</p>

</div>
</div>
<a class="anchor" id="ab8b7783f857e3bae62eecfd7fb7f95b4"></a><!-- doxytag: member="lod_object.c::lod_it_key_rec" ref="ab8b7783f857e3bae62eecfd7fb7f95b4" args="(const struct lu_env *env, const struct dt_it *di, void *key_rec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_it_key_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key_rec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::key_rec. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::rec() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00350">350</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a26fde1d3c4f5e818827e667418f6f4ba">dt_index_operations::dt_it_ops::key_rec</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, and <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>.</p>

</div>
</div>
<a class="anchor" id="aee39709b990500ece17f78ba524f3d5f"></a><!-- doxytag: member="lod_object.c::lod_it_key_size" ref="aee39709b990500ece17f78ba524f3d5f" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_it_key_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::key_size. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::key_size() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00270">270</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a0e2180d888668bf163ebf81fd27dc857">dt_index_operations::dt_it_ops::key_size</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, and <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>.</p>

</div>
</div>
<a class="anchor" id="a52016f64adef42970e895bafe1110440"></a><!-- doxytag: member="lod_object.c::lod_it_load" ref="a52016f64adef42970e895bafe1110440" args="(const struct lu_env *env, const struct dt_it *di, __u64 hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_it_load </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::load. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::load() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00334">334</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a3ca6f6284e09ac4853574a011d4bd649">dt_index_operations::dt_it_ops::load</a>, and <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>.</p>

</div>
</div>
<a class="anchor" id="ab5e478491758227d92ec261fdcec6d2c"></a><!-- doxytag: member="lod_object.c::lod_it_next" ref="ab5e478491758227d92ec261fdcec6d2c" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_it_next </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::next. </p>
<p>Used with regular (non-striped) objects</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::next() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00239">239</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>, and <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#aa41e28336a93af94d1c5e629d9394631">dt_index_operations::dt_it_ops::next</a>.</p>

</div>
</div>
<a class="anchor" id="ae6ecbf155e93d0dac28676f6764bc443"></a><!-- doxytag: member="lod_object.c::lod_it_put" ref="ae6ecbf155e93d0dac28676f6764bc443" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_it_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::put. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::put() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00224">224</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>, and <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a0a49bc42af0733f3a82dd0e8c6cbe1e5">dt_index_operations::dt_it_ops::put</a>.</p>

</div>
</div>
<a class="anchor" id="a81c4aa48a34e7e828fa88df45cf2cd01"></a><!-- doxytag: member="lod_object.c::lod_it_rec" ref="a81c4aa48a34e7e828fa88df45cf2cd01" args="(const struct lu_env *env, const struct dt_it *di, struct dt_rec *rec, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_it_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::rec. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::rec() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00285">285</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>, and <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a1b24018fcd837461771bb59a4d0c0d05">dt_index_operations::dt_it_ops::rec</a>.</p>

</div>
</div>
<a class="anchor" id="a1fed600b912f4d4f71075cbcf9960cc4"></a><!-- doxytag: member="lod_object.c::lod_it_rec_size" ref="a1fed600b912f4d4f71075cbcf9960cc4" args="(const struct lu_env *env, const struct dt_it *di, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_it_rec_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="osd__iam__lvar_8c.html#a0810c988b35adcf61dd4facece2d66d9">dt_it_ops::rec_size</a>. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="osd__iam__lvar_8c.html#a0810c988b35adcf61dd4facece2d66d9">dt_it_ops::rec_size()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00302">302</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>, and <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a5a85dfb5e79d606a1abba1c1fd9986cc">dt_index_operations::dt_it_ops::rec_size</a>.</p>

</div>
</div>
<a class="anchor" id="a80230685e8bdacc862e573d56552f591"></a><!-- doxytag: member="lod_object.c::lod_it_store" ref="a80230685e8bdacc862e573d56552f591" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> lod_it_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::store. </p>
<p>Used with regular (non-striped) objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::store() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00319">319</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__object_8c_source.html#l00176">LOD_CHECK_IT</a>, and <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a2966e2ef5ccc21df92b6a31b7c4a56f5">dt_index_operations::dt_it_ops::store</a>.</p>

</div>
</div>
<a class="anchor" id="a704f7166957c411a3a62b268f0f40f8b"></a><!-- doxytag: member="lod_object.c::lod_load_lmv_shards" ref="a704f7166957c411a3a62b268f0f40f8b" args="(const struct lu_env *env, struct lod_object *lo, struct lu_buf *buf, bool resize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lod_load_lmv_shards </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlod__object.html">lod_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>resize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Append the FID for each shard of the striped directory after the given LMV EA header. </p>
<p>To simplify striped directory and the consistency verification, we only store the LMV EA header on disk, for both master object and slave objects. When someone wants to know the whole LMV EA, such as client readdir(), we can build the entrie LMV EA on the MDT side (in RAM) via iterating the sub-directory entries that are contained in the master object of the stripe directory.</p>
<p>For the master object of the striped directroy, the valid name for each shard is composed of the ${shard_FID}:${shard_idx}.</p>
<p>There may be holes in the LMV EA if some shards' name entries are corrupted or lost.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lo</em>&nbsp;</td><td>pointer to the master object of the striped directory </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>pointer to the <a class="el" href="structlu__buf.html" title="Common buffer structure to be passed around for various xattr_{s,g}et() methods.">lu_buf</a> which will hold the LMV EA </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>resize</em>&nbsp;</td><td>whether re-allocate the buffer if it is not big enough</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>positive</em>&nbsp;</td><td>size of the LMV EA </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for nothing to be loaded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00776">776</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="lustre__idl_8h_source.html#l00772">fid_le_to_cpu()</a>, <a class="el" href="lustre__user_8h_source.html#l00546">FID_LEN</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a74b9db7e1791f6accf99c80a3a0c43e2">dt_index_operations::dt_it_ops::init</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lod__internal_8h_source.html#l00246">lod_object::ldo_obj</a>, <a class="el" href="byteorder_8h_source.html#l00054">le16_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__idl_8h_source.html#l02608">LMV_HASH_FLAG_MIGRATION</a>, <a class="el" href="lustre__idl_8h_source.html#l02582">lmv_mds_md_v1::lmv_hash_type</a>, <a class="el" href="lustre__idl_8h_source.html#l02577">lmv_mds_md_v1::lmv_magic</a>, <a class="el" href="lustre__idl_8h_source.html#l02596">LMV_MAGIC_V1</a>, <a class="el" href="lustre__idl_8h_source.html#l02658">lmv_mds_md_size()</a>, <a class="el" href="lustre__idl_8h_source.html#l02578">lmv_mds_md_v1::lmv_stripe_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02593">lmv_mds_md_v1::lmv_stripe_fids</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lod__internal_8h_source.html#l00331">lod2obd()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__internal_8h_source.html#l00175">lod_device::lod_lmv_failout</a>, <a class="el" href="lod__internal_8h_source.html#l00303">lod_thread_info::lti_key</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="lu__object_8c_source.html#l02351">lu_buf_alloc()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l00872">LUDA_64BITHASH</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="mdsrate_8c_source.html#l00129">stripes</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lod__lov_8c_source.html#l00988">lod_load_striping_locked()</a>, and <a class="el" href="lod__object_8c_source.html#l01267">lod_xattr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="aaaaf8054b4e0b5b38427b4e890a2c819"></a><!-- doxytag: member="lod_object.c::lod_lov_stripe_cache_clear" ref="aaaaf8054b4e0b5b38427b4e890a2c819" args="(struct lod_object *lo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_lov_stripe_cache_clear </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlod__object.html">lod_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resets cached default striping in the object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lo</em>&nbsp;</td><td>object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02112">2112</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lod__internal_8h_source.html#l00267">lod_object::ldo_def_stripe_size</a>, <a class="el" href="lod__internal_8h_source.html#l00268">lod_object::ldo_def_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_def_striping_cached</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_def_striping_set</a>, <a class="el" href="lod__internal_8h_source.html#l00270">lod_object::ldo_dir_stripe</a>, and <a class="el" href="lod__object_8c_source.html#l02868">lod_object_set_pool()</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03075">lod_ah_init()</a>, and <a class="el" href="lod__object_8c_source.html#l02233">lod_xattr_set_lov_on_dir()</a>.</p>

</div>
</div>
<a class="anchor" id="ae967556b8dbe3bdf02573a64196a8b28"></a><!-- doxytag: member="lod_object.c::lod_object_create" ref="ae967556b8dbe3bdf02573a64196a8b28" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#ac1ca5a81cd3d00bd821fbfead64022c3" title="Create new object.">dt_object_operations::do_create</a>. </p>
<p>If any of preceeding methods (like -&gt;do_declare_create(), -&gt;do_ah_init(), etc) chose to create a striped object, then this method will create the master and the stripes.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#ac1ca5a81cd3d00bd821fbfead64022c3" title="Create new object.">dt_object_operations::do_create()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03567">3567</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="structdt__object__format.html#a1360e65937447b79d2cf8985faf12984">dt_object_format::dof_reg</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__object_8c_source.html#l03530">lod_striping_create()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00166">lod_sub_object_create()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structdt__object__format.html#ab53de8222a0a448faf6fe773746a36ed">dt_object_format::u</a>.</p>

</div>
</div>
<a class="anchor" id="ab43337878d8c5f61b491a6813ad141c7"></a><!-- doxytag: member="lod_object.c::lod_object_destroy" ref="ab43337878d8c5f61b491a6813ad141c7" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a19ddd277003c24371f8c5771a2ba77bb" title="Destroy an object.">dt_object_operations::do_destroy</a>. </p>
<p>If the object is a striped directory, then the function removes references from the master object (this is an index) to the stripes and destroys all the stripes. In all the cases, the function destroys the object itself.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a19ddd277003c24371f8c5771a2ba77bb" title="Destroy an object.">dt_object_operations::do_destroy()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03679">3679</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="fail_8c_source.html#l00039">cfs_fail_val</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2">dt_object_operations::do_index_try</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="dt__object_8c_source.html#l00575">dt_directory_features</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00524">lod_sub_object_delete()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00381">lod_sub_object_destroy()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00310">lod_sub_object_ref_del()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00303">lod_thread_info::lti_key</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="md__object_8h_source.html#l00567">MOR_TGT_CHILD</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00543">OBD_FAIL_LFSCK_LOST_MDTOBJ</a>, <a class="el" href="obd__support_8h_source.html#l00547">OBD_FAIL_LFSCK_LOST_SPEOBJ</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a47881aa85073bf77556a4062df1b28a8"></a><!-- doxytag: member="lod_object.c::lod_object_free" ref="a47881aa85073bf77556a4062df1b28a8" args="(const struct lu_env *env, struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_object_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structlu__object__operations.html#a59cf8062ebe405ac01fdcab9d976eed3" title="Dual to lu_device_operations::ldo_object_alloc().">lu_object_operations::loo_object_free</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structlu__object__operations.html#a59cf8062ebe405ac01fdcab9d976eed3" title="Dual to lu_device_operations::ldo_object_alloc().">lu_object_operations::loo_object_free()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04222">4222</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lod__object_8c_source.html#l04168">lod_object_free_striping()</a>, <a class="el" href="lod__dev_8c_source.html#l00174">lod_object_kmem</a>, <a class="el" href="lod__object_8c_source.html#l02868">lod_object_set_pool()</a>, <a class="el" href="lod__internal_8h_source.html#l00342">lu2lod_obj()</a>, <a class="el" href="lu__object_8c_source.html#l01259">lu_object_fini()</a>, and <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>.</p>

</div>
</div>
<a class="anchor" id="a3bd90d51c3b31f70277187f7c1846d10"></a><!-- doxytag: member="lod_object.c::lod_object_free_striping" ref="a3bd90d51c3b31f70277187f7c1846d10" args="(const struct lu_env *env, struct lod_object *lo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lod_object_free_striping </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlod__object.html">lod_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release resources associated with striping. </p>
<p>If the object is striped (regular or directory), then release the stripe objects references and free the ldo_stripe array.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lo</em>&nbsp;</td><td>object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04168">4168</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00270">lod_object::ldo_dir_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00253">lod_object::ldo_pattern</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_stripes_allocated</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_striping_cached</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03337">lod_declare_striped_object()</a>, <a class="el" href="lod__object_8c_source.html#l01869">lod_declare_xattr_set_lmv()</a>, <a class="el" href="lod__lov_8c_source.html#l00636">lod_generate_and_set_lovea()</a>, <a class="el" href="lod__object_8c_source.html#l04222">lod_object_free()</a>, <a class="el" href="lod__object_8c_source.html#l01462">lod_parse_dir_striping()</a>, <a class="el" href="lod__object_8c_source.html#l02813">lod_xattr_del()</a>, and <a class="el" href="lod__object_8c_source.html#l02694">lod_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a718ffb4659817d62ce24448b210c1163"></a><!-- doxytag: member="lod_object.c::lod_object_init" ref="a718ffb4659817d62ce24448b210c1163" args="(const struct lu_env *env, struct lu_object *lo, const struct lu_object_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structlu__object__operations.html#a15b69dd7ca43e31bee4023da49fbb8a8" title="Allocate lower-layer parts of the object by calling lu_device_operations::ldo_object_alloc()...">lu_object_operations::loo_object_init</a>. </p>
<p>The function determines the type and the index of the target device using sequence of the object's FID. Then passes control down to the corresponding device: OSD for the local objects, OSP for remote</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structlu__object__operations.html#a15b69dd7ca43e31bee4023da49fbb8a8" title="Allocate lower-layer parts of the object by calling lu_device_operations::ldo_object_alloc()...">lu_object_operations::loo_object_init()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04095">4095</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="bitmap_8h_source.html#l00087">cfs_bitmap_check()</a>, <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="structlu__device__operations.html#a2d0d0803131da38c837d16ab6f979fb0">lu_device_operations::ldo_object_alloc</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00170">lod_device::lod_child</a>, <a class="el" href="lod__dev_8c_source.html#l00121">lod_fld_lookup()</a>, <a class="el" href="lod__lov_8c_source.html#l00055">lod_getref()</a>, <a class="el" href="lod__internal_8h_source.html#l00189">lod_device::lod_mdt_descs</a>, <a class="el" href="lod__internal_8h_source.html#l00187">lod_device::lod_ost_descs</a>, <a class="el" href="lod__lov_8c_source.html#l00073">lod_putref()</a>, <a class="el" href="lod__internal_8h_source.html#l00119">lod_tgt_desc::ltd_tgt</a>, <a class="el" href="lod__internal_8h_source.html#l00142">LTD_TGT</a>, <a class="el" href="lod__internal_8h_source.html#l00156">lod_tgt_descs::ltd_tgt_bitmap</a>, <a class="el" href="lod__internal_8h_source.html#l00152">lod_tgt_descs::ltd_tgts_size</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="lu__object_8c_source.html#l01292">lu_object_add()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l00168">LU_SEQ_RANGE_ANY</a>, <a class="el" href="lustre__idl_8h_source.html#l00166">LU_SEQ_RANGE_MDT</a>, <a class="el" href="lustre__idl_8h_source.html#l00167">LU_SEQ_RANGE_OST</a>, <a class="el" href="lu__object_8h_source.html#l00661">lu_site2seq()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a57558d2070914a690d67e6d26ce9b390"></a><!-- doxytag: member="lod_object.c::lod_object_lock" ref="a57558d2070914a690d67e6d26ce9b390" args="(const struct lu_env *env, struct dt_object *dt, struct lustre_handle *lh, struct ldlm_enqueue_info *einfo, union ldlm_policy_data *policy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>einfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a1f63b46e6b64b5c8ba9e81492e0c2f19" title="Lock object.">dt_object_operations::do_object_lock</a>. </p>
<p>Used to get LDLM lock on the non-striped and striped objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a1f63b46e6b64b5c8ba9e81492e0c2f19" title="Lock object.">dt_object_operations::do_object_lock()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03889">3889</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lustre__idl_8h_source.html#l01039">lustre_handle_array::count</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01990">dt_object_lock()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01101">ldlm_enqueue_info::ei_cb_cp</a>, <a class="el" href="lustre__dlm_8h_source.html#l01100">ldlm_enqueue_info::ei_cb_local_bl</a>, <a class="el" href="lustre__dlm_8h_source.html#l01103">ldlm_enqueue_info::ei_cbdata</a>, <a class="el" href="lustre__dlm_8h_source.html#l01105">ldlm_enqueue_info::ei_enq_slave</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l01104">ldlm_enqueue_info::ei_namespace</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l01040">lustre_handle_array::handles</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="ldlm__request_8c_source.html#l00415">ldlm_cli_enqueue_local()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00258">LDLM_FL_ATOMIC_CB</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00136">LDLM_FL_COS_INCOMPAT</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__lov_8c_source.html#l01067">lod_load_striping()</a>, <a class="el" href="lod__object_8c_source.html#l03820">lod_object_unlock_internal()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00301">lod_thread_info::lti_res_id</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00646">LVB_T_NONE</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a4816b5e63ba2333606756be1e4cd4930"></a><!-- doxytag: member="lod_object.c::lod_object_print" ref="a4816b5e63ba2333606756be1e4cd4930" args="(const struct lu_env *env, void *cookie, lu_printer_t p, const struct lu_object *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_print </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>l</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structlu__object__operations.html#acf091707006dc9d8d216351834d8d974" title="Optional debugging helper.">lu_object_operations::loo_object_print</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structlu__object__operations.html#acf091707006dc9d8d216351834d8d974" title="Optional debugging helper.">lu_object_operations::loo_object_print()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04256">4256</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lod__internal_8h_source.html#l00342">lu2lod_obj()</a>, and <a class="el" href="obd_8h_source.html#l00452">LUSTRE_LOD_NAME</a>.</p>

</div>
</div>
<a class="anchor" id="a45bc59c9576ff96f909af6a47f5f7445"></a><!-- doxytag: member="lod_object.c::lod_object_read_lock" ref="a45bc59c9576ff96f909af6a47f5f7445" args="(const struct lu_env *env, struct dt_object *dt, unsigned role)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_object_read_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>role</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a32a37f3abca0903ec9fa5c70b2b7a423" title="Get read lock on object.">dt_object_operations::do_read_lock</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a32a37f3abca0903ec9fa5c70b2b7a423" title="Get read lock on object.">dt_object_operations::do_read_lock()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00997">997</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="dt__object_8h_source.html#l02165">dt_read_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="acb403356d63e28e846d7127ee30fb320"></a><!-- doxytag: member="lod_object.c::lod_object_read_unlock" ref="acb403356d63e28e846d7127ee30fb320" args="(const struct lu_env *env, struct dt_object *dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_object_read_unlock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a5d68d191697e7964615a090f9896f7f5" title="Release read lock.">dt_object_operations::do_read_unlock</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a5d68d191697e7964615a090f9896f7f5" title="Release read lock.">dt_object_operations::do_read_unlock()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01021">1021</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="dt__object_8h_source.html#l02185">dt_read_unlock()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2a0c676accc6d8cb3c4b1e686b8c36a"></a><!-- doxytag: member="lod_object.c::lod_object_release" ref="ae2a0c676accc6d8cb3c4b1e686b8c36a" args="(const struct lu_env *env, struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_object_release </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structlu__object__operations.html#a4fa5d3edafc04a638d06465d57ebc20a" title="Called when last active reference to the object is released (and object returns to...">lu_object_operations::loo_object_release</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structlu__object__operations.html#a4fa5d3edafc04a638d06465d57ebc20a" title="Called when last active reference to the object is released (and object returns to...">lu_object_operations::loo_object_release()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04244">4244</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a68c7d3f3092e16b0fb25c8c90d02aa30"></a><!-- doxytag: member="lod_object.c::lod_object_replace_parent_fid" ref="a68c7d3f3092e16b0fb25c8c90d02aa30" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th, bool declare)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_replace_parent_fid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>declare</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset parent FID on OST object. </p>
<p>Replace parent FID with  object FID, which is only called during migration to reset the parent FID after the MDT object is migrated to the new MDT, i.e. the FID is changed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td><a class="el" href="structdt__object.html">dt_object</a> whose stripes's parent FID will be reset [in] th <a class="el" href="structthandle.html" title="This is the general purpose transaction handle.">thandle</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>declare</em>&nbsp;</td><td>if it is declare</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>if reset succeeds </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>errno if reset fais </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01987">1987</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02588">dt_xattr_get()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00147">lu_fid::f_oid</a>, <a class="el" href="lustre__user_8h_source.html#l00145">lu_fid::f_seq</a>, <a class="el" href="lustre__user_8h_source.html#l00167">filter_fid::ff_parent</a>, <a class="el" href="lustre__idl_8h_source.html#l00765">fid_cpu_to_le()</a>, <a class="el" href="lustre__idl_8h_source.html#l00772">fid_le_to_cpu()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__lov_8c_source.html#l00596">lod_ea_store_resize()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__lov_8c_source.html#l01067">lod_load_striping()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00561">lod_sub_object_declare_xattr_set()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00602">lod_sub_object_xattr_set()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00295">lod_thread_info::lti_buf</a>, <a class="el" href="lod__internal_8h_source.html#l00292">lod_thread_info::lti_ea_store</a>, <a class="el" href="lod__internal_8h_source.html#l00293">lod_thread_info::lti_ea_store_size</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lu__object_8h_source.html#l00909">LU_XATTR_REPLACE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01599">XATTR_NAME_FID</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02061">lod_declare_xattr_set()</a>, and <a class="el" href="lod__object_8c_source.html#l02694">lod_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a512c575080504425dbdbfd0b2db9765f"></a><!-- doxytag: member="lod_object.c::lod_object_set_pool" ref="a512c575080504425dbdbfd0b2db9765f" args="(struct lod_object *o, char *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lod_object_set_pool </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlod__object.html">lod_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>pool</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a pool the object belongs to. </p>
<p>When a striped object is being created, striping configuration may demand the stripes are allocated on a limited set of the targets. These limited sets are known as "pools". So we copy a pool name into the object and later actual creation methods (like <a class="el" href="lod__object_8c.html#ae967556b8dbe3bdf02573a64196a8b28" title="Implementation of dt_object_operations::do_create.">lod_object_create()</a>) will use this information to allocate the stripes properly.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>o</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pool</em>&nbsp;</td><td>pool name </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02868">2868</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lod__internal_8h_source.html#l00255">lod_object::ldo_pool</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, and <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03075">lod_ah_init()</a>, <a class="el" href="lod__object_8c_source.html#l02905">lod_cache_parent_lov_striping()</a>, <a class="el" href="lod__object_8c_source.html#l02112">lod_lov_stripe_cache_clear()</a>, <a class="el" href="lod__object_8c_source.html#l04222">lod_object_free()</a>, <a class="el" href="lod__lov_8c_source.html#l00927">lod_parse_striping()</a>, <a class="el" href="lod__qos_8c_source.html#l01696">lod_qos_parse_config()</a>, and <a class="el" href="lod__qos_8c_source.html#l01636">lod_use_defined_striping()</a>.</p>

</div>
</div>
<a class="anchor" id="a98112c3829efaedbc1a2ec2b5b864d21"></a><!-- doxytag: member="lod_object.c::lod_object_start" ref="a98112c3829efaedbc1a2ec2b5b864d21" args="(const struct lu_env *env, struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structlu__object__operations.html#ab362623fe2d30118add2f4552b37b494" title="Called (in top-to-bottom order) during object allocation after all layers were allocated...">lu_object_operations::loo_object_start</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structlu__object__operations.html#ab362623fe2d30118add2f4552b37b494" title="Called (in top-to-bottom order) during object allocation after all layers were allocated...">lu_object_operations::loo_object_start()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04201">4201</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01752">dt_object::do_body_ops</a>, <a class="el" href="lustre__idl_8h_source.html#l00467">fid_is_local_file()</a>, <a class="el" href="lod__internal_8h_source.html#l00246">lod_object::ldo_obj</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00342">lu2lod_obj()</a>, and <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f6a6878ef166365ee16f78213ec1d75"></a><!-- doxytag: member="lod_object.c::lod_object_sync" ref="a7f6a6878ef166365ee16f78213ec1d75" args="(const struct lu_env *env, struct dt_object *dt, __u64 start, __u64 end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_sync </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a2e3f3539d6ce344b27712d4b2f39d7b2" title="Sync obect.">dt_object_operations::do_object_sync</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a2e3f3539d6ce344b27712d4b2f39d7b2" title="Sync obect.">dt_object_operations::do_object_sync()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03800">3800</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="dt__object_8h_source.html#l02015">dt_object_sync()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ee35b598501738757d8041933fbc86c"></a><!-- doxytag: member="lod_object.c::lod_object_unlock" ref="a7ee35b598501738757d8041933fbc86c" args="(const struct lu_env *env, struct dt_object *dt, struct ldlm_enqueue_info *einfo, union ldlm_policy_data *policy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_unlock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>einfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a0cc597f75bd319af28376e8a280a6ae3" title="Unlock object.">dt_object_operations::do_object_unlock</a>. </p>
<p>Used to release LDLM lock(s).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a0cc597f75bd319af28376e8a280a6ae3" title="Unlock object.">dt_object_operations::do_object_unlock()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03850">3850</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01039">lustre_handle_array::count</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01103">ldlm_enqueue_info::ei_cbdata</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l01040">lustre_handle_array::handles</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a9bca35f68658ca5bdbc7d271fba59e76"></a><!-- doxytag: member="lod_object.c::lod_object_unlock_internal" ref="a9bca35f68658ca5bdbc7d271fba59e76" args="(const struct lu_env *env, struct dt_object *dt, struct ldlm_enqueue_info *einfo, union ldlm_policy_data *policy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_unlock_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>einfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release LDLM locks on the stripes of a striped directory. </p>
<p>Iterates over all the locks taken on the stripe objects and release them using -&gt;do_object_unlock() method.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>striped object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>einfo</em>&nbsp;</td><td>lock description </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>policy</em>&nbsp;</td><td>data describing requested lock</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03820">3820</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01039">lustre_handle_array::count</a>, <a class="el" href="lustre__dlm_8h_source.html#l01103">ldlm_enqueue_info::ei_cbdata</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l01040">lustre_handle_array::handles</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03889">lod_object_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a8299e9ba8ec91071d7c0e52f2df4aea5"></a><!-- doxytag: member="lod_object.c::lod_object_will_be_striped" ref="a8299e9ba8ec91071d7c0e52f2df4aea5" args="(int is_reg, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_will_be_striped </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02887">2887</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03075">lod_ah_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a8102abe84481a87e7d675d3808796ae0"></a><!-- doxytag: member="lod_object.c::lod_object_write_lock" ref="a8102abe84481a87e7d675d3808796ae0" args="(const struct lu_env *env, struct dt_object *dt, unsigned role)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_object_write_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>role</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a5bf582901eb4dcb781f03f02621535a2">dt_object_operations::do_write_lock</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a5bf582901eb4dcb781f03f02621535a2">dt_object_operations::do_write_lock()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01009">1009</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="aab23aa25cf724d5eb6a09d3546f7ffa8"></a><!-- doxytag: member="lod_object.c::lod_object_write_locked" ref="aab23aa25cf724d5eb6a09d3546f7ffa8" args="(const struct lu_env *env, struct dt_object *dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_object_write_locked </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a9072566fd18a198a7323439603b6fbdf" title="Check whether write lock is held.">dt_object_operations::do_write_locked</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a9072566fd18a198a7323439603b6fbdf" title="Check whether write lock is held.">dt_object_operations::do_write_locked()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01045">1045</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="dt__object_8h_source.html#l02203">dt_write_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="aa661fc0d2e2dbbc9ddf31f0651b520f8"></a><!-- doxytag: member="lod_object.c::lod_object_write_unlock" ref="aa661fc0d2e2dbbc9ddf31f0651b520f8" args="(const struct lu_env *env, struct dt_object *dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_object_write_unlock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#ad5346269fb80455252849f4fd7403720" title="Release write lock.">dt_object_operations::do_write_unlock</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#ad5346269fb80455252849f4fd7403720" title="Release write lock.">dt_object_operations::do_write_unlock()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01033">1033</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a7620fcaabad269124cea08babc83e70a"></a><!-- doxytag: member="lod_object.c::lod_parse_dir_striping" ref="a7620fcaabad269124cea08babc83e70a" args="(const struct lu_env *env, struct lod_object *lo, const struct lu_buf *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lod_parse_dir_striping </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlod__object.html">lod_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create in-core represenation for a striped directory. </p>
<p>Parse the buffer containing LMV EA and instantiate LU objects representing the stripe objects. The pointers to the objects are stored in ldo_stripe field of <em>lo</em>. This function is used when we need to access an already created object (i.e. load from a disk).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lo</em>&nbsp;</td><td>lod object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>buffer containing LMV EA</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01462">1462</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00236">dt_locate_at()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__idl_8h_source.html#l00772">fid_le_to_cpu()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_dir_slave_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00246">lod_object::ldo_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_stripes_allocated</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__idl_8h_source.html#l02608">LMV_HASH_FLAG_MIGRATION</a>, <a class="el" href="lustre__idl_8h_source.html#l02582">lmv_mds_md_v1::lmv_hash_type</a>, <a class="el" href="lustre__idl_8h_source.html#l02577">lmv_mds_md_v1::lmv_magic</a>, <a class="el" href="lustre__idl_8h_source.html#l02600">LMV_MAGIC_STRIPE</a>, <a class="el" href="lustre__idl_8h_source.html#l02596">LMV_MAGIC_V1</a>, <a class="el" href="lustre__idl_8h_source.html#l02654">lmv_mds_md::lmv_md_v1</a>, <a class="el" href="lustre__idl_8h_source.html#l02578">lmv_mds_md_v1::lmv_stripe_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02593">lmv_mds_md_v1::lmv_stripe_fids</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lod__internal_8h_source.html#l00326">lod2lu_dev()</a>, <a class="el" href="lod__internal_8h_source.html#l00170">lod_device::lod_child</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__dev_8c_source.html#l00121">lod_fld_lookup()</a>, <a class="el" href="lod__internal_8h_source.html#l00189">lod_device::lod_mdt_descs</a>, <a class="el" href="lod__object_8c_source.html#l04168">lod_object_free_striping()</a>, <a class="el" href="lu__object_8h_source.html#l00619">lu_site::ls_top_dev</a>, <a class="el" href="lod__internal_8h_source.html#l00119">lod_tgt_desc::ltd_tgt</a>, <a class="el" href="lod__internal_8h_source.html#l00142">LTD_TGT</a>, <a class="el" href="lod__internal_8h_source.html#l00297">lod_thread_info::lti_fid</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="lustre__idl_8h_source.html#l00168">LU_SEQ_RANGE_ANY</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__lov_8c_source.html#l00988">lod_load_striping_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a23349f9ac65d2253f7f0f33ab0d02949"></a><!-- doxytag: member="lod_object.c::lod_prep_lmv_md" ref="a23349f9ac65d2253f7f0f33ab0d02949" args="(const struct lu_env *env, struct dt_object *dt, struct lu_buf *lmv_buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_prep_lmv_md </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>lmv_buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generate LMV EA. </p>
<p>Generate LMV EA from the object passed as <em>dt</em>. The object must have the stripes created and initialized.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>lmv_buf</em>&nbsp;</td><td>buffer storing generated LMV EA</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01406">1406</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lustre__idl_8h_source.html#l02582">lmv_mds_md_v1::lmv_hash_type</a>, <a class="el" href="lustre__idl_8h_source.html#l02597">LMV_MAGIC</a>, <a class="el" href="lustre__idl_8h_source.html#l02577">lmv_mds_md_v1::lmv_magic</a>, <a class="el" href="lustre__idl_8h_source.html#l02579">lmv_mds_md_v1::lmv_master_mdt_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02578">lmv_mds_md_v1::lmv_stripe_count</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__lov_8c_source.html#l00596">lod_ea_store_resize()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__dev_8c_source.html#l00121">lod_fld_lookup()</a>, <a class="el" href="lod__internal_8h_source.html#l00292">lod_thread_info::lti_ea_store</a>, <a class="el" href="lod__internal_8h_source.html#l00293">lod_thread_info::lti_ea_store_size</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l00168">LU_SEQ_RANGE_ANY</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l01558">lod_dir_declare_create_stripes()</a>, and <a class="el" href="lod__object_8c_source.html#l02365">lod_xattr_set_lmv()</a>.</p>

</div>
</div>
<a class="anchor" id="a356987a4c28c099e25995e0feb0315e1"></a><!-- doxytag: member="lod_object.c::lod_prep_md_striped_create" ref="a356987a4c28c099e25995e0feb0315e1" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, const struct lmv_user_md_v1 *lum, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_prep_md_striped_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlmv__user__md__v1.html">lmv_user_md_v1</a> *&nbsp;</td>
          <td class="paramname"> <em>lum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01691">1691</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="bitmap_8h_source.html#l00087">cfs_bitmap_check()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00236">dt_locate_at()</a>, <a class="el" href="dt__object_8h_source.html#l02437">dt_statfs()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_stripes_allocated</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lustre__user_8h_source.html#l00343">LMV_USER_MAGIC</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00171">LOC_F_NEW</a>, <a class="el" href="lu__object_8h_source.html#l00187">lu_object_conf::loc_flags</a>, <a class="el" href="lod__internal_8h_source.html#l00326">lod2lu_dev()</a>, <a class="el" href="lod__internal_8h_source.html#l00331">lod2obd()</a>, <a class="el" href="lod__internal_8h_source.html#l00170">lod_device::lod_child</a>, <a class="el" href="lod__internal_8h_source.html#l00169">lod_device::lod_child_exp</a>, <a class="el" href="lod__object_8c_source.html#l01558">lod_dir_declare_create_stripes()</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00189">lod_device::lod_mdt_descs</a>, <a class="el" href="lu__object_8h_source.html#l00619">lu_site::ls_top_dev</a>, <a class="el" href="lod__internal_8h_source.html#l00121">lod_tgt_desc::ltd_exp</a>, <a class="el" href="lod__internal_8h_source.html#l00119">lod_tgt_desc::ltd_tgt</a>, <a class="el" href="lod__internal_8h_source.html#l00142">LTD_TGT</a>, <a class="el" href="lod__internal_8h_source.html#l00156">lod_tgt_descs::ltd_tgt_bitmap</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__object_8h_source.html#l00661">lu_site2seq()</a>, <a class="el" href="lustre__user_8h_source.html#l00460">lmv_user_md_v1::lum_magic</a>, <a class="el" href="lustre__user_8h_source.html#l00461">lmv_user_md_v1::lum_stripe_count</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00574">OBD_FAIL_LARGE_STRIPE</a>, <a class="el" href="obd__class_8h_source.html#l00879">obd_fid_alloc()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__fid_8h_source.html#l00454">seq_server_site::ss_node_id</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l01869">lod_declare_xattr_set_lmv()</a>.</p>

</div>
</div>
<a class="anchor" id="a3803396cb1a6e1757219802936bcdf8c"></a><!-- doxytag: member="lod_object.c::lod_prep_slave_lmv_md" ref="a3803396cb1a6e1757219802936bcdf8c" args="(struct lmv_mds_md_v1 *slave_lmv, const struct lmv_mds_md_v1 *master_lmv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_prep_slave_lmv_md </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlmv__mds__md__v1.html">lmv_mds_md_v1</a> *&nbsp;</td>
          <td class="paramname"> <em>slave_lmv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlmv__mds__md__v1.html">lmv_mds_md_v1</a> *&nbsp;</td>
          <td class="paramname"> <em>master_lmv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize LMV EA for a slave. </p>
<p>Initialize slave's LMV EA from the master's LMV EA.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>master_lmv</em>&nbsp;</td><td>a buffer containing master's EA </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>slave_lmv</em>&nbsp;</td><td>a buffer where slave's EA will be stored </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01386">1386</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="lustre__idl_8h_source.html#l02577">lmv_mds_md_v1::lmv_magic</a>, and <a class="el" href="lustre__idl_8h_source.html#l02600">LMV_MAGIC_STRIPE</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l01558">lod_dir_declare_create_stripes()</a>, and <a class="el" href="lod__object_8c_source.html#l02365">lod_xattr_set_lmv()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a992349559286981963a864e4888367"></a><!-- doxytag: member="lod_object.c::lod_punch" ref="a8a992349559286981963a864e4888367" args="(const struct lu_env *env, struct dt_object *dt, __u64 start, __u64 end, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_punch </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04061">4061</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00913">lod_sub_object_punch()</a>.</p>

</div>
</div>
<a class="anchor" id="a56d64b765a54bc0101a7caa2226ae643"></a><!-- doxytag: member="lod_object.c::lod_read" ref="a56d64b765a54bc0101a7caa2226ae643" args="(const struct lu_env *env, struct dt_object *dt, struct lu_buf *buf, loff_t *pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lod_read </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>pos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__body__operations.html#a6d7a363128fd4899b709b2ff18afd54c" title="Read data.">dt_body_operations::dbo_read</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__body__operations.html#a6d7a363128fd4899b709b2ff18afd54c" title="Read data.">dt_body_operations::dbo_read()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04017">4017</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__body__operations.html#a6d7a363128fd4899b709b2ff18afd54c">dt_body_operations::dbo_read</a>, <a class="el" href="dt__object_8h_source.html#l01752">dt_object::do_body_ops</a>, and <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>.</p>

</div>
</div>
<a class="anchor" id="a419659d1d2420f926071f0611fde7734"></a><!-- doxytag: member="lod_object.c::lod_ref_add" ref="a419659d1d2420f926071f0611fde7734" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_ref_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a3ea43d6a7abb742fb238acc711b3bd2b" title="Increment nlink.">dt_object_operations::do_ref_add</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a3ea43d6a7abb742fb238acc711b3bd2b" title="Increment nlink.">dt_object_operations::do_ref_add()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03765">3765</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00240">lod_sub_object_ref_add()</a>.</p>

</div>
</div>
<a class="anchor" id="a4e62d48055f9d36f80ff12213a8508ff"></a><!-- doxytag: member="lod_object.c::lod_ref_del" ref="a4e62d48055f9d36f80ff12213a8508ff" args="(const struct lu_env *env, struct dt_object *dt, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_ref_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a8d0abf79c5dace1f0839aefe251bfc1f" title="Decrement nlink.">dt_object_operations::do_ref_del</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a8d0abf79c5dace1f0839aefe251bfc1f" title="Decrement nlink.">dt_object_operations::do_ref_del()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03788">3788</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00310">lod_sub_object_ref_del()</a>.</p>

</div>
</div>
<a class="anchor" id="aa635b927f8e7b426a3a08cf1bbf8a88f"></a><!-- doxytag: member="lod_object.c::lod_striped_it_fini" ref="aa635b927f8e7b426a3a08cf1bbf8a88f" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_striped_it_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::fini. </p>
<p>Used with striped objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::fini() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00437">437</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a9bde98040f4ba4fd69f69aa73c606cdd">dt_index_operations::dt_it_ops::fini</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, and <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b3a7aef7ab714547ceb9d8190003eac"></a><!-- doxytag: member="lod_object.c::lod_striped_it_get" ref="a3b3a7aef7ab714547ceb9d8190003eac" args="(const struct lu_env *env, struct dt_it *di, const struct dt_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_striped_it_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::get. </p>
<p>Right now it's not used widely, only to reset the iterator to the initial position. It should be possible to implement a full version which chooses a correct stripe to be able to position with any key.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::get() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00470">470</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a6f4864859efe4a643b4597f0fb87f229">dt_index_operations::dt_it_ops::get</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, and <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a47d3734c1a35743508289640565afefe"></a><!-- doxytag: member="lod_object.c::lod_striped_it_init" ref="a47d3734c1a35743508289640565afefe" args="(const struct lu_env *env, struct dt_object *dt, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct dt_it* lod_striped_it_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::init. </p>
<p>Used with striped objects. Internally just initializes the iterator on the first stripe.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::init() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00390">390</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a74b9db7e1791f6accf99c80a3a0c43e2">dt_index_operations::dt_it_ops::init</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00286">lod_it::lit_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, and <a class="el" href="lod__internal_8h_source.html#l00300">lod_thread_info::lti_it</a>.</p>

</div>
</div>
<a class="anchor" id="a2f875717b9df2bea96d55b1a79562d77"></a><!-- doxytag: member="lod_object.c::lod_striped_it_key" ref="a2f875717b9df2bea96d55b1a79562d77" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="dt__object_8c.html#aa088e3c821ba20ee0bd6bad2f8ece91c">dt_key</a>* lod_striped_it_key </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::key. </p>
<p>Used with striped objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::key() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00598">598</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a426dff3fc53f2cfed2fe22713d990ddc">dt_index_operations::dt_it_ops::key</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, and <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a91f6ea9ae7ccd75116df82c6715c365c"></a><!-- doxytag: member="lod_object.c::lod_striped_it_key_size" ref="a91f6ea9ae7ccd75116df82c6715c365c" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_striped_it_key_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::key_size. </p>
<p>Used with striped objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="lp__utils_8h.html#a439227feff9d7f55384e8780cfc2eb82">dt_it_ops::size()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00621">621</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a0e2180d888668bf163ebf81fd27dc857">dt_index_operations::dt_it_ops::key_size</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, and <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a290be77b22b4f01efda9ad309ff6e1"></a><!-- doxytag: member="lod_object.c::lod_striped_it_load" ref="a3a290be77b22b4f01efda9ad309ff6e1" args="(const struct lu_env *env, const struct dt_it *di, __u64 hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_striped_it_load </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::load. </p>
<p>Used with striped objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::load() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00713">713</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a3ca6f6284e09ac4853574a011d4bd649">dt_index_operations::dt_it_ops::load</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, and <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a48a5b0b624fd3aef1f6fb77f3a59ce9e"></a><!-- doxytag: member="lod_object.c::lod_striped_it_next" ref="a48a5b0b624fd3aef1f6fb77f3a59ce9e" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_striped_it_next </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::next. </p>
<p>Used with striped objects. When the end of the current stripe is reached, the method takes the next stripe's iterator.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::next() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00517">517</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2">dt_object_operations::do_index_try</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="dt__object_8c_source.html#l00575">dt_directory_features</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a9bde98040f4ba4fd69f69aa73c606cdd">dt_index_operations::dt_it_ops::fini</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a74b9db7e1791f6accf99c80a3a0c43e2">dt_index_operations::dt_it_ops::init</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="byteorder_8h_source.html#l00054">le16_to_cpu</a>, <a class="el" href="lod__internal_8h_source.html#l00286">lod_it::lit_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__internal_8h_source.html#l00303">lod_thread_info::lti_key</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#aa41e28336a93af94d1c5e629d9394631">dt_index_operations::dt_it_ops::next</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a0a49bc42af0733f3a82dd0e8c6cbe1e5">dt_index_operations::dt_it_ops::put</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a1b24018fcd837461771bb59a4d0c0d05">dt_index_operations::dt_it_ops::rec</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="aa91a0164449133a668ead9940de2d082"></a><!-- doxytag: member="lod_object.c::lod_striped_it_put" ref="aa91a0164449133a668ead9940de2d082" args="(const struct lu_env *env, struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lod_striped_it_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::put. </p>
<p>Used with striped objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::put() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00494">494</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, and <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a0a49bc42af0733f3a82dd0e8c6cbe1e5">dt_index_operations::dt_it_ops::put</a>.</p>

</div>
</div>
<a class="anchor" id="a14a0dea016aa4f721b281c025c8565bb"></a><!-- doxytag: member="lod_object.c::lod_striped_it_rec" ref="a14a0dea016aa4f721b281c025c8565bb" args="(const struct lu_env *env, const struct dt_it *di, struct dt_rec *rec, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_striped_it_rec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dt_rec *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::rec. </p>
<p>Used with striped objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::rec() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00644">644</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, and <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a1b24018fcd837461771bb59a4d0c0d05">dt_index_operations::dt_it_ops::rec</a>.</p>

</div>
</div>
<a class="anchor" id="a59844f9e963382d31144bf4c640a7e68"></a><!-- doxytag: member="lod_object.c::lod_striped_it_rec_size" ref="a59844f9e963382d31144bf4c640a7e68" args="(const struct lu_env *env, const struct dt_it *di, __u32 attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_striped_it_rec_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="osd__iam__lvar_8c.html#a0810c988b35adcf61dd4facece2d66d9">dt_it_ops::rec_size</a>. </p>
<p>Used with striped objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="osd__iam__lvar_8c.html#a0810c988b35adcf61dd4facece2d66d9">dt_it_ops::rec_size()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00667">667</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, and <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a5a85dfb5e79d606a1abba1c1fd9986cc">dt_index_operations::dt_it_ops::rec_size</a>.</p>

</div>
</div>
<a class="anchor" id="a35cdb66df1329b888f3ba63e17ed2545"></a><!-- doxytag: member="lod_object.c::lod_striped_it_store" ref="a35cdb66df1329b888f3ba63e17ed2545" args="(const struct lu_env *env, const struct dt_it *di)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> lod_striped_it_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct dt_it *&nbsp;</td>
          <td class="paramname"> <em>di</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of dt_it_ops::store. </p>
<p>Used with striped objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>dt_it_ops::store() in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00690">690</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00287">lod_it::lit_it</a>, <a class="el" href="lod__internal_8h_source.html#l00283">lod_it::lit_obj</a>, <a class="el" href="lod__internal_8h_source.html#l00285">lod_it::lit_stripe_index</a>, <a class="el" href="lod__object_8c_source.html#l00422">LOD_CHECK_STRIPED_IT</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, and <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a2966e2ef5ccc21df92b6a31b7c4a56f5">dt_index_operations::dt_it_ops::store</a>.</p>

</div>
</div>
<a class="anchor" id="ab4f6d91acb376f565220d7c804f1a230"></a><!-- doxytag: member="lod_object.c::lod_striping_create" ref="ab4f6d91acb376f565220d7c804f1a230" args="(const struct lu_env *env, struct dt_object *dt, struct lu_attr *attr, struct dt_object_format *dof, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lod_striping_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creation of a striped regular object. </p>
<p>The function is called to create the stripe objects for a regular striped file. This can happen at the initial object creation or when the caller asks LOD to do so using -&gt;do_xattr_set() method (so called late striping). Notice all the information are already prepared in the form of the list of objects (ldo_stripe field). This is done during declare phase.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attr</em>&nbsp;</td><td>attributes the stripes will be created with </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dof</em>&nbsp;</td><td>format of stripes (see OSD API description) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03530">3530</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lod__internal_8h_source.html#l00260">lod_object::ldo_striping_cached</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__lov_8c_source.html#l00636">lod_generate_and_set_lovea()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00166">lod_sub_object_create()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03567">lod_object_create()</a>, and <a class="el" href="lod__object_8c_source.html#l02694">lod_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ae62897e1282c6d4c339aa8b8e5badfc3"></a><!-- doxytag: member="lod_object.c::lod_verify_md_striping" ref="ae62897e1282c6d4c339aa8b8e5badfc3" args="(struct lod_device *lod, const struct lmv_user_md_v1 *lum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_verify_md_striping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlod__device.html">lod_device</a> *&nbsp;</td>
          <td class="paramname"> <em>lod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlmv__user__md__v1.html">lmv_user_md_v1</a> *&nbsp;</td>
          <td class="paramname"> <em>lum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify LVM EA. </p>
<p>Checks that the magic of the stripe is sane.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lod</em>&nbsp;</td><td>lod device </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lum</em>&nbsp;</td><td>a buffer storing LMV EA to verify</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>if the EA is sane </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>otherwise </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01362">1362</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__user_8h_source.html#l00343">LMV_USER_MAGIC</a>, <a class="el" href="lod__internal_8h_source.html#l00331">lod2obd()</a>, <a class="el" href="lustre__user_8h_source.html#l00460">lmv_user_md_v1::lum_magic</a>, <a class="el" href="lustre__user_8h_source.html#l00461">lmv_user_md_v1::lum_stripe_count</a>, <a class="el" href="lustre__user_8h_source.html#l00462">lmv_user_md_v1::lum_stripe_offset</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03075">lod_ah_init()</a>, <a class="el" href="lod__object_8c_source.html#l01869">lod_declare_xattr_set_lmv()</a>, and <a class="el" href="lod__object_8c_source.html#l01918">lod_dir_declare_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ae5c04a5959762ed9d436f587c49a60c8"></a><!-- doxytag: member="lod_object.c::lod_write" ref="ae5c04a5959762ed9d436f587c49a60c8" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, loff_t *pos, struct thandle *th, int iq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lod_write </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__body__operations.html#a1d14bb3445892ab680cd8885645334bb" title="Write unstructured data to regular existing object.">dt_body_operations::dbo_write</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__body__operations.html#a1d14bb3445892ab680cd8885645334bb" title="Write unstructured data to regular existing object.">dt_body_operations::dbo_write()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04044">4044</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="lod__sub__object_8c_source.html#l00835">lod_sub_object_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a2a8581df9ebcb779d798185aea25ed"></a><!-- doxytag: member="lod_object.c::lod_xattr_del" ref="a0a2a8581df9ebcb779d798185aea25ed" args="(const struct lu_env *env, struct dt_object *dt, const char *name, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_xattr_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a19762fb1d9e75136521019d51759b6ec" title="Delete an extended attribute.">dt_object_operations::do_xattr_del</a>. </p>
<p>If EA storing a regular striping is being deleted, then release all the references to the stripe objects in core.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a19762fb1d9e75136521019d51759b6ec" title="Delete an extended attribute.">dt_object_operations::do_xattr_del()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02813">2813</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__object_8c_source.html#l04168">lod_object_free_striping()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00755">lod_sub_object_xattr_del()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

</div>
</div>
<a class="anchor" id="acf8e1ebaea3ca441af1278b6634a1f17"></a><!-- doxytag: member="lod_object.c::lod_xattr_del_internal" ref="acf8e1ebaea3ca441af1278b6634a1f17" args="(const struct lu_env *env, struct dt_object *dt, const char *name, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_xattr_del_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete an extended attribute. </p>
<p>Deletes specified xattr from the object and the stripes if the latter exist.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>name of xattr </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02186">2186</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00755">lod_sub_object_xattr_del()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02305">lod_xattr_set_default_lmv_on_dir()</a>, and <a class="el" href="lod__object_8c_source.html#l02233">lod_xattr_set_lov_on_dir()</a>.</p>

</div>
</div>
<a class="anchor" id="af3fc3c97d29defbbb1ccf75543491bc5"></a><!-- doxytag: member="lod_object.c::lod_xattr_get" ref="af3fc3c97d29defbbb1ccf75543491bc5" args="(const struct lu_env *env, struct dt_object *dt, struct lu_buf *buf, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_xattr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#af4c8c504e52a5571dbd0557980c3818a" title="Return a value of an extended attribute.">dt_object_operations::do_xattr_get</a>. </p>
<p>If LOV EA is requested from the root object and it's not found, then return default striping for the filesystem.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#af4c8c504e52a5571dbd0557980c3818a" title="Return a value of an extended attribute.">dt_object_operations::do_xattr_get()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l01267">1267</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="byteorder_8h_source.html#l00055">cpu_to_le16</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l02446">dt_root_get()</a>, <a class="el" href="dt__object_8h_source.html#l02588">dt_xattr_get()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00313">FID_SEQ_LOV_DEFAULT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__idl_8h_source.html#l02749">lov_desc::ld_default_stripe_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02752">lov_desc::ld_default_stripe_offset</a>, <a class="el" href="lustre__idl_8h_source.html#l02751">lov_desc::ld_default_stripe_size</a>, <a class="el" href="lustre__idl_8h_source.html#l02750">lov_desc::ld_pattern</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__idl_8h_source.html#l01572">lmm_oi_cpu_to_le()</a>, <a class="el" href="lustre__idl_8h_source.html#l01550">lmm_oi_set_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l01545">lmm_oi_set_seq()</a>, <a class="el" href="lustre__idl_8h_source.html#l02577">lmv_mds_md_v1::lmv_magic</a>, <a class="el" href="lustre__idl_8h_source.html#l02596">LMV_MAGIC_V1</a>, <a class="el" href="lustre__idl_8h_source.html#l02658">lmv_mds_md_size()</a>, <a class="el" href="lustre__idl_8h_source.html#l02578">lmv_mds_md_v1::lmv_stripe_count</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00170">lod_device::lod_child</a>, <a class="el" href="lod__internal_8h_source.html#l00181">lod_device::lod_desc</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__object_8c_source.html#l00776">lod_load_lmv_shards()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lustre__user_8h_source.html#l00336">LOV_USER_MAGIC_V1</a>, <a class="el" href="lustre__user_8h_source.html#l00383">lov_user_md</a>, <a class="el" href="lod__internal_8h_source.html#l00295">lod_thread_info::lti_buf</a>, <a class="el" href="lod__internal_8h_source.html#l00297">lod_thread_info::lti_fid</a>, <a class="el" href="lod__internal_8h_source.html#l00303">lod_thread_info::lti_key</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

</div>
</div>
<a class="anchor" id="a973cbd1826bf8e8987b7fb26170d4aee"></a><!-- doxytag: member="lod_object.c::lod_xattr_list" ref="a973cbd1826bf8e8987b7fb26170d4aee" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_xattr_list </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a0ace7a9f2e3ae94bb5d5b7434917f0f1" title="Return a list of the extended attributes.">dt_object_operations::do_xattr_list</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a0ace7a9f2e3ae94bb5d5b7434917f0f1" title="Return a list of the extended attributes.">dt_object_operations::do_xattr_list()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02849">2849</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, and <a class="el" href="dt__object_8h_source.html#l02602">dt_xattr_list()</a>.</p>

</div>
</div>
<a class="anchor" id="a47cb51fd5e9bd25bdf12b1026f6efd95"></a><!-- doxytag: member="lod_object.c::lod_xattr_set" ref="a47cb51fd5e9bd25bdf12b1026f6efd95" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_xattr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structdt__object__operations.html#a231db7d512a5786b8ad887e9fc47190b" title="Set an extended attribute.">dt_object_operations::do_xattr_set</a>. </p>
<p>Sets specified extended attribute on the object. Three types of EAs are special: LOV EA - stores striping for a regular file or default striping (when set on a directory) LMV EA - stores a marker for the striped directories DMV EA - stores default directory striping</p>
<p>When striping is applied to a non-striped existing object (this is called late striping), then LOD notices the caller wants to turn the object into a striped one. The stripe objects are created and appropriate EA is set: LOV EA storing all the stripes directly or LMV EA storing just a small header with striping configuration.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structdt__object__operations.html#a231db7d512a5786b8ad887e9fc47190b" title="Set an extended attribute.">dt_object_operations::do_xattr_set()</a> in the API description for details. </dd></dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02694">2694</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__idl_8h_source.html#l02608">LMV_HASH_FLAG_MIGRATION</a>, <a class="el" href="lustre__idl_8h_source.html#l02582">lmv_mds_md_v1::lmv_hash_type</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__object_8c_source.html#l02660">lod_dir_striping_create()</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__object_8c_source.html#l04168">lod_object_free_striping()</a>, <a class="el" href="lod__object_8c_source.html#l01987">lod_object_replace_parent_fid()</a>, <a class="el" href="lod__object_8c_source.html#l03530">lod_striping_create()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00602">lod_sub_object_xattr_set()</a>, <a class="el" href="lod__object_8c_source.html#l02305">lod_xattr_set_default_lmv_on_dir()</a>, <a class="el" href="lod__object_8c_source.html#l02138">lod_xattr_set_internal()</a>, <a class="el" href="lod__object_8c_source.html#l02233">lod_xattr_set_lov_on_dir()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lu__object_8h_source.html#l00909">LU_XATTR_REPLACE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l01597">XATTR_NAME_DEFAULT_LMV</a>, <a class="el" href="lustre__idl_8h_source.html#l01599">XATTR_NAME_FID</a>, <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

</div>
</div>
<a class="anchor" id="a43135eeb36023d7ed5b5a80df0c02b79"></a><!-- doxytag: member="lod_object.c::lod_xattr_set_default_lmv_on_dir" ref="a43135eeb36023d7ed5b5a80df0c02b79" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_xattr_set_default_lmv_on_dir </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set default striping on a directory object. </p>
<p>Sets specified striping on a directory object unless it matches the default striping (<a class="el" href="lod__internal_8h.html#aa30f202d795375205a76f9715c43084a">LOVEA_DELETE_VALUES()</a> macro). In the latter case remove existing EA. This striping will be used when a new directory is being created in the directory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>the striped object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>buffer with the striping </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>name of EA </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fl</em>&nbsp;</td><td>xattr flag (see OSD API description) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02305">2305</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00141">D_OTHER</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lod__internal_8h_source.html#l00270">lod_object::ldo_dir_stripe</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="lustre__user_8h_source.html#l00343">LMV_USER_MAGIC</a>, <a class="el" href="lod__internal_8h_source.html#l00054">LMVEA_DELETE_VALUES</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__object_8c_source.html#l02186">lod_xattr_del_internal()</a>, <a class="el" href="lod__object_8c_source.html#l02138">lod_xattr_set_internal()</a>, <a class="el" href="lustre__user_8h_source.html#l00460">lmv_user_md_v1::lum_magic</a>, <a class="el" href="lustre__user_8h_source.html#l00461">lmv_user_md_v1::lum_stripe_count</a>, <a class="el" href="lustre__user_8h_source.html#l00462">lmv_user_md_v1::lum_stripe_offset</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02531">lod_dir_striping_create_internal()</a>, and <a class="el" href="lod__object_8c_source.html#l02694">lod_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ae4744538c28ebb773b0969e973771023"></a><!-- doxytag: member="lod_object.c::lod_xattr_set_internal" ref="ae4744538c28ebb773b0969e973771023" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_xattr_set_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Apply xattr changes to the object. </p>
<p>Applies xattr changes to the object and the stripes if the latter exist.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>buffer pointing to the new value of xattr </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>name of xattr </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fl</em>&nbsp;</td><td>flags </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02138">2138</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00602">lod_sub_object_xattr_set()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02694">lod_xattr_set()</a>, <a class="el" href="lod__object_8c_source.html#l02305">lod_xattr_set_default_lmv_on_dir()</a>, and <a class="el" href="lod__object_8c_source.html#l02233">lod_xattr_set_lov_on_dir()</a>.</p>

</div>
</div>
<a class="anchor" id="a793eff1f837b4c9c23b77a37871b0616"></a><!-- doxytag: member="lod_object.c::lod_xattr_set_lmv" ref="a793eff1f837b4c9c23b77a37871b0616" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_xattr_set_lmv </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Turn directory into a striped directory. </p>
<p>During replay the client sends the striping created before MDT failure, then the layer above LOD sends this defined striping using -&gt;do_xattr_set(), so LOD uses this method to replay creation of the stripes. Notice the original information for the striping (<a class="el" href="mdsrate_8c.html#ad772c21043d0158114c40cad5c2f3d4c">stripes</a>, FIDs, etc) was transferred in declare path.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>the striped object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>not used currently </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>not used currently </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fl</em>&nbsp;</td><td>xattr flag (see OSD API description) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02365">2365</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="fail_8c_source.html#l00039">cfs_fail_val</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l00382">DFT_DIR</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l00396">dt_object_format::dof_type</a>, <a class="el" href="lfsck__lib_8c_source.html#l00542">dot</a>, <a class="el" href="lfsck__lib_8c_source.html#l00543">dotdot</a>, <a class="el" href="dt__object_8h_source.html#l02225">dt_attr_get()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l01806">dt_object_child()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00444">LA_ATIME</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00452">LA_TYPE</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00040">linkea_data::ld_leh</a>, <a class="el" href="lod__internal_8h_source.html#l00256">lod_object::ldo_stripe</a>, <a class="el" href="lod__internal_8h_source.html#l00250">lod_object::ldo_stripenr</a>, <a class="el" href="lustre__idl_8h_source.html#l03675">link_ea_header::leh_len</a>, <a class="el" href="linkea_8c_source.html#l00113">linkea_add_buf()</a>, <a class="el" href="linkea_8c_source.html#l00034">linkea_data_new()</a>, <a class="el" href="lustre__idl_8h_source.html#l02579">lmv_mds_md_v1::lmv_master_mdt_index</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__internal_8h_source.html#l00372">lod_env_info()</a>, <a class="el" href="lod__internal_8h_source.html#l00381">lod_name_get()</a>, <a class="el" href="lod__object_8c_source.html#l01406">lod_prep_lmv_md()</a>, <a class="el" href="lod__object_8c_source.html#l01386">lod_prep_slave_lmv_md()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00166">lod_sub_object_create()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00455">lod_sub_object_index_insert()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00240">lod_sub_object_ref_add()</a>, <a class="el" href="lod__sub__object_8c_source.html#l00602">lod_sub_object_xattr_set()</a>, <a class="el" href="lu__object_8h_source.html#l00539">lu_object_header::loh_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00299">lod_thread_info::lti_attr</a>, <a class="el" href="lod__internal_8h_source.html#l00307">lod_thread_info::lti_dt_rec</a>, <a class="el" href="lod__internal_8h_source.html#l00304">lod_thread_info::lti_format</a>, <a class="el" href="lod__internal_8h_source.html#l00303">lod_thread_info::lti_key</a>, <a class="el" href="lod__internal_8h_source.html#l00306">lod_thread_info::lti_linkea_buf</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="md__object_8h_source.html#l00567">MOR_TGT_CHILD</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00563">OBD_FAIL_LFSCK_BAD_SLAVE_LMV</a>, <a class="el" href="obd__support_8h_source.html#l00564">OBD_FAIL_LFSCK_BAD_SLAVE_NAME</a>, <a class="el" href="obd__support_8h_source.html#l00561">OBD_FAIL_LFSCK_LOST_MASTER_LMV</a>, <a class="el" href="obd__support_8h_source.html#l00562">OBD_FAIL_LFSCK_LOST_SLAVE_LMV</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="dt__object_8h_source.html#l02684">dt_insert_rec::rec_fid</a>, <a class="el" href="dt__object_8h_source.html#l02689">dt_insert_rec::rec_type</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>, and <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02531">lod_dir_striping_create_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a8edc6998010b3d4fac92d44500cacf7b"></a><!-- doxytag: member="lod_object.c::lod_xattr_set_lov_on_dir" ref="a8edc6998010b3d4fac92d44500cacf7b" args="(const struct lu_env *env, struct dt_object *dt, const struct lu_buf *buf, const char *name, int fl, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lod_xattr_set_lov_on_dir </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set default striping on a directory. </p>
<p>Sets specified striping on a directory object unless it matches the default striping (<a class="el" href="lod__internal_8h.html#aa30f202d795375205a76f9715c43084a">LOVEA_DELETE_VALUES()</a> macro). In the latter case remove existing EA. This striping will be used when regular file is being created in this directory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dt</em>&nbsp;</td><td>the striped object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>buffer with the striping </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>name of EA </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fl</em>&nbsp;</td><td>xattr flag (see OSD API description) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>th</em>&nbsp;</td><td>transaction handle</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>if failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l02233">2233</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00141">D_OTHER</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lustre__user_8h_source.html#l00385">lov_user_md_v1::lmm_magic</a>, <a class="el" href="lustre__user_8h_source.html#l00411">lov_user_md_v3::lmm_pool_name</a>, <a class="el" href="lustre__user_8h_source.html#l00389">lov_user_md_v1::lmm_stripe_count</a>, <a class="el" href="lustre__user_8h_source.html#l00391">lov_user_md_v1::lmm_stripe_offset</a>, <a class="el" href="lustre__user_8h_source.html#l00388">lov_user_md_v1::lmm_stripe_size</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lod__internal_8h_source.html#l00359">lod_dt_obj()</a>, <a class="el" href="lod__object_8c_source.html#l02112">lod_lov_stripe_cache_clear()</a>, <a class="el" href="lod__lov_8c_source.html#l01097">lod_verify_striping()</a>, <a class="el" href="lod__object_8c_source.html#l02186">lod_xattr_del_internal()</a>, <a class="el" href="lod__object_8c_source.html#l02138">lod_xattr_set_internal()</a>, <a class="el" href="lustre__user_8h_source.html#l00339">LOV_USER_MAGIC_V3</a>, <a class="el" href="lod__internal_8h_source.html#l00050">LOVEA_DELETE_VALUES</a>, <a class="el" href="lod__internal_8h_source.html#l00320">lu2lod_dev()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l02531">lod_dir_striping_create_internal()</a>, and <a class="el" href="lod__object_8c_source.html#l02694">lod_xattr_set()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="abe6cafa537717678814801ed8d6cb180"></a><!-- doxytag: member="lod_object.c::dot" ref="abe6cafa537717678814801ed8d6cb180" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#abe6cafa537717678814801ed8d6cb180">dot</a>[] = &quot;.&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00058">58</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7914eee395b20d62ae6bc4a189f3a468"></a><!-- doxytag: member="lod_object.c::dotdot" ref="a7914eee395b20d62ae6bc4a189f3a468" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7914eee395b20d62ae6bc4a189f3a468">dotdot</a>[] = &quot;..&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00059">59</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab5d691e144231932e5957170d2bb58e5"></a><!-- doxytag: member="lod_object.c::lod_body_lnk_ops" ref="ab5d691e144231932e5957170d2bb58e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__body__operations.html">dt_body_operations</a> <a class="el" href="lod__object_8c.html#ab5d691e144231932e5957170d2bb58e5">lod_body_lnk_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dbo_read               = <a class="code" href="lod__object_8c.html#a56d64b765a54bc0101a7caa2226ae643" title="Implementation of dt_body_operations::dbo_read.">lod_read</a>,
        .dbo_declare_write      = <a class="code" href="lod__object_8c.html#a1df8aefc03f64a449cf3e8a2767f66a1" title="Implementation of dt_body_operations::dbo_declare_write.">lod_declare_write</a>,
        .dbo_write              = <a class="code" href="lod__object_8c.html#ae5c04a5959762ed9d436f587c49a60c8" title="Implementation of dt_body_operations::dbo_write.">lod_write</a>
}
</pre></div>
<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00061">61</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03407">lod_declare_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a3233512b92fd829fcd6924898203d1d0"></a><!-- doxytag: member="lod_object.c::lod_body_ops" ref="a3233512b92fd829fcd6924898203d1d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__body__operations.html">dt_body_operations</a> <a class="el" href="lod__object_8c.html#a3233512b92fd829fcd6924898203d1d0">lod_body_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dbo_read               = <a class="code" href="lod__object_8c.html#a56d64b765a54bc0101a7caa2226ae643" title="Implementation of dt_body_operations::dbo_read.">lod_read</a>,
        .dbo_declare_write      = <a class="code" href="lod__object_8c.html#a1df8aefc03f64a449cf3e8a2767f66a1" title="Implementation of dt_body_operations::dbo_declare_write.">lod_declare_write</a>,
        .dbo_write              = <a class="code" href="lod__object_8c.html#ae5c04a5959762ed9d436f587c49a60c8" title="Implementation of dt_body_operations::dbo_write.">lod_write</a>,
        .dbo_declare_punch      = <a class="code" href="lod__object_8c.html#a710997113e829c0f005846fde29cf06b">lod_declare_punch</a>,
        .dbo_punch              = <a class="code" href="lod__object_8c.html#a8a992349559286981963a864e4888367">lod_punch</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00062">62</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>Referenced by <a class="el" href="lod__object_8c_source.html#l03407">lod_declare_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="af86316b19bd41f9b9f1370f93847291e"></a><!-- doxytag: member="lod_object.c::lod_index_ops" ref="af86316b19bd41f9b9f1370f93847291e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a> <a class="el" href="lod__object_8c.html#af86316b19bd41f9b9f1370f93847291e">lod_index_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dio_lookup             = <a class="code" href="lod__object_8c.html#ac87c3ff5ebb783c4165a881c184fe2c8" title="Implementation of dt_index_operations::dio_lookup.">lod_index_lookup</a>,
        .dio_declare_insert     = <a class="code" href="lod__object_8c.html#adf23bbaa97f21b5d1fc3e06b55f9881e" title="Implementation of dt_index_operations::dio_declare_insert.">lod_declare_index_insert</a>,
        .dio_insert             = <a class="code" href="lod__object_8c.html#aa07424a7b4f8a06c5de00c931a2ee137" title="Implementation of dt_index_operations::dio_insert.">lod_index_insert</a>,
        .dio_declare_delete     = <a class="code" href="lod__object_8c.html#ad3b1b1795b9333a7656a8748671b7d6d" title="Implementation of dt_index_operations::dio_declare_delete.">lod_declare_index_delete</a>,
        .dio_delete             = <a class="code" href="lod__object_8c.html#adbf949f71a77600b9d3fa746688e3a41" title="Implementation of dt_index_operations::dio_delete.">lod_index_delete</a>,
        .dio_it = {
                .init           = <a class="code" href="lod__object_8c.html#a0fcea3fb9abe32b22251313ea87721be" title="Implementation of dt_it_ops::init.">lod_it_init</a>,
                .fini           = <a class="code" href="lod__object_8c.html#aa78ac8500ad92ae94bf35d807205b049" title="Implementation of dt_index_operations::dio_it.fini.">lod_it_fini</a>,
                .get            = <a class="code" href="lod__object_8c.html#a8fbc17ae8860998b2b6eeee7c540fbc6" title="Implementation of dt_it_ops::get.">lod_it_get</a>,
                .put            = <a class="code" href="lod__object_8c.html#ae6ecbf155e93d0dac28676f6764bc443" title="Implementation of dt_it_ops::put.">lod_it_put</a>,
                .next           = <a class="code" href="lod__object_8c.html#ab5e478491758227d92ec261fdcec6d2c" title="Implementation of dt_it_ops::next.">lod_it_next</a>,
                .key            = <a class="code" href="lod__object_8c.html#a03d87099892e03f63de96bcdfe664bd7" title="Implementation of dt_it_ops::key.">lod_it_key</a>,
                .key_size       = <a class="code" href="lod__object_8c.html#aee39709b990500ece17f78ba524f3d5f" title="Implementation of dt_it_ops::key_size.">lod_it_key_size</a>,
                .rec            = <a class="code" href="lod__object_8c.html#a81c4aa48a34e7e828fa88df45cf2cd01" title="Implementation of dt_it_ops::rec.">lod_it_rec</a>,
                .rec_size       = <a class="code" href="lod__object_8c.html#a1fed600b912f4d4f71075cbcf9960cc4" title="Implementation of dt_it_ops::rec_size.">lod_it_rec_size</a>,
                .store          = <a class="code" href="lod__object_8c.html#a80230685e8bdacc862e573d56552f591" title="Implementation of dt_it_ops::store.">lod_it_store</a>,
                .load           = <a class="code" href="lod__object_8c.html#a52016f64adef42970e895bafe1110440" title="Implementation of dt_it_ops::load.">lod_it_load</a>,
                .key_rec        = <a class="code" href="lod__object_8c.html#ab8b7783f857e3bae62eecfd7fb7f95b4" title="Implementation of dt_it_ops::key_rec.">lod_it_key_rec</a>,
        }
}
</pre></div>
<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00360">360</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6f488be9b0758b51bdf27d673712bc6b"></a><!-- doxytag: member="lod_object.c::lod_lu_obj_ops" ref="a6f488be9b0758b51bdf27d673712bc6b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a> <a class="el" href="lod__object_8c.html#a6f488be9b0758b51bdf27d673712bc6b">lod_lu_obj_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .loo_object_init        = <a class="code" href="lod__object_8c.html#a718ffb4659817d62ce24448b210c1163" title="Implementation of lu_object_operations::loo_object_init.">lod_object_init</a>,
        .loo_object_start       = <a class="code" href="lod__object_8c.html#a98112c3829efaedbc1a2ec2b5b864d21" title="Implementation of lu_object_operations::loo_object_start.">lod_object_start</a>,
        .loo_object_free        = <a class="code" href="lod__object_8c.html#a47881aa85073bf77556a4062df1b28a8" title="Implementation of lu_object_operations::loo_object_free.">lod_object_free</a>,
        .loo_object_release     = <a class="code" href="lod__object_8c.html#ae2a0c676accc6d8cb3c4b1e686b8c36a" title="Implementation of lu_object_operations::loo_object_release.">lod_object_release</a>,
        .loo_object_print       = <a class="code" href="lod__object_8c.html#a4816b5e63ba2333606756be1e4cd4930" title="Implementation of lu_object_operations::loo_object_print.">lod_object_print</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="lod__object_8c_source.html#l04264">4264</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>Referenced by <a class="el" href="lod__dev_8c_source.html#l00204">lod_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a93f1c48472664a89401155982eb10a23"></a><!-- doxytag: member="lod_object.c::lod_obj_ops" ref="a93f1c48472664a89401155982eb10a23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__object__operations.html">dt_object_operations</a> <a class="el" href="lod__object_8c.html#a93f1c48472664a89401155982eb10a23">lod_obj_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .do_read_lock           = <a class="code" href="lod__object_8c.html#a45bc59c9576ff96f909af6a47f5f7445" title="Implementation of dt_object_operations::do_read_lock.">lod_object_read_lock</a>,
        .do_write_lock          = <a class="code" href="lod__object_8c.html#a8102abe84481a87e7d675d3808796ae0" title="Implementation of dt_object_operations::do_write_lock.">lod_object_write_lock</a>,
        .do_read_unlock         = <a class="code" href="lod__object_8c.html#acb403356d63e28e846d7127ee30fb320" title="Implementation of dt_object_operations::do_read_unlock.">lod_object_read_unlock</a>,
        .do_write_unlock        = <a class="code" href="lod__object_8c.html#aa661fc0d2e2dbbc9ddf31f0651b520f8" title="Implementation of dt_object_operations::do_write_unlock.">lod_object_write_unlock</a>,
        .do_write_locked        = <a class="code" href="lod__object_8c.html#aab23aa25cf724d5eb6a09d3546f7ffa8" title="Implementation of dt_object_operations::do_write_locked.">lod_object_write_locked</a>,
        .do_attr_get            = <a class="code" href="lod__object_8c.html#aad3098a2e4740e25b77325d8b91d4058" title="Implementation of dt_object_operations::do_attr_get.">lod_attr_get</a>,
        .do_declare_attr_set    = <a class="code" href="lod__object_8c.html#a40f51113043f2f13ad68b468ec799dc4" title="Implementation of dt_object_operations::do_declare_attr_set.">lod_declare_attr_set</a>,
        .do_attr_set            = <a class="code" href="lod__object_8c.html#ae0051397c316b4ef4de018c3eb5d8e20" title="Implementation of dt_object_operations::do_attr_set.">lod_attr_set</a>,
        .do_xattr_get           = <a class="code" href="lod__object_8c.html#af3fc3c97d29defbbb1ccf75543491bc5" title="Implementation of dt_object_operations::do_xattr_get.">lod_xattr_get</a>,
        .do_declare_xattr_set   = <a class="code" href="lod__object_8c.html#a6e7eab53fd78458d762750c974b379d0" title="Implementation of dt_object_operations::do_declare_xattr_set.">lod_declare_xattr_set</a>,
        .do_xattr_set           = <a class="code" href="lod__object_8c.html#a47cb51fd5e9bd25bdf12b1026f6efd95" title="Implementation of dt_object_operations::do_xattr_set.">lod_xattr_set</a>,
        .do_declare_xattr_del   = <a class="code" href="lod__object_8c.html#a50aebe160b6ecbdfc17cab3cffd5e522" title="Implementation of dt_object_operations::do_declare_xattr_del.">lod_declare_xattr_del</a>,
        .do_xattr_del           = <a class="code" href="lod__object_8c.html#a0a2a8581df9ebcb779d798185aea25ed" title="Implementation of dt_object_operations::do_xattr_del.">lod_xattr_del</a>,
        .do_xattr_list          = <a class="code" href="lod__object_8c.html#a973cbd1826bf8e8987b7fb26170d4aee" title="Implementation of dt_object_operations::do_xattr_list.">lod_xattr_list</a>,
        .do_ah_init             = <a class="code" href="lod__object_8c.html#a09d1072d429eb68ed3b552f9a480f874" title="Implementation of dt_object_operations::do_ah_init.">lod_ah_init</a>,
        .do_declare_create      = <a class="code" href="lod__object_8c.html#a0a6cba773b2fb89cc0f208d97db43b79" title="Implementation of dt_object_operations::do_declare_create.">lod_declare_object_create</a>,
        .do_create              = <a class="code" href="lod__object_8c.html#ae967556b8dbe3bdf02573a64196a8b28" title="Implementation of dt_object_operations::do_create.">lod_object_create</a>,
        .do_declare_destroy     = <a class="code" href="lod__object_8c.html#a830bb44519de225cd0340b19eb0aaaa2" title="Implementation of dt_object_operations::do_declare_destroy.">lod_declare_object_destroy</a>,
        .do_destroy             = <a class="code" href="lod__object_8c.html#ab43337878d8c5f61b491a6813ad141c7" title="Implementation of dt_object_operations::do_destroy.">lod_object_destroy</a>,
        .do_index_try           = <a class="code" href="lod__object_8c.html#aca17cc3d27b61f53596cbfeb744f8e96" title="Implementation of dt_object_operations::do_index_try.">lod_index_try</a>,
        .do_declare_ref_add     = <a class="code" href="lod__object_8c.html#a86c5344f7c6bed6f28deb864fba326d1" title="Implementation of dt_object_operations::do_declare_ref_add.">lod_declare_ref_add</a>,
        .do_ref_add             = <a class="code" href="lod__object_8c.html#a419659d1d2420f926071f0611fde7734" title="Implementation of dt_object_operations::do_ref_add.">lod_ref_add</a>,
        .do_declare_ref_del     = <a class="code" href="lod__object_8c.html#a6e5f16021ef180d078b4af6726cfbd3e" title="Implementation of dt_object_operations::do_declare_ref_del.">lod_declare_ref_del</a>,
        .do_ref_del             = <a class="code" href="lod__object_8c.html#a4e62d48055f9d36f80ff12213a8508ff" title="Implementation of dt_object_operations::do_ref_del.">lod_ref_del</a>,
        .do_object_sync         = <a class="code" href="lod__object_8c.html#a7f6a6878ef166365ee16f78213ec1d75" title="Implementation of dt_object_operations::do_object_sync.">lod_object_sync</a>,
        .do_object_lock         = <a class="code" href="lod__object_8c.html#a57558d2070914a690d67e6d26ce9b390" title="Implementation of dt_object_operations::do_object_lock.">lod_object_lock</a>,
        .do_object_unlock       = <a class="code" href="lod__object_8c.html#a7ee35b598501738757d8041933fbc86c" title="Implementation of dt_object_operations::do_object_unlock.">lod_object_unlock</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="lod__object_8c_source.html#l03982">3982</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

<p>Referenced by <a class="el" href="lod__dev_8c_source.html#l00204">lod_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a1339d3e0f5d5401635566fade01fca36"></a><!-- doxytag: member="lod_object.c::lod_striped_index_ops" ref="a1339d3e0f5d5401635566fade01fca36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__index__operations.html">dt_index_operations</a> <a class="el" href="lod__object_8c.html#a1339d3e0f5d5401635566fade01fca36">lod_striped_index_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .dio_lookup             = <a class="code" href="lod__object_8c.html#ac87c3ff5ebb783c4165a881c184fe2c8" title="Implementation of dt_index_operations::dio_lookup.">lod_index_lookup</a>,
        .dio_declare_insert     = <a class="code" href="lod__object_8c.html#adf23bbaa97f21b5d1fc3e06b55f9881e" title="Implementation of dt_index_operations::dio_declare_insert.">lod_declare_index_insert</a>,
        .dio_insert             = <a class="code" href="lod__object_8c.html#aa07424a7b4f8a06c5de00c931a2ee137" title="Implementation of dt_index_operations::dio_insert.">lod_index_insert</a>,
        .dio_declare_delete     = <a class="code" href="lod__object_8c.html#ad3b1b1795b9333a7656a8748671b7d6d" title="Implementation of dt_index_operations::dio_declare_delete.">lod_declare_index_delete</a>,
        .dio_delete             = <a class="code" href="lod__object_8c.html#adbf949f71a77600b9d3fa746688e3a41" title="Implementation of dt_index_operations::dio_delete.">lod_index_delete</a>,
        .dio_it = {
                .init           = <a class="code" href="lod__object_8c.html#a47d3734c1a35743508289640565afefe" title="Implementation of dt_it_ops::init.">lod_striped_it_init</a>,
                .fini           = <a class="code" href="lod__object_8c.html#aa635b927f8e7b426a3a08cf1bbf8a88f" title="Implementation of dt_it_ops::fini.">lod_striped_it_fini</a>,
                .get            = <a class="code" href="lod__object_8c.html#a3b3a7aef7ab714547ceb9d8190003eac" title="Implementation of dt_it_ops::get.">lod_striped_it_get</a>,
                .put            = <a class="code" href="lod__object_8c.html#aa91a0164449133a668ead9940de2d082" title="Implementation of dt_it_ops::put.">lod_striped_it_put</a>,
                .next           = <a class="code" href="lod__object_8c.html#a48a5b0b624fd3aef1f6fb77f3a59ce9e" title="Implementation of dt_it_ops::next.">lod_striped_it_next</a>,
                .key            = <a class="code" href="lod__object_8c.html#a2f875717b9df2bea96d55b1a79562d77" title="Implementation of dt_it_ops::key.">lod_striped_it_key</a>,
                .key_size       = <a class="code" href="lod__object_8c.html#a91f6ea9ae7ccd75116df82c6715c365c" title="Implementation of dt_it_ops::key_size.">lod_striped_it_key_size</a>,
                .rec            = <a class="code" href="lod__object_8c.html#a14a0dea016aa4f721b281c025c8565bb" title="Implementation of dt_it_ops::rec.">lod_striped_it_rec</a>,
                .rec_size       = <a class="code" href="lod__object_8c.html#a59844f9e963382d31144bf4c640a7e68" title="Implementation of dt_it_ops::rec_size.">lod_striped_it_rec_size</a>,
                .store          = <a class="code" href="lod__object_8c.html#a35cdb66df1329b888f3ba63e17ed2545" title="Implementation of dt_it_ops::store.">lod_striped_it_store</a>,
                .load           = <a class="code" href="lod__object_8c.html#a3a290be77b22b4f01efda9ad309ff6e1" title="Implementation of dt_it_ops::load.">lod_striped_it_load</a>,
        }
}
</pre></div>
<p>Definition at line <a class="el" href="lod__object_8c_source.html#l00729">729</a> of file <a class="el" href="lod__object_8c_source.html">lod_object.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
