<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/lfsck/lfsck_lib.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/lfsck/lfsck_lib.c File Reference</h1><code>#include &lt;linux/kthread.h&gt;</code><br/>
<code>#include &lt;linux/sched.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="list_8h_source.html">libcfs/list.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lu__object_8h_source.html">lu_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dt__object_8h_source.html">dt_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="md__object_8h_source.html">md_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__fld_8h_source.html">lustre_fld.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__lib_8h_source.html">lustre_lib.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__lfsck_8h_source.html">lustre_lfsck.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__lfsck__user_8h_source.html">lustre/lustre_lfsck_user.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="lfsck__internal_8h_source.html">lfsck_internal.h</a>&quot;</code><br/>

<p><a href="lfsck__lib_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LFSCK</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a00aee796973ca03d5b204c42538f965d">LFSCK_CHECKPOINT_SKIP</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a91923589629ab287f9235fc3f7e2f6ed">lfsck_verify_lpf_types</a> { <a class="el" href="lfsck__lib_8c.html#a91923589629ab287f9235fc3f7e2f6eda9a6e32b8f2389236c46595fa7bbd1826">LVLT_BY_BOOKMARK</a> =  0, 
<a class="el" href="lfsck__lib_8c.html#a91923589629ab287f9235fc3f7e2f6eda54a4ee827cc3e2e5e502175fbc0fccce">LVLT_BY_NAMEENTRY</a> =  1
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a42808760b871cbdcaae2ceb83344f951">LU_KEY_INIT</a> (lfsck, struct <a class="el" href="structlfsck__thread__info.html">lfsck_thread_info</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a72ce4d0866725b2563cc0d466771044b">lfsck_key_fini</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a1b9c41e521682155f33ab832208aced2">LU_CONTEXT_KEY_DEFINE</a> (lfsck, LCT_MD_THREAD|LCT_DT_THREAD)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#abeb099e3c99e6c892f35949769d1588d">LU_KEY_INIT_GENERIC</a> (lfsck)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ab95d324289898b63aeef7504b0269245">DEFINE_SPINLOCK</a> (lfsck_instance_lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ae2100327e43f82603cc39dd6479eef5e">lfsck_reset_ltd_status</a> (struct <a class="el" href="structlfsck__tgt__desc.html">lfsck_tgt_desc</a> *ltd, enum <a class="el" href="lustre__lfsck__user_8h.html#a9227f249ebe4f9e66a984a270cd6fd95">lfsck_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#af8c5387c1a4aa4b19b82fbed6e75a272">lfsck_tgt_descs_init</a> (struct <a class="el" href="structlfsck__tgt__descs.html">lfsck_tgt_descs</a> *ltds)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a3c5c953fd04c104efdaf4c5f7f951b30">lfsck_tgt_descs_fini</a> (struct <a class="el" href="structlfsck__tgt__descs.html">lfsck_tgt_descs</a> *ltds)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a2756f2b57eaf0301475bf1f2eda21b87">__lfsck_add_target</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structlfsck__tgt__desc.html">lfsck_tgt_desc</a> *ltd, bool for_ost, bool locked)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a1934dc7fc9f7052d4b2109d149b130ba">lfsck_add_target_from_orphan</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a67b79c8602dbf7c0c050bd031f707199">__lfsck_component_find</a> (struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, __u16 type, struct <a class="el" href="structlist__head.html">list_head</a> *<a class="el" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a7ec34b9d3099402caeb31a697da5156a">lfsck_component_find</a> (struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, __u16 type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ae724d778f2abcb4b28962980190eb8a6">lfsck_component_cleanup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *com)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#af50cdbcf1743b1d7dee64e0a62df834d">lfsck_fid_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, bool locked)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a6baae2289487c31ec3b7a5d884edfe6f">__lfsck_ibits_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structdt__object.html">dt_object</a> *obj, struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a> *resid, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> bits, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a78fb1ef9b282636ee28936fe69c56bec">lfsck_ibits_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structdt__object.html">dt_object</a> *obj, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> bits, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request the specified ibits lock for the given object.  <a href="#a78fb1ef9b282636ee28936fe69c56bec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a5641b50be030cde48d9b7ce69a8935a6">lfsck_ibits_unlock</a> (struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lh, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release the the specified ibits lock.  <a href="#a5641b50be030cde48d9b7ce69a8935a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a7ffad8457ec83d8c3b1fc036d5de0ed1">lfsck_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structdt__object.html">dt_object</a> *obj, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structlfsck__lock__handle.html">lfsck_lock_handle</a> *llh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> bits, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request compound ibits locks for the given &lt;obj, name&gt; pairs.  <a href="#a7ffad8457ec83d8c3b1fc036d5de0ed1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a3b430a41ada3bb7bfa164b3e6763e090">lfsck_unlock</a> (struct <a class="el" href="structlfsck__lock__handle.html">lfsck_lock_handle</a> *llh)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release the the compound ibits locks.  <a href="#a3b430a41ada3bb7bfa164b3e6763e090"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#aa7c1dbcdae1c09a1496699e6024f1d94">lfsck_find_mdt_idx_by_fid</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a04fa2f12c6284e9796079e0a7dfdb90f">lfsck_lpf_remove_name_entry</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove the name entry from the .lustre/lost+found directory.  <a href="#a04fa2f12c6284e9796079e0a7dfdb90f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a08483e64fa651ee38e3132e403c97d72">lfsck_create_lpf_local</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structdt__object.html">dt_object</a> *child, struct <a class="el" href="structlu__attr.html">lu_attr</a> *la, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a0b6ed21e41cc74741d314a512b3b549d">lfsck_create_lpf_remote</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structdt__object.html">dt_object</a> *child, struct <a class="el" href="structlu__attr.html">lu_attr</a> *la, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#abdab9f17477febff7cff623c4ad985e1">lfsck_create_lpf</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create the MDTxxxx directory under /ROOT/.lustre/lost+found/.  <a href="#abdab9f17477febff7cff623c4ad985e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a88c0f9d407cb1652d899e6e43447e03f">lfsck_scan_lpf_bad_entries</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scan .lustre/lost+found for bad name entries and remove them.  <a href="#a88c0f9d407cb1652d899e6e43447e03f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a55b1f922f8435bceb58be534851dd033">lfsck_update_lpf_entry</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structdt__object.html">dt_object</a> *parent, struct <a class="el" href="structdt__object.html">dt_object</a> *child, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, enum <a class="el" href="lfsck__lib_8c.html#a91923589629ab287f9235fc3f7e2f6ed">lfsck_verify_lpf_types</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a663ec1a9487296f0e0d46ec05b7f3f8c">lfsck_verify_lpf_pairs</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structdt__object.html">dt_object</a> *child, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, enum <a class="el" href="lfsck__lib_8c.html#a91923589629ab287f9235fc3f7e2f6ed">lfsck_verify_lpf_types</a> type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether the  back references the .  <a href="#a663ec1a9487296f0e0d46ec05b7f3f8c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a235b73ea0f2bfe50f7488ff8e3bf672a">lfsck_verify_lpf</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verify the /ROOT/.lustre/lost+found/ directory.  <a href="#a235b73ea0f2bfe50f7488ff8e3bf672a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a8b5a232f79a84771255cdc6d45811f68">lfsck_fid_init</a> (struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a4f20970c7eda6a1ee014edaa3a75da60">lfsck_fid_fini</a> (struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a474e8af1234983aaac508e097a6591b1">lfsck_instance_cleanup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a62c97f5c9905aef642e2dbc59182f4f8">__lfsck_instance_find</a> (struct <a class="el" href="structdt__device.html">dt_device</a> *key, bool ref, bool unlink)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#aa672e5f8f93c88210e5beaecff3eb945">lfsck_instance_find</a> (struct <a class="el" href="structdt__device.html">dt_device</a> *key, bool ref, bool unlink)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a3336c855ab4f9d2c9ddc3a72663cb6de">lfsck_instance_add</a> (struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#abe516a41304b585c949041d0950aa73b">lfsck_bits_dump</a> (struct seq_file *m, int bits, const char *<a class="el" href="structnames.html">names</a>[], const char *prefix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a20d93b09f0f3c750a8906c1d08a97e9e">lfsck_time_dump</a> (struct seq_file *m, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> time, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a64065c8a338ab8c1c8a96b02a81af111">lfsck_pos_dump</a> (struct seq_file *m, struct <a class="el" href="structlfsck__position.html">lfsck_position</a> *pos, const char *prefix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a3e65e3b2aaca23ac9b822723a0ea82c4">lfsck_pos_fill</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structlfsck__position.html">lfsck_position</a> *pos, bool init)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a457d2c0d47464aedb4b8f6573b3ef0bc">__lfsck_set_speed</a> (struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, __u32 limit)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ac409556d9d200cda4725c66911141f9e">lfsck_control_speed</a> (struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a499f6bef84e17d8ad4f2b394087d2088">lfsck_control_speed_by_self</a> (struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *com)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlfsck__thread__args.html">lfsck_thread_args</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ae578df2076c9ba10f6c40e71fbcf24de">lfsck_thread_args_init</a> (struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *com, struct <a class="el" href="structlfsck__start__param.html">lfsck_start_param</a> *lsp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a46d16afd1ac6190eea05603982199cc7">lfsck_thread_args_fini</a> (struct <a class="el" href="structlfsck__thread__args.html">lfsck_thread_args</a> *lta)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlfsck__assistant__data.html">lfsck_assistant_data</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a91ba202cb28f813deab0f88595a3fd81">lfsck_assistant_data_init</a> (struct <a class="el" href="structlfsck__assistant__operations.html">lfsck_assistant_operations</a> *lao, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlfsck__assistant__object.html">lfsck_assistant_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#aef355d12cbdcf3070cf8e4308fd4ce97">lfsck_assistant_object_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cookie, bool is_dir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#af0c9fabc156cfdcbb55004cb41f82fbe">lfsck_assistant_object_load</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structlfsck__assistant__object.html">lfsck_assistant_object</a> *lso)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#adb8936a0e8a677bf08ec493bae27ee2b">lfsck_async_interpret_common</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *args, int rc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generic LFSCK asynchronous communication interpretor function.  <a href="#adb8936a0e8a677bf08ec493bae27ee2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a4db2518593b06222eb01a6b57d0deb37">lfsck_interpret</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *args, int result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a7b05917cef653259ffeb4e4578f55d2f">lfsck_stop_notify</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structlfsck__tgt__descs.html">lfsck_tgt_descs</a> *ltds, struct <a class="el" href="structlfsck__tgt__desc.html">lfsck_tgt_desc</a> *ltd, __u16 type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#affecaf5740f2286fa1f2ccceaefff55c">lfsck_async_interpret</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *args, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a5fed3a68b6f5eb81f9013efa874fa2a4">lfsck_async_request</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structlfsck__request.html">lfsck_request</a> *lr, struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *set, <a class="el" href="group__net.html#ga80bef25da5dad7e788b4427e8c5e7df6">ptlrpc_interpterer_t</a> interpreter, void *args, int request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ad74ecfc36f73d5b86c4e04bd55cb368d">lfsck_query_all</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *com)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a9b1abf8fc2b212540452dffbcf53f5e2">lfsck_start_assistant</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *com, struct <a class="el" href="structlfsck__start__param.html">lfsck_start_param</a> *lsp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a0f9811a3a6a0834e9db6e31711b15b0f">lfsck_checkpoint_generic</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *com)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a6313d77f10125f9ac63084e00f94ec26">lfsck_post_generic</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *com, int *result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#aa484cbbcab8be42ead2a8c9fddedc29c">lfsck_double_scan_generic</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *com, int <a class="el" href="lustre__rsync_8c.html#a55591f17a60f597b63f070969c54fd6c">status</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#aa6b8e589e419e7ecddba665d1ab21a53">lfsck_quit_generic</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *com)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#aaf5eb3adb82d363468a2742acd9a20e2">lfsck_get_speed</a> (struct seq_file *m, struct <a class="el" href="structdt__device.html">dt_device</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a6faa58243ec7f8f8b00189b357e4304a">lfsck_set_speed</a> (struct <a class="el" href="structdt__device.html">dt_device</a> *key, __u32 val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ae2ad2c2869a6c925c077414d488aef1b">lfsck_get_windows</a> (struct seq_file *m, struct <a class="el" href="structdt__device.html">dt_device</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a1d846523ac8740c907b57fb8877a06b5">lfsck_set_windows</a> (struct <a class="el" href="structdt__device.html">dt_device</a> *key, int val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a26f928638b86832390e06791fdde81fa">lfsck_dump</a> (struct seq_file *m, struct <a class="el" href="structdt__device.html">dt_device</a> *key, enum <a class="el" href="lustre__lfsck__user_8h.html#a9227f249ebe4f9e66a984a270cd6fd95">lfsck_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#aeffb924f26c1d6ef7658360ff3775788">lfsck_stop_all</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structlfsck__stop.html">lfsck_stop</a> *<a class="el" href="rename__many_8c.html#a6c0af9f2e97842405fb15ed952ef2976">stop</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ab06d1e50e1d43c9bdddb27c188e737df">lfsck_start_all</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *lfsck, struct <a class="el" href="structlfsck__start.html">lfsck_start</a> *<a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ae39dea6ca934c43e5dd7335e8060ea14">lfsck_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *key, struct <a class="el" href="structlfsck__start__param.html">lfsck_start_param</a> *lsp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#acfba3e13c6b0a46393d622c6b00252fc">lfsck_stop</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *key, struct <a class="el" href="structlfsck__stop.html">lfsck_stop</a> *<a class="el" href="rename__many_8c.html#a6c0af9f2e97842405fb15ed952ef2976">stop</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a8b24d071f33cd377e5347ac5af87c59d">lfsck_in_notify</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *key, struct <a class="el" href="structlfsck__request.html">lfsck_request</a> *lr, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a778a6b453c376c41556e039ee8612b1f">lfsck_query</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *key, struct <a class="el" href="structlfsck__request.html">lfsck_request</a> *req, struct <a class="el" href="structlfsck__reply.html">lfsck_reply</a> *rep, struct <a class="el" href="structlfsck__query.html">lfsck_query</a> *que)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a2f279b863afb20e8acb97981d51428bc">lfsck_register_namespace</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *key, struct <a class="el" href="structldlm__namespace.html">ldlm_namespace</a> *ns)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a194e10ae8514f0fd988454f698ff92ce">lfsck_register</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *key, struct <a class="el" href="structdt__device.html">dt_device</a> *next, struct <a class="el" href="structobd__device.html">obd_device</a> *obd, <a class="el" href="lustre__lfsck_8h.html#a8f4ffaaacb423380a1d802f1ca7a92dc">lfsck_out_notify</a> notify, void *notify_data, bool master)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a7091e2db2c9162a8b217af9b67fde5a6">lfsck_degister</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a34b38a93dd959be231e58308aa894c80">lfsck_add_target</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *key, struct <a class="el" href="structdt__device.html">dt_device</a> *tgt, struct <a class="el" href="structobd__export.html">obd_export</a> *exp, __u32 index, bool for_ost)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a9042b0c252f235c1749c4249b1f216e8">lfsck_del_target</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__device.html">dt_device</a> *key, struct <a class="el" href="structdt__device.html">dt_device</a> *tgt, __u32 index, bool for_ost)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int __init&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a976d68711b559df6f16930da563e1f1d">lfsck_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void __exit&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ac6c06d1af5a0971b86fb657dfcf77fc7">lfsck_exit</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#adc10f40acba3bb9b2640e985276b0a7c">MODULE_AUTHOR</a> (&quot;OpenSFS, Inc. &lt;http://www.lustre.org/&gt;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a98d17370001b8a3e185c4144f71f20e9">MODULE_DESCRIPTION</a> (&quot;Lustre File System Checker&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ae9c321be2136fb8501887ee69dac11a2">MODULE_VERSION</a> (LUSTRE_VERSION_STRING)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ad94b36675e7eb067ea3ce6ff9e244a44">MODULE_LICENSE</a> (&quot;GPL&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a0f0c1972a008abe14df8a41082f3116d">module_init</a> (lfsck_init)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#aef185dcc506ec93af84b7959e2083a75">module_exit</a> (lfsck_exit)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a4f965876f4be24e609ae58913bd875f8">lfsck_instance_list</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a1d67e4f9660bf51f4c4deeaabfdafe7a">lfsck_ost_orphan_list</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a61e55062bd15b0a9f1f04af6acab8c47">lfsck_mdt_orphan_list</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#aaa144f60df2565e5cce1b0d967597320">lfsck_flags_names</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ad1157db3beb29bc193fce02f85b07981">lfsck_param_names</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#abe6cafa537717678814801ed8d6cb180">dot</a> [] = &quot;.&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a7914eee395b20d62ae6bc4a189f3a468">dotdot</a> [] = &quot;..&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#a018a2a9fa540f4e74f74923523bddd1f">dotlustre</a> [] = &quot;.lustre&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lfsck__lib_8c.html#ad946ff4b482f13185f52e107379d8f5b">lostfound</a> [] = &quot;lost+found&quot;</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="lfsck_lib.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LFSCK</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00031">31</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

</div>
</div>
<a class="anchor" id="a00aee796973ca03d5b204c42538f965d"></a><!-- doxytag: member="lfsck_lib.c::LFSCK_CHECKPOINT_SKIP" ref="a00aee796973ca03d5b204c42538f965d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LFSCK_CHECKPOINT_SKIP&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00047">47</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l02531">lfsck_checkpoint_generic()</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a91923589629ab287f9235fc3f7e2f6ed"></a><!-- doxytag: member="lfsck_lib.c::lfsck_verify_lpf_types" ref="a91923589629ab287f9235fc3f7e2f6ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="lfsck__lib_8c.html#a91923589629ab287f9235fc3f7e2f6ed">lfsck_verify_lpf_types</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a91923589629ab287f9235fc3f7e2f6eda9a6e32b8f2389236c46595fa7bbd1826"></a><!-- doxytag: member="LVLT_BY_BOOKMARK" ref="a91923589629ab287f9235fc3f7e2f6eda9a6e32b8f2389236c46595fa7bbd1826" args="" -->LVLT_BY_BOOKMARK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a91923589629ab287f9235fc3f7e2f6eda54a4ee827cc3e2e5e502175fbc0fccce"></a><!-- doxytag: member="LVLT_BY_NAMEENTRY" ref="a91923589629ab287f9235fc3f7e2f6eda54a4ee827cc3e2e5e502175fbc0fccce" args="" -->LVLT_BY_NAMEENTRY</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00092">92</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2756f2b57eaf0301475bf1f2eda21b87"></a><!-- doxytag: member="lfsck_lib.c::__lfsck_add_target" ref="a2756f2b57eaf0301475bf1f2eda21b87" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct lfsck_tgt_desc *ltd, bool for_ost, bool locked)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __lfsck_add_target </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__tgt__desc.html">lfsck_tgt_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>ltd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>for_ost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>locked</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00171">171</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="bitmap_8h_source.html#l00049">CFS_ALLOCATE_BITMAP()</a>, <a class="el" href="bitmap_8h_source.html#l00087">cfs_bitmap_check()</a>, <a class="el" href="bitmap_8h_source.html#l00106">cfs_bitmap_copy()</a>, <a class="el" href="bitmap_8h_source.html#l00075">cfs_bitmap_set()</a>, <a class="el" href="bitmap_8h_source.html#l00072">CFS_FREE_BITMAP</a>, <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lfsck__internal_8h_source.html#l00508">lfsck_assign_tgt()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00701">lfsck_instance::li_ost_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00460">lfsck_tgt_desc::ltd_index</a>, <a class="el" href="lfsck__internal_8h_source.html#l00484">lfsck_tgt_descs::ltd_rw_sem</a>, <a class="el" href="lfsck__internal_8h_source.html#l00448">lfsck_tgt_desc::ltd_tgt</a>, <a class="el" href="lfsck__internal_8h_source.html#l00490">lfsck_tgt_descs::ltd_tgtnr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00478">lfsck_tgt_descs::ltd_tgts_bitmap</a>, <a class="el" href="lfsck__internal_8h_source.html#l00475">lfsck_tgt_descs::ltd_tgts_idx</a>, <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="bitmap_8h_source.html#l00040">cfs_bitmap::size</a>, and <a class="el" href="lfsck__internal_8h_source.html#l00444">TGT_PTRS_PER_BLOCK</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03661">lfsck_add_target()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l00236">lfsck_add_target_from_orphan()</a>.</p>

</div>
</div>
<a class="anchor" id="a67b79c8602dbf7c0c050bd031f707199"></a><!-- doxytag: member="lfsck_lib.c::__lfsck_component_find" ref="a67b79c8602dbf7c0c050bd031f707199" args="(struct lfsck_instance *lfsck, __u16 type, struct list_head *list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlfsck__component.html">lfsck_component</a>* __lfsck_component_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00282">282</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l00529">lfsck_component::lc_link</a>, <a class="el" href="lfsck__internal_8h_source.html#l00561">lfsck_component::lc_type</a>, and <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l00295">lfsck_component_find()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l02259">lfsck_stop_notify()</a>.</p>

</div>
</div>
<a class="anchor" id="a6baae2289487c31ec3b7a5d884edfe6f"></a><!-- doxytag: member="lfsck_lib.c::__lfsck_ibits_lock" ref="a6baae2289487c31ec3b7a5d884edfe6f" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct dt_object *obj, struct ldlm_res_id *resid, struct lustre_handle *lh, __u64 bits, enum ldlm_mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __lfsck_ibits_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a> *&nbsp;</td>
          <td class="paramname"> <em>resid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00355">355</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lustre__idl_8h_source.html#l02841">ldlm_inodebits::bits</a>, <a class="el" href="dt__object_8h_source.html#l01990">dt_object_lock()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01099">ldlm_enqueue_info::ei_cb_bl</a>, <a class="el" href="lustre__dlm_8h_source.html#l01101">ldlm_enqueue_info::ei_cb_cp</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="lustre__dlm_8h_source.html#l00074">ELDLM_OK</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__request_8c_source.html#l00354">ldlm_blocking_ast()</a>, <a class="el" href="ldlm__request_8c_source.html#l00415">ldlm_cli_enqueue_local()</a>, <a class="el" href="ldlm__request_8c_source.html#l00230">ldlm_completion_ast()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00258">LDLM_FL_ATOMIC_CB</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00672">lfsck_instance::li_namespace</a>, <a class="el" href="lfsck__internal_8h_source.html#l00884">lfsck_thread_info::lti_einfo</a>, <a class="el" href="lfsck__internal_8h_source.html#l00883">lfsck_thread_info::lti_policy</a>, and <a class="el" href="lustre__dlm_8h_source.html#l00646">LVB_T_NONE</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l00415">lfsck_ibits_lock()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l00468">lfsck_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a62c97f5c9905aef642e2dbc59182f4f8"></a><!-- doxytag: member="lfsck_lib.c::__lfsck_instance_find" ref="a62c97f5c9905aef642e2dbc59182f4f8" args="(struct dt_device *key, bool ref, bool unlink)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a>* __lfsck_instance_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>unlink</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01694">1694</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l01382">lfsck_instance_get()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00066">lfsck_instance_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00670">lfsck_instance::li_bottom</a>, <a class="el" href="lfsck__internal_8h_source.html#l00638">lfsck_instance::li_link</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, and <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03661">lfsck_add_target()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03710">lfsck_del_target()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>.</p>

</div>
</div>
<a class="anchor" id="a457d2c0d47464aedb4b8f6573b3ef0bc"></a><!-- doxytag: member="lfsck_lib.c::__lfsck_set_speed" ref="a457d2c0d47464aedb4b8f6573b3ef0bc" args="(struct lfsck_instance *lfsck, __u32 limit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool __lfsck_set_speed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>limit</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01830">1830</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l00093">lfsck_bookmark::lb_speed_limit</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00181">LFSCK_SPEED_NO_LIMIT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00719">lfsck_instance::li_sleep_jif</a>, and <a class="el" href="lfsck__internal_8h_source.html#l00716">lfsck_instance::li_sleep_rate</a>.</p>

<p>Referenced by <a class="el" href="lfsck__bookmark_8c_source.html#l00203">lfsck_set_param()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02656">lfsck_set_speed()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ab95d324289898b63aeef7504b0269245"></a><!-- doxytag: member="lfsck_lib.c::DEFINE_SPINLOCK" ref="ab95d324289898b63aeef7504b0269245" args="(lfsck_instance_lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_SPINLOCK </td>
          <td>(</td>
          <td class="paramtype">lfsck_instance_lock&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a34b38a93dd959be231e58308aa894c80"></a><!-- doxytag: member="lfsck_lib.c::lfsck_add_target" ref="a34b38a93dd959be231e58308aa894c80" args="(const struct lu_env *env, struct dt_device *key, struct dt_device *tgt, struct obd_export *exp, __u32 index, bool for_ost)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_add_target </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>tgt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>for_ost</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03661">3661</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00171">__lfsck_add_target()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01694">__lfsck_instance_find()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00068">lfsck_mdt_orphan_list</a>, <a class="el" href="lfsck__lib_8c_source.html#l00067">lfsck_ost_orphan_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00450">lfsck_tgt_desc::ltd_exp</a>, <a class="el" href="lfsck__internal_8h_source.html#l00460">lfsck_tgt_desc::ltd_index</a>, <a class="el" href="lfsck__internal_8h_source.html#l00449">lfsck_tgt_desc::ltd_key</a>, <a class="el" href="lfsck__internal_8h_source.html#l00451">lfsck_tgt_desc::ltd_layout_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00452">lfsck_tgt_desc::ltd_layout_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00453">lfsck_tgt_desc::ltd_namespace_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00454">lfsck_tgt_desc::ltd_namespace_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00447">lfsck_tgt_desc::ltd_orphan_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00459">lfsck_tgt_desc::ltd_ref</a>, <a class="el" href="lfsck__internal_8h_source.html#l00448">lfsck_tgt_desc::ltd_tgt</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lod__lov_8c_source.html#l00207">lod_add_device()</a>.</p>

</div>
</div>
<a class="anchor" id="a1934dc7fc9f7052d4b2109d149b130ba"></a><!-- doxytag: member="lfsck_lib.c::lfsck_add_target_from_orphan" ref="a1934dc7fc9f7052d4b2109d149b130ba" args="(const struct lu_env *env, struct lfsck_instance *lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_add_target_from_orphan </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00236">236</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00171">__lfsck_add_target()</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, <a class="el" href="lfsck__lib_8c_source.html#l00068">lfsck_mdt_orphan_list</a>, <a class="el" href="lfsck__lib_8c_source.html#l00067">lfsck_ost_orphan_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00670">lfsck_instance::li_bottom</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00701">lfsck_instance::li_ost_descs</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00449">lfsck_tgt_desc::ltd_key</a>, <a class="el" href="lfsck__internal_8h_source.html#l00487">lfsck_tgt_descs::ltd_orphan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00447">lfsck_tgt_desc::ltd_orphan_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00484">lfsck_tgt_descs::ltd_rw_sem</a>, and <a class="el" href="list_8h_source.html#l00043">list_head::next</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03474">lfsck_register()</a>.</p>

</div>
</div>
<a class="anchor" id="a91ba202cb28f813deab0f88595a3fd81"></a><!-- doxytag: member="lfsck_lib.c::lfsck_assistant_data_init" ref="a91ba202cb28f813deab0f88595a3fd81" args="(struct lfsck_assistant_operations *lao, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlfsck__assistant__data.html">lfsck_assistant_data</a>* lfsck_assistant_data_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__assistant__operations.html">lfsck_assistant_operations</a> *&nbsp;</td>
          <td class="paramname"> <em>lao</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01929">1929</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="bitmap_8h_source.html#l00049">CFS_ALLOCATE_BITMAP()</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lfsck__internal_8h_source.html#l00831">lfsck_assistant_data::lad_bitmap</a>, <a class="el" href="lfsck__internal_8h_source.html#l00804">lfsck_assistant_data::lad_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00817">lfsck_assistant_data::lad_mdt_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00820">lfsck_assistant_data::lad_mdt_phase1_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00823">lfsck_assistant_data::lad_mdt_phase2_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00825">lfsck_assistant_data::lad_name</a>, <a class="el" href="lfsck__internal_8h_source.html#l00829">lfsck_assistant_data::lad_ops</a>, <a class="el" href="lfsck__internal_8h_source.html#l00808">lfsck_assistant_data::lad_ost_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00811">lfsck_assistant_data::lad_ost_phase1_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00814">lfsck_assistant_data::lad_ost_phase2_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00805">lfsck_assistant_data::lad_req_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00826">lfsck_assistant_data::lad_thread</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l05556">lfsck_layout_setup()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l06514">lfsck_namespace_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="aef355d12cbdcf3070cf8e4308fd4ce97"></a><!-- doxytag: member="lfsck_lib.c::lfsck_assistant_object_init" ref="aef355d12cbdcf3070cf8e4308fd4ce97" args="(const struct lu_env *env, const struct lu_fid *fid, const struct lu_attr *attr, __u64 cookie, bool is_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlfsck__assistant__object.html">lfsck_assistant_object</a>* lfsck_assistant_object_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01959">1959</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l00366">lfsck_assistant_object::lso_attr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00364">lfsck_assistant_object::lso_fid</a>, <a class="el" href="lfsck__internal_8h_source.html#l00368">lfsck_assistant_object::lso_is_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l00365">lfsck_assistant_object::lso_oit_cookie</a>, <a class="el" href="lfsck__internal_8h_source.html#l00367">lfsck_assistant_object::lso_ref</a>, and <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l04159">lfsck_layout_scan_stripes()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00678">lfsck_master_dir_engine()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l03774">lfsck_namespace_close_dir()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l05869">lfsck_namespace_rescan_striped_dir()</a>.</p>

</div>
</div>
<a class="anchor" id="af0c9fabc156cfdcbb55004cb41f82fbe"></a><!-- doxytag: member="lfsck_lib.c::lfsck_assistant_object_load" ref="af0c9fabc156cfdcbb55004cb41f82fbe" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct lfsck_assistant_object *lso)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdt__object.html">dt_object</a>* lfsck_assistant_object_load </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__assistant__object.html">lfsck_assistant_object</a> *&nbsp;</td>
          <td class="paramname"> <em>lso</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01982">1982</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01206">lfsck_is_dead_obj()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01283">lfsck_object_find_bottom()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01219">lfsck_object_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00368">lfsck_assistant_object::lso_dead</a>, <a class="el" href="lfsck__internal_8h_source.html#l00364">lfsck_assistant_object::lso_fid</a>, <a class="el" href="lfsck__internal_8h_source.html#l00368">lfsck_assistant_object::lso_is_dir</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l03225">lfsck_layout_assistant_handler_p1()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05012">lfsck_namespace_assistant_handler_p1()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l02248">lfsck_namespace_handle_striped_master()</a>, and <a class="el" href="lfsck__striped__dir_8c_source.html#l01817">lfsck_namespace_striped_dir_rescan()</a>.</p>

</div>
</div>
<a class="anchor" id="affecaf5740f2286fa1f2ccceaefff55c"></a><!-- doxytag: member="lfsck_lib.c::lfsck_async_interpret" ref="affecaf5740f2286fa1f2ccceaefff55c" args="(const struct lu_env *env, struct ptlrpc_request *req, void *args, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_async_interpret </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02352">2352</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l00741">lfsck_async_interpret_args::laia_ltd</a>, <a class="el" href="lfsck__internal_8h_source.html#l00740">lfsck_async_interpret_args::laia_ltds</a>, <a class="el" href="lfsck__internal_8h_source.html#l00744">lfsck_async_interpret_args::laia_result</a>, <a class="el" href="lfsck__lib_8c_source.html#l02236">lfsck_interpret()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, and <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l02848">lfsck_start_all()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l02778">lfsck_stop_all()</a>.</p>

</div>
</div>
<a class="anchor" id="adb8936a0e8a677bf08ec493bae27ee2b"></a><!-- doxytag: member="lfsck_lib.c::lfsck_async_interpret_common" ref="adb8936a0e8a677bf08ec493bae27ee2b" args="(const struct lu_env *env, struct ptlrpc_request *req, void *args, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_async_interpret_common </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generic LFSCK asynchronous communication interpretor function. </p>
<p>The LFSCK RPC reply for both the event notification and status querying will be handled here.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>req</em>&nbsp;</td><td>pointer to the LFSCK request </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>args</em>&nbsp;</td><td>pointer to the <a class="el" href="structlfsck__async__interpret__args.html">lfsck_async_interpret_args</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rc</em>&nbsp;</td><td>the result for handling the LFSCK request</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02021">2021</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lfsck__internal_8h_source.html#l00817">lfsck_assistant_data::lad_mdt_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00820">lfsck_assistant_data::lad_mdt_phase1_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00823">lfsck_assistant_data::lad_mdt_phase2_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00825">lfsck_assistant_data::lad_name</a>, <a class="el" href="lfsck__internal_8h_source.html#l00808">lfsck_assistant_data::lad_ost_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00811">lfsck_assistant_data::lad_ost_phase1_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00814">lfsck_assistant_data::lad_ost_phase2_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00739">lfsck_async_interpret_args::laia_com</a>, <a class="el" href="lfsck__internal_8h_source.html#l00742">lfsck_async_interpret_args::laia_lr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00741">lfsck_async_interpret_args::laia_ltd</a>, <a class="el" href="lfsck__internal_8h_source.html#l00740">lfsck_async_interpret_args::laia_ltds</a>, <a class="el" href="lfsck__internal_8h_source.html#l00745">lfsck_async_interpret_args::laia_shared</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00544">lfsck_component::lc_data</a>, <a class="el" href="lfsck__internal_8h_source.html#l00542">lfsck_component::lc_file_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00538">lfsck_component::lc_lfsck</a>, <a class="el" href="lfsck__internal_8h_source.html#l00561">lfsck_component::lc_type</a>, <a class="el" href="lustre__idl_8h_source.html#l03466">LE_PEER_EXIT</a>, <a class="el" href="lustre__idl_8h_source.html#l03460">LE_PHASE1_DONE</a>, <a class="el" href="lustre__idl_8h_source.html#l03461">LE_PHASE2_DONE</a>, <a class="el" href="lustre__idl_8h_source.html#l03464">LE_QUERY</a>, <a class="el" href="lustre__idl_8h_source.html#l03462">LE_START</a>, <a class="el" href="lustre__idl_8h_source.html#l03463">LE_STOP</a>, <a class="el" href="lustre__idl_8h_source.html#l03481">LEF_QUERY_ALL</a>, <a class="el" href="lustre__idl_8h_source.html#l03476">LEF_TO_OST</a>, <a class="el" href="lfsck__internal_8h_source.html#l00065">LF_INCOMPLETE</a>, <a class="el" href="lfsck__internal_8h_source.html#l01352">lfsck_component_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01403">lfsck_lad_set_bitmap()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00098">lfsck_reset_ltd_status()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00168">LFSCK_TYPE_LAYOUT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_master</a>, <a class="el" href="lnetctl_8c_source.html#l00969">list</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00301">lfsck_layout::ll_flags</a>, <a class="el" href="lfsck__internal_8h_source.html#l00139">lfsck_namespace::ln_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03430">lfsck_request::lr_event</a>, <a class="el" href="lustre__idl_8h_source.html#l03432">lfsck_request::lr_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03454">lfsck_reply::lr_repaired</a>, <a class="el" href="lustre__idl_8h_source.html#l03452">lfsck_reply::lr_status</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00073">LS_SCANNING_PHASE1</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00077">LS_SCANNING_PHASE2</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_dead</a>, <a class="el" href="lfsck__internal_8h_source.html#l00460">lfsck_tgt_desc::ltd_index</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_layout_done</a>, <a class="el" href="lfsck__internal_8h_source.html#l00451">lfsck_tgt_desc::ltd_layout_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00452">lfsck_tgt_desc::ltd_layout_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00457">lfsck_tgt_desc::ltd_layout_repaired</a>, <a class="el" href="lfsck__internal_8h_source.html#l00455">lfsck_tgt_desc::ltd_layout_status</a>, <a class="el" href="lfsck__internal_8h_source.html#l00481">lfsck_tgt_descs::ltd_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_namespace_done</a>, <a class="el" href="lfsck__internal_8h_source.html#l00453">lfsck_tgt_desc::ltd_namespace_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00454">lfsck_tgt_desc::ltd_namespace_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00458">lfsck_tgt_desc::ltd_namespace_repaired</a>, <a class="el" href="lfsck__internal_8h_source.html#l00456">lfsck_tgt_desc::ltd_namespace_status</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01214">RMF_LFSCK_REPLY</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="lfsck__engine_8c_source.html#l01248">lfsck_assistant_notify_others()</a>, <a class="el" href="lfsck__engine_8c_source.html#l01131">lfsck_assistant_query_others()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02236">lfsck_interpret()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02420">lfsck_query_all()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l02259">lfsck_stop_notify()</a>.</p>

</div>
</div>
<a class="anchor" id="a5fed3a68b6f5eb81f9013efa874fa2a4"></a><!-- doxytag: member="lfsck_lib.c::lfsck_async_request" ref="a5fed3a68b6f5eb81f9013efa874fa2a4" args="(const struct lu_env *env, struct obd_export *exp, struct lfsck_request *lr, struct ptlrpc_request_set *set, ptlrpc_interpterer_t interpreter, void *args, int request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_async_request </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__request.html">lfsck_request</a> *&nbsp;</td>
          <td class="paramname"> <em>lr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net.html#ga80bef25da5dad7e788b4427e8c5e7df6">ptlrpc_interpterer_t</a>&nbsp;</td>
          <td class="paramname"> <em>interpreter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>request</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02369">2369</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lfsck__internal_8h_source.html#l00739">lfsck_async_interpret_args::laia_com</a>, <a class="el" href="lfsck__internal_8h_source.html#l01345">lfsck_component_get()</a>, <a class="el" href="lustre__idl_8h_source.html#l02726">LFSCK_NOTIFY</a>, <a class="el" href="lustre__idl_8h_source.html#l02727">LFSCK_QUERY</a>, <a class="el" href="packet-lustre_8c_source.html#l00076">LUSTRE_OBD_VERSION</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="client_8c_source.html#l01050">ptlrpc_set_add_req()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l01209">RMF_LFSCK_REQUEST</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_allow_intr</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01680">RQF_LFSCK_NOTIFY</a>, and <a class="el" href="layout_8c_source.html#l01684">RQF_LFSCK_QUERY</a>.</p>

<p>Referenced by <a class="el" href="lfsck__engine_8c_source.html#l01248">lfsck_assistant_notify_others()</a>, <a class="el" href="lfsck__engine_8c_source.html#l01131">lfsck_assistant_query_others()</a>, <a class="el" href="lfsck__layout_8c_source.html#l00250">lfsck_layout_assistant_sync_failures()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06245">lfsck_namespace_assistant_sync_failures()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02420">lfsck_query_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02848">lfsck_start_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02778">lfsck_stop_all()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l02259">lfsck_stop_notify()</a>.</p>

</div>
</div>
<a class="anchor" id="abe516a41304b585c949041d0950aa73b"></a><!-- doxytag: member="lfsck_lib.c::lfsck_bits_dump" ref="abe516a41304b585c949041d0950aa73b" args="(struct seq_file *m, int bits, const char *names[], const char *prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_bits_dump </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>names</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01741">1741</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l04750">lfsck_layout_dump()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l04209">lfsck_namespace_dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f9811a3a6a0834e9db6e31711b15b0f"></a><!-- doxytag: member="lfsck_lib.c::lfsck_checkpoint_generic" ref="a0f9811a3a6a0834e9db6e31711b15b0f" args="(const struct lu_env *env, struct lfsck_component *com)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_checkpoint_generic </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02531">2531</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lfsck__internal_8h_source.html#l00805">lfsck_assistant_data::lad_req_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00826">lfsck_assistant_data::lad_thread</a>, <a class="el" href="lfsck__internal_8h_source.html#l00544">lfsck_component::lc_data</a>, <a class="el" href="lfsck__internal_8h_source.html#l00538">lfsck_component::lc_lfsck</a>, <a class="el" href="lfsck__lib_8c_source.html#l00047">LFSCK_CHECKPOINT_SKIP</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, and <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l03944">lfsck_layout_master_checkpoint()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l03866">lfsck_namespace_checkpoint()</a>.</p>

</div>
</div>
<a class="anchor" id="ae724d778f2abcb4b28962980190eb8a6"></a><!-- doxytag: member="lfsck_lib.c::lfsck_component_cleanup" ref="ae724d778f2abcb4b28962980190eb8a6" args="(const struct lu_env *env, struct lfsck_component *com)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_component_cleanup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00318">318</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l00529">lfsck_component::lc_link</a>, <a class="el" href="lfsck__internal_8h_source.html#l00532">lfsck_component::lc_link_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l01352">lfsck_component_put()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, and <a class="el" href="list_8h_source.html#l00161">list_empty()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l01613">lfsck_instance_cleanup()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05556">lfsck_layout_setup()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l06514">lfsck_namespace_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ec34b9d3099402caeb31a697da5156a"></a><!-- doxytag: member="lfsck_lib.c::lfsck_component_find" ref="a7ec34b9d3099402caeb31a697da5156a" args="(struct lfsck_instance *lfsck, __u16 type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlfsck__component.html">lfsck_component</a>* lfsck_component_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00295">295</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00282">__lfsck_component_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01345">lfsck_component_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00649">lfsck_instance::li_list_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00652">lfsck_instance::li_list_idle</a>, <a class="el" href="lfsck__internal_8h_source.html#l00641">lfsck_instance::li_list_scan</a>, and <a class="el" href="lfsck__internal_8h_source.html#l00635">lfsck_instance::li_lock</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l02745">lfsck_dump()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03296">lfsck_in_notify()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05818">lfsck_orphan_it_init()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l03364">lfsck_query()</a>.</p>

</div>
</div>
<a class="anchor" id="ac409556d9d200cda4725c66911141f9e"></a><!-- doxytag: member="lfsck_lib.c::lfsck_control_speed" ref="ac409556d9d200cda4725c66911141f9e" args="(struct lfsck_instance *lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_control_speed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01857">1857</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lfsck__internal_8h_source.html#l00722">lfsck_instance::li_new_scanned</a>, <a class="el" href="lfsck__internal_8h_source.html#l00719">lfsck_instance::li_sleep_jif</a>, <a class="el" href="lfsck__internal_8h_source.html#l00716">lfsck_instance::li_sleep_rate</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="lustre__lib_8h_source.html#l00189">LWI_TIMEOUT_INTR</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, and <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__engine_8c_source.html#l00678">lfsck_master_dir_engine()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00811">lfsck_master_oit_engine()</a>, and <a class="el" href="lfsck__striped__dir_8c_source.html#l01545">lfsck_namespace_scan_shard()</a>.</p>

</div>
</div>
<a class="anchor" id="a499f6bef84e17d8ad4f2b394087d2088"></a><!-- doxytag: member="lfsck_lib.c::lfsck_control_speed_by_self" ref="a499f6bef84e17d8ad4f2b394087d2088" args="(struct lfsck_component *com)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_control_speed_by_self </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01874">1874</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lfsck__internal_8h_source.html#l00538">lfsck_component::lc_lfsck</a>, <a class="el" href="lfsck__internal_8h_source.html#l00559">lfsck_component::lc_new_scanned</a>, <a class="el" href="lfsck__internal_8h_source.html#l00719">lfsck_instance::li_sleep_jif</a>, <a class="el" href="lfsck__internal_8h_source.html#l00716">lfsck_instance::li_sleep_rate</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="lustre__lib_8h_source.html#l00189">LWI_TIMEOUT_INTR</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, and <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l02511">lfsck_layout_scan_orphan()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05977">lfsck_namespace_double_scan_one_trace_file()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l05699">lfsck_namespace_scan_local_lpf()</a>.</p>

</div>
</div>
<a class="anchor" id="abdab9f17477febff7cff623c4ad985e1"></a><!-- doxytag: member="lfsck_lib.c::lfsck_create_lpf" ref="abdab9f17477febff7cff623c4ad985e1" args="(const struct lu_env *env, struct lfsck_instance *lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_create_lpf </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create the MDTxxxx directory under /ROOT/.lustre/lost+found/. </p>
<p>The /ROOT/.lustre/lost+found/MDTxxxx/ directory is used for holding orphans and other uncertain inconsistent objects found during the LFSCK. Such directory will be created by the LFSCK engine on the local MDT before the LFSCK scanning.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lfsck</em>&nbsp;</td><td>pointer to the lfsck instance</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00989">989</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="dt__object_8h_source.html#l00396">dt_object_format::dof_type</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l02654">dt_lookup()</a>, <a class="el" href="dt__object_8c_source.html#l00192">dt_mode_to_dft()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00444">LA_ATIME</a>, <a class="el" href="lu__object_8h_source.html#l00413">lu_attr::la_atime</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00415">lu_attr::la_ctime</a>, <a class="el" href="lu__object_8h_source.html#l00450">LA_GID</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00411">lu_attr::la_mtime</a>, <a class="el" href="lu__object_8h_source.html#l00449">LA_UID</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00102">lfsck_bookmark::lb_lpf_fid</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00099">lfsck_bookmark_store()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00615">lfsck_create_lpf_local()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00774">lfsck_create_lpf_remote()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01231">lfsck_dev_idx()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00329">lfsck_fid_alloc()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00468">lfsck_lock()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01283">lfsck_object_find_bottom()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01219">lfsck_object_put()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00520">lfsck_unlock()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00678">lfsck_instance::li_lpf_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00679">lfsck_instance::li_lpf_root_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_master</a>, <a class="el" href="lfsck__internal_8h_source.html#l00873">lfsck_thread_info::lti_dof</a>, <a class="el" href="lfsck__internal_8h_source.html#l00863">lfsck_thread_info::lti_fid2</a>, <a class="el" href="lfsck__internal_8h_source.html#l00865">lfsck_thread_info::lti_la</a>, <a class="el" href="lfsck__internal_8h_source.html#l00900">lfsck_thread_info::lti_llh</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l01371">lfsck_verify_lpf()</a>.</p>

</div>
</div>
<a class="anchor" id="a08483e64fa651ee38e3132e403c97d72"></a><!-- doxytag: member="lfsck_lib.c::lfsck_create_lpf_local" ref="a08483e64fa651ee38e3132e403c97d72" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct dt_object *child, struct lu_attr *la, struct dt_object_format *dof, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_create_lpf_local </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00615">615</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00542">dot</a>, <a class="el" href="lfsck__lib_8c_source.html#l00543">dotdot</a>, <a class="el" href="dt__object_8h_source.html#l02120">dt_create()</a>, <a class="el" href="dt__object_8h_source.html#l02103">dt_declare_create()</a>, <a class="el" href="dt__object_8h_source.html#l02481">dt_declare_insert()</a>, <a class="el" href="dt__object_8h_source.html#l02087">dt_declare_record_write()</a>, <a class="el" href="dt__object_8h_source.html#l02266">dt_declare_ref_add()</a>, <a class="el" href="dt__object_8h_source.html#l02543">dt_declare_xattr_set()</a>, <a class="el" href="dt__object_8h_source.html#l02497">dt_insert()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8c_source.html#l00504">dt_record_write()</a>, <a class="el" href="dt__object_8h_source.html#l02279">dt_ref_add()</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="dt__object_8h_source.html#l02559">dt_xattr_set()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lfsck__internal_8h_source.html#l00102">lfsck_bookmark::lb_lpf_fid</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00040">linkea_data::ld_leh</a>, <a class="el" href="lustre__idl_8h_source.html#l03675">link_ea_header::leh_len</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00054">lfsck_bookmark_cpu_to_le()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01112">lfsck_buf_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01105">lfsck_buf_init()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01138">lfsck_dto2fid()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01094">lfsck_name_get_const()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01078">lfsck_obj2dev()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00682">lfsck_instance::li_bookmark_disk</a>, <a class="el" href="lfsck__internal_8h_source.html#l00677">lfsck_instance::li_bookmark_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00679">lfsck_instance::li_lpf_root_obj</a>, <a class="el" href="linkea_8c_source.html#l00113">linkea_add_buf()</a>, <a class="el" href="linkea_8c_source.html#l00034">linkea_data_new()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00893">lfsck_thread_info::lti_dt_rec</a>, <a class="el" href="fid__lib_8c_source.html#l00096">LU_LPF_FID</a>, <a class="el" href="dt__object_8h_source.html#l02684">dt_insert_rec::rec_fid</a>, <a class="el" href="dt__object_8h_source.html#l02689">dt_insert_rec::rec_type</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="rename__many_8c_source.html#l00056">stop</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l00989">lfsck_create_lpf()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b6ed21e41cc74741d314a512b3b549d"></a><!-- doxytag: member="lfsck_lib.c::lfsck_create_lpf_remote" ref="a0b6ed21e41cc74741d314a512b3b549d" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct dt_object *child, struct lu_attr *la, struct dt_object_format *dof, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_create_lpf_remote </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00774">774</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lfsck__lib_8c_source.html#l00542">dot</a>, <a class="el" href="lfsck__lib_8c_source.html#l00543">dotdot</a>, <a class="el" href="dt__object_8h_source.html#l02120">dt_create()</a>, <a class="el" href="dt__object_8h_source.html#l02103">dt_declare_create()</a>, <a class="el" href="dt__object_8h_source.html#l02481">dt_declare_insert()</a>, <a class="el" href="dt__object_8h_source.html#l02087">dt_declare_record_write()</a>, <a class="el" href="dt__object_8h_source.html#l02266">dt_declare_ref_add()</a>, <a class="el" href="dt__object_8h_source.html#l02543">dt_declare_xattr_set()</a>, <a class="el" href="dt__object_8h_source.html#l02497">dt_insert()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8c_source.html#l00504">dt_record_write()</a>, <a class="el" href="dt__object_8h_source.html#l02279">dt_ref_add()</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="dt__object_8h_source.html#l02559">dt_xattr_set()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lfsck__internal_8h_source.html#l00102">lfsck_bookmark::lb_lpf_fid</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00040">linkea_data::ld_leh</a>, <a class="el" href="lustre__idl_8h_source.html#l03675">link_ea_header::leh_len</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00054">lfsck_bookmark_cpu_to_le()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01112">lfsck_buf_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01105">lfsck_buf_init()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01138">lfsck_dto2fid()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01094">lfsck_name_get_const()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01078">lfsck_obj2dev()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00682">lfsck_instance::li_bookmark_disk</a>, <a class="el" href="lfsck__internal_8h_source.html#l00677">lfsck_instance::li_bookmark_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00679">lfsck_instance::li_lpf_root_obj</a>, <a class="el" href="linkea_8c_source.html#l00113">linkea_add_buf()</a>, <a class="el" href="linkea_8c_source.html#l00034">linkea_data_new()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00893">lfsck_thread_info::lti_dt_rec</a>, <a class="el" href="fid__lib_8c_source.html#l00096">LU_LPF_FID</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="dt__object_8h_source.html#l02684">dt_insert_rec::rec_fid</a>, <a class="el" href="dt__object_8h_source.html#l02689">dt_insert_rec::rec_type</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="rename__many_8c_source.html#l00056">stop</a>, <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_sync</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l00989">lfsck_create_lpf()</a>.</p>

</div>
</div>
<a class="anchor" id="a7091e2db2c9162a8b217af9b67fde5a6"></a><!-- doxytag: member="lfsck_lib.c::lfsck_degister" ref="a7091e2db2c9162a8b217af9b67fde5a6" args="(const struct lu_env *env, struct dt_device *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_degister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03651">3651</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, and <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00875">mdd_device_shutdown()</a>, and <a class="el" href="ofd__dev_8c_source.html#l02983">ofd_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a9042b0c252f235c1749c4249b1f216e8"></a><!-- doxytag: member="lfsck_lib.c::lfsck_del_target" ref="a9042b0c252f235c1749c4249b1f216e8" args="(const struct lu_env *env, struct dt_device *key, struct dt_device *tgt, __u32 index, bool for_ost)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_del_target </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>tgt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>for_ost</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03710">3710</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l01694">__lfsck_instance_find()</a>, <a class="el" href="bitmap_8h_source.html#l00081">cfs_bitmap_clear()</a>, <a class="el" href="writemany_8c_source.html#l00074">head</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00508">lfsck_assign_tgt()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00494">lfsck_ltd2tgt()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00068">lfsck_mdt_orphan_list</a>, <a class="el" href="lfsck__lib_8c_source.html#l00067">lfsck_ost_orphan_list</a>, <a class="el" href="lfsck__lib_8c_source.html#l02259">lfsck_stop_notify()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00168">LFSCK_TYPE_LAYOUT</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00171">LFSCK_TYPE_NAMESPACE</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00701">lfsck_instance::li_ost_descs</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_dead</a>, <a class="el" href="lfsck__internal_8h_source.html#l00481">lfsck_tgt_descs::ltd_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00487">lfsck_tgt_descs::ltd_orphan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00447">lfsck_tgt_desc::ltd_orphan_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00484">lfsck_tgt_descs::ltd_rw_sem</a>, <a class="el" href="lfsck__internal_8h_source.html#l00448">lfsck_tgt_desc::ltd_tgt</a>, <a class="el" href="lfsck__internal_8h_source.html#l00490">lfsck_tgt_descs::ltd_tgtnr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00478">lfsck_tgt_descs::ltd_tgts_bitmap</a>, <a class="el" href="bitmap_8h_source.html#l00040">cfs_bitmap::size</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lod__lov_8c_source.html#l00456">__lod_del_device()</a>.</p>

</div>
</div>
<a class="anchor" id="aa484cbbcab8be42ead2a8c9fddedc29c"></a><!-- doxytag: member="lfsck_lib.c::lfsck_double_scan_generic" ref="aa484cbbcab8be42ead2a8c9fddedc29c" args="(const struct lu_env *env, struct lfsck_component *com, int status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_double_scan_generic </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02580">2580</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lfsck__internal_8h_source.html#l00835">lfsck_assistant_data::lad_assistant_status</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_exit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_in_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00825">lfsck_assistant_data::lad_name</a>, <a class="el" href="lfsck__internal_8h_source.html#l00826">lfsck_assistant_data::lad_thread</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_to_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00544">lfsck_component::lc_data</a>, <a class="el" href="lfsck__internal_8h_source.html#l00538">lfsck_component::lc_lfsck</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00077">LS_SCANNING_PHASE2</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l04912">lfsck_layout_master_double_scan()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l04380">lfsck_namespace_double_scan()</a>.</p>

</div>
</div>
<a class="anchor" id="a26f928638b86832390e06791fdde81fa"></a><!-- doxytag: member="lfsck_lib.c::lfsck_dump" ref="a26f928638b86832390e06791fdde81fa" args="(struct seq_file *m, struct dt_device *key, enum lfsck_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_dump </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="lustre__lfsck__user_8h.html#a9227f249ebe4f9e66a984a270cd6fd95">lfsck_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02745">2745</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00541">lfsck_component::lc_ops</a>, <a class="el" href="lu__object_8h_source.html#l00999">LCT_DT_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lfsck__lib_8c_source.html#l00295">lfsck_component_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01352">lfsck_component_put()</a>, <a class="el" href="structlfsck__operations.html#a8fe2d3acc7b9dbafaac508ed092e689f">lfsck_operations::lfsck_dump</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__lproc_8c_source.html#l00330">mdd_lfsck_layout_seq_show()</a>, and <a class="el" href="mdd__lproc_8c_source.html#l00320">mdd_lfsck_namespace_seq_show()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6c06d1af5a0971b86fb657dfcf77fc7"></a><!-- doxytag: member="lfsck_lib.c::lfsck_exit" ref="ac6c06d1af5a0971b86fb657dfcf77fc7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __exit lfsck_exit </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03807">3807</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__lib_8c_source.html#l00066">lfsck_instance_list</a>, <a class="el" href="lfsck__lib_8c_source.html#l00068">lfsck_mdt_orphan_list</a>, <a class="el" href="lfsck__lib_8c_source.html#l00067">lfsck_ost_orphan_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="lfsck__internal_8h.html#aeff576b7c084908278912545672aa6d0">lfsck_thread_key</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lfsck__internal_8h_source.html#l00447">lfsck_tgt_desc::ltd_orphan_list</a>, and <a class="el" href="lu__object_8c_source.html#l01455">lu_context_key_degister()</a>.</p>

</div>
</div>
<a class="anchor" id="af50cdbcf1743b1d7dee64e0a62df834d"></a><!-- doxytag: member="lfsck_lib.c::lfsck_fid_alloc" ref="af50cdbcf1743b1d7dee64e0a62df834d" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct lu_fid *fid, bool locked)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_fid_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>locked</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00329">329</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00105">lfsck_bookmark::lb_last_fid</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00099">lfsck_bookmark_store()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00634">lfsck_instance::li_mutex</a>, <a class="el" href="lfsck__internal_8h_source.html#l00680">lfsck_instance::li_seq</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="fid__request_8c_source.html#l00320">seq_client_alloc_fid()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l00989">lfsck_create_lpf()</a>, and <a class="el" href="lfsck__layout_8c_source.html#l01697">lfsck_layout_recreate_parent()</a>.</p>

</div>
</div>
<a class="anchor" id="a4f20970c7eda6a1ee014edaa3a75da60"></a><!-- doxytag: member="lfsck_lib.c::lfsck_fid_fini" ref="a4f20970c7eda6a1ee014edaa3a75da60" args="(struct lfsck_instance *lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lfsck_fid_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01604">1604</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l00680">lfsck_instance::li_seq</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="fid__request_8c_source.html#l00506">seq_client_fini()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l01613">lfsck_instance_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b5a232f79a84771255cdc6d45811f68"></a><!-- doxytag: member="lfsck_lib.c::lfsck_fid_init" ref="a8b5a232f79a84771255cdc6d45811f68" args="(struct lfsck_instance *lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_fid_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01566">1566</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lfsck__internal_8h_source.html#l00105">lfsck_bookmark::lb_last_fid</a>, <a class="el" href="lustre__fid_8h_source.html#l00367">lu_client_seq::lcs_fid</a>, <a class="el" href="lfsck__internal_8h_source.html#l01226">lfsck_dev_site()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00680">lfsck_instance::li_seq</a>, <a class="el" href="lustre__fid_8h_source.html#l00339">LUSTRE_SEQ_METADATA</a>, <a class="el" href="lustre__user_8h_source.html#l00316">MAX_OBD_NAME</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="fid__request_8c_source.html#l00468">seq_client_init()</a>, <a class="el" href="lustre__fid_8h_source.html#l00464">seq_server_site::ss_server_seq</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03474">lfsck_register()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7c1dbcdae1c09a1496699e6024f1d94"></a><!-- doxytag: member="lfsck_lib.c::lfsck_find_mdt_idx_by_fid" ref="aa7c1dbcdae1c09a1496699e6024f1d94" args="(const struct lu_env *env, struct lfsck_instance *lfsck, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_find_mdt_idx_by_fid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00526">526</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="seq__range_8h_source.html#l00091">fld_range_set_mdt()</a>, <a class="el" href="fld__handler_8c_source.html#l00241">fld_server_lookup()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01226">lfsck_dev_site()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lustre__idl_8h_source.html#l00156">lu_seq_range::lsr_index</a>, <a class="el" href="lfsck__internal_8h_source.html#l00895">lfsck_thread_info::lti_range</a>, and <a class="el" href="lustre__fid_8h_source.html#l00458">seq_server_site::ss_server_fld</a>.</p>

<p>Referenced by <a class="el" href="lfsck__internal_8h_source.html#l01254">lfsck_find_dev_by_fid()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05012">lfsck_namespace_assistant_handler_p1()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01226">lfsck_namespace_create_orphan_dir()</a>, and <a class="el" href="lfsck__striped__dir_8c_source.html#l02248">lfsck_namespace_handle_striped_master()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf5eb3adb82d363468a2742acd9a20e2"></a><!-- doxytag: member="lfsck_lib.c::lfsck_get_speed" ref="aaf5eb3adb82d363468a2742acd9a20e2" args="(struct seq_file *m, struct dt_device *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_get_speed </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02631">2631</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00093">lfsck_bookmark::lb_speed_limit</a>, <a class="el" href="lu__object_8h_source.html#l00999">LCT_DT_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__lproc_8c_source.html#l00261">mdd_lfsck_speed_limit_seq_show()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2ad2c2869a6c925c077414d488aef1b"></a><!-- doxytag: member="lfsck_lib.c::lfsck_get_windows" ref="ae2ad2c2869a6c925c077414d488aef1b" args="(struct seq_file *m, struct dt_device *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_get_windows </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02684">2684</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00096">lfsck_bookmark::lb_async_windows</a>, <a class="el" href="lu__object_8h_source.html#l00999">LCT_DT_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__lproc_8c_source.html#l00290">mdd_lfsck_async_windows_seq_show()</a>.</p>

</div>
</div>
<a class="anchor" id="a78fb1ef9b282636ee28936fe69c56bec"></a><!-- doxytag: member="lfsck_lib.c::lfsck_ibits_lock" ref="a78fb1ef9b282636ee28936fe69c56bec" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct dt_object *obj, struct lustre_handle *lh, __u64 bits, enum ldlm_mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_ibits_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Request the specified ibits lock for the given object. </p>
<p>Before the LFSCK modifying on the namespace visible object, it needs to acquire related ibits ldlm lock.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lfsck</em>&nbsp;</td><td>pointer to the lfsck instance </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the <a class="el" href="structdt__object.html">dt_object</a> to be locked </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>lh</em>&nbsp;</td><td>pointer to the lock handle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bits</em>&nbsp;</td><td>the bits for the ldlm lock to be acquired </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mode</em>&nbsp;</td><td>the mode for the ldlm lock to be acquired</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00415">415</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00355">__lfsck_ibits_lock()</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l01138">lfsck_dto2fid()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00885">lfsck_thread_info::lti_resid</a>, and <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l03085">lfsck_layout_check_parent()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02071">lfsck_layout_conflict_create()</a>, <a class="el" href="lfsck__layout_8c_source.html#l04370">lfsck_layout_master_exec_oit()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02169">lfsck_layout_recreate_lovea()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02625">lfsck_layout_repair_dangling()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02829">lfsck_layout_repair_multiple_references()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02732">lfsck_layout_repair_unmatched_pair()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05012">lfsck_namespace_assistant_handler_p1()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l02990">lfsck_namespace_double_scan_dir()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04005">lfsck_namespace_exec_oit()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l00861">lfsck_namespace_insert_orphan()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01990">lfsck_namespace_repair_dirent()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l02853">lfsck_namespace_repair_nlink()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01711">lfsck_namespace_replace_cond()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01359">lfsck_namespace_set_lmv_master()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01498">lfsck_namespace_shrink_linkea()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01817">lfsck_namespace_striped_dir_rescan()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l00993">lfsck_namespace_update_lmv()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l00301">lfsck_remove_lmv()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l01213">lfsck_verify_lpf_pairs()</a>.</p>

</div>
</div>
<a class="anchor" id="a5641b50be030cde48d9b7ce69a8935a6"></a><!-- doxytag: member="lfsck_lib.c::lfsck_ibits_unlock" ref="a5641b50be030cde48d9b7ce69a8935a6" args="(struct lustre_handle *lh, enum ldlm_mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_ibits_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release the the specified ibits lock. </p>
<p>If the lock has been acquired before, release it and cleanup the handle. Otherwise, do nothing.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lh</em>&nbsp;</td><td>pointer to the lock handle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mode</em>&nbsp;</td><td>the mode for the ldlm lock to be released </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00436">436</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l03085">lfsck_layout_check_parent()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02071">lfsck_layout_conflict_create()</a>, <a class="el" href="lfsck__layout_8c_source.html#l04370">lfsck_layout_master_exec_oit()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02169">lfsck_layout_recreate_lovea()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02625">lfsck_layout_repair_dangling()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02829">lfsck_layout_repair_multiple_references()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02732">lfsck_layout_repair_unmatched_pair()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00468">lfsck_lock()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05012">lfsck_namespace_assistant_handler_p1()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l02990">lfsck_namespace_double_scan_dir()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l02604">lfsck_namespace_dsd_multiple()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l02263">lfsck_namespace_dsd_orphan()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l02328">lfsck_namespace_dsd_single()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04005">lfsck_namespace_exec_oit()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l00861">lfsck_namespace_insert_orphan()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01990">lfsck_namespace_repair_dirent()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l02853">lfsck_namespace_repair_nlink()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01711">lfsck_namespace_replace_cond()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01359">lfsck_namespace_set_lmv_master()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01498">lfsck_namespace_shrink_linkea()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01817">lfsck_namespace_striped_dir_rescan()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l00993">lfsck_namespace_update_lmv()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l00301">lfsck_remove_lmv()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00520">lfsck_unlock()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l01213">lfsck_verify_lpf_pairs()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b24d071f33cd377e5347ac5af87c59d"></a><!-- doxytag: member="lfsck_lib.c::lfsck_in_notify" ref="a8b24d071f33cd377e5347ac5af87c59d" args="(const struct lu_env *env, struct dt_device *key, struct lfsck_request *lr, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_in_notify </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__request.html">lfsck_request</a> *&nbsp;</td>
          <td class="paramname"> <em>lr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03296">3296</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00541">lfsck_component::lc_ops</a>, <a class="el" href="lustre__idl_8h_source.html#l03467">LE_CONDITIONAL_DESTROY</a>, <a class="el" href="lustre__idl_8h_source.html#l03465">LE_FID_ACCESSED</a>, <a class="el" href="lustre__idl_8h_source.html#l03468">LE_PAIRS_VERIFY</a>, <a class="el" href="lustre__idl_8h_source.html#l03466">LE_PEER_EXIT</a>, <a class="el" href="lustre__idl_8h_source.html#l03460">LE_PHASE1_DONE</a>, <a class="el" href="lustre__idl_8h_source.html#l03461">LE_PHASE2_DONE</a>, <a class="el" href="lustre__idl_8h_source.html#l03471">LE_SET_LMV_MASTER</a>, <a class="el" href="lustre__idl_8h_source.html#l03472">LE_SET_LMV_SLAVE</a>, <a class="el" href="lustre__idl_8h_source.html#l03470">LE_SKIP_NLINK</a>, <a class="el" href="lustre__idl_8h_source.html#l03469">LE_SKIP_NLINK_DECLARE</a>, <a class="el" href="lustre__idl_8h_source.html#l03462">LE_START</a>, <a class="el" href="lustre__idl_8h_source.html#l03463">LE_STOP</a>, <a class="el" href="lfsck__lib_8c_source.html#l00295">lfsck_component_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01352">lfsck_component_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="structlfsck__operations.html#a168bc6424a32d7c13aea5061c0fa98f8">lfsck_operations::lfsck_in_notify</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03213">lfsck_stop()</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00148">LPF_BROADCAST</a>, <a class="el" href="lustre__idl_8h_source.html#l03440">lfsck_request::lr_active</a>, <a class="el" href="lustre__idl_8h_source.html#l03442">lfsck_request::lr_async_windows</a>, <a class="el" href="lustre__idl_8h_source.html#l03430">lfsck_request::lr_event</a>, <a class="el" href="lustre__idl_8h_source.html#l03431">lfsck_request::lr_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03441">lfsck_request::lr_param</a>, <a class="el" href="lustre__idl_8h_source.html#l03435">lfsck_request::lr_speed</a>, <a class="el" href="lustre__idl_8h_source.html#l03436">lfsck_request::lr_status</a>, <a class="el" href="lustre__idl_8h_source.html#l03433">lfsck_request::lr_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l03439">lfsck_request::lr_version</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00208">lfsck_start::ls_active</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00214">lfsck_start::ls_async_windows</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00219">lfsck_stop::ls_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00211">lfsck_start::ls_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00202">lfsck_start::ls_speed_limit</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00218">lfsck_stop::ls_status</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00199">lfsck_start::ls_valid</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00205">lfsck_start::ls_version</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00043">lfsck_start_param::lsp_index</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00044">lfsck_start_param::lsp_index_valid</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00042">lfsck_start_param::lsp_start</a>, <a class="el" href="lfsck__internal_8h_source.html#l00881">lfsck_thread_info::lti_start</a>, <a class="el" href="lfsck__internal_8h_source.html#l00882">lfsck_thread_info::lti_stop</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="rename__many_8c_source.html#l00057">start</a>, <a class="el" href="rename__many_8c_source.html#l00056">stop</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03790">lfsck_init()</a>, <a class="el" href="mdd__dir_8c_source.html#l01188">mdd_declare_links_add()</a>, <a class="el" href="mdd__dir_8c_source.html#l01149">mdd_links_write()</a>, <a class="el" href="ofd__io_8c_source.html#l00065">ofd_inconsistency_verify_one()</a>, and <a class="el" href="ofd__objects_8c_source.html#l00206">ofd_precreate_objects()</a>.</p>

</div>
</div>
<a class="anchor" id="a976d68711b559df6f16930da563e1f1d"></a><!-- doxytag: member="lfsck_lib.c::lfsck_init" ref="a976d68711b559df6f16930da563e1f1d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __init lfsck_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03790">3790</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lfsck__lib_8c_source.html#l03296">lfsck_in_notify()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00066">lfsck_instance_list</a>, <a class="el" href="lfsck__lib_8c_source.html#l00068">lfsck_mdt_orphan_list</a>, <a class="el" href="lfsck__lib_8c_source.html#l00067">lfsck_ost_orphan_list</a>, <a class="el" href="lfsck__internal_8h.html#aeff576b7c084908278912545672aa6d0">lfsck_thread_key</a>, <a class="el" href="lu__object_8c_source.html#l01401">lu_context_key_register()</a>, <a class="el" href="tgt__handler_8c_source.html#l01559">tgt_register_lfsck_in_notify()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01574">tgt_register_lfsck_query()</a>.</p>

</div>
</div>
<a class="anchor" id="a3336c855ab4f9d2c9ddc3a72663cb6de"></a><!-- doxytag: member="lfsck_lib.c::lfsck_instance_add" ref="a3336c855ab4f9d2c9ddc3a72663cb6de" args="(struct lfsck_instance *lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_instance_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01724">1724</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00066">lfsck_instance_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00670">lfsck_instance::li_bottom</a>, <a class="el" href="lfsck__internal_8h_source.html#l00638">lfsck_instance::li_link</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, and <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03474">lfsck_register()</a>.</p>

</div>
</div>
<a class="anchor" id="a474e8af1234983aaac508e097a6591b1"></a><!-- doxytag: member="lfsck_lib.c::lfsck_instance_cleanup" ref="a474e8af1234983aaac508e097a6591b1" args="(const struct lu_env *env, struct lfsck_instance *lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_instance_cleanup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01613">1613</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lfsck__lib_8c_source.html#l00318">lfsck_component_cleanup()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01604">lfsck_fid_fini()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l00155">lfsck_lmv_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01219">lfsck_object_put()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00121">lfsck_tgt_descs_fini()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00677">lfsck_instance::li_bookmark_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00676">lfsck_instance::li_lfsck_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l00638">lfsck_instance::li_link</a>, <a class="el" href="lfsck__internal_8h_source.html#l00646">lfsck_instance::li_list_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l00649">lfsck_instance::li_list_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00652">lfsck_instance::li_list_idle</a>, <a class="el" href="lfsck__internal_8h_source.html#l00655">lfsck_instance::li_list_lmv</a>, <a class="el" href="lfsck__internal_8h_source.html#l00641">lfsck_instance::li_list_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00686">lfsck_instance::li_lmv</a>, <a class="el" href="lfsck__internal_8h_source.html#l00673">lfsck_instance::li_los</a>, <a class="el" href="lfsck__internal_8h_source.html#l00678">lfsck_instance::li_lpf_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00679">lfsck_instance::li_lpf_root_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00692">lfsck_instance::li_obj_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l00689">lfsck_instance::li_obj_oit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00701">lfsck_instance::li_ost_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lfsck__internal_8h_source.html#l00594">lfsck_lmv::ll_ref</a>, <a class="el" href="lfsck__internal_8h_source.html#l00620">lfsck_lmv_unit::llu_lmv</a>, <a class="el" href="local__storage_8c_source.html#l00936">local_oid_storage_fini()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01537">thread_is_init()</a>, and <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l03474">lfsck_register()</a>.</p>

</div>
</div>
<a class="anchor" id="aa672e5f8f93c88210e5beaecff3eb945"></a><!-- doxytag: member="lfsck_lib.c::lfsck_instance_find" ref="aa672e5f8f93c88210e5beaecff3eb945" args="(struct dt_device *key, bool ref, bool unlink)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a>* lfsck_instance_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>unlink</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01712">1712</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l01694">__lfsck_instance_find()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03651">lfsck_degister()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02745">lfsck_dump()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02631">lfsck_get_speed()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02684">lfsck_get_windows()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03296">lfsck_in_notify()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05818">lfsck_orphan_it_init()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03364">lfsck_query()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03474">lfsck_register()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03457">lfsck_register_namespace()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02656">lfsck_set_speed()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02709">lfsck_set_windows()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l03213">lfsck_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a4db2518593b06222eb01a6b57d0deb37"></a><!-- doxytag: member="lfsck_lib.c::lfsck_interpret" ref="a4db2518593b06222eb01a6b57d0deb37" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct ptlrpc_request *req, void *args, int result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lfsck_interpret </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02236">2236</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l00739">lfsck_async_interpret_args::laia_com</a>, <a class="el" href="lfsck__internal_8h_source.html#l00745">lfsck_async_interpret_args::laia_shared</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00529">lfsck_component::lc_link</a>, <a class="el" href="lfsck__lib_8c_source.html#l02021">lfsck_async_interpret_common()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00649">lfsck_instance::li_list_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00641">lfsck_instance::li_list_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00635">lfsck_instance::li_lock</a>, and <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l02352">lfsck_async_interpret()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02848">lfsck_start_all()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l02778">lfsck_stop_all()</a>.</p>

</div>
</div>
<a class="anchor" id="a72ce4d0866725b2563cc0d466771044b"></a><!-- doxytag: member="lfsck_lib.c::lfsck_key_fini" ref="a72ce4d0866725b2563cc0d466771044b" args="(const struct lu_context *ctx, struct lu_context_key *key, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lfsck_key_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00052">52</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l00861">lfsck_thread_info::lti_big_buf</a>, <a class="el" href="lfsck__internal_8h_source.html#l00859">lfsck_thread_info::lti_linkea_buf</a>, <a class="el" href="lfsck__internal_8h_source.html#l00860">lfsck_thread_info::lti_linkea_buf2</a>, <a class="el" href="lu__object_8c_source.html#l02339">lu_buf_free()</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

</div>
</div>
<a class="anchor" id="a7ffad8457ec83d8c3b1fc036d5de0ed1"></a><!-- doxytag: member="lfsck_lib.c::lfsck_lock" ref="a7ffad8457ec83d8c3b1fc036d5de0ed1" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct dt_object *obj, const char *name, struct lfsck_lock_handle *llh, __u64 bits, enum ldlm_mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__lock__handle.html">lfsck_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Request compound ibits locks for the given &lt;obj, name&gt; pairs. </p>
<p>Before the LFSCK modifying on the namespace visible object, it needs to acquire related ibits ldlm lock. Usually, we can use lfsck_ibits_lock for the lock purpose. But the simple lfsck_ibits_lock for directory-based modificationis (such as insert name entry to the directory) may be too coarse-grained and not efficient.</p>
<p>The <a class="el" href="lfsck__internal_8h.html#a7ffad8457ec83d8c3b1fc036d5de0ed1" title="Request compound ibits locks for the given &lt;obj, name&gt; pairs.">lfsck_lock()</a> will request compound ibits locks on the specified &lt;obj, name&gt; pairs: the PDO (Parallel Directory Operations) ibits (UPDATE) lock on the directory object, and the regular ibits lock on the name hash.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lfsck</em>&nbsp;</td><td>pointer to the lfsck instance </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the <a class="el" href="structdt__object.html">dt_object</a> to be locked </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>used for building the PDO lock resource </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>llh</em>&nbsp;</td><td>pointer to the <a class="el" href="structlfsck__lock__handle.html">lfsck_lock_handle</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bits</em>&nbsp;</td><td>the bits for the ldlm lock to be acquired </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mode</em>&nbsp;</td><td>the mode for the ldlm lock to be acquired</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00468">468</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00355">__lfsck_ibits_lock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="packet-lustre_8c_source.html#l00295">LCK_CR</a>, <a class="el" href="packet-lustre_8c_source.html#l00294">LCK_CW</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lfsck__internal_8h_source.html#l01138">lfsck_dto2fid()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00436">lfsck_ibits_unlock()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01201">lfsck_object_type()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00848">lfsck_lock_handle::llh_pdo_lh</a>, <a class="el" href="lfsck__internal_8h_source.html#l00850">lfsck_lock_handle::llh_pdo_mode</a>, <a class="el" href="lfsck__internal_8h_source.html#l00849">lfsck_lock_handle::llh_reg_lh</a>, <a class="el" href="lfsck__internal_8h_source.html#l00851">lfsck_lock_handle::llh_reg_mode</a>, <a class="el" href="lfsck__internal_8h_source.html#l00885">lfsck_thread_info::lti_resid</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="lustre__idl_8h_source.html#l02108">LUSTRE_RES_ID_HSH_OFF</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="lustre__idl_8h_source.html#l02780">ldlm_res_id::name</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l00989">lfsck_create_lpf()</a>, <a class="el" href="lfsck__layout_8c_source.html#l01697">lfsck_layout_recreate_parent()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00561">lfsck_lpf_remove_name_entry()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01226">lfsck_namespace_create_orphan_dir()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01092">lfsck_namespace_insert_normal()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l00861">lfsck_namespace_insert_orphan()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04790">lfsck_namespace_repair_dangling()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01990">lfsck_namespace_repair_dirent()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01711">lfsck_namespace_replace_cond()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01624">lfsck_namespace_shrink_linkea_cond()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l06441">lfsck_update_name_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="a04fa2f12c6284e9796079e0a7dfdb90f"></a><!-- doxytag: member="lfsck_lib.c::lfsck_lpf_remove_name_entry" ref="a04fa2f12c6284e9796079e0a7dfdb90f" args="(const struct lu_env *env, struct lfsck_instance *lfsck, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_lpf_remove_name_entry </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove the name entry from the .lustre/lost+found directory. </p>
<p>No need to care about the object referenced by the name entry, either the name entry is invalid or redundant, or the referenced object has been processed or will be handled by others.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lfsck</em>&nbsp;</td><td>pointer to the lfsck instance </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name for the name entry to be removed</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00561">561</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l02615">dt_declare_delete()</a>, <a class="el" href="dt__object_8h_source.html#l02292">dt_declare_ref_del()</a>, <a class="el" href="dt__object_8h_source.html#l02630">dt_delete()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l02305">dt_ref_del()</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lfsck__internal_8h_source.html#l01138">lfsck_dto2fid()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00468">lfsck_lock()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01078">lfsck_obj2dev()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00520">lfsck_unlock()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00679">lfsck_instance::li_lpf_root_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00900">lfsck_thread_info::lti_llh</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="rename__many_8c_source.html#l00056">stop</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l01088">lfsck_scan_lpf_bad_entries()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01371">lfsck_verify_lpf()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l01213">lfsck_verify_lpf_pairs()</a>.</p>

</div>
</div>
<a class="anchor" id="a64065c8a338ab8c1c8a96b02a81af111"></a><!-- doxytag: member="lfsck_lib.c::lfsck_pos_dump" ref="a64065c8a338ab8c1c8a96b02a81af111" args="(struct seq_file *m, struct lfsck_position *pos, const char *prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_pos_dump </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__position.html">lfsck_position</a> *&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01779">1779</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00079">lfsck_position::lp_dir_cookie</a>, <a class="el" href="lfsck__internal_8h_source.html#l00076">lfsck_position::lp_dir_parent</a>, <a class="el" href="lfsck__internal_8h_source.html#l00073">lfsck_position::lp_oit_cookie</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="lfsck__namespace_8c_source.html#l04209">lfsck_namespace_dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a3e65e3b2aaca23ac9b822723a0ea82c4"></a><!-- doxytag: member="lfsck_lib.c::lfsck_pos_fill" ref="a3e65e3b2aaca23ac9b822723a0ea82c4" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct lfsck_position *pos, bool init)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_pos_fill </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__position.html">lfsck_position</a> *&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>init</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01796">1796</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l01138">lfsck_dto2fid()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_current_oit_processed</a>, <a class="el" href="lfsck__internal_8h_source.html#l00698">lfsck_instance::li_di_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l00695">lfsck_instance::li_di_oit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00692">lfsck_instance::li_obj_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l00689">lfsck_instance::li_obj_oit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00079">lfsck_position::lp_dir_cookie</a>, <a class="el" href="lfsck__internal_8h_source.html#l00076">lfsck_position::lp_dir_parent</a>, <a class="el" href="lfsck__internal_8h_source.html#l00073">lfsck_position::lp_oit_cookie</a>, <a class="el" href="lustre__idl_8h_source.html#l00997">MDS_DIR_END_OFF</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a2966e2ef5ccc21df92b6a31b7c4a56f5">dt_index_operations::dt_it_ops::store</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__engine_8c_source.html#l00389">lfsck_checkpoint()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00996">lfsck_master_engine()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05012">lfsck_namespace_assistant_handler_p1()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l00238">lfsck_namespace_record_failure()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00570">lfsck_post()</a>, and <a class="el" href="lfsck__engine_8c_source.html#l00413">lfsck_prep()</a>.</p>

</div>
</div>
<a class="anchor" id="a6313d77f10125f9ac63084e00f94ec26"></a><!-- doxytag: member="lfsck_lib.c::lfsck_post_generic" ref="a6313d77f10125f9ac63084e00f94ec26" args="(const struct lu_env *env, struct lfsck_component *com, int *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_post_generic </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02551">2551</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lfsck__internal_8h_source.html#l00835">lfsck_assistant_data::lad_assistant_status</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_exit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00825">lfsck_assistant_data::lad_name</a>, <a class="el" href="lfsck__internal_8h_source.html#l00836">lfsck_assistant_data::lad_post_result</a>, <a class="el" href="lfsck__internal_8h_source.html#l00805">lfsck_assistant_data::lad_req_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00826">lfsck_assistant_data::lad_thread</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_to_post</a>, <a class="el" href="lfsck__internal_8h_source.html#l00544">lfsck_component::lc_data</a>, <a class="el" href="lfsck__internal_8h_source.html#l00538">lfsck_component::lc_lfsck</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l04625">lfsck_layout_master_post()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l04152">lfsck_namespace_post()</a>.</p>

</div>
</div>
<a class="anchor" id="a778a6b453c376c41556e039ee8612b1f"></a><!-- doxytag: member="lfsck_lib.c::lfsck_query" ref="a778a6b453c376c41556e039ee8612b1f" args="(const struct lu_env *env, struct dt_device *key, struct lfsck_request *req, struct lfsck_reply *rep, struct lfsck_query *que)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structlfsck__query.html">lfsck_query</a> </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__request.html">lfsck_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__reply.html">lfsck_reply</a> *&nbsp;</td>
          <td class="paramname"> <em>rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__query.html">lfsck_query</a> *&nbsp;</td>
          <td class="paramname"> <em>que</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03364">3364</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lfsck__internal_8h_source.html#l00541">lfsck_component::lc_ops</a>, <a class="el" href="lfsck__lib_8c_source.html#l00295">lfsck_component_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01352">lfsck_component_put()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="structlfsck__operations.html#ac83321e624465fe83d55983015158c96">lfsck_operations::lfsck_query</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00185">LFSCK_TYPE_BITS</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00165">LFSCK_TYPE_SCRUB</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00175">LFSCK_TYPES_ALL</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00172">LFSCK_TYPES_SUPPORTED</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00160">LPF_WAIT</a>, <a class="el" href="lustre__idl_8h_source.html#l03440">lfsck_request::lr_active</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00108">LS_MAX</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00073">LS_SCANNING_PHASE1</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00077">LS_SCANNING_PHASE2</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00226">lfsck_query::lu_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00227">lfsck_query::lu_mdts_count</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00228">lfsck_query::lu_osts_count</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00229">lfsck_query::lu_repaired</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00225">lfsck_query::lu_types</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="lustre__lib_8h_source.html#l00189">LWI_TIMEOUT_INTR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l01457">mdd_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="ad74ecfc36f73d5b86c4e04bd55cb368d"></a><!-- doxytag: member="lfsck_lib.c::lfsck_query_all" ref="ad74ecfc36f73d5b86c4e04bd55cb368d" args="(const struct lu_env *env, struct lfsck_component *com)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_query_all </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02420">2420</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="bitmap_8h_source.html#l00116">cfs_foreach_bit</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00825">lfsck_assistant_data::lad_name</a>, <a class="el" href="lfsck__internal_8h_source.html#l00739">lfsck_async_interpret_args::laia_com</a>, <a class="el" href="lfsck__internal_8h_source.html#l00742">lfsck_async_interpret_args::laia_lr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00741">lfsck_async_interpret_args::laia_ltd</a>, <a class="el" href="lfsck__internal_8h_source.html#l00740">lfsck_async_interpret_args::laia_ltds</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00544">lfsck_component::lc_data</a>, <a class="el" href="lfsck__internal_8h_source.html#l00538">lfsck_component::lc_lfsck</a>, <a class="el" href="lfsck__internal_8h_source.html#l00561">lfsck_component::lc_type</a>, <a class="el" href="lustre__idl_8h_source.html#l03464">LE_QUERY</a>, <a class="el" href="lustre__idl_8h_source.html#l03481">LEF_QUERY_ALL</a>, <a class="el" href="lustre__idl_8h_source.html#l03476">LEF_TO_OST</a>, <a class="el" href="lfsck__lib_8c_source.html#l02021">lfsck_async_interpret_common()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lustre__idl_8h_source.html#l02727">LFSCK_QUERY</a>, <a class="el" href="lfsck__lib_8c_source.html#l00098">lfsck_reset_ltd_status()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01326">lfsck_tgt_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00168">LFSCK_TYPE_LAYOUT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00701">lfsck_instance::li_ost_descs</a>, <a class="el" href="lustre__idl_8h_source.html#l03440">lfsck_request::lr_active</a>, <a class="el" href="lustre__idl_8h_source.html#l03430">lfsck_request::lr_event</a>, <a class="el" href="lustre__idl_8h_source.html#l03432">lfsck_request::lr_flags</a>, <a class="el" href="lfsck__internal_8h_source.html#l00450">lfsck_tgt_desc::ltd_exp</a>, <a class="el" href="lfsck__internal_8h_source.html#l00460">lfsck_tgt_desc::ltd_index</a>, <a class="el" href="lfsck__internal_8h_source.html#l00484">lfsck_tgt_descs::ltd_rw_sem</a>, <a class="el" href="lfsck__internal_8h_source.html#l00478">lfsck_tgt_descs::ltd_tgts_bitmap</a>, <a class="el" href="lfsck__internal_8h_source.html#l00879">lfsck_thread_info::lti_laia</a>, <a class="el" href="lfsck__internal_8h_source.html#l00878">lfsck_thread_info::lti_lr</a>, <a class="el" href="client_8c_source.html#l00913">ptlrpc_prep_set()</a>, <a class="el" href="client_8c_source.html#l00973">ptlrpc_set_destroy()</a>, <a class="el" href="client_8c_source.html#l02260">ptlrpc_set_wait()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l05385">lfsck_layout_query_all()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l04687">lfsck_namespace_query_all()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6b8e589e419e7ecddba665d1ab21a53"></a><!-- doxytag: member="lfsck_lib.c::lfsck_quit_generic" ref="aa6b8e589e419e7ecddba665d1ab21a53" args="(const struct lu_env *env, struct lfsck_component *com)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_quit_generic </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02613">2613</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_exit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00826">lfsck_assistant_data::lad_thread</a>, <a class="el" href="lfsck__internal_8h_source.html#l00544">lfsck_component::lc_data</a>, <a class="el" href="lfsck__internal_8h_source.html#l00538">lfsck_component::lc_lfsck</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="lustre__net_8h_source.html#l01537">thread_is_init()</a>, and <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l05087">lfsck_layout_master_quit()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l04443">lfsck_namespace_quit()</a>.</p>

</div>
</div>
<a class="anchor" id="a194e10ae8514f0fd988454f698ff92ce"></a><!-- doxytag: member="lfsck_lib.c::lfsck_register" ref="a194e10ae8514f0fd988454f698ff92ce" args="(const struct lu_env *env, struct dt_device *key, struct dt_device *next, struct obd_device *obd, lfsck_out_notify notify, void *notify_data, bool master)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lustre__lfsck_8h.html#a8f4ffaaacb423380a1d802f1ca7a92dc">lfsck_out_notify</a>&nbsp;</td>
          <td class="paramname"> <em>notify</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>notify_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>master</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03474">3474</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="structdt__object__operations.html#ac317771bd9f0827b4d8fcec4d51a63c2">dt_object_operations::do_index_try</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="lfsck__lib_8c_source.html#l00544">dotlustre</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l01926">dt_locate()</a>, <a class="el" href="dt__object_8h_source.html#l02654">dt_lookup()</a>, <a class="el" href="dt__object_8c_source.html#l00579">dt_otable_features</a>, <a class="el" href="dt__object_8h_source.html#l02446">dt_root_get()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00147">lu_fid::f_oid</a>, <a class="el" href="lustre__user_8h_source.html#l00145">lu_fid::f_seq</a>, <a class="el" href="lustre__user_8h_source.html#l00153">lu_fid::f_ver</a>, <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>, <a class="el" href="lustre__idl_8h_source.html#l00297">FID_SEQ_LOCAL_NAME</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lfsck__lib_8c_source.html#l00236">lfsck_add_target_from_orphan()</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00158">lfsck_bookmark_setup()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01231">lfsck_dev_idx()</a>, <a class="el" href="lustre__disk_8h_source.html#l00073">LFSCK_DIR</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01566">lfsck_fid_init()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01724">lfsck_instance_add()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01613">lfsck_instance_cleanup()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05556">lfsck_layout_setup()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01094">lfsck_name_get_const()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06514">lfsck_namespace_setup()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01219">lfsck_object_put()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00109">lfsck_tgt_descs_init()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06325">lfsck_verify_linkea()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00670">lfsck_instance::li_bottom</a>, <a class="el" href="lfsck__internal_8h_source.html#l00658">lfsck_instance::li_double_scan_count</a>, <a class="el" href="lfsck__internal_8h_source.html#l00675">lfsck_instance::li_global_root_fid</a>, <a class="el" href="lfsck__internal_8h_source.html#l00676">lfsck_instance::li_lfsck_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l00638">lfsck_instance::li_link</a>, <a class="el" href="lfsck__internal_8h_source.html#l00646">lfsck_instance::li_list_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l00649">lfsck_instance::li_list_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00652">lfsck_instance::li_list_idle</a>, <a class="el" href="lfsck__internal_8h_source.html#l00655">lfsck_instance::li_list_lmv</a>, <a class="el" href="lfsck__internal_8h_source.html#l00641">lfsck_instance::li_list_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00674">lfsck_instance::li_local_root_fid</a>, <a class="el" href="lfsck__internal_8h_source.html#l00635">lfsck_instance::li_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00673">lfsck_instance::li_los</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_master</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00634">lfsck_instance::li_mutex</a>, <a class="el" href="lfsck__internal_8h_source.html#l00669">lfsck_instance::li_next</a>, <a class="el" href="lfsck__internal_8h_source.html#l00671">lfsck_instance::li_obd</a>, <a class="el" href="lfsck__internal_8h_source.html#l00689">lfsck_instance::li_obj_oit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00701">lfsck_instance::li_ost_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00667">lfsck_instance::li_out_notify</a>, <a class="el" href="lfsck__internal_8h_source.html#l00668">lfsck_instance::li_out_notify_data</a>, <a class="el" href="lfsck__internal_8h_source.html#l00657">lfsck_instance::li_ref</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="local__storage_8c_source.html#l00432">local_file_find_or_create()</a>, <a class="el" href="local__storage_8c_source.html#l00803">local_oid_storage_init()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00545">lostfound</a>, <a class="el" href="lfsck__internal_8h_source.html#l00862">lfsck_thread_info::lti_fid</a>, <a class="el" href="lfsck__internal_8h_source.html#l00863">lfsck_thread_info::lti_fid2</a>, <a class="el" href="lu__object_8h_source.html#l00709">lu_object_get()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="lustre__fid_8h_source.html#l00226">OTABLE_IT_OID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00990">mdd_prepare()</a>, and <a class="el" href="ofd__dev_8c_source.html#l00576">ofd_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f279b863afb20e8acb97981d51428bc"></a><!-- doxytag: member="lfsck_lib.c::lfsck_register_namespace" ref="a2f279b863afb20e8acb97981d51428bc" args="(const struct lu_env *env, struct dt_device *key, struct ldlm_namespace *ns)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_register_namespace </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__namespace.html">ldlm_namespace</a> *&nbsp;</td>
          <td class="paramname"> <em>ns</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03457">3457</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00672">lfsck_instance::li_namespace</a>, and <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04915">mdt_prepare()</a>, and <a class="el" href="ofd__dev_8c_source.html#l00576">ofd_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2100327e43f82603cc39dd6479eef5e"></a><!-- doxytag: member="lfsck_lib.c::lfsck_reset_ltd_status" ref="ae2100327e43f82603cc39dd6479eef5e" args="(struct lfsck_tgt_desc *ltd, enum lfsck_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lfsck_reset_ltd_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__tgt__desc.html">lfsck_tgt_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>ltd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="lustre__lfsck__user_8h.html#a9227f249ebe4f9e66a984a270cd6fd95">lfsck_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00098">98</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lustre__lfsck__user_8h_source.html#l00168">LFSCK_TYPE_LAYOUT</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00108">LS_MAX</a>, <a class="el" href="lfsck__internal_8h_source.html#l00457">lfsck_tgt_desc::ltd_layout_repaired</a>, <a class="el" href="lfsck__internal_8h_source.html#l00455">lfsck_tgt_desc::ltd_layout_status</a>, <a class="el" href="lfsck__internal_8h_source.html#l00458">lfsck_tgt_desc::ltd_namespace_repaired</a>, and <a class="el" href="lfsck__internal_8h_source.html#l00456">lfsck_tgt_desc::ltd_namespace_status</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l02021">lfsck_async_interpret_common()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02420">lfsck_query_all()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a88c0f9d407cb1652d899e6e43447e03f"></a><!-- doxytag: member="lfsck_lib.c::lfsck_scan_lpf_bad_entries" ref="a88c0f9d407cb1652d899e6e43447e03f" args="(const struct lu_env *env, struct lfsck_instance *lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_scan_lpf_bad_entries </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Scan .lustre/lost+found for bad name entries and remove them. </p>
<p>The valid name entry should be "MDTxxxx", the "xxxx" is the MDT device index in the system. Any other formatted name is invalid and should be removed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lfsck</em>&nbsp;</td><td>pointer to the lfsck instance</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01088">1088</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="byteorder_8h_source.html#l00054">le16_to_cpu</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00561">lfsck_lpf_remove_name_entry()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00679">lfsck_instance::li_lpf_root_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00875">lfsck_thread_info::lti_key</a>, <a class="el" href="lustre__idl_8h_source.html#l00872">LUDA_64BITHASH</a>, <a class="el" href="lfsck__internal_8h_source.html#l01072">name_is_dot_or_dotdot()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l01371">lfsck_verify_lpf()</a>.</p>

</div>
</div>
<a class="anchor" id="a6faa58243ec7f8f8b00189b357e4304a"></a><!-- doxytag: member="lfsck_lib.c::lfsck_set_speed" ref="a6faa58243ec7f8f8b00189b357e4304a" args="(struct dt_device *key, __u32 val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_set_speed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02656">2656</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l01830">__lfsck_set_speed()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00999">LCT_DT_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00099">lfsck_bookmark_store()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00634">lfsck_instance::li_mutex</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__lproc_8c_source.html#l00270">mdd_lfsck_speed_limit_seq_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d846523ac8740c907b57fb8877a06b5"></a><!-- doxytag: member="lfsck_lib.c::lfsck_set_windows" ref="a1d846523ac8740c907b57fb8877a06b5" args="(struct dt_device *key, int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_set_windows </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02709">2709</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00096">lfsck_bookmark::lb_async_windows</a>, <a class="el" href="lu__object_8h_source.html#l00999">LCT_DT_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00184">LFSCK_ASYNC_WIN_MAX</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00099">lfsck_bookmark_store()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00634">lfsck_instance::li_mutex</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__lproc_8c_source.html#l00299">mdd_lfsck_async_windows_seq_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ae39dea6ca934c43e5dd7335e8060ea14"></a><!-- doxytag: member="lfsck_lib.c::lfsck_start" ref="ae39dea6ca934c43e5dd7335e8060ea14" args="(const struct lu_env *env, struct dt_device *key, struct lfsck_start_param *lsp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structlfsck__start.html">lfsck_start</a> </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__start__param.html">lfsck_start_param</a> *&nbsp;</td>
          <td class="paramname"> <em>lsp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02937">2937</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00282">__lfsck_component_find()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01830">__lfsck_set_speed()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="bitmap_8h_source.html#l00116">cfs_foreach_bit</a>, <a class="el" href="dt__object_8h_source.html#l01708">DOIF_DRYRUN</a>, <a class="el" href="dt__object_8h_source.html#l01699">DOIF_FAILOUT</a>, <a class="el" href="dt__object_8h_source.html#l01705">DOIF_OUTUSED</a>, <a class="el" href="dt__object_8h_source.html#l01702">DOIF_RESET</a>, <a class="el" href="dt__object_8h_source.html#l01694">DOIV_DRYRUN</a>, <a class="el" href="dt__object_8h_source.html#l01693">DOIV_ERROR_HANDLE</a>, <a class="el" href="dt__object_8h_source.html#l01719">DT_OTABLE_IT_FLAGS_SHIFT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00090">lfsck_bookmark::lb_param</a>, <a class="el" href="lfsck__internal_8h_source.html#l00093">lfsck_bookmark::lb_speed_limit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00087">lfsck_bookmark::lb_version</a>, <a class="el" href="lfsck__internal_8h_source.html#l00529">lfsck_component::lc_link</a>, <a class="el" href="lfsck__internal_8h_source.html#l00541">lfsck_component::lc_ops</a>, <a class="el" href="lfsck__internal_8h_source.html#l00561">lfsck_component::lc_type</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00099">lfsck_bookmark_store()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="structlfsck__operations.html#a48dc71d87efbb80a6ca8459310d3fd96">lfsck_operations::lfsck_join</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00494">lfsck_ltd2tgt()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00996">lfsck_master_engine()</a>, <a class="el" href="structlfsck__operations.html#a4d42dc8439e56bb809344bf67cbabbe5">lfsck_operations::lfsck_post</a>, <a class="el" href="structlfsck__operations.html#a999dd1050bec2f0b2d8507fa92c9f57e">lfsck_operations::lfsck_reset</a>, <a class="el" href="lfsck__lib_8c_source.html#l00098">lfsck_reset_ltd_status()</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00203">lfsck_set_param()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02848">lfsck_start_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01919">lfsck_thread_args_fini()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01893">lfsck_thread_args_init()</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00168">LFSCK_TYPE_LAYOUT</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00171">LFSCK_TYPE_NAMESPACE</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00175">LFSCK_TYPES_ALL</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00172">LFSCK_TYPES_SUPPORTED</a>, <a class="el" href="lfsck__internal_8h_source.html#l00713">lfsck_instance::li_args_dir</a>, <a class="el" href="lfsck__internal_8h_source.html#l00710">lfsck_instance::li_args_oit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_drop_dryrun</a>, <a class="el" href="lfsck__internal_8h_source.html#l00728">lfsck_instance::li_flags</a>, <a class="el" href="lfsck__internal_8h_source.html#l00649">lfsck_instance::li_list_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00652">lfsck_instance::li_list_idle</a>, <a class="el" href="lfsck__internal_8h_source.html#l00641">lfsck_instance::li_list_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00635">lfsck_instance::li_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_master</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00634">lfsck_instance::li_mutex</a>, <a class="el" href="lfsck__internal_8h_source.html#l00672">lfsck_instance::li_namespace</a>, <a class="el" href="lfsck__internal_8h_source.html#l00722">lfsck_instance::li_new_scanned</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_oit_over</a>, <a class="el" href="lfsck__internal_8h_source.html#l00701">lfsck_instance::li_ost_descs</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_start_unplug</a>, <a class="el" href="lfsck__internal_8h_source.html#l00725">lfsck_instance::li_status</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00148">LPF_BROADCAST</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00142">LPF_DRYRUN</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00139">LPF_FAILOUT</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00136">LPF_RESET</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00208">lfsck_start::ls_active</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00083">LS_FAILED</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00211">lfsck_start::ls_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00202">lfsck_start::ls_speed_limit</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00199">lfsck_start::ls_valid</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00205">lfsck_start::ls_version</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00042">lfsck_start_param::lsp_start</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00190">LSV_DRYRUN</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00189">LSV_ERROR_HANDLE</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00188">LSV_SPEED_LIMIT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_layout_done</a>, <a class="el" href="lfsck__internal_8h_source.html#l00451">lfsck_tgt_desc::ltd_layout_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00452">lfsck_tgt_desc::ltd_layout_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_namespace_done</a>, <a class="el" href="lfsck__internal_8h_source.html#l00453">lfsck_tgt_desc::ltd_namespace_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00454">lfsck_tgt_desc::ltd_namespace_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00484">lfsck_tgt_descs::ltd_rw_sem</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_synced_failures</a>, <a class="el" href="lfsck__internal_8h_source.html#l00478">lfsck_tgt_descs::ltd_tgts_bitmap</a>, <a class="el" href="lustre__idl_8h_source.html#l00872">LUDA_64BITHASH</a>, <a class="el" href="lustre__idl_8h_source.html#l00871">LUDA_TYPE</a>, <a class="el" href="lustre__idl_8h_source.html#l00888">LUDA_VERIFY</a>, <a class="el" href="lustre__idl_8h_source.html#l00886">LUDA_VERIFY_DRYRUN</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00532">OBD_FAIL_LFSCK_NO_AUTO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="rename__many_8c_source.html#l00057">start</a>, <a class="el" href="lustre__net_8h_source.html#l01495">SVC_STOPPING</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01537">thread_is_init()</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>, <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03296">lfsck_in_notify()</a>, <a class="el" href="mdd__device_8c_source.html#l01457">mdd_iocontrol()</a>, <a class="el" href="ofd__obd_8c_source.html#l01293">ofd_iocontrol()</a>, and <a class="el" href="ofd__obd_8c_source.html#l00541">ofd_postrecov()</a>.</p>

</div>
</div>
<a class="anchor" id="ab06d1e50e1d43c9bdddb27c188e737df"></a><!-- doxytag: member="lfsck_lib.c::lfsck_start_all" ref="ab06d1e50e1d43c9bdddb27c188e737df" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct lfsck_start *start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_start_all </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__start.html">lfsck_start</a> *&nbsp;</td>
          <td class="paramname"> <em>start</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02848">2848</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="bitmap_8h_source.html#l00116">cfs_foreach_bit</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00742">lfsck_async_interpret_args::laia_lr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00741">lfsck_async_interpret_args::laia_ltd</a>, <a class="el" href="lfsck__internal_8h_source.html#l00740">lfsck_async_interpret_args::laia_ltds</a>, <a class="el" href="lfsck__internal_8h_source.html#l00744">lfsck_async_interpret_args::laia_result</a>, <a class="el" href="lfsck__internal_8h_source.html#l00745">lfsck_async_interpret_args::laia_shared</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00096">lfsck_bookmark::lb_async_windows</a>, <a class="el" href="lfsck__internal_8h_source.html#l00093">lfsck_bookmark::lb_speed_limit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00087">lfsck_bookmark::lb_version</a>, <a class="el" href="lustre__idl_8h_source.html#l03462">LE_START</a>, <a class="el" href="lfsck__lib_8c_source.html#l02352">lfsck_async_interpret()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01231">lfsck_dev_idx()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02236">lfsck_interpret()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lustre__idl_8h_source.html#l02726">LFSCK_NOTIFY</a>, <a class="el" href="lfsck__lib_8c_source.html#l02778">lfsck_stop_all()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01326">lfsck_tgt_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00145">LPF_ALL_TGT</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00148">LPF_BROADCAST</a>, <a class="el" href="lustre__idl_8h_source.html#l03440">lfsck_request::lr_active</a>, <a class="el" href="lustre__idl_8h_source.html#l03442">lfsck_request::lr_async_windows</a>, <a class="el" href="lustre__idl_8h_source.html#l03430">lfsck_request::lr_event</a>, <a class="el" href="lustre__idl_8h_source.html#l03431">lfsck_request::lr_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03441">lfsck_request::lr_param</a>, <a class="el" href="lustre__idl_8h_source.html#l03435">lfsck_request::lr_speed</a>, <a class="el" href="lustre__idl_8h_source.html#l03433">lfsck_request::lr_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l03439">lfsck_request::lr_version</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00208">lfsck_start::ls_active</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00083">LS_FAILED</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00219">lfsck_stop::ls_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00211">lfsck_start::ls_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00218">lfsck_stop::ls_status</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00191">LSV_ASYNC_WINDOWS</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00193">LSV_CREATE_MDTOBJ</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00192">LSV_CREATE_OSTOBJ</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00190">LSV_DRYRUN</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00189">LSV_ERROR_HANDLE</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00188">LSV_SPEED_LIMIT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00450">lfsck_tgt_desc::ltd_exp</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_layout_done</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_namespace_done</a>, <a class="el" href="lfsck__internal_8h_source.html#l00484">lfsck_tgt_descs::ltd_rw_sem</a>, <a class="el" href="lfsck__internal_8h_source.html#l00463">lfsck_tgt_desc::ltd_synced_failures</a>, <a class="el" href="lfsck__internal_8h_source.html#l00478">lfsck_tgt_descs::ltd_tgts_bitmap</a>, <a class="el" href="lfsck__internal_8h_source.html#l00879">lfsck_thread_info::lti_laia</a>, <a class="el" href="lfsck__internal_8h_source.html#l00878">lfsck_thread_info::lti_lr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00882">lfsck_thread_info::lti_stop</a>, <a class="el" href="client_8c_source.html#l00913">ptlrpc_prep_set()</a>, <a class="el" href="client_8c_source.html#l00973">ptlrpc_set_destroy()</a>, <a class="el" href="client_8c_source.html#l02260">ptlrpc_set_wait()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="rename__many_8c_source.html#l00056">stop</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b1abf8fc2b212540452dffbcf53f5e2"></a><!-- doxytag: member="lfsck_lib.c::lfsck_start_assistant" ref="a9b1abf8fc2b212540452dffbcf53f5e2" args="(const struct lu_env *env, struct lfsck_component *com, struct lfsck_start_param *lsp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_start_assistant </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__start__param.html">lfsck_start_param</a> *&nbsp;</td>
          <td class="paramname"> <em>lsp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02484">2484</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lfsck__internal_8h_source.html#l00842">lfsck_assistant_data::lad_advance_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00835">lfsck_assistant_data::lad_assistant_status</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_exit</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_in_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00825">lfsck_assistant_data::lad_name</a>, <a class="el" href="lfsck__internal_8h_source.html#l00836">lfsck_assistant_data::lad_post_result</a>, <a class="el" href="lfsck__internal_8h_source.html#l00826">lfsck_assistant_data::lad_thread</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_to_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00837">lfsck_assistant_data::lad_to_post</a>, <a class="el" href="lfsck__internal_8h_source.html#l00544">lfsck_component::lc_data</a>, <a class="el" href="lfsck__internal_8h_source.html#l00538">lfsck_component::lc_lfsck</a>, <a class="el" href="lfsck__engine_8c_source.html#l01543">lfsck_assistant_engine()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01919">lfsck_thread_args_fini()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01893">lfsck_thread_args_init()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="lustre__net_8h_source.html#l01557">thread_is_running()</a>, <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>, <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l04124">lfsck_layout_master_prep()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l03904">lfsck_namespace_prep()</a>.</p>

</div>
</div>
<a class="anchor" id="acfba3e13c6b0a46393d622c6b00252fc"></a><!-- doxytag: member="lfsck_lib.c::lfsck_stop" ref="acfba3e13c6b0a46393d622c6b00252fc" args="(const struct lu_env *env, struct dt_device *key, struct lfsck_stop *stop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structlfsck__stop.html">lfsck_stop</a> </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__stop.html">lfsck_stop</a> *&nbsp;</td>
          <td class="paramname"> <em>stop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l03213">3213</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lfsck__internal_8h_source.html#l00804">lfsck_assistant_data::lad_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00827">lfsck_assistant_data::lad_task</a>, <a class="el" href="lfsck__internal_8h_source.html#l00544">lfsck_component::lc_data</a>, <a class="el" href="lfsck__lib_8c_source.html#l01712">lfsck_instance_find()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02778">lfsck_stop_all()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00728">lfsck_instance::li_flags</a>, <a class="el" href="lfsck__internal_8h_source.html#l00649">lfsck_instance::li_list_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00641">lfsck_instance::li_list_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00635">lfsck_instance::li_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_master</a>, <a class="el" href="lfsck__internal_8h_source.html#l00634">lfsck_instance::li_mutex</a>, <a class="el" href="lfsck__internal_8h_source.html#l00725">lfsck_instance::li_status</a>, <a class="el" href="lfsck__internal_8h_source.html#l00659">lfsck_instance::li_thread</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00148">LPF_BROADCAST</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00219">lfsck_stop::ls_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00218">lfsck_stop::ls_status</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00086">LS_STOPPED</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01495">SVC_STOPPING</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="obd_8c_source.html#l00114">thread</a>, <a class="el" href="lustre__net_8h_source.html#l01537">thread_is_init()</a>, <a class="el" href="lustre__net_8h_source.html#l01542">thread_is_stopped()</a>, <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03296">lfsck_in_notify()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05162">lfsck_layout_master_in_notify()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05276">lfsck_layout_slave_in_notify()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04473">lfsck_namespace_in_notify()</a>, <a class="el" href="mdd__device_8c_source.html#l01457">mdd_iocontrol()</a>, <a class="el" href="ofd__dev_8c_source.html#l02983">ofd_fini()</a>, and <a class="el" href="ofd__obd_8c_source.html#l01293">ofd_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="aeffb924f26c1d6ef7658360ff3775788"></a><!-- doxytag: member="lfsck_lib.c::lfsck_stop_all" ref="aeffb924f26c1d6ef7658360ff3775788" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct lfsck_stop *stop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_stop_all </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__stop.html">lfsck_stop</a> *&nbsp;</td>
          <td class="paramname"> <em>stop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02778">2778</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="bitmap_8h_source.html#l00116">cfs_foreach_bit</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00742">lfsck_async_interpret_args::laia_lr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00741">lfsck_async_interpret_args::laia_ltd</a>, <a class="el" href="lfsck__internal_8h_source.html#l00740">lfsck_async_interpret_args::laia_ltds</a>, <a class="el" href="lfsck__internal_8h_source.html#l00744">lfsck_async_interpret_args::laia_result</a>, <a class="el" href="lfsck__internal_8h_source.html#l00745">lfsck_async_interpret_args::laia_shared</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00087">lfsck_bookmark::lb_version</a>, <a class="el" href="lustre__idl_8h_source.html#l03463">LE_STOP</a>, <a class="el" href="lfsck__lib_8c_source.html#l02352">lfsck_async_interpret()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01231">lfsck_dev_idx()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02236">lfsck_interpret()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lustre__idl_8h_source.html#l02726">LFSCK_NOTIFY</a>, <a class="el" href="lfsck__internal_8h_source.html#l01326">lfsck_tgt_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00175">LFSCK_TYPES_ALL</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00148">LPF_BROADCAST</a>, <a class="el" href="lustre__idl_8h_source.html#l03440">lfsck_request::lr_active</a>, <a class="el" href="lustre__idl_8h_source.html#l03430">lfsck_request::lr_event</a>, <a class="el" href="lustre__idl_8h_source.html#l03431">lfsck_request::lr_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03441">lfsck_request::lr_param</a>, <a class="el" href="lustre__idl_8h_source.html#l03436">lfsck_request::lr_status</a>, <a class="el" href="lustre__idl_8h_source.html#l03439">lfsck_request::lr_version</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00219">lfsck_stop::ls_flags</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00218">lfsck_stop::ls_status</a>, <a class="el" href="lfsck__internal_8h_source.html#l00450">lfsck_tgt_desc::ltd_exp</a>, <a class="el" href="lfsck__internal_8h_source.html#l00484">lfsck_tgt_descs::ltd_rw_sem</a>, <a class="el" href="lfsck__internal_8h_source.html#l00478">lfsck_tgt_descs::ltd_tgts_bitmap</a>, <a class="el" href="lfsck__internal_8h_source.html#l00879">lfsck_thread_info::lti_laia</a>, <a class="el" href="lfsck__internal_8h_source.html#l00878">lfsck_thread_info::lti_lr</a>, <a class="el" href="client_8c_source.html#l00913">ptlrpc_prep_set()</a>, <a class="el" href="client_8c_source.html#l00973">ptlrpc_set_destroy()</a>, <a class="el" href="client_8c_source.html#l02260">ptlrpc_set_wait()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l02848">lfsck_start_all()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l03213">lfsck_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b05917cef653259ffeb4e4578f55d2f"></a><!-- doxytag: member="lfsck_lib.c::lfsck_stop_notify" ref="a7b05917cef653259ffeb4e4578f55d2f" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct lfsck_tgt_descs *ltds, struct lfsck_tgt_desc *ltd, __u16 type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_stop_notify </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__tgt__descs.html">lfsck_tgt_descs</a> *&nbsp;</td>
          <td class="paramname"> <em>ltds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__tgt__desc.html">lfsck_tgt_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>ltd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l02259">2259</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00282">__lfsck_component_find()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lfsck__internal_8h_source.html#l00825">lfsck_assistant_data::lad_name</a>, <a class="el" href="lfsck__internal_8h_source.html#l00739">lfsck_async_interpret_args::laia_com</a>, <a class="el" href="lfsck__internal_8h_source.html#l00742">lfsck_async_interpret_args::laia_lr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00741">lfsck_async_interpret_args::laia_ltd</a>, <a class="el" href="lfsck__internal_8h_source.html#l00740">lfsck_async_interpret_args::laia_ltds</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00544">lfsck_component::lc_data</a>, <a class="el" href="lustre__idl_8h_source.html#l03466">LE_PEER_EXIT</a>, <a class="el" href="lustre__idl_8h_source.html#l03476">LEF_TO_OST</a>, <a class="el" href="lfsck__lib_8c_source.html#l02021">lfsck_async_interpret_common()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01345">lfsck_component_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01352">lfsck_component_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01231">lfsck_dev_idx()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lustre__idl_8h_source.html#l02726">LFSCK_NOTIFY</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00168">LFSCK_TYPE_LAYOUT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00649">lfsck_instance::li_list_double_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00641">lfsck_instance::li_list_scan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00635">lfsck_instance::li_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_master</a>, <a class="el" href="lfsck__internal_8h_source.html#l00701">lfsck_instance::li_ost_descs</a>, <a class="el" href="lnetctl_8c_source.html#l00969">list</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__idl_8h_source.html#l03440">lfsck_request::lr_active</a>, <a class="el" href="lustre__idl_8h_source.html#l03430">lfsck_request::lr_event</a>, <a class="el" href="lustre__idl_8h_source.html#l03432">lfsck_request::lr_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03431">lfsck_request::lr_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03436">lfsck_request::lr_status</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00106">LS_CO_PAUSED</a>, <a class="el" href="lfsck__internal_8h_source.html#l00450">lfsck_tgt_desc::ltd_exp</a>, <a class="el" href="lfsck__internal_8h_source.html#l00460">lfsck_tgt_desc::ltd_index</a>, <a class="el" href="lfsck__internal_8h_source.html#l00451">lfsck_tgt_desc::ltd_layout_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00452">lfsck_tgt_desc::ltd_layout_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00481">lfsck_tgt_descs::ltd_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00453">lfsck_tgt_desc::ltd_namespace_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00454">lfsck_tgt_desc::ltd_namespace_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00459">lfsck_tgt_desc::ltd_ref</a>, <a class="el" href="lfsck__internal_8h_source.html#l00879">lfsck_thread_info::lti_laia</a>, <a class="el" href="lfsck__internal_8h_source.html#l00878">lfsck_thread_info::lti_lr</a>, <a class="el" href="client_8c_source.html#l00913">ptlrpc_prep_set()</a>, <a class="el" href="client_8c_source.html#l00973">ptlrpc_set_destroy()</a>, <a class="el" href="client_8c_source.html#l02260">ptlrpc_set_wait()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03710">lfsck_del_target()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c5c953fd04c104efdaf4c5f7f951b30"></a><!-- doxytag: member="lfsck_lib.c::lfsck_tgt_descs_fini" ref="a3c5c953fd04c104efdaf4c5f7f951b30" args="(struct lfsck_tgt_descs *ltds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lfsck_tgt_descs_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__tgt__descs.html">lfsck_tgt_descs</a> *&nbsp;</td>
          <td class="paramname"> <em>ltds</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00121">121</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="bitmap_8h_source.html#l00081">cfs_bitmap_clear()</a>, <a class="el" href="bitmap_8h_source.html#l00116">cfs_foreach_bit</a>, <a class="el" href="bitmap_8h_source.html#l00072">CFS_FREE_BITMAP</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lfsck__internal_8h_source.html#l00508">lfsck_assign_tgt()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00494">lfsck_ltd2tgt()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lfsck__internal_8h_source.html#l00451">lfsck_tgt_desc::ltd_layout_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00452">lfsck_tgt_desc::ltd_layout_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00453">lfsck_tgt_desc::ltd_namespace_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00454">lfsck_tgt_desc::ltd_namespace_phase_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00487">lfsck_tgt_descs::ltd_orphan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00447">lfsck_tgt_desc::ltd_orphan_list</a>, <a class="el" href="lfsck__internal_8h_source.html#l00484">lfsck_tgt_descs::ltd_rw_sem</a>, <a class="el" href="lfsck__internal_8h_source.html#l00490">lfsck_tgt_descs::ltd_tgtnr</a>, <a class="el" href="lfsck__internal_8h_source.html#l00478">lfsck_tgt_descs::ltd_tgts_bitmap</a>, <a class="el" href="lfsck__internal_8h_source.html#l00475">lfsck_tgt_descs::ltd_tgts_idx</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lfsck__internal_8h_source.html#l00443">TGT_PTRS</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l01613">lfsck_instance_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="af8c5387c1a4aa4b19b82fbed6e75a272"></a><!-- doxytag: member="lfsck_lib.c::lfsck_tgt_descs_init" ref="af8c5387c1a4aa4b19b82fbed6e75a272" args="(struct lfsck_tgt_descs *ltds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_tgt_descs_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__tgt__descs.html">lfsck_tgt_descs</a> *&nbsp;</td>
          <td class="paramname"> <em>ltds</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00109">109</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="bitmap_8h_source.html#l00049">CFS_ALLOCATE_BITMAP()</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lfsck__internal_8h_source.html#l00481">lfsck_tgt_descs::ltd_lock</a>, <a class="el" href="lfsck__internal_8h_source.html#l00487">lfsck_tgt_descs::ltd_orphan</a>, <a class="el" href="lfsck__internal_8h_source.html#l00484">lfsck_tgt_descs::ltd_rw_sem</a>, and <a class="el" href="lfsck__internal_8h_source.html#l00478">lfsck_tgt_descs::ltd_tgts_bitmap</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03474">lfsck_register()</a>.</p>

</div>
</div>
<a class="anchor" id="a46d16afd1ac6190eea05603982199cc7"></a><!-- doxytag: member="lfsck_lib.c::lfsck_thread_args_fini" ref="a46d16afd1ac6190eea05603982199cc7" args="(struct lfsck_thread_args *lta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_thread_args_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__thread__args.html">lfsck_thread_args</a> *&nbsp;</td>
          <td class="paramname"> <em>lta</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01919">1919</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__internal_8h_source.html#l01352">lfsck_component_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01389">lfsck_instance_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00751">lfsck_thread_args::lta_com</a>, <a class="el" href="lfsck__internal_8h_source.html#l00749">lfsck_thread_args::lta_env</a>, <a class="el" href="lfsck__internal_8h_source.html#l00750">lfsck_thread_args::lta_lfsck</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="lfsck__engine_8c_source.html#l01543">lfsck_assistant_engine()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00996">lfsck_master_engine()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l02484">lfsck_start_assistant()</a>.</p>

</div>
</div>
<a class="anchor" id="ae578df2076c9ba10f6c40e71fbcf24de"></a><!-- doxytag: member="lfsck_lib.c::lfsck_thread_args_init" ref="ae578df2076c9ba10f6c40e71fbcf24de" args="(struct lfsck_instance *lfsck, struct lfsck_component *com, struct lfsck_start_param *lsp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlfsck__thread__args.html">lfsck_thread_args</a>* lfsck_thread_args_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__component.html">lfsck_component</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__start__param.html">lfsck_start_param</a> *&nbsp;</td>
          <td class="paramname"> <em>lsp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01893">1893</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00999">LCT_DT_THREAD</a>, <a class="el" href="lu__object_8h_source.html#l00995">LCT_MD_THREAD</a>, <a class="el" href="lfsck__internal_8h_source.html#l01345">lfsck_component_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01382">lfsck_instance_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00751">lfsck_thread_args::lta_com</a>, <a class="el" href="lfsck__internal_8h_source.html#l00749">lfsck_thread_args::lta_env</a>, <a class="el" href="lfsck__internal_8h_source.html#l00750">lfsck_thread_args::lta_lfsck</a>, <a class="el" href="lfsck__internal_8h_source.html#l00752">lfsck_thread_args::lta_lsp</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l02484">lfsck_start_assistant()</a>.</p>

</div>
</div>
<a class="anchor" id="a20d93b09f0f3c750a8906c1d08a97e9e"></a><!-- doxytag: member="lfsck_lib.c::lfsck_time_dump" ref="a20d93b09f0f3c750a8906c1d08a97e9e" args="(struct seq_file *m, __u64 time, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_time_dump </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01767">1767</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, and <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l04750">lfsck_layout_dump()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l04209">lfsck_namespace_dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b430a41ada3bb7bfa164b3e6763e090"></a><!-- doxytag: member="lfsck_lib.c::lfsck_unlock" ref="a3b430a41ada3bb7bfa164b3e6763e090" args="(struct lfsck_lock_handle *llh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lfsck_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlfsck__lock__handle.html">lfsck_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release the the compound ibits locks. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>llh</em>&nbsp;</td><td>pointer to the <a class="el" href="structlfsck__lock__handle.html">lfsck_lock_handle</a> to be released </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00520">520</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="lfsck__lib_8c_source.html#l00436">lfsck_ibits_unlock()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00848">lfsck_lock_handle::llh_pdo_lh</a>, <a class="el" href="lfsck__internal_8h_source.html#l00850">lfsck_lock_handle::llh_pdo_mode</a>, <a class="el" href="lfsck__internal_8h_source.html#l00849">lfsck_lock_handle::llh_reg_lh</a>, and <a class="el" href="lfsck__internal_8h_source.html#l00851">lfsck_lock_handle::llh_reg_mode</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l00989">lfsck_create_lpf()</a>, <a class="el" href="lfsck__layout_8c_source.html#l01697">lfsck_layout_recreate_parent()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00561">lfsck_lpf_remove_name_entry()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01226">lfsck_namespace_create_orphan_dir()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01092">lfsck_namespace_insert_normal()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l00861">lfsck_namespace_insert_orphan()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04790">lfsck_namespace_repair_dangling()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01990">lfsck_namespace_repair_dirent()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01711">lfsck_namespace_replace_cond()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01624">lfsck_namespace_shrink_linkea_cond()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l06441">lfsck_update_name_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="a55b1f922f8435bceb58be534851dd033"></a><!-- doxytag: member="lfsck_lib.c::lfsck_update_lpf_entry" ref="a55b1f922f8435bceb58be534851dd033" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct dt_object *parent, struct dt_object *child, const char *name, enum lfsck_verify_lpf_types type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_update_lpf_entry </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="lfsck__lib_8c.html#a91923589629ab287f9235fc3f7e2f6ed">lfsck_verify_lpf_types</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01149">1149</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lfsck__internal_8h_source.html#l00102">lfsck_bookmark::lb_lpf_fid</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00099">lfsck_bookmark_store()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01138">lfsck_dto2fid()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06441">lfsck_update_name_entry()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__lib_8c_source.html#l00093">LVLT_BY_BOOKMARK</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l01213">lfsck_verify_lpf_pairs()</a>.</p>

</div>
</div>
<a class="anchor" id="a235b73ea0f2bfe50f7488ff8e3bf672a"></a><!-- doxytag: member="lfsck_lib.c::lfsck_verify_lpf" ref="a235b73ea0f2bfe50f7488ff8e3bf672a" args="(const struct lu_env *env, struct lfsck_instance *lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lfsck_verify_lpf </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify the /ROOT/.lustre/lost+found/ directory. </p>
<p>/ROOT/.lustre/lost+found/ is a special directory to hold the objects that the LFSCK does not exactly know how to handle, such as orphans. So before the LFSCK scanning the system, the consistency of such directory needs to be verified firstly to allow the users to use it during the LFSCK.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lfsck</em>&nbsp;</td><td>pointer to the lfsck instance</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>positive</em>&nbsp;</td><td>number for uncertain inconsistency </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01371">1371</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l02654">dt_lookup()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l01795">dt_object_remote()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00477">fid_is_norm()</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lfsck__internal_8h_source.html#l00102">lfsck_bookmark::lb_lpf_fid</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00099">lfsck_bookmark_store()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00989">lfsck_create_lpf()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01231">lfsck_dev_idx()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01138">lfsck_dto2fid()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00561">lfsck_lpf_remove_name_entry()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01094">lfsck_name_get_const()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01283">lfsck_object_find_bottom()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01247">lfsck_object_find_by_dev()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01219">lfsck_object_put()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01201">lfsck_object_type()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01088">lfsck_scan_lpf_bad_entries()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01326">lfsck_tgt_get()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01338">lfsck_tgt_put()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06325">lfsck_verify_linkea()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01213">lfsck_verify_lpf_pairs()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00670">lfsck_instance::li_bottom</a>, <a class="el" href="lfsck__internal_8h_source.html#l00678">lfsck_instance::li_lpf_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00679">lfsck_instance::li_lpf_root_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00730">lfsck_instance::li_master</a>, <a class="el" href="lfsck__internal_8h_source.html#l00704">lfsck_instance::li_mdt_descs</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lfsck__internal_8h_source.html#l00448">lfsck_tgt_desc::ltd_tgt</a>, <a class="el" href="lfsck__internal_8h_source.html#l00862">lfsck_thread_info::lti_fid</a>, <a class="el" href="lfsck__internal_8h_source.html#l00863">lfsck_thread_info::lti_fid2</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="fid__lib_8c_source.html#l00096">LU_LPF_FID</a>, <a class="el" href="lu__object_8h_source.html#l00709">lu_object_get()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00093">LVLT_BY_BOOKMARK</a>, <a class="el" href="lfsck__lib_8c_source.html#l00094">LVLT_BY_NAMEENTRY</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lfsck__engine_8c_source.html#l00996">lfsck_master_engine()</a>.</p>

</div>
</div>
<a class="anchor" id="a663ec1a9487296f0e0d46ec05b7f3f8c"></a><!-- doxytag: member="lfsck_lib.c::lfsck_verify_lpf_pairs" ref="a663ec1a9487296f0e0d46ec05b7f3f8c" args="(const struct lu_env *env, struct lfsck_instance *lfsck, struct dt_object *child, const char *name, struct lu_fid *fid, enum lfsck_verify_lpf_types type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lfsck_verify_lpf_pairs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__instance.html">lfsck_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>lfsck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="lfsck__lib_8c.html#a91923589629ab287f9235fc3f7e2f6ed">lfsck_verify_lpf_types</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check whether the  back references the . </p>
<p>Two cases: 1) The child's FID is stored in the bookmark file. If the child back references the parent (LU_LPF_FID object) via its ".." entry, then insert the name (MDTxxxx) to the .lustre/lost+found; otherwise, if the child back references another parent2, then: 1.1) If the parent2 recognizes the child, then update the bookmark file; 1.2) Otherwise, the LFSCK cannot know whether there will be parent3 that references the child. So keep them there. As the LFSCK processing, the parent3 may be found, then when the LFSCK run next time, the inconsistency can be repaired.</p>
<p>2) The child's FID is stored in the .lustre/lost+found/ sub-directory name entry (MDTxxxx). If the child back references the parent (LU_LPF_FID obj) via its ".." entry, then update the bookmark file, otherwise, if the child back references another parent2, then: 2.1) If the parent2 recognizes the child, then remove the sub-directory from .lustre/lost+found/; 2.2) Otherwise, if the parent2 does not recognizes the child, trust the sub-directory name entry and update the child; 2.3) Otherwise, if we do not know whether the parent2 recognizes the child or not, then keep them there.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>pointer to the thread context </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lfsck</em>&nbsp;</td><td>pointer to the lfsck instance </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>child</em>&nbsp;</td><td>pointer to the lost+found sub-directory object </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>the name for lost+found sub-directory object </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>fid</em>&nbsp;</td><td>pointer to the buffer to hold the FID of the object (called it as parent2) that is referenced via the child's dotdot entry; it also can be the FID that is referenced by the name entry under the parent2. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>type</em>&nbsp;</td><td>to indicate where the child's FID is stored in</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>positive</em>&nbsp;</td><td>number for uncertain inconsistency </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>for success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>error number on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l01213">1213</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00157">D_LFSCK</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lfsck__lib_8c_source.html#l00543">dotdot</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l02654">dt_lookup()</a>, <a class="el" href="dt__object_8h_source.html#l01790">dt_object_exists()</a>, <a class="el" href="dt__object_8h_source.html#l02165">dt_read_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02185">dt_read_unlock()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lfsck__internal_8h_source.html#l00102">lfsck_bookmark::lb_lpf_fid</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="lfsck__bookmark_8c_source.html#l00099">lfsck_bookmark_store()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01138">lfsck_dto2fid()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01084">lfsck_env_info()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00415">lfsck_ibits_lock()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00436">lfsck_ibits_unlock()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01133">lfsck_lfsck2name()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06404">lfsck_links_get_first()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00561">lfsck_lpf_remove_name_entry()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01094">lfsck_name_get_const()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01283">lfsck_object_find_bottom()</a>, <a class="el" href="lfsck__internal_8h_source.html#l01219">lfsck_object_put()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01149">lfsck_update_lpf_entry()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06441">lfsck_update_name_entry()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06325">lfsck_verify_linkea()</a>, <a class="el" href="lfsck__internal_8h_source.html#l00681">lfsck_instance::li_bookmark_ram</a>, <a class="el" href="lfsck__internal_8h_source.html#l00678">lfsck_instance::li_lpf_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00679">lfsck_instance::li_lpf_root_obj</a>, <a class="el" href="lfsck__internal_8h_source.html#l00864">lfsck_thread_info::lti_fid3</a>, <a class="el" href="lfsck__internal_8h_source.html#l00875">lfsck_thread_info::lti_key</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="fid__lib_8c_source.html#l00096">LU_LPF_FID</a>, <a class="el" href="lu__object_8h_source.html#l00709">lu_object_get()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00093">LVLT_BY_BOOKMARK</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l01371">lfsck_verify_lpf()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b9c41e521682155f33ab832208aced2"></a><!-- doxytag: member="lfsck_lib.c::LU_CONTEXT_KEY_DEFINE" ref="a1b9c41e521682155f33ab832208aced2" args="(lfsck, LCT_MD_THREAD|LCT_DT_THREAD)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_CONTEXT_KEY_DEFINE </td>
          <td>(</td>
          <td class="paramtype">lfsck&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LCT_MD_THREAD|&nbsp;</td>
          <td class="paramname"> <em>LCT_DT_THREAD</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a42808760b871cbdcaae2ceb83344f951"></a><!-- doxytag: member="lfsck_lib.c::LU_KEY_INIT" ref="a42808760b871cbdcaae2ceb83344f951" args="(lfsck, struct lfsck_thread_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_KEY_INIT </td>
          <td>(</td>
          <td class="paramtype">lfsck&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlfsck__thread__info.html">lfsck_thread_info</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abeb099e3c99e6c892f35949769d1588d"></a><!-- doxytag: member="lfsck_lib.c::LU_KEY_INIT_GENERIC" ref="abeb099e3c99e6c892f35949769d1588d" args="(lfsck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_KEY_INIT_GENERIC </td>
          <td>(</td>
          <td class="paramtype">lfsck&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adc10f40acba3bb9b2640e985276b0a7c"></a><!-- doxytag: member="lfsck_lib.c::MODULE_AUTHOR" ref="adc10f40acba3bb9b2640e985276b0a7c" args="(&quot;OpenSFS, Inc. &lt;http://www.lustre.org/&gt;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_AUTHOR </td>
          <td>(</td>
          <td class="paramtype">&quot;&nbsp;</td>
          <td class="paramname"> <em>OpenSFS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Inc.&lt; http://www.lustre.org/&gt;&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a98d17370001b8a3e185c4144f71f20e9"></a><!-- doxytag: member="lfsck_lib.c::MODULE_DESCRIPTION" ref="a98d17370001b8a3e185c4144f71f20e9" args="(&quot;Lustre File System Checker&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_DESCRIPTION </td>
          <td>(</td>
          <td class="paramtype">&quot;Lustre File System Checker&quot;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aef185dcc506ec93af84b7959e2083a75"></a><!-- doxytag: member="lfsck_lib.c::module_exit" ref="aef185dcc506ec93af84b7959e2083a75" args="(lfsck_exit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_exit </td>
          <td>(</td>
          <td class="paramtype">lfsck_exit&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0f0c1972a008abe14df8a41082f3116d"></a><!-- doxytag: member="lfsck_lib.c::module_init" ref="a0f0c1972a008abe14df8a41082f3116d" args="(lfsck_init)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_init </td>
          <td>(</td>
          <td class="paramtype">lfsck_init&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad94b36675e7eb067ea3ce6ff9e244a44"></a><!-- doxytag: member="lfsck_lib.c::MODULE_LICENSE" ref="ad94b36675e7eb067ea3ce6ff9e244a44" args="(&quot;GPL&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_LICENSE </td>
          <td>(</td>
          <td class="paramtype">&quot;GPL&quot;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9c321be2136fb8501887ee69dac11a2"></a><!-- doxytag: member="lfsck_lib.c::MODULE_VERSION" ref="ae9c321be2136fb8501887ee69dac11a2" args="(LUSTRE_VERSION_STRING)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_VERSION </td>
          <td>(</td>
          <td class="paramtype">LUSTRE_VERSION_STRING&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="abe6cafa537717678814801ed8d6cb180"></a><!-- doxytag: member="lfsck_lib.c::dot" ref="abe6cafa537717678814801ed8d6cb180" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#abe6cafa537717678814801ed8d6cb180">dot</a>[] = &quot;.&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00542">542</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l00615">lfsck_create_lpf_local()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00774">lfsck_create_lpf_remote()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01226">lfsck_namespace_create_orphan_dir()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04790">lfsck_namespace_repair_dangling()</a>, <a class="el" href="lod__object_8c_source.html#l01558">lod_dir_declare_create_stripes()</a>, <a class="el" href="lod__object_8c_source.html#l02365">lod_xattr_set_lmv()</a>, <a class="el" href="mdd__dir_8c_source.html#l01862">mdd_declare_object_initialize()</a>, and <a class="el" href="mdd__dir_8c_source.html#l01899">mdd_object_initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a7914eee395b20d62ae6bc4a189f3a468"></a><!-- doxytag: member="lfsck_lib.c::dotdot" ref="a7914eee395b20d62ae6bc4a189f3a468" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="osd-ldiskfs_2osd__handler_8c.html#a7914eee395b20d62ae6bc4a189f3a468">dotdot</a>[] = &quot;..&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00543">543</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l00615">lfsck_create_lpf_local()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00774">lfsck_create_lpf_remote()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05012">lfsck_namespace_assistant_handler_p1()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l01226">lfsck_namespace_create_orphan_dir()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l02990">lfsck_namespace_double_scan_dir()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l02248">lfsck_namespace_handle_striped_master()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l00861">lfsck_namespace_insert_orphan()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01473">lfsck_namespace_repair_bad_name_hash()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04790">lfsck_namespace_repair_dangling()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l02147">lfsck_namespace_repair_unmatched_pairs()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01672">lfsck_namespace_verify_stripe_slave()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01213">lfsck_verify_lpf_pairs()</a>, <a class="el" href="llite__nfs_8c_source.html#l00287">ll_dir_get_parent_fid()</a>, <a class="el" href="lod__object_8c_source.html#l01558">lod_dir_declare_create_stripes()</a>, <a class="el" href="lod__object_8c_source.html#l02365">lod_xattr_set_lmv()</a>, <a class="el" href="mdd__dir_8c_source.html#l01862">mdd_declare_object_initialize()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l01899">mdd_object_initialize()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00152">orph_declare_index_insert()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00196">orph_index_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a018a2a9fa540f4e74f74923523bddd1f"></a><!-- doxytag: member="lfsck_lib.c::dotlustre" ref="a018a2a9fa540f4e74f74923523bddd1f" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="lfsck__lib_8c.html#a018a2a9fa540f4e74f74923523bddd1f">dotlustre</a>[] = &quot;.lustre&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00544">544</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03474">lfsck_register()</a>.</p>

</div>
</div>
<a class="anchor" id="aaa144f60df2565e5cce1b0d967597320"></a><!-- doxytag: member="lfsck_lib.c::lfsck_flags_names" ref="aaa144f60df2565e5cce1b0d967597320" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="lfsck__lib_8c.html#aaa144f60df2565e5cce1b0d967597320">lfsck_flags_names</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        <span class="stringliteral">&quot;scanned-once&quot;</span>,
        <span class="stringliteral">&quot;inconsistent&quot;</span>,
        <span class="stringliteral">&quot;upgrade&quot;</span>,
        <span class="stringliteral">&quot;incomplete&quot;</span>,
        <span class="stringliteral">&quot;crashed_lastid&quot;</span>,
        NULL
}
</pre></div>
<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00071">71</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l04750">lfsck_layout_dump()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l04209">lfsck_namespace_dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a4f965876f4be24e609ae58913bd875f8"></a><!-- doxytag: member="lfsck_lib.c::lfsck_instance_list" ref="a4f965876f4be24e609ae58913bd875f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="lfsck__lib_8c.html#a4f965876f4be24e609ae58913bd875f8">lfsck_instance_list</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00066">66</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l01694">__lfsck_instance_find()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03807">lfsck_exit()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03790">lfsck_init()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l01724">lfsck_instance_add()</a>.</p>

</div>
</div>
<a class="anchor" id="a61e55062bd15b0a9f1f04af6acab8c47"></a><!-- doxytag: member="lfsck_lib.c::lfsck_mdt_orphan_list" ref="a61e55062bd15b0a9f1f04af6acab8c47" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="lfsck__lib_8c.html#a61e55062bd15b0a9f1f04af6acab8c47">lfsck_mdt_orphan_list</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00068">68</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03661">lfsck_add_target()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00236">lfsck_add_target_from_orphan()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03710">lfsck_del_target()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03807">lfsck_exit()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l03790">lfsck_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d67e4f9660bf51f4c4deeaabfdafe7a"></a><!-- doxytag: member="lfsck_lib.c::lfsck_ost_orphan_list" ref="a1d67e4f9660bf51f4c4deeaabfdafe7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="lfsck__lib_8c.html#a1d67e4f9660bf51f4c4deeaabfdafe7a">lfsck_ost_orphan_list</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00067">67</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03661">lfsck_add_target()</a>, <a class="el" href="lfsck__lib_8c_source.html#l00236">lfsck_add_target_from_orphan()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03710">lfsck_del_target()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03807">lfsck_exit()</a>, and <a class="el" href="lfsck__lib_8c_source.html#l03790">lfsck_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ad1157db3beb29bc193fce02f85b07981"></a><!-- doxytag: member="lfsck_lib.c::lfsck_param_names" ref="ad1157db3beb29bc193fce02f85b07981" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="lfsck__lib_8c.html#ad1157db3beb29bc193fce02f85b07981">lfsck_param_names</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        NULL,
        <span class="stringliteral">&quot;failout&quot;</span>,
        <span class="stringliteral">&quot;dryrun&quot;</span>,
        <span class="stringliteral">&quot;all_targets&quot;</span>,
        <span class="stringliteral">&quot;broadcast&quot;</span>,
        <span class="stringliteral">&quot;orphan&quot;</span>,
        <span class="stringliteral">&quot;create_ostobj&quot;</span>,
        <span class="stringliteral">&quot;create_mdtobj&quot;</span>,
        NULL
}
</pre></div>
<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00080">80</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__layout_8c_source.html#l04750">lfsck_layout_dump()</a>, and <a class="el" href="lfsck__namespace_8c_source.html#l04209">lfsck_namespace_dump()</a>.</p>

</div>
</div>
<a class="anchor" id="ad946ff4b482f13185f52e107379d8f5b"></a><!-- doxytag: member="lfsck_lib.c::lostfound" ref="ad946ff4b482f13185f52e107379d8f5b" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="lfsck__lib_8c.html#ad946ff4b482f13185f52e107379d8f5b">lostfound</a>[] = &quot;lost+found&quot;<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lfsck__lib_8c_source.html#l00545">545</a> of file <a class="el" href="lfsck__lib_8c_source.html">lfsck_lib.c</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l03474">lfsck_register()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:47 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
