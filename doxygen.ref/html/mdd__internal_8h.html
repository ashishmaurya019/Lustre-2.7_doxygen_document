<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/mdd/mdd_internal.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/mdd/mdd_internal.h File Reference</h1><code>#include &lt;<a class="el" href="lustre__acl_8h_source.html">lustre_acl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__eacl_8h_source.html">lustre_eacl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="md__object_8h_source.html">md_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dt__object_8h_source.html">dt_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__lfsck_8h_source.html">lustre_lfsck.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__fid_8h_source.html">lustre_fid.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lprocfs__status_8h_source.html">lprocfs_status.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__log_8h_source.html">lustre_log.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__linkea_8h_source.html">lustre_linkea.h</a>&gt;</code><br/>

<p><a href="mdd__internal_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmdd__changelog.html">mdd_changelog</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmdd__dot__lustre__objs.html">mdd_dot_lustre_objs</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Objects in .lustre dir.  <a href="structmdd__dot__lustre__objs.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmdd__generic__thread.html">mdd_generic_thread</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmdd__device.html">mdd_device</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmdd__object.html">mdd_object</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmdd__thread__info.html">mdd_thread_info</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ab2b22e770a010802fe744818fea2b973">CLM_ON</a>&nbsp;&nbsp;&nbsp;0x00001</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">changelog is recording  <a href="#ab2b22e770a010802fe744818fea2b973"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aaf0d86d6118be097c3e47c363e9c8783">CLM_ERR</a>&nbsp;&nbsp;&nbsp;0x00002</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">internal error prevented changelogs from starting  <a href="#aaf0d86d6118be097c3e47c363e9c8783"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a7a26cc6cccc033153d4a3bac28cf17d5">CLM_START</a>&nbsp;&nbsp;&nbsp;0x10000</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">changelogs turned on  <a href="#a7a26cc6cccc033153d4a3bac28cf17d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a47febdf1b0e97d397262689cb8d47535">CLM_FINI</a>&nbsp;&nbsp;&nbsp;0x20000</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">changelogs turned off  <a href="#a47febdf1b0e97d397262689cb8d47535"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a0eabbf0611bf3ebeb513ccd95acfec3e">CLM_PURGE</a>&nbsp;&nbsp;&nbsp;0x40000</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">some changelog records purged  <a href="#a0eabbf0611bf3ebeb513ccd95acfec3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a193f829352999eb22c5deb549ef4084e">MDD_ENV_VAR</a>(env, var)&nbsp;&nbsp;&nbsp;(&amp;mdd_env_info(env)-&gt;mti_##var)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a951e93b95179b5902ea835aefb116101">MAX_ATIME_DIFF</a>&nbsp;&nbsp;&nbsp;60</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a9a8ebe6fbac50a940e38ff57b35c8bba">mod_flags</a> { <a class="el" href="mdd__internal_8h.html#a9a8ebe6fbac50a940e38ff57b35c8bbaa35c8f614b5c72e3bf4ccb520a87e5c73">DEAD_OBJ</a> =  1 &lt;&lt; 0, 
<a class="el" href="mdd__internal_8h.html#a9a8ebe6fbac50a940e38ff57b35c8bbaa17fc0563ae2cfc5d58cdf9aae6c1dd60">ORPHAN_OBJ</a> =  1 &lt;&lt; 1
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a079a4c9fef28b4d67c362cd3e348216f">mdd_links_add_overflow</a> { <a class="el" href="mdd__internal_8h.html#a079a4c9fef28b4d67c362cd3e348216fa25e41f93df4a56f77f7270572f9add7e">MLAO_IGNORE</a> =  false, 
<a class="el" href="mdd__internal_8h.html#a079a4c9fef28b4d67c362cd3e348216fa044310256ed2b9c64e12b5088d1b2173">MLAO_CHECK</a> =  true
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aa62ec2b7288d5c1ac076a4c783f60749">cl_time</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#adad8d3d31f21edba6cd15bbe24b24066">mdd_la_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *la)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a43db1a5b22bea79e81c90de939162a47">mdd_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmd__object.html">md_object</a> *obj, struct <a class="el" href="structmd__attr.html">md_attr</a> *ma)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ab8a3a0cd255d5c9443e376da02df826f">mdd_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmd__object.html">md_object</a> *obj, const struct <a class="el" href="structmd__attr.html">md_attr</a> *ma)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a7ca587143d9c1a293c0a957a955bdadd">mdd_attr_set_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *handle, int needacl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aa67c04f455f93011c5a5150aff407df2">mdd_update_time</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *oattr, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aac76bfe69c48e1c157789eb149a4e8dc">mdd_object_create_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *p, struct <a class="el" href="structmdd__object.html">mdd_object</a> *c, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *handle, const struct <a class="el" href="structmd__op__spec.html">md_op_spec</a> *spec, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#af0b2a71f5b097be47fe22c589e43fcf3">mdd_write_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, enum <a class="el" href="group__md.html#gabf4a938616b1baef18114ee718fcb9d2">mdd_object_role</a> role)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a293182c50af9fd4e943a79269aafeb73">mdd_read_lock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, enum <a class="el" href="group__md.html#gabf4a938616b1baef18114ee718fcb9d2">mdd_object_role</a> role)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#af2732f45e5c21c086bbefedc30ded904">mdd_write_unlock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a8b64259da9d7f08e1d1a5609c8bb6f09">mdd_read_unlock</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#acb847fadc0cfd545623dd8abcfb64d41">mdd_write_locked</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a118dbc57216c3060c13f6d23c295d9af">mdd_is_subdir</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmd__object.html">md_object</a> *mo, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structlu__fid.html">lu_fid</a> *sfid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ad53e9284ea8d10d83db5f5223a06c7eb">mdd_may_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *pobj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *pattr, struct <a class="el" href="structmdd__object.html">mdd_object</a> *cobj, bool check_perm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether it may create the cobj under the pobj.  <a href="#ad53e9284ea8d10d83db5f5223a06c7eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ab910ad3e9fa9e2f33462c2e1bf598a2a">mdd_may_unlink</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *pobj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *pattr, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#af834b8acf5e955ef4f681fc99054db23">mdd_may_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *tpobj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *tpattr, struct <a class="el" href="structmdd__object.html">mdd_object</a> *tobj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *tattr, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *cattr, int check_perm, int check_empty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a1aceed0a6b0ac4992a2078cb5dfe6a77">mdd_unlink_sanity_check</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *pobj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *pattr, struct <a class="el" href="structmdd__object.html">mdd_object</a> *cobj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *cattr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a889982c31cd18ff95bab878f1248ab65">mdd_finish_unlink</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structmd__attr.html">md_attr</a> *ma, const struct <a class="el" href="structmdd__object.html">mdd_object</a> *pobj, const struct <a class="el" href="structlu__name.html">lu_name</a> *lname, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ad60e6ab0fa70382bd23ef46593faef36">mdd_is_root</a> (struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a4c4a040bf5959fbd2c83dadb7afc24ef">mdd_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmd__object.html">md_object</a> *pobj, const struct <a class="el" href="structlu__name.html">lu_name</a> *lname, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structmd__op__spec.html">md_op_spec</a> *spec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a0edb43e6fbdf25488d0d8deaf13571fa">mdd_links_read</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *mdd_obj, struct <a class="el" href="structlinkea__data.html">linkea_data</a> *ldata)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the link EA into a temp buffer.  <a href="#a0edb43e6fbdf25488d0d8deaf13571fa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#add3d00540f6948ab7bf4ecb8e55efc49">mdd_declare_links_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *mdd_obj, struct <a class="el" href="structthandle.html">thandle</a> *handle, struct <a class="el" href="structlinkea__data.html">linkea_data</a> *ldata, enum <a class="el" href="mdd__internal_8h.html#a079a4c9fef28b4d67c362cd3e348216f">mdd_links_add_overflow</a> overflow)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a7c0b1a550b6f60ac9313f6c4bef8650d">mdd_links_write</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *mdd_obj, struct <a class="el" href="structlinkea__data.html">linkea_data</a> *ldata, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a4af8acc8dae648f783c92620b7def024">mdd_links_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *mdd_obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the link EA into a temp buffer.  <a href="#a4af8acc8dae648f783c92620b7def024"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a3177090dcc7095d1afe6881fc26d8ea7">mdd_links_rename</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *mdd_obj, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *oldpfid, const struct <a class="el" href="structlu__name.html">lu_name</a> *oldlname, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *newpfid, const struct <a class="el" href="structlu__name.html">lu_name</a> *newlname, struct <a class="el" href="structthandle.html">thandle</a> *handle, struct <a class="el" href="structlinkea__data.html">linkea_data</a> *ldata, int first, int check)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmdd__thread__info.html">mdd_thread_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ac5da33f07c9822ba14afa775db5bb925">mdd_env_info</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#acd37fe517708bfc4f3163e412bbee73a">mdd_buf_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *area, ssize_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a2616def4d5265ca700102ab9507a7ba6">mdd_buf_get_const</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const void *area, ssize_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a4e67f130b76cceb3b9bd53d38c9b8f74">mdd_orphan_cleanup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterate orphan index to cleanup orphan objects after recovery is done.  <a href="#a4e67f130b76cceb3b9bd53d38c9b8f74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#af2b4d13e194bb2a776939ca34a345ee9">__mdd_orphan_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *, struct <a class="el" href="structmdd__object.html">mdd_object</a> *, struct <a class="el" href="structthandle.html">thandle</a> *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">add an orphan <em>obj</em> to the orphan index.  <a href="#af2b4d13e194bb2a776939ca34a345ee9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#af2a7c3ff73803eedde1da2a9d8049ace">__mdd_orphan_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *, struct <a class="el" href="structmdd__object.html">mdd_object</a> *, struct <a class="el" href="structthandle.html">thandle</a> *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">delete an orphan <em>obj</em> from orphan index.  <a href="#af2a7c3ff73803eedde1da2a9d8049ace"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ae460711899b02d914d01cfaedee00e5b">orph_index_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open the PENDING directory for device <em>mdd</em>  <a href="#ae460711899b02d914d01cfaedee00e5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a76e7250e72b264f6bdf4f29a354fdf90">orph_index_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#afe36fc50c9ac323a1a4c134695ad8f53">orph_declare_index_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *, struct <a class="el" href="structmdd__object.html">mdd_object</a> *, umode_t <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, struct <a class="el" href="structthandle.html">thandle</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a5d9dd3a886f12c02c324f73582c17ef7">orph_declare_index_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *, struct <a class="el" href="structmdd__object.html">mdd_object</a> *, struct <a class="el" href="structthandle.html">thandle</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a713b01d9a108ed605040e0e7b3cabc6b">mdd_procfs_init</a> (struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ae3e5e1499b5a07ea66edaf5a5cc986da">mdd_procfs_fini</a> (struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a9d6a32363a315d0357ffafa8d5f9ef4e">mdd_readlink</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmd__object.html">md_object</a> *obj, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ab483844c03577fe211758121012312b7">accmode</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *la, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a09a036893c009dad15a89d914c9139ad">mdd_object_find</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *d, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a194d945bf3f13ccc2a51295c05948f16">mdd_readpage</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmd__object.html">md_object</a> *obj, const struct <a class="el" href="structlu__rdpg.html">lu_rdpg</a> *rdpg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ada3f2dc65449211ae5ceb2e5cf6b2dbb">mdd_declare_changelog_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd, const struct <a class="el" href="structlu__name.html">lu_name</a> *tname, const struct <a class="el" href="structlu__name.html">lu_name</a> *sname, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aafc53f6af017d93ba0066f4591266ca0">mdd_changelog_rec_ext_jobid</a> (struct <a class="el" href="structchangelog__rec.html">changelog_rec</a> *rec, const char *jobid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a0dff1ab10e7207dd72a2074c91b2d93b">mdd_changelog_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd, struct <a class="el" href="structllog__changelog__rec.html">llog_changelog_rec</a> *rec, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a changelog entry <em>rec</em> to the changelog llog.  <a href="#a0dff1ab10e7207dd72a2074c91b2d93b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a03330c3b005236f217f6944871d24575">mdd_changelog_data_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd, enum <a class="el" href="group__lustreuser.html#ga5aecf326bf672ba1d2483e0a53064d7b">changelog_rec_type</a> type, int flags, struct <a class="el" href="structmdd__object.html">mdd_object</a> *mdd_obj, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store a data change changelog record If this fails, we must fail the whole transaction; we don't want the change to commit without the log entry.  <a href="#a03330c3b005236f217f6944871d24575"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a25a1614dfe16d98e7c3c7f28108cc1e5">mdd_changelog_ns_store</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd, enum <a class="el" href="group__lustreuser.html#ga5aecf326bf672ba1d2483e0a53064d7b">changelog_rec_type</a> type, enum <a class="el" href="group__lustreuser.html#gafd9a43c6bdc39d72c3113806a84be46a">changelog_rec_flags</a> crf, struct <a class="el" href="structmdd__object.html">mdd_object</a> *target, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *tpfid, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *sfid, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *spfid, const struct <a class="el" href="structlu__name.html">lu_name</a> *tname, const struct <a class="el" href="structlu__name.html">lu_name</a> *sname, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store a namespace change changelog record If this fails, we must fail the whole transaction; we don't want the change to commit without the log entry.  <a href="#a25a1614dfe16d98e7c3c7f28108cc1e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a0072a4af08f0c556565af143269c2c8c">mdd_declare_object_create_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *p, struct <a class="el" href="structmdd__object.html">mdd_object</a> *c, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structthandle.html">thandle</a> *handle, const struct <a class="el" href="structmd__op__spec.html">md_op_spec</a> *spec, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a36ce2eb0da1b52df6ea427efb33a3549">mdd_get_lov_ea</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structlu__buf.html">lu_buf</a> *lmm_buf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a40ad43f3efeb4da80115c43bfbf9cd4f">mdd_object_make_hint</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *parent, struct <a class="el" href="structmdd__object.html">mdd_object</a> *child, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, const struct <a class="el" href="structmd__op__spec.html">md_op_spec</a> *spec, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#abfb48ea6bd62baab6ec8941f81c23355">mdd_object_get</a> (struct <a class="el" href="structmdd__object.html">mdd_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ab86ea57273a5458a1ff2da061de3388a">mdd_object_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a1281e121fdf2f264cff6e1870508e67a">mdd_trans_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a456b891ec37700fbc10a4105a762683d">mdd_trans_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a9dc7cbfea77de875d5167212ea083f68">mdd_trans_stop</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd, int rc, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ae0317e09669dea1da68de644ea6ec30e">mdd_object_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *hdr, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a8b4b3275c585e19e8e3e23bcc589807e">mdd_local_file_create</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *pfid, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, __u32 <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ac3409cade2d7b1290433c76a993dc3b2">mdd_acl_chmod</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *o, __u32 <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ac4caa5db8c7657ee3f71717732245e4c">mdd_acl_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int fl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a313e16ccbf8370d05ac2118fd684ab83">__mdd_fix_mode_acl</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, __u32 *<a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aff3c7e48c36f049302df05c0c2f05c0d">__mdd_permission_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *la, int mask, int role)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a20ff7f3e4b2581b896ab29a0d38cb289">mdd_permission</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmd__object.html">md_object</a> *pobj, struct <a class="el" href="structmd__object.html">md_object</a> *cobj, struct <a class="el" href="structmd__attr.html">md_attr</a> *ma, int mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a67cb6200d3d12ce309b01b134453133f">mdd_generic_thread_start</a> (struct <a class="el" href="structmdd__generic__thread.html">mdd_generic_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>, int(*func)(void *), void *data, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#abd02939859a1968cb2c7a39a95e5934b">mdd_generic_thread_stop</a> (struct <a class="el" href="structmdd__generic__thread.html">mdd_generic_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a2a76a46e04f2b05679c2078cb5ec585f">mdd_compat_fixes</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aa421e5f8e88676f67b22a68517e5306c">lu_device_is_mdd</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a0ee56c9153c436d7393592a76b7d8aa9">lu2mdd_dev</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#adf1bd6296528522283c804a090c7c33a">mdd2lu_dev</a> (struct <a class="el" href="structmdd__device.html">mdd_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a26d3f287fdbe480979cbdf21f2977da4">lu2mdd_obj</a> (struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a80c3020dd7bc63ff4736e03b9068a167">mdo2mdd</a> (struct <a class="el" href="structmd__object.html">md_object</a> *mdo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a802f18be96e26b44edd825e5cabc2a85">md2mdd_obj</a> (struct <a class="el" href="structmd__object.html">md_object</a> *mdo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <br class="typebreak"/>
<a class="el" href="structdt__device__operations.html">dt_device_operations</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a563697b858e0c9da10f48a71167c6454">mdd_child_ops</a> (struct <a class="el" href="structmdd__device.html">mdd_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a4b2bb7365b1fb1974b975a138be6ada3">mdd2lu_obj</a> (struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a28d8924c770ebd180580a6bd841440de">mdd_object_child</a> (struct <a class="el" href="structmdd__object.html">mdd_object</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a8be8f8a5b42326558aa690b8c25edb41">mdd2obd_dev</a> (struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a69c150bd99bd692d7514dcfd71548401">mdd_obj2mdd_dev</a> (struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a17fe328d1ba1dd12dfa3a5d309fc4b73">mdo2fid</a> (const struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static umode_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a1aefcdf32cf77dc0a78f8ed59ef788bf">mdd_object_type</a> (const struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a6487e7dbb512efbdf78abb35dcc189dc">mdd_is_dead_obj</a> (struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a8a3c200fae6d9b3acf686ff6ea9f8c81">mdd_object_exists</a> (struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a8499de388a6b9e14612c544ee975457d">mdd_object_remote</a> (struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a2596289db4d24a0bad50143918d58844">mdd_object_fid</a> (struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structseq__server__site.html">seq_server_site</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#adb8127e3d7a46d8c8c889e8c65186566">mdd_seq_site</a> (struct <a class="el" href="structmdd__device.html">mdd_device</a> *mdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a842114ec75bea12928252b90b6a55ff6">mdd_obj_dev_name</a> (const struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aa3fd74b80e108b25ea0afc0944f82b36">mdd_permission_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *la, int mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a1b9fc40356fe121637b234b736ad6f39">mdd_permission_internal_locked</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *la, int mask, enum <a class="el" href="group__md.html#gabf4a938616b1baef18114ee718fcb9d2">mdd_object_role</a> role)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ad17f8d0de77dbb9e899274c273f9afdf">mdo_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structlu__attr.html">lu_attr</a> *la)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a2d1d2968d2b2db6f3ba4c31ebadba1d2">mdo_declare_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *la, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ac665f4e5459f4b42ec3a9e7a7985a78e">mdo_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__attr.html">lu_attr</a> *la, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a345e6c094d4d1562421b6a7318b07ec6">mdo_xattr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a08569779fdfa0a40390548343579ae2c">mdo_declare_xattr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ac835452d6f7162bf5b8e8e141022082b">mdo_xattr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int fl, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a6b4d040b7119376694f93894c8e48f18">mdo_declare_xattr_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a7e7c8bcb99163d6a9e09ab6be3ebbb7e">mdo_xattr_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a5c23c5c73630dc207e63b4dbd6925b1f">mdo_xattr_list</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ada3454ddedc3a923ee2d7544fa536640">mdo_declare_index_insert</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, __u32 type, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a68d15b4174960e67b30a66b8f160798e">mdo_declare_index_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a76f7e4edf015bbfe02169836603b7591">mdo_declare_ref_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a1508866a250d9ef4e7b616d13872bde3">mdo_ref_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#adb18d37f930201a179b0e9f593a6ac1d">mdo_declare_ref_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a785cbc3fe254e3c9315dc6cf6243913b">mdo_ref_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *obj, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a7f35f27e7d4d7e16413f3679cfe3c22c">mdo_declare_create_obj</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *o, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a50837ead481fd19d157ca4e94c8b2612">mdo_create_obj</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *o, struct <a class="el" href="structlu__attr.html">lu_attr</a> *attr, struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *hint, struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *dof, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a6aa80d37ca2fcc698c2fad523c4affa1">mdo_declare_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *o, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ae8e949ac80ca8ff2cd3e43e2a9af0ee7">mdo_destroy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmdd__object.html">mdd_object</a> *o, struct <a class="el" href="structthandle.html">thandle</a> *handle)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ae108beede221a7672faa31aaf55ed737">orph_index_name</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#ace6366b92632f4b587dd6a072b140026">mdd_object_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmd__dir__operations.html">md_dir_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a256957dd4d8cb3232bf258e1240f0a74">mdd_dir_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmd__object__operations.html">md_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aae0eed1e53484d2ca900865879917670">mdd_obj_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__context__key.html">lu_context_key</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#aeea77dd6bf8e62e1a1b512ad2d9d9495">mdd_thread_key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdd__internal_8h.html#a0687fa8e450deb22a7c95d93411795d7">mdd_lu_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aaf0d86d6118be097c3e47c363e9c8783"></a><!-- doxytag: member="mdd_internal.h::CLM_ERR" ref="aaf0d86d6118be097c3e47c363e9c8783" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLM_ERR&nbsp;&nbsp;&nbsp;0x00002</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>internal error prevented changelogs from starting </p>

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00058">58</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00411">mdd_changelog_init()</a>, and <a class="el" href="mdd__device_8c_source.html#l00273">mdd_changelog_on()</a>.</p>

</div>
</div>
<a class="anchor" id="a47febdf1b0e97d397262689cb8d47535"></a><!-- doxytag: member="mdd_internal.h::CLM_FINI" ref="a47febdf1b0e97d397262689cb8d47535" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLM_FINI&nbsp;&nbsp;&nbsp;0x20000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>changelogs turned off </p>

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00063">63</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00296">mdd_changelog_off()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2b22e770a010802fe744818fea2b973"></a><!-- doxytag: member="mdd_internal.h::CLM_ON" ref="ab2b22e770a010802fe744818fea2b973" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLM_ON&nbsp;&nbsp;&nbsp;0x00001</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>changelog is recording </p>

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00056">56</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00643">mdd_changelog_data_store()</a>, <a class="el" href="mdd__dir_8c_source.html#l00817">mdd_changelog_ns_store()</a>, <a class="el" href="mdd__device_8c_source.html#l00296">mdd_changelog_off()</a>, <a class="el" href="mdd__device_8c_source.html#l00273">mdd_changelog_on()</a>, and <a class="el" href="mdd__dir_8c_source.html#l00686">mdd_declare_changelog_store()</a>.</p>

</div>
</div>
<a class="anchor" id="a0eabbf0611bf3ebeb513ccd95acfec3e"></a><!-- doxytag: member="mdd_internal.h::CLM_PURGE" ref="a0eabbf0611bf3ebeb513ccd95acfec3e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLM_PURGE&nbsp;&nbsp;&nbsp;0x40000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>some changelog records purged </p>

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00065">65</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00461">mdd_changelog_llog_cancel()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a26cc6cccc033153d4a3bac28cf17d5"></a><!-- doxytag: member="mdd_internal.h::CLM_START" ref="a7a26cc6cccc033153d4a3bac28cf17d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLM_START&nbsp;&nbsp;&nbsp;0x10000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>changelogs turned on </p>

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00061">61</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00273">mdd_changelog_on()</a>.</p>

</div>
</div>
<a class="anchor" id="a951e93b95179b5902ea835aefb116101"></a><!-- doxytag: member="mdd_internal.h::MAX_ATIME_DIFF" ref="a951e93b95179b5902ea835aefb116101" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ATIME_DIFF&nbsp;&nbsp;&nbsp;60</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00465">465</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00120">mdd_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a193f829352999eb22c5deb549ef4084e"></a><!-- doxytag: member="mdd_internal.h::MDD_ENV_VAR" ref="a193f829352999eb22c5deb549ef4084e" args="(env, var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDD_ENV_VAR</td>
          <td>(</td>
          <td class="paramtype">env, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">var&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(&amp;mdd_env_info(env)-&gt;mti_##var)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00246">246</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l03402">mdd_declare_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l00259">mdd_is_subdir()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l00110">mdd_lookup()</a>, <a class="el" href="mdd__dir_8c_source.html#l01407">mdd_mark_orphan_object()</a>, <a class="el" href="mdd__dir_8c_source.html#l04213">mdd_migrate()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__object_8c_source.html#l00163">mdd_object_start()</a>, <a class="el" href="mdd__object_8c_source.html#l01681">mdd_open()</a>, <a class="el" href="mdd__permission_8c_source.html#l00307">mdd_permission()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, and <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a079a4c9fef28b4d67c362cd3e348216f"></a><!-- doxytag: member="mdd_internal.h::mdd_links_add_overflow" ref="a079a4c9fef28b4d67c362cd3e348216f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="mdd__internal_8h.html#a079a4c9fef28b4d67c362cd3e348216f">mdd_links_add_overflow</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a079a4c9fef28b4d67c362cd3e348216fa25e41f93df4a56f77f7270572f9add7e"></a><!-- doxytag: member="MLAO_IGNORE" ref="a079a4c9fef28b4d67c362cd3e348216fa25e41f93df4a56f77f7270572f9add7e" args="" -->MLAO_IGNORE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a079a4c9fef28b4d67c362cd3e348216fa044310256ed2b9c64e12b5088d1b2173"></a><!-- doxytag: member="MLAO_CHECK" ref="a079a4c9fef28b4d67c362cd3e348216fa044310256ed2b9c64e12b5088d1b2173" args="" -->MLAO_CHECK</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00165">165</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9a8ebe6fbac50a940e38ff57b35c8bba"></a><!-- doxytag: member="mdd_internal.h::mod_flags" ref="a9a8ebe6fbac50a940e38ff57b35c8bba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="mdd__internal_8h.html#a9a8ebe6fbac50a940e38ff57b35c8bba">mod_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a9a8ebe6fbac50a940e38ff57b35c8bbaa35c8f614b5c72e3bf4ccb520a87e5c73"></a><!-- doxytag: member="DEAD_OBJ" ref="a9a8ebe6fbac50a940e38ff57b35c8bbaa35c8f614b5c72e3bf4ccb520a87e5c73" args="" -->DEAD_OBJ</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9a8ebe6fbac50a940e38ff57b35c8bbaa17fc0563ae2cfc5d58cdf9aae6c1dd60"></a><!-- doxytag: member="ORPHAN_OBJ" ref="a9a8ebe6fbac50a940e38ff57b35c8bbaa17fc0563ae2cfc5d58cdf9aae6c1dd60" args="" -->ORPHAN_OBJ</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00118">118</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a313e16ccbf8370d05ac2118fd684ab83"></a><!-- doxytag: member="mdd_internal.h::__mdd_fix_mode_acl" ref="a313e16ccbf8370d05ac2118fd684ab83" args="(const struct lu_env *env, struct lu_buf *buf, __u32 *mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __mdd_fix_mode_acl </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02144">mdd_acl_init()</a>.</p>

</div>
</div>
<a class="anchor" id="af2b4d13e194bb2a776939ca34a345ee9"></a><!-- doxytag: member="mdd_internal.h::__mdd_orphan_add" ref="af2b4d13e194bb2a776939ca34a345ee9" args="(const struct lu_env *, struct mdd_object *, struct thandle *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __mdd_orphan_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>add an orphan <em>obj</em> to the orphan index. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>file or directory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>th</em>&nbsp;</td><td>transaction for index insert.</td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>obj nlink == 0 &amp;&amp; obj-&gt;mod_count != 0</dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>index operation error. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__orphans_8c_source.html#l00628">628</a> of file <a class="el" href="mdd__orphans_8c_source.html">mdd_orphans.c</a>.</p>

<p>References <a class="el" href="mdd__orphans_8c_source.html#l00196">orph_index_insert()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00057">ORPH_OP_UNLINK</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01453">mdd_finish_unlink()</a>, and <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>.</p>

</div>
</div>
<a class="anchor" id="af2a7c3ff73803eedde1da2a9d8049ace"></a><!-- doxytag: member="mdd_internal.h::__mdd_orphan_del" ref="af2a7c3ff73803eedde1da2a9d8049ace" args="(const struct lu_env *, struct mdd_object *, struct thandle *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __mdd_orphan_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>delete an orphan <em>obj</em> from orphan index. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>file or directory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>th</em>&nbsp;</td><td>transaction for index deletion and object destruction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>obj-&gt;mod_count == 0 &amp;&amp; ORPHAN_OBJ is set for obj.</dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>index operation error. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__orphans_8c_source.html#l00644">644</a> of file <a class="el" href="mdd__orphans_8c_source.html">mdd_orphans.c</a>.</p>

<p>References <a class="el" href="mdd__orphans_8c_source.html#l00275">orph_index_delete()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00057">ORPH_OP_UNLINK</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, and <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>.</p>

</div>
</div>
<a class="anchor" id="aff3c7e48c36f049302df05c0c2f05c0d"></a><!-- doxytag: member="mdd_internal.h::__mdd_permission_internal" ref="aff3c7e48c36f049302df05c0c2f05c0d" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_attr *la, int mask, int role)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __mdd_permission_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>role</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__permission_8c_source.html#l00240">240</a> of file <a class="el" href="mdd__permission_8c_source.html">mdd_permission.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="curproc_8h_source.html#l00113">CFS_CAP_DAC_OVERRIDE</a>, <a class="el" href="curproc_8h_source.html#l00114">CFS_CAP_DAC_READ_SEARCH</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="lu__object_8h_source.html#l00423">lu_attr::la_gid</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__ucred_8c_source.html#l00065">lu_ucred()</a>, <a class="el" href="lustre__idl_8h_source.html#l02118">LUSTRE_IMMUTABLE_FL</a>, <a class="el" href="idmap_8c_source.html#l00144">lustre_in_group_p()</a>, <a class="el" href="md__object_8h_source.html#l00618">md_capable()</a>, <a class="el" href="mdd__permission_8c_source.html#l00204">mdd_check_acl()</a>, <a class="el" href="mdd__lock_8c_source.html#l00057">mdd_read_lock()</a>, <a class="el" href="mdd__lock_8c_source.html#l00072">mdd_read_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="md__object_8h_source.html#l00591">lu_ucred::uc_fsuid</a>, <a class="el" href="md__object_8h_source.html#l00584">lu_ucred::uc_valid</a>, <a class="el" href="md__object_8h_source.html#l00578">UCRED_INIT</a>, and <a class="el" href="md__object_8h_source.html#l00577">UCRED_INVALID</a>.</p>

<p>Referenced by <a class="el" href="mdd__internal_8h_source.html#l00467">mdd_permission_internal()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00474">mdd_permission_internal_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="ab483844c03577fe211758121012312b7"></a><!-- doxytag: member="mdd_internal.h::accmode" ref="ab483844c03577fe211758121012312b7" args="(const struct lu_env *env, const struct lu_attr *la, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int accmode </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l01601">1601</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02308">FMODE_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="lu__ucred_8c_source.html#l00077">lu_ucred_check()</a>, <a class="el" href="lustre__idl_8h_source.html#l02313">MDS_FMODE_EXEC</a>, <a class="el" href="lustre__idl_8h_source.html#l02324">MDS_OPEN_APPEND</a>, <a class="el" href="lustre__idl_8h_source.html#l02330">MDS_OPEN_OWNEROVERRIDE</a>, <a class="el" href="lustre__idl_8h_source.html#l02323">MDS_OPEN_TRUNC</a>, and <a class="el" href="md__object_8h_source.html#l00591">lu_ucred::uc_fsuid</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l01626">mdd_open_sanity_check()</a>, and <a class="el" href="mdd__permission_8c_source.html#l00307">mdd_permission()</a>.</p>

</div>
</div>
<a class="anchor" id="aa62ec2b7288d5c1ac076a4c783f60749"></a><!-- doxytag: member="mdd_internal.h::cl_time" ref="aa62ec2b7288d5c1ac076a4c783f60749" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> cl_time </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00077">77</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, and <a class="el" href="linux-time_8h_source.html#l00162">cfs_fs_time_current()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00736">mdd_changelog_store()</a>, and <a class="el" href="mdd__device_8c_source.html#l00510">mdd_changelog_write_header()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ee56c9153c436d7393592a76b7d8aa9"></a><!-- doxytag: member="mdd_internal.h::lu2mdd_dev" ref="a0ee56c9153c436d7393592a76b7d8aa9" args="(struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmdd__device.html">mdd_device</a>* lu2mdd_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00371">371</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdd__internal_8h_source.html#l00366">lu_device_is_mdd()</a>, <a class="el" href="md__object_8h_source.html#l00282">md_device::md_lu_dev</a>, and <a class="el" href="mdd__internal_8h_source.html#l00099">mdd_device::mdd_md_dev</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00157">mdd_device_fini()</a>, <a class="el" href="mdd__device_8c_source.html#l01137">mdd_device_free()</a>, <a class="el" href="mdd__device_8c_source.html#l01457">mdd_iocontrol()</a>, <a class="el" href="mdd__device_8c_source.html#l01128">mdd_llog_ctxt_get()</a>, <a class="el" href="mdd__device_8c_source.html#l01117">mdd_maxeasize_get()</a>, <a class="el" href="mdd__device_8c_source.html#l01177">mdd_obd_connect()</a>, <a class="el" href="mdd__device_8c_source.html#l01205">mdd_obd_disconnect()</a>, <a class="el" href="mdd__device_8c_source.html#l01223">mdd_obd_get_info()</a>, <a class="el" href="mdd__device_8c_source.html#l01245">mdd_obd_set_info_async()</a>, <a class="el" href="mdd__object_8c_source.html#l00143">mdd_object_init()</a>, <a class="el" href="mdd__device_8c_source.html#l00990">mdd_prepare()</a>, <a class="el" href="mdd__device_8c_source.html#l00894">mdd_process_config()</a>, <a class="el" href="mdd__device_8c_source.html#l00932">mdd_recovery_complete()</a>, <a class="el" href="mdd__device_8c_source.html#l01089">mdd_root_get()</a>, <a class="el" href="mdd__device_8c_source.html#l01102">mdd_statfs()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00388">mdo2mdd()</a>.</p>

</div>
</div>
<a class="anchor" id="a26d3f287fdbe480979cbdf21f2977da4"></a><!-- doxytag: member="mdd_internal.h::lu2mdd_obj" ref="a26d3f287fdbe480979cbdf21f2977da4" args="(struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmdd__object.html">mdd_object</a>* lu2mdd_obj </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00382">382</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="mdd__internal_8h_source.html#l00366">lu_device_is_mdd()</a>, <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>, and <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00177">mdd_object_free()</a>, <a class="el" href="mdd__object_8c_source.html#l00143">mdd_object_init()</a>, <a class="el" href="mdd__object_8c_source.html#l00185">mdd_object_print()</a>, and <a class="el" href="mdd__object_8c_source.html#l00163">mdd_object_start()</a>.</p>

</div>
</div>
<a class="anchor" id="aa421e5f8e88676f67b22a68517e5306c"></a><!-- doxytag: member="mdd_internal.h::lu_device_is_mdd" ref="aa421e5f8e88676f67b22a68517e5306c" args="(struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lu_device_is_mdd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00366">366</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, and <a class="el" href="mdd__device_8c_source.html#l01082">mdd_lu_ops</a>.</p>

<p>Referenced by <a class="el" href="mdd__internal_8h_source.html#l00371">lu2mdd_dev()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00382">lu2mdd_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="a802f18be96e26b44edd825e5cabc2a85"></a><!-- doxytag: member="mdd_internal.h::md2mdd_obj" ref="a802f18be96e26b44edd825e5cabc2a85" args="(struct md_object *mdo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmdd__object.html">mdd_object</a>* md2mdd_obj </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mdo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00393">393</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__object_8c_source.html#l00212">mdd_attr_get()</a>, <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l00738">mdd_attr_set_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l00697">mdd_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l01940">mdd_create_sanity_check()</a>, <a class="el" href="mdd__device_8c_source.html#l00758">mdd_dot_lustre_setup()</a>, <a class="el" href="mdd__object_8c_source.html#l00963">mdd_hsm_update_locked()</a>, <a class="el" href="mdd__dir_8c_source.html#l00259">mdd_is_subdir()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l00110">mdd_lookup()</a>, <a class="el" href="mdd__device_8c_source.html#l00685">mdd_lpf_setup()</a>, <a class="el" href="mdd__dir_8c_source.html#l04213">mdd_migrate()</a>, <a class="el" href="mdd__device_8c_source.html#l00715">mdd_obf_setup()</a>, <a class="el" href="mdd__object_8c_source.html#l00202">mdd_object_find()</a>, <a class="el" href="mdd__object_8c_source.html#l02042">mdd_object_lock()</a>, <a class="el" href="mdd__object_8c_source.html#l02026">mdd_object_sync()</a>, <a class="el" href="mdd__object_8c_source.html#l02053">mdd_object_unlock()</a>, <a class="el" href="mdd__object_8c_source.html#l01681">mdd_open()</a>, <a class="el" href="mdd__permission_8c_source.html#l00307">mdd_permission()</a>, <a class="el" href="mdd__object_8c_source.html#l00271">mdd_readlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01958">mdd_readpage()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, <a class="el" href="mdd__object_8c_source.html#l00230">mdd_xattr_get()</a>, <a class="el" href="mdd__object_8c_source.html#l00299">mdd_xattr_list()</a>, and <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="adf1bd6296528522283c804a090c7c33a"></a><!-- doxytag: member="mdd_internal.h::mdd2lu_dev" ref="adf1bd6296528522283c804a090c7c33a" args="(struct mdd_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* mdd2lu_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00377">377</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="md__object_8h_source.html#l00282">md_device::md_lu_dev</a>, and <a class="el" href="mdd__internal_8h_source.html#l00099">mdd_device::mdd_md_dev</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__device_8c_source.html#l00078">mdd_connect_to_next()</a>, <a class="el" href="mdd__device_8c_source.html#l01149">mdd_device_alloc()</a>, <a class="el" href="mdd__device_8c_source.html#l00875">mdd_device_shutdown()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00455">mdd_seq_site()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b2bb7365b1fb1974b975a138be6ada3"></a><!-- doxytag: member="mdd_internal.h::mdd2lu_obj" ref="a4b2bb7365b1fb1974b975a138be6ada3" args="(struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object.html">lu_object</a>* mdd2lu_obj </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00404">404</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>, and <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00121">mdd_object_alloc()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>, <a class="el" href="mdd__internal_8h_source.html#l00450">mdd_object_fid()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00445">mdd_object_remote()</a>.</p>

</div>
</div>
<a class="anchor" id="a8be8f8a5b42326558aa690b8c25edb41"></a><!-- doxytag: member="mdd_internal.h::mdd2obd_dev" ref="a8be8f8a5b42326558aa690b8c25edb41" args="(struct mdd_device *mdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structobd__device.html">obd_device</a>* mdd2obd_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00415">415</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="md__object_8h_source.html#l00282">md_device::md_lu_dev</a>, and <a class="el" href="mdd__internal_8h_source.html#l00099">mdd_device::mdd_md_dev</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__device_8c_source.html#l00434">mdd_changelog_fini()</a>, <a class="el" href="mdd__device_8c_source.html#l00411">mdd_changelog_init()</a>, <a class="el" href="mdd__device_8c_source.html#l00461">mdd_changelog_llog_cancel()</a>, <a class="el" href="mdd__device_8c_source.html#l00312">mdd_changelog_llog_init()</a>, <a class="el" href="mdd__dir_8c_source.html#l00817">mdd_changelog_ns_store()</a>, <a class="el" href="mdd__device_8c_source.html#l00296">mdd_changelog_off()</a>, <a class="el" href="mdd__device_8c_source.html#l00273">mdd_changelog_on()</a>, <a class="el" href="mdd__lproc_8c_source.html#l00181">mdd_changelog_size_ctxt()</a>, <a class="el" href="mdd__dir_8c_source.html#l00736">mdd_changelog_store()</a>, <a class="el" href="mdd__device_8c_source.html#l01389">mdd_changelog_user_purge()</a>, <a class="el" href="mdd__device_8c_source.html#l01273">mdd_changelog_user_register()</a>, <a class="el" href="mdd__lproc_8c_source.html#l00145">mdd_changelog_users_seq_show()</a>, <a class="el" href="mdd__device_8c_source.html#l00510">mdd_changelog_write_header()</a>, <a class="el" href="mdd__dir_8c_source.html#l00686">mdd_declare_changelog_store()</a>, <a class="el" href="mdd__device_8c_source.html#l00758">mdd_dot_lustre_setup()</a>, <a class="el" href="mdd__device_8c_source.html#l00858">mdd_hsm_actions_llog_fini()</a>, <a class="el" href="mdd__device_8c_source.html#l00809">mdd_hsm_actions_llog_init()</a>, <a class="el" href="mdd__dir_8c_source.html#l03063">mdd_linkea_update_child_internal()</a>, <a class="el" href="mdd__device_8c_source.html#l01128">mdd_llog_ctxt_get()</a>, <a class="el" href="mdd__dir_8c_source.html#l04213">mdd_migrate()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l04117">mdd_migrate_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00595">mdd_orphan_cleanup()</a>, <a class="el" href="mdd__device_8c_source.html#l00990">mdd_prepare()</a>, <a class="el" href="mdd__device_8c_source.html#l00894">mdd_process_config()</a>, <a class="el" href="mdd__lproc_8c_source.html#l00362">mdd_procfs_init()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__device_8c_source.html#l00565">obf_lookup()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00523">orph_index_init()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00427">orph_index_iterate()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00380">orph_key_test_and_del()</a>.</p>

</div>
</div>
<a class="anchor" id="ac3409cade2d7b1290433c76a993dc3b2"></a><!-- doxytag: member="mdd_internal.h::mdd_acl_chmod" ref="ac3409cade2d7b1290433c76a993dc3b2" args="(const struct lu_env *env, struct mdd_object *o, __u32 mode, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_acl_chmod </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00394">mdd_attr_set_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="ac4caa5db8c7657ee3f71717732245e4c"></a><!-- doxytag: member="mdd_internal.h::mdd_acl_set" ref="ac4caa5db8c7657ee3f71717732245e4c" args="(const struct lu_env *env, struct mdd_object *obj, struct lu_attr *attr, const struct lu_buf *buf, int fl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_acl_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a43db1a5b22bea79e81c90de939162a47"></a><!-- doxytag: member="mdd_internal.h::mdd_attr_get" ref="a43db1a5b22bea79e81c90de939162a47" args="(const struct lu_env *env, struct md_object *obj, struct md_attr *ma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_attr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__attr.html">md_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>ma</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00212">212</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00427">lu_attr::la_nlink</a>, <a class="el" href="md__object_8h_source.html#l00119">md_attr::ma_attr</a>, <a class="el" href="md__object_8h_source.html#l00072">MA_INODE</a>, <a class="el" href="md__object_8h_source.html#l00117">md_attr::ma_need</a>, <a class="el" href="mdd__internal_8h_source.html#l00393">md2mdd_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00435">mdd_is_dead_obj()</a>, <a class="el" href="mdd__object_8c_source.html#l00065">mdd_la_get()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ab8a3a0cd255d5c9443e376da02df826f"></a><!-- doxytag: member="mdd_internal.h::mdd_attr_set" ref="ab8a3a0cd255d5c9443e376da02df826f" args="(const struct lu_env *env, struct md_object *obj, const struct md_attr *ma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmd__attr.html">md_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>ma</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00834">834</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00415">lu_attr::la_ctime</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00453">LA_FLAGS</a>, <a class="el" href="lu__object_8h_source.html#l00411">lu_attr::la_mtime</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="md__object_8h_source.html#l00119">md_attr::ma_attr</a>, <a class="el" href="md__object_8h_source.html#l00118">md_attr::ma_attr_flags</a>, <a class="el" href="md__object_8h_source.html#l00078">MA_HSM</a>, <a class="el" href="md__object_8h_source.html#l00073">MA_LOV</a>, <a class="el" href="md__object_8h_source.html#l00116">md_attr::ma_valid</a>, <a class="el" href="mdd__internal_8h_source.html#l00393">md2mdd_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00415">mdd2obd_dev()</a>, <a class="el" href="mdd__object_8c_source.html#l00738">mdd_attr_set_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l00394">mdd_attr_set_internal()</a>, <a class="el" href="mdd__object_8c_source.html#l00764">mdd_declare_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00246">MDD_ENV_VAR</a>, <a class="el" href="mdd__object_8c_source.html#l00441">mdd_fix_attr()</a>, <a class="el" href="mdd__object_8c_source.html#l00065">mdd_la_get()</a>, <a class="el" href="mdd__internal_8h_source.html#l00112">mdd_device::mdd_sync_permission</a>, <a class="el" href="mdd__trans_8c_source.html#l00051">mdd_trans_create()</a>, <a class="el" href="mdd__trans_8c_source.html#l00057">mdd_trans_start()</a>, <a class="el" href="mdd__trans_8c_source.html#l00063">mdd_trans_stop()</a>, <a class="el" href="mdd__lock_8c_source.html#l00049">mdd_write_lock()</a>, <a class="el" href="mdd__lock_8c_source.html#l00065">mdd_write_unlock()</a>, <a class="el" href="mdd__internal_8h_source.html#l00425">mdo2fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00388">mdo2mdd()</a>, <a class="el" href="md__object_8h_source.html#l00567">MOR_TGT_CHILD</a>, <a class="el" href="mdd__internal_8h_source.html#l00144">mdd_thread_info::mti_la_for_fix</a>, <a class="el" href="mdd__object_8c_source.html#l00812">permission_needs_sync()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="rename__many_8c_source.html#l00056">stop</a>, and <a class="el" href="dt__object_8h_source.html#l01848">thandle::th_sync</a>.</p>

</div>
</div>
<a class="anchor" id="a7ca587143d9c1a293c0a957a955bdadd"></a><!-- doxytag: member="mdd_internal.h::mdd_attr_set_internal" ref="a7ca587143d9c1a293c0a957a955bdadd" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_attr *attr, struct thandle *handle, int needacl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_attr_set_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>needacl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00394">394</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00448">LA_MODE</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="mdd__internal_8h.html#ac3409cade2d7b1290433c76a993dc3b2">mdd_acl_chmod()</a>, <a class="el" href="mdd__internal_8h_source.html#l00500">mdo_attr_set()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, and <a class="el" href="mdd__object_8c_source.html#l00409">mdd_update_time()</a>.</p>

</div>
</div>
<a class="anchor" id="acd37fe517708bfc4f3163e412bbee73a"></a><!-- doxytag: member="mdd_internal.h::mdd_buf_get" ref="acd37fe517708bfc4f3163e412bbee73a" args="(const struct lu_env *env, void *area, ssize_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__buf.html">lu_buf</a>* mdd_buf_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>area</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00100">100</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00151">mdd_thread_info::mti_buf</a>.</p>

<p>Referenced by <a class="el" href="mdd__permission_8c_source.html#l00204">mdd_check_acl()</a>, <a class="el" href="mdd__object_8c_source.html#l00764">mdd_declare_attr_set()</a>, <a class="el" href="mdd__dir_8c_source.html#l01576">mdd_hsm_archive_exists()</a>, and <a class="el" href="mdd__object_8c_source.html#l00963">mdd_hsm_update_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a2616def4d5265ca700102ab9507a7ba6"></a><!-- doxytag: member="mdd_internal.h::mdd_buf_get_const" ref="a2616def4d5265ca700102ab9507a7ba6" args="(const struct lu_env *env, const void *area, ssize_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__buf.html">lu_buf</a>* mdd_buf_get_const </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>area</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00110">110</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00151">mdd_thread_info::mti_buf</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l01188">mdd_declare_links_add()</a>, <a class="el" href="mdd__dir_8c_source.html#l03402">mdd_declare_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l02020">mdd_declare_object_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01149">mdd_links_write()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, and <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a03330c3b005236f217f6944871d24575"></a><!-- doxytag: member="mdd_internal.h::mdd_changelog_data_store" ref="a03330c3b005236f217f6944871d24575" args="(const struct lu_env *env, struct mdd_device *mdd, enum changelog_rec_type type, int flags, struct mdd_object *mdd_obj, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_changelog_data_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreuser.html#ga5aecf326bf672ba1d2483e0a53064d7b">changelog_rec_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store a data change changelog record If this fails, we must fail the whole transaction; we don't want the change to commit without the log entry. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mdd_obj</em>&nbsp;</td><td>- <a class="el" href="structmdd__object.html">mdd_object</a> of change </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>- transaction handle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00643">643</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="linux-time_8h_source.html#l00248">cfs_time_before_64()</a>, <a class="el" href="linux-time_8h_source.html#l00235">cfs_time_current_64</a>, <a class="el" href="lustre__user_8h_source.html#l00888">changelog_rec_offset()</a>, <a class="el" href="lustre__user_8h_source.html#l00729">CL_ATIME</a>, <a class="el" href="lustre__user_8h_source.html#l00727">CL_MTIME</a>, <a class="el" href="lustre__user_8h_source.html#l00748">CLF_FLAGMASK</a>, <a class="el" href="lustre__user_8h_source.html#l00753">CLF_JOBID</a>, <a class="el" href="lustre__user_8h_source.html#l00754">CLF_SUPPORTED</a>, <a class="el" href="lustre__user_8h_source.html#l00751">CLF_VERSION</a>, <a class="el" href="mdd__internal_8h_source.html#l00056">CLM_ON</a>, <a class="el" href="lustre__idl_8h_source.html#l03209">llog_changelog_rec::cr</a>, <a class="el" href="lustre__user_8h_source.html#l00864">changelog_rec::cr_flags</a>, <a class="el" href="lustre__user_8h_source.html#l00863">changelog_rec::cr_namelen</a>, <a class="el" href="lustre__user_8h_source.html#l00870">changelog_rec::cr_tfid</a>, <a class="el" href="lustre__user_8h_source.html#l00865">changelog_rec::cr_type</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lustre__log_8h_source.html#l00355">llog_data_len()</a>, <a class="el" href="lu__object_8c_source.html#l02369">lu_buf_check_and_alloc()</a>, <a class="el" href="lu__ucred_8c_source.html#l00065">lu_ucred()</a>, <a class="el" href="mdd__internal_8h_source.html#l00069">mdd_changelog::mc_flags</a>, <a class="el" href="mdd__internal_8h_source.html#l00070">mdd_changelog::mc_mask</a>, <a class="el" href="mdd__internal_8h_source.html#l00072">mdd_changelog::mc_starttime</a>, <a class="el" href="mdd__dir_8c_source.html#l00796">mdd_changelog_rec_ext_jobid()</a>, <a class="el" href="mdd__dir_8c_source.html#l00736">mdd_changelog_store()</a>, <a class="el" href="mdd__internal_8h_source.html#l00108">mdd_device::mdd_cl</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00425">mdo2fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00129">mdd_object::mod_cltime</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="md__object_8h_source.html#l00598">lu_ucred::uc_jobid</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00738">mdd_attr_set_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l00697">mdd_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__object_8c_source.html#l00963">mdd_hsm_update_locked()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, <a class="el" href="mdd__object_8c_source.html#l01244">mdd_xattr_hsm_replace()</a>, and <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a25a1614dfe16d98e7c3c7f28108cc1e5"></a><!-- doxytag: member="mdd_internal.h::mdd_changelog_ns_store" ref="a25a1614dfe16d98e7c3c7f28108cc1e5" args="(const struct lu_env *env, struct mdd_device *mdd, enum changelog_rec_type type, enum changelog_rec_flags crf, struct mdd_object *target, const struct lu_fid *tpfid, const struct lu_fid *sfid, const struct lu_fid *spfid, const struct lu_name *tname, const struct lu_name *sname, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_changelog_ns_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreuser.html#ga5aecf326bf672ba1d2483e0a53064d7b">changelog_rec_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreuser.html#gafd9a43c6bdc39d72c3113806a84be46a">changelog_rec_flags</a>&nbsp;</td>
          <td class="paramname"> <em>crf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>tpfid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>sfid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>spfid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>tname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>sname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store a namespace change changelog record If this fails, we must fail the whole transaction; we don't want the change to commit without the log entry. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>- <a class="el" href="structmdd__object.html">mdd_object</a> of change </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tpfid</em>&nbsp;</td><td>- target parent dir/object fid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sfid</em>&nbsp;</td><td>- source object fid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spfid</em>&nbsp;</td><td>- source parent fid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tname</em>&nbsp;</td><td>- target name string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sname</em>&nbsp;</td><td>- source name string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>- transaction handle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00817">817</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-time_8h_source.html#l00235">cfs_time_current_64</a>, <a class="el" href="lustre__user_8h_source.html#l00932">changelog_rec_name()</a>, <a class="el" href="lustre__user_8h_source.html#l00748">CLF_FLAGMASK</a>, <a class="el" href="lustre__user_8h_source.html#l00753">CLF_JOBID</a>, <a class="el" href="lustre__user_8h_source.html#l00752">CLF_RENAME</a>, <a class="el" href="lustre__user_8h_source.html#l00751">CLF_VERSION</a>, <a class="el" href="mdd__internal_8h_source.html#l00056">CLM_ON</a>, <a class="el" href="lustre__idl_8h_source.html#l03209">llog_changelog_rec::cr</a>, <a class="el" href="lustre__user_8h_source.html#l00864">changelog_rec::cr_flags</a>, <a class="el" href="lustre__user_8h_source.html#l00863">changelog_rec::cr_namelen</a>, <a class="el" href="lustre__user_8h_source.html#l00873">changelog_rec::cr_pfid</a>, <a class="el" href="lustre__user_8h_source.html#l00870">changelog_rec::cr_tfid</a>, <a class="el" href="lustre__user_8h_source.html#l00865">changelog_rec::cr_type</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8h_source.html#l01297">lu_name::ln_name</a>, <a class="el" href="lu__object_8h_source.html#l01298">lu_name::ln_namelen</a>, <a class="el" href="lu__object_8c_source.html#l02369">lu_buf_check_and_alloc()</a>, <a class="el" href="lu__ucred_8c_source.html#l00065">lu_ucred()</a>, <a class="el" href="mdd__internal_8h_source.html#l00069">mdd_changelog::mc_flags</a>, <a class="el" href="mdd__internal_8h_source.html#l00070">mdd_changelog::mc_mask</a>, <a class="el" href="mdd__internal_8h_source.html#l00415">mdd2obd_dev()</a>, <a class="el" href="mdd__dir_8c_source.html#l00796">mdd_changelog_rec_ext_jobid()</a>, <a class="el" href="mdd__dir_8c_source.html#l00776">mdd_changelog_rec_ext_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l00736">mdd_changelog_store()</a>, <a class="el" href="mdd__internal_8h_source.html#l00108">mdd_device::mdd_cl</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__dir_8c_source.html#l00666">mdd_llog_record_calc_size()</a>, <a class="el" href="mdd__internal_8h_source.html#l00425">mdo2fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00129">mdd_object::mod_cltime</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="md__object_8h_source.html#l00598">lu_ucred::uc_jobid</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, and <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>.</p>

</div>
</div>
<a class="anchor" id="aafc53f6af017d93ba0066f4591266ca0"></a><!-- doxytag: member="mdd_internal.h::mdd_changelog_rec_ext_jobid" ref="aafc53f6af017d93ba0066f4591266ca0" args="(struct changelog_rec *rec, const char *jobid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdd_changelog_rec_ext_jobid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structchangelog__rec.html">changelog_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>jobid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00796">796</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l00922">changelog_rec_jobid()</a>, <a class="el" href="lustre__user_8h_source.html#l00884">changelog_ext_jobid::cr_jobid</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00643">mdd_changelog_data_store()</a>, and <a class="el" href="mdd__dir_8c_source.html#l00817">mdd_changelog_ns_store()</a>.</p>

</div>
</div>
<a class="anchor" id="a0dff1ab10e7207dd72a2074c91b2d93b"></a><!-- doxytag: member="mdd_internal.h::mdd_changelog_store" ref="a0dff1ab10e7207dd72a2074c91b2d93b" args="(const struct lu_env *env, struct mdd_device *mdd, struct llog_changelog_rec *rec, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_changelog_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__changelog__rec.html">llog_changelog_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a changelog entry <em>rec</em> to the changelog llog. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mdd</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rec</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>- currently ignored since llogs start their own transaction; this will hopefully be fixed in llog rewrite </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>ok </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00736">736</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l03098">CHANGELOG_REC</a>, <a class="el" href="lustre__user_8h_source.html#l00906">changelog_rec_varsize()</a>, <a class="el" href="mdd__internal_8h_source.html#l00077">cl_time()</a>, <a class="el" href="lustre__idl_8h_source.html#l03209">llog_changelog_rec::cr</a>, <a class="el" href="lustre__idl_8h_source.html#l03208">llog_changelog_rec::cr_hdr</a>, <a class="el" href="lustre__user_8h_source.html#l00866">changelog_rec::cr_index</a>, <a class="el" href="lustre__user_8h_source.html#l00868">changelog_rec::cr_time</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="llog_8c_source.html#l00918">llog_add()</a>, <a class="el" href="lustre__idl_8h_source.html#l03052">LLOG_CHANGELOG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00355">llog_data_len()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__log_8h_source.html#l00316">llog_ctxt::loc_handle</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="mdd__internal_8h_source.html#l00071">mdd_changelog::mc_index</a>, <a class="el" href="mdd__internal_8h_source.html#l00068">mdd_changelog::mc_lock</a>, <a class="el" href="mdd__internal_8h_source.html#l00415">mdd2obd_dev()</a>, <a class="el" href="mdd__internal_8h_source.html#l00108">mdd_device::mdd_cl</a>, and <a class="el" href="lustre__update_8h_source.html#l00454">thandle_get_sub()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00643">mdd_changelog_data_store()</a>, and <a class="el" href="mdd__dir_8c_source.html#l00817">mdd_changelog_ns_store()</a>.</p>

</div>
</div>
<a class="anchor" id="a563697b858e0c9da10f48a71167c6454"></a><!-- doxytag: member="mdd_internal.h::mdd_child_ops" ref="a563697b858e0c9da10f48a71167c6454" args="(struct mdd_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__device__operations.html">dt_device_operations</a>* mdd_child_ops </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00399">399</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01724">dt_device::dd_ops</a>, and <a class="el" href="mdd__internal_8h_source.html#l00101">mdd_device::mdd_child</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l01102">mdd_statfs()</a>, <a class="el" href="mdd__trans_8c_source.html#l00051">mdd_trans_create()</a>, <a class="el" href="mdd__trans_8c_source.html#l00057">mdd_trans_start()</a>, and <a class="el" href="mdd__trans_8c_source.html#l00063">mdd_trans_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a76a46e04f2b05679c2078cb5ec585f"></a><!-- doxytag: member="mdd_internal.h::mdd_compat_fixes" ref="a2a76a46e04f2b05679c2078cb5ec585f" args="(const struct lu_env *env, struct mdd_device *mdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_compat_fixes </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ada3f2dc65449211ae5ceb2e5cf6b2dbb"></a><!-- doxytag: member="mdd_internal.h::mdd_declare_changelog_store" ref="ada3f2dc65449211ae5ceb2e5cf6b2dbb" args="(const struct lu_env *env, struct mdd_device *mdd, const struct lu_name *tname, const struct lu_name *sname, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_declare_changelog_store </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>tname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>sname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00686">686</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="lustre__idl_8h_source.html#l03098">CHANGELOG_REC</a>, <a class="el" href="mdd__internal_8h_source.html#l00056">CLM_ON</a>, <a class="el" href="lustre__idl_8h_source.html#l03208">llog_changelog_rec::cr_hdr</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lustre__log_8h_source.html#l00268">llog_handle::lgh_obj</a>, <a class="el" href="lustre__idl_8h_source.html#l03052">LLOG_CHANGELOG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="llog_8c_source.html#l00939">llog_declare_add()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__log_8h_source.html#l00316">llog_ctxt::loc_handle</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="lu__object_8c_source.html#l02369">lu_buf_check_and_alloc()</a>, <a class="el" href="mdd__internal_8h_source.html#l00069">mdd_changelog::mc_flags</a>, <a class="el" href="mdd__internal_8h_source.html#l00415">mdd2obd_dev()</a>, <a class="el" href="mdd__internal_8h_source.html#l00108">mdd_device::mdd_cl</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__dir_8c_source.html#l00666">mdd_llog_record_calc_size()</a>, and <a class="el" href="lustre__update_8h_source.html#l00454">thandle_get_sub()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00697">mdd_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__object_8c_source.html#l00764">mdd_declare_attr_set()</a>, <a class="el" href="mdd__dir_8c_source.html#l02090">mdd_declare_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01248">mdd_declare_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01516">mdd_declare_unlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01109">mdd_declare_xattr_del()</a>, and <a class="el" href="mdd__object_8c_source.html#l00921">mdd_declare_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="add3d00540f6948ab7bf4ecb8e55efc49"></a><!-- doxytag: member="mdd_internal.h::mdd_declare_links_add" ref="add3d00540f6948ab7bf4ecb8e55efc49" args="(const struct lu_env *env, struct mdd_object *mdd_obj, struct thandle *handle, struct linkea_data *ldata, enum mdd_links_add_overflow overflow)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_declare_links_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlinkea__data.html">linkea_data</a> *&nbsp;</td>
          <td class="paramname"> <em>ldata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="mdd__internal_8h.html#a079a4c9fef28b4d67c362cd3e348216f">mdd_links_add_overflow</a>&nbsp;</td>
          <td class="paramname"> <em>overflow</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l01188">1188</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="lustre__linkea_8h_source.html#l00030">DEFAULT_LINKEA_SIZE</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00040">linkea_data::ld_leh</a>, <a class="el" href="lustre__idl_8h_source.html#l03469">LE_SKIP_NLINK_DECLARE</a>, <a class="el" href="lustre__idl_8h_source.html#l03675">link_ea_header::leh_len</a>, <a class="el" href="lfsck__lib_8c_source.html#l03296">lfsck_in_notify()</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00087">lfsck_pack_rfa()</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00171">LFSCK_TYPE_NAMESPACE</a>, <a class="el" href="mdd__internal_8h_source.html#l00102">mdd_device::mdd_bottom</a>, <a class="el" href="mdd__object_8c_source.html#l00110">mdd_buf_get_const()</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00445">mdd_object_remote()</a>, <a class="el" href="mdd__internal_8h_source.html#l00425">mdo2fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00388">mdo2mdd()</a>, <a class="el" href="mdd__internal_8h_source.html#l00520">mdo_declare_xattr_set()</a>, <a class="el" href="mdd__internal_8h_source.html#l00167">MLAO_CHECK</a>, <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>, <a class="el" href="mdd__internal_8h_source.html#l00161">mdd_thread_info::mti_lr</a>, <a class="el" href="update__trans_8c_source.html#l01164">thandle_get_sub_by_dt()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02090">mdd_declare_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01248">mdd_declare_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l01234">mdd_declare_links_del()</a>, <a class="el" href="mdd__dir_8c_source.html#l03402">mdd_declare_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, and <a class="el" href="mdd__dir_8c_source.html#l03063">mdd_linkea_update_child_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a0072a4af08f0c556565af143269c2c8c"></a><!-- doxytag: member="mdd_internal.h::mdd_declare_object_create_internal" ref="a0072a4af08f0c556565af143269c2c8c" args="(const struct lu_env *env, struct mdd_object *p, struct mdd_object *c, struct lu_attr *attr, struct thandle *handle, const struct md_op_spec *spec, struct dt_allocation_hint *hint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_declare_object_create_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmd__op__spec.html">md_op_spec</a> *&nbsp;</td>
          <td class="paramname"> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00342">342</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l00386">DFT_INDEX</a>, <a class="el" href="dt__object_8h_source.html#l00381">DFT_REGULAR</a>, <a class="el" href="structdt__object__format.html#a2570277a076882708ae6b6d1419bfa13">dt_object_format::dof_idx</a>, <a class="el" href="structdt__object__format.html#a1360e65937447b79d2cf8985faf12984">dt_object_format::dof_reg</a>, <a class="el" href="dt__object_8h_source.html#l00396">dt_object_format::dof_type</a>, <a class="el" href="dt__object_8c_source.html#l00575">dt_directory_features</a>, <a class="el" href="dt__object_8c_source.html#l00192">dt_mode_to_dft()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lustre__mds_8h_source.html#l00070">md_should_create()</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00652">mdo_declare_create_obj()</a>, <a class="el" href="lustre__idl_8h_source.html#l02338">MDS_OPEN_HAS_EA</a>, <a class="el" href="mdd__internal_8h_source.html#l00157">mdd_thread_info::mti_dof</a>, <a class="el" href="md__object_8h_source.html#l00146">md_op_spec::no_create</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="md__object_8h_source.html#l00143">md_op_spec::sp_cr_flags</a>, <a class="el" href="md__object_8h_source.html#l00155">md_op_spec::sp_feat</a>, and <a class="el" href="structdt__object__format.html#ab53de8222a0a448faf6fe773746a36ed">dt_object_format::u</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03402">mdd_declare_migrate_create()</a>, and <a class="el" href="mdd__dir_8c_source.html#l02020">mdd_declare_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ac5da33f07c9822ba14afa775db5bb925"></a><!-- doxytag: member="mdd_internal.h::mdd_env_info" ref="ac5da33f07c9822ba14afa775db5bb925" args="(const struct lu_env *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmdd__thread__info.html">mdd_thread_info</a>* mdd_env_info </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00090">90</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>, <a class="el" href="lu__object_8c_source.html#l01889">lu_env_refill()</a>, and <a class="el" href="mdd__internal_8h.html#aeea77dd6bf8e62e1a1b512ad2d9d9495">mdd_thread_key</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00603">__mdd_index_insert_only()</a>, <a class="el" href="mdd__dir_8c_source.html#l00894">__mdd_links_add()</a>, <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l00100">mdd_buf_get()</a>, <a class="el" href="mdd__object_8c_source.html#l00110">mdd_buf_get_const()</a>, <a class="el" href="mdd__object_8c_source.html#l00643">mdd_changelog_data_store()</a>, <a class="el" href="mdd__dir_8c_source.html#l00817">mdd_changelog_ns_store()</a>, <a class="el" href="mdd__device_8c_source.html#l00510">mdd_changelog_write_header()</a>, <a class="el" href="mdd__permission_8c_source.html#l00204">mdd_check_acl()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l01940">mdd_create_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l00686">mdd_declare_changelog_store()</a>, <a class="el" href="mdd__dir_8c_source.html#l02090">mdd_declare_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01188">mdd_declare_links_add()</a>, <a class="el" href="mdd__object_8c_source.html#l00342">mdd_declare_object_create_internal()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01516">mdd_declare_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l04091">mdd_fld_lookup()</a>, <a class="el" href="mdd__object_8c_source.html#l01193">mdd_get_lov_ea()</a>, <a class="el" href="mdd__object_8c_source.html#l00963">mdd_hsm_update_locked()</a>, <a class="el" href="mdd__dir_8c_source.html#l00199">mdd_is_parent()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03063">mdd_linkea_update_child_internal()</a>, <a class="el" href="mdd__dir_8c_source.html#l01096">mdd_links_read()</a>, <a class="el" href="mdd__dir_8c_source.html#l01008">mdd_links_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01149">mdd_links_write()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l04117">mdd_migrate_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l03299">mdd_migrate_xattrs()</a>, <a class="el" href="mdd__object_8c_source.html#l00377">mdd_object_create_internal()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00109">mdd_orphan_insert_obj()</a>, <a class="el" href="mdd__dir_8c_source.html#l00141">mdd_parent_fid()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__internal_8h_source.html#l00575">mdo_declare_index_insert()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00152">orph_declare_index_insert()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00196">orph_index_insert()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00427">orph_index_iterate()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00064">orph_key_fill()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00080">orph_key_fill_18()</a>.</p>

</div>
</div>
<a class="anchor" id="a889982c31cd18ff95bab878f1248ab65"></a><!-- doxytag: member="mdd_internal.h::mdd_finish_unlink" ref="a889982c31cd18ff95bab878f1248ab65" args="(const struct lu_env *env, struct mdd_object *obj, struct md_attr *ma, const struct mdd_object *pobj, const struct lu_name *lname, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_finish_unlink </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__attr.html">md_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>ma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>pobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>lname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l01453">1453</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="mdd__orphans_8c_source.html#l00628">__mdd_orphan_add()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="mdd__internal_8h_source.html#l00120">DEAD_OBJ</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="lu__object_8h_source.html#l00427">lu_attr::la_nlink</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="md__object_8h_source.html#l00119">md_attr::ma_attr</a>, <a class="el" href="mdd__dir_8c_source.html#l01080">mdd_links_del()</a>, <a class="el" href="mdd__dir_8c_source.html#l01407">mdd_mark_orphan_object()</a>, <a class="el" href="mdd__internal_8h_source.html#l00450">mdd_object_fid()</a>, <a class="el" href="mdd__lock_8c_source.html#l00079">mdd_write_locked()</a>, <a class="el" href="mdd__internal_8h_source.html#l00425">mdo2fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00682">mdo_destroy()</a>, <a class="el" href="mdd__internal_8h_source.html#l00127">mdd_object::mod_count</a>, <a class="el" href="mdd__internal_8h_source.html#l00130">mdd_object::mod_flags</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, and <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>.</p>

</div>
</div>
<a class="anchor" id="a67cb6200d3d12ce309b01b134453133f"></a><!-- doxytag: member="mdd_internal.h::mdd_generic_thread_start" ref="a67cb6200d3d12ce309b01b134453133f" args="(struct mdd_generic_thread *thread, int(*func)(void *), void *data, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_generic_thread_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__generic__thread.html">mdd_generic_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(void *)&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__device_8c_source.html#l01571">1571</a> of file <a class="el" href="mdd__device_8c_source.html">mdd_device.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdd__internal_8h_source.html#l00094">mdd_generic_thread::mgt_abort</a>, <a class="el" href="mdd__internal_8h_source.html#l00093">mdd_generic_thread::mgt_data</a>, <a class="el" href="mdd__internal_8h_source.html#l00092">mdd_generic_thread::mgt_finished</a>, <a class="el" href="mdd__internal_8h_source.html#l00095">mdd_generic_thread::mgt_init</a>, and <a class="el" href="mdd__internal_8h_source.html#l00091">mdd_generic_thread::mgt_started</a>.</p>

<p>Referenced by <a class="el" href="mdd__orphans_8c_source.html#l00595">mdd_orphan_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="abd02939859a1968cb2c7a39a95e5934b"></a><!-- doxytag: member="mdd_internal.h::mdd_generic_thread_stop" ref="abd02939859a1968cb2c7a39a95e5934b" args="(struct mdd_generic_thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdd_generic_thread_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__generic__thread.html">mdd_generic_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__device_8c_source.html#l01592">1592</a> of file <a class="el" href="mdd__device_8c_source.html">mdd_device.c</a>.</p>

<p>References <a class="el" href="mdd__internal_8h_source.html#l00094">mdd_generic_thread::mgt_abort</a>, <a class="el" href="mdd__internal_8h_source.html#l00092">mdd_generic_thread::mgt_finished</a>, and <a class="el" href="mdd__internal_8h_source.html#l00095">mdd_generic_thread::mgt_init</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00875">mdd_device_shutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="a36ce2eb0da1b52df6ea427efb33a3549"></a><!-- doxytag: member="mdd_internal.h::mdd_get_lov_ea" ref="a36ce2eb0da1b52df6ea427efb33a3549" args="(const struct lu_env *env, struct mdd_object *obj, struct lu_buf *lmm_buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_get_lov_ea </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>lmm_buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l01193">1193</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="multiop_8c_source.html#l00065">bufsize</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8c_source.html#l02351">lu_buf_alloc()</a>, <a class="el" href="lu__object_8c_source.html#l02369">lu_buf_check_and_alloc()</a>, <a class="el" href="lu__object_8c_source.html#l02339">lu_buf_free()</a>, <a class="el" href="lu__object_8c_source.html#l02333">LU_BUF_NULL</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00513">mdo_xattr_get()</a>, <a class="el" href="mdd__internal_8h_source.html#l00152">mdd_thread_info::mti_big_buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, and <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>.</p>

</div>
</div>
<a class="anchor" id="a6487e7dbb512efbdf78abb35dcc189dc"></a><!-- doxytag: member="mdd_internal.h::mdd_is_dead_obj" ref="a6487e7dbb512efbdf78abb35dcc189dc" args="(struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdd_is_dead_obj </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00435">435</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="mdd__internal_8h_source.html#l00120">DEAD_OBJ</a>, and <a class="el" href="mdd__internal_8h_source.html#l00130">mdd_object::mod_flags</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__object_8c_source.html#l00212">mdd_attr_get()</a>, <a class="el" href="mdd__dir_8c_source.html#l01770">mdd_cd_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l01940">mdd_create_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l00550">mdd_link_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l00379">mdd_may_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l00485">mdd_may_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l00452">mdd_may_delete_entry()</a>, <a class="el" href="mdd__dir_8c_source.html#l00402">mdd_may_unlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01626">mdd_open_sanity_check()</a>, <a class="el" href="mdd__object_8c_source.html#l01958">mdd_readpage()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, and <a class="el" href="mdd__object_8c_source.html#l01244">mdd_xattr_hsm_replace()</a>.</p>

</div>
</div>
<a class="anchor" id="ad60e6ab0fa70382bd23ef46593faef36"></a><!-- doxytag: member="mdd_internal.h::mdd_is_root" ref="ad60e6ab0fa70382bd23ef46593faef36" args="(struct mdd_device *mdd, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_is_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00184">184</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l00249">fid_oid()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00103">mdd_device::mdd_root_fid</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00199">mdd_is_parent()</a>.</p>

</div>
</div>
<a class="anchor" id="a118dbc57216c3060c13f6d23c295d9af"></a><!-- doxytag: member="mdd_internal.h::mdd_is_subdir" ref="a118dbc57216c3060c13f6d23c295d9af" args="(const struct lu_env *env, struct md_object *mo, const struct lu_fid *fid, struct lu_fid *sfid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_is_subdir </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>sfid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00259">259</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="mdd__internal_8h_source.html#l00393">md2mdd_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00246">MDD_ENV_VAR</a>, <a class="el" href="mdd__dir_8c_source.html#l00199">mdd_is_parent()</a>, <a class="el" href="mdd__object_8c_source.html#l00065">mdd_la_get()</a>, <a class="el" href="mdd__internal_8h_source.html#l00430">mdd_object_type()</a>, <a class="el" href="mdd__internal_8h_source.html#l00388">mdo2mdd()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="adad8d3d31f21edba6cd15bbe24b24066"></a><!-- doxytag: member="mdd_internal.h::mdd_la_get" ref="adad8d3d31f21edba6cd15bbe24b24066" args="(const struct lu_env *env, struct mdd_object *obj, struct lu_attr *la)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_la_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00065">65</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mdd__internal_8h_source.html#l00120">DEAD_OBJ</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="lu__object_8h_source.html#l00453">LA_FLAGS</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02135">LUSTRE_ORPHAN_FL</a>, <a class="el" href="mdd__internal_8h_source.html#l00460">mdd_obj_dev_name()</a>, <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>, <a class="el" href="mdd__internal_8h_source.html#l00450">mdd_object_fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00484">mdo_attr_get()</a>, <a class="el" href="mdd__internal_8h_source.html#l00130">mdd_object::mod_flags</a>, <a class="el" href="mdd__internal_8h_source.html#l00121">ORPHAN_OBJ</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00212">mdd_attr_get()</a>, <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l00259">mdd_is_subdir()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l00110">mdd_lookup()</a>, <a class="el" href="mdd__dir_8c_source.html#l04213">mdd_migrate()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__object_8c_source.html#l00163">mdd_object_start()</a>, <a class="el" href="mdd__object_8c_source.html#l01681">mdd_open()</a>, <a class="el" href="mdd__permission_8c_source.html#l00307">mdd_permission()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, and <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a4af8acc8dae648f783c92620b7def024"></a><!-- doxytag: member="mdd_internal.h::mdd_links_get" ref="a4af8acc8dae648f783c92620b7def024" args="(const struct lu_env *env, struct mdd_object *mdd_obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__buf.html">lu_buf</a>* mdd_links_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd_obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the link EA into a temp buffer. </p>
<p>Uses the name_buf since it is generally large. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IS_ERR</em>&nbsp;</td><td>err </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>to <em><a class="el" href="structlu__buf.html" title="Common buffer structure to be passed around for various xattr_{s,g}et() methods.">lu_buf</a></em> (always <em>mti_big_buf</em>) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l01139">1139</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, and <a class="el" href="mdd__dir_8c_source.html#l01096">mdd_links_read()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l01278">mdd_layout_swap_allowed()</a>.</p>

</div>
</div>
<a class="anchor" id="a0edb43e6fbdf25488d0d8deaf13571fa"></a><!-- doxytag: member="mdd_internal.h::mdd_links_read" ref="a0edb43e6fbdf25488d0d8deaf13571fa" args="(const struct lu_env *env, struct mdd_object *mdd_obj, struct linkea_data *ldata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_links_read </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlinkea__data.html">linkea_data</a> *&nbsp;</td>
          <td class="paramname"> <em>ldata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the link EA into a temp buffer. </p>
<p>Uses the <a class="el" href="structmdd__thread__info.html#a591cdb4fdbe219c6b664ba89b71c0ca8">mdd_thread_info::mti_big_buf</a> since it is generally large. A pointer to the buffer is stored in <em>ldata::ld_buf</em>.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>or error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l01096">1096</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="linkea_8c_source.html#l00047">linkea_init()</a>, <a class="el" href="lu__object_8c_source.html#l02369">lu_buf_check_and_alloc()</a>, <a class="el" href="lu__object_8c_source.html#l02339">lu_buf_free()</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>, <a class="el" href="mdd__internal_8h_source.html#l00513">mdo_xattr_get()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00894">__mdd_links_add()</a>, <a class="el" href="mdd__dir_8c_source.html#l00937">__mdd_links_del()</a>, <a class="el" href="mdd__dir_8c_source.html#l03063">mdd_linkea_update_child_internal()</a>, <a class="el" href="mdd__dir_8c_source.html#l01139">mdd_links_get()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l04117">mdd_migrate_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, and <a class="el" href="mdd__dir_8c_source.html#l00141">mdd_parent_fid()</a>.</p>

</div>
</div>
<a class="anchor" id="a3177090dcc7095d1afe6881fc26d8ea7"></a><!-- doxytag: member="mdd_internal.h::mdd_links_rename" ref="a3177090dcc7095d1afe6881fc26d8ea7" args="(const struct lu_env *env, struct mdd_object *mdd_obj, const struct lu_fid *oldpfid, const struct lu_name *oldlname, const struct lu_fid *newpfid, const struct lu_name *newlname, struct thandle *handle, struct linkea_data *ldata, int first, int check)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_links_rename </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>oldpfid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>oldlname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>newpfid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>newlname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlinkea__data.html">linkea_data</a> *&nbsp;</td>
          <td class="paramname"> <em>ldata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>check</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l01008">1008</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00141">D_OTHER</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="it__test_8c_source.html#l00055">error</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00042">linkea_data::ld_reclen</a>, <a class="el" href="lu__object_8h_source.html#l01297">lu_name::ln_name</a>, <a class="el" href="lu__object_8h_source.html#l01298">lu_name::ln_namelen</a>, <a class="el" href="lu__object_8c_source.html#l02339">lu_buf_free()</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__dir_8c_source.html#l00959">mdd_linkea_prepare()</a>, <a class="el" href="mdd__dir_8c_source.html#l01149">mdd_links_write()</a>, <a class="el" href="mdd__internal_8h_source.html#l00450">mdd_object_fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00158">mdd_thread_info::mti_link_data</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l01069">mdd_links_add()</a>, <a class="el" href="mdd__dir_8c_source.html#l01080">mdd_links_del()</a>, and <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c0b1a550b6f60ac9313f6c4bef8650d"></a><!-- doxytag: member="mdd_internal.h::mdd_links_write" ref="a7c0b1a550b6f60ac9313f6c4bef8650d" args="(const struct lu_env *env, struct mdd_object *mdd_obj, struct linkea_data *ldata, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_links_write </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlinkea__data.html">linkea_data</a> *&nbsp;</td>
          <td class="paramname"> <em>ldata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l01149">1149</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00036">linkea_data::ld_buf</a>, <a class="el" href="lustre__linkea_8h_source.html#l00040">linkea_data::ld_leh</a>, <a class="el" href="lustre__idl_8h_source.html#l03470">LE_SKIP_NLINK</a>, <a class="el" href="lustre__idl_8h_source.html#l03675">link_ea_header::leh_len</a>, <a class="el" href="lfsck__lib_8c_source.html#l03296">lfsck_in_notify()</a>, <a class="el" href="lustre__lfsck_8h_source.html#l00087">lfsck_pack_rfa()</a>, <a class="el" href="lustre__lfsck__user_8h_source.html#l00171">LFSCK_TYPE_NAMESPACE</a>, <a class="el" href="mdd__internal_8h_source.html#l00102">mdd_device::mdd_bottom</a>, <a class="el" href="mdd__object_8c_source.html#l00110">mdd_buf_get_const()</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00445">mdd_object_remote()</a>, <a class="el" href="mdd__internal_8h_source.html#l00430">mdd_object_type()</a>, <a class="el" href="mdd__internal_8h_source.html#l00425">mdo2fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00388">mdo2mdd()</a>, <a class="el" href="mdd__internal_8h_source.html#l00530">mdo_xattr_set()</a>, <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>, <a class="el" href="mdd__internal_8h_source.html#l00161">mdd_thread_info::mti_lr</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00550">OBD_FAIL_LFSCK_NO_LINKEA</a>, <a class="el" href="update__trans_8c_source.html#l01164">thandle_get_sub_by_dt()</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03063">mdd_linkea_update_child_internal()</a>, <a class="el" href="mdd__dir_8c_source.html#l01008">mdd_links_rename()</a>, and <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b4b3275c585e19e8e3e23bcc589807e"></a><!-- doxytag: member="mdd_internal.h::mdd_local_file_create" ref="a8b4b3275c585e19e8e3e23bcc589807e" args="(const struct lu_env *env, struct mdd_device *mdd, const struct lu_fid *pfid, const char *name, __u32 mode, struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_local_file_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>pfid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__device_8c_source.html#l00950">950</a> of file <a class="el" href="mdd__device_8c_source.html">mdd_device.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01926">dt_locate()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__user_8h_source.html#l00156">fid_is_zero()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="local__storage_8c_source.html#l00432">local_file_find_or_create()</a>, <a class="el" href="local__storage_8c_source.html#l00469">local_file_find_or_create_with_fid()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__object_8c_source.html#l00193">lu_object_put_nocache()</a>, <a class="el" href="mdd__internal_8h_source.html#l00102">mdd_device::mdd_bottom</a>, <a class="el" href="mdd__internal_8h_source.html#l00114">mdd_device::mdd_los</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00758">mdd_dot_lustre_setup()</a>, <a class="el" href="mdd__device_8c_source.html#l00685">mdd_lpf_setup()</a>, <a class="el" href="mdd__device_8c_source.html#l00715">mdd_obf_setup()</a>, <a class="el" href="mdd__device_8c_source.html#l00990">mdd_prepare()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00523">orph_index_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c4a040bf5959fbd2c83dadb7afc24ef"></a><!-- doxytag: member="mdd_internal.h::mdd_lookup" ref="a4c4a040bf5959fbd2c83dadb7afc24ef" args="(const struct lu_env *env, struct md_object *pobj, const struct lu_name *lname, struct lu_fid *fid, struct md_op_spec *spec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>pobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__name.html">lu_name</a> *&nbsp;</td>
          <td class="paramname"> <em>lname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__spec.html">md_op_spec</a> *&nbsp;</td>
          <td class="paramname"> <em>spec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00110">110</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdd__internal_8h_source.html#l00393">md2mdd_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00246">MDD_ENV_VAR</a>, <a class="el" href="mdd__object_8c_source.html#l00065">mdd_la_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="md__object_8h_source.html#l00146">md_op_spec::sp_permitted</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="ad53e9284ea8d10d83db5f5223a06c7eb"></a><!-- doxytag: member="mdd_internal.h::mdd_may_create" ref="ad53e9284ea8d10d83db5f5223a06c7eb" args="(const struct lu_env *env, struct mdd_object *pobj, const struct lu_attr *pattr, struct mdd_object *cobj, bool check_perm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_may_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>pobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>pattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>cobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>check_perm</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check whether it may create the cobj under the pobj. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>execution environment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pobj</em>&nbsp;</td><td>the parent directory </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pattr</em>&nbsp;</td><td>the attribute of the parent directory </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cobj</em>&nbsp;</td><td>the child to be created </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>check_perm</em>&nbsp;</td><td>if check WRITE|EXEC permission for parent</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>=</em>&nbsp;</td><td>0 create the child under this dir is allowed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>errno create the child under this dir is not allowed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00379">379</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdd__internal_8h_source.html#l00435">mdd_is_dead_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>, <a class="el" href="mdd__internal_8h_source.html#l00474">mdd_permission_internal_locked()</a>, <a class="el" href="md__object_8h_source.html#l00566">MOR_TGT_PARENT</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l01940">mdd_create_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l00550">mdd_link_sanity_check()</a>, and <a class="el" href="mdd__dir_8c_source.html#l02597">mdd_rename_sanity_check()</a>.</p>

</div>
</div>
<a class="anchor" id="af834b8acf5e955ef4f681fc99054db23"></a><!-- doxytag: member="mdd_internal.h::mdd_may_delete" ref="af834b8acf5e955ef4f681fc99054db23" args="(const struct lu_env *env, struct mdd_object *tpobj, const struct lu_attr *tpattr, struct mdd_object *tobj, const struct lu_attr *tattr, const struct lu_attr *cattr, int check_perm, int check_empty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_may_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>tpobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>tpattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>tobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>tattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>cattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>check_perm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>check_empty</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00485">485</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="lustre__idl_8h_source.html#l02119">LUSTRE_APPEND_FL</a>, <a class="el" href="lustre__idl_8h_source.html#l02118">LUSTRE_IMMUTABLE_FL</a>, <a class="el" href="mdd__dir_8c_source.html#l00297">mdd_dir_is_empty()</a>, <a class="el" href="mdd__internal_8h_source.html#l00435">mdd_is_dead_obj()</a>, <a class="el" href="mdd__dir_8c_source.html#l00430">mdd_is_sticky()</a>, <a class="el" href="mdd__dir_8c_source.html#l00452">mdd_may_delete_entry()</a>, <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>, <a class="el" href="mdd__internal_8h_source.html#l00103">mdd_device::mdd_root_fid</a>, <a class="el" href="mdd__internal_8h_source.html#l00425">mdo2fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00388">mdo2mdd()</a>, <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00441">mdd_fix_attr()</a>, <a class="el" href="mdd__dir_8c_source.html#l02597">mdd_rename_sanity_check()</a>, and <a class="el" href="mdd__dir_8c_source.html#l01503">mdd_unlink_sanity_check()</a>.</p>

</div>
</div>
<a class="anchor" id="ab910ad3e9fa9e2f33462c2e1bf598a2a"></a><!-- doxytag: member="mdd_internal.h::mdd_may_unlink" ref="ab910ad3e9fa9e2f33462c2e1bf598a2a" args="(const struct lu_env *env, struct mdd_object *pobj, const struct lu_attr *pattr, const struct lu_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_may_unlink </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>pobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>pattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l00402">402</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02119">LUSTRE_APPEND_FL</a>, <a class="el" href="lustre__idl_8h_source.html#l02118">LUSTRE_IMMUTABLE_FL</a>, <a class="el" href="mdd__internal_8h_source.html#l00435">mdd_is_dead_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00474">mdd_permission_internal_locked()</a>, <a class="el" href="md__object_8h_source.html#l00566">MOR_TGT_PARENT</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a69c150bd99bd692d7514dcfd71548401"></a><!-- doxytag: member="mdd_internal.h::mdd_obj2mdd_dev" ref="a69c150bd99bd692d7514dcfd71548401" args="(struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmdd__device.html">mdd_device</a>* mdd_obj2mdd_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00420">420</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="mdd__internal_8h_source.html#l00388">mdo2mdd()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00349">__mdd_may_link()</a>, <a class="el" href="mdd__object_8c_source.html#l00441">mdd_fix_attr()</a>, and <a class="el" href="mdd__dir_8c_source.html#l00550">mdd_link_sanity_check()</a>.</p>

</div>
</div>
<a class="anchor" id="a842114ec75bea12928252b90b6a55ff6"></a><!-- doxytag: member="mdd_internal.h::mdd_obj_dev_name" ref="a842114ec75bea12928252b90b6a55ff6" args="(const struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* mdd_obj_dev_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00460">460</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="obd_8h_source.html#l01156">lu_dev_name()</a>, <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>, and <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00065">mdd_la_get()</a>, <a class="el" href="mdd__object_8c_source.html#l02026">mdd_object_sync()</a>, <a class="el" href="mdd__object_8c_source.html#l00271">mdd_readlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01958">mdd_readpage()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, and <a class="el" href="mdd__object_8c_source.html#l00230">mdd_xattr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0317e09669dea1da68de644ea6ec30e"></a><!-- doxytag: member="mdd_internal.h::mdd_object_alloc" ref="ae0317e09669dea1da68de644ea6ec30e" args="(const struct lu_env *env, const struct lu_object_header *hdr, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__object.html">lu_object</a>* mdd_object_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *&nbsp;</td>
          <td class="paramname"> <em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00121">121</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00476">lu_object::lo_ops</a>, <a class="el" href="lu__object_8c_source.html#l01242">lu_object_init()</a>, <a class="el" href="mdd__internal_8h_source.html#l00404">mdd2lu_obj()</a>, <a class="el" href="mdd__dir_8c_source.html#l04311">mdd_dir_ops</a>, <a class="el" href="mdd__object_8c_source.html#l00059">mdd_lu_obj_ops</a>, <a class="el" href="mdd__object_8c_source.html#l02062">mdd_obj_ops</a>, <a class="el" href="mdd__device_8c_source.html#l00065">mdd_object_kmem</a>, <a class="el" href="md__object_8h_source.html#l00289">md_object::mo_dir_ops</a>, <a class="el" href="md__object_8h_source.html#l00288">md_object::mo_ops</a>, <a class="el" href="mdd__internal_8h_source.html#l00127">mdd_object::mod_count</a>, <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>, and <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>.</p>

</div>
</div>
<a class="anchor" id="a28d8924c770ebd180580a6bd841440de"></a><!-- doxytag: member="mdd_internal.h::mdd_object_child" ref="a28d8924c770ebd180580a6bd841440de" args="(struct mdd_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structdt__object.html">dt_object</a>* mdd_object_child </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00409">409</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lu__object_8h_source.html#l00762">lu_object_next()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00404">mdd2lu_obj()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00588">__mdd_index_delete_only()</a>, <a class="el" href="mdd__dir_8c_source.html#l00603">__mdd_index_insert_only()</a>, <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l03402">mdd_declare_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l02020">mdd_declare_object_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l00297">mdd_dir_is_empty()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>, <a class="el" href="mdd__object_8c_source.html#l02042">mdd_object_lock()</a>, <a class="el" href="mdd__object_8c_source.html#l01571">mdd_object_make_hint()</a>, <a class="el" href="mdd__object_8c_source.html#l02026">mdd_object_sync()</a>, <a class="el" href="mdd__object_8c_source.html#l02053">mdd_object_unlock()</a>, <a class="el" href="mdd__lock_8c_source.html#l00057">mdd_read_lock()</a>, <a class="el" href="mdd__lock_8c_source.html#l00072">mdd_read_unlock()</a>, <a class="el" href="mdd__object_8c_source.html#l00271">mdd_readlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01958">mdd_readpage()</a>, <a class="el" href="mdd__object_8c_source.html#l01858">mdd_readpage_sanity_check()</a>, <a class="el" href="mdd__lock_8c_source.html#l00049">mdd_write_lock()</a>, <a class="el" href="mdd__lock_8c_source.html#l00079">mdd_write_locked()</a>, <a class="el" href="mdd__lock_8c_source.html#l00065">mdd_write_unlock()</a>, <a class="el" href="mdd__internal_8h_source.html#l00484">mdo_attr_get()</a>, <a class="el" href="mdd__internal_8h_source.html#l00500">mdo_attr_set()</a>, <a class="el" href="mdd__internal_8h_source.html#l00663">mdo_create_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00491">mdo_declare_attr_set()</a>, <a class="el" href="mdd__internal_8h_source.html#l00652">mdo_declare_create_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00674">mdo_declare_destroy()</a>, <a class="el" href="mdd__internal_8h_source.html#l00601">mdo_declare_index_delete()</a>, <a class="el" href="mdd__internal_8h_source.html#l00575">mdo_declare_index_insert()</a>, <a class="el" href="mdd__internal_8h_source.html#l00613">mdo_declare_ref_add()</a>, <a class="el" href="mdd__internal_8h_source.html#l00632">mdo_declare_ref_del()</a>, <a class="el" href="mdd__internal_8h_source.html#l00542">mdo_declare_xattr_del()</a>, <a class="el" href="mdd__internal_8h_source.html#l00520">mdo_declare_xattr_set()</a>, <a class="el" href="mdd__internal_8h_source.html#l00682">mdo_destroy()</a>, <a class="el" href="mdd__internal_8h_source.html#l00621">mdo_ref_add()</a>, <a class="el" href="mdd__internal_8h_source.html#l00640">mdo_ref_del()</a>, <a class="el" href="mdd__internal_8h_source.html#l00551">mdo_xattr_del()</a>, <a class="el" href="mdd__internal_8h_source.html#l00513">mdo_xattr_get()</a>, <a class="el" href="mdd__internal_8h_source.html#l00563">mdo_xattr_list()</a>, <a class="el" href="mdd__internal_8h_source.html#l00530">mdo_xattr_set()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00196">orph_index_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="aac76bfe69c48e1c157789eb149a4e8dc"></a><!-- doxytag: member="mdd_internal.h::mdd_object_create_internal" ref="aac76bfe69c48e1c157789eb149a4e8dc" args="(const struct lu_env *env, struct mdd_object *p, struct mdd_object *c, struct lu_attr *attr, struct thandle *handle, const struct md_op_spec *spec, struct dt_allocation_hint *hint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_object_create_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmd__op__spec.html">md_op_spec</a> *&nbsp;</td>
          <td class="paramname"> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00377">377</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>, <a class="el" href="mdd__internal_8h_source.html#l00663">mdo_create_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00157">mdd_thread_info::mti_dof</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a3c200fae6d9b3acf686ff6ea9f8c81"></a><!-- doxytag: member="mdd_internal.h::mdd_object_exists" ref="a8a3c200fae6d9b3acf686ff6ea9f8c81" args="(struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdd_object_exists </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00440">440</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00840">lu_object_exists</a>, and <a class="el" href="mdd__internal_8h_source.html#l00404">mdd2lu_obj()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l00199">mdd_is_parent()</a>, <a class="el" href="mdd__object_8c_source.html#l00065">mdd_la_get()</a>, <a class="el" href="mdd__dir_8c_source.html#l00550">mdd_link_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l01096">mdd_links_read()</a>, <a class="el" href="mdd__dir_8c_source.html#l00379">mdd_may_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l00485">mdd_may_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l00452">mdd_may_delete_entry()</a>, <a class="el" href="mdd__dir_8c_source.html#l04213">mdd_migrate()</a>, <a class="el" href="mdd__object_8c_source.html#l00377">mdd_object_create_internal()</a>, <a class="el" href="mdd__object_8c_source.html#l02026">mdd_object_sync()</a>, <a class="el" href="mdd__object_8c_source.html#l00271">mdd_readlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01958">mdd_readpage()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__object_8c_source.html#l00230">mdd_xattr_get()</a>, <a class="el" href="mdd__internal_8h_source.html#l00500">mdo_attr_set()</a>, <a class="el" href="mdd__internal_8h_source.html#l00621">mdo_ref_add()</a>, <a class="el" href="mdd__internal_8h_source.html#l00640">mdo_ref_del()</a>, <a class="el" href="mdd__internal_8h_source.html#l00551">mdo_xattr_del()</a>, <a class="el" href="mdd__internal_8h_source.html#l00563">mdo_xattr_list()</a>, <a class="el" href="mdd__internal_8h_source.html#l00530">mdo_xattr_set()</a>, and <a class="el" href="mdd__device_8c_source.html#l00565">obf_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="a2596289db4d24a0bad50143918d58844"></a><!-- doxytag: member="mdd_internal.h::mdd_object_fid" ref="a2596289db4d24a0bad50143918d58844" args="(struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__fid.html">lu_fid</a>* mdd_object_fid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00450">450</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00404">mdd2lu_obj()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01453">mdd_finish_unlink()</a>, <a class="el" href="mdd__object_8c_source.html#l00065">mdd_la_get()</a>, <a class="el" href="mdd__dir_8c_source.html#l03063">mdd_linkea_update_child_internal()</a>, <a class="el" href="mdd__dir_8c_source.html#l01008">mdd_links_rename()</a>, <a class="el" href="mdd__device_8c_source.html#l00685">mdd_lpf_setup()</a>, <a class="el" href="mdd__dir_8c_source.html#l04213">mdd_migrate()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l04117">mdd_migrate_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__device_8c_source.html#l00715">mdd_obf_setup()</a>, <a class="el" href="mdd__object_8c_source.html#l01571">mdd_object_make_hint()</a>, <a class="el" href="mdd__object_8c_source.html#l02026">mdd_object_sync()</a>, <a class="el" href="mdd__object_8c_source.html#l00271">mdd_readlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01958">mdd_readpage()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__object_8c_source.html#l00230">mdd_xattr_get()</a>, and <a class="el" href="mdd__object_8c_source.html#l00299">mdd_xattr_list()</a>.</p>

</div>
</div>
<a class="anchor" id="a09a036893c009dad15a89d914c9139ad"></a><!-- doxytag: member="mdd_internal.h::mdd_object_find" ref="a09a036893c009dad15a89d914c9139ad" args="(const struct lu_env *env, struct mdd_device *d, const struct lu_fid *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmdd__object.html">mdd_object</a>* mdd_object_find </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00202">202</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="mdd__internal_8h_source.html#l00393">md2mdd_obj()</a>, <a class="el" href="md__object_8h_source.html#l00319">md_object_find_slice()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00099">mdd_device::mdd_md_dev</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00199">mdd_is_parent()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__device_8c_source.html#l00565">obf_lookup()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00380">orph_key_test_and_del()</a>.</p>

</div>
</div>
<a class="anchor" id="abfb48ea6bd62baab6ec8941f81c23355"></a><!-- doxytag: member="mdd_internal.h::mdd_object_get" ref="abfb48ea6bd62baab6ec8941f81c23355" args="(struct mdd_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdd_object_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00321">321</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00709">lu_object_get()</a>, <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>, and <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>.</p>

</div>
</div>
<a class="anchor" id="a40ad43f3efeb4da80115c43bfbf9cd4f"></a><!-- doxytag: member="mdd_internal.h::mdd_object_make_hint" ref="a40ad43f3efeb4da80115c43bfbf9cd4f" args="(const struct lu_env *env, struct mdd_object *parent, struct mdd_object *child, const struct lu_attr *attr, const struct md_op_spec *spec, struct dt_allocation_hint *hint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdd_object_make_hint </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>child</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmd__op__spec.html">md_op_spec</a> *&nbsp;</td>
          <td class="paramname"> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l01571">1571</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="dt__object_8h_source.html#l00371">dt_allocation_hint::dah_eadata</a>, <a class="el" href="dt__object_8h_source.html#l00372">dt_allocation_hint::dah_eadata_len</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="structdt__object__operations.html#a00fed99bee94890d3e36719af00d5595">dt_object_operations::do_ah_init</a>, <a class="el" href="dt__object_8h_source.html#l01751">dt_object::do_ops</a>, <a class="el" href="lu__object_8h_source.html#l00419">lu_attr::la_mode</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, <a class="el" href="mdd__internal_8h_source.html#l00450">mdd_object_fid()</a>, <a class="el" href="lustre__idl_8h_source.html#l02338">MDS_OPEN_HAS_EA</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="md__object_8h_source.html#l00143">md_op_spec::sp_cr_flags</a>, <a class="el" href="structmd__op__spec.html#ad74c1d49e024fdbc5a44e764a5a82c05">md_op_spec::sp_ea</a>, <a class="el" href="structmd__op__spec.html#a13d810e55e3284f5244598d00fe84ca3">md_op_spec::u</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, and <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ab86ea57273a5458a1ff2da061de3388a"></a><!-- doxytag: member="mdd_internal.h::mdd_object_put" ref="ab86ea57273a5458a1ff2da061de3388a" args="(const struct lu_env *env, struct mdd_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdd_object_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00326">326</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>, and <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00740">mdd_dot_lustre_cleanup()</a>, <a class="el" href="mdd__dir_8c_source.html#l00199">mdd_is_parent()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__device_8c_source.html#l00565">obf_lookup()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00380">orph_key_test_and_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a8499de388a6b9e14612c544ee975457d"></a><!-- doxytag: member="mdd_internal.h::mdd_object_remote" ref="a8499de388a6b9e14612c544ee975457d" args="(struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdd_object_remote </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00445">445</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00845">lu_object_remote</a>, and <a class="el" href="mdd__internal_8h_source.html#l00404">mdd2lu_obj()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01188">mdd_declare_links_add()</a>, and <a class="el" href="mdd__dir_8c_source.html#l01149">mdd_links_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a1aefcdf32cf77dc0a78f8ed59ef788bf"></a><!-- doxytag: member="mdd_internal.h::mdd_object_type" ref="a1aefcdf32cf77dc0a78f8ed59ef788bf" args="(const struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static umode_t mdd_object_type </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00430">430</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00860">lu_object_attr()</a>, <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>, and <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__dir_8c_source.html#l01428">mdd_declare_finish_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l01248">mdd_declare_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l01234">mdd_declare_links_del()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l00259">mdd_is_subdir()</a>, <a class="el" href="mdd__object_8c_source.html#l01278">mdd_layout_swap_allowed()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l00550">mdd_link_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l01149">mdd_links_write()</a>, <a class="el" href="mdd__dir_8c_source.html#l01407">mdd_mark_orphan_object()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00109">mdd_orphan_insert_obj()</a>, <a class="el" href="mdd__dir_8c_source.html#l00141">mdd_parent_fid()</a>, <a class="el" href="mdd__object_8c_source.html#l01858">mdd_readpage_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00245">orph_declare_index_delete()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00275">orph_index_delete()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00196">orph_index_insert()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a4e67f130b76cceb3b9bd53d38c9b8f74"></a><!-- doxytag: member="mdd_internal.h::mdd_orphan_cleanup" ref="a4e67f130b76cceb3b9bd53d38c9b8f74" args="(const struct lu_env *env, struct mdd_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_orphan_cleanup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Iterate orphan index to cleanup orphan objects after recovery is done. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td>mdd device in recovery. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__orphans_8c_source.html#l00595">595</a> of file <a class="el" href="mdd__orphans_8c_source.html">mdd_orphans.c</a>.</p>

<p>References <a class="el" href="mdd__orphans_8c_source.html#l00563">__mdd_orphan_cleanup()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mdd__internal_8h_source.html#l00415">mdd2obd_dev()</a>, <a class="el" href="mdd__device_8c_source.html#l01571">mdd_generic_thread_start()</a>, <a class="el" href="mdd__internal_8h_source.html#l00115">mdd_device::mdd_orph_cleanup_thread</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, and <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00932">mdd_recovery_complete()</a>.</p>

</div>
</div>
<a class="anchor" id="a20ff7f3e4b2581b896ab29a0d38cb289"></a><!-- doxytag: member="mdd_internal.h::mdd_permission" ref="a20ff7f3e4b2581b896ab29a0d38cb289" args="(const struct lu_env *env, struct md_object *pobj, struct md_object *cobj, struct md_attr *ma, int mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_permission </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>pobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>cobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__attr.html">md_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>ma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__permission_8c_source.html#l00307">307</a> of file <a class="el" href="mdd__permission_8c_source.html">mdd_permission.c</a>.</p>

<p>References <a class="el" href="mdd__object_8c_source.html#l01601">accmode()</a>, <a class="el" href="curproc_8h_source.html#l00115">CFS_CAP_FOWNER</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00421">lu_attr::la_uid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__ucred_8c_source.html#l00090">lu_ucred_assert()</a>, <a class="el" href="md__object_8h_source.html#l00102">MAY_RGETFACL</a>, <a class="el" href="mdd__internal_8h_source.html#l00393">md2mdd_obj()</a>, <a class="el" href="md__object_8h_source.html#l00618">md_capable()</a>, <a class="el" href="mdd__internal_8h_source.html#l00246">MDD_ENV_VAR</a>, <a class="el" href="mdd__object_8c_source.html#l00065">mdd_la_get()</a>, <a class="el" href="mdd__internal_8h_source.html#l00474">mdd_permission_internal_locked()</a>, <a class="el" href="lustre__idl_8h_source.html#l02319">MDS_OPEN_CROSS</a>, <a class="el" href="md__object_8h_source.html#l00567">MOR_TGT_CHILD</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="md__object_8h_source.html#l00591">lu_ucred::uc_fsuid</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="aa3fd74b80e108b25ea0afc0944f82b36"></a><!-- doxytag: member="mdd_internal.h::mdd_permission_internal" ref="aa3fd74b80e108b25ea0afc0944f82b36" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_attr *la, int mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdd_permission_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00467">467</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="mdd__permission_8c_source.html#l00240">__mdd_permission_internal()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00441">mdd_fix_attr()</a>, and <a class="el" href="mdd__object_8c_source.html#l01626">mdd_open_sanity_check()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b9fc40356fe121637b234b736ad6f39"></a><!-- doxytag: member="mdd_internal.h::mdd_permission_internal_locked" ref="a1b9fc40356fe121637b234b736ad6f39" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_attr *la, int mask, enum mdd_object_role role)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdd_permission_internal_locked </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__md.html#gabf4a938616b1baef18114ee718fcb9d2">mdd_object_role</a>&nbsp;</td>
          <td class="paramname"> <em>role</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00474">474</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="mdd__permission_8c_source.html#l00240">__mdd_permission_internal()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__dir_8c_source.html#l00379">mdd_may_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l00452">mdd_may_delete_entry()</a>, <a class="el" href="mdd__dir_8c_source.html#l00402">mdd_may_unlink()</a>, and <a class="el" href="mdd__permission_8c_source.html#l00307">mdd_permission()</a>.</p>

</div>
</div>
<a class="anchor" id="ae3e5e1499b5a07ea66edaf5a5cc986da"></a><!-- doxytag: member="mdd_internal.h::mdd_procfs_fini" ref="ae3e5e1499b5a07ea66edaf5a5cc986da" args="(struct mdd_device *mdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdd_procfs_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__lproc_8c_source.html#l00396">396</a> of file <a class="el" href="mdd__lproc_8c_source.html">mdd_lproc.c</a>.</p>

<p>References <a class="el" href="lprocfs__status_8h_source.html#l00952">lprocfs_remove()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00107">mdd_device::mdd_proc_entry</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00157">mdd_device_fini()</a>, and <a class="el" href="mdd__lproc_8c_source.html#l00362">mdd_procfs_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a713b01d9a108ed605040e0e7b3cabc6b"></a><!-- doxytag: member="mdd_internal.h::mdd_procfs_init" ref="a713b01d9a108ed605040e0e7b3cabc6b" args="(struct mdd_device *mdd, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_procfs_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__lproc_8c_source.html#l00362">362</a> of file <a class="el" href="mdd__lproc_8c_source.html">mdd_lproc.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="genops_8c_source.html#l00103">class_search_type()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lprocfs__status_8h_source.html#l00949">lprocfs_register()</a>, <a class="el" href="obd_8h_source.html#l00446">LUSTRE_MDD_NAME</a>, <a class="el" href="mdd__internal_8h_source.html#l00415">mdd2obd_dev()</a>, <a class="el" href="mdd__internal_8h_source.html#l00107">mdd_device::mdd_proc_entry</a>, <a class="el" href="mdd__lproc_8c_source.html#l00396">mdd_procfs_fini()</a>, <a class="el" href="obd_8h_source.html#l00716">obd_device::obd_vars</a>, and <a class="el" href="obd_8h_source.html#l00108">obd_type::typ_procroot</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00120">mdd_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a293182c50af9fd4e943a79269aafeb73"></a><!-- doxytag: member="mdd_internal.h::mdd_read_lock" ref="a293182c50af9fd4e943a79269aafeb73" args="(const struct lu_env *env, struct mdd_object *obj, enum mdd_object_role role)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdd_read_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__md.html#gabf4a938616b1baef18114ee718fcb9d2">mdd_object_role</a>&nbsp;</td>
          <td class="paramname"> <em>role</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__lock_8c_source.html#l00057">57</a> of file <a class="el" href="mdd__lock_8c_source.html">mdd_lock.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02165">dt_read_lock()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__permission_8c_source.html#l00240">__mdd_permission_internal()</a>, <a class="el" href="mdd__dir_8c_source.html#l02144">mdd_acl_init()</a>, <a class="el" href="mdd__object_8c_source.html#l00764">mdd_declare_attr_set()</a>, <a class="el" href="mdd__dir_8c_source.html#l04213">mdd_migrate()</a>, <a class="el" href="mdd__object_8c_source.html#l00271">mdd_readlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01958">mdd_readpage()</a>, <a class="el" href="mdd__object_8c_source.html#l00230">mdd_xattr_get()</a>, and <a class="el" href="mdd__object_8c_source.html#l00299">mdd_xattr_list()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b64259da9d7f08e1d1a5609c8bb6f09"></a><!-- doxytag: member="mdd_internal.h::mdd_read_unlock" ref="a8b64259da9d7f08e1d1a5609c8bb6f09" args="(const struct lu_env *env, struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdd_read_unlock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__lock_8c_source.html#l00072">72</a> of file <a class="el" href="mdd__lock_8c_source.html">mdd_lock.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02185">dt_read_unlock()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__permission_8c_source.html#l00240">__mdd_permission_internal()</a>, <a class="el" href="mdd__dir_8c_source.html#l02144">mdd_acl_init()</a>, <a class="el" href="mdd__object_8c_source.html#l00764">mdd_declare_attr_set()</a>, <a class="el" href="mdd__dir_8c_source.html#l04213">mdd_migrate()</a>, <a class="el" href="mdd__object_8c_source.html#l00271">mdd_readlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01958">mdd_readpage()</a>, <a class="el" href="mdd__object_8c_source.html#l00230">mdd_xattr_get()</a>, and <a class="el" href="mdd__object_8c_source.html#l00299">mdd_xattr_list()</a>.</p>

</div>
</div>
<a class="anchor" id="a9d6a32363a315d0357ffafa8d5f9ef4e"></a><!-- doxytag: member="mdd_internal.h::mdd_readlink" ref="a9d6a32363a315d0357ffafa8d5f9ef4e" args="(const struct lu_env *env, struct md_object *obj, struct lu_buf *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_readlink </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00271">271</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="structdt__body__operations.html#a6d7a363128fd4899b709b2ff18afd54c">dt_body_operations::dbo_read</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8h_source.html#l01752">dt_object::do_body_ops</a>, <a class="el" href="dt__object_8c_source.html#l00469">dt_read()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdd__internal_8h_source.html#l00393">md2mdd_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00460">mdd_obj_dev_name()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>, <a class="el" href="mdd__internal_8h_source.html#l00450">mdd_object_fid()</a>, <a class="el" href="mdd__lock_8c_source.html#l00057">mdd_read_lock()</a>, <a class="el" href="mdd__lock_8c_source.html#l00072">mdd_read_unlock()</a>, <a class="el" href="md__object_8h_source.html#l00567">MOR_TGT_CHILD</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a194d945bf3f13ccc2a51295c05948f16"></a><!-- doxytag: member="mdd_internal.h::mdd_readpage" ref="a194d945bf3f13ccc2a51295c05948f16" args="(const struct lu_env *env, struct md_object *obj, const struct lu_rdpg *rdpg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_readpage </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__rdpg.html">lu_rdpg</a> *&nbsp;</td>
          <td class="paramname"> <em>rdpg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l01958">1958</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="byteorder_8h_source.html#l00059">cpu_to_le64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8c_source.html#l00812">dt_index_walk()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l00956">LDF_EMPTY</a>, <a class="el" href="lustre__idl_8h_source.html#l00947">lu_dirpage::ldp_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l00946">lu_dirpage::ldp_hash_end</a>, <a class="el" href="lustre__idl_8h_source.html#l00945">lu_dirpage::ldp_hash_start</a>, <a class="el" href="lustre__idl_8h_source.html#l01009">LU_PAGE_SIZE</a>, <a class="el" href="mdd__internal_8h_source.html#l00393">md2mdd_obj()</a>, <a class="el" href="mdd__object_8c_source.html#l01873">mdd_dir_page_build()</a>, <a class="el" href="mdd__internal_8h_source.html#l00435">mdd_is_dead_obj()</a>, <a class="el" href="mdd__internal_8h_source.html#l00460">mdd_obj_dev_name()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>, <a class="el" href="mdd__internal_8h_source.html#l00450">mdd_object_fid()</a>, <a class="el" href="mdd__lock_8c_source.html#l00057">mdd_read_lock()</a>, <a class="el" href="mdd__lock_8c_source.html#l00072">mdd_read_unlock()</a>, <a class="el" href="mdd__object_8c_source.html#l01858">mdd_readpage_sanity_check()</a>, <a class="el" href="lustre__idl_8h_source.html#l00997">MDS_DIR_END_OFF</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="md__object_8h_source.html#l00567">MOR_TGT_CHILD</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="lu__object_8h_source.html#l00899">lu_rdpg::rp_count</a>, <a class="el" href="lu__object_8h_source.html#l00897">lu_rdpg::rp_hash</a>, and <a class="el" href="lu__object_8h_source.html#l00905">lu_rdpg::rp_pages</a>.</p>

</div>
</div>
<a class="anchor" id="adb8127e3d7a46d8c8c889e8c65186566"></a><!-- doxytag: member="mdd_internal.h::mdd_seq_site" ref="adb8127e3d7a46d8c8c889e8c65186566" args="(struct mdd_device *mdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structseq__server__site.html">seq_server_site</a>* mdd_seq_site </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00455">455</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00645">lu_site::ld_seq_site</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, and <a class="el" href="mdd__internal_8h_source.html#l00377">mdd2lu_dev()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, and <a class="el" href="mdd__device_8c_source.html#l00990">mdd_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a1281e121fdf2f264cff6e1870508e67a"></a><!-- doxytag: member="mdd_internal.h::mdd_trans_create" ref="a1281e121fdf2f264cff6e1870508e67a" args="(const struct lu_env *env, struct mdd_device *mdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthandle.html">thandle</a>* mdd_trans_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__trans_8c_source.html#l00051">51</a> of file <a class="el" href="mdd__trans_8c_source.html">mdd_trans.c</a>.</p>

<p>References <a class="el" href="structdt__device__operations.html#a06f026899bb291ac5bb915a17dcadb7f">dt_device_operations::dt_trans_create</a>, <a class="el" href="mdd__internal_8h_source.html#l00101">mdd_device::mdd_child</a>, and <a class="el" href="mdd__internal_8h_source.html#l00399">mdd_child_ops()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l00697">mdd_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l02303">mdd_index_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l03299">mdd_migrate_xattrs()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a456b891ec37700fbc10a4105a762683d"></a><!-- doxytag: member="mdd_internal.h::mdd_trans_start" ref="a456b891ec37700fbc10a4105a762683d" args="(const struct lu_env *env, struct mdd_device *mdd, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_trans_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__trans_8c_source.html#l00057">57</a> of file <a class="el" href="mdd__trans_8c_source.html">mdd_trans.c</a>.</p>

<p>References <a class="el" href="structdt__device__operations.html#a9f4532e51dbeefa61d9c0f6a9670ef5b">dt_device_operations::dt_trans_start</a>, <a class="el" href="mdd__internal_8h_source.html#l00101">mdd_device::mdd_child</a>, and <a class="el" href="mdd__internal_8h_source.html#l00399">mdd_child_ops()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l00697">mdd_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l02303">mdd_index_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l03299">mdd_migrate_xattrs()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a9dc7cbfea77de875d5167212ea083f68"></a><!-- doxytag: member="mdd_internal.h::mdd_trans_stop" ref="a9dc7cbfea77de875d5167212ea083f68" args="(const struct lu_env *env, struct mdd_device *mdd, int rc, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_trans_stop </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__trans_8c_source.html#l00063">63</a> of file <a class="el" href="mdd__trans_8c_source.html">mdd_trans.c</a>.</p>

<p>References <a class="el" href="structdt__device__operations.html#a1a48e37999c62e8d1d2ad6e84572393b">dt_device_operations::dt_trans_stop</a>, <a class="el" href="mdd__internal_8h_source.html#l00101">mdd_device::mdd_child</a>, <a class="el" href="mdd__internal_8h_source.html#l00399">mdd_child_ops()</a>, and <a class="el" href="dt__object_8h_source.html#l01845">thandle::th_result</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l00697">mdd_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l02303">mdd_index_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l03299">mdd_migrate_xattrs()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a1aceed0a6b0ac4992a2078cb5dfe6a77"></a><!-- doxytag: member="mdd_internal.h::mdd_unlink_sanity_check" ref="a1aceed0a6b0ac4992a2078cb5dfe6a77" args="(const struct lu_env *env, struct mdd_object *pobj, const struct lu_attr *pattr, struct mdd_object *cobj, const struct lu_attr *cattr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_unlink_sanity_check </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>pobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>pattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>cobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>cattr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l01503">1503</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mdd__dir_8c_source.html#l00485">mdd_may_delete()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>.</p>

</div>
</div>
<a class="anchor" id="aa67c04f455f93011c5a5150aff407df2"></a><!-- doxytag: member="mdd_internal.h::mdd_update_time" ref="aa67c04f455f93011c5a5150aff407df2" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_attr *oattr, struct lu_attr *attr, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_update_time </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>oattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l00409">409</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00415">lu_attr::la_ctime</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00445">LA_MTIME</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mdd__object_8c_source.html#l00394">mdd_attr_set_internal()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, and <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>.</p>

</div>
</div>
<a class="anchor" id="af0b2a71f5b097be47fe22c589e43fcf3"></a><!-- doxytag: member="mdd_internal.h::mdd_write_lock" ref="af0b2a71f5b097be47fe22c589e43fcf3" args="(const struct lu_env *env, struct mdd_object *obj, enum mdd_object_role role)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdd_write_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__md.html#gabf4a938616b1baef18114ee718fcb9d2">mdd_object_role</a>&nbsp;</td>
          <td class="paramname"> <em>role</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__lock_8c_source.html#l00049">49</a> of file <a class="el" href="mdd__lock_8c_source.html">mdd_lock.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00649">__mdd_index_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l00631">__mdd_index_insert()</a>, <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>, <a class="el" href="mdd__object_8c_source.html#l01681">mdd_open()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00380">orph_key_test_and_del()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="acb847fadc0cfd545623dd8abcfb64d41"></a><!-- doxytag: member="mdd_internal.h::mdd_write_locked" ref="acb847fadc0cfd545623dd8abcfb64d41" args="(const struct lu_env *env, struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdd_write_locked </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__lock_8c_source.html#l00079">79</a> of file <a class="el" href="mdd__lock_8c_source.html">mdd_lock.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02203">dt_write_locked()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l01453">mdd_finish_unlink()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00275">orph_index_delete()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00196">orph_index_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="af2732f45e5c21c086bbefedc30ded904"></a><!-- doxytag: member="mdd_internal.h::mdd_write_unlock" ref="af2732f45e5c21c086bbefedc30ded904" args="(const struct lu_env *env, struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdd_write_unlock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__lock_8c_source.html#l00065">65</a> of file <a class="el" href="mdd__lock_8c_source.html">mdd_lock.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00649">__mdd_index_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l00631">__mdd_index_insert()</a>, <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>, <a class="el" href="mdd__object_8c_source.html#l01681">mdd_open()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00380">orph_key_test_and_del()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a17fe328d1ba1dd12dfa3a5d309fc4b73"></a><!-- doxytag: member="mdd_internal.h::mdo2fid" ref="a17fe328d1ba1dd12dfa3a5d309fc4b73" args="(const struct mdd_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__fid.html">lu_fid</a>* mdo2fid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00425">425</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>, and <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l00643">mdd_changelog_data_store()</a>, <a class="el" href="mdd__dir_8c_source.html#l00817">mdd_changelog_ns_store()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l02090">mdd_declare_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01248">mdd_declare_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l01188">mdd_declare_links_add()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l01862">mdd_declare_object_initialize()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01453">mdd_finish_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l00199">mdd_is_parent()</a>, <a class="el" href="mdd__object_8c_source.html#l01278">mdd_layout_swap_allowed()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l01149">mdd_links_write()</a>, <a class="el" href="mdd__dir_8c_source.html#l00485">mdd_may_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01899">mdd_object_initialize()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00109">mdd_orphan_insert_obj()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l02563">mdd_rename_order()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00245">orph_declare_index_delete()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00152">orph_declare_index_insert()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00275">orph_index_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="a80c3020dd7bc63ff4736e03b9068a167"></a><!-- doxytag: member="mdd_internal.h::mdo2mdd" ref="a80c3020dd7bc63ff4736e03b9068a167" args="(struct md_object *mdo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structmdd__device.html">mdd_device</a>* mdo2mdd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>mdo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00388">388</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="mdd__internal_8h_source.html#l00371">lu2mdd_dev()</a>, and <a class="el" href="md__object_8h_source.html#l00287">md_object::mo_lu</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00073">__mdd_lookup()</a>, <a class="el" href="mdd__object_8c_source.html#l00834">mdd_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l00738">mdd_attr_set_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l00697">mdd_changelog()</a>, <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01782">mdd_create_data()</a>, <a class="el" href="mdd__dir_8c_source.html#l01940">mdd_create_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l01188">mdd_declare_links_add()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__object_8c_source.html#l00963">mdd_hsm_update_locked()</a>, <a class="el" href="mdd__dir_8c_source.html#l02303">mdd_index_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l00259">mdd_is_subdir()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03063">mdd_linkea_update_child_internal()</a>, <a class="el" href="mdd__dir_8c_source.html#l01149">mdd_links_write()</a>, <a class="el" href="mdd__dir_8c_source.html#l00485">mdd_may_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l04213">mdd_migrate()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l04117">mdd_migrate_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l03299">mdd_migrate_xattrs()</a>, <a class="el" href="mdd__internal_8h_source.html#l00420">mdd_obj2mdd_dev()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>, <a class="el" href="mdd__object_8c_source.html#l01244">mdd_xattr_hsm_replace()</a>, <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>, <a class="el" href="mdd__device_8c_source.html#l00565">obf_lookup()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00245">orph_declare_index_delete()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00152">orph_declare_index_insert()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00275">orph_index_delete()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00196">orph_index_insert()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="ad17f8d0de77dbb9e899274c273f9afdf"></a><!-- doxytag: member="mdd_internal.h::mdo_attr_get" ref="ad17f8d0de77dbb9e899274c273f9afdf" args="(const struct lu_env *env, struct mdd_object *obj, struct lu_attr *la)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_attr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00484">484</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02225">dt_attr_get()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00065">mdd_la_get()</a>.</p>

</div>
</div>
<a class="anchor" id="ac665f4e5459f4b42ec3a9e7a7985a78e"></a><!-- doxytag: member="mdd_internal.h::mdo_attr_set" ref="ac665f4e5459f4b42ec3a9e7a7985a78e" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_attr *la, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00500">500</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02253">dt_attr_set()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00394">mdd_attr_set_internal()</a>, <a class="el" href="mdd__dir_8c_source.html#l01407">mdd_mark_orphan_object()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, and <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>.</p>

</div>
</div>
<a class="anchor" id="a50837ead481fd19d157ca4e94c8b2612"></a><!-- doxytag: member="mdd_internal.h::mdo_create_obj" ref="a50837ead481fd19d157ca4e94c8b2612" args="(const struct lu_env *env, struct mdd_object *o, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_create_obj </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00663">663</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02120">dt_create()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00377">mdd_object_create_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d1d2968d2b2db6f3ba4c31ebadba1d2"></a><!-- doxytag: member="mdd_internal.h::mdo_declare_attr_set" ref="a2d1d2968d2b2db6f3ba4c31ebadba1d2" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_attr *la, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_declare_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00491">491</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02238">dt_declare_attr_set()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00764">mdd_declare_attr_set()</a>, <a class="el" href="mdd__dir_8c_source.html#l02090">mdd_declare_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01248">mdd_declare_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03402">mdd_declare_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02020">mdd_declare_object_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01862">mdd_declare_object_initialize()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01516">mdd_declare_unlink()</a>, and <a class="el" href="mdd__dir_8c_source.html#l01407">mdd_mark_orphan_object()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f35f27e7d4d7e16413f3679cfe3c22c"></a><!-- doxytag: member="mdd_internal.h::mdo_declare_create_obj" ref="a7f35f27e7d4d7e16413f3679cfe3c22c" args="(const struct lu_env *env, struct mdd_object *o, struct lu_attr *attr, struct dt_allocation_hint *hint, struct dt_object_format *dof, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_declare_create_obj </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__attr.html">lu_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__allocation__hint.html">dt_allocation_hint</a> *&nbsp;</td>
          <td class="paramname"> <em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object__format.html">dt_object_format</a> *&nbsp;</td>
          <td class="paramname"> <em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00652">652</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02103">dt_declare_create()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00342">mdd_declare_object_create_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="a6aa80d37ca2fcc698c2fad523c4affa1"></a><!-- doxytag: member="mdd_internal.h::mdo_declare_destroy" ref="a6aa80d37ca2fcc698c2fad523c4affa1" args="(const struct lu_env *env, struct mdd_object *o, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_declare_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00674">674</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02137">dt_declare_destroy()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l01705">mdd_declare_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l01428">mdd_declare_finish_unlink()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a68d15b4174960e67b30a66b8f160798e"></a><!-- doxytag: member="mdd_internal.h::mdo_declare_index_delete" ref="a68d15b4174960e67b30a66b8f160798e" args="(const struct lu_env *env, struct mdd_object *obj, const char *name, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_declare_index_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00601">601</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02615">dt_declare_delete()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01516">mdd_declare_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l02303">mdd_index_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00152">orph_declare_index_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="ada3454ddedc3a923ee2d7544fa536640"></a><!-- doxytag: member="mdd_internal.h::mdo_declare_index_insert" ref="ada3454ddedc3a923ee2d7544fa536640" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_fid *fid, __u32 type, const char *name, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_declare_index_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00575">575</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02481">dt_declare_insert()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, <a class="el" href="mdd__internal_8h_source.html#l00160">mdd_thread_info::mti_dt_rec</a>, <a class="el" href="dt__object_8h_source.html#l02684">dt_insert_rec::rec_fid</a>, and <a class="el" href="dt__object_8h_source.html#l02689">dt_insert_rec::rec_type</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02090">mdd_declare_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01248">mdd_declare_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l01862">mdd_declare_object_initialize()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00152">orph_declare_index_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a76f7e4edf015bbfe02169836603b7591"></a><!-- doxytag: member="mdd_internal.h::mdo_declare_ref_add" ref="a76f7e4edf015bbfe02169836603b7591" args="(const struct lu_env *env, struct mdd_object *obj, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_declare_ref_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00613">613</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02266">dt_declare_ref_add()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02090">mdd_declare_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01248">mdd_declare_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l01862">mdd_declare_object_initialize()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00152">orph_declare_index_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="adb18d37f930201a179b0e9f593a6ac1d"></a><!-- doxytag: member="mdd_internal.h::mdo_declare_ref_del" ref="adb18d37f930201a179b0e9f593a6ac1d" args="(const struct lu_env *env, struct mdd_object *obj, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_declare_ref_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00632">632</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02292">dt_declare_ref_del()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02637">mdd_declare_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01516">mdd_declare_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l02303">mdd_index_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l03606">mdd_migrate_entries()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00245">orph_declare_index_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b4d040b7119376694f93894c8e48f18"></a><!-- doxytag: member="mdd_internal.h::mdo_declare_xattr_del" ref="a6b4d040b7119376694f93894c8e48f18" args="(const struct lu_env *env, struct mdd_object *obj, const char *name, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_declare_xattr_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00542">542</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02514">dt_declare_xattr_del()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, and <a class="el" href="mdd__object_8c_source.html#l01109">mdd_declare_xattr_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a08569779fdfa0a40390548343579ae2c"></a><!-- doxytag: member="mdd_internal.h::mdo_declare_xattr_set" ref="a08569779fdfa0a40390548343579ae2c" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_buf *buf, const char *name, int fl, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_declare_xattr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00520">520</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02543">dt_declare_xattr_set()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00764">mdd_declare_attr_set()</a>, <a class="el" href="mdd__dir_8c_source.html#l01188">mdd_declare_links_add()</a>, <a class="el" href="mdd__dir_8c_source.html#l03402">mdd_declare_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03834">mdd_declare_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02020">mdd_declare_object_create()</a>, <a class="el" href="mdd__object_8c_source.html#l00921">mdd_declare_xattr_set()</a>, and <a class="el" href="mdd__dir_8c_source.html#l03299">mdd_migrate_xattrs()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8e949ac80ca8ff2cd3e43e2a9af0ee7"></a><!-- doxytag: member="mdd_internal.h::mdo_destroy" ref="ae8e949ac80ca8ff2cd3e43e2a9af0ee7" args="(const struct lu_env *env, struct mdd_object *o, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_destroy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00682">682</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02151">dt_destroy()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l01722">mdd_close()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01453">mdd_finish_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a1508866a250d9ef4e7b616d13872bde3"></a><!-- doxytag: member="mdd_internal.h::mdo_ref_add" ref="a1508866a250d9ef4e7b616d13872bde3" args="(const struct lu_env *env, struct mdd_object *obj, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_ref_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00621">621</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02279">dt_ref_add()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00631">__mdd_index_insert()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l01899">mdd_object_initialize()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00196">orph_index_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a785cbc3fe254e3c9315dc6cf6243913b"></a><!-- doxytag: member="mdd_internal.h::mdo_ref_del" ref="a785cbc3fe254e3c9315dc6cf6243913b" args="(const struct lu_env *env, struct mdd_object *obj, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_ref_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00640">640</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02305">dt_ref_del()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00649">__mdd_index_delete()</a>, <a class="el" href="mdd__dir_8c_source.html#l02347">mdd_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01294">mdd_link()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l01899">mdd_object_initialize()</a>, <a class="el" href="mdd__dir_8c_source.html#l02759">mdd_rename()</a>, <a class="el" href="mdd__dir_8c_source.html#l01612">mdd_unlink()</a>, <a class="el" href="mdd__dir_8c_source.html#l03150">mdd_update_linkea_internal()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00275">orph_index_delete()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e7c8bcb99163d6a9e09ab6be3ebbb7e"></a><!-- doxytag: member="mdd_internal.h::mdo_xattr_del" ref="a7e7c8bcb99163d6a9e09ab6be3ebbb7e" args="(const struct lu_env *env, struct mdd_object *obj, const char *name, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_xattr_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00551">551</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02529">dt_xattr_del()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, and <a class="el" href="mdd__object_8c_source.html#l01137">mdd_xattr_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a345e6c094d4d1562421b6a7318b07ec6"></a><!-- doxytag: member="mdd_internal.h::mdo_xattr_get" ref="a345e6c094d4d1562421b6a7318b07ec6" args="(const struct lu_env *env, struct mdd_object *obj, struct lu_buf *buf, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_xattr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00513">513</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02588">dt_xattr_get()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02144">mdd_acl_init()</a>, <a class="el" href="mdd__permission_8c_source.html#l00204">mdd_check_acl()</a>, <a class="el" href="mdd__object_8c_source.html#l00764">mdd_declare_attr_set()</a>, <a class="el" href="mdd__object_8c_source.html#l01193">mdd_get_lov_ea()</a>, <a class="el" href="mdd__dir_8c_source.html#l01576">mdd_hsm_archive_exists()</a>, <a class="el" href="mdd__object_8c_source.html#l00963">mdd_hsm_update_locked()</a>, <a class="el" href="mdd__dir_8c_source.html#l01096">mdd_links_read()</a>, <a class="el" href="mdd__dir_8c_source.html#l04117">mdd_migrate_sanity_check()</a>, <a class="el" href="mdd__dir_8c_source.html#l03299">mdd_migrate_xattrs()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, and <a class="el" href="mdd__object_8c_source.html#l00230">mdd_xattr_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c23c5c73630dc207e63b4dbd6925b1f"></a><!-- doxytag: member="mdd_internal.h::mdo_xattr_list" ref="a5c23c5c73630dc207e63b4dbd6925b1f" args="(const struct lu_env *env, struct mdd_object *obj, struct lu_buf *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_xattr_list </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00563">563</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02602">dt_xattr_list()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l03299">mdd_migrate_xattrs()</a>, and <a class="el" href="mdd__object_8c_source.html#l00299">mdd_xattr_list()</a>.</p>

</div>
</div>
<a class="anchor" id="ac835452d6f7162bf5b8e8e141022082b"></a><!-- doxytag: member="mdd_internal.h::mdo_xattr_set" ref="ac835452d6f7162bf5b8e8e141022082b" args="(const struct lu_env *env, struct mdd_object *obj, const struct lu_buf *buf, const char *name, int fl, struct thandle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdo_xattr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__internal_8h_source.html#l00530">530</a> of file <a class="el" href="mdd__internal_8h_source.html">mdd_internal.h</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02559">dt_xattr_set()</a>, <a class="el" href="mdd__internal_8h_source.html#l00409">mdd_object_child()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00440">mdd_object_exists()</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l01149">mdd_links_write()</a>, <a class="el" href="mdd__dir_8c_source.html#l03467">mdd_migrate_create()</a>, <a class="el" href="mdd__dir_8c_source.html#l03933">mdd_migrate_update_name()</a>, <a class="el" href="mdd__dir_8c_source.html#l03299">mdd_migrate_xattrs()</a>, <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>, <a class="el" href="mdd__object_8c_source.html#l01316">mdd_swap_layouts()</a>, <a class="el" href="mdd__object_8c_source.html#l01244">mdd_xattr_hsm_replace()</a>, and <a class="el" href="mdd__object_8c_source.html#l01023">mdd_xattr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a5d9dd3a886f12c02c324f73582c17ef7"></a><!-- doxytag: member="mdd_internal.h::orph_declare_index_delete" ref="a5d9dd3a886f12c02c324f73582c17ef7" args="(const struct lu_env *, struct mdd_object *, struct thandle *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int orph_declare_index_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__orphans_8c_source.html#l00245">245</a> of file <a class="el" href="mdd__orphans_8c_source.html">mdd_orphans.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l02615">dt_declare_delete()</a>, <a class="el" href="dt__object_8h_source.html#l02292">dt_declare_ref_del()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="mdd__internal_8h_source.html#l00430">mdd_object_type()</a>, <a class="el" href="mdd__internal_8h_source.html#l00106">mdd_device::mdd_orphans</a>, <a class="el" href="mdd__internal_8h_source.html#l00425">mdo2fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00388">mdo2mdd()</a>, <a class="el" href="mdd__internal_8h_source.html#l00632">mdo_declare_ref_del()</a>, <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>, <a class="el" href="mdd__orphans_8c_source.html#l00064">orph_key_fill()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00057">ORPH_OP_UNLINK</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l01705">mdd_declare_close()</a>, and <a class="el" href="mdd__orphans_8c_source.html#l00320">orphan_object_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="afe36fc50c9ac323a1a4c134695ad8f53"></a><!-- doxytag: member="mdd_internal.h::orph_declare_index_insert" ref="afe36fc50c9ac323a1a4c134695ad8f53" args="(const struct lu_env *, struct mdd_object *, umode_t mode, struct thandle *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int orph_declare_index_insert </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__object.html">mdd_object</a> *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">umode_t&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__orphans_8c_source.html#l00152">152</a> of file <a class="el" href="mdd__orphans_8c_source.html">mdd_orphans.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lfsck__lib_8c_source.html#l00543">dotdot</a>, <a class="el" href="dt__object_8h_source.html#l02481">dt_declare_insert()</a>, <a class="el" href="dt__object_8h_source.html#l02266">dt_declare_ref_add()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>, <a class="el" href="mdd__internal_8h_source.html#l00106">mdd_device::mdd_orphans</a>, <a class="el" href="mdd__internal_8h_source.html#l00425">mdo2fid()</a>, <a class="el" href="mdd__internal_8h_source.html#l00388">mdo2mdd()</a>, <a class="el" href="mdd__internal_8h_source.html#l00601">mdo_declare_index_delete()</a>, <a class="el" href="mdd__internal_8h_source.html#l00575">mdo_declare_index_insert()</a>, <a class="el" href="mdd__internal_8h_source.html#l00613">mdo_declare_ref_add()</a>, <a class="el" href="mdd__internal_8h_source.html#l00125">mdd_object::mod_obj</a>, <a class="el" href="mdd__internal_8h_source.html#l00160">mdd_thread_info::mti_dt_rec</a>, <a class="el" href="mdd__orphans_8c_source.html#l00064">orph_key_fill()</a>, <a class="el" href="mdd__orphans_8c_source.html#l00057">ORPH_OP_UNLINK</a>, <a class="el" href="dt__object_8h_source.html#l02684">dt_insert_rec::rec_fid</a>, and <a class="el" href="dt__object_8h_source.html#l02689">dt_insert_rec::rec_type</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l02090">mdd_declare_create()</a>, and <a class="el" href="mdd__dir_8c_source.html#l01428">mdd_declare_finish_unlink()</a>.</p>

</div>
</div>
<a class="anchor" id="a76e7250e72b264f6bdf4f29a354fdf90"></a><!-- doxytag: member="mdd_internal.h::orph_index_fini" ref="a76e7250e72b264f6bdf4f29a354fdf90" args="(const struct lu_env *env, struct mdd_device *mdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void orph_index_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__orphans_8c_source.html#l00553">553</a> of file <a class="el" href="mdd__orphans_8c_source.html">mdd_orphans.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, and <a class="el" href="mdd__internal_8h_source.html#l00106">mdd_device::mdd_orphans</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00875">mdd_device_shutdown()</a>, and <a class="el" href="mdd__device_8c_source.html#l00990">mdd_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="ae460711899b02d914d01cfaedee00e5b"></a><!-- doxytag: member="mdd_internal.h::orph_index_init" ref="ae460711899b02d914d01cfaedee00e5b" args="(const struct lu_env *env, struct mdd_device *mdd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int orph_index_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdd__device.html">mdd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mdd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>open the PENDING directory for device <em>mdd</em> </p>
<p>The PENDING directory persistently tracks files and directories that were unlinked from the namespace (nlink == 0) but are still held open by clients. Those inodes shouldn't be deleted if the MDS crashes, because the clients would not be able to recover and reopen those files. Instead, these inodes are linked into the PENDING directory on disk, and only deleted if all clients close them, or the MDS finishes client recovery without any client reopening them (i.e. former clients didn't join recovery). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td>mdd device being started.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ve</em>&nbsp;</td><td>index operation error. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdd__orphans_8c_source.html#l00523">523</a> of file <a class="el" href="mdd__orphans_8c_source.html">mdd_orphans.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l01926">dt_locate()</a>, <a class="el" href="dt__object_8c_source.html#l00184">dt_try_as_dir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00840">lu_object_exists</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="mdd__internal_8h_source.html#l00415">mdd2obd_dev()</a>, <a class="el" href="mdd__internal_8h_source.html#l00101">mdd_device::mdd_child</a>, <a class="el" href="mdd__device_8c_source.html#l00950">mdd_local_file_create()</a>, <a class="el" href="mdd__internal_8h_source.html#l00104">mdd_device::mdd_local_root_fid</a>, <a class="el" href="mdd__internal_8h_source.html#l00106">mdd_device::mdd_orphans</a>, <a class="el" href="mdd__orphans_8c_source.html#l00053">orph_index_name</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdd__device_8c_source.html#l00990">mdd_prepare()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a256957dd4d8cb3232bf258e1240f0a74"></a><!-- doxytag: member="mdd_internal.h::mdd_dir_ops" ref="a256957dd4d8cb3232bf258e1240f0a74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmd__dir__operations.html">md_dir_operations</a> <a class="el" href="mdd__internal_8h.html#a256957dd4d8cb3232bf258e1240f0a74">mdd_dir_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__dir_8c_source.html#l04311">4311</a> of file <a class="el" href="mdd__dir_8c_source.html">mdd_dir.c</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00121">mdd_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a0687fa8e450deb22a7c95d93411795d7"></a><!-- doxytag: member="mdd_internal.h::mdd_lu_ops" ref="a0687fa8e450deb22a7c95d93411795d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a> <a class="el" href="mdd__internal_8h.html#a0687fa8e450deb22a7c95d93411795d7">mdd_lu_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__device_8c_source.html#l01082">1082</a> of file <a class="el" href="mdd__device_8c_source.html">mdd_device.c</a>.</p>

<p>Referenced by <a class="el" href="mdd__internal_8h_source.html#l00366">lu_device_is_mdd()</a>, and <a class="el" href="mdd__device_8c_source.html#l00120">mdd_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="aae0eed1e53484d2ca900865879917670"></a><!-- doxytag: member="mdd_internal.h::mdd_obj_ops" ref="aae0eed1e53484d2ca900865879917670" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmd__object__operations.html">md_object_operations</a> <a class="el" href="mdd__object_8c.html#aae0eed1e53484d2ca900865879917670">mdd_obj_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__object_8c_source.html#l02062">2062</a> of file <a class="el" href="mdd__object_8c_source.html">mdd_object.c</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00121">mdd_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ace6366b92632f4b587dd6a072b140026"></a><!-- doxytag: member="mdd_internal.h::mdd_object_kmem" ref="ace6366b92632f4b587dd6a072b140026" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="mdd__internal_8h.html#ace6366b92632f4b587dd6a072b140026">mdd_object_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__device_8c_source.html#l00065">65</a> of file <a class="el" href="mdd__device_8c_source.html">mdd_device.c</a>.</p>

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00121">mdd_object_alloc()</a>, and <a class="el" href="mdd__object_8c_source.html#l00177">mdd_object_free()</a>.</p>

</div>
</div>
<a class="anchor" id="aeea77dd6bf8e62e1a1b512ad2d9d9495"></a><!-- doxytag: member="mdd_internal.h::mdd_thread_key" ref="aeea77dd6bf8e62e1a1b512ad2d9d9495" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> <a class="el" href="mdd__internal_8h.html#aeea77dd6bf8e62e1a1b512ad2d9d9495">mdd_thread_key</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="mdd__object_8c_source.html#l00090">mdd_env_info()</a>.</p>

</div>
</div>
<a class="anchor" id="ae108beede221a7672faa31aaf55ed737"></a><!-- doxytag: member="mdd_internal.h::orph_index_name" ref="ae108beede221a7672faa31aaf55ed737" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="mdd__orphans_8c.html#ae108beede221a7672faa31aaf55ed737">orph_index_name</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdd__orphans_8c_source.html#l00053">53</a> of file <a class="el" href="mdd__orphans_8c_source.html">mdd_orphans.c</a>.</p>

<p>Referenced by <a class="el" href="mdd__orphans_8c_source.html#l00523">orph_index_init()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
