<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/mgs/mgs_llog.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/mgs/mgs_llog.c File Reference</h1><code>#include &lt;<a class="el" href="obd_8h_source.html">obd.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__ioctl_8h_source.html">lustre_ioctl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__param_8h_source.html">lustre_param.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__quota_8h_source.html">lustre_quota.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="mgs__internal_8h_source.html">mgs_internal.h</a>&quot;</code><br/>

<p><a href="mgs__llog_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__fsdb__handler__data.html">mgs_fsdb_handler_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__modify__lookup.html">mgs_modify_lookup</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__replace__uuid__lookup.html">mgs_replace_uuid_lookup</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This structure is passed to mgs_replace_handler.  <a href="structmgs__replace__uuid__lookup.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__srpc__read__data.html">mgs_srpc_read_data</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_MGS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#af23e54b10918d3dafa26a91b8096ed5b">D_MGS</a>&nbsp;&nbsp;&nbsp;D_CONFIG</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#acd89b41ea5021d8e39e66e2f03782da1">class_dentry_readdir</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structlist__head.html">list_head</a> *log_list)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a57165ca42593799dbea2b2c42200d9e4">name_create</a> (char **newname, char *prefix, char *suffix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#aba6bc8b6ca8748aa81f9e91dfda8577a">name_destroy</a> (char **<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a0e5a1ab713d1bc2a32e8c373b16cda2d">mgs_fsdb_handler</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a7227f60faa9e7fa6db8209eea6de58e7">mgs_get_fsdb_from_llog</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#adc970af7c463e14cf12abb44012631fe">mgs_free_fsdb_srpc</a> (struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a8b37e12b5b7a94ce7e6946f203dc86fc">mgs_find_fsdb</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a8c345b2674ab07f32ca021d118a44a4b">mgs_new_fsdb</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a96f6153147e55c3326aa1e8f66f7f48e">mgs_free_fsdb</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a5c9e2484ce204edeb5dc7185831719a1">mgs_init_fsdb_list</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#afa7678d5f1d68f54cf5f98a7388bb651">mgs_cleanup_fsdb_list</a> (struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a107716042db393c8f668b5b7814aa658">mgs_find_or_make_fsdb</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structfs__db.html">fs_db</a> **dbh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a355055ca7a6812de38e92bb76592b01c">mgs_check_index</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static __inline__ int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#af96f2d59dd70aa9f986ad4bc5d2f088a">next_index</a> (void *index_map, int map_len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a4827ea55c49b5d3a00da4e9ea609a741">mgs_set_index</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#add88c31bf9734b1365eb96f7ec826220">mgs_modify_handler</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a2d54903444e4299d23768fffe9078b04">mgs_modify</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *logname, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *comment, int flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Modify an existing config log record (for CM_SKIP or CM_EXCLUDE) Return code: 0 - modified successfully, 1 - no modification was done negative - error.  <a href="#a2d54903444e4299d23768fffe9078b04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ac437769e0e8a0a50943ab9a13c4dd893">check_markers</a> (struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg, struct <a class="el" href="structmgs__replace__uuid__lookup.html">mgs_replace_uuid_lookup</a> *mrul)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check: a) if block should be skipped b) is it target block.  <a href="#ac437769e0e8a0a50943ab9a13c4dd893"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a40fc6cf911a04c1aaf302fab8766c853">record_base</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *cfgname, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, char *s1, char *s2, char *s3, char *s4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#aad2bfaf71be35300acd2025092211717">record_add_uuid</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, uint64_t nid, char *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a105598b1239089709e709555f7ea1808">record_add_conn</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ab094bc593256484b68268250cbfde1f7">record_attach</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *type, char *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a31266ba74f23e56c9942c0a6e5e5d6ed">record_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *s1, char *s2, char *s3, char *s4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a6146e0d45cd562fbd41442aa06cfe531">process_command</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg, struct <a class="el" href="structmgs__replace__uuid__lookup.html">mgs_replace_uuid_lookup</a> *mrul)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a7fa1ade26a5bec48fe7ce831293b1686">mgs_replace_handler</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handler that called for every record in llog.  <a href="#a7fa1ade26a5bec48fe7ce831293b1686"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a4fd131c2abcee6532f4fbac054a140e3">mgs_log_is_empty</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a99893365208f9040199cf0b002d32727">mgs_replace_nids_log</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__device.html">obd_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, char *logname, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *nids)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a5fd256fee5af52839251d9089af54d71">mgs_parse_devname</a> (char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *fsname, __u32 *index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse device name and get file system name and/or device index.  <a href="#a5fd256fee5af52839251d9089af54d71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a4a89af0c4be1b67ad4716471d6e51c4a">only_mgs_is_running</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *mgs_obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ae182059b82de891540c6c3388cd9e7fb">name_create_mdt</a> (char **logname, char *fsname, int i)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#aab1054f700a85f1bf9c563bede07f3ac">mgs_replace_nids</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *nids)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Replace nids for <em>device</em> to <em>nids</em> values.  <a href="#aab1054f700a85f1bf9c563bede07f3ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a0086cbd8d8d0865b64d01bd94d7d75da">record_lov_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, struct <a class="el" href="structlov__desc.html">lov_desc</a> *desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a04157c46d7ea8b52286c66fa41a4293e">record_lmv_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, struct <a class="el" href="structlmv__desc.html">lmv_desc</a> *desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#aa73ff4d2ea931a31462dbfe1c3d5221e">record_mdc_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *logname, char *mdcuuid, char *mdtuuid, char *index, char *gen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ac7d3374a3c173cd9134355c1411ff42b">record_lov_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *lov_name, char *ost_uuid, char *index, char *gen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a5c3b633f744b060ea7736ca13c53b17f">record_mount_opt</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *profile, char *lov_name, char *mdc_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ae49238517752897497cc19031b162712">record_marker</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, __u32 flags, char *tgtname, char *comment)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a97b7222d10b2f6150375c4f08f1c8a9d">record_start_log</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structllog__handle.html">llog_handle</a> **llh, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a3e1a983dcc096ecb83a35a0258bd38aa">record_end_log</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> **llh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#adeacabda9b9b0da7215217677b9aa0ca">mgs_write_log_direct</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, char *logname, struct <a class="el" href="structllog__cfg__rec.html">llog_cfg_rec</a> *<a class="el" href="llog__test_8c.html#ad055657f9d954e69f4bd5193f01514c5">lcr</a>, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *comment)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a65114e825c8b07d4d927a732f5372088">mgs_write_log_direct_all</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, struct <a class="el" href="structllog__cfg__rec.html">llog_cfg_rec</a> *<a class="el" href="llog__test_8c.html#ad055657f9d954e69f4bd5193f01514c5">lcr</a>, char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>, char *comment, int server_only)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a27c7e08fd1f503985fac59d9e8c87805">mgs_write_log_osp_to_mdt</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, int index, char *logname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ae535f981658a1ed312d5f013adc23342">mgs_write_log_osc_to_lov</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *logname, char *suffix, char *lovname, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> sec_part, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ab53874f9ea1fd500f2a2ac0c3dc26b1f">name_create_mdt_and_lov</a> (char **logname, char **lovname, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, int i)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a823efb1a847ff35e1a614b58831fd51b">add_param</a> (char *params, char *key, char *val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ac46465dcb9d3fc3e7cea75f115dd85c4">mgs_steal_client_llog_handler</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Walk through client config log record and convert the related records into the target.  <a href="#ac46465dcb9d3fc3e7cea75f115dd85c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a050e95f4c530b614b74af712474418f2">mgs_steal_llog_for_mdt_from_client</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *client_name, struct <a class="el" href="structtemp__comp.html">temp_comp</a> *comp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a83a744f3c496b448a3e07690130fe932">mgs_write_log_lmv</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *logname, char *lmvname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a496e492f43972dcb1d9ae41934a872ac">mgs_write_log_lov</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *logname, char *lovname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ad5cf8b46ca3bd099c4d4e6501d746b25">mgs_write_log_failnids</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, char *cliname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a81581231fdcb9793dd8ca914a215e7e3">mgs_write_log_mdc_to_lmv</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *logname, char *lmvname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a1f32117d4c0bc8d1445a3d217a4e723b">name_create_lov</a> (char **lovname, char *mdtname, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a5c4e28ead02a0fb55bba9a73875212d2">name_create_mdt_osc</a> (char **oscname, char *ostname, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, int i)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a3b40d12aad9b52d576c7ef48923cede0">mgs_write_log_mdt0</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ae0b1449bb3bcb752bdfbe91d9846c526">mgs_write_log_mdt</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a12f0e52979f6fa3509a57d45af15b494">mgs_write_log_ost</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static __inline__ int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a59e6d88b6c2181b2cb9696ed5cd7c406">mgs_param_empty</a> (char *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a12e7611ab3403a29d1fe6a8445119521">mgs_write_log_failnid_internal</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *logname, char *cliname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a212b4c948f2c343a365bc5d25a3f3178">mgs_write_log_add_failnid</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a752ef7f5715de36c9d77166d8d43cd7a">mgs_wlp_lcfg</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *logname, struct <a class="el" href="structlustre__cfg__bufs.html">lustre_cfg_bufs</a> *bufs, char *tgtname, char *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a68f33b7f4fe0eafc42409eb1a090b031">mgs_write_log_param2</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a58fcc3bfd259228382f70b5a9eb1feb3">mgs_write_log_sys</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *sys, char *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a1f41403e77de82a81fefdf57b915e7f1">mgs_write_log_quota</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *quota, char *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#aac570db1c58f5adb806b97b1f7f68ee8">mgs_srpc_set_param_disk</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#afc1fe279cbd8bd4f031e0f4e424f6727">mgs_srpc_set_param_udesc_mem</a> (struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, char *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a5eb9676dbfeb81bdbd5bb9ca087ef784">mgs_srpc_set_param_mem</a> (struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, const char *svname, char *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ae59c22c1a3c5d4b1389be36f2e55f4df">mgs_srpc_set_param</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a9c490da26c691213fc12bbf186b7384d">mgs_srpc_read_handler</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structllog__handle.html">llog_handle</a> *llh, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *rec, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a3df6f9335897c02496fd461a589dd8a8">mgs_get_fsdb_srpc_from_llog</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a06ce043d38d0bcba091c7856449f0c3b">mgs_write_log_param</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, char *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a0461e5074dbc242d61ef52bcde4a7b18">mgs_check_failnid</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a8a7b9bad6f6e196cb05763a3ffcbc314">mgs_write_log_target</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *mti, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a3dfc2b78e1d6157dbf1ed8ee8a24d023">mgs_erase_log</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a4d03e292513a24e2b3766be2a6581753">mgs_erase_logs</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a5ce5801b186fc109148b67f3ab22a094">mgs_list_logs</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structobd__ioctl__data.html">obd_ioctl_data</a> *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a2bd8ed088f57d431d374b23976cd3bf7">print_lustre_cfg</a> (struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#ab228c39ab2c69f7ba760d0b88750a963">mgs__mgs_fsdb_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a9af54b176b554d2b46c5fc91edc7f464">mgs_params_fsdb_setup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a359aefa66a460606e71f68466cc4d89c">mgs_params_fsdb_cleanup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a2e5f5baf1f1daddf5d3cbe391f1b2463">mgs_setparam</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg, char *fsname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#adca61c1cc44e8580d41a0ff42d8e2c0c">mgs_write_log_pool</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, char *logname, struct <a class="el" href="structfs__db.html">fs_db</a> *fsdb, char *tgtname, enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a> <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, char *fsname, char *<a class="el" href="llapi__layout__test_8c.html#a9d096844ad7d6672fe415306cd352062">poolname</a>, char *ostname, char *comment)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#a9e1cabd4707ace3138f62d12eb4a2882">mgs_nodemap_cmd</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a> <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, const char *nodemap_name, char *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mgs__llog_8c.html#abf3db90eed531fbfd6c06b3985c10a0d">mgs_pool_cmd</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structmgs__device.html">mgs_device</a> *mgs, enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a> <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, char *fsname, char *<a class="el" href="llapi__layout__test_8c.html#a9d096844ad7d6672fe415306cd352062">poolname</a>, char *ostname)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="af23e54b10918d3dafa26a91b8096ed5b"></a><!-- doxytag: member="mgs_llog.c::D_MGS" ref="af23e54b10918d3dafa26a91b8096ed5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D_MGS&nbsp;&nbsp;&nbsp;D_CONFIG</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00046">46</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

</div>
</div>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="mgs_llog.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_MGS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00045">45</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a823efb1a847ff35e1a614b58831fd51b"></a><!-- doxytag: member="mgs_llog.c::add_param" ref="a823efb1a847ff35e1a614b58831fd51b" args="(char *params, char *key, char *val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int add_param </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01519">1519</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, and <a class="el" href="rename__many_8c_source.html#l00057">start</a>.</p>

<p>Referenced by <a class="el" href="mount__utils_8c_source.html#l00154">append_param()</a>, <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>, <a class="el" href="mkfs__lustre_8c_source.html#l00278">parse_opts()</a>, and <a class="el" href="mount__utils__zfs_8c_source.html#l00276">zfs_get_prop_params()</a>.</p>

</div>
</div>
<a class="anchor" id="ac437769e0e8a0a50943ab9a13c4dd893"></a><!-- doxytag: member="mgs_llog.c::check_markers" ref="ac437769e0e8a0a50943ab9a13c4dd893" args="(struct lustre_cfg *lcfg, struct mgs_replace_uuid_lookup *mrul)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int check_markers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__replace__uuid__lookup.html">mgs_replace_uuid_lookup</a> *&nbsp;</td>
          <td class="paramname"> <em>mrul</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check: a) if block should be skipped b) is it target block. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lcfg</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mrul</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>should not to be skipped </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>should to be skipped </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00750">750</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03009">CM_EXCLUDE</a>, <a class="el" href="lustre__idl_8h_source.html#l03014">cfg_marker::cm_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="lustre__idl_8h_source.html#l03019">cfg_marker::cm_tgtname</a>, <a class="el" href="mgs__llog_8c_source.html#l00735">mgs_replace_uuid_lookup::device_nids_added</a>, <a class="el" href="mgs__llog_8c_source.html#l00733">mgs_replace_uuid_lookup::in_target_device</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00087">LCFG_MARKER</a>, <a class="el" href="lustre__cfg_8h_source.html#l00182">lustre_cfg_buf()</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l00737">mgs_replace_uuid_lookup::skip_it</a>, and <a class="el" href="mgs__llog_8c_source.html#l00729">mgs_replace_uuid_lookup::target</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00929">mgs_replace_handler()</a>.</p>

</div>
</div>
<a class="anchor" id="acd89b41ea5021d8e39e66e2f03782da1"></a><!-- doxytag: member="mgs_llog.c::class_dentry_readdir" ref="acd89b41ea5021d8e39e66e2f03782da1" args="(const struct lu_env *env, struct mgs_device *mgs, struct list_head *log_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int class_dentry_readdir </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>log_list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00059">59</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="structdt__index__operations_1_1dt__it__ops.html#a74b9db7e1791f6accf99c80a3a0c43e2">dt_index_operations::dt_it_ops::init</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="lustre__idl_8h_source.html#l00872">LUDA_64BITHASH</a>, <a class="el" href="mgs__internal_8h_source.html#l00376">mgs_direntry::mde_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00377">mgs_direntry::mde_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00166">mgs_device::mgs_configs_dir</a>, <a class="el" href="mgs__internal_8h_source.html#l00391">mgs_direntry_alloc()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="lustre__disk_8h_source.html#l00058">MOUNT_CONFIGS_DIR</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, <a class="el" href="mgs__llog_8c_source.html#l03868">mgs_list_logs()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01449">mgs_write_log_direct_all()</a>.</p>

</div>
</div>
<a class="anchor" id="ab228c39ab2c69f7ba760d0b88750a963"></a><!-- doxytag: member="mgs_llog.c::mgs__mgs_fsdb_setup" ref="ab228c39ab2c69f7ba760d0b88750a963" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs__mgs_fsdb_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03927">3927</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__internal_8h_source.html#l00046">MGSSELF_NAME</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a0461e5074dbc242d61ef52bcde4a7b18"></a><!-- doxytag: member="mgs_llog.c::mgs_check_failnid" ref="a0461e5074dbc242d61ef52bcde4a7b18" args="(const struct lu_env *env, struct mgs_device *mgs, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_check_failnid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03690">3690</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00285">mgs_check_target()</a>.</p>

</div>
</div>
<a class="anchor" id="a355055ca7a6812de38e92bb76592b01c"></a><!-- doxytag: member="mgs_llog.c::mgs_check_index" ref="a355055ca7a6812de38e92bb76592b01c" args="(const struct lu_env *env, struct mgs_device *mgs, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_check_index </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00483">483</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00115">FSDB_LOG_EMPTY</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00127">fs_db::fsdb_ost_index_map</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__disk_8h_source.html#l00088">LDD_F_NEED_INDEX</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00285">mgs_check_target()</a>.</p>

</div>
</div>
<a class="anchor" id="afa7678d5f1d68f54cf5f98a7388bb651"></a><!-- doxytag: member="mgs_llog.c::mgs_cleanup_fsdb_list" ref="afa7678d5f1d68f54cf5f98a7388bb651" args="(struct mgs_device *mgs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_cleanup_fsdb_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00414">414</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__internal_8h_source.html#l00168">mgs_device::mgs_fs_db_list</a>, and <a class="el" href="mgs__internal_8h_source.html#l00177">mgs_device::mgs_mutex</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="a3dfc2b78e1d6157dbf1ed8ee8a24d023"></a><!-- doxytag: member="mgs_llog.c::mgs_erase_log" ref="a3dfc2b78e1d6157dbf1ed8ee8a24d023" args="(const struct lu_env *env, struct mgs_device *mgs, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_erase_log </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03801">3801</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, and <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d03e292513a24e2b3766be2a6581753"></a><!-- doxytag: member="mgs_llog.c::mgs_erase_logs" ref="a4d03e292513a24e2b3766be2a6581753" args="(const struct lu_env *env, struct mgs_device *mgs, char *fsname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_erase_logs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03827">3827</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__llog_8c_source.html#l00059">class_dentry_readdir()</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="mgs__internal_8h_source.html#l00376">mgs_direntry::mde_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00377">mgs_direntry::mde_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00381">mgs_direntry_free()</a>, <a class="el" href="mgs__llog_8c_source.html#l03801">mgs_erase_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l00314">mgs_find_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__internal_8h_source.html#l00177">mgs_device::mgs_mutex</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03961">mgs_params_fsdb_cleanup()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b37e12b5b7a94ce7e6946f203dc86fc"></a><!-- doxytag: member="mgs_llog.c::mgs_find_fsdb" ref="a8b37e12b5b7a94ce7e6946f203dc86fc" args="(struct mgs_device *mgs, char *fsname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfs__db.html">fs_db</a>* mgs_find_fsdb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00314">314</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, and <a class="el" href="mgs__internal_8h_source.html#l00168">mgs_device::mgs_fs_db_list</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, and <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a107716042db393c8f668b5b7814aa658"></a><!-- doxytag: member="mgs_llog.c::mgs_find_or_make_fsdb" ref="a107716042db393c8f668b5b7814aa658" args="(const struct lu_env *env, struct mgs_device *mgs, char *name, struct fs_db **dbh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_find_or_make_fsdb </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> **&nbsp;</td>
          <td class="paramname"> <em>dbh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00428">428</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00118">FSDB_MGS_SELF</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__llog_8c_source.html#l00314">mgs_find_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__internal_8h_source.html#l00177">mgs_device::mgs_mutex</a>, <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03927">mgs__mgs_fsdb_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l03690">mgs_check_failnid()</a>, <a class="el" href="mgs__llog_8c_source.html#l00483">mgs_check_index()</a>, <a class="el" href="mgs__nids_8c_source.html#l00844">mgs_fsc_attach()</a>, <a class="el" href="mgs__nids_8c_source.html#l00598">mgs_get_ir_logs()</a>, <a class="el" href="mgs__nids_8c_source.html#l00516">mgs_ir_update()</a>, <a class="el" href="mgs__llog_8c_source.html#l03940">mgs_params_fsdb_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, <a class="el" href="mgs__llog_8c_source.html#l01205">mgs_replace_nids()</a>, <a class="el" href="mgs__llog_8c_source.html#l00530">mgs_set_index()</a>, <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="a96f6153147e55c3326aa1e8f66f7f48e"></a><!-- doxytag: member="mgs_llog.c::mgs_free_fsdb" ref="a96f6153147e55c3326aa1e8f66f7f48e" args="(struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mgs_free_fsdb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00387">387</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__internal_8h_source.html#l00131">fs_db::fsdb_clilmv</a>, <a class="el" href="mgs__internal_8h_source.html#l00130">fs_db::fsdb_clilov</a>, <a class="el" href="mgs__internal_8h_source.html#l00125">fs_db::fsdb_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__internal_8h_source.html#l00127">fs_db::fsdb_ost_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="mgs__internal_8h_source.html#l00270">lproc_mgs_del_live()</a>, <a class="el" href="mgs__llog_8c_source.html#l00294">mgs_free_fsdb_srpc()</a>, <a class="el" href="mgs__nids_8c_source.html#l00487">mgs_ir_fini_fs()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00414">mgs_cleanup_fsdb_list()</a>, <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>.</p>

</div>
</div>
<a class="anchor" id="adc970af7c463e14cf12abb44012631fe"></a><!-- doxytag: member="mgs_llog.c::mgs_free_fsdb_srpc" ref="adc970af7c463e14cf12abb44012631fe" args="(struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mgs_free_fsdb_srpc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00294">294</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__internal_8h_source.html#l00136">fs_db::fsdb_srpc_gen</a>, <a class="el" href="mgs__internal_8h_source.html#l00137">fs_db::fsdb_srpc_tgt</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mgs__internal_8h_source.html#l00108">mgs_tgt_srpc_conf::mtsc_next</a>, <a class="el" href="mgs__internal_8h_source.html#l00110">mgs_tgt_srpc_conf::mtsc_rset</a>, <a class="el" href="mgs__internal_8h_source.html#l00109">mgs_tgt_srpc_conf::mtsc_tgt</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="sec__config_8c_source.html#l00242">sptlrpc_rule_set_free()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a0e5a1ab713d1bc2a32e8c373b16cda2d"></a><!-- doxytag: member="mgs_llog.c::mgs_fsdb_handler" ref="a0e5a1ab713d1bc2a32e8c373b16cda2d" args="(const struct lu_env *env, struct llog_handle *llh, struct llog_rec_hdr *rec, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_fsdb_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>figure out the old config. fsdb_gen = 0 means old log It is obsoleted and not supported anymore</p>
</p>

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00161">161</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03013">cfg_marker::cm_step</a>, <a class="el" href="lustre__idl_8h_source.html#l03015">cfg_marker::cm_vers</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__llog_8c_source.html#l00150">mgs_fsdb_handler_data::fsdb</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00133">fs_db::fsdb_gen</a>, <a class="el" href="mgs__internal_8h_source.html#l00129">fs_db::fsdb_mdt_count</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00119">FSDB_OSCNAME18</a>, <a class="el" href="mgs__internal_8h_source.html#l00127">fs_db::fsdb_ost_index_map</a>, <a class="el" href="lustre__cfg_8h_source.html#l00072">LCFG_ATTACH</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00084">LCFG_LOV_ADD_OBD</a>, <a class="el" href="lustre__cfg_8h_source.html#l00085">LCFG_LOV_DEL_OBD</a>, <a class="el" href="lustre__cfg_8h_source.html#l00087">LCFG_MARKER</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="lustre__cfg_8h_source.html#l00182">lustre_cfg_buf()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00299">lustre_cfg_sanity_check()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="obd_8h_source.html#l00460">LUSTRE_MDC_NAME</a>, <a class="el" href="obd_8h_source.html#l00463">LUSTRE_OSC_NAME</a>, <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, <a class="el" href="packet-lustre_8c_source.html#l00345">OBD_CFG_REC</a>, <a class="el" href="lustre__ver_8h_source.html#l00018">OBD_OCD_VERSION_MAJOR</a>, <a class="el" href="lustre__ver_8h_source.html#l00019">OBD_OCD_VERSION_MINOR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="obd__mount_8c_source.html#l00790">server_name2index()</a>, and <a class="el" href="mgs__llog_8c_source.html#l00151">mgs_fsdb_handler_data::ver</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>.</p>

</div>
</div>
<a class="anchor" id="a7227f60faa9e7fa6db8209eea6de58e7"></a><!-- doxytag: member="mgs_llog.c::mgs_get_fsdb_from_llog" ref="a7227f60faa9e7fa6db8209eea6de58e7" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_get_fsdb_from_llog </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00254">254</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00115">FSDB_LOG_EMPTY</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__log_8h_source.html#l00360">llog_get_size()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>, <a class="el" href="llog_8c_source.html#l00687">llog_process()</a>, <a class="el" href="mgs__llog_8c_source.html#l00161">mgs_fsdb_handler()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a3df6f9335897c02496fd461a589dd8a8"></a><!-- doxytag: member="mgs_llog.c::mgs_get_fsdb_srpc_from_llog" ref="a3df6f9335897c02496fd461a589dd8a8" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_get_fsdb_srpc_from_llog </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03199">3199</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__log_8h_source.html#l00360">llog_get_size()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog_8c_source.html#l00687">llog_process()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l03136">mgs_srpc_read_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l03132">mgs_srpc_read_data::msrd_fsdb</a>, <a class="el" href="mgs__llog_8c_source.html#l03133">mgs_srpc_read_data::msrd_skip</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c9e2484ce204edeb5dc7185831719a1"></a><!-- doxytag: member="mgs_llog.c::mgs_init_fsdb_list" ref="a5c9e2484ce204edeb5dc7185831719a1" args="(struct mgs_device *mgs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_init_fsdb_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00408">408</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, and <a class="el" href="mgs__internal_8h_source.html#l00168">mgs_device::mgs_fs_db_list</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ce5801b186fc109148b67f3ab22a094"></a><!-- doxytag: member="mgs_llog.c::mgs_list_logs" ref="a5ce5801b186fc109148b67f3ab22a094" args="(const struct lu_env *env, struct mgs_device *mgs, struct obd_ioctl_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_list_logs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__ioctl__data.html">obd_ioctl_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03868">3868</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__llog_8c_source.html#l00059">class_dentry_readdir()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00115">obd_ioctl_data::ioc_bulk</a>, <a class="el" href="lustre__ioctl_8h_source.html#l00106">obd_ioctl_data::ioc_inllen1</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="mgs__internal_8h_source.html#l00376">mgs_direntry::mde_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00377">mgs_direntry::mde_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00381">mgs_direntry_free()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="a4fd131c2abcee6532f4fbac054a140e3"></a><!-- doxytag: member="mgs_llog.c::mgs_log_is_empty" ref="a4fd131c2abcee6532f4fbac054a140e3" args="(const struct lu_env *env, struct mgs_device *mgs, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_log_is_empty </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00994">994</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="llog_8c_source.html#l01150">llog_is_empty()</a>, and <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03690">mgs_check_failnid()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d54903444e4299d23768fffe9078b04"></a><!-- doxytag: member="mgs_llog.c::mgs_modify" ref="a2d54903444e4299d23768fffe9078b04" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *logname, char *devname, char *comment, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_modify </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Modify an existing config log record (for CM_SKIP or CM_EXCLUDE) Return code: 0 - modified successfully, 1 - no modification was done negative - error. </p>

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00662">662</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="lustre__idl_8h_source.html#l03018">cfg_marker::cm_canceltime</a>, <a class="el" href="lustre__idl_8h_source.html#l03020">cfg_marker::cm_comment</a>, <a class="el" href="lustre__idl_8h_source.html#l03014">cfg_marker::cm_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03019">cfg_marker::cm_tgtname</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__log_8h_source.html#l00360">llog_get_size()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog_8c_source.html#l00687">llog_process()</a>, <a class="el" href="mgs__llog_8c_source.html#l00608">mgs_modify_handler()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l00604">mgs_modify_lookup::mml_marker</a>, <a class="el" href="mgs__llog_8c_source.html#l00605">mgs_modify_lookup::mml_modified</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l02709">mgs_wlp_lcfg()</a>, <a class="el" href="mgs__llog_8c_source.html#l01449">mgs_write_log_direct_all()</a>, <a class="el" href="mgs__llog_8c_source.html#l02597">mgs_write_log_failnid_internal()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="add88c31bf9734b1365eb96f7ec826220"></a><!-- doxytag: member="mgs_llog.c::mgs_modify_handler" ref="add88c31bf9734b1365eb96f7ec826220" args="(const struct lu_env *env, struct llog_handle *llh, struct llog_rec_hdr *rec, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_modify_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00608">608</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03018">cfg_marker::cm_canceltime</a>, <a class="el" href="lustre__idl_8h_source.html#l03020">cfg_marker::cm_comment</a>, <a class="el" href="lustre__idl_8h_source.html#l03009">CM_EXCLUDE</a>, <a class="el" href="lustre__idl_8h_source.html#l03014">cfg_marker::cm_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="lustre__idl_8h_source.html#l03013">cfg_marker::cm_step</a>, <a class="el" href="lustre__idl_8h_source.html#l03019">cfg_marker::cm_tgtname</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00087">LCFG_MARKER</a>, <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>, <a class="el" href="lustre__idl_8h_source.html#l03115">llog_rec_hdr::lrh_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="lustre__cfg_8h_source.html#l00182">lustre_cfg_buf()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00299">lustre_cfg_sanity_check()</a>, <a class="el" href="mgs__llog_8c_source.html#l00604">mgs_modify_lookup::mml_marker</a>, <a class="el" href="mgs__llog_8c_source.html#l00605">mgs_modify_lookup::mml_modified</a>, <a class="el" href="packet-lustre_8c_source.html#l00345">OBD_CFG_REC</a>, <a class="el" href="lustre__idl_8h_source.html#l03126">REC_DATA</a>, <a class="el" href="lustre__idl_8h_source.html#l03129">REC_DATA_LEN</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c345b2674ab07f32ca021d118a44a4b"></a><!-- doxytag: member="mgs_llog.c::mgs_new_fsdb" ref="a8c345b2674ab07f32ca021d118a44a4b" args="(const struct lu_env *env, struct mgs_device *mgs, char *fsname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structfs__db.html">fs_db</a>* mgs_new_fsdb </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00328">328</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00131">fs_db::fsdb_clilmv</a>, <a class="el" href="mgs__internal_8h_source.html#l00130">fs_db::fsdb_clilov</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00133">fs_db::fsdb_gen</a>, <a class="el" href="mgs__internal_8h_source.html#l00125">fs_db::fsdb_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00148">fs_db::fsdb_mgs</a>, <a class="el" href="mgs__internal_8h_source.html#l00118">FSDB_MGS_SELF</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00127">fs_db::fsdb_ost_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00120">FSDB_UDESC</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="mgs__internal_8h_source.html#l00268">lproc_mgs_add_live()</a>, <a class="el" href="mgs__internal_8h_source.html#l00168">mgs_device::mgs_fs_db_list</a>, <a class="el" href="mgs__nids_8c_source.html#l00455">mgs_ir_init_fs()</a>, <a class="el" href="mgs__internal_8h_source.html#l00046">MGSSELF_NAME</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e1cabd4707ace3138f62d12eb4a2882"></a><!-- doxytag: member="mgs_llog.c::mgs_nodemap_cmd" ref="a9e1cabd4707ace3138f62d12eb4a2882" args="(const struct lu_env *env, struct mgs_device *mgs, enum lcfg_command_type cmd, const char *nodemap_name, char *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_nodemap_cmd </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a>&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>nodemap_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l04102">4102</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__cfg_8h_source.html#l00103">LCFG_NODEMAP_ADD</a>, <a class="el" href="lustre__cfg_8h_source.html#l00109">LCFG_NODEMAP_ADD_GIDMAP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00105">LCFG_NODEMAP_ADD_RANGE</a>, <a class="el" href="lustre__cfg_8h_source.html#l00107">LCFG_NODEMAP_ADD_UIDMAP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00112">LCFG_NODEMAP_ADMIN</a>, <a class="el" href="lustre__cfg_8h_source.html#l00104">LCFG_NODEMAP_DEL</a>, <a class="el" href="lustre__cfg_8h_source.html#l00110">LCFG_NODEMAP_DEL_GIDMAP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00106">LCFG_NODEMAP_DEL_RANGE</a>, <a class="el" href="lustre__cfg_8h_source.html#l00108">LCFG_NODEMAP_DEL_UIDMAP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00115">LCFG_NODEMAP_SQUASH_GID</a>, <a class="el" href="lustre__cfg_8h_source.html#l00114">LCFG_NODEMAP_SQUASH_UID</a>, <a class="el" href="lustre__cfg_8h_source.html#l00113">LCFG_NODEMAP_TRUSTED</a>, <a class="el" href="nodemap__handler_8c_source.html#l01002">nodemap_add()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00416">nodemap_add_idmap()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00684">nodemap_add_range()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01033">nodemap_del()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00455">nodemap_del_idmap()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00716">nodemap_del_range()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00043">NODEMAP_GID</a>, <a class="el" href="nodemap__handler_8c_source.html#l00313">nodemap_parse_idmap()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00278">nodemap_parse_range()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00864">nodemap_set_allow_root()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00960">nodemap_set_squash_gid()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00927">nodemap_set_squash_uid()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00894">nodemap_set_trust_client_ids()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00042">NODEMAP_UID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00650">mgs_iocontrol_nodemap()</a>.</p>

</div>
</div>
<a class="anchor" id="a59e6d88b6c2181b2cb9696ed5cd7c406"></a><!-- doxytag: member="mgs_llog.c::mgs_param_empty" ref="a59e6d88b6c2181b2cb9696ed5cd7c406" args="(char *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static __inline__ int mgs_param_empty </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02588">2588</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02709">mgs_wlp_lcfg()</a>, <a class="el" href="mgs__llog_8c_source.html#l02597">mgs_write_log_failnid_internal()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02775">mgs_write_log_sys()</a>.</p>

</div>
</div>
<a class="anchor" id="a359aefa66a460606e71f68466cc4d89c"></a><!-- doxytag: member="mgs_llog.c::mgs_params_fsdb_cleanup" ref="a359aefa66a460606e71f68466cc4d89c" args="(const struct lu_env *env, struct mgs_device *mgs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_params_fsdb_cleanup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03961">3961</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__llog_8c_source.html#l03827">mgs_erase_logs()</a>, and <a class="el" href="obd__class_8h_source.html#l00190">PARAMS_FILENAME</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, and <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a9af54b176b554d2b46c5fc91edc7f464"></a><!-- doxytag: member="mgs_llog.c::mgs_params_fsdb_setup" ref="a9af54b176b554d2b46c5fc91edc7f464" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_params_fsdb_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03940">3940</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="obd__class_8h_source.html#l00190">PARAMS_FILENAME</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="a5fd256fee5af52839251d9089af54d71"></a><!-- doxytag: member="mgs_llog.c::mgs_parse_devname" ref="a5fd256fee5af52839251d9089af54d71" args="(char *devname, char *fsname, __u32 *index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_parse_devname </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parse device name and get file system name and/or device index. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>devname</em>&nbsp;</td><td>device name (ex. lustre-MDT0000) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>fsname</em>&nbsp;</td><td>file system name(optional) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>index</em>&nbsp;</td><td>device index(optional)</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01128">1128</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="obd__mount_8c_source.html#l00685">server_name2fsname()</a>, and <a class="el" href="obd__mount_8c_source.html#l00790">server_name2index()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01205">mgs_replace_nids()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>.</p>

</div>
</div>
<a class="anchor" id="abf3db90eed531fbfd6c06b3985c10a0d"></a><!-- doxytag: member="mgs_llog.c::mgs_pool_cmd" ref="abf3db90eed531fbfd6c06b3985c10a0d" args="(const struct lu_env *env, struct mgs_device *mgs, enum lcfg_command_type cmd, char *fsname, char *poolname, char *ostname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_pool_cmd </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a>&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>poolname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ostname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l04179">4179</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="obd__class_8h_source.html#l00183">CONFIG_T_CONFIG</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="mgs__internal_8h_source.html#l00130">fs_db::fsdb_clilov</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00115">FSDB_LOG_EMPTY</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="lustre__cfg_8h_source.html#l00095">LCFG_POOL_ADD</a>, <a class="el" href="lustre__cfg_8h_source.html#l00097">LCFG_POOL_DEL</a>, <a class="el" href="lustre__cfg_8h_source.html#l00094">LCFG_POOL_NEW</a>, <a class="el" href="lustre__cfg_8h_source.html#l00096">LCFG_POOL_REM</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__handler_8c_source.html#l00227">mgs_revoke_lock()</a>, <a class="el" href="mgs__llog_8c_source.html#l04076">mgs_write_log_pool()</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l02036">name_create_mdt_and_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00783">mgs_iocontrol_pool()</a>.</p>

</div>
</div>
<a class="anchor" id="a7fa1ade26a5bec48fe7ce831293b1686"></a><!-- doxytag: member="mgs_llog.c::mgs_replace_handler" ref="a7fa1ade26a5bec48fe7ce831293b1686" args="(const struct lu_env *env, struct llog_handle *llh, struct llog_rec_hdr *rec, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_replace_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handler that called for every record in llog. </p>
<p>Records are processed in order they placed in llog.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>llh</em>&nbsp;</td><td>log to be processed </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rec</em>&nbsp;</td><td>current record </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td><a class="el" href="structmgs__replace__uuid__lookup.html" title="This structure is passed to mgs_replace_handler.">mgs_replace_uuid_lookup</a> structure</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00929">929</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mgs__llog_8c_source.html#l00750">check_markers()</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="mgs__llog_8c_source.html#l00735">mgs_replace_uuid_lookup::device_nids_added</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__llog_8c_source.html#l00733">mgs_replace_uuid_lookup::in_target_device</a>, <a class="el" href="lustre__cfg_8h_source.html#l00082">LCFG_ADD_CONN</a>, <a class="el" href="lustre__cfg_8h_source.html#l00076">LCFG_ADD_UUID</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__log_8h_source.html#l00521">LLOG_NEXT_IDX</a>, <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>, <a class="el" href="lustre__idl_8h_source.html#l03115">llog_rec_hdr::lrh_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="lustre__cfg_8h_source.html#l00299">lustre_cfg_sanity_check()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="packet-lustre_8c_source.html#l00345">OBD_CFG_REC</a>, <a class="el" href="mgs__llog_8c_source.html#l00860">process_command()</a>, <a class="el" href="lustre__idl_8h_source.html#l03126">REC_DATA</a>, <a class="el" href="lustre__idl_8h_source.html#l03129">REC_DATA_LEN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="mgs__llog_8c_source.html#l00737">mgs_replace_uuid_lookup::skip_it</a>, and <a class="el" href="mgs__llog_8c_source.html#l00731">mgs_replace_uuid_lookup::temp_llh</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>.</p>

</div>
</div>
<a class="anchor" id="aab1054f700a85f1bf9c563bede07f3ac"></a><!-- doxytag: member="mgs_llog.c::mgs_replace_nids" ref="aab1054f700a85f1bf9c563bede07f3ac" args="(const struct lu_env *env, struct mgs_device *mgs, char *devname, char *nids)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_replace_nids </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>nids</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Replace nids for <em>device</em> to <em>nids</em> values. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obd</em>&nbsp;</td><td>MGS obd device </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>devname</em>&nbsp;</td><td>nids need to be replaced for this device (ex. lustre-OST0000) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nids</em>&nbsp;</td><td>nids list (ex. nid1,nid2,nid3)</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01205">1205</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l01128">mgs_parse_devname()</a>, <a class="el" href="mgs__llog_8c_source.html#l01008">mgs_replace_nids_log()</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l01187">name_create_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="obd_8h_source.html#l00644">obd_device::obd_dev_lock</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_no_conn</a>, <a class="el" href="mgs__llog_8c_source.html#l01156">only_mgs_is_running()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="a99893365208f9040199cf0b002d32727"></a><!-- doxytag: member="mgs_llog.c::mgs_replace_nids_log" ref="a99893365208f9040199cf0b002d32727" args="(const struct lu_env *env, struct obd_device *mgs, struct fs_db *fsdb, char *logname, char *devname, char *nids)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_replace_nids_log </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>nids</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01008">1008</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l01187">llog_backup()</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__log_8h_source.html#l00360">llog_get_size()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog_8c_source.html#l00687">llog_process()</a>, <a class="el" href="mgs__internal_8h_source.html#l00325">lu2mgs_dev()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l00929">mgs_replace_handler()</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>, <a class="el" href="mgs__llog_8c_source.html#l00729">mgs_replace_uuid_lookup::target</a>, <a class="el" href="mgs__llog_8c_source.html#l00731">mgs_replace_uuid_lookup::temp_llh</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01205">mgs_replace_nids()</a>.</p>

</div>
</div>
<a class="anchor" id="a4827ea55c49b5d3a00da4e9ea609a741"></a><!-- doxytag: member="mgs_llog.c::mgs_set_index" ref="a4827ea55c49b5d3a00da4e9ea609a741" args="(const struct lu_env *env, struct mgs_device *mgs, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_set_index </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00530">530</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00115">FSDB_LOG_EMPTY</a>, <a class="el" href="mgs__internal_8h_source.html#l00129">fs_db::fsdb_mdt_count</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="mgs__internal_8h_source.html#l00127">fs_db::fsdb_ost_index_map</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lustre__disk_8h_source.html#l00088">LDD_F_NEED_INDEX</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="lustre__disk_8h_source.html#l00090">LDD_F_VIRGIN</a>, <a class="el" href="lustre__disk_8h_source.html#l00096">LDD_F_WRITECONF</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l00515">next_index()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__disk_8h_source.html#l00193">server_make_name()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03723">mgs_write_log_target()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e5f5baf1f1daddf5d3cbe391f1b2463"></a><!-- doxytag: member="mgs_llog.c::mgs_setparam" ref="a2e5f5baf1f1daddf5d3cbe391f1b2463" args="(const struct lu_env *env, struct mgs_device *mgs, struct lustre_cfg *lcfg, char *fsname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_setparam </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03970">3970</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__class_8h_source.html#l00183">CONFIG_T_CONFIG</a>, <a class="el" href="obd__class_8h_source.html#l00186">CONFIG_T_PARAMS</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="llverdev_8c_source.html#l00112">devname</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00115">FSDB_LOG_EMPTY</a>, <a class="el" href="mgs__internal_8h_source.html#l00118">FSDB_MGS_SELF</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00101">LCFG_SET_PARAM</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lustre__disk_8h_source.html#l00100">LDD_F_PARAM</a>, <a class="el" href="lustre__disk_8h_source.html#l00108">LDD_F_PARAM2</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="mgs__llog_8c_source.html#l00428">mgs_find_or_make_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l01128">mgs_parse_devname()</a>, <a class="el" href="mgs__handler_8c_source.html#l00227">mgs_revoke_lock()</a>, <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>, <a class="el" href="mgs__llog_8c_source.html#l02758">mgs_write_log_param2()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__param_8h_source.html#l00113">PARAM_LLITE</a>, <a class="el" href="obd__class_8h_source.html#l00190">PARAMS_FILENAME</a>, <a class="el" href="mgs__llog_8c_source.html#l03902">print_lustre_cfg()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__disk_8h_source.html#l00193">server_make_name()</a>, <a class="el" href="obd__mount_8c_source.html#l00790">server_name2index()</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00865">mgs_iocontrol()</a>, and <a class="el" href="mgs__handler_8c_source.html#l00102">mgs_set_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a9c490da26c691213fc12bbf186b7384d"></a><!-- doxytag: member="mgs_llog.c::mgs_srpc_read_handler" ref="a9c490da26c691213fc12bbf186b7384d" args="(const struct lu_env *env, struct llog_handle *llh, struct llog_rec_hdr *rec, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_srpc_read_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03136">3136</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03014">cfg_marker::cm_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00087">LCFG_MARKER</a>, <a class="el" href="lustre__cfg_8h_source.html#l00093">LCFG_SPTLRPC_CONF</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="lustre__cfg_8h_source.html#l00182">lustre_cfg_buf()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00299">lustre_cfg_sanity_check()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="mgs__llog_8c_source.html#l02999">mgs_srpc_set_param_mem()</a>, <a class="el" href="mgs__llog_8c_source.html#l03132">mgs_srpc_read_data::msrd_fsdb</a>, <a class="el" href="mgs__llog_8c_source.html#l03133">mgs_srpc_read_data::msrd_skip</a>, <a class="el" href="packet-lustre_8c_source.html#l00345">OBD_CFG_REC</a>, <a class="el" href="lustre__idl_8h_source.html#l03126">REC_DATA</a>, <a class="el" href="lustre__idl_8h_source.html#l03129">REC_DATA_LEN</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>.</p>

</div>
</div>
<a class="anchor" id="ae59c22c1a3c5d4b1389be36f2e55f4df"></a><!-- doxytag: member="mgs_llog.c::mgs_srpc_set_param" ref="ae59c22c1a3c5d4b1389be36f2e55f4df" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_srpc_set_param </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03087">3087</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00118">FSDB_MGS_SELF</a>, <a class="el" href="mgs__internal_8h_source.html#l00136">fs_db::fsdb_srpc_gen</a>, <a class="el" href="mgs__internal_8h_source.html#l00137">fs_db::fsdb_srpc_tgt</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l02999">mgs_srpc_set_param_mem()</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="sec_8c_source.html#l01977">sptlrpc_target_update_exp_flavor()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="aac570db1c58f5adb806b97b1f7f68ee8"></a><!-- doxytag: member="mgs_llog.c::mgs_srpc_set_param_disk" ref="aac570db1c58f5adb806b97b1f7f68ee8" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_srpc_set_param_disk </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02899">2899</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00093">LCFG_SPTLRPC_CONF</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="obd__config_8c_source.html#l01438">lustre_cfg_rec_free()</a>, <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="mgs__internal_8h_source.html#l00294">mgs_thread_info::mgi_bufs</a>, <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l01419">mgs_write_log_direct()</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03087">mgs_srpc_set_param()</a>.</p>

</div>
</div>
<a class="anchor" id="a5eb9676dbfeb81bdbd5bb9ca087ef784"></a><!-- doxytag: member="mgs_llog.c::mgs_srpc_set_param_mem" ref="a5eb9676dbfeb81bdbd5bb9ca087ef784" args="(struct fs_db *fsdb, const char *svname, char *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_srpc_set_param_mem </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>svname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02999">2999</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00148">fs_db::fsdb_mgs</a>, <a class="el" href="mgs__internal_8h_source.html#l00118">FSDB_MGS_SELF</a>, <a class="el" href="mgs__internal_8h_source.html#l00136">fs_db::fsdb_srpc_gen</a>, <a class="el" href="mgs__internal_8h_source.html#l00137">fs_db::fsdb_srpc_tgt</a>, <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="lustre__sec_8h_source.html#l00319">LUSTRE_SP_MGC</a>, <a class="el" href="lustre__sec_8h_source.html#l00320">LUSTRE_SP_MGS</a>, <a class="el" href="lu__target_8h_source.html#l00132">lu_target::lut_sptlrpc_rset</a>, <a class="el" href="mgs__internal_8h_source.html#l00179">mgs_device::mgs_lut</a>, <a class="el" href="mgs__llog_8c_source.html#l02964">mgs_srpc_set_param_udesc_mem()</a>, <a class="el" href="mgs__internal_8h_source.html#l00046">MGSSELF_NAME</a>, <a class="el" href="mgs__internal_8h_source.html#l00108">mgs_tgt_srpc_conf::mtsc_next</a>, <a class="el" href="mgs__internal_8h_source.html#l00110">mgs_tgt_srpc_conf::mtsc_rset</a>, <a class="el" href="mgs__internal_8h_source.html#l00109">mgs_tgt_srpc_conf::mtsc_tgt</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__param_8h_source.html#l00118">PARAM_SRPC</a>, <a class="el" href="lustre__param_8h_source.html#l00119">PARAM_SRPC_FLVR</a>, <a class="el" href="lustre__param_8h_source.html#l00120">PARAM_SRPC_UDESC</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="sec__config_8c_source.html#l00186">sptlrpc_parse_rule()</a>, <a class="el" href="sec__config_8c_source.html#l00313">sptlrpc_rule_set_merge()</a>, <a class="el" href="lustre__sec_8h_source.html#l00333">sptlrpc_rule::sr_from</a>, and <a class="el" href="lustre__sec_8h_source.html#l00334">sptlrpc_rule::sr_to</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03136">mgs_srpc_read_handler()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03087">mgs_srpc_set_param()</a>.</p>

</div>
</div>
<a class="anchor" id="afc1fe279cbd8bd4f031e0f4e424f6727"></a><!-- doxytag: member="mgs_llog.c::mgs_srpc_set_param_udesc_mem" ref="afc1fe279cbd8bd4f031e0f4e424f6727" args="(struct fs_db *fsdb, char *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_srpc_set_param_udesc_mem </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02964">2964</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00120">FSDB_UDESC</a>, and <a class="el" href="lustre__param_8h_source.html#l00120">PARAM_SRPC_UDESC</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02999">mgs_srpc_set_param_mem()</a>.</p>

</div>
</div>
<a class="anchor" id="ac46465dcb9d3fc3e7cea75f115dd85c4"></a><!-- doxytag: member="mgs_llog.c::mgs_steal_client_llog_handler" ref="ac46465dcb9d3fc3e7cea75f115dd85c4" args="(const struct lu_env *env, struct llog_handle *llh, struct llog_rec_hdr *rec, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_steal_client_llog_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Walk through client config log record and convert the related records into the target. </p>

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01541">1541</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="mgs__llog_8c_source.html#l01519">add_param()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03020">cfg_marker::cm_comment</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03014">cfg_marker::cm_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="lustre__idl_8h_source.html#l03013">cfg_marker::cm_step</a>, <a class="el" href="lustre__idl_8h_source.html#l03019">cfg_marker::cm_tgtname</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00091">LCFG_ADD_MDC</a>, <a class="el" href="lustre__cfg_8h_source.html#l00076">LCFG_ADD_UUID</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00084">LCFG_LOV_ADD_OBD</a>, <a class="el" href="lustre__cfg_8h_source.html#l00087">LCFG_MARKER</a>, <a class="el" href="lustre__cfg_8h_source.html#l00134">lustre_cfg::lcfg_nid</a>, <a class="el" href="lustre__cfg_8h_source.html#l00074">LCFG_SETUP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00093">LCFG_SPTLRPC_CONF</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01127">libcfs_nid2str_r()</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l03114">llog_rec_hdr::lrh_len</a>, <a class="el" href="lustre__idl_8h_source.html#l03116">llog_rec_hdr::lrh_type</a>, <a class="el" href="mgs__internal_8h_source.html#l00325">lu2mgs_dev()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00182">lustre_cfg_buf()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00299">lustre_cfg_sanity_check()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="lustre__sec_8h_source.html#l00317">LUSTRE_SP_MDT</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02967">mgs_target_info::mti_nid_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02972">mgs_target_info::mti_nids</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="lustre__idl_8h_source.html#l02971">mgs_target_info::mti_uuid</a>, <a class="el" href="mgs__llog_8c_source.html#l02036">name_create_mdt_and_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="packet-lustre_8c_source.html#l00345">OBD_CFG_REC</a>, <a class="el" href="obd_8h_source.html#l00595">obd_device::obd_lu_dev</a>, <a class="el" href="lustre__param_8h_source.html#l00099">PARAM_FAILNODE</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01725">mgs_steal_llog_for_mdt_from_client()</a>.</p>

</div>
</div>
<a class="anchor" id="a050e95f4c530b614b74af712474418f2"></a><!-- doxytag: member="mgs_llog.c::mgs_steal_llog_for_mdt_from_client" ref="a050e95f4c530b614b74af712474418f2" args="(const struct lu_env *env, struct mgs_device *mgs, char *client_name, struct temp_comp *comp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_steal_llog_for_mdt_from_client </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>client_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtemp__comp.html">temp_comp</a> *&nbsp;</td>
          <td class="paramname"> <em>comp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01725">1725</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__internal_8h_source.html#l00290">temp_comp::comp_obd</a>, <a class="el" href="mgs__internal_8h_source.html#l00287">temp_comp::comp_tmti</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog_8c_source.html#l00640">llog_process_or_fork()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>.</p>

</div>
</div>
<a class="anchor" id="a752ef7f5715de36c9d77166d8d43cd7a"></a><!-- doxytag: member="mgs_llog.c::mgs_wlp_lcfg" ref="a752ef7f5715de36c9d77166d8d43cd7a" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *logname, struct lustre_cfg_bufs *bufs, char *tgtname, char *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_wlp_lcfg </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg__bufs.html">lustre_cfg_bufs</a> *&nbsp;</td>
          <td class="paramname"> <em>bufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tgtname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02709">2709</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="lustre__cfg_8h_source.html#l00086">LCFG_PARAM</a>, <a class="el" href="lustre__cfg_8h_source.html#l00101">LCFG_SET_PARAM</a>, <a class="el" href="libcfs__debug_8h_source.html#l00283">LCONSOLE_INFO</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="obd__class_8h_source.html#l00191">LCTL_UPCALL</a>, <a class="el" href="lustre__disk_8h_source.html#l00108">LDD_F_PARAM2</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="obd__config_8c_source.html#l01438">lustre_cfg_rec_free()</a>, <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l02588">mgs_param_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l01419">mgs_write_log_direct()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, and <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02758">mgs_write_log_param2()</a>.</p>

</div>
</div>
<a class="anchor" id="a212b4c948f2c343a365bc5d25a3f3178"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_add_failnid" ref="a212b4c948f2c343a365bc5d25a3f3178" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_add_failnid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02637">2637</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l02597">mgs_write_log_failnid_internal()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l01187">name_create_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02056">name_create_mdt_osc()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03690">mgs_check_failnid()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="adeacabda9b9b0da7215217677b9aa0ca"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_direct" ref="adeacabda9b9b0da7215217677b9aa0ca" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, char *logname, struct llog_cfg_rec *lcr, char *devname, char *comment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_direct </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__cfg__rec.html">llog_cfg_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>lcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>comment</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01419">1419</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__log_8h_source.html#l00512">llog_cfg_rec::lcr_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00521">LLOG_NEXT_IDX</a>, <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l02709">mgs_wlp_lcfg()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01449">mgs_write_log_direct_all()</a>.</p>

</div>
</div>
<a class="anchor" id="a65114e825c8b07d4d927a732f5372088"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_direct_all" ref="a65114e825c8b07d4d927a732f5372088" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, struct llog_cfg_rec *lcr, char *devname, char *comment, int server_only)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_direct_all </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__cfg__rec.html">llog_cfg_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>lcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>server_only</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01449">1449</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mgs__llog_8c_source.html#l00059">class_dentry_readdir()</a>, <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="mgs__internal_8h_source.html#l00376">mgs_direntry::mde_list</a>, <a class="el" href="mgs__internal_8h_source.html#l00377">mgs_direntry::mde_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00381">mgs_direntry_free()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="mgs__llog_8c_source.html#l01419">mgs_write_log_direct()</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02846">mgs_write_log_quota()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02775">mgs_write_log_sys()</a>.</p>

</div>
</div>
<a class="anchor" id="a12e7611ab3403a29d1fe6a8445119521"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_failnid_internal" ref="a12e7611ab3403a29d1fe6a8445119521" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *logname, char *cliname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_failnid_internal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>cliname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02597">2597</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l02588">mgs_param_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l01879">mgs_write_log_failnids()</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5cf8b46ca3bd099c4d4e6501d746b25"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_failnids" ref="ad5cf8b46ca3bd099c4d4e6501d746b25" args="(const struct lu_env *env, struct mgs_target_info *mti, struct llog_handle *llh, char *cliname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_failnids </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>cliname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01879">1879</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd__config_8c_source.html#l00063">class_find_param()</a>, <a class="el" href="obd__config_8c_source.html#l00275">class_parse_nid()</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01127">libcfs_nid2str_r()</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="lustre__param_8h_source.html#l00099">PARAM_FAILNODE</a>, <a class="el" href="mgs__llog_8c_source.html#l00832">record_add_conn()</a>, and <a class="el" href="mgs__llog_8c_source.html#l00824">record_add_uuid()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02597">mgs_write_log_failnid_internal()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>.</p>

</div>
</div>
<a class="anchor" id="a83a744f3c496b448a3e07690130fe932"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_lmv" ref="a83a744f3c496b448a3e07690130fe932" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *logname, char *lmvname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_lmv </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lmvname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01773">1773</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l02563">lmv_desc::ld_active_tgt_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02562">lmv_desc::ld_tgt_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02572">lmv_desc::ld_uuid</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="mgs__llog_8c_source.html#l00840">record_attach()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01290">record_lmv_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>, and <a class="el" href="llog__test_8c_source.html#l00057">uuid</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>.</p>

</div>
</div>
<a class="anchor" id="a496e492f43972dcb1d9ae41934a872ac"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_lov" ref="a496e492f43972dcb1d9ae41934a872ac" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *logname, char *lovname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_lov </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lovname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01818">1818</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l02749">lov_desc::ld_default_stripe_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02752">lov_desc::ld_default_stripe_offset</a>, <a class="el" href="lustre__idl_8h_source.html#l02751">lov_desc::ld_default_stripe_size</a>, <a class="el" href="lustre__idl_8h_source.html#l02750">lov_desc::ld_pattern</a>, <a class="el" href="lustre__idl_8h_source.html#l02754">lov_desc::ld_qos_maxage</a>, <a class="el" href="lustre__idl_8h_source.html#l02747">lov_desc::ld_tgt_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02757">lov_desc::ld_uuid</a>, <a class="el" href="lustre__idl_8h_source.html#l02741">LOV_DESC_MAGIC</a>, <a class="el" href="lustre__idl_8h_source.html#l02742">LOV_DESC_QOS_MAXAGE_DEFAULT</a>, <a class="el" href="lustre__idl_8h_source.html#l02743">LOV_DESC_STRIPE_SIZE_DEFAULT</a>, <a class="el" href="lustre__user_8h_source.html#l00345">LOV_PATTERN_RAID0</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="mgs__llog_8c_source.html#l00840">record_attach()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01272">record_lov_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>, and <a class="el" href="llog__test_8c_source.html#l00057">uuid</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>.</p>

</div>
</div>
<a class="anchor" id="a81581231fdcb9793dd8ca914a215e7e3"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_mdc_to_lmv" ref="a81581231fdcb9793dd8ca914a215e7e3" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *logname, char *lmvname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_mdc_to_lmv </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lmvname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01942">1942</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01127">libcfs_nid2str_r()</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="obd_8h_source.html#l00460">LUSTRE_MDC_NAME</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l01879">mgs_write_log_failnids()</a>, <a class="el" href="lustre__idl_8h_source.html#l02967">mgs_target_info::mti_nid_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02972">mgs_target_info::mti_nids</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="lustre__idl_8h_source.html#l02971">mgs_target_info::mti_uuid</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="mgs__llog_8c_source.html#l00824">record_add_uuid()</a>, <a class="el" href="mgs__llog_8c_source.html#l00840">record_attach()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l01308">record_mdc_add()</a>, <a class="el" href="mgs__llog_8c_source.html#l00848">record_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0b1449bb3bcb752bdfbe91d9846c526"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_mdt" ref="ae0b1449bb3bcb752bdfbe91d9846c526" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_mdt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02247">2247</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="mgs__internal_8h_source.html#l00289">temp_comp::comp_fsdb</a>, <a class="el" href="mgs__internal_8h_source.html#l00288">temp_comp::comp_mti</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00131">fs_db::fsdb_clilmv</a>, <a class="el" href="mgs__internal_8h_source.html#l00130">fs_db::fsdb_clilov</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="mgs__internal_8h_source.html#l00297">mgs_thread_info::mgi_comp</a>, <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l01725">mgs_steal_llog_for_mdt_from_client()</a>, <a class="el" href="mgs__llog_8c_source.html#l01773">mgs_write_log_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l01818">mgs_write_log_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="lustre__idl_8h_source.html#l02971">mgs_target_info::mti_uuid</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l01187">name_create_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l01327">record_mount_opt()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03723">mgs_write_log_target()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b40d12aad9b52d576c7ef48923cede0"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_mdt0" ref="a3b40d12aad9b52d576c7ef48923cede0" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_mdt0 </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02182">2182</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="obd__config_8c_source.html#l00063">class_find_param()</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="obd_8h_source.html#l00459">LUSTRE_MDT_NAME</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l01818">mgs_write_log_lov()</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__param_8h_source.html#l00100">PARAM_FAILMODE</a>, <a class="el" href="mgs__llog_8c_source.html#l00840">record_attach()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l01327">record_mount_opt()</a>, <a class="el" href="mgs__llog_8c_source.html#l00848">record_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="llog__test_8c_source.html#l00057">uuid</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>.</p>

</div>
</div>
<a class="anchor" id="ae535f981658a1ed312d5f013adc23342"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_osc_to_lov" ref="ae535f981658a1ed312d5f013adc23342" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *logname, char *suffix, char *lovname, enum lustre_sec_part sec_part, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_osc_to_lov </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>suffix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lovname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>sec_part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02353">2353</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00119">FSDB_OSCNAME18</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01127">libcfs_nid2str_r()</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="obd_8h_source.html#l00463">LUSTRE_OSC_NAME</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l01879">mgs_write_log_failnids()</a>, <a class="el" href="lustre__idl_8h_source.html#l02967">mgs_target_info::mti_nid_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02972">mgs_target_info::mti_nids</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="lustre__idl_8h_source.html#l02971">mgs_target_info::mti_uuid</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="mgs__llog_8c_source.html#l00824">record_add_uuid()</a>, <a class="el" href="mgs__llog_8c_source.html#l00840">record_attach()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01318">record_lov_add()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l00848">record_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>.</p>

</div>
</div>
<a class="anchor" id="a27c7e08fd1f503985fac59d9e8c87805"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_osp_to_mdt" ref="a27c7e08fd1f503985fac59d9e8c87805" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, int index, char *logname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_osp_to_mdt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02069">2069</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__cfg_8h_source.html#l00091">LCFG_ADD_MDC</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01127">libcfs_nid2str_r()</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="obd_8h_source.html#l00453">LUSTRE_OSP_NAME</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l01879">mgs_write_log_failnids()</a>, <a class="el" href="lustre__idl_8h_source.html#l02967">mgs_target_info::mti_nid_count</a>, <a class="el" href="lustre__idl_8h_source.html#l02972">mgs_target_info::mti_nids</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="lustre__idl_8h_source.html#l02971">mgs_target_info::mti_uuid</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l02026">name_create_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l01187">name_create_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="mgs__llog_8c_source.html#l00824">record_add_uuid()</a>, <a class="el" href="mgs__llog_8c_source.html#l00840">record_attach()</a>, <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l00848">record_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>.</p>

</div>
</div>
<a class="anchor" id="a12f0e52979f6fa3509a57d45af15b494"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_ost" ref="a12f0e52979f6fa3509a57d45af15b494" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_ost </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02469">2469</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd__config_8c_source.html#l00063">class_find_param()</a>, <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03007">CM_SKIP</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="lustre__idl_8h_source.html#l03008">CM_UPGRADE146</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00131">fs_db::fsdb_clilmv</a>, <a class="el" href="mgs__internal_8h_source.html#l00130">fs_db::fsdb_clilov</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00116">FSDB_OLDLOG14</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00284">LCONSOLE_WARN</a>, <a class="el" href="lustre__disk_8h_source.html#l00092">LDD_F_UPDATE</a>, <a class="el" href="lustre__sec_8h_source.html#l00316">LUSTRE_SP_CLI</a>, <a class="el" href="lustre__sec_8h_source.html#l00317">LUSTRE_SP_MDT</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l01773">mgs_write_log_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l01818">mgs_write_log_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="lustre__idl_8h_source.html#l02971">mgs_target_info::mti_uuid</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l02036">name_create_mdt_and_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="lustre__param_8h_source.html#l00100">PARAM_FAILMODE</a>, <a class="el" href="mgs__llog_8c_source.html#l00840">record_attach()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, <a class="el" href="mgs__llog_8c_source.html#l00848">record_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03723">mgs_write_log_target()</a>.</p>

</div>
</div>
<a class="anchor" id="a06ce043d38d0bcba091c7856449f0c3b"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_param" ref="a06ce043d38d0bcba091c7856449f0c3b" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_param </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03258">3258</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__config_8c_source.html#l00190">class_match_param()</a>, <a class="el" href="lustre__idl_8h_source.html#l03009">CM_EXCLUDE</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00130">fs_db::fsdb_clilov</a>, <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00128">fs_db::fsdb_mdt_index_map</a>, <a class="el" href="mgs__internal_8h_source.html#l00116">FSDB_OLDLOG14</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="mgs__internal_8h_source.html#l00113">INDEX_MAP_SIZE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00287">LCONSOLE_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00284">LCONSOLE_WARN</a>, <a class="el" href="lustre__disk_8h_source.html#l00100">LDD_F_PARAM</a>, <a class="el" href="lustre__disk_8h_source.html#l00086">LDD_F_SV_ALL</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="mgs__internal_8h_source.html#l00294">mgs_thread_info::mgi_bufs</a>, <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>, <a class="el" href="mgs__llog_8c_source.html#l00994">mgs_log_is_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l00662">mgs_modify()</a>, <a class="el" href="mgs__llog_8c_source.html#l03087">mgs_srpc_set_param()</a>, <a class="el" href="mgs__llog_8c_source.html#l02709">mgs_wlp_lcfg()</a>, <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>, <a class="el" href="mgs__llog_8c_source.html#l02846">mgs_write_log_quota()</a>, <a class="el" href="mgs__llog_8c_source.html#l02775">mgs_write_log_sys()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l01187">name_create_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02036">name_create_mdt_and_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02056">name_create_mdt_osc()</a>, <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>, <a class="el" href="lustre__param_8h_source.html#l00101">PARAM_ACTIVE</a>, <a class="el" href="lustre__param_8h_source.html#l00100">PARAM_FAILMODE</a>, <a class="el" href="lustre__param_8h_source.html#l00099">PARAM_FAILNODE</a>, <a class="el" href="lustre__param_8h_source.html#l00113">PARAM_LLITE</a>, <a class="el" href="lustre__param_8h_source.html#l00114">PARAM_LOV</a>, <a class="el" href="lustre__param_8h_source.html#l00112">PARAM_MDC</a>, <a class="el" href="lustre__param_8h_source.html#l00111">PARAM_MDD</a>, <a class="el" href="lustre__param_8h_source.html#l00109">PARAM_MDT</a>, <a class="el" href="lustre__param_8h_source.html#l00098">PARAM_MGSNODE</a>, <a class="el" href="lustre__param_8h_source.html#l00102">PARAM_NETWORK</a>, <a class="el" href="lustre__param_8h_source.html#l00108">PARAM_OSC</a>, <a class="el" href="lustre__param_8h_source.html#l00107">PARAM_OSD</a>, <a class="el" href="lustre__param_8h_source.html#l00116">PARAM_OSP</a>, <a class="el" href="lustre__param_8h_source.html#l00106">PARAM_OST</a>, <a class="el" href="lustre__param_8h_source.html#l00122">PARAM_QUOTA</a>, <a class="el" href="lustre__param_8h_source.html#l00118">PARAM_SRPC</a>, <a class="el" href="lustre__param_8h_source.html#l00117">PARAM_SYS</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="obd__mount_8c_source.html#l00790">server_name2index()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03723">mgs_write_log_target()</a>.</p>

</div>
</div>
<a class="anchor" id="a68f33b7f4fe0eafc42409eb1a090b031"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_param2" ref="a68f33b7f4fe0eafc42409eb1a090b031" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_param2 </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02758">2758</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__llog_8c_source.html#l02709">mgs_wlp_lcfg()</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="obd__class_8h_source.html#l00190">PARAMS_FILENAME</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>.</p>

</div>
</div>
<a class="anchor" id="adca61c1cc44e8580d41a0ff42d8e2c0c"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_pool" ref="adca61c1cc44e8580d41a0ff42d8e2c0c" args="(const struct lu_env *env, struct mgs_device *mgs, char *logname, struct fs_db *fsdb, char *tgtname, enum lcfg_command_type cmd, char *fsname, char *poolname, char *ostname, char *comment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_pool </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tgtname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cfg.html#ga980511536826a6f5df2877e44c9af68b">lcfg_command_type</a>&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>poolname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>comment</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l04076">4076</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l03006">CM_END</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>, <a class="el" href="mgs__llog_8c_source.html#l01406">record_end_log()</a>, <a class="el" href="mgs__llog_8c_source.html#l01336">record_marker()</a>, and <a class="el" href="mgs__llog_8c_source.html#l01373">record_start_log()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f41403e77de82a81fefdf57b915e7f1"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_quota" ref="a1f41403e77de82a81fefdf57b915e7f1" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *quota, char *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_quota </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>quota</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02846">2846</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__config_8c_source.html#l00190">class_match_param()</a>, <a class="el" href="mdsrate_8c_source.html#l00115">cmd</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="lustre__cfg_8h_source.html#l00086">LCFG_PARAM</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="obd__config_8c_source.html#l01438">lustre_cfg_rec_free()</a>, <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="mgs__internal_8h_source.html#l00294">mgs_thread_info::mgi_bufs</a>, <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>, <a class="el" href="mgs__llog_8c_source.html#l01449">mgs_write_log_direct_all()</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="lustre__quota_8h_source.html#l00074">QUOTA_DATAPOOL_NAME</a>, and <a class="el" href="lustre__quota_8h_source.html#l00073">QUOTA_METAPOOL_NAME</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="a58fcc3bfd259228382f70b5a9eb1feb3"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_sys" ref="a58fcc3bfd259228382f70b5a9eb1feb3" args="(const struct lu_env *env, struct mgs_device *mgs, struct fs_db *fsdb, struct mgs_target_info *mti, char *sys, char *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mgs_write_log_sys </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02775">2775</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd__config_8c_source.html#l00190">class_match_param()</a>, <a class="el" href="obd__config_8c_source.html#l01142">class_process_config()</a>, <a class="el" href="mdsrate_8c_source.html#l00115">cmd</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="lustre__cfg_8h_source.html#l00132">lustre_cfg::lcfg_num</a>, <a class="el" href="lustre__cfg_8h_source.html#l00086">LCFG_PARAM</a>, <a class="el" href="lustre__cfg_8h_source.html#l00098">LCFG_SET_LDLM_TIMEOUT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00080">LCFG_SET_TIMEOUT</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="lustre__log_8h_source.html#l00513">llog_cfg_rec::lcr_cfg</a>, <a class="el" href="class__obd_8c_source.html#l00085">ldlm_timeout</a>, <a class="el" href="class__obd_8c_source.html#l00089">ldlm_timeout_set</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="obd__config_8c_source.html#l01438">lustre_cfg_rec_free()</a>, <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="mgs__internal_8h_source.html#l00294">mgs_thread_info::mgi_bufs</a>, <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>, <a class="el" href="mgs__llog_8c_source.html#l02588">mgs_param_empty()</a>, <a class="el" href="mgs__llog_8c_source.html#l01449">mgs_write_log_direct_all()</a>, <a class="el" href="lustre__idl_8h_source.html#l02969">mgs_target_info::mti_fsname</a>, <a class="el" href="class__obd_8c_source.html#l00083">obd_timeout</a>, <a class="el" href="class__obd_8c_source.html#l00087">obd_timeout_set</a>, <a class="el" href="lustre__param_8h_source.html#l00095">PARAM_AT_EARLY_MARGIN</a>, <a class="el" href="lustre__param_8h_source.html#l00094">PARAM_AT_EXTRA</a>, <a class="el" href="lustre__param_8h_source.html#l00096">PARAM_AT_HISTORY</a>, <a class="el" href="lustre__param_8h_source.html#l00093">PARAM_AT_MAX</a>, <a class="el" href="lustre__param_8h_source.html#l00092">PARAM_AT_MIN</a>, <a class="el" href="lustre__param_8h_source.html#l00097">PARAM_JOBID_VAR</a>, <a class="el" href="lustre__param_8h_source.html#l00091">PARAM_LDLM_TIMEOUT</a>, and <a class="el" href="lustre__param_8h_source.html#l00090">PARAM_TIMEOUT</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a7b9bad6f6e196cb05763a3ffcbc314"></a><!-- doxytag: member="mgs_llog.c::mgs_write_log_target" ref="a8a7b9bad6f6e196cb05763a3ffcbc314" args="(const struct lu_env *env, struct mgs_device *mgs, struct mgs_target_info *mti, struct fs_db *fsdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mgs_write_log_target </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__target__info.html">mgs_target_info</a> *&nbsp;</td>
          <td class="paramname"> <em>mti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03723">3723</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__config_8c_source.html#l00137">class_get_next_param()</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="mgs__internal_8h_source.html#l00126">fs_db::fsdb_mutex</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00284">LCONSOLE_WARN</a>, <a class="el" href="lustre__disk_8h_source.html#l00100">LDD_F_PARAM</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="lustre__disk_8h_source.html#l00092">LDD_F_UPDATE</a>, <a class="el" href="lustre__disk_8h_source.html#l00098">LDD_F_UPGRADE14</a>, <a class="el" href="lustre__disk_8h_source.html#l00090">LDD_F_VIRGIN</a>, <a class="el" href="lustre__disk_8h_source.html#l00096">LDD_F_WRITECONF</a>, <a class="el" href="mgs__llog_8c_source.html#l00530">mgs_set_index()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>, <a class="el" href="lustre__idl_8h_source.html#l02966">mgs_target_info::mti_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02964">mgs_target_info::mti_stripe_index</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>.</p>

</div>
</div>
<a class="anchor" id="a57165ca42593799dbea2b2c42200d9e4"></a><!-- doxytag: member="mgs_llog.c::name_create" ref="a57165ca42593799dbea2b2c42200d9e4" args="(char **newname, char *prefix, char *suffix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int name_create </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>newname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>suffix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00131">131</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, <a class="el" href="mgs__llog_8c_source.html#l01205">mgs_replace_nids()</a>, <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>, <a class="el" href="mgs__llog_8c_source.html#l01879">mgs_write_log_failnids()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>, <a class="el" href="mgs__llog_8c_source.html#l02026">name_create_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l01187">name_create_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02036">name_create_mdt_and_lov()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02056">name_create_mdt_osc()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f32117d4c0bc8d1445a3d217a4e723b"></a><!-- doxytag: member="mgs_llog.c::name_create_lov" ref="a1f32117d4c0bc8d1445a3d217a4e723b" args="(char **lovname, char *mdtname, struct fs_db *fsdb, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int name_create_lov </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>lovname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mdtname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02026">2026</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00119">FSDB_OSCNAME18</a>, and <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>.</p>

</div>
</div>
<a class="anchor" id="ae182059b82de891540c6c3388cd9e7fb"></a><!-- doxytag: member="mgs_llog.c::name_create_mdt" ref="ae182059b82de891540c6c3388cd9e7fb" args="(char **logname, char *fsname, int i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int name_create_mdt </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fsname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01187">1187</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01205">mgs_replace_nids()</a>, <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02036">name_create_mdt_and_lov()</a>.</p>

</div>
</div>
<a class="anchor" id="ab53874f9ea1fd500f2a2ac0c3dc26b1f"></a><!-- doxytag: member="mgs_llog.c::name_create_mdt_and_lov" ref="ab53874f9ea1fd500f2a2ac0c3dc26b1f" args="(char **logname, char **lovname, struct fs_db *fsdb, int i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int name_create_mdt_and_lov </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>lovname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02036">2036</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00124">fs_db::fsdb_name</a>, <a class="el" href="mgs__internal_8h_source.html#l00119">FSDB_OSCNAME18</a>, <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>, <a class="el" href="mgs__llog_8c_source.html#l01187">name_create_mdt()</a>, and <a class="el" href="mgs__llog_8c_source.html#l00141">name_destroy()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c4e28ead02a0fb55bba9a73875212d2"></a><!-- doxytag: member="mgs_llog.c::name_create_mdt_osc" ref="a5c4e28ead02a0fb55bba9a73875212d2" args="(char **oscname, char *ostname, struct fs_db *fsdb, int i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int name_create_mdt_osc </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>oscname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l02056">2056</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="mgs__internal_8h_source.html#l00132">fs_db::fsdb_flags</a>, <a class="el" href="mgs__internal_8h_source.html#l00119">FSDB_OSCNAME18</a>, and <a class="el" href="mgs__llog_8c_source.html#l00131">name_create()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>.</p>

</div>
</div>
<a class="anchor" id="aba6bc8b6ca8748aa81f9e91dfda8577a"></a><!-- doxytag: member="mgs_llog.c::name_destroy" ref="aba6bc8b6ca8748aa81f9e91dfda8577a" args="(char **name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void name_destroy </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00141">141</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00387">mgs_free_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l00254">mgs_get_fsdb_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l03199">mgs_get_fsdb_srpc_from_llog()</a>, <a class="el" href="mgs__llog_8c_source.html#l00328">mgs_new_fsdb()</a>, <a class="el" href="mgs__llog_8c_source.html#l04179">mgs_pool_cmd()</a>, <a class="el" href="mgs__llog_8c_source.html#l01205">mgs_replace_nids()</a>, <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l02637">mgs_write_log_add_failnid()</a>, <a class="el" href="mgs__llog_8c_source.html#l01879">mgs_write_log_failnids()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, <a class="el" href="mgs__llog_8c_source.html#l03258">mgs_write_log_param()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02036">name_create_mdt_and_lov()</a>.</p>

</div>
</div>
<a class="anchor" id="af96f2d59dd70aa9f986ad4bc5d2f088a"></a><!-- doxytag: member="mgs_llog.c::next_index" ref="af96f2d59dd70aa9f986ad4bc5d2f088a" args="(void *index_map, int map_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static __inline__ int next_index </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>index_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>map_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00515">515</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00530">mgs_set_index()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a89af0c4be1b67ad4716471d6e51c4a"></a><!-- doxytag: member="mgs_llog.c::only_mgs_is_running" ref="a4a89af0c4be1b67ad4716471d6e51c4a" args="(struct obd_device *mgs_obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int only_mgs_is_running </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs_obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01156">1156</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="lustre__export_8h_source.html#l00215">obd_export::exp_nid_stats</a>, <a class="el" href="lustre__export_8h_source.html#l00195">obd_export::exp_obd_chain</a>, <a class="el" href="genops_8c_source.html#l00500">get_devices_count()</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__export_8h_source.html#l00133">nid_stat::nid</a>, <a class="el" href="lustre__idl_8h_source.html#l01209">OBD_CONNECT_MDS_MDS</a>, <a class="el" href="obd_8h_source.html#l00644">obd_device::obd_dev_lock</a>, <a class="el" href="obd_8h_source.html#l00634">obd_device::obd_exports</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, and <a class="el" href="obd_8h_source.html#l00655">obd_device::obd_self_export</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01205">mgs_replace_nids()</a>.</p>

</div>
</div>
<a class="anchor" id="a2bd8ed088f57d431d374b23976cd3bf7"></a><!-- doxytag: member="mgs_llog.c::print_lustre_cfg" ref="a2bd8ed088f57d431d374b23976cd3bf7" args="(struct lustre_cfg *lcfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void print_lustre_cfg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l03902">3902</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__cfg_8h_source.html#l00137">lustre_cfg::lcfg_bufcount</a>, <a class="el" href="lustre__cfg_8h_source.html#l00138">lustre_cfg::lcfg_buflens</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00133">lustre_cfg::lcfg_flags</a>, <a class="el" href="lustre__cfg_8h_source.html#l00134">lustre_cfg::lcfg_nid</a>, <a class="el" href="lustre__cfg_8h_source.html#l00132">lustre_cfg::lcfg_num</a>, <a class="el" href="lustre__cfg_8h_source.html#l00129">lustre_cfg::lcfg_version</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00060">LUSTRE_CFG_MAX_BUFCOUNT</a>, and <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>.</p>

<p>Referenced by <a class="el" href="llog__swab_8c_source.html#l00374">lustre_swab_lustre_cfg()</a>, and <a class="el" href="mgs__llog_8c_source.html#l03970">mgs_setparam()</a>.</p>

</div>
</div>
<a class="anchor" id="a6146e0d45cd562fbd41442aa06cfe531"></a><!-- doxytag: member="mgs_llog.c::process_command" ref="a6146e0d45cd562fbd41442aa06cfe531" args="(const struct lu_env *env, struct lustre_cfg *lcfg, struct mgs_replace_uuid_lookup *mrul)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int process_command </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__replace__uuid__lookup.html">mgs_replace_uuid_lookup</a> *&nbsp;</td>
          <td class="paramname"> <em>mrul</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>&lt;0</em>&nbsp;</td><td>record processing error </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>record is processed. No need copy original one. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>record is not processed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00860">860</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd__config_8c_source.html#l00275">class_parse_nid()</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="mgs__llog_8c_source.html#l00735">mgs_replace_uuid_lookup::device_nids_added</a>, <a class="el" href="lustre__cfg_8h_source.html#l00076">LCFG_ADD_UUID</a>, <a class="el" href="lustre__cfg_8h_source.html#l00130">lustre_cfg::lcfg_command</a>, <a class="el" href="lustre__cfg_8h_source.html#l00074">LCFG_SETUP</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="lustre__idl_8h_source.html#l02973">mgs_target_info::mti_params</a>, <a class="el" href="lustre__idl_8h_source.html#l02970">mgs_target_info::mti_svname</a>, <a class="el" href="mgs__llog_8c_source.html#l00824">record_add_uuid()</a>, <a class="el" href="mgs__llog_8c_source.html#l00848">record_setup()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="mgs__llog_8c_source.html#l00729">mgs_replace_uuid_lookup::target</a>, and <a class="el" href="mgs__llog_8c_source.html#l00731">mgs_replace_uuid_lookup::temp_llh</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00929">mgs_replace_handler()</a>.</p>

</div>
</div>
<a class="anchor" id="a105598b1239089709e709555f7ea1808"></a><!-- doxytag: member="mgs_llog.c::record_add_conn" ref="a105598b1239089709e709555f7ea1808" args="(const struct lu_env *env, struct llog_handle *llh, char *devname, char *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_add_conn </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00832">832</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00082">LCFG_ADD_CONN</a>, and <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01879">mgs_write_log_failnids()</a>.</p>

</div>
</div>
<a class="anchor" id="aad2bfaf71be35300acd2025092211717"></a><!-- doxytag: member="mgs_llog.c::record_add_uuid" ref="aad2bfaf71be35300acd2025092211717" args="(const struct lu_env *env, struct llog_handle *llh, uint64_t nid, char *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_add_uuid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00824">824</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00076">LCFG_ADD_UUID</a>, and <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01879">mgs_write_log_failnids()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, and <a class="el" href="mgs__llog_8c_source.html#l00860">process_command()</a>.</p>

</div>
</div>
<a class="anchor" id="ab094bc593256484b68268250cbfde1f7"></a><!-- doxytag: member="mgs_llog.c::record_attach" ref="ab094bc593256484b68268250cbfde1f7" args="(const struct lu_env *env, struct llog_handle *llh, char *devname, char *type, char *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_attach </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00840">840</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00072">LCFG_ATTACH</a>, and <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01773">mgs_write_log_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l01818">mgs_write_log_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>.</p>

</div>
</div>
<a class="anchor" id="a40fc6cf911a04c1aaf302fab8766c853"></a><!-- doxytag: member="mgs_llog.c::record_base" ref="a40fc6cf911a04c1aaf302fab8766c853" args="(const struct lu_env *env, struct llog_handle *llh, char *cfgname, lnet_nid_t nid, int cmd, char *s1, char *s2, char *s3, char *s4)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_base </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>cfgname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s4</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00787">787</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="mgs__handler_8c_source.html#l00044">D_MGS</a>, <a class="el" href="lustre__cfg_8h_source.html#l00134">lustre_cfg::lcfg_nid</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="lustre__log_8h_source.html#l00513">llog_cfg_rec::lcr_cfg</a>, <a class="el" href="lustre__log_8h_source.html#l00512">llog_cfg_rec::lcr_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00521">LLOG_NEXT_IDX</a>, <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00168">lustre_cfg_bufs_set_string()</a>, <a class="el" href="obd__config_8c_source.html#l01438">lustre_cfg_rec_free()</a>, <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="mgs__internal_8h_source.html#l00294">mgs_thread_info::mgi_bufs</a>, and <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l04076">mgs_write_log_pool()</a>, <a class="el" href="mgs__llog_8c_source.html#l00832">record_add_conn()</a>, <a class="el" href="mgs__llog_8c_source.html#l00824">record_add_uuid()</a>, <a class="el" href="mgs__llog_8c_source.html#l00840">record_attach()</a>, <a class="el" href="mgs__llog_8c_source.html#l01318">record_lov_add()</a>, <a class="el" href="mgs__llog_8c_source.html#l01308">record_mdc_add()</a>, <a class="el" href="mgs__llog_8c_source.html#l01327">record_mount_opt()</a>, and <a class="el" href="mgs__llog_8c_source.html#l00848">record_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a3e1a983dcc096ecb83a35a0258bd38aa"></a><!-- doxytag: member="mgs_llog.c::record_end_log" ref="a3e1a983dcc096ecb83a35a0258bd38aa" args="(const struct lu_env *env, struct llog_handle **llh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_end_log </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> **&nbsp;</td>
          <td class="paramname"> <em>llh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01406">1406</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03940">mgs_params_fsdb_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l01419">mgs_write_log_direct()</a>, <a class="el" href="mgs__llog_8c_source.html#l02597">mgs_write_log_failnid_internal()</a>, <a class="el" href="mgs__llog_8c_source.html#l01773">mgs_write_log_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l01818">mgs_write_log_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, and <a class="el" href="mgs__llog_8c_source.html#l04076">mgs_write_log_pool()</a>.</p>

</div>
</div>
<a class="anchor" id="a04157c46d7ea8b52286c66fa41a4293e"></a><!-- doxytag: member="mgs_llog.c::record_lmv_setup" ref="a04157c46d7ea8b52286c66fa41a4293e" args="(const struct lu_env *env, struct llog_handle *llh, char *devname, struct lmv_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_lmv_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlmv__desc.html">lmv_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01290">1290</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00074">LCFG_SETUP</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="lustre__log_8h_source.html#l00512">llog_cfg_rec::lcr_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00521">LLOG_NEXT_IDX</a>, <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00151">lustre_cfg_bufs_set()</a>, <a class="el" href="obd__config_8c_source.html#l01438">lustre_cfg_rec_free()</a>, <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="mgs__internal_8h_source.html#l00294">mgs_thread_info::mgi_bufs</a>, and <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01773">mgs_write_log_lmv()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7d3374a3c173cd9134355c1411ff42b"></a><!-- doxytag: member="mgs_llog.c::record_lov_add" ref="ac7d3374a3c173cd9134355c1411ff42b" args="(const struct lu_env *env, struct llog_handle *llh, char *lov_name, char *ost_uuid, char *index, char *gen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_lov_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lov_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ost_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>gen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01318">1318</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00084">LCFG_LOV_ADD_OBD</a>, and <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>.</p>

</div>
</div>
<a class="anchor" id="a0086cbd8d8d0865b64d01bd94d7d75da"></a><!-- doxytag: member="mgs_llog.c::record_lov_setup" ref="a0086cbd8d8d0865b64d01bd94d7d75da" args="(const struct lu_env *env, struct llog_handle *llh, char *devname, struct lov_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_lov_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlov__desc.html">lov_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01272">1272</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00074">LCFG_SETUP</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="lustre__log_8h_source.html#l00512">llog_cfg_rec::lcr_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00521">LLOG_NEXT_IDX</a>, <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00151">lustre_cfg_bufs_set()</a>, <a class="el" href="obd__config_8c_source.html#l01438">lustre_cfg_rec_free()</a>, <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="mgs__internal_8h_source.html#l00294">mgs_thread_info::mgi_bufs</a>, and <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01818">mgs_write_log_lov()</a>.</p>

</div>
</div>
<a class="anchor" id="ae49238517752897497cc19031b162712"></a><!-- doxytag: member="mgs_llog.c::record_marker" ref="ae49238517752897497cc19031b162712" args="(const struct lu_env *env, struct llog_handle *llh, struct fs_db *fsdb, __u32 flags, char *tgtname, char *comment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_marker </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfs__db.html">fs_db</a> *&nbsp;</td>
          <td class="paramname"> <em>fsdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tgtname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>comment</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01336">1336</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="lustre__idl_8h_source.html#l03018">cfg_marker::cm_canceltime</a>, <a class="el" href="lustre__idl_8h_source.html#l03020">cfg_marker::cm_comment</a>, <a class="el" href="lustre__idl_8h_source.html#l03017">cfg_marker::cm_createtime</a>, <a class="el" href="lustre__idl_8h_source.html#l03014">cfg_marker::cm_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03005">CM_START</a>, <a class="el" href="lustre__idl_8h_source.html#l03013">cfg_marker::cm_step</a>, <a class="el" href="lustre__idl_8h_source.html#l03019">cfg_marker::cm_tgtname</a>, <a class="el" href="lustre__idl_8h_source.html#l03015">cfg_marker::cm_vers</a>, <a class="el" href="mgs__internal_8h_source.html#l00133">fs_db::fsdb_gen</a>, <a class="el" href="lustre__cfg_8h_source.html#l00087">LCFG_MARKER</a>, <a class="el" href="llog__test_8c_source.html#l00950">lcr</a>, <a class="el" href="lustre__log_8h_source.html#l00512">llog_cfg_rec::lcr_hdr</a>, <a class="el" href="lustre__log_8h_source.html#l00521">LLOG_NEXT_IDX</a>, <a class="el" href="llog_8c_source.html#l01046">llog_write()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00175">lustre_cfg_bufs_reset()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00151">lustre_cfg_bufs_set()</a>, <a class="el" href="obd__config_8c_source.html#l01438">lustre_cfg_rec_free()</a>, <a class="el" href="obd__config_8c_source.html#l01414">lustre_cfg_rec_new()</a>, <a class="el" href="lustre__ver_8h_source.html#l00023">LUSTRE_VERSION_CODE</a>, <a class="el" href="mgs__internal_8h_source.html#l00294">mgs_thread_info::mgi_bufs</a>, <a class="el" href="mgs__internal_8h_source.html#l00296">mgs_thread_info::mgi_marker</a>, <a class="el" href="mgs__internal_8h_source.html#l00302">mgs_env_info()</a>, and <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l01419">mgs_write_log_direct()</a>, <a class="el" href="mgs__llog_8c_source.html#l02597">mgs_write_log_failnid_internal()</a>, <a class="el" href="mgs__llog_8c_source.html#l01773">mgs_write_log_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l01818">mgs_write_log_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, and <a class="el" href="mgs__llog_8c_source.html#l04076">mgs_write_log_pool()</a>.</p>

</div>
</div>
<a class="anchor" id="aa73ff4d2ea931a31462dbfe1c3d5221e"></a><!-- doxytag: member="mgs_llog.c::record_mdc_add" ref="aa73ff4d2ea931a31462dbfe1c3d5221e" args="(const struct lu_env *env, struct llog_handle *llh, char *logname, char *mdcuuid, char *mdtuuid, char *index, char *gen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_mdc_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>logname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mdcuuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mdtuuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>gen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01308">1308</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00091">LCFG_ADD_MDC</a>, and <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c3b633f744b060ea7736ca13c53b17f"></a><!-- doxytag: member="mgs_llog.c::record_mount_opt" ref="a5c3b633f744b060ea7736ca13c53b17f" args="(const struct lu_env *env, struct llog_handle *llh, char *profile, char *lov_name, char *mdc_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_mount_opt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>profile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lov_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mdc_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01327">1327</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00078">LCFG_MOUNTOPT</a>, and <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>.</p>

</div>
</div>
<a class="anchor" id="a31266ba74f23e56c9942c0a6e5e5d6ed"></a><!-- doxytag: member="mgs_llog.c::record_setup" ref="a31266ba74f23e56c9942c0a6e5e5d6ed" args="(const struct lu_env *env, struct llog_handle *llh, char *devname, char *s1, char *s2, char *s3, char *s4)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_setup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s4</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l00848">848</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="lustre__cfg_8h_source.html#l00074">LCFG_SETUP</a>, and <a class="el" href="mgs__llog_8c_source.html#l00787">record_base()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, and <a class="el" href="mgs__llog_8c_source.html#l00860">process_command()</a>.</p>

</div>
</div>
<a class="anchor" id="a97b7222d10b2f6150375c4f08f1c8a9d"></a><!-- doxytag: member="mgs_llog.c::record_start_log" ref="a97b7222d10b2f6150375c4f08f1c8a9d" args="(const struct lu_env *env, struct mgs_device *mgs, struct llog_handle **llh, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int record_start_log </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmgs__device.html">mgs_device</a> *&nbsp;</td>
          <td class="paramname"> <em>mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structllog__handle.html">llog_handle</a> **&nbsp;</td>
          <td class="paramname"> <em>llh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mgs__llog_8c_source.html#l01373">1373</a> of file <a class="el" href="mgs__llog_8c_source.html">mgs_llog.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llog_8c_source.html#l01120">llog_close()</a>, <a class="el" href="lustre__idl_8h_source.html#l03044">LLOG_CONFIG_ORIG_CTXT</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="llog_8c_source.html#l00963">llog_open_create()</a>, <a class="el" href="lustre__log_8h_source.html#l00310">llog_ctxt::loc_obd</a>, <a class="el" href="mgs__internal_8h_source.html#l00175">mgs_device::mgs_obd</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03940">mgs_params_fsdb_setup()</a>, <a class="el" href="mgs__llog_8c_source.html#l02899">mgs_srpc_set_param_disk()</a>, <a class="el" href="mgs__llog_8c_source.html#l01541">mgs_steal_client_llog_handler()</a>, <a class="el" href="mgs__llog_8c_source.html#l01419">mgs_write_log_direct()</a>, <a class="el" href="mgs__llog_8c_source.html#l02597">mgs_write_log_failnid_internal()</a>, <a class="el" href="mgs__llog_8c_source.html#l01773">mgs_write_log_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l01818">mgs_write_log_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l01942">mgs_write_log_mdc_to_lmv()</a>, <a class="el" href="mgs__llog_8c_source.html#l02247">mgs_write_log_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02182">mgs_write_log_mdt0()</a>, <a class="el" href="mgs__llog_8c_source.html#l02353">mgs_write_log_osc_to_lov()</a>, <a class="el" href="mgs__llog_8c_source.html#l02069">mgs_write_log_osp_to_mdt()</a>, <a class="el" href="mgs__llog_8c_source.html#l02469">mgs_write_log_ost()</a>, and <a class="el" href="mgs__llog_8c_source.html#l04076">mgs_write_log_pool()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
