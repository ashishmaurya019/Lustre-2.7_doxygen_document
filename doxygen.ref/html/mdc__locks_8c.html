<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/mdc/mdc_locks.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/mdc/mdc_locks.c File Reference</h1><code>#include &lt;linux/module.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd_8h_source.html">obd.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__fid_8h_source.html">lustre_fid.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__intent_8h_source.html">lustre_intent.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__mdc_8h_source.html">lustre_mdc.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__req__layout_8h_source.html">lustre_req_layout.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__swab_8h_source.html">lustre_swab.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="mdc__internal_8h_source.html">mdc_internal.h</a>&quot;</code><br/>

<p><a href="mdc__locks_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmdc__getattr__args.html">mdc_getattr_args</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_MDC</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mdc.html#ga627d4a077703417a194991de319199fd">it_open_error</a> (int phase, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a1dd0131fe32e93b4987d1cdcc9785228">mdc_set_lock_data</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *lockh, void *data, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *bits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a47437761a8e16e6705a99a42e2487b4e">mdc_lock_match</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> flags, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, enum <a class="el" href="group__lustreidl.html#ga5ced9a6707006817f5e2409b368f36b5">ldlm_type</a> type, union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#acc9b3f8c3a9d95167afef837d5e6697b">mdc_cancel_unused</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy, enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, enum <a class="el" href="group__LDLM.html#ga0b718c2d27bc15f43205e50e4da16ec9">ldlm_cancel_flags</a> flags, void *opaque)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a15c4734b2b5879b3a2da08e5009c133f">mdc_null_inode</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a573030826b479094e799123786391c2e">mdc_clear_replay_flag</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a58d104f42613fbf4c04980e952227d5a">mdc_realloc_openmsg</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structmdt__body.html">mdt_body</a> *body)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#aed05a0ebc3a3957976084dae04892715">mdc_intent_open_pack</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *op_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a0cc59643d3e08155b1eacb8ba4dfa0a4">mdc_intent_getxattr_pack</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *op_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a288c5ba65478fe71af96c42580986887">mdc_intent_unlink_pack</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *op_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#aed14e9b836114d188e60c396570fc1fb">mdc_intent_getattr_pack</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *op_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a4b99bd888c09ec2e4242273013125dfc">mdc_intent_layout_pack</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *unused)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a4edc70e64ec463249a18915dbf0863d5">mdc_enqueue_pack</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, int lvb_len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a8514cd18deaba01ca339094918f90b6c">mdc_finish_enqueue</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *einfo, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a27e00c79542dcd7e51436e63157fa239">mdc_enqueue</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *einfo, const union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *op_data, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> extra_lock_flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#afe6ec6bc3995a9ea501d5d5f25ad2584">mdc_finish_intent_lock</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *request, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *op_data, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a6214c67097161a905e8d6c117914caa0">mdc_revalidate_lock</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *bits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a8cbd244ae7d77f1c26da733850548475">mdc_intent_lock</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structmd__op__data.html">md_op_data</a> *op_data, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> **reqp, <a class="el" href="group__LDLM.html#gac111233b56bdf7a4767dcd7a2f15b378">ldlm_blocking_callback</a> cb_blocking, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> extra_lock_flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#a183f6f1e9b6219591577aa6296be0218">mdc_intent_getattr_async_interpret</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *args, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdc__locks_8c.html#ab304b7de76d5625ec9a34d757f363eb1">mdc_intent_getattr_async</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structmd__enqueue__info.html">md_enqueue_info</a> *minfo)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="mdc_locks.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_MDC</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00037">37</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="acc9b3f8c3a9d95167afef837d5e6697b"></a><!-- doxytag: member="mdc_locks.c::mdc_cancel_unused" ref="acc9b3f8c3a9d95167afef837d5e6697b" args="(struct obd_export *exp, const struct lu_fid *fid, union ldlm_policy_data *policy, enum ldlm_mode mode, enum ldlm_cancel_flags flags, void *opaque)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdc_cancel_unused </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__LDLM.html#ga0b718c2d27bc15f43205e50e4da16ec9">ldlm_cancel_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>opaque</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00156">156</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="ldlm__request_8c_source.html#l01971">ldlm_cli_cancel_unused_resource()</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a573030826b479094e799123786391c2e"></a><!-- doxytag: member="mdc_locks.c::mdc_clear_replay_flag" ref="a573030826b479094e799123786391c2e" args="(struct ptlrpc_request *req, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdc_clear_replay_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00196">196</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_replay</a>, and <a class="el" href="lustre__net_8h_source.html#l01034">ptlrpc_request::rq_transno</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>, <a class="el" href="mdc__locks_8c_source.html#l00523">mdc_finish_enqueue()</a>, and <a class="el" href="mdc__locks_8c_source.html#l01131">mdc_intent_getattr_async_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="a27e00c79542dcd7e51436e63157fa239"></a><!-- doxytag: member="mdc_locks.c::mdc_enqueue" ref="a27e00c79542dcd7e51436e63157fa239" args="(struct obd_export *exp, struct ldlm_enqueue_info *einfo, const union ldlm_policy_data *policy, struct lookup_intent *it, struct md_op_data *op_data, struct lustre_handle *lockh, __u64 extra_lock_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdc_enqueue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>einfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>op_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>extra_lock_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00724">724</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="lustre__export_8h_source.html#l00391">imp_connect_lvb_type()</a>, <a class="el" href="lustre__import_8h_source.html#l00237">obd_import::imp_generation</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="packet-lustre_8c_source.html#l00239">IT_GETXATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l02880">IT_LAYOUT</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="packet-lustre_8c_source.html#l00237">IT_LOOKUP</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="packet-lustre_8c_source.html#l00233">IT_OPEN</a>, <a class="el" href="packet-lustre_8c_source.html#l00235">IT_READDIR</a>, <a class="el" href="lustre__intent_8h_source.html#l00053">lookup_intent::it_request</a>, <a class="el" href="lustre__idl_8h_source.html#l02883">IT_SETXATTR</a>, <a class="el" href="packet-lustre_8c_source.html#l00238">IT_UNLINK</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="packet-lustre_8c_source.html#l00296">LCK_NL</a>, <a class="el" href="ldlm__request_8c_source.html#l00869">ldlm_cli_enqueue()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00082">LDLM_FL_HAS_INTENT</a>, <a class="el" href="packet-lustre_8c_source.html#l00300">LDLM_FLOCK</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="lustre__idl_8h_source.html#l02930">ldlm_reply::lock_policy_res2</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00649">LVB_T_LAYOUT</a>, <a class="el" href="mdc__locks_8c_source.html#l00196">mdc_clear_replay_flag()</a>, <a class="el" href="mdc__locks_8c_source.html#l00502">mdc_enqueue_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00523">mdc_finish_enqueue()</a>, <a class="el" href="lustre__mdc_8h_source.html#l00168">mdc_get_mod_rpc_slot()</a>, <a class="el" href="mdc__locks_8c_source.html#l00412">mdc_intent_getattr_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00328">mdc_intent_getxattr_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00462">mdc_intent_layout_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00238">mdc_intent_open_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00375">mdc_intent_unlink_pack()</a>, <a class="el" href="lustre__mdc_8h_source.html#l00180">mdc_put_mod_rpc_slot()</a>, <a class="el" href="lustre__idl_8h_source.html#l02081">MDS_INODELOCK_LAYOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="lustre__idl_8h_source.html#l02093">MDS_INODELOCK_XATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l02780">ldlm_res_id::name</a>, <a class="el" href="genops_8c_source.html#l01965">obd_get_request_slot()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="genops_8c_source.html#l02012">obd_put_request_slot()</a>, <a class="el" href="obd_8h_source.html#l00803">md_op_data::op_fid1</a>, <a class="el" href="obd_8h_source.html#l00804">md_op_data::op_fid2</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="lustre__net_8h_source.html#l02407">ptlrpc_status_ntoh()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01039">RMF_DLM_REP</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_generation_set</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01117">ptlrpc_request::rq_sent</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l01077">mdc_intent_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a4edc70e64ec463249a18915dbf0863d5"></a><!-- doxytag: member="mdc_locks.c::mdc_enqueue_pack" ref="a4edc70e64ec463249a18915dbf0863d5" args="(struct obd_export *exp, int lvb_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* mdc_enqueue_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lvb_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00502">502</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="ldlm__request_8c_source.html#l00829">ldlm_prep_enqueue_req()</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01049">RMF_DLM_LVB</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01441">RQF_LDLM_ENQUEUE</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a8514cd18deaba01ca339094918f90b6c"></a><!-- doxytag: member="mdc_locks.c::mdc_finish_enqueue" ref="a8514cd18deaba01ca339094918f90b6c" args="(struct obd_export *exp, struct ptlrpc_request *req, struct ldlm_enqueue_info *einfo, struct lookup_intent *it, struct lustre_handle *lockh, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdc_finish_enqueue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>einfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00523">523</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__export_8h_source.html#l00348">client_is_remote()</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="lustre__idl_8h_source.html#l02066">DISP_OPEN_OPEN</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l00078">ELDLM_LOCK_ABORTED</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__intent_8h_source.html#l00057">it_disposition()</a>, <a class="el" href="lustre__intent_8h_source.html#l00046">lookup_intent::it_disposition</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l02880">IT_LAYOUT</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="packet-lustre_8c_source.html#l00237">IT_LOOKUP</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="packet-lustre_8c_source.html#l00233">IT_OPEN</a>, <a class="el" href="mdc__locks_8c_source.html#l00058">it_open_error()</a>, <a class="el" href="lustre__intent_8h_source.html#l00053">lookup_intent::it_request</a>, <a class="el" href="lustre__intent_8h_source.html#l00047">lookup_intent::it_status</a>, <a class="el" href="packet-lustre_8c_source.html#l00238">IT_UNLINK</a>, <a class="el" href="lustre__dlm_8h_source.html#l00819">ldlm_lock::l_lvb_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00818">ldlm_lock::l_lvb_len</a>, <a class="el" href="lustre__dlm_8h_source.html#l00812">ldlm_lock::l_lvb_type</a>, <a class="el" href="lustre__dlm_8h_source.html#l00724">ldlm_lock::l_req_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01168">LDLM_DEBUG</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00370">LDLM_FL_BLOCKED_MASK</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00076">LDLM_FL_INTENT_ONLY</a>, <a class="el" href="lustre__idl_8h_source.html#l02933">ldlm_flags_to_wire</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00987">ldlm_has_layout()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00114">ldlm_it2str()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00717">ldlm_lock_addref()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="lustre__idl_8h_source.html#l02925">ldlm_reply::lock_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02907">ldlm_request::lock_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l02929">ldlm_reply::lock_policy_res1</a>, <a class="el" href="lustre__idl_8h_source.html#l02930">ldlm_reply::lock_policy_res2</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="pack__generic_8c_source.html#l01956">lustre_swab_mdt_remote_perm()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00649">LVB_T_LAYOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="mdc__locks_8c_source.html#l00196">mdc_clear_replay_flag()</a>, <a class="el" href="mdc__locks_8c_source.html#l00221">mdc_realloc_openmsg()</a>, <a class="el" href="mdc__request_8c_source.html#l00652">mdc_set_open_replay_data()</a>, <a class="el" href="lustre__mdc_8h_source.html#l00207">mdc_update_max_ea_from_body()</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="lustre__idl_8h_source.html#l01684">OBD_MD_FLDIREA</a>, <a class="el" href="lustre__idl_8h_source.html#l01672">OBD_MD_FLEASIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l01698">OBD_MD_FLRMTPERM</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02263">req_capsule_get_size()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l02186">req_capsule_server_sized_get()</a>, <a class="el" href="layout_8c_source.html#l02171">req_capsule_server_swab_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="layout_8c_source.html#l02416">req_capsule_shrink()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01075">RMF_ACL</a>, <a class="el" href="layout_8c_source.html#l01049">RMF_DLM_LVB</a>, <a class="el" href="layout_8c_source.html#l01039">RMF_DLM_REP</a>, <a class="el" href="layout_8c_source.html#l01033">RMF_DLM_REQ</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="layout_8c_source.html#l01058">RMF_MDT_MD</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_replay</a>, <a class="el" href="lustre__net_8h_source.html#l01034">ptlrpc_request::rq_transno</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>, and <a class="el" href="mdc__locks_8c_source.html#l01131">mdc_intent_getattr_async_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="afe6ec6bc3995a9ea501d5d5f25ad2584"></a><!-- doxytag: member="mdc_locks.c::mdc_finish_intent_lock" ref="afe6ec6bc3995a9ea501d5d5f25ad2584" args="(struct obd_export *exp, struct ptlrpc_request *request, struct md_op_data *op_data, struct lookup_intent *it, struct lustre_handle *lockh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdc_finish_intent_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>op_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00890">890</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00142">D_DENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__idl_8h_source.html#l02069">DISP_ENQ_CREATE_REF</a>, <a class="el" href="lustre__idl_8h_source.html#l02068">DISP_ENQ_OPEN_REF</a>, <a class="el" href="lustre__idl_8h_source.html#l02061">DISP_IT_EXECD</a>, <a class="el" href="lustre__idl_8h_source.html#l02062">DISP_LOOKUP_EXECD</a>, <a class="el" href="lustre__idl_8h_source.html#l02065">DISP_OPEN_CREATE</a>, <a class="el" href="lustre__idl_8h_source.html#l02066">DISP_OPEN_OPEN</a>, <a class="el" href="lustre__idl_8h_source.html#l02783">DLDLMRES</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00551">fid_res_name_eq()</a>, <a class="el" href="packet-lustre_8c_source.html#l00234">IT_CREAT</a>, <a class="el" href="lustre__intent_8h_source.html#l00046">lookup_intent::it_disposition</a>, <a class="el" href="lustre__intent_8h_source.html#l00057">it_disposition()</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l02880">IT_LAYOUT</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="packet-lustre_8c_source.html#l00237">IT_LOOKUP</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="packet-lustre_8c_source.html#l00233">IT_OPEN</a>, <a class="el" href="mdc__locks_8c_source.html#l00058">it_open_error()</a>, <a class="el" href="packet-lustre_8c_source.html#l00235">IT_READDIR</a>, <a class="el" href="lustre__intent_8h_source.html#l00062">it_set_disposition()</a>, <a class="el" href="lustre__intent_8h_source.html#l00047">lookup_intent::it_status</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00694">ldlm_lock::l_resource</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00296">LCK_NL</a>, <a class="el" href="lustre__dlm_8h_source.html#l01168">LDLM_DEBUG</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00040">LDLM_FL_BLOCK_GRANTED</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="ldlm__lock_8c_source.html#l00114">ldlm_it2str()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00918">ldlm_lock_decref_and_cancel()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="lustre__dlm_8h_source.html#l00951">ldlm_resource::lr_name</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="obd__support_8h_source.html#l00449">OBD_FAIL_MDC_ENQUEUE_PAUSE</a>, <a class="el" href="obd__support_8h_source.html#l00624">OBD_FAIL_TIMEOUT</a>, <a class="el" href="class__obd_8c_source.html#l00083">obd_timeout</a>, <a class="el" href="obd_8h_source.html#l00810">md_op_data::op_name</a>, <a class="el" href="obd_8h_source.html#l00811">md_op_data::op_namelen</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="lustre__idl_8h_source.html#l02784">PLDLMRES</a>, <a class="el" href="client_8c_source.html#l02757">ptlrpc_request_addref()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l01131">mdc_intent_getattr_async_interpret()</a>, and <a class="el" href="mdc__locks_8c_source.html#l01077">mdc_intent_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="ab304b7de76d5625ec9a34d757f363eb1"></a><!-- doxytag: member="mdc_locks.c::mdc_intent_getattr_async" ref="ab304b7de76d5625ec9a34d757f363eb1" args="(struct obd_export *exp, struct md_enqueue_info *minfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdc_intent_getattr_async </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__enqueue__info.html">md_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>minfo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l01181">1181</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="libcfs__debug_8h_source.html#l00145">D_DLMTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="mdc__locks_8c_source.html#l00054">mdc_getattr_args::ga_exp</a>, <a class="el" href="mdc__locks_8c_source.html#l00055">mdc_getattr_args::ga_minfo</a>, <a class="el" href="lustre__intent_8h_source.html#l00045">lookup_intent::it_flags</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="ldlm__request_8c_source.html#l00869">ldlm_cli_enqueue()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00082">LDLM_FL_HAS_INTENT</a>, <a class="el" href="ldlm__lock_8c_source.html#l00114">ldlm_it2str()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00646">LVB_T_NONE</a>, <a class="el" href="mdc__locks_8c_source.html#l01131">mdc_intent_getattr_async_interpret()</a>, <a class="el" href="mdc__locks_8c_source.html#l00412">mdc_intent_getattr_pack()</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="obd_8h_source.html#l00861">md_enqueue_info::mi_data</a>, <a class="el" href="obd_8h_source.html#l00865">md_enqueue_info::mi_einfo</a>, <a class="el" href="obd_8h_source.html#l00862">md_enqueue_info::mi_it</a>, <a class="el" href="obd_8h_source.html#l00863">md_enqueue_info::mi_lockh</a>, <a class="el" href="genops_8c_source.html#l01965">obd_get_request_slot()</a>, <a class="el" href="genops_8c_source.html#l02012">obd_put_request_slot()</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00803">md_op_data::op_fid1</a>, <a class="el" href="obd_8h_source.html#l00810">md_op_data::op_name</a>, <a class="el" href="obd_8h_source.html#l00811">md_op_data::op_namelen</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

</div>
</div>
<a class="anchor" id="a183f6f1e9b6219591577aa6296be0218"></a><!-- doxytag: member="mdc_locks.c::mdc_intent_getattr_async_interpret" ref="a183f6f1e9b6219591577aa6296be0218" args="(const struct lu_env *env, struct ptlrpc_request *req, void *args, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdc_intent_getattr_async_interpret </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l01131">1131</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="mdc__locks_8c_source.html#l00054">mdc_getattr_args::ga_exp</a>, <a class="el" href="mdc__locks_8c_source.html#l00055">mdc_getattr_args::ga_minfo</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__request_8c_source.html#l00541">ldlm_cli_enqueue_fini()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00082">LDLM_FL_HAS_INTENT</a>, <a class="el" href="lustre__idl_8h_source.html#l02930">ldlm_reply::lock_policy_res2</a>, <a class="el" href="mdc__locks_8c_source.html#l00196">mdc_clear_replay_flag()</a>, <a class="el" href="mdc__locks_8c_source.html#l00523">mdc_finish_enqueue()</a>, <a class="el" href="mdc__locks_8c_source.html#l00890">mdc_finish_intent_lock()</a>, <a class="el" href="obd_8h_source.html#l00866">md_enqueue_info::mi_cb</a>, <a class="el" href="obd_8h_source.html#l00861">md_enqueue_info::mi_data</a>, <a class="el" href="obd_8h_source.html#l00865">md_enqueue_info::mi_einfo</a>, <a class="el" href="obd_8h_source.html#l00862">md_enqueue_info::mi_it</a>, <a class="el" href="obd_8h_source.html#l00863">md_enqueue_info::mi_lockh</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00451">OBD_FAIL_MDC_GETATTR_ENQUEUE</a>, <a class="el" href="genops_8c_source.html#l02012">obd_put_request_slot()</a>, <a class="el" href="lustre__net_8h_source.html#l02407">ptlrpc_status_ntoh()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01039">RMF_DLM_REP</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l01181">mdc_intent_getattr_async()</a>.</p>

</div>
</div>
<a class="anchor" id="aed14e9b836114d188e60c396570fc1fb"></a><!-- doxytag: member="mdc_locks.c::mdc_intent_getattr_pack" ref="aed14e9b836114d188e60c396570fc1fb" args="(struct obd_export *exp, struct lookup_intent *it, struct md_op_data *op_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* mdc_intent_getattr_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>op_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00412">412</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="obd_8h_source.html#l00178">client_obd::cl_default_mds_easize</a>, <a class="el" href="obd_8h_source.html#l00183">client_obd::cl_max_mds_easize</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="lustre__export_8h_source.html#l00348">client_is_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__intent_8h_source.html#l00045">lookup_intent::it_flags</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="ldlm__request_8c_source.html#l00829">ldlm_prep_enqueue_req()</a>, <a class="el" href="mdc__lib_8c_source.html#l00463">mdc_getattr_pack()</a>, <a class="el" href="lustre__idl_8h_source.html#l01697">OBD_MD_FLACL</a>, <a class="el" href="lustre__idl_8h_source.html#l01684">OBD_MD_FLDIREA</a>, <a class="el" href="lustre__idl_8h_source.html#l01672">OBD_MD_FLEASIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l01720">OBD_MD_FLGETATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01687">OBD_MD_FLMODEASIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l01698">OBD_MD_FLRMTPERM</a>, <a class="el" href="lustre__idl_8h_source.html#l01691">OBD_MD_MEA</a>, <a class="el" href="obd_8h_source.html#l00811">md_op_data::op_namelen</a>, <a class="el" href="lustre__idl_8h_source.html#l02887">ldlm_intent::opc</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01075">RMF_ACL</a>, <a class="el" href="layout_8c_source.html#l01044">RMF_LDLM_INTENT</a>, <a class="el" href="layout_8c_source.html#l01058">RMF_MDT_MD</a>, <a class="el" href="layout_8c_source.html#l00978">RMF_NAME</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01497">RQF_LDLM_INTENT_GETATTR</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>, and <a class="el" href="mdc__locks_8c_source.html#l01181">mdc_intent_getattr_async()</a>.</p>

</div>
</div>
<a class="anchor" id="a0cc59643d3e08155b1eacb8ba4dfa0a4"></a><!-- doxytag: member="mdc_locks.c::mdc_intent_getxattr_pack" ref="a0cc59643d3e08155b1eacb8ba4dfa0a4" args="(struct obd_export *exp, struct lookup_intent *it, struct md_op_data *op_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* mdc_intent_getxattr_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>op_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00328">328</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="packet-lustre_8c_source.html#l00239">IT_GETXATTR</a>, <a class="el" href="ldlm__request_8c_source.html#l00829">ldlm_prep_enqueue_req()</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="mdc__lib_8c_source.html#l00074">mdc_pack_body()</a>, <a class="el" href="lustre__idl_8h_source.html#l01349">obd_connect_data::ocd_max_easize</a>, <a class="el" href="obd_8h_source.html#l00803">md_op_data::op_fid1</a>, <a class="el" href="obd_8h_source.html#l00826">md_op_data::op_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l02887">ldlm_intent::opc</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01072">RMF_EAVALS</a>, <a class="el" href="layout_8c_source.html#l01126">RMF_EAVALS_LENS</a>, <a class="el" href="layout_8c_source.html#l01044">RMF_LDLM_INTENT</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, and <a class="el" href="layout_8c_source.html#l01517">RQF_LDLM_INTENT_GETXATTR</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b99bd888c09ec2e4242273013125dfc"></a><!-- doxytag: member="mdc_locks.c::mdc_intent_layout_pack" ref="a4b99bd888c09ec2e4242273013125dfc" args="(struct obd_export *exp, struct lookup_intent *it, struct md_op_data *unused)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* mdc_intent_layout_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>unused</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00462">462</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="obd_8h_source.html#l00178">client_obd::cl_default_mds_easize</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="lustre__idl_8h_source.html#l03712">LAYOUT_INTENT_ACCESS</a>, <a class="el" href="ldlm__request_8c_source.html#l00829">ldlm_prep_enqueue_req()</a>, <a class="el" href="lustre__idl_8h_source.html#l03723">layout_intent::li_opc</a>, <a class="el" href="lustre__idl_8h_source.html#l02887">ldlm_intent::opc</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01049">RMF_DLM_LVB</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01096">RMF_LAYOUT_INTENT</a>, <a class="el" href="layout_8c_source.html#l01044">RMF_LDLM_INTENT</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01492">RQF_LDLM_INTENT_LAYOUT</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a8cbd244ae7d77f1c26da733850548475"></a><!-- doxytag: member="mdc_locks.c::mdc_intent_lock" ref="a8cbd244ae7d77f1c26da733850548475" args="(struct obd_export *exp, struct md_op_data *op_data, struct lookup_intent *it, struct ptlrpc_request **reqp, ldlm_blocking_callback cb_blocking, __u64 extra_lock_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdc_intent_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>op_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> **&nbsp;</td>
          <td class="paramname"> <em>reqp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__LDLM.html#gac111233b56bdf7a4767dcd7a2f15b378">ldlm_blocking_callback</a>&nbsp;</td>
          <td class="paramname"> <em>cb_blocking</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>extra_lock_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l01077">1077</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00145">D_DLMTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="packet-lustre_8c_source.html#l00234">IT_CREAT</a>, <a class="el" href="lustre__intent_8h_source.html#l00045">lookup_intent::it_flags</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="packet-lustre_8c_source.html#l00237">IT_LOOKUP</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="packet-lustre_8c_source.html#l00235">IT_READDIR</a>, <a class="el" href="lustre__intent_8h_source.html#l00053">lookup_intent::it_request</a>, <a class="el" href="obd_8h_source.html#l00767">it_to_lock_mode()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__request_8c_source.html#l00230">ldlm_completion_ast()</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="ldlm__lock_8c_source.html#l00114">ldlm_it2str()</a>, <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>, <a class="el" href="mdc__request_8c_source.html#l02563">mdc_fid_alloc()</a>, <a class="el" href="mdc__locks_8c_source.html#l00890">mdc_finish_intent_lock()</a>, <a class="el" href="mdc__locks_8c_source.html#l00985">mdc_revalidate_lock()</a>, <a class="el" href="obd_8h_source.html#l00803">md_op_data::op_fid1</a>, <a class="el" href="obd_8h_source.html#l00804">md_op_data::op_fid2</a>, <a class="el" href="obd_8h_source.html#l00810">md_op_data::op_name</a>, <a class="el" href="obd_8h_source.html#l00811">md_op_data::op_namelen</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l01286">mdc_read_page()</a>.</p>

</div>
</div>
<a class="anchor" id="aed05a0ebc3a3957976084dae04892715"></a><!-- doxytag: member="mdc_locks.c::mdc_intent_open_pack" ref="aed05a0ebc3a3957976084dae04892715" args="(struct obd_export *exp, struct lookup_intent *it, struct md_op_data *op_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* mdc_intent_open_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>op_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00238">238</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="obd_8h_source.html#l00178">client_obd::cl_default_mds_easize</a>, <a class="el" href="obd_8h_source.html#l00183">client_obd::cl_max_mds_easize</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="lustre__export_8h_source.html#l00348">client_is_remote()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00793">fid_is_sane()</a>, <a class="el" href="llite__internal_8h_source.html#l00057">FMODE_EXEC</a>, <a class="el" href="lustre__idl_8h_source.html#l02309">FMODE_WRITE</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_replayable</a>, <a class="el" href="packet-lustre_8c_source.html#l00234">IT_CREAT</a>, <a class="el" href="lustre__intent_8h_source.html#l00044">lookup_intent::it_create_mode</a>, <a class="el" href="lustre__intent_8h_source.html#l00045">lookup_intent::it_flags</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="packet-lustre_8c_source.html#l00295">LCK_CR</a>, <a class="el" href="packet-lustre_8c_source.html#l00294">LCK_CW</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="lustre__dlm_8h_source.html#l01351">ldlm_lock_list_put</a>, <a class="el" href="ldlm__request_8c_source.html#l00829">ldlm_prep_enqueue_req()</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, <a class="el" href="mdc__lib_8c_source.html#l00204">mdc_open_pack()</a>, <a class="el" href="mdc__reint_8c_source.html#l00067">mdc_resource_get_unused()</a>, <a class="el" href="lustre__idl_8h_source.html#l02080">MDS_INODELOCK_OPEN</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="lustre__idl_8h_source.html#l02345">MDS_OPEN_LEASE</a>, <a class="el" href="lustre__idl_8h_source.html#l02323">MDS_OPEN_TRUNC</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="obd_8h_source.html#l00819">md_op_data::op_data</a>, <a class="el" href="obd_8h_source.html#l00820">md_op_data::op_data_size</a>, <a class="el" href="obd_8h_source.html#l00803">md_op_data::op_fid1</a>, <a class="el" href="obd_8h_source.html#l00804">md_op_data::op_fid2</a>, <a class="el" href="obd_8h_source.html#l00811">md_op_data::op_namelen</a>, <a class="el" href="lustre__idl_8h_source.html#l02887">ldlm_intent::opc</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01075">RMF_ACL</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01044">RMF_LDLM_INTENT</a>, <a class="el" href="layout_8c_source.html#l01058">RMF_MDT_MD</a>, <a class="el" href="layout_8c_source.html#l00978">RMF_NAME</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_replay</a>, <a class="el" href="layout_8c_source.html#l01502">RQF_LDLM_INTENT_OPEN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a288c5ba65478fe71af96c42580986887"></a><!-- doxytag: member="mdc_locks.c::mdc_intent_unlink_pack" ref="a288c5ba65478fe71af96c42580986887" args="(struct obd_export *exp, struct lookup_intent *it, struct md_op_data *op_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* mdc_intent_unlink_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__op__data.html">md_op_data</a> *&nbsp;</td>
          <td class="paramname"> <em>op_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00375">375</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="obd_8h_source.html#l00178">client_obd::cl_default_mds_easize</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="ldlm__request_8c_source.html#l00829">ldlm_prep_enqueue_req()</a>, <a class="el" href="mdc__lib_8c_source.html#l00354">mdc_unlink_pack()</a>, <a class="el" href="obd_8h_source.html#l00811">md_op_data::op_namelen</a>, <a class="el" href="lustre__idl_8h_source.html#l02887">ldlm_intent::opc</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01044">RMF_LDLM_INTENT</a>, <a class="el" href="layout_8c_source.html#l01058">RMF_MDT_MD</a>, <a class="el" href="layout_8c_source.html#l00978">RMF_NAME</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01512">RQF_LDLM_INTENT_UNLINK</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a47437761a8e16e6705a99a42e2487b4e"></a><!-- doxytag: member="mdc_locks.c::mdc_lock_match" ref="a47437761a8e16e6705a99a42e2487b4e" args="(struct obd_export *exp, __u64 flags, const struct lu_fid *fid, enum ldlm_type type, union ldlm_policy_data *policy, enum ldlm_mode mode, struct lustre_handle *lockh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> mdc_lock_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga5ced9a6707006817f5e2409b368f36b5">ldlm_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00139">139</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02841">ldlm_inodebits::bits</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00412">exp_connect_ibits()</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00985">mdc_revalidate_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a15c4734b2b5879b3a2da08e5009c133f"></a><!-- doxytag: member="mdc_locks.c::mdc_null_inode" ref="a15c4734b2b5879b3a2da08e5009c133f" args="(struct obd_export *exp, const struct lu_fid *fid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdc_null_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00172">172</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01295">ldlm_resource_putref()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01537">lock_res()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00966">ldlm_resource::lr_lvb_inode</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__dlm_8h_source.html#l01550">unlock_res()</a>.</p>

</div>
</div>
<a class="anchor" id="a58d104f42613fbf4c04980e952227d5a"></a><!-- doxytag: member="mdc_locks.c::mdc_realloc_openmsg" ref="a58d104f42613fbf4c04980e952227d5a" args="(struct ptlrpc_request *req, struct mdt_body *body)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void mdc_realloc_openmsg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__body.html">mdt_body</a> *&nbsp;</td>
          <td class="paramname"> <em>body</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00221">221</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l01137">DLM_INTENT_REC_OFF</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l01672">OBD_MD_FLEASIZE</a>, and <a class="el" href="sec_8c_source.html#l01681">sptlrpc_cli_enlarge_reqbuf()</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00523">mdc_finish_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a6214c67097161a905e8d6c117914caa0"></a><!-- doxytag: member="mdc_locks.c::mdc_revalidate_lock" ref="a6214c67097161a905e8d6c117914caa0" args="(struct obd_export *exp, struct lookup_intent *it, struct lu_fid *fid, __u64 *bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdc_revalidate_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>bits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00985">985</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02841">ldlm_inodebits::bits</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__fid_8h_source.html#l00541">fid_build_reg_res_name()</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l02880">IT_LAYOUT</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="packet-lustre_8c_source.html#l00235">IT_READDIR</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="packet-lustre_8c_source.html#l00295">LCK_CR</a>, <a class="el" href="packet-lustre_8c_source.html#l00294">LCK_CW</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00040">LDLM_FL_BLOCK_GRANTED</a>, <a class="el" href="packet-lustre_8c_source.html#l00301">LDLM_IBITS</a>, <a class="el" href="ldlm__lock_8c_source.html#l01504">ldlm_revalidate_lock_handle()</a>, <a class="el" href="mdc__locks_8c_source.html#l00139">mdc_lock_match()</a>, <a class="el" href="lustre__idl_8h_source.html#l02081">MDS_INODELOCK_LAYOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02092">MDS_INODELOCK_PERM</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l01077">mdc_intent_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a1dd0131fe32e93b4987d1cdcc9785228"></a><!-- doxytag: member="mdc_locks.c::mdc_set_lock_data" ref="a1dd0131fe32e93b4987d1cdcc9785228" args="(struct obd_export *exp, __u64 *lockh, void *data, __u64 *bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdc_set_lock_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>bits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdc__locks_8c_source.html#l00102">102</a> of file <a class="el" href="mdc__locks_8c_source.html">mdc_locks.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02841">ldlm_inodebits::bits</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00635">ldlm_policy_data::l_inodebits</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00694">ldlm_lock::l_resource</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00966">ldlm_resource::lr_lvb_inode</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l01286">mdc_read_page()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
