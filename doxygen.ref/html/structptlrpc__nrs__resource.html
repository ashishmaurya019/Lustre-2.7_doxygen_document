<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: ptlrpc_nrs_resource Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ptlrpc_nrs_resource Struct Reference<br/>
<small>
[<a class="el" href="group__nrs.html">Network Request Scheduler</a>]</small>
</h1><!-- doxytag: class="ptlrpc_nrs_resource" -->
<p>NRS resource.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__nrs__resource.html">ptlrpc_nrs_resource</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__resource.html#ad0e4dbe1fe93c3751bf54b78c6d81abd">res_parent</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This NRS resource's parent; is NULL for resources embedded in NRS policy instances; i.e.  <a href="#ad0e4dbe1fe93c3751bf54b78c6d81abd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__nrs__policy.html">ptlrpc_nrs_policy</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__resource.html#aa5af26dd315bfb4faa7548c369dd35ee">res_policy</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The policy associated with this resource.  <a href="#aa5af26dd315bfb4faa7548c369dd35ee"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>NRS resource. </p>
<p>Resources are embedded into two types of NRS entities:</p>
<ul>
<li>Inside NRS policies, in the policy's private data in <a class="el" href="structptlrpc__nrs__policy.html#a65f5afb21e9da75ae93e9b0b64887272" title="Private policy data; varies by policy type.">ptlrpc_nrs_policy::pol_private</a></li>
<li>In objects that act as prime-level scheduling entities in different NRS policies; e.g. on a policy that performs round robin or similar order scheduling across client NIDs, there would be one NRS resource per unique client NID. On a policy which performs round robin scheduling across backend filesystem objects, there would be one resource associated with each of the backend filesystem objects partaking in the scheduling performed by the policy.</li>
</ul>
<p>NRS resources share a parent-child relationship, in which resources embedded in policy instances are the parent entities, with all scheduling entities a policy schedules across being the children, thus forming a simple resource hierarchy. This hierarchy may be extended with one or more levels in the future if the ability to have more than one primary policy is added.</p>
<p>Upon request initialization, references to the then active NRS policies are taken and used to later handle the dispatching of the request with one of these policies.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="nrs_8c.html#a6ba673781ab2ba2e38ab4c17c1e26cff" title="Obtains resources for the resource hierarchies and policy references for the fallback...">nrs_resource_get_safe()</a> </dd>
<dd>
<a class="el" href="nrs_8c.html#a376ea8577919ec8eb729d36195bcbf1a" title="Enqueues request req on either the regular or high-priority NRS head of service partition...">ptlrpc_nrs_req_add()</a> </dd></dl>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00656">656</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ad0e4dbe1fe93c3751bf54b78c6d81abd"></a><!-- doxytag: member="ptlrpc_nrs_resource::res_parent" ref="ad0e4dbe1fe93c3751bf54b78c6d81abd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__nrs__resource.html">ptlrpc_nrs_resource</a>* <a class="el" href="structptlrpc__nrs__resource.html#ad0e4dbe1fe93c3751bf54b78c6d81abd">ptlrpc_nrs_resource::res_parent</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This NRS resource's parent; is NULL for resources embedded in NRS policy instances; i.e. </p>
<p>those are top-level ones. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00661">661</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00406">nrs_resource_get()</a>, and <a class="el" href="nrs_8c_source.html#l00375">nrs_resource_put()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5af26dd315bfb4faa7548c369dd35ee"></a><!-- doxytag: member="ptlrpc_nrs_resource::res_policy" ref="aa5af26dd315bfb4faa7548c369dd35ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__nrs__policy.html">ptlrpc_nrs_policy</a>* <a class="el" href="structptlrpc__nrs__resource.html#aa5af26dd315bfb4faa7548c369dd35ee">ptlrpc_nrs_resource::res_policy</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The policy associated with this resource. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00665">665</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l00583">nrs_request_enqueue()</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00238">nrs_request_policy()</a>, <a class="el" href="nrs_8c_source.html#l00406">nrs_resource_get()</a>, <a class="el" href="nrs_8c_source.html#l00375">nrs_resource_put()</a>, and <a class="el" href="nrs_8c_source.html#l00511">nrs_resource_put_safe()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:54 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
