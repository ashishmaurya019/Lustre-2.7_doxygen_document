<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: idmap</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>idmap</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#gad69f74adf93dcc0a8158ec76e7d00bc8">CFS_NGROUPS_PER_BLOCK</a>&nbsp;&nbsp;&nbsp;((int)(PAGE_CACHE_SIZE / sizeof(gid_t)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#gadeca140de9807a6dd5663b7869921237">CFS_GROUP_AT</a>(gi, i)&nbsp;&nbsp;&nbsp;((gi)-&gt;blocks[(i) / CFS_NGROUPS_PER_BLOCK][(i) % CFS_NGROUPS_PER_BLOCK])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga7e4cdd9569d82f5da781b3d7a5c9990d">CFS_IDMAP_NOTFOUND</a>&nbsp;&nbsp;&nbsp;(-1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga68b02bc3f4876b11458bff64bcd83fd8">CFS_IDMAP_HASHSIZE</a>&nbsp;&nbsp;&nbsp;32</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__idmap.html#gga1be3860693af99a6c1da72580097294caa66c4b3cec1164a2f3ef277a517d5af4">CFS_IC_NOTHING</a> =  0, 
<a class="el" href="group__idmap.html#gga1be3860693af99a6c1da72580097294caa77cc9ea8aa56e91f55cdf99abd18563">CFS_IC_ALL</a> =  1, 
<a class="el" href="group__idmap.html#gga1be3860693af99a6c1da72580097294cae9cdbb5fb6a07556f8be9566b1445153">CFS_IC_MAPPED</a> =  2, 
<a class="el" href="group__idmap.html#gga1be3860693af99a6c1da72580097294caaf08b5d92edb93724efde5c778f8414d">CFS_IC_UNMAPPED</a> =  3
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#gac0204a1013ad6f4c9d5233720e50d443">lustre_idmap_idx</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__idmap.html#ggac0204a1013ad6f4c9d5233720e50d443afa34af699d7a196eddfefeb5bbe33ded">RMT_UIDMAP_IDX</a>, 
<a class="el" href="group__idmap.html#ggac0204a1013ad6f4c9d5233720e50d443aec68b7ff730af1980543c0410df38f9f">LCL_UIDMAP_IDX</a>, 
<a class="el" href="group__idmap.html#ggac0204a1013ad6f4c9d5233720e50d443afbfb7eaaa022f7f80cd2c5330274b524">RMT_GIDMAP_IDX</a>, 
<a class="el" href="group__idmap.html#ggac0204a1013ad6f4c9d5233720e50d443af6fc3df535be5d4cb4e449636628d842">LCL_GIDMAP_IDX</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__idmap.html#ggac0204a1013ad6f4c9d5233720e50d443aae636786015717031135bfda0e547f95">CFS_IDMAP_N_HASHES</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#gaa2407463474571b92173c3c0a6f182ef">lustre_groups_from_list</a> (struct group_info *ginfo, gid_t *glist)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga14b4b52d9960ce078018784f0e383647">lustre_groups_sort</a> (struct group_info *group_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga797773e8d229371ce38f8a51c0ef97bd">lustre_in_group_p</a> (struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *mu, gid_t grp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga81f91f13f9c759d9fd89f1e01ec63930">lustre_idmap_add</a> (struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *t, uid_t ruid, uid_t luid, gid_t rgid, gid_t lgid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga25d9e24672df86aaf292733f0809d008">lustre_idmap_del</a> (struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *t, uid_t ruid, uid_t luid, gid_t rgid, gid_t lgid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga6497bcb8540693a545060e063763aab1">lustre_idmap_lookup_uid</a> (struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *mu, struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *t, int reverse, uid_t uid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga963dc29d09657cf309362802c9f2ada2">lustre_idmap_lookup_gid</a> (struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *mu, struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *t, int reverse, gid_t gid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga6a80afef6299092d8738e2d5256dd78a">lustre_idmap_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__idmap.html#ga17a7f3b8cc6c6db1a8ee73fe81ed8580">lustre_idmap_fini</a> (struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *t)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gadeca140de9807a6dd5663b7869921237"></a><!-- doxytag: member="lustre_idmap.h::CFS_GROUP_AT" ref="gadeca140de9807a6dd5663b7869921237" args="(gi, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_GROUP_AT</td>
          <td>(</td>
          <td class="paramtype">gi, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((gi)-&gt;blocks[(i) / CFS_NGROUPS_PER_BLOCK][(i) % CFS_NGROUPS_PER_BLOCK])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__idmap_8h_source.html#l00054">54</a> of file <a class="el" href="lustre__idmap_8h_source.html">lustre_idmap.h</a>.</p>

<p>Referenced by <a class="el" href="idmap_8c_source.html#l00067">lustre_groups_search()</a>, and <a class="el" href="idmap_8c_source.html#l00111">lustre_groups_sort()</a>.</p>

</div>
</div>
<a class="anchor" id="ga68b02bc3f4876b11458bff64bcd83fd8"></a><!-- doxytag: member="lustre_idmap.h::CFS_IDMAP_HASHSIZE" ref="ga68b02bc3f4876b11458bff64bcd83fd8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_IDMAP_HASHSIZE&nbsp;&nbsp;&nbsp;32</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__idmap_8h_source.html#l00066">66</a> of file <a class="el" href="lustre__idmap_8h_source.html">lustre_idmap.h</a>.</p>

<p>Referenced by <a class="el" href="idmap_8c_source.html#l00459">lustre_idmap_fini()</a>, and <a class="el" href="idmap_8c_source.html#l00184">lustre_idmap_hashfunc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7e4cdd9569d82f5da781b3d7a5c9990d"></a><!-- doxytag: member="lustre_idmap.h::CFS_IDMAP_NOTFOUND" ref="ga7e4cdd9569d82f5da781b3d7a5c9990d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_IDMAP_NOTFOUND&nbsp;&nbsp;&nbsp;(-1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__idmap_8h_source.html#l00064">64</a> of file <a class="el" href="lustre__idmap_8h_source.html">lustre_idmap.h</a>.</p>

<p>Referenced by <a class="el" href="idmap_8c_source.html#l00291">idmap_lookup_gid()</a>, <a class="el" href="idmap_8c_source.html#l00272">idmap_lookup_uid()</a>, <a class="el" href="idmap_8c_source.html#l00409">lustre_idmap_lookup_gid()</a>, <a class="el" href="idmap_8c_source.html#l00376">lustre_idmap_lookup_uid()</a>, <a class="el" href="mdt__idmap_8c_source.html#l00275">mdt_body_reverse_idmap()</a>, <a class="el" href="mdt__idmap_8c_source.html#l00317">mdt_fix_attr_ucred()</a>, <a class="el" href="mdt__handler_8c_source.html#l02016">mdt_quotactl()</a>, and <a class="el" href="mdt__idmap_8c_source.html#l00218">ptlrpc_user_desc_do_idmap()</a>.</p>

</div>
</div>
<a class="anchor" id="gad69f74adf93dcc0a8158ec76e7d00bc8"></a><!-- doxytag: member="lustre_idmap.h::CFS_NGROUPS_PER_BLOCK" ref="gad69f74adf93dcc0a8158ec76e7d00bc8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_NGROUPS_PER_BLOCK&nbsp;&nbsp;&nbsp;((int)(PAGE_CACHE_SIZE / sizeof(gid_t)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__idmap_8h_source.html#l00052">52</a> of file <a class="el" href="lustre__idmap_8h_source.html">lustre_idmap.h</a>.</p>

<p>Referenced by <a class="el" href="idmap_8c_source.html#l00092">lustre_groups_from_list()</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga1be3860693af99a6c1da72580097294c"></a><!-- doxytag: member="lustre_idmap.h::@55" ref="ga1be3860693af99a6c1da72580097294c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga1be3860693af99a6c1da72580097294caa66c4b3cec1164a2f3ef277a517d5af4"></a><!-- doxytag: member="CFS_IC_NOTHING" ref="gga1be3860693af99a6c1da72580097294caa66c4b3cec1164a2f3ef277a517d5af4" args="" -->CFS_IC_NOTHING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga1be3860693af99a6c1da72580097294caa77cc9ea8aa56e91f55cdf99abd18563"></a><!-- doxytag: member="CFS_IC_ALL" ref="gga1be3860693af99a6c1da72580097294caa77cc9ea8aa56e91f55cdf99abd18563" args="" -->CFS_IC_ALL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga1be3860693af99a6c1da72580097294cae9cdbb5fb6a07556f8be9566b1445153"></a><!-- doxytag: member="CFS_IC_MAPPED" ref="gga1be3860693af99a6c1da72580097294cae9cdbb5fb6a07556f8be9566b1445153" args="" -->CFS_IC_MAPPED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga1be3860693af99a6c1da72580097294caaf08b5d92edb93724efde5c778f8414d"></a><!-- doxytag: member="CFS_IC_UNMAPPED" ref="gga1be3860693af99a6c1da72580097294caaf08b5d92edb93724efde5c778f8414d" args="" -->CFS_IC_UNMAPPED</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__idmap_8h_source.html#l00057">57</a> of file <a class="el" href="lustre__idmap_8h_source.html">lustre_idmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac0204a1013ad6f4c9d5233720e50d443"></a><!-- doxytag: member="lustre_idmap.h::lustre_idmap_idx" ref="gac0204a1013ad6f4c9d5233720e50d443" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__idmap.html#gac0204a1013ad6f4c9d5233720e50d443">lustre_idmap_idx</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggac0204a1013ad6f4c9d5233720e50d443afa34af699d7a196eddfefeb5bbe33ded"></a><!-- doxytag: member="RMT_UIDMAP_IDX" ref="ggac0204a1013ad6f4c9d5233720e50d443afa34af699d7a196eddfefeb5bbe33ded" args="" -->RMT_UIDMAP_IDX</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac0204a1013ad6f4c9d5233720e50d443aec68b7ff730af1980543c0410df38f9f"></a><!-- doxytag: member="LCL_UIDMAP_IDX" ref="ggac0204a1013ad6f4c9d5233720e50d443aec68b7ff730af1980543c0410df38f9f" args="" -->LCL_UIDMAP_IDX</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac0204a1013ad6f4c9d5233720e50d443afbfb7eaaa022f7f80cd2c5330274b524"></a><!-- doxytag: member="RMT_GIDMAP_IDX" ref="ggac0204a1013ad6f4c9d5233720e50d443afbfb7eaaa022f7f80cd2c5330274b524" args="" -->RMT_GIDMAP_IDX</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac0204a1013ad6f4c9d5233720e50d443af6fc3df535be5d4cb4e449636628d842"></a><!-- doxytag: member="LCL_GIDMAP_IDX" ref="ggac0204a1013ad6f4c9d5233720e50d443af6fc3df535be5d4cb4e449636628d842" args="" -->LCL_GIDMAP_IDX</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac0204a1013ad6f4c9d5233720e50d443aae636786015717031135bfda0e547f95"></a><!-- doxytag: member="CFS_IDMAP_N_HASHES" ref="ggac0204a1013ad6f4c9d5233720e50d443aae636786015717031135bfda0e547f95" args="" -->CFS_IDMAP_N_HASHES</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__idmap_8h_source.html#l00068">68</a> of file <a class="el" href="lustre__idmap_8h_source.html">lustre_idmap.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaa2407463474571b92173c3c0a6f182ef"></a><!-- doxytag: member="lustre_idmap.h::lustre_groups_from_list" ref="gaa2407463474571b92173c3c0a6f182ef" args="(struct group_info *ginfo, gid_t *glist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_groups_from_list </td>
          <td>(</td>
          <td class="paramtype">struct group_info *&nbsp;</td>
          <td class="paramname"> <em>ginfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t *&nbsp;</td>
          <td class="paramname"> <em>glist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="idmap_8c_source.html#l00092">92</a> of file <a class="el" href="idmap_8c_source.html">idmap.c</a>.</p>

<p>References <a class="el" href="lustre__idmap_8h_source.html#l00052">CFS_NGROUPS_PER_BLOCK</a>.</p>

<p>Referenced by <a class="el" href="mdt__identity_8c_source.html#l00148">mdt_identity_parse_downcall()</a>, and <a class="el" href="mdt__lib_8c_source.html#l00143">new_init_ucred()</a>.</p>

</div>
</div>
<a class="anchor" id="ga14b4b52d9960ce078018784f0e383647"></a><!-- doxytag: member="lustre_idmap.h::lustre_groups_sort" ref="ga14b4b52d9960ce078018784f0e383647" args="(struct group_info *group_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_groups_sort </td>
          <td>(</td>
          <td class="paramtype">struct group_info *&nbsp;</td>
          <td class="paramname"> <em>group_info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="idmap_8c_source.html#l00111">111</a> of file <a class="el" href="idmap_8c_source.html">idmap.c</a>.</p>

<p>References <a class="el" href="lustre__idmap_8h_source.html#l00054">CFS_GROUP_AT</a>, <a class="el" href="curproc_8h_source.html#l00085">from_kgid()</a>, <a class="el" href="curproc_8h_source.html#l00075">make_kgid()</a>, and <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>.</p>

<p>Referenced by <a class="el" href="mdt__identity_8c_source.html#l00148">mdt_identity_parse_downcall()</a>, and <a class="el" href="mdt__lib_8c_source.html#l00143">new_init_ucred()</a>.</p>

</div>
</div>
<a class="anchor" id="ga81f91f13f9c759d9fd89f1e01ec63930"></a><!-- doxytag: member="lustre_idmap.h::lustre_idmap_add" ref="ga81f91f13f9c759d9fd89f1e01ec63930" args="(struct lustre_idmap_table *t, uid_t ruid, uid_t luid, gid_t rgid, gid_t lgid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_idmap_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&nbsp;</td>
          <td class="paramname"> <em>ruid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&nbsp;</td>
          <td class="paramname"> <em>luid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t&nbsp;</td>
          <td class="paramname"> <em>rgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t&nbsp;</td>
          <td class="paramname"> <em>lgid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="idmap_8c_source.html#l00309">309</a> of file <a class="el" href="idmap_8c_source.html">idmap.c</a>.</p>

<p>References <a class="el" href="idmap_8c_source.html#l00190">idmap_entry_alloc()</a>, <a class="el" href="idmap_8c_source.html#l00211">idmap_entry_free()</a>, <a class="el" href="idmap_8c_source.html#l00227">idmap_search_entry()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idmap_8h_source.html#l00072">LCL_GIDMAP_IDX</a>, <a class="el" href="lustre__idmap_8h_source.html#l00070">LCL_UIDMAP_IDX</a>, <a class="el" href="idmap_8c_source.html#l00177">lustre_idmap_entry::lie_lcl_gid_hash</a>, <a class="el" href="idmap_8c_source.html#l00175">lustre_idmap_entry::lie_lcl_uid_hash</a>, <a class="el" href="idmap_8c_source.html#l00176">lustre_idmap_entry::lie_rmt_gid_hash</a>, <a class="el" href="idmap_8c_source.html#l00174">lustre_idmap_entry::lie_rmt_uid_hash</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="lustre__idmap_8h_source.html#l00078">lustre_idmap_table::lit_idmaps</a>, <a class="el" href="lustre__idmap_8h_source.html#l00077">lustre_idmap_table::lit_lock</a>, <a class="el" href="idmap_8c_source.html#l00184">lustre_idmap_hashfunc()</a>, <a class="el" href="lustre__idmap_8h_source.html#l00071">RMT_GIDMAP_IDX</a>, and <a class="el" href="lustre__idmap_8h_source.html#l00069">RMT_UIDMAP_IDX</a>.</p>

<p>Referenced by <a class="el" href="mdt__idmap_8c_source.html#l00135">mdt_handle_idmap()</a>.</p>

</div>
</div>
<a class="anchor" id="ga25d9e24672df86aaf292733f0809d008"></a><!-- doxytag: member="lustre_idmap.h::lustre_idmap_del" ref="ga25d9e24672df86aaf292733f0809d008" args="(struct lustre_idmap_table *t, uid_t ruid, uid_t luid, gid_t rgid, gid_t lgid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_idmap_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&nbsp;</td>
          <td class="paramname"> <em>ruid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&nbsp;</td>
          <td class="paramname"> <em>luid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t&nbsp;</td>
          <td class="paramname"> <em>rgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t&nbsp;</td>
          <td class="paramname"> <em>lgid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="idmap_8c_source.html#l00355">355</a> of file <a class="el" href="idmap_8c_source.html">idmap.c</a>.</p>

<p>References <a class="el" href="idmap_8c_source.html#l00211">idmap_entry_free()</a>, <a class="el" href="idmap_8c_source.html#l00227">idmap_search_entry()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="lustre__idmap_8h_source.html#l00077">lustre_idmap_table::lit_lock</a>.</p>

<p>Referenced by <a class="el" href="mdt__idmap_8c_source.html#l00135">mdt_handle_idmap()</a>.</p>

</div>
</div>
<a class="anchor" id="ga17a7f3b8cc6c6db1a8ee73fe81ed8580"></a><!-- doxytag: member="lustre_idmap.h::lustre_idmap_fini" ref="ga17a7f3b8cc6c6db1a8ee73fe81ed8580" args="(struct lustre_idmap_table *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_idmap_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="idmap_8c_source.html#l00459">459</a> of file <a class="el" href="idmap_8c_source.html">idmap.c</a>.</p>

<p>References <a class="el" href="lustre__idmap_8h_source.html#l00066">CFS_IDMAP_HASHSIZE</a>, <a class="el" href="idmap_8c_source.html#l00211">idmap_entry_free()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="idmap_8c_source.html#l00174">lustre_idmap_entry::lie_rmt_uid_hash</a>, <a class="el" href="lnetctl_8c_source.html#l00969">list</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="lustre__idmap_8h_source.html#l00078">lustre_idmap_table::lit_idmaps</a>, <a class="el" href="lustre__idmap_8h_source.html#l00077">lustre_idmap_table::lit_lock</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="lustre__idmap_8h_source.html#l00069">RMT_UIDMAP_IDX</a>.</p>

<p>Referenced by <a class="el" href="mdt__idmap_8c_source.html#l00116">mdt_cleanup_idmap()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6a80afef6299092d8738e2d5256dd78a"></a><!-- doxytag: member="lustre_idmap.h::lustre_idmap_init" ref="ga6a80afef6299092d8738e2d5256dd78a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a>* lustre_idmap_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="idmap_8c_source.html#l00441">441</a> of file <a class="el" href="idmap_8c_source.html">idmap.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lustre__idmap_8h_source.html#l00078">lustre_idmap_table::lit_idmaps</a>, <a class="el" href="lustre__idmap_8h_source.html#l00077">lustre_idmap_table::lit_lock</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__idmap_8c_source.html#l00075">mdt_init_idmap()</a>.</p>

</div>
</div>
<a class="anchor" id="ga963dc29d09657cf309362802c9f2ada2"></a><!-- doxytag: member="lustre_idmap.h::lustre_idmap_lookup_gid" ref="ga963dc29d09657cf309362802c9f2ada2" args="(struct lu_ucred *mu, struct lustre_idmap_table *t, int reverse, gid_t gid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_idmap_lookup_gid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *&nbsp;</td>
          <td class="paramname"> <em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reverse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t&nbsp;</td>
          <td class="paramname"> <em>gid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="idmap_8c_source.html#l00409">409</a> of file <a class="el" href="idmap_8c_source.html">idmap.c</a>.</p>

<p>References <a class="el" href="lustre__idmap_8h_source.html#l00064">CFS_IDMAP_NOTFOUND</a>, <a class="el" href="idmap_8c_source.html#l00291">idmap_lookup_gid()</a>, <a class="el" href="lustre__idmap_8h_source.html#l00072">LCL_GIDMAP_IDX</a>, <a class="el" href="lustre__idmap_8h_source.html#l00078">lustre_idmap_table::lit_idmaps</a>, <a class="el" href="lustre__idmap_8h_source.html#l00077">lustre_idmap_table::lit_lock</a>, <a class="el" href="lustre__idmap_8h_source.html#l00071">RMT_GIDMAP_IDX</a>, <a class="el" href="md__object_8h_source.html#l00592">lu_ucred::uc_fsgid</a>, <a class="el" href="md__object_8h_source.html#l00590">lu_ucred::uc_gid</a>, <a class="el" href="md__object_8h_source.html#l00588">lu_ucred::uc_o_fsgid</a>, <a class="el" href="md__object_8h_source.html#l00586">lu_ucred::uc_o_gid</a>, <a class="el" href="md__object_8h_source.html#l00584">lu_ucred::uc_valid</a>, <a class="el" href="md__object_8h_source.html#l00580">UCRED_NEW</a>, and <a class="el" href="md__object_8h_source.html#l00579">UCRED_OLD</a>.</p>

<p>Referenced by <a class="el" href="mdt__idmap_8c_source.html#l00275">mdt_body_reverse_idmap()</a>, <a class="el" href="mdt__idmap_8c_source.html#l00317">mdt_fix_attr_ucred()</a>, <a class="el" href="mdt__handler_8c_source.html#l02016">mdt_quotactl()</a>, and <a class="el" href="mdt__idmap_8c_source.html#l00218">ptlrpc_user_desc_do_idmap()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6497bcb8540693a545060e063763aab1"></a><!-- doxytag: member="lustre_idmap.h::lustre_idmap_lookup_uid" ref="ga6497bcb8540693a545060e063763aab1" args="(struct lu_ucred *mu, struct lustre_idmap_table *t, int reverse, uid_t uid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_idmap_lookup_uid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *&nbsp;</td>
          <td class="paramname"> <em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__idmap__table.html">lustre_idmap_table</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reverse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&nbsp;</td>
          <td class="paramname"> <em>uid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="idmap_8c_source.html#l00376">376</a> of file <a class="el" href="idmap_8c_source.html">idmap.c</a>.</p>

<p>References <a class="el" href="lustre__idmap_8h_source.html#l00064">CFS_IDMAP_NOTFOUND</a>, <a class="el" href="idmap_8c_source.html#l00272">idmap_lookup_uid()</a>, <a class="el" href="lustre__idmap_8h_source.html#l00070">LCL_UIDMAP_IDX</a>, <a class="el" href="lustre__idmap_8h_source.html#l00078">lustre_idmap_table::lit_idmaps</a>, <a class="el" href="lustre__idmap_8h_source.html#l00077">lustre_idmap_table::lit_lock</a>, <a class="el" href="lustre__idmap_8h_source.html#l00069">RMT_UIDMAP_IDX</a>, <a class="el" href="md__object_8h_source.html#l00591">lu_ucred::uc_fsuid</a>, <a class="el" href="md__object_8h_source.html#l00587">lu_ucred::uc_o_fsuid</a>, <a class="el" href="md__object_8h_source.html#l00585">lu_ucred::uc_o_uid</a>, <a class="el" href="md__object_8h_source.html#l00589">lu_ucred::uc_uid</a>, <a class="el" href="md__object_8h_source.html#l00584">lu_ucred::uc_valid</a>, <a class="el" href="md__object_8h_source.html#l00580">UCRED_NEW</a>, and <a class="el" href="md__object_8h_source.html#l00579">UCRED_OLD</a>.</p>

<p>Referenced by <a class="el" href="mdt__idmap_8c_source.html#l00275">mdt_body_reverse_idmap()</a>, <a class="el" href="mdt__idmap_8c_source.html#l00317">mdt_fix_attr_ucred()</a>, <a class="el" href="mdt__handler_8c_source.html#l02016">mdt_quotactl()</a>, and <a class="el" href="mdt__idmap_8c_source.html#l00218">ptlrpc_user_desc_do_idmap()</a>.</p>

</div>
</div>
<a class="anchor" id="ga797773e8d229371ce38f8a51c0ef97bd"></a><!-- doxytag: member="lustre_idmap.h::lustre_in_group_p" ref="ga797773e8d229371ce38f8a51c0ef97bd" args="(struct lu_ucred *mu, gid_t grp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_in_group_p </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *&nbsp;</td>
          <td class="paramname"> <em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t&nbsp;</td>
          <td class="paramname"> <em>grp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="idmap_8c_source.html#l00144">144</a> of file <a class="el" href="idmap_8c_source.html">idmap.c</a>.</p>

<p>References <a class="el" href="idmap_8c_source.html#l00054">lustre_get_group_info</a>, <a class="el" href="idmap_8c_source.html#l00067">lustre_groups_search()</a>, <a class="el" href="idmap_8c_source.html#l00058">lustre_put_group_info</a>, <a class="el" href="upcall__cache_8h_source.html#l00081">md_identity::mi_ginfo</a>, <a class="el" href="md__object_8h_source.html#l00592">lu_ucred::uc_fsgid</a>, <a class="el" href="md__object_8h_source.html#l00596">lu_ucred::uc_ginfo</a>, <a class="el" href="md__object_8h_source.html#l00597">lu_ucred::uc_identity</a>, <a class="el" href="md__object_8h_source.html#l00593">lu_ucred::uc_suppgids</a>, <a class="el" href="md__object_8h_source.html#l00584">lu_ucred::uc_valid</a>, and <a class="el" href="md__object_8h_source.html#l00579">UCRED_OLD</a>.</p>

<p>Referenced by <a class="el" href="mdd__permission_8c_source.html#l00240">__mdd_permission_internal()</a>, <a class="el" href="mdt__hsm__cdt__client_8c_source.html#l00249">hsm_action_permission()</a>, and <a class="el" href="mdd__object_8c_source.html#l00441">mdd_fix_attr()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:52 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
