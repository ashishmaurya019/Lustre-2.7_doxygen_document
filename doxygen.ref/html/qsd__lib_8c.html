<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/quota/qsd_lib.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/quota/qsd_lib.c File Reference</h1><code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="qsd__internal_8h_source.html">qsd_internal.h</a>&quot;</code><br/>

<p><a href="qsd__lib_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LQUOTA</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#aa2e8b528b73370c1450a9e9ebea919cc">LU_KEY_INIT_FINI</a> (qsd, struct <a class="el" href="structqsd__thread__info.html">qsd_thread_info</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#ac08a0b5da7ee7f1f0a49fde4a1056cdd">LU_CONTEXT_KEY_DEFINE</a> (qsd, LCT_MD_THREAD|LCT_DT_THREAD|LCT_LOCAL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a522792ad2e12e681ade2c2d7eb118c2f">LU_KEY_INIT_GENERIC</a> (qsd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#ac00ae1381827265f85ba6cae94e0af6c">qsd_state_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a497518743c835437053810bc7f974904">LPROC_SEQ_FOPS_RO</a> (qsd_state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#ac75003a1668e8356c8fc9bc30fd922b2">qsd_enabled_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a2997e78ff2f7137678d80c61f012a258">LPROC_SEQ_FOPS_RO</a> (qsd_enabled)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#ad6b1cb67b0ea52226eb7ae089c14c1f1">lprocfs_force_reint_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#af9575b5a7cb62e2e1f49a6cbc898c9da">LPROC_SEQ_FOPS_WO_TYPE</a> (qsd, force_reint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#af7454bb008584ab43d05ed492900a9bd">qsd_timeout_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a665aa8f82434b5336b677da332aaf97e">qsd_timeout_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a200f838daaa0a3b8c73777e72cfdc463">LPROC_SEQ_FOPS</a> (qsd_timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a9dce0e008249abb35b8ba934698c15a8">qsd_conn_callback</a> (void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#af1f89970152326f2701e005d7d87ecf2">qsd_qtype_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *qsd, int qtype)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a42fa8b22249c378bc3887b97596cce1a">qsd_qtype_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *qsd, int qtype)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#af3482e8ff815ad4bcf5d220b1306ab14">qsd_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *qsd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#ad83f711b435e04efb9a2d393cdf40073">qsd_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, char *svname, struct <a class="el" href="structdt__device.html">dt_device</a> *dev, struct proc_dir_entry *osd_proc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a52cc59b16b3ed8b11b48d97066698d90">qsd_prepare</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *qsd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a6b7d4ada0b9fdd110a29e475094d453f">qsd_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *qsd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a2fc689057cc399e1bb80196678180901">lustre_register_quota_process_config</a> (int(*qpc)(struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#aa255a4159fdd587c2da41347b31bc60b">qsd_glb_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a29561354c8a25ebac2717b782a0875fc">qsd_glb_fini</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a60b585f2b775ba26cf046a6133c66e4e">upd_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#ae3dc95178188d684f304409ab895551a">qsd_caches</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qsd__lib_8c.html#a89464095b85aa3097403176aef2bd3ec">lprocfs_quota_qsd_vars</a> []</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="qsd_lib.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LQUOTA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00052">52</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a200f838daaa0a3b8c73777e72cfdc463"></a><!-- doxytag: member="qsd_lib.c::LPROC_SEQ_FOPS" ref="a200f838daaa0a3b8c73777e72cfdc463" args="(qsd_timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS </td>
          <td>(</td>
          <td class="paramtype">qsd_timeout&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2997e78ff2f7137678d80c61f012a258"></a><!-- doxytag: member="qsd_lib.c::LPROC_SEQ_FOPS_RO" ref="a2997e78ff2f7137678d80c61f012a258" args="(qsd_enabled)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_RO </td>
          <td>(</td>
          <td class="paramtype">qsd_enabled&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a497518743c835437053810bc7f974904"></a><!-- doxytag: member="qsd_lib.c::LPROC_SEQ_FOPS_RO" ref="a497518743c835437053810bc7f974904" args="(qsd_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_RO </td>
          <td>(</td>
          <td class="paramtype">qsd_state&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af9575b5a7cb62e2e1f49a6cbc898c9da"></a><!-- doxytag: member="qsd_lib.c::LPROC_SEQ_FOPS_WO_TYPE" ref="af9575b5a7cb62e2e1f49a6cbc898c9da" args="(qsd, force_reint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_WO_TYPE </td>
          <td>(</td>
          <td class="paramtype">qsd&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">force_reint&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad6b1cb67b0ea52226eb7ae089c14c1f1"></a><!-- doxytag: member="qsd_lib.c::lprocfs_force_reint_seq_write" ref="ad6b1cb67b0ea52226eb7ae089c14c1f1" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lprocfs_force_reint_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00146">146</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_glb_uptodate</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_slv_uptodate</a>, <a class="el" href="qsd__internal_8h_source.html#l00098">qsd_instance::qsd_lock</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_prepared</a>, <a class="el" href="qsd__reint_8c_source.html#l00624">qsd_start_reint_thread()</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_stopping</a>, and <a class="el" href="qsd__internal_8h_source.html#l00073">qsd_instance::qsd_type_array</a>.</p>

</div>
</div>
<a class="anchor" id="ac08a0b5da7ee7f1f0a49fde4a1056cdd"></a><!-- doxytag: member="qsd_lib.c::LU_CONTEXT_KEY_DEFINE" ref="ac08a0b5da7ee7f1f0a49fde4a1056cdd" args="(qsd, LCT_MD_THREAD|LCT_DT_THREAD|LCT_LOCAL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_CONTEXT_KEY_DEFINE </td>
          <td>(</td>
          <td class="paramtype">qsd&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LCT_MD_THREAD|LCT_DT_THREAD|&nbsp;</td>
          <td class="paramname"> <em>LCT_LOCAL</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa2e8b528b73370c1450a9e9ebea919cc"></a><!-- doxytag: member="qsd_lib.c::LU_KEY_INIT_FINI" ref="aa2e8b528b73370c1450a9e9ebea919cc" args="(qsd, struct qsd_thread_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_KEY_INIT_FINI </td>
          <td>(</td>
          <td class="paramtype">qsd&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqsd__thread__info.html">qsd_thread_info</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a522792ad2e12e681ade2c2d7eb118c2f"></a><!-- doxytag: member="qsd_lib.c::LU_KEY_INIT_GENERIC" ref="a522792ad2e12e681ade2c2d7eb118c2f" args="(qsd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_KEY_INIT_GENERIC </td>
          <td>(</td>
          <td class="paramtype">qsd&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2fc689057cc399e1bb80196678180901"></a><!-- doxytag: member="qsd_lib.c::lustre_register_quota_process_config" ref="a2fc689057cc399e1bb80196678180901" args="(int(*qpc)(struct lustre_cfg *lcfg))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_register_quota_process_config </td>
          <td>(</td>
          <td class="paramtype">int(*)(struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg)&nbsp;</td>
          <td class="paramname"> <em>qpc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="obd__config_8c_source.html#l01132">1132</a> of file <a class="el" href="obd__config_8c_source.html">obd_config.c</a>.</p>

<p>References <a class="el" href="obd__config_8c.html#ab4a0c19cad463daff383e0ba2a5620b6">quota_process_config</a>.</p>

<p>Referenced by <a class="el" href="qsd__lib_8c_source.html#l00827">qsd_glb_fini()</a>, and <a class="el" href="qsd__lib_8c_source.html#l00809">qsd_glb_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a9dce0e008249abb35b8ba934698c15a8"></a><!-- doxytag: member="qsd_lib.c::qsd_conn_callback" ref="a9dce0e008249abb35b8ba934698c15a8" args="(void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_conn_callback </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00232">232</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="qsd__internal_8h_source.html#l00160">qsd_qtype_info::qqi_reint_thread</a>, <a class="el" href="qsd__internal_8h_source.html#l00059">qsd_instance::qsd_exp</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_exp_valid</a>, <a class="el" href="qsd__internal_8h_source.html#l00098">qsd_instance::qsd_lock</a>, <a class="el" href="qsd__internal_8h_source.html#l00062">qsd_instance::qsd_ns</a>, <a class="el" href="qsd__internal_8h_source.html#l00073">qsd_instance::qsd_type_array</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>.</p>

<p>Referenced by <a class="el" href="qsd__lib_8c_source.html#l00656">qsd_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="ac75003a1668e8356c8fc9bc30fd922b2"></a><!-- doxytag: member="qsd_lib.c::qsd_enabled_seq_show" ref="ac75003a1668e8356c8fc9bc30fd922b2" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_enabled_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00123">123</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="qsd__internal_8h_source.html#l00275">qsd_type_enabled()</a>.</p>

</div>
</div>
<a class="anchor" id="af3482e8ff815ad4bcf5d220b1306ab14"></a><!-- doxytag: member="qsd_lib.c::qsd_fini" ref="af3482e8ff815ad4bcf5d220b1306ab14" args="(const struct lu_env *env, struct qsd_instance *qsd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qsd_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>qsd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00474">474</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lu__object_8h_source.html#l00291">lu_device::ld_reference</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00952">lprocfs_remove()</a>, <a class="el" href="lu__object_8c_source.html#l01190">lu_device_put()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="obd__mount__server_8c_source.html#l00458">lustre_deregister_lwp_item()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="qsd__internal_8h_source.html#l00195">qsd_fsinfo::qfs_mutex</a>, <a class="el" href="qsd__internal_8h_source.html#l00052">qsd_instance::qsd_dev</a>, <a class="el" href="qsd__internal_8h_source.html#l00059">qsd_instance::qsd_exp</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_exp_valid</a>, <a class="el" href="qsd__internal_8h_source.html#l00076">qsd_instance::qsd_fsinfo</a>, <a class="el" href="qsd__internal_8h_source.html#l00079">qsd_instance::qsd_link</a>, <a class="el" href="qsd__internal_8h_source.html#l00098">qsd_instance::qsd_lock</a>, <a class="el" href="qsd__internal_8h_source.html#l00062">qsd_instance::qsd_ns</a>, <a class="el" href="qsd__internal_8h_source.html#l00056">qsd_instance::qsd_proc</a>, <a class="el" href="qsd__config_8c_source.html#l00047">qsd_put_fsinfo()</a>, <a class="el" href="qsd__lib_8c_source.html#l00273">qsd_qtype_fini()</a>, <a class="el" href="qsd__internal_8h_source.html#l00065">qsd_instance::qsd_root</a>, <a class="el" href="qsd__reint_8c_source.html#l00544">qsd_stop_reint_thread()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00563">qsd_stop_upd_thread()</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_stopping</a>, <a class="el" href="qsd__internal_8h_source.html#l00046">qsd_instance::qsd_svname</a>, <a class="el" href="qsd__internal_8h_source.html#l00073">qsd_instance::qsd_type_array</a>, <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06186">osd_shutdown()</a>, and <a class="el" href="qsd__lib_8c_source.html#l00557">qsd_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a29561354c8a25ebac2717b782a0875fc"></a><!-- doxytag: member="qsd_lib.c::qsd_glb_fini" ref="a29561354c8a25ebac2717b782a0875fc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qsd_glb_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00827">827</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="lu__object_8c_source.html#l01455">lu_context_key_degister()</a>, <a class="el" href="lu__object_8c_source.html#l02275">lu_kmem_fini()</a>, <a class="el" href="obd__config_8c_source.html#l01132">lustre_register_quota_process_config()</a>, and <a class="el" href="qsd__internal_8h.html#a836b45cfcac7023075f74df21edb216f">qsd_thread_key</a>.</p>

<p>Referenced by <a class="el" href="lquota__lib_8c_source.html#l00323">lquota_exit()</a>.</p>

</div>
</div>
<a class="anchor" id="aa255a4159fdd587c2da41347b31bc60b"></a><!-- doxytag: member="qsd_lib.c::qsd_glb_init" ref="aa255a4159fdd587c2da41347b31bc60b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qsd_glb_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00809">809</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="lu__object_8c_source.html#l01401">lu_context_key_register()</a>, <a class="el" href="lu__object_8c_source.html#l02251">lu_kmem_init()</a>, <a class="el" href="obd__config_8c_source.html#l01132">lustre_register_quota_process_config()</a>, <a class="el" href="qsd__config_8c_source.html#l00128">qsd_process_config()</a>, and <a class="el" href="qsd__internal_8h.html#a836b45cfcac7023075f74df21edb216f">qsd_thread_key</a>.</p>

<p>Referenced by <a class="el" href="lquota__lib_8c_source.html#l00292">lquota_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ad83f711b435e04efb9a2d393cdf40073"></a><!-- doxytag: member="qsd_lib.c::qsd_init" ref="ad83f711b435e04efb9a2d393cdf40073" args="(const struct lu_env *env, char *svname, struct dt_device *dev, struct proc_dir_entry *osd_proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structqsd__instance.html">qsd_instance</a>* qsd_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>svname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__device.html">dt_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct proc_dir_entry *&nbsp;</td>
          <td class="paramname"> <em>osd_proc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00557">557</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lu__object_8h_source.html#l00291">lu_device::ld_reference</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00949">lprocfs_register()</a>, <a class="el" href="lu__object_8c_source.html#l01181">lu_device_get()</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="qsd__internal_8h_source.html#l00195">qsd_fsinfo::qfs_mutex</a>, <a class="el" href="qsd__internal_8h_source.html#l00194">qsd_fsinfo::qfs_qsd_list</a>, <a class="el" href="qsd__internal_8h_source.html#l00082">qsd_instance::qsd_adjust_list</a>, <a class="el" href="qsd__internal_8h_source.html#l00085">qsd_instance::qsd_adjust_lock</a>, <a class="el" href="qsd__internal_8h_source.html#l00052">qsd_instance::qsd_dev</a>, <a class="el" href="lustre__disk_8h_source.html#l00071">QSD_DIR</a>, <a class="el" href="qsd__lib_8c_source.html#l00474">qsd_fini()</a>, <a class="el" href="qsd__internal_8h_source.html#l00076">qsd_instance::qsd_fsinfo</a>, <a class="el" href="qsd__config_8c_source.html#l00074">qsd_get_fsinfo()</a>, <a class="el" href="qsd__internal_8h_source.html#l00261">qsd_info()</a>, <a class="el" href="qsd__internal_8h_source.html#l00079">qsd_instance::qsd_link</a>, <a class="el" href="qsd__internal_8h_source.html#l00098">qsd_instance::qsd_lock</a>, <a class="el" href="qsd__internal_8h_source.html#l00049">qsd_instance::qsd_pool_id</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_prepared</a>, <a class="el" href="qsd__internal_8h_source.html#l00056">qsd_instance::qsd_proc</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_started</a>, <a class="el" href="qsd__internal_8h_source.html#l00046">qsd_instance::qsd_svname</a>, <a class="el" href="qsd__internal_8h_source.html#l00091">qsd_instance::qsd_upd_list</a>, <a class="el" href="qsd__internal_8h_source.html#l00088">qsd_instance::qsd_upd_thread</a>, <a class="el" href="qsd__internal_8h_source.html#l00255">qsd_thread_info::qti_buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="obd__mount_8c_source.html#l00685">server_name2fsname()</a>, <a class="el" href="obd__mount_8c_source.html#l00790">server_name2index()</a>, <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>, <a class="el" href="lustre__net_8h_source.html#l01494">SVC_STOPPED</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06404">osd_device_init0()</a>, and <a class="el" href="osd-zfs_2osd__handler_8c_source.html#l00947">osd_mount()</a>.</p>

</div>
</div>
<a class="anchor" id="a52cc59b16b3ed8b11b48d97066698d90"></a><!-- doxytag: member="qsd_lib.c::qsd_prepare" ref="a52cc59b16b3ed8b11b48d97066698d90" args="(const struct lu_env *env, struct qsd_instance *qsd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qsd_prepare </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>qsd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00656">656</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="dt__object_8h_source.html#l01723">dt_device::dd_lu_dev</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libcfs__debug_8h_source.html#l00287">LCONSOLE_ERROR</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lquota__disk_8c_source.html#l00158">lquota_disk_dir_find_create()</a>, <a class="el" href="lquota__internal_8h_source.html#l00279">LQUOTA_LEAST_QUNIT</a>, <a class="el" href="lustre__idl_8h_source.html#l01917">LQUOTA_RES_DT</a>, <a class="el" href="lustre__idl_8h_source.html#l01916">LQUOTA_RES_MD</a>, <a class="el" href="lu__object_8h_source.html#l00619">lu_site::ls_top_dev</a>, <a class="el" href="lu__object_8h_source.html#l00399">lu_device_is_md()</a>, <a class="el" href="obd__mount__server_8c_source.html#l00405">lustre_register_lwp_item()</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_acct_failed</a>, <a class="el" href="qsd__lib_8c_source.html#l00232">qsd_conn_callback()</a>, <a class="el" href="qsd__internal_8h_source.html#l00052">qsd_instance::qsd_dev</a>, <a class="el" href="lustre__disk_8h_source.html#l00071">QSD_DIR</a>, <a class="el" href="qsd__internal_8h_source.html#l00059">qsd_instance::qsd_exp</a>, <a class="el" href="qsd__internal_8h_source.html#l00261">qsd_info()</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_is_md</a>, <a class="el" href="qsd__internal_8h_source.html#l00098">qsd_instance::qsd_lock</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_prepared</a>, <a class="el" href="qsd__lib_8c_source.html#l00360">qsd_qtype_init()</a>, <a class="el" href="qsd__internal_8h_source.html#l00065">qsd_instance::qsd_root</a>, <a class="el" href="qsd__reint_8c_source.html#l00624">qsd_start_reint_thread()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00493">qsd_start_upd_thread()</a>, <a class="el" href="qsd__internal_8h_source.html#l00046">qsd_instance::qsd_svname</a>, <a class="el" href="qsd__internal_8h_source.html#l00103">qsd_instance::qsd_sync_threshold</a>, <a class="el" href="qsd__internal_8h_source.html#l00073">qsd_instance::qsd_type_array</a>, <a class="el" href="qsd__internal_8h_source.html#l00275">qsd_type_enabled()</a>, <a class="el" href="qsd__internal_8h_source.html#l00255">qsd_thread_info::qti_buf</a>, <a class="el" href="lquota__internal_8h_source.html#l00034">QTYPE_NAME</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="obd__mount__server_8c_source.html#l00349">tgt_name2lwp_name()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06648">osd_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="af1f89970152326f2701e005d7d87ecf2"></a><!-- doxytag: member="qsd_lib.c::qsd_qtype_fini" ref="af1f89970152326f2701e005d7d87ecf2" args="(const struct lu_env *env, struct qsd_instance *qsd, int qtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qsd_qtype_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>qsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>qtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00273">273</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lquota__entry_8c_source.html#l00245">lquota_site_free()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lu__ref_8h_source.html#l00200">lu_ref_fini()</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="qsd__internal_8h_source.html#l00147">qsd_qtype_info::qqi_acct_obj</a>, <a class="el" href="qsd__internal_8h_source.html#l00166">qsd_qtype_info::qqi_deferred_glb</a>, <a class="el" href="qsd__internal_8h_source.html#l00168">qsd_qtype_info::qqi_deferred_slv</a>, <a class="el" href="qsd__internal_8h_source.html#l00149">qsd_qtype_info::qqi_glb_obj</a>, <a class="el" href="qsd__internal_8h_source.html#l00153">qsd_qtype_info::qqi_glb_ver</a>, <a class="el" href="qsd__internal_8h_source.html#l00127">qsd_qtype_info::qqi_ref</a>, <a class="el" href="qsd__internal_8h_source.html#l00179">qsd_qtype_info::qqi_reference</a>, <a class="el" href="qsd__internal_8h_source.html#l00157">qsd_qtype_info::qqi_site</a>, <a class="el" href="qsd__internal_8h_source.html#l00148">qsd_qtype_info::qqi_slv_obj</a>, <a class="el" href="qsd__internal_8h_source.html#l00152">qsd_qtype_info::qqi_slv_ver</a>, <a class="el" href="qsd__internal_8h_source.html#l00073">qsd_instance::qsd_type_array</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="qsd__lib_8c_source.html#l00474">qsd_fini()</a>, and <a class="el" href="qsd__lib_8c_source.html#l00360">qsd_qtype_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a42fa8b22249c378bc3887b97596cce1a"></a><!-- doxytag: member="qsd_lib.c::qsd_qtype_init" ref="a42fa8b22249c378bc3887b97596cce1a" args="(const struct lu_env *env, struct qsd_instance *qsd, int qtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_qtype_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>qsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>qtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00360">360</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="lquota__lib_8c_source.html#l00065">acct_obj_lookup()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00155">D_QUOTA</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8c_source.html#l00553">dt_version_get()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lquota__internal_8h.html#a9220e6ffcd148324a7257b7cd36d0df5">lprocfs_quota_seq_fops</a>, <a class="el" href="lquota__disk_8c_source.html#l00234">lquota_disk_glb_find_create()</a>, <a class="el" href="lquota__disk_8c_source.html#l00375">lquota_disk_slv_find_create()</a>, <a class="el" href="lquota__lib_8c_source.html#l00240">lquota_generate_fid()</a>, <a class="el" href="lquota__entry_8c_source.html#l00198">lquota_site_alloc()</a>, <a class="el" href="lu__ref_8h_source.html#l00196">lu_ref_init()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="lustre__user_8h_source.html#l00506">obd_str2uuid()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="qsd__internal_8h_source.html#l00147">qsd_qtype_info::qqi_acct_obj</a>, <a class="el" href="qsd__internal_8h_source.html#l00166">qsd_qtype_info::qqi_deferred_glb</a>, <a class="el" href="qsd__internal_8h_source.html#l00168">qsd_qtype_info::qqi_deferred_slv</a>, <a class="el" href="qsd__internal_8h_source.html#l00134">qsd_qtype_info::qqi_fid</a>, <a class="el" href="qsd__internal_8h_source.html#l00149">qsd_qtype_info::qqi_glb_obj</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_glb_uptodate</a>, <a class="el" href="qsd__internal_8h_source.html#l00153">qsd_qtype_info::qqi_glb_ver</a>, <a class="el" href="qsd__internal_8h_source.html#l00141">qsd_qtype_info::qqi_qsd</a>, <a class="el" href="qsd__internal_8h_source.html#l00131">qsd_qtype_info::qqi_qtype</a>, <a class="el" href="qsd__internal_8h_source.html#l00127">qsd_qtype_info::qqi_ref</a>, <a class="el" href="qsd__internal_8h_source.html#l00179">qsd_qtype_info::qqi_reference</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_reint</a>, <a class="el" href="qsd__internal_8h_source.html#l00160">qsd_qtype_info::qqi_reint_thread</a>, <a class="el" href="qsd__internal_8h_source.html#l00157">qsd_qtype_info::qqi_site</a>, <a class="el" href="qsd__internal_8h_source.html#l00148">qsd_qtype_info::qqi_slv_obj</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_slv_uptodate</a>, <a class="el" href="qsd__internal_8h_source.html#l00152">qsd_qtype_info::qqi_slv_ver</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_acct_failed</a>, <a class="el" href="qsd__internal_8h_source.html#l00052">qsd_instance::qsd_dev</a>, <a class="el" href="qsd__entry_8c_source.html#l00155">qsd_lqe_ops</a>, <a class="el" href="qsd__internal_8h_source.html#l00049">qsd_instance::qsd_pool_id</a>, <a class="el" href="qsd__internal_8h_source.html#l00056">qsd_instance::qsd_proc</a>, <a class="el" href="qsd__lib_8c_source.html#l00273">qsd_qtype_fini()</a>, <a class="el" href="qsd__internal_8h_source.html#l00227">QSD_RES_TYPE</a>, <a class="el" href="qsd__internal_8h_source.html#l00065">qsd_instance::qsd_root</a>, <a class="el" href="qsd__internal_8h_source.html#l00046">qsd_instance::qsd_svname</a>, <a class="el" href="qsd__internal_8h_source.html#l00073">qsd_instance::qsd_type_array</a>, <a class="el" href="lquota__internal_8h_source.html#l00034">QTYPE_NAME</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01494">SVC_STOPPED</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="lustre__net_8h_source.html#l01577">thread_set_flags()</a>.</p>

<p>Referenced by <a class="el" href="qsd__lib_8c_source.html#l00656">qsd_prepare()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b7d4ada0b9fdd110a29e475094d453f"></a><!-- doxytag: member="qsd_lib.c::qsd_start" ref="a6b7d4ada0b9fdd110a29e475094d453f" args="(const struct lu_env *env, struct qsd_instance *qsd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qsd_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structqsd__instance.html">qsd_instance</a> *&nbsp;</td>
          <td class="paramname"> <em>qsd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00768">768</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="qsd__internal_8h_source.html#l00160">qsd_qtype_info::qqi_reint_thread</a>, <a class="el" href="qsd__internal_8h_source.html#l00098">qsd_instance::qsd_lock</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_prepared</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_started</a>, <a class="el" href="qsd__internal_8h_source.html#l00046">qsd_instance::qsd_svname</a>, <a class="el" href="qsd__internal_8h_source.html#l00073">qsd_instance::qsd_type_array</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06580">osd_recovery_complete()</a>.</p>

</div>
</div>
<a class="anchor" id="ac00ae1381827265f85ba6cae94e0af6c"></a><!-- doxytag: member="qsd_lib.c::qsd_state_seq_show" ref="ac00ae1381827265f85ba6cae94e0af6c" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_state_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00076">76</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="qsd__internal_8h_source.html#l00147">qsd_qtype_info::qqi_acct_obj</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_glb_uptodate</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_reint</a>, <a class="el" href="qsd__internal_8h_source.html#l00172">qsd_qtype_info::qqi_slv_uptodate</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_exp_valid</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_is_md</a>, <a class="el" href="qsd__internal_8h_source.html#l00049">qsd_instance::qsd_pool_id</a>, <a class="el" href="qsd__internal_8h_source.html#l00110">qsd_instance::qsd_prepared</a>, <a class="el" href="qsd__internal_8h_source.html#l00046">qsd_instance::qsd_svname</a>, <a class="el" href="qsd__internal_8h_source.html#l00073">qsd_instance::qsd_type_array</a>, and <a class="el" href="qsd__internal_8h_source.html#l00275">qsd_type_enabled()</a>.</p>

</div>
</div>
<a class="anchor" id="af7454bb008584ab43d05ed492900a9bd"></a><!-- doxytag: member="qsd_lib.c::qsd_timeout_seq_show" ref="af7454bb008584ab43d05ed492900a9bd" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qsd_timeout_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00183">183</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="qsd__internal_8h_source.html#l00332">qsd_wait_timeout()</a>.</p>

</div>
</div>
<a class="anchor" id="a665aa8f82434b5336b677da332aaf97e"></a><!-- doxytag: member="qsd_lib.c::qsd_timeout_seq_write" ref="a665aa8f82434b5336b677da332aaf97e" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t qsd_timeout_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00193">193</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="qsd__internal_8h_source.html#l00108">qsd_instance::qsd_timeout</a>, and <a class="el" href="gnilnd__modparams_8c_source.html#l00052">timeout</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a89464095b85aa3097403176aef2bd3ec"></a><!-- doxytag: member="qsd_lib.c::lprocfs_quota_qsd_vars" ref="a89464095b85aa3097403176aef2bd3ec" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a> <a class="el" href="qsd__lib_8c.html#a89464095b85aa3097403176aef2bd3ec">lprocfs_quota_qsd_vars</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        { .name =       <span class="stringliteral">&quot;info&quot;</span>,
          .fops =       &amp;qsd_state_fops         },
        { .name =       <span class="stringliteral">&quot;enabled&quot;</span>,
          .fops =       &amp;qsd_enabled_fops       },
        { .name =       <span class="stringliteral">&quot;force_reint&quot;</span>,
          .fops =       &amp;qsd_force_reint_fops   },
        { .name =       <span class="stringliteral">&quot;timeout&quot;</span>,
          .fops =       &amp;qsd_timeout_fops       },
        { NULL }
}
</pre></div>
<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00212">212</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae3dc95178188d684f304409ab895551a"></a><!-- doxytag: member="qsd_lib.c::qsd_caches" ref="ae3dc95178188d684f304409ab895551a" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a> <a class="el" href="qsd__lib_8c.html#ae3dc95178188d684f304409ab895551a">qsd_caches</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        {
                .ckd_cache = &amp;<a class="code" href="qsd__lib_8c.html#a60b585f2b775ba26cf046a6133c66e4e">upd_kmem</a>,
                .ckd_name  = <span class="stringliteral">&quot;upd_kmem&quot;</span>,
                .ckd_size  = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structqsd__upd__rec.html">qsd_upd_rec</a>)
        },
        {
                .ckd_cache = NULL
        }
}
</pre></div>
<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00059">59</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

</div>
</div>
<a class="anchor" id="a60b585f2b775ba26cf046a6133c66e4e"></a><!-- doxytag: member="qsd_lib.c::upd_kmem" ref="a60b585f2b775ba26cf046a6133c66e4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="qsd__writeback_8c.html#a60b585f2b775ba26cf046a6133c66e4e">upd_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qsd__lib_8c_source.html#l00057">57</a> of file <a class="el" href="qsd__lib_8c_source.html">qsd_lib.c</a>.</p>

<p>Referenced by <a class="el" href="qsd__writeback_8c_source.html#l00050">qsd_upd_alloc()</a>, and <a class="el" href="qsd__writeback_8c_source.html#l00077">qsd_upd_free()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
