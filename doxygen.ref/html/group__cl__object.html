<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: cl_object</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cl_object<br/>
<small>
[<a class="el" href="group__clio.html">clio</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__attr.html">cl_attr</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">"Data attributes" of <a class="el" href="structcl__object.html" title="Sub-class of lu_object with methods common for objects on the client stacks.">cl_object</a>.  <a href="structcl__attr.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__object.html">cl_object</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sub-class of <a class="el" href="structlu__object.html" title="Layer in the layered object.">lu_object</a> with methods common for objects on the client stacks.  <a href="structcl__object.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__object__conf.html">cl_object_conf</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Description of the client object configuration.  <a href="structcl__object__conf.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__layout.html">cl_layout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__object__operations.html">cl_object_operations</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Operations implemented for each cl object layer.  <a href="structcl__object__operations.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__object__header.html">cl_object_header</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extended header for client object.  <a href="structcl__object__header.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga6477841d5f3bd9c2a2ca05e2aa089ea9">cl_object_for_each</a>(slice, obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper macro: iterate over all layers of the object <em>obj</em>, assigning every layer top-to-bottom to <em>slice</em>.  <a href="#ga6477841d5f3bd9c2a2ca05e2aa089ea9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gade758968f8d058a2849df2f8f3e70762">cl_object_for_each_reverse</a>(slice, obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper macro: iterate over all layers of the object <em>obj</em>, assigning every layer bottom-to-top to <em>slice</em>.  <a href="#gade758968f8d058a2849df2f8f3e70762"></a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga48fd4da7a215ef4bcc31582adceb8b83">cl_attr_valid</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__cl__object.html#gga48fd4da7a215ef4bcc31582adceb8b83a8ccb81e3f6a5cba7c8e9bd494874cd38">CAT_SIZE</a> =  1 &lt;&lt; 0, 
<a class="el" href="group__cl__object.html#gga48fd4da7a215ef4bcc31582adceb8b83aa410b24e55de9c6bf1fb8da2d36a5c8d">CAT_KMS</a> =  1 &lt;&lt; 1, 
<a class="el" href="group__cl__object.html#gga48fd4da7a215ef4bcc31582adceb8b83ac7e947d42c260c8df203b6d73da46f4c">CAT_MTIME</a> =  1 &lt;&lt; 3, 
<a class="el" href="group__cl__object.html#gga48fd4da7a215ef4bcc31582adceb8b83af1b07764255dd3f79878a040e7cb73b0">CAT_ATIME</a> =  1 &lt;&lt; 4, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__cl__object.html#gga48fd4da7a215ef4bcc31582adceb8b83a3d90d16441447a6904e7932279f13cb3">CAT_CTIME</a> =  1 &lt;&lt; 5, 
<a class="el" href="group__cl__object.html#gga48fd4da7a215ef4bcc31582adceb8b83a0426f1a497ac52defd19a0f843de76dd">CAT_BLOCKS</a> =  1 &lt;&lt; 6, 
<a class="el" href="group__cl__object.html#gga48fd4da7a215ef4bcc31582adceb8b83a5b08cbafc7ea7a9a5bc7579fe8d1d7d4">CAT_UID</a> =  1 &lt;&lt; 7, 
<a class="el" href="group__cl__object.html#gga48fd4da7a215ef4bcc31582adceb8b83aa0bf839b66fce54ab3eaf3744311f6f6">CAT_GID</a> =  1 &lt;&lt; 8
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Fields in <a class="el" href="structcl__attr.html" title="&quot;Data attributes&quot; of cl_object.">cl_attr</a> that are being set. </p>
 <a href="group__cl__object.html#ga48fd4da7a215ef4bcc31582adceb8b83">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__cl__object.html#gga99fb83031ce9923c84392b4e92f956b5afbab2abc5d277403ef84e9bcd75ee7e5">OBJECT_CONF_SET</a> =  0, 
<a class="el" href="group__cl__object.html#gga99fb83031ce9923c84392b4e92f956b5a008009ec8f83b28274d90a650cca813b">OBJECT_CONF_INVALIDATE</a> =  1, 
<a class="el" href="group__cl__object.html#gga99fb83031ce9923c84392b4e92f956b5a916b610eabe05c138a1717820f9a0696">OBJECT_CONF_WAIT</a> =  2
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__cl__object.html#ggabc6126af1d45847bc59afa0aa3216b04a1b72f9397d6476c49c2e8d29c77f7020">CL_LAYOUT_GEN_NONE</a> =  (u32)-2, 
<a class="el" href="group__cl__object.html#ggabc6126af1d45847bc59afa0aa3216b04a24c291bae1cc38e81fe6ec49d17db612">CL_LAYOUT_GEN_EMPTY</a> =  (u32)-1
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga00ef0f7240b9a7d773a49a77c667f03a">cl_object_top</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the top-object for a given <em>o</em>.  <a href="#ga00ef0f7240b9a7d773a49a77c667f03a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gacc02a64c0c65d5fab9a6fafc83771acd">cl_object_find</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__device.html">cl_device</a> *cd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structcl__object__conf.html">cl_object_conf</a> *c)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a <a class="el" href="structcl__object.html" title="Sub-class of lu_object with methods common for objects on the client stacks.">cl_object</a> with a given <em>fid</em>.  <a href="#gacc02a64c0c65d5fab9a6fafc83771acd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga0e1e8f1e195acfd9ad600b33e8f183e7">cl_object_header_init</a> (struct <a class="el" href="structcl__object__header.html">cl_object_header</a> *h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize <a class="el" href="structcl__object__header.html" title="Extended header for client object.">cl_object_header</a>.  <a href="#ga0e1e8f1e195acfd9ad600b33e8f183e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga76b88e11955bc3109371ae6194189d25">cl_object_header_fini</a> (struct <a class="el" href="structcl__object__header.html">cl_object_header</a> *h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize <a class="el" href="structcl__object__header.html" title="Extended header for client object.">cl_object_header</a>.  <a href="#ga76b88e11955bc3109371ae6194189d25"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga61a377b8d6ccf182357c959cfdbbcf16">cl_object_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Releases a reference on <em>o</em>.  <a href="#ga61a377b8d6ccf182357c959cfdbbcf16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gae84de86afc6e9dbf1f9e1a7219bd202b">cl_object_get</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Acquire an additional reference to the object <em>o</em>.  <a href="#gae84de86afc6e9dbf1f9e1a7219bd202b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga0ab97a8a879d5a81b4b5d60367e0ff0a">cl_object_attr_lock</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Locks data-attributes.  <a href="#ga0ab97a8a879d5a81b4b5d60367e0ff0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga2fc69699a9214cda8ac2e8264b709dac">cl_object_attr_unlock</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Releases data-attributes lock, acquired by <a class="el" href="group__cl__object.html#ga0ab97a8a879d5a81b4b5d60367e0ff0a" title="Locks data-attributes.">cl_object_attr_lock()</a>.  <a href="#ga2fc69699a9214cda8ac2e8264b709dac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gadfa2c03f781edcc53976843d94c18b48">cl_object_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__attr.html">cl_attr</a> *attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns data-attributes of an object <em>obj</em>.  <a href="#gadfa2c03f781edcc53976843d94c18b48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gaaa4c4e2f092946a662c321e1aa7a4aab">cl_object_attr_update</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, const struct <a class="el" href="structcl__attr.html">cl_attr</a> *attr, unsigned valid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates data-attributes of an object <em>obj</em>.  <a href="#gaaa4c4e2f092946a662c321e1aa7a4aab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gaeed557c8f4926f9d6492df7026fd4b13">cl_object_glimpse</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structost__lvb.html">ost_lvb</a> *lvb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Notifies layers (bottom-to-top) that glimpse AST was received.  <a href="#gaeed557c8f4926f9d6492df7026fd4b13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga2e572a2e5a92e017e5d45187657e3f94">cl_conf_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, const struct <a class="el" href="structcl__object__conf.html">cl_object_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates a configuration of an object <em>obj</em>.  <a href="#ga2e572a2e5a92e017e5d45187657e3f94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gacbefea6c611d782bb7ccfac4be7f3ec9">cl_object_prune</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prunes caches of pages and locks for this object.  <a href="#gacbefea6c611d782bb7ccfac4be7f3ec9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga2969ac9d2e4cce406eb1bfa24838964f">cl_object_kill</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function removing all object locks, and marking object for deletion.  <a href="#ga2969ac9d2e4cce406eb1bfa24838964f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga746cc5d7737450ca64ba6997f3e9afd8">cl_object_getstripe</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct lov_user_md __user *lum)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get stripe information of this object.  <a href="#ga746cc5d7737450ca64ba6997f3e9afd8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gae661d62a9c4af07425119b1308c3ff61">cl_object_fiemap</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structll__fiemap__info__key.html">ll_fiemap_info_key</a> *fmkey, struct fiemap *fiemap, size_t *buflen)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get fiemap extents from file object.  <a href="#gae661d62a9c4af07425119b1308c3ff61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gaed35f941df7b7d63305b33783313b235">cl_object_layout_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__layout.html">cl_layout</a> *cl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">loff_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#gaa30ca80e8a50712e8ccf910be0bf0845">cl_object_maxbytes</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga49a29b0baac53b37e4a7e7334c081c21">cl_object_same</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *o0, struct <a class="el" href="structcl__object.html">cl_object</a> *o1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true, iff <em>o0</em> and <em>o1</em> are slices of the same object.  <a href="#ga49a29b0baac53b37e4a7e7334c081c21"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga90d038bc9bf28000122750aa79e393b2">cl_object_page_init</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *clob, int <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga22b6cf3a62d106fcfb7bee291d22ff70">cl_object_page_slice</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *clob, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__object.html#ga6468845263bc804e0badfe153da12081">cl_object_refc</a> (struct <a class="el" href="structcl__object.html">cl_object</a> *clob)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return refcount of <a class="el" href="structcl__object.html" title="Sub-class of lu_object with methods common for objects on the client stacks.">cl_object</a>.  <a href="#ga6468845263bc804e0badfe153da12081"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga6477841d5f3bd9c2a2ca05e2aa089ea9"></a><!-- doxytag: member="cl_object.h::cl_object_for_each" ref="ga6477841d5f3bd9c2a2ca05e2aa089ea9" args="(slice, obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cl_object_for_each</td>
          <td>(</td>
          <td class="paramtype">slice, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">obj&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="list_8h.html#a9b782fefb5ab71ce9762182e45a615e1" title="Iterate over a list of given type.">list_for_each_entry</a>((slice),                            \
                            &amp;(obj)-&gt;co_lu.lo_header-&gt;loh_layers,\
                            co_lu.lo_linkage)
</pre></div>
<p>Helper macro: iterate over all layers of the object <em>obj</em>, assigning every layer top-to-bottom to <em>slice</em>. </p>

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l00454">454</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>

<p>Referenced by <a class="el" href="cl__io_8c_source.html#l00155">cl_io_init0()</a>, <a class="el" href="cl__io_8c_source.html#l01174">cl_req_attr_set()</a>, and <a class="el" href="lov__object_8c_source.html#l00206">lov_page_slice_fixup()</a>.</p>

</div>
</div>
<a class="anchor" id="gade758968f8d058a2849df2f8f3e70762"></a><!-- doxytag: member="cl_object.h::cl_object_for_each_reverse" ref="gade758968f8d058a2849df2f8f3e70762" args="(slice, obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cl_object_for_each_reverse</td>
          <td>(</td>
          <td class="paramtype">slice, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">obj&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="list_8h.html#accc8d8e6c8ffe8ce964c5a1b59732cf3" title="Iterate backwards over a list of given type.">list_for_each_entry_reverse</a>((slice),                            \
                                    &amp;(obj)-&gt;co_lu.lo_header-&gt;loh_layers,\
                                    co_lu.lo_linkage)
</pre></div>
<p>Helper macro: iterate over all layers of the object <em>obj</em>, assigning every layer bottom-to-top to <em>slice</em>. </p>

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l00463">463</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga99fb83031ce9923c84392b4e92f956b5"></a><!-- doxytag: member="cl_object.h::@2" ref="ga99fb83031ce9923c84392b4e92f956b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga99fb83031ce9923c84392b4e92f956b5afbab2abc5d277403ef84e9bcd75ee7e5"></a><!-- doxytag: member="OBJECT_CONF_SET" ref="gga99fb83031ce9923c84392b4e92f956b5afbab2abc5d277403ef84e9bcd75ee7e5" args="" -->OBJECT_CONF_SET</em>&nbsp;</td><td>
<p>configure layout, set up a new stripe, must be called while holding layout lock. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga99fb83031ce9923c84392b4e92f956b5a008009ec8f83b28274d90a650cca813b"></a><!-- doxytag: member="OBJECT_CONF_INVALIDATE" ref="gga99fb83031ce9923c84392b4e92f956b5a008009ec8f83b28274d90a650cca813b" args="" -->OBJECT_CONF_INVALIDATE</em>&nbsp;</td><td>
<p>invalidate the current stripe configuration due to losing layout lock. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga99fb83031ce9923c84392b4e92f956b5a916b610eabe05c138a1717820f9a0696"></a><!-- doxytag: member="OBJECT_CONF_WAIT" ref="gga99fb83031ce9923c84392b4e92f956b5a916b610eabe05c138a1717820f9a0696" args="" -->OBJECT_CONF_WAIT</em>&nbsp;</td><td>
<p>wait for old layout to go away so that new layout can be set up. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l00267">267</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabc6126af1d45847bc59afa0aa3216b04"></a><!-- doxytag: member="cl_object.h::@3" ref="gabc6126af1d45847bc59afa0aa3216b04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggabc6126af1d45847bc59afa0aa3216b04a1b72f9397d6476c49c2e8d29c77f7020"></a><!-- doxytag: member="CL_LAYOUT_GEN_NONE" ref="ggabc6126af1d45847bc59afa0aa3216b04a1b72f9397d6476c49c2e8d29c77f7020" args="" -->CL_LAYOUT_GEN_NONE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabc6126af1d45847bc59afa0aa3216b04a24c291bae1cc38e81fe6ec49d17db612"></a><!-- doxytag: member="CL_LAYOUT_GEN_EMPTY" ref="ggabc6126af1d45847bc59afa0aa3216b04a24c291bae1cc38e81fe6ec49d17db612" args="" -->CL_LAYOUT_GEN_EMPTY</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l00279">279</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga48fd4da7a215ef4bcc31582adceb8b83"></a><!-- doxytag: member="cl_object.h::cl_attr_valid" ref="ga48fd4da7a215ef4bcc31582adceb8b83" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__cl__object.html#ga48fd4da7a215ef4bcc31582adceb8b83">cl_attr_valid</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fields in <a class="el" href="structcl__attr.html" title="&quot;Data attributes&quot; of cl_object.">cl_attr</a> that are being set. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga48fd4da7a215ef4bcc31582adceb8b83a8ccb81e3f6a5cba7c8e9bd494874cd38"></a><!-- doxytag: member="CAT_SIZE" ref="gga48fd4da7a215ef4bcc31582adceb8b83a8ccb81e3f6a5cba7c8e9bd494874cd38" args="" -->CAT_SIZE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga48fd4da7a215ef4bcc31582adceb8b83aa410b24e55de9c6bf1fb8da2d36a5c8d"></a><!-- doxytag: member="CAT_KMS" ref="gga48fd4da7a215ef4bcc31582adceb8b83aa410b24e55de9c6bf1fb8da2d36a5c8d" args="" -->CAT_KMS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga48fd4da7a215ef4bcc31582adceb8b83ac7e947d42c260c8df203b6d73da46f4c"></a><!-- doxytag: member="CAT_MTIME" ref="gga48fd4da7a215ef4bcc31582adceb8b83ac7e947d42c260c8df203b6d73da46f4c" args="" -->CAT_MTIME</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga48fd4da7a215ef4bcc31582adceb8b83af1b07764255dd3f79878a040e7cb73b0"></a><!-- doxytag: member="CAT_ATIME" ref="gga48fd4da7a215ef4bcc31582adceb8b83af1b07764255dd3f79878a040e7cb73b0" args="" -->CAT_ATIME</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga48fd4da7a215ef4bcc31582adceb8b83a3d90d16441447a6904e7932279f13cb3"></a><!-- doxytag: member="CAT_CTIME" ref="gga48fd4da7a215ef4bcc31582adceb8b83a3d90d16441447a6904e7932279f13cb3" args="" -->CAT_CTIME</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga48fd4da7a215ef4bcc31582adceb8b83a0426f1a497ac52defd19a0f843de76dd"></a><!-- doxytag: member="CAT_BLOCKS" ref="gga48fd4da7a215ef4bcc31582adceb8b83a0426f1a497ac52defd19a0f843de76dd" args="" -->CAT_BLOCKS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga48fd4da7a215ef4bcc31582adceb8b83a5b08cbafc7ea7a9a5bc7579fe8d1d7d4"></a><!-- doxytag: member="CAT_UID" ref="gga48fd4da7a215ef4bcc31582adceb8b83a5b08cbafc7ea7a9a5bc7579fe8d1d7d4" args="" -->CAT_UID</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga48fd4da7a215ef4bcc31582adceb8b83aa0bf839b66fce54ab3eaf3744311f6f6"></a><!-- doxytag: member="CAT_GID" ref="gga48fd4da7a215ef4bcc31582adceb8b83aa0bf839b66fce54ab3eaf3744311f6f6" args="" -->CAT_GID</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l00178">178</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga2e572a2e5a92e017e5d45187657e3f94"></a><!-- doxytag: member="cl_object.h::cl_conf_set" ref="ga2e572a2e5a92e017e5d45187657e3f94" args="(const struct lu_env *env, struct cl_object *obj, const struct cl_object_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_conf_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__object__conf.html">cl_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates a configuration of an object <em>obj</em>. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00298">298</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00229">co_ops</a>, <a class="el" href="structcl__object__operations.html#a88bd54845a2e896ffd7cc9c057572923">cl_object_operations::coo_conf_set</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lcommon__cl_8c_source.html#l00131">cl_file_inode_init()</a>, and <a class="el" href="file_8c_source.html#l03872">ll_layout_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="gadfa2c03f781edcc53976843d94c18b48"></a><!-- doxytag: member="cl_object.h::cl_object_attr_get" ref="gadfa2c03f781edcc53976843d94c18b48" args="(const struct lu_env *env, struct cl_object *obj, struct cl_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_object_attr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__attr.html">cl_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns data-attributes of an object <em>obj</em>. </p>
<p>Every layer is asked (by calling <a class="el" href="structcl__object__operations.html#a63cabd646365a83d06c0e8eae0fe633f" title="Fill portion of attr that this layer controls.">cl_object_operations::coo_attr_get()</a>) top-to-bottom to fill in parts of <em>attr</em> that this layer is responsible for. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00204">204</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00168">cl_object_attr_guard()</a>, <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00229">co_ops</a>, <a class="el" href="structcl__object__operations.html#a63cabd646365a83d06c0e8eae0fe633f">cl_object_operations::coo_attr_get</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00929">ll_merge_attr()</a>, <a class="el" href="rw26_8c_source.html#l00596">ll_prepare_partial_page()</a>, <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, <a class="el" href="osc__cache_8c_source.html#l01277">osc_refresh_count()</a>, and <a class="el" href="vvp__io_8c_source.html#l00133">vvp_prep_size()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0ab97a8a879d5a81b4b5d60367e0ff0a"></a><!-- doxytag: member="cl_object.h::cl_object_attr_lock" ref="ga0ab97a8a879d5a81b4b5d60367e0ff0a" args="(struct cl_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_object_attr_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Locks data-attributes. </p>
<p>Prevents data-attributes from changing, until lock is released by <a class="el" href="group__cl__object.html#ga2fc69699a9214cda8ac2e8264b709dac" title="Releases data-attributes lock, acquired by cl_object_attr_lock().">cl_object_attr_unlock()</a>. This has to be called before calls to <a class="el" href="group__cl__object.html#gadfa2c03f781edcc53976843d94c18b48" title="Returns data-attributes of an object obj.">cl_object_attr_get()</a>, <a class="el" href="group__cl__object.html#gaaa4c4e2f092946a662c321e1aa7a4aab" title="Updates data-attributes of an object obj.">cl_object_attr_update()</a>. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00180">180</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00168">cl_object_attr_guard()</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="file_8c_source.html#l00929">ll_merge_attr()</a>, <a class="el" href="rw26_8c_source.html#l00596">ll_prepare_partial_page()</a>, <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, <a class="el" href="osc__io_8c_source.html#l00719">osc_io_read_start()</a>, <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, <a class="el" href="osc__io_8c_source.html#l00737">osc_io_write_start()</a>, <a class="el" href="osc__lock_8c_source.html#l00191">osc_lock_lvb_update()</a>, <a class="el" href="osc__io_8c_source.html#l00228">osc_page_touch_at()</a>, <a class="el" href="osc__cache_8c_source.html#l01277">osc_refresh_count()</a>, <a class="el" href="osc__request_8c_source.html#l00459">osc_sync_interpret()</a>, <a class="el" href="vvp__io_8c_source.html#l00707">vvp_io_setattr_time()</a>, and <a class="el" href="vvp__io_8c_source.html#l00106">vvp_object_size_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2fc69699a9214cda8ac2e8264b709dac"></a><!-- doxytag: member="cl_object.h::cl_object_attr_unlock" ref="ga2fc69699a9214cda8ac2e8264b709dac" args="(struct cl_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_object_attr_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Releases data-attributes lock, acquired by <a class="el" href="group__cl__object.html#ga0ab97a8a879d5a81b4b5d60367e0ff0a" title="Locks data-attributes.">cl_object_attr_lock()</a>. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00190">190</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00168">cl_object_attr_guard()</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="file_8c_source.html#l00929">ll_merge_attr()</a>, <a class="el" href="rw26_8c_source.html#l00596">ll_prepare_partial_page()</a>, <a class="el" href="rw_8c_source.html#l00428">ll_readahead()</a>, <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, <a class="el" href="osc__io_8c_source.html#l00719">osc_io_read_start()</a>, <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, <a class="el" href="osc__io_8c_source.html#l00737">osc_io_write_start()</a>, <a class="el" href="osc__lock_8c_source.html#l00191">osc_lock_lvb_update()</a>, <a class="el" href="osc__io_8c_source.html#l00228">osc_page_touch_at()</a>, <a class="el" href="osc__cache_8c_source.html#l01277">osc_refresh_count()</a>, <a class="el" href="osc__request_8c_source.html#l00459">osc_sync_interpret()</a>, <a class="el" href="vvp__io_8c_source.html#l00707">vvp_io_setattr_time()</a>, and <a class="el" href="vvp__io_8c_source.html#l00114">vvp_object_size_unlock()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaa4c4e2f092946a662c321e1aa7a4aab"></a><!-- doxytag: member="cl_object.h::cl_object_attr_update" ref="gaaa4c4e2f092946a662c321e1aa7a4aab" args="(const struct lu_env *env, struct cl_object *obj, const struct cl_attr *attr, unsigned valid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_object_attr_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__attr.html">cl_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>v</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates data-attributes of an object <em>obj</em>. </p>
<p>Only attributes, mentioned in a validness bit-mask <em>v</em> are updated. Calls cl_object_operations::coo_upd_attr() on every layer, bottom to top. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00236">236</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00168">cl_object_attr_guard()</a>, <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00229">co_ops</a>, <a class="el" href="structcl__object__operations.html#add30d6bf56d89a425b3980a1184558ab">cl_object_operations::coo_attr_update</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00472">list_for_each_entry_reverse</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, <a class="el" href="osc__io_8c_source.html#l00719">osc_io_read_start()</a>, <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, <a class="el" href="osc__io_8c_source.html#l00737">osc_io_write_start()</a>, <a class="el" href="osc__lock_8c_source.html#l00191">osc_lock_lvb_update()</a>, <a class="el" href="osc__io_8c_source.html#l00228">osc_page_touch_at()</a>, <a class="el" href="osc__request_8c_source.html#l00459">osc_sync_interpret()</a>, and <a class="el" href="vvp__io_8c_source.html#l00707">vvp_io_setattr_time()</a>.</p>

</div>
</div>
<a class="anchor" id="gae661d62a9c4af07425119b1308c3ff61"></a><!-- doxytag: member="cl_object.h::cl_object_fiemap" ref="gae661d62a9c4af07425119b1308c3ff61" args="(const struct lu_env *env, struct cl_object *obj, struct ll_fiemap_info_key *fmkey, struct fiemap *fiemap, size_t *buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_object_fiemap </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__fiemap__info__key.html">ll_fiemap_info_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fiemap *&nbsp;</td>
          <td class="paramname"> <em>fiemap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>buflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get fiemap extents from file object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>[in] lustre environment </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>[in] file object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>[in] fiemap request argument </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fiemap</em>&nbsp;</td><td>[out] fiemap extents mapping retrived </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buflen</em>&nbsp;</td><td>[in] max buffer length of </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>&lt;</em>&nbsp;</td><td>0 error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00376">376</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00229">co_ops</a>, <a class="el" href="structcl__object__operations.html#ab2deed25a532503a0b8a2b5ba9e48479">cl_object_operations::coo_fiemap</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01760">ll_do_fiemap()</a>, and <a class="el" href="lov__object_8c_source.html#l01134">lov_object_fiemap()</a>.</p>

</div>
</div>
<a class="anchor" id="gacc02a64c0c65d5fab9a6fafc83771acd"></a><!-- doxytag: member="cl_object.h::cl_object_find" ref="gacc02a64c0c65d5fab9a6fafc83771acd" args="(const struct lu_env *env, struct cl_device *cd, const struct lu_fid *fid, const struct cl_object_conf *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcl__object.html">cl_object</a>* cl_object_find </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__device.html">cl_device</a> *&nbsp;</td>
          <td class="paramname"> <em>cd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__object__conf.html">cl_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a <a class="el" href="structcl__object.html" title="Sub-class of lu_object with methods common for objects on the client stacks.">cl_object</a> with a given <em>fid</em>. </p>
<p>Returns either cached or newly created object. Additional reference on the returned object is acquired.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__lu.html#ga507da2d12daef52e3859b9b96d0ae591" title="Search cache for an object with the fid f.">lu_object_find()</a>, <a class="el" href="group__cl__page.html#ga448fbdaea940886c756e4a2d659982ba" title="Returns a cl_page with index idx at the object o, and associated with the VM page...">cl_page_find()</a>, cl_lock_find() </dd></dl>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00103">103</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01949">cl2lu_dev()</a>, <a class="el" href="cl__object_8h_source.html#l00241">cl_object_conf::coc_lu</a>, <a class="el" href="cl__object_8h_source.html#l01954">lu2cl()</a>, and <a class="el" href="lu__object_8c_source.html#l00808">lu_object_find_slice()</a>.</p>

<p>Referenced by <a class="el" href="echo__client_8c_source.html#l01109">cl_echo_object_find()</a>, and <a class="el" href="lcommon__cl_8c_source.html#l00131">cl_file_inode_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gae84de86afc6e9dbf1f9e1a7219bd202b"></a><!-- doxytag: member="cl_object.h::cl_object_get" ref="gae84de86afc6e9dbf1f9e1a7219bd202b" args="(struct cl_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_object_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Acquire an additional reference to the object <em>o</em>. </p>
<p>This can only be used to acquire _additional_ reference, i.e., caller already has to possess at least one reference to <em>o</em> before calling this.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__cl__page.html#gafc2fc785c3daf1db46bb250244dfde13" title="Acquires an additional reference to a page.">cl_page_get()</a>, cl_lock_get(). </dd></dl>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00134">134</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, and <a class="el" href="lu__object_8h_source.html#l00709">lu_object_get()</a>.</p>

<p>Referenced by <a class="el" href="cl__page_8c_source.html#l00172">cl_page_alloc()</a>, <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, <a class="el" href="osc__cache_8c_source.html#l00321">osc_extent_alloc()</a>, <a class="el" href="osc__lock_8c_source.html#l00582">osc_ldlm_glimpse_ast()</a>, <a class="el" href="osc__request_8c_source.html#l02601">osc_ldlm_resource_invalidate()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, and <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>.</p>

</div>
</div>
<a class="anchor" id="ga746cc5d7737450ca64ba6997f3e9afd8"></a><!-- doxytag: member="cl_object.h::cl_object_getstripe" ref="ga746cc5d7737450ca64ba6997f3e9afd8" args="(const struct lu_env *env, struct cl_object *obj, struct lov_user_md __user *lum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_object_getstripe </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct lov_user_md __user *&nbsp;</td>
          <td class="paramname"> <em>lum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get stripe information of this object. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00345">345</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00229">co_ops</a>, <a class="el" href="structcl__object__operations.html#a2b8dec58886703a63ae318cf4e34137f">cl_object_operations::coo_getstripe</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l01583">ll_file_getstripe()</a>.</p>

</div>
</div>
<a class="anchor" id="gaeed557c8f4926f9d6492df7026fd4b13"></a><!-- doxytag: member="cl_object.h::cl_object_glimpse" ref="gaeed557c8f4926f9d6492df7026fd4b13" args="(const struct lu_env *env, struct cl_object *obj, struct ost_lvb *lvb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_object_glimpse </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structost__lvb.html">ost_lvb</a> *&nbsp;</td>
          <td class="paramname"> <em>lvb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notifies layers (bottom-to-top) that glimpse AST was received. </p>
<p>Layers have to fill <em>lvb</em> fields with information that will be shipped back to glimpse issuer.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>cl_lock_operations::clo_glimpse() </dd></dl>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00270">270</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00229">co_ops</a>, <a class="el" href="structcl__object__operations.html#a1cacda5692e51d04da73eed3fdbf37c6">cl_object_operations::coo_glimpse</a>, <a class="el" href="libcfs__debug_8h_source.html#l00145">D_DLMTRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00472">list_for_each_entry_reverse</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lu__object_8h_source.html#l00812">LU_OBJECT_HEADER</a>, <a class="el" href="lu__object_8h_source.html#l00753">lu_object_top()</a>, <a class="el" href="lustre__idl_8h_source.html#l01818">ost_lvb::lvb_atime</a>, <a class="el" href="lustre__idl_8h_source.html#l01820">ost_lvb::lvb_blocks</a>, <a class="el" href="lustre__idl_8h_source.html#l01819">ost_lvb::lvb_ctime</a>, <a class="el" href="lustre__idl_8h_source.html#l01817">ost_lvb::lvb_mtime</a>, <a class="el" href="lustre__idl_8h_source.html#l01816">ost_lvb::lvb_size</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lovsub__object_8c_source.html#l00118">lovsub_object_glimpse()</a>, and <a class="el" href="osc__lock_8c_source.html#l00582">osc_ldlm_glimpse_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="ga76b88e11955bc3109371ae6194189d25"></a><!-- doxytag: member="cl_object.h::cl_object_header_fini" ref="ga76b88e11955bc3109371ae6194189d25" args="(struct cl_object_header *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_object_header_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object__header.html">cl_object_header</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finalize <a class="el" href="structcl__object__header.html" title="Extended header for client object.">cl_object_header</a>. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00090">90</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00421">cl_object_header::coh_lu</a>, and <a class="el" href="lu__object_8c_source.html#l01316">lu_object_header_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0e1e8f1e195acfd9ad600b33e8f183e7"></a><!-- doxytag: member="cl_object.h::cl_object_header_init" ref="ga0e1e8f1e195acfd9ad600b33e8f183e7" args="(struct cl_object_header *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_object_header_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object__header.html">cl_object_header</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize <a class="el" href="structcl__object__header.html" title="Extended header for client object.">cl_object_header</a>. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00072">72</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00067">cl_attr_guard_class</a>, <a class="el" href="cl__object_8h_source.html#l00438">cl_object_header::coh_attr_guard</a>, <a class="el" href="cl__object_8h_source.html#l00421">cl_object_header::coh_lu</a>, <a class="el" href="cl__object_8h_source.html#l00442">cl_object_header::coh_page_bufsize</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8c_source.html#l01301">lu_object_header_init()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="echo__client_8c_source.html#l00554">echo_object_alloc()</a>, <a class="el" href="lovsub__object_8c_source.html#l00166">lovsub_object_alloc()</a>, and <a class="el" href="vvp__object_8c_source.html#l00290">vvp_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2969ac9d2e4cce406eb1bfa24838964f"></a><!-- doxytag: member="cl_object.h::cl_object_kill" ref="ga2969ac9d2e4cce406eb1bfa24838964f" args="(const struct lu_env *env, struct cl_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_object_kill </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function removing all object locks, and marking object for deletion. </p>
<p>All object pages must have been deleted at this point.</p>
<p>This is called by <a class="el" href="lcommon__cl_8c.html#a522981af77da3b98a01c053f7e18a0c6">cl_inode_fini()</a> and <a class="el" href="group__lov.html#gab969deb657c8c9c409ff301f2dc72971">lov_object_delete()</a> to destroy top- and sub- objects respectively. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00435">435</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01982">cl_object_header()</a>, <a class="el" href="cl__object_8h_source.html#l00421">cl_object_header::coh_lu</a>, <a class="el" href="lu__object_8h_source.html#l00530">lu_object_header::loh_flags</a>, and <a class="el" href="lu__object_8h_source.html#l00493">LU_OBJECT_HEARD_BANSHEE</a>.</p>

<p>Referenced by <a class="el" href="lcommon__cl_8c_source.html#l00226">cl_inode_fini()</a>, <a class="el" href="lov__object_8c_source.html#l00135">lov_init_sub()</a>, and <a class="el" href="lov__object_8c_source.html#l00359">lov_subobject_kill()</a>.</p>

</div>
</div>
<a class="anchor" id="gaed35f941df7b7d63305b33783313b235"></a><!-- doxytag: member="cl_object.h::cl_object_layout_get" ref="gaed35f941df7b7d63305b33783313b235" args="(const struct lu_env *env, struct cl_object *obj, struct cl_layout *cl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_object_layout_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__layout.html">cl_layout</a> *&nbsp;</td>
          <td class="paramname"> <em>cl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00397">397</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00229">co_ops</a>, <a class="el" href="structcl__object__operations.html#a4a286454405198270e0675386b806a10">cl_object_operations::coo_layout_get</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="xattr_8c_source.html#l00521">ll_getxattr_lov()</a>, and <a class="el" href="file_8c_source.html#l03872">ll_layout_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa30ca80e8a50712e8ccf910be0bf0845"></a><!-- doxytag: member="cl_object.h::cl_object_maxbytes" ref="gaa30ca80e8a50712e8ccf910be0bf0845" args="(struct cl_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">loff_t cl_object_maxbytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00412">412</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00229">co_ops</a>, <a class="el" href="structcl__object__operations.html#ab8023e91e539a9a2661fd0744df80997">cl_object_operations::coo_maxbytes</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="llite__internal_8h_source.html#l01115">ll_file_maxbytes()</a>.</p>

</div>
</div>
<a class="anchor" id="ga90d038bc9bf28000122750aa79e393b2"></a><!-- doxytag: member="cl_object.h::cl_object_page_init" ref="ga90d038bc9bf28000122750aa79e393b2" args="(struct cl_object *clob, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_object_page_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>clob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l02047">2047</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="cl__object_8h_source.html#l01982">cl_object_header()</a>, <a class="el" href="cl__object_8h_source.html#l00231">co_slice_off</a>, and <a class="el" href="cl__object_8h_source.html#l00442">cl_object_header::coh_page_bufsize</a>.</p>

<p>Referenced by <a class="el" href="echo__client_8c_source.html#l00463">echo_object_init()</a>, <a class="el" href="lov__object_8c_source.html#l00802">lov_object_init()</a>, <a class="el" href="lovsub__object_8c_source.html#l00055">lovsub_object_init()</a>, <a class="el" href="osc__object_8c_source.html#l00073">osc_object_init()</a>, and <a class="el" href="vvp__object_8c_source.html#l00229">vvp_object_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga22b6cf3a62d106fcfb7bee291d22ff70"></a><!-- doxytag: member="cl_object.h::cl_object_page_slice" ref="ga22b6cf3a62d106fcfb7bee291d22ff70" args="(struct cl_object *clob, struct cl_page *page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* cl_object_page_slice </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>clob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page.html">cl_page</a> *&nbsp;</td>
          <td class="paramname"> <em>page</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l02054">2054</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00231">co_slice_off</a>.</p>

<p>Referenced by <a class="el" href="echo__client_8c_source.html#l00406">echo_page_init()</a>, <a class="el" href="rw_8c_source.html#l01077">ll_io_read_page()</a>, <a class="el" href="rw26_8c_source.html#l00596">ll_prepare_partial_page()</a>, <a class="el" href="rw_8c_source.html#l00178">ll_read_ahead_page()</a>, <a class="el" href="lov__page_8c_source.html#l00126">lov_page_init_empty()</a>, <a class="el" href="lov__page_8c_source.html#l00069">lov_page_init_raid0()</a>, <a class="el" href="lovsub__page_8c_source.html#l00064">lovsub_page_init()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00546">osc_cl_page_osc()</a>, <a class="el" href="osc__page_8c_source.html#l00380">osc_page_init()</a>, <a class="el" href="vvp__io_8c_source.html#l00944">page_list_sanity_check()</a>, <a class="el" href="vvp__io_8c_source.html#l01202">vvp_io_fault_start()</a>, and <a class="el" href="vvp__page_8c_source.html#l00517">vvp_page_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gacbefea6c611d782bb7ccfac4be7f3ec9"></a><!-- doxytag: member="cl_object.h::cl_object_prune" ref="gacbefea6c611d782bb7ccfac4be7f3ec9" args="(const struct lu_env *env, struct cl_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_object_prune </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prunes caches of pages and locks for this object. </p>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00321">321</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00229">co_ops</a>, <a class="el" href="structcl__object__operations.html#ae9470df7237ccbd5dec57b38ceb67015">cl_object_operations::coo_prune</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00480">lu_object::lo_linkage</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lov__object_8c_source.html#l00406">lov_delete_raid0()</a>, and <a class="el" href="lov__object_8c_source.html#l00729">lov_layout_change()</a>.</p>

</div>
</div>
<a class="anchor" id="ga61a377b8d6ccf182357c959cfdbbcf16"></a><!-- doxytag: member="cl_object.h::cl_object_put" ref="ga61a377b8d6ccf182357c959cfdbbcf16" args="(const struct lu_env *env, struct cl_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_object_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Releases a reference on <em>o</em>. </p>
<p>When last reference is released object is returned to the cache, unless <a class="el" href="group__lu.html#gga519a2e6103ae639c8df1777d311cc985aca9a04f530d5436e7996a1ff142d01d0" title="Don&#39;t keep this object in cache.">lu_object_header_flags::LU_OBJECT_HEARD_BANSHEE</a> bit is set in its header.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__cl__page.html#ga1dc4205fd892e559c96ce97aad4eebf1" title="Releases a reference to a page.">cl_page_put()</a>, cl_lock_put(). </dd></dl>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00120">120</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, and <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>.</p>

<p>Referenced by <a class="el" href="echo__client_8c_source.html#l01109">cl_echo_object_find()</a>, <a class="el" href="echo__client_8c_source.html#l01174">cl_echo_object_put()</a>, <a class="el" href="lcommon__cl_8c_source.html#l00198">cl_object_put_last()</a>, <a class="el" href="cl__page_8c_source.html#l00133">cl_page_free()</a>, <a class="el" href="lov__object_8c_source.html#l00135">lov_init_sub()</a>, <a class="el" href="lov__object_8c_source.html#l01134">lov_object_fiemap()</a>, <a class="el" href="lov__object_8c_source.html#l00359">lov_subobject_kill()</a>, <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, <a class="el" href="osc__cache_8c_source.html#l00355">osc_extent_put()</a>, <a class="el" href="osc__lock_8c_source.html#l00582">osc_ldlm_glimpse_ast()</a>, <a class="el" href="osc__request_8c_source.html#l02601">osc_ldlm_resource_invalidate()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, <a class="el" href="osc__lock_8c_source.html#l00357">osc_lock_upcall_agl()</a>, <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>, <a class="el" href="vvp__dev_8c_source.html#l00459">vvp_pgcache_find()</a>, and <a class="el" href="vvp__dev_8c_source.html#l00537">vvp_pgcache_show()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6468845263bc804e0badfe153da12081"></a><!-- doxytag: member="cl_object.h::cl_object_refc" ref="ga6468845263bc804e0badfe153da12081" args="(struct cl_object *clob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cl_object_refc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>clob</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return refcount of <a class="el" href="structcl__object.html" title="Sub-class of lu_object with methods common for objects on the client stacks.">cl_object</a>. </p>

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l02063">2063</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">co_lu</a>, <a class="el" href="it__test_8c_source.html#l00070">header</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, and <a class="el" href="lu__object_8h_source.html#l00534">lu_object_header::loh_ref</a>.</p>

<p>Referenced by <a class="el" href="rw26_8c_source.html#l00128">ll_releasepage()</a>.</p>

</div>
</div>
<a class="anchor" id="ga49a29b0baac53b37e4a7e7334c081c21"></a><!-- doxytag: member="cl_object.h::cl_object_same" ref="ga49a29b0baac53b37e4a7e7334c081c21" args="(struct cl_object *o0, struct cl_object *o1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cl_object_same </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true, iff <em>o0</em> and <em>o1</em> are slices of the same object. </p>

<p>Definition at line <a class="el" href="cl__object_8h_source.html#l02042">2042</a> of file <a class="el" href="cl__object_8h_source.html">cl_object.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01982">cl_object_header()</a>.</p>

<p>Referenced by <a class="el" href="cl__io_8c_source.html#l00312">cl_lockset_merge()</a>, <a class="el" href="cl__page_8c_source.html#l00652">cl_page_assume()</a>, <a class="el" href="cl__page_8c_source.html#l00496">cl_page_invoid()</a>, <a class="el" href="cl__page_8c_source.html#l00484">cl_page_invoke()</a>, <a class="el" href="cl__page_8c_source.html#l00555">cl_page_is_owned()</a>, <a class="el" href="lov__lock_8c_source.html#l00055">lov_sublock_env_get()</a>, and <a class="el" href="osc__lock_8c_source.html#l01128">osc_lock_set_writer()</a>.</p>

</div>
</div>
<a class="anchor" id="ga00ef0f7240b9a7d773a49a77c667f03a"></a><!-- doxytag: member="cl_object.h::cl_object_top" ref="ga00ef0f7240b9a7d773a49a77c667f03a" args="(struct cl_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcl__object.html">cl_object</a>* cl_object_top </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the top-object for a given <em>o</em>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__cl__io.html#ga4bb065eb52291173dbda9a0721b1ea2c" title="Returns top-level io.">cl_io_top()</a> </dd></dl>

<p>Definition at line <a class="el" href="cl__object_8c_source.html#l00145">145</a> of file <a class="el" href="cl__object_8c_source.html">cl_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01982">cl_object_header()</a>, <a class="el" href="cl__object_8h_source.html#l00421">cl_object_header::coh_lu</a>, <a class="el" href="cl__object_8h_source.html#l00430">cl_object_header::coh_parent</a>, <a class="el" href="libcfs__debug_8h_source.html#l00129">D_TRACE</a>, <a class="el" href="cl__object_8h_source.html#l01954">lu2cl()</a>, and <a class="el" href="lu__object_8h_source.html#l00753">lu_object_top()</a>.</p>

<p>Referenced by <a class="el" href="cl__io_8c_source.html#l00211">cl_io_init()</a>, <a class="el" href="cl__io_8c_source.html#l00189">cl_io_sub_init()</a>, <a class="el" href="cl__object_8c_source.html#l00168">cl_object_attr_guard()</a>, <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>, and <a class="el" href="osc__lock_8c_source.html#l00658">osc_lock_weight()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:51 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
