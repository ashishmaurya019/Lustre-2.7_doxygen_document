<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: libcfs/include/libcfs/libcfs_prim.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>libcfs/include/libcfs/libcfs_prim.h File Reference</h1><code>#include &lt;linux/sched.h&gt;</code><br/>

<p><a href="libcfs__prim_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#a7f0310f04132b6c7524dba93c7e38efe">NUM_CACHEPAGES</a>&nbsp;&nbsp;&nbsp;totalram_pages</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#a3792dc5c01b423fdf17148b197bdda7d">cfs_timer_func_t</a> )(<a class="el" href="libcfs_2include_2libcfs_2types_8h.html#a8546ab74a6e38f3f91dd2ef047396659">ulong_ptr_t</a>)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#aa595fca11d18bfe3bae33a3a83de7171">cfs_init_timer</a> (struct timer_list *t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#a895a72c47b5f0f89fbb2e6cd3142e5ce">cfs_timer_init</a> (struct timer_list *t, <a class="el" href="libcfs__prim_8h.html#a3792dc5c01b423fdf17148b197bdda7d">cfs_timer_func_t</a> *func, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#ad993e65d22283a72e167773153cde76c">cfs_timer_arm</a> (struct timer_list *t, <a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a> deadline)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#a73357d243036c731f58cf6cf50d34ad7">cfs_timer_disarm</a> (struct timer_list *t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#aff845f4380066f97a998708f04dcfc16">cfs_timer_is_armed</a> (struct timer_list *t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#a46b405b93fd42188cf76b0de5f7f7281">cfs_timer_deadline</a> (struct timer_list *t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#ae4df6b1e6b5f671be8be887b6adb5f64">memory_pressure_get</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#a9ae14be7f02a72ef03dc1a28329f31bc">memory_pressure_set</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#aa3fe43188743d4d511efd09345bc1a1c">memory_pressure_clr</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#a0e6f57ccab70bf9a9039a5a17a5f7494">cfs_memory_pressure_get_and_set</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="libcfs__prim_8h.html#a82d3b7915b5d463d70a11f68ccaa6920">cfs_memory_pressure_restore</a> (int old)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a7f0310f04132b6c7524dba93c7e38efe"></a><!-- doxytag: member="libcfs_prim.h::NUM_CACHEPAGES" ref="a7f0310f04132b6c7524dba93c7e38efe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_CACHEPAGES&nbsp;&nbsp;&nbsp;totalram_pages</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__prim_8h_source.html#l00065">65</a> of file <a class="el" href="libcfs__prim_8h_source.html">libcfs_prim.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a3792dc5c01b423fdf17148b197bdda7d"></a><!-- doxytag: member="libcfs_prim.h::cfs_timer_func_t" ref="a3792dc5c01b423fdf17148b197bdda7d" args=")(ulong_ptr_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void( <a class="el" href="libcfs__prim_8h.html#a3792dc5c01b423fdf17148b197bdda7d">cfs_timer_func_t</a>)(<a class="el" href="libcfs_2include_2libcfs_2types_8h.html#a8546ab74a6e38f3f91dd2ef047396659">ulong_ptr_t</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__prim_8h_source.html#l00048">48</a> of file <a class="el" href="libcfs__prim_8h_source.html">libcfs_prim.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa595fca11d18bfe3bae33a3a83de7171"></a><!-- doxytag: member="libcfs_prim.h::cfs_init_timer" ref="aa595fca11d18bfe3bae33a3a83de7171" args="(struct timer_list *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_init_timer </td>
          <td>(</td>
          <td class="paramtype">struct timer_list *&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="linux-prim_8c_source.html#l00049">49</a> of file <a class="el" href="linux-prim_8c_source.html">linux-prim.c</a>.</p>

<p>Referenced by <a class="el" href="obd__config_8c_source.html#l00336">class_attach()</a>.</p>

</div>
</div>
<a class="anchor" id="a0e6f57ccab70bf9a9039a5a17a5f7494"></a><!-- doxytag: member="libcfs_prim.h::cfs_memory_pressure_get_and_set" ref="a0e6f57ccab70bf9a9039a5a17a5f7494" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cfs_memory_pressure_get_and_set </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__prim_8h_source.html#l00083">83</a> of file <a class="el" href="libcfs__prim_8h_source.html">libcfs_prim.h</a>.</p>

<p>References <a class="el" href="libcfs__prim_8h_source.html#l00068">memory_pressure_get()</a>, and <a class="el" href="libcfs__prim_8h_source.html#l00073">memory_pressure_set()</a>.</p>

<p>Referenced by <a class="el" href="gnilnd__cb_8c_source.html#l02109">kgnilnd_send()</a>, <a class="el" href="socklnd__cb_8c_source.html#l00924">ksocknal_send()</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, and <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="a82d3b7915b5d463d70a11f68ccaa6920"></a><!-- doxytag: member="libcfs_prim.h::cfs_memory_pressure_restore" ref="a82d3b7915b5d463d70a11f68ccaa6920" args="(int old)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void cfs_memory_pressure_restore </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>old</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__prim_8h_source.html#l00092">92</a> of file <a class="el" href="libcfs__prim_8h_source.html">libcfs_prim.h</a>.</p>

<p>References <a class="el" href="libcfs__prim_8h_source.html#l00078">memory_pressure_clr()</a>, and <a class="el" href="libcfs__prim_8h_source.html#l00073">memory_pressure_set()</a>.</p>

<p>Referenced by <a class="el" href="gnilnd__cb_8c_source.html#l02109">kgnilnd_send()</a>, <a class="el" href="socklnd__cb_8c_source.html#l00924">ksocknal_send()</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, and <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ad993e65d22283a72e167773153cde76c"></a><!-- doxytag: member="libcfs_prim.h::cfs_timer_arm" ref="ad993e65d22283a72e167773153cde76c" args="(struct timer_list *t, cfs_time_t deadline)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_timer_arm </td>
          <td>(</td>
          <td class="paramtype">struct timer_list *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a>&nbsp;</td>
          <td class="paramname"> <em>deadline</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="linux-prim_8c_source.html#l00063">63</a> of file <a class="el" href="linux-prim_8c_source.html">linux-prim.c</a>.</p>

<p>Referenced by <a class="el" href="osp__precreate_8c_source.html#l00121">osp_statfs_interpret()</a>, and <a class="el" href="service_8c_source.html#l01159">ptlrpc_at_set_timer()</a>.</p>

</div>
</div>
<a class="anchor" id="a46b405b93fd42188cf76b0de5f7f7281"></a><!-- doxytag: member="libcfs_prim.h::cfs_timer_deadline" ref="a46b405b93fd42188cf76b0de5f7f7281" args="(struct timer_list *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a> cfs_timer_deadline </td>
          <td>(</td>
          <td class="paramtype">struct timer_list *&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="linux-prim_8c_source.html#l00081">81</a> of file <a class="el" href="linux-prim_8c_source.html">linux-prim.c</a>.</p>

</div>
</div>
<a class="anchor" id="a73357d243036c731f58cf6cf50d34ad7"></a><!-- doxytag: member="libcfs_prim.h::cfs_timer_disarm" ref="a73357d243036c731f58cf6cf50d34ad7" args="(struct timer_list *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_timer_disarm </td>
          <td>(</td>
          <td class="paramtype">struct timer_list *&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="linux-prim_8c_source.html#l00069">69</a> of file <a class="el" href="linux-prim_8c_source.html">linux-prim.c</a>.</p>

<p>Referenced by <a class="el" href="osp__precreate_8c_source.html#l01596">osp_precreate_fini()</a>, <a class="el" href="osp__precreate_8c_source.html#l00231">osp_statfs_need_now()</a>, <a class="el" href="osp__precreate_8c_source.html#l00175">osp_statfs_update()</a>, <a class="el" href="service_8c_source.html#l01159">ptlrpc_at_set_timer()</a>, <a class="el" href="service_8c_source.html#l02985">ptlrpc_service_del_atimer()</a>, and <a class="el" href="service_8c_source.html#l03123">ptlrpc_service_free()</a>.</p>

</div>
</div>
<a class="anchor" id="a895a72c47b5f0f89fbb2e6cd3142e5ce"></a><!-- doxytag: member="libcfs_prim.h::cfs_timer_init" ref="a895a72c47b5f0f89fbb2e6cd3142e5ce" args="(struct timer_list *t, cfs_timer_func_t *func, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_timer_init </td>
          <td>(</td>
          <td class="paramtype">struct timer_list *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libcfs__prim_8h.html#a3792dc5c01b423fdf17148b197bdda7d">cfs_timer_func_t</a> *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="linux-prim_8c_source.html#l00055">55</a> of file <a class="el" href="linux-prim_8c_source.html">linux-prim.c</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>, <a class="el" href="osp__precreate_8c_source.html#l01531">osp_init_precreate()</a>, and <a class="el" href="service_8c_source.html#l00599">ptlrpc_service_part_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aff845f4380066f97a998708f04dcfc16"></a><!-- doxytag: member="libcfs_prim.h::cfs_timer_is_armed" ref="aff845f4380066f97a998708f04dcfc16" args="(struct timer_list *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_timer_is_armed </td>
          <td>(</td>
          <td class="paramtype">struct timer_list *&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="linux-prim_8c_source.html#l00075">75</a> of file <a class="el" href="linux-prim_8c_source.html">linux-prim.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa3fe43188743d4d511efd09345bc1a1c"></a><!-- doxytag: member="libcfs_prim.h::memory_pressure_clr" ref="aa3fe43188743d4d511efd09345bc1a1c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void memory_pressure_clr </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__prim_8h_source.html#l00078">78</a> of file <a class="el" href="libcfs__prim_8h_source.html">libcfs_prim.h</a>.</p>

<p>Referenced by <a class="el" href="libcfs__prim_8h_source.html#l00092">cfs_memory_pressure_restore()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02662">ldlm_bl_thread_blwi()</a>, and <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ae4df6b1e6b5f671be8be887b6adb5f64"></a><!-- doxytag: member="libcfs_prim.h::memory_pressure_get" ref="ae4df6b1e6b5f671be8be887b6adb5f64" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int memory_pressure_get </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__prim_8h_source.html#l00068">68</a> of file <a class="el" href="libcfs__prim_8h_source.html">libcfs_prim.h</a>.</p>

<p>Referenced by <a class="el" href="libcfs__prim_8h_source.html#l00083">cfs_memory_pressure_get_and_set()</a>, <a class="el" href="tracefile_8c_source.html#l00070">cfs_tage_alloc()</a>, <a class="el" href="tracefile_8c_source.html#l00141">cfs_trace_get_tage_try()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02007">init_blwi()</a>, and <a class="el" href="lib-move_8c_source.html#l02169">LNetPut()</a>.</p>

</div>
</div>
<a class="anchor" id="a9ae14be7f02a72ef03dc1a28329f31bc"></a><!-- doxytag: member="libcfs_prim.h::memory_pressure_set" ref="a9ae14be7f02a72ef03dc1a28329f31bc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void memory_pressure_set </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="libcfs__prim_8h_source.html#l00073">73</a> of file <a class="el" href="libcfs__prim_8h_source.html">libcfs_prim.h</a>.</p>

<p>Referenced by <a class="el" href="libcfs__prim_8h_source.html#l00083">cfs_memory_pressure_get_and_set()</a>, <a class="el" href="libcfs__prim_8h_source.html#l00092">cfs_memory_pressure_restore()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02662">ldlm_bl_thread_blwi()</a>, and <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:45 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
