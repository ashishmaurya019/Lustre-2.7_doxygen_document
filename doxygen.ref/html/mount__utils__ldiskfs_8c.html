<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/utils/mount_utils_ldiskfs.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/utils/mount_utils_ldiskfs.c File Reference</h1><code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br/>
<code>#include &lt;inttypes.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;mntent.h&gt;</code><br/>
<code>#include &lt;glob.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/mount.h&gt;</code><br/>
<code>#include &lt;sys/utsname.h&gt;</code><br/>
<code>#include &lt;getopt.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/version.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__disk_8h_source.html">lustre_disk.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__param_8h_source.html">lustre_param.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lnetctl_8h_source.html">lnet/lnetctl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__ver_8h_source.html">lustre_ver.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="mount__utils_8h_source.html">mount_utils.h</a>&quot;</code><br/>

<p><a href="mount__utils__ldiskfs_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a3201831deb27b559621ba479899d9085">MAX_HW_SECTORS_KB_PATH</a>&nbsp;&nbsp;&nbsp;&quot;queue/max_hw_sectors_kb&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a59dd1914356a979f18c12a6eee3da7e9">MAX_SECTORS_KB_PATH</a>&nbsp;&nbsp;&nbsp;&quot;queue/max_sectors_kb&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a7d62c1d57ede5646fa85891dff5d33e3">SCHEDULER_PATH</a>&nbsp;&nbsp;&nbsp;&quot;queue/scheduler&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#ac69e7b5ccba41739bb6e1291f13c1498">STRIPE_CACHE_SIZE</a>&nbsp;&nbsp;&nbsp;&quot;md/stripe_cache_size&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#ae9052db07d284cc52b5a5bf8e32710e9">DEFAULT_SCHEDULER</a>&nbsp;&nbsp;&nbsp;&quot;deadline&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a9ac27440e6ee3587fdd47e43ee99b156">L_BLOCK_SIZE</a>&nbsp;&nbsp;&nbsp;4096</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a59bdd63c509c1a3a01e3f46ec7b02009">DUMMY_FILE_NAME_LEN</a>&nbsp;&nbsp;&nbsp;25</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a5ceb1f01539715e60520115cf428b89d">EXT3_DIRENT_SIZE</a>&nbsp;&nbsp;&nbsp;DUMMY_FILE_NAME_LEN</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#af67aa43f2b8dbb249229725ef4b375d7">append_unique</a> (char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, char *prefix, char *key, char *val, size_t maxbuflen)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">append_unique: append  or = pair to  only if  does not exists : buffer to hold  or = : prefix string before  : key string : value string if it's a = pair  <a href="#af67aa43f2b8dbb249229725ef4b375d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a3dbeb8109c07fd54e0984aa5b06a204e">absolute_path</a> (char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a7bf6d0559ac7dc4bc85824f10bad1235">is_block</a> (char *<a class="el" href="llverdev_8c.html#a48d51caca654a80a7ea9eb13c3ddbb7b">devname</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#ac60267e2e4ef8c268a338d37e45998b4">is_feature_enabled</a> (const char *feature, const char *devpath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a9550e16b4cd3ae5f22d5c19b9b3d65ac">ldiskfs_write_ldd</a> (struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *mop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#aa60ac52aff4637a4d42d184c36e676d1">readcmd</a> (char *<a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#ac225bc946995f4a7b50f5a1dd9ba3b2c">ldiskfs_read_ldd</a> (char *dev, struct <a class="el" href="structlustre__disk__data.html">lustre_disk_data</a> *mo_ldd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a50de80ce1e77384a0b5eb60ad10fd13b">disp_old_e2fsprogs_msg</a> (const char *feature, int make_backfs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a4e912a90a45594b840163020bcb5789f">file_in_dev</a> (char *file_name, char *dev_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a0c8f5b53a2a165a02618fd7983d37f55">ldiskfs_is_lustre</a> (char *dev, unsigned *mount_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#adfda68123df39f278186033e121d76fa">is_e2fsprogs_feature_supp</a> (const char *feature)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a5ee3997de20ba5da25ce52c9f6958135">enable_default_ext4_features</a> (struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *mop, char *anchor, size_t maxbuflen, int user_spec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#ac1605dfae5ff96eed07f0bd1b42aa1a2">moveopts_to_end</a> (char *<a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">moveopts_to_end: find the option string, move remaining strings to where option string starts, and append the option string at the end : where the option string starts before the move RETURN: where the option string starts after the move  <a href="#ac1605dfae5ff96eed07f0bd1b42aa1a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a4024e18b2422d81686b9fc6ffa5ab783">ldiskfs_make_lustre</a> (struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *mop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a7016e824ad21cf59e4f18e3b530ed102">ldiskfs_prepare_lustre</a> (struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *mop, char *wanted_mountopts, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#ae9d60c097a4375ea60136698bb65edb6">ldiskfs_fix_mountopts</a> (struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *mop, char *mountopts, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#aa4666a44d071b28715f49c613008d58d">read_file</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#afff8afea676bbd23f2e70f2d8e0fabb5">write_file</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, const char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a520ae45172fd5dd809c0b830c152ce6f">set_blockdev_scheduler</a> (const char *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, const char *scheduler)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#afc4ac09d0230e673503d9c551eb5ec71">set_blockdev_tunables</a> (char *source, struct <a class="el" href="structmount__opts.html">mount_opts</a> *mop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#aab6ff3d2de8d081536c5e0ca811c846a">ldiskfs_tune_lustre</a> (char *dev, struct <a class="el" href="structmount__opts.html">mount_opts</a> *mop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#af8d3984d4135227a5f320c3d72b2753e">ldiskfs_label_lustre</a> (struct <a class="el" href="structmount__opts.html">mount_opts</a> *mop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a658979b35df262c846eb3ed7fd272c69">ldiskfs_enable_quota</a> (struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *mop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a8abf1fdfe894de0bd6eaacca0f1353e3">ldiskfs_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#a52bb8a42520f38fd2d984a65f4838261">ldiskfs_fini</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount__utils__ldiskfs_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ae9052db07d284cc52b5a5bf8e32710e9"></a><!-- doxytag: member="mount_utils_ldiskfs.c::DEFAULT_SCHEDULER" ref="ae9052db07d284cc52b5a5bf8e32710e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_SCHEDULER&nbsp;&nbsp;&nbsp;&quot;deadline&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00090">90</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">set_blockdev_tunables()</a>.</p>

</div>
</div>
<a class="anchor" id="a59bdd63c509c1a3a01e3f46ec7b02009"></a><!-- doxytag: member="mount_utils_ldiskfs.c::DUMMY_FILE_NAME_LEN" ref="a59bdd63c509c1a3a01e3f46ec7b02009" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUMMY_FILE_NAME_LEN&nbsp;&nbsp;&nbsp;25</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00096">96</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5ceb1f01539715e60520115cf428b89d"></a><!-- doxytag: member="mount_utils_ldiskfs.c::EXT3_DIRENT_SIZE" ref="a5ceb1f01539715e60520115cf428b89d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXT3_DIRENT_SIZE&nbsp;&nbsp;&nbsp;DUMMY_FILE_NAME_LEN</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00097">97</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9ac27440e6ee3587fdd47e43ee99b156"></a><!-- doxytag: member="mount_utils_ldiskfs.c::L_BLOCK_SIZE" ref="a9ac27440e6ee3587fdd47e43ee99b156" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define L_BLOCK_SIZE&nbsp;&nbsp;&nbsp;4096</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00094">94</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00566">enable_default_ext4_features()</a>, and <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00683">ldiskfs_make_lustre()</a>.</p>

</div>
</div>
<a class="anchor" id="a3201831deb27b559621ba479899d9085"></a><!-- doxytag: member="mount_utils_ldiskfs.c::MAX_HW_SECTORS_KB_PATH" ref="a3201831deb27b559621ba479899d9085" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_HW_SECTORS_KB_PATH&nbsp;&nbsp;&nbsp;&quot;queue/max_hw_sectors_kb&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00085">85</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">set_blockdev_tunables()</a>.</p>

</div>
</div>
<a class="anchor" id="a59dd1914356a979f18c12a6eee3da7e9"></a><!-- doxytag: member="mount_utils_ldiskfs.c::MAX_SECTORS_KB_PATH" ref="a59dd1914356a979f18c12a6eee3da7e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SECTORS_KB_PATH&nbsp;&nbsp;&nbsp;&quot;queue/max_sectors_kb&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00086">86</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">set_blockdev_tunables()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d62c1d57ede5646fa85891dff5d33e3"></a><!-- doxytag: member="mount_utils_ldiskfs.c::SCHEDULER_PATH" ref="a7d62c1d57ede5646fa85891dff5d33e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHEDULER_PATH&nbsp;&nbsp;&nbsp;&quot;queue/scheduler&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00087">87</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">set_blockdev_tunables()</a>.</p>

</div>
</div>
<a class="anchor" id="ac69e7b5ccba41739bb6e1291f13c1498"></a><!-- doxytag: member="mount_utils_ldiskfs.c::STRIPE_CACHE_SIZE" ref="ac69e7b5ccba41739bb6e1291f13c1498" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STRIPE_CACHE_SIZE&nbsp;&nbsp;&nbsp;&quot;md/stripe_cache_size&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00088">88</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">set_blockdev_tunables()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3dbeb8109c07fd54e0984aa5b06a204e"></a><!-- doxytag: member="mount_utils_ldiskfs.c::absolute_path" ref="a3dbeb8109c07fd54e0984aa5b06a204e" args="(char *devname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* absolute_path </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00128">128</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, and <a class="el" href="mdsrate_8c_source.html#l00128">path</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00178">is_block()</a>.</p>

</div>
</div>
<a class="anchor" id="af67aa43f2b8dbb249229725ef4b375d7"></a><!-- doxytag: member="mount_utils_ldiskfs.c::append_unique" ref="af67aa43f2b8dbb249229725ef4b375d7" args="(char *buf, char *prefix, char *key, char *val, size_t maxbuflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void append_unique </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>maxbuflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>append_unique: append  or = pair to  only if  does not exists : buffer to hold  or = : prefix string before  : key string : value string if it's a = pair </p>

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00538">538</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, and <a class="el" href="mount__utils_8c_source.html#l00191">strscat()</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00566">enable_default_ext4_features()</a>, and <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00683">ldiskfs_make_lustre()</a>.</p>

</div>
</div>
<a class="anchor" id="a50de80ce1e77384a0b5eb60ad10fd13b"></a><!-- doxytag: member="mount_utils_ldiskfs.c::disp_old_e2fsprogs_msg" ref="a50de80ce1e77384a0b5eb60ad10fd13b" args="(const char *feature, int make_backfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void disp_old_e2fsprogs_msg </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>make_backfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00398">398</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00566">enable_default_ext4_features()</a>, and <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00425">file_in_dev()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ee3997de20ba5da25ce52c9f6958135"></a><!-- doxytag: member="mount_utils_ldiskfs.c::enable_default_ext4_features" ref="a5ee3997de20ba5da25ce52c9f6958135" args="(struct mkfs_opts *mop, char *anchor, size_t maxbuflen, int user_spec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int enable_default_ext4_features </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>anchor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>maxbuflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>user_spec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00566">566</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00538">append_unique()</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00398">disp_old_e2fsprogs_msg()</a>, <a class="el" href="mdsrate_8c_source.html#l00208">fatal()</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00486">is_e2fsprogs_feature_supp()</a>, <a class="el" href="lustre__disk_8h_source.html#l00185">IS_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00186">IS_OST</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00094">L_BLOCK_SIZE</a>, <a class="el" href="lustre__disk_8h_source.html#l00172">lustre_disk_data::ldd_mount_type</a>, <a class="el" href="lustre__disk_8h_source.html#l00121">LDD_MT_EXT3</a>, <a class="el" href="mount__utils_8h_source.html#l00089">mkfs_opts::mo_device_kb</a>, <a class="el" href="mount__utils_8h_source.html#l00074">MO_FAILOVER</a>, <a class="el" href="mount__utils_8h_source.html#l00091">mkfs_opts::mo_flags</a>, <a class="el" href="mount__utils_8h_source.html#l00083">mkfs_opts::mo_ldd</a>, <a class="el" href="mount__utils_8h_source.html#l00087">mkfs_opts::mo_mkfsopts</a>, <a class="el" href="mount__utils_8c_source.html#l00191">strscat()</a>, and <a class="el" href="cacheio_8c_source.html#l00156">tmp_buf</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00683">ldiskfs_make_lustre()</a>.</p>

</div>
</div>
<a class="anchor" id="a4e912a90a45594b840163020bcb5789f"></a><!-- doxytag: member="mount_utils_ldiskfs.c::file_in_dev" ref="a4e912a90a45594b840163020bcb5789f" args="(char *file_name, char *dev_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int file_in_dev </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dev_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00425">425</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00398">disp_old_e2fsprogs_msg()</a>, and <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00462">ldiskfs_is_lustre()</a>.</p>

</div>
</div>
<a class="anchor" id="a7bf6d0559ac7dc4bc85824f10bad1235"></a><!-- doxytag: member="mount_utils_ldiskfs.c::is_block" ref="a7bf6d0559ac7dc4bc85824f10bad1235" args="(char *devname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int is_block </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>devname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00178">178</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00128">absolute_path()</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00955">ldiskfs_prepare_lustre()</a>.</p>

</div>
</div>
<a class="anchor" id="adfda68123df39f278186033e121d76fa"></a><!-- doxytag: member="mount_utils_ldiskfs.c::is_e2fsprogs_feature_supp" ref="adfda68123df39f278186033e121d76fa" args="(const char *feature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int is_e2fsprogs_feature_supp </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>feature</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00486">486</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mdsrate_8c_source.html#l00115">cmd</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00566">enable_default_ext4_features()</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01315">ldiskfs_enable_quota()</a>, and <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00683">ldiskfs_make_lustre()</a>.</p>

</div>
</div>
<a class="anchor" id="ac60267e2e4ef8c268a338d37e45998b4"></a><!-- doxytag: member="mount_utils_ldiskfs.c::is_feature_enabled" ref="ac60267e2e4ef8c268a338d37e45998b4" args="(const char *feature, const char *devpath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int is_feature_enabled </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>devpath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00215">215</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mdsrate_8c_source.html#l00115">cmd</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01315">ldiskfs_enable_quota()</a>.</p>

</div>
</div>
<a class="anchor" id="a658979b35df262c846eb3ed7fd272c69"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_enable_quota" ref="a658979b35df262c846eb3ed7fd272c69" args="(struct mkfs_opts *mop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_enable_quota </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01315">1315</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mdsrate_8c_source.html#l00115">cmd</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00486">is_e2fsprogs_feature_supp()</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00215">is_feature_enabled()</a>, <a class="el" href="mount__utils_8h_source.html#l00084">mkfs_opts::mo_device</a>, <a class="el" href="mount__utils_8h_source.html#l00091">mkfs_opts::mo_flags</a>, <a class="el" href="mount__utils_8h_source.html#l00072">MO_IS_LOOP</a>, <a class="el" href="mount__utils_8h_source.html#l00086">mkfs_opts::mo_loopdev</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, <a class="el" href="lr__reader_8c_source.html#l00079">run_command()</a>, and <a class="el" href="mount__utils_8c_source.html#l00062">vprint</a>.</p>

</div>
</div>
<a class="anchor" id="a52bb8a42520f38fd2d984a65f4838261"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_fini" ref="a52bb8a42520f38fd2d984a65f4838261" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldiskfs_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01354">1354</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae9d60c097a4375ea60136698bb65edb6"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_fix_mountopts" ref="ae9d60c097a4375ea60136698bb65edb6" args="(struct mkfs_opts *mop, char *mountopts, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_fix_mountopts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mountopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00975">975</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mount__utils_8c_source.html#l00191">strscat()</a>.</p>

</div>
</div>
<a class="anchor" id="a8abf1fdfe894de0bd6eaacca0f1353e3"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_init" ref="a8abf1fdfe894de0bd6eaacca0f1353e3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01346">1346</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0c8f5b53a2a165a02618fd7983d37f55"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_is_lustre" ref="a0c8f5b53a2a165a02618fd7983d37f55" args="(char *dev, unsigned *mount_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_is_lustre </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&nbsp;</td>
          <td class="paramname"> <em>mount_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00462">462</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00425">file_in_dev()</a>, <a class="el" href="lustre__disk_8h_source.html#l00062">LAST_RCVD</a>, <a class="el" href="lustre__disk_8h_source.html#l00122">LDD_MT_LDISKFS</a>, <a class="el" href="lustre__disk_8h_source.html#l00061">MOUNT_DATA_FILE</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>.</p>

</div>
</div>
<a class="anchor" id="af8d3984d4135227a5f320c3d72b2753e"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_label_lustre" ref="af8d3984d4135227a5f320c3d72b2753e" args="(struct mount_opts *mop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_label_lustre </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmount__opts.html">mount_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01301">1301</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="lustre__disk_8h_source.html#l00175">lustre_disk_data::ldd_svname</a>, <a class="el" href="mount__utils_8h_source.html#l00097">mount_opts::mo_ldd</a>, <a class="el" href="mount__utils_8h_source.html#l00100">mount_opts::mo_source</a>, and <a class="el" href="lr__reader_8c_source.html#l00079">run_command()</a>.</p>

</div>
</div>
<a class="anchor" id="a4024e18b2422d81686b9fc6ffa5ab783"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_make_lustre" ref="a4024e18b2422d81686b9fc6ffa5ab783" args="(struct mkfs_opts *mop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_make_lustre </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00683">683</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00538">append_unique()</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00566">enable_default_ext4_features()</a>, <a class="el" href="mdsrate_8c_source.html#l00208">fatal()</a>, <a class="el" href="mount__utils_8c_source.html#l00797">get_device_size()</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00486">is_e2fsprogs_feature_supp()</a>, <a class="el" href="lustre__disk_8h_source.html#l00185">IS_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00186">IS_OST</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00094">L_BLOCK_SIZE</a>, <a class="el" href="lustre__disk_8h_source.html#l00172">lustre_disk_data::ldd_mount_type</a>, <a class="el" href="lustre__disk_8h_source.html#l00121">LDD_MT_EXT3</a>, <a class="el" href="lustre__disk_8h_source.html#l00122">LDD_MT_LDISKFS</a>, <a class="el" href="lustre__disk_8h_source.html#l00125">LDD_MT_LDISKFS2</a>, <a class="el" href="lustre__disk_8h_source.html#l00175">lustre_disk_data::ldd_svname</a>, <a class="el" href="mount__utils_8h_source.html#l00084">mkfs_opts::mo_device</a>, <a class="el" href="mount__utils_8h_source.html#l00089">mkfs_opts::mo_device_kb</a>, <a class="el" href="mount__utils_8h_source.html#l00091">mkfs_opts::mo_flags</a>, <a class="el" href="mount__utils_8h_source.html#l00072">MO_IS_LOOP</a>, <a class="el" href="mount__utils_8h_source.html#l00083">mkfs_opts::mo_ldd</a>, <a class="el" href="mount__utils_8h_source.html#l00086">mkfs_opts::mo_loopdev</a>, <a class="el" href="mount__utils_8h_source.html#l00087">mkfs_opts::mo_mkfsopts</a>, <a class="el" href="mount__utils_8h_source.html#l00090">mkfs_opts::mo_stripe_count</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00645">moveopts_to_end()</a>, <a class="el" href="lustre__disk_8h_source.html#l00190">MT_STR</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, <a class="el" href="lr__reader_8c_source.html#l00079">run_command()</a>, <a class="el" href="rename__many_8c_source.html#l00057">start</a>, <a class="el" href="mount__utils_8c_source.html#l00191">strscat()</a>, <a class="el" href="lp__utils_8c_source.html#l00057">verbose</a>, and <a class="el" href="mount__utils_8c_source.html#l00062">vprint</a>.</p>

</div>
</div>
<a class="anchor" id="a7016e824ad21cf59e4f18e3b530ed102"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_prepare_lustre" ref="a7016e824ad21cf59e4f18e3b530ed102" args="(struct mkfs_opts *mop, char *wanted_mountopts, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_prepare_lustre </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>wanted_mountopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00955">955</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00178">is_block()</a>, <a class="el" href="lustre__disk_8h_source.html#l00185">IS_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00187">IS_MGS</a>, <a class="el" href="mount__utils_8h_source.html#l00084">mkfs_opts::mo_device</a>, <a class="el" href="mount__utils_8h_source.html#l00091">mkfs_opts::mo_flags</a>, <a class="el" href="mount__utils_8h_source.html#l00072">MO_IS_LOOP</a>, <a class="el" href="mount__utils_8h_source.html#l00083">mkfs_opts::mo_ldd</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, and <a class="el" href="mount__utils_8c_source.html#l00191">strscat()</a>.</p>

</div>
</div>
<a class="anchor" id="ac225bc946995f4a7b50f5a1dd9ba3b2c"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_read_ldd" ref="ac225bc946995f4a7b50f5a1dd9ba3b2c" args="(char *dev, struct lustre_disk_data *mo_ldd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_read_ldd </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__disk__data.html">lustre_disk_data</a> *&nbsp;</td>
          <td class="paramname"> <em>mo_ldd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00341">341</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mdsrate_8c_source.html#l00115">cmd</a>, <a class="el" href="lustre__disk_8h_source.html#l00175">lustre_disk_data::ldd_svname</a>, <a class="el" href="lustre__disk_8h_source.html#l00058">MOUNT_CONFIGS_DIR</a>, <a class="el" href="lustre__disk_8h_source.html#l00061">MOUNT_DATA_FILE</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00322">readcmd()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, <a class="el" href="lr__reader_8c_source.html#l00079">run_command()</a>, <a class="el" href="mount__utils_8c_source.html#l00063">verrprint</a>, and <a class="el" href="mount__utils_8c_source.html#l00062">vprint</a>.</p>

</div>
</div>
<a class="anchor" id="aab6ff3d2de8d081536c5e0ca811c846a"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_tune_lustre" ref="aab6ff3d2de8d081536c5e0ca811c846a" args="(char *dev, struct mount_opts *mop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_tune_lustre </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmount__opts.html">mount_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01296">1296</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">set_blockdev_tunables()</a>.</p>

</div>
</div>
<a class="anchor" id="a9550e16b4cd3ae5f22d5c19b9b3d65ac"></a><!-- doxytag: member="mount_utils_ldiskfs.c::ldiskfs_write_ldd" ref="a9550e16b4cd3ae5f22d5c19b9b3d65ac" args="(struct mkfs_opts *mop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ldiskfs_write_ldd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00243">243</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mount__utils_8h_source.html#l00084">mkfs_opts::mo_device</a>, <a class="el" href="mount__utils_8h_source.html#l00091">mkfs_opts::mo_flags</a>, <a class="el" href="mount__utils_8h_source.html#l00072">MO_IS_LOOP</a>, <a class="el" href="mount__utils_8h_source.html#l00083">mkfs_opts::mo_ldd</a>, <a class="el" href="mount__utils_8h_source.html#l00086">mkfs_opts::mo_loopdev</a>, <a class="el" href="mount__utils_8h_source.html#l00088">mkfs_opts::mo_mountopts</a>, <a class="el" href="lustre__disk_8h_source.html#l00058">MOUNT_CONFIGS_DIR</a>, <a class="el" href="lustre__disk_8h_source.html#l00061">MOUNT_DATA_FILE</a>, <a class="el" href="lustre__disk_8h_source.html#l00190">MT_STR</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, and <a class="el" href="mount__utils_8c_source.html#l00062">vprint</a>.</p>

</div>
</div>
<a class="anchor" id="ac1605dfae5ff96eed07f0bd1b42aa1a2"></a><!-- doxytag: member="mount_utils_ldiskfs.c::moveopts_to_end" ref="ac1605dfae5ff96eed07f0bd1b42aa1a2" args="(char *start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* moveopts_to_end </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>start</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>moveopts_to_end: find the option string, move remaining strings to where option string starts, and append the option string at the end : where the option string starts before the move RETURN: where the option string starts after the move </p>

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00645">645</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="mdsrate_8c_source.html#l00132">end</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00683">ldiskfs_make_lustre()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4666a44d071b28715f49c613008d58d"></a><!-- doxytag: member="mount_utils_ldiskfs.c::read_file" ref="aa4666a44d071b28715f49c613008d58d" args="(const char *path, char *buf, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int read_file </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00983">983</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01020">set_blockdev_scheduler()</a>, and <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">set_blockdev_tunables()</a>.</p>

</div>
</div>
<a class="anchor" id="aa60ac52aff4637a4d42d184c36e676d1"></a><!-- doxytag: member="mount_utils_ldiskfs.c::readcmd" ref="aa60ac52aff4637a4d42d184c36e676d1" args="(char *cmd, char *buf, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int readcmd </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00322">322</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00341">ldiskfs_read_ldd()</a>.</p>

</div>
</div>
<a class="anchor" id="a520ae45172fd5dd809c0b830c152ce6f"></a><!-- doxytag: member="mount_utils_ldiskfs.c::set_blockdev_scheduler" ref="a520ae45172fd5dd809c0b830c152ce6f" args="(const char *path, const char *scheduler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int set_blockdev_scheduler </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>scheduler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01020">1020</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00983">read_file()</a>, <a class="el" href="lp__utils_8c_source.html#l00057">verbose</a>, and <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01006">write_file()</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">set_blockdev_tunables()</a>.</p>

</div>
</div>
<a class="anchor" id="afc4ac09d0230e673503d9c551eb5ec71"></a><!-- doxytag: member="mount_utils_ldiskfs.c::set_blockdev_tunables" ref="afc4ac09d0230e673503d9c551eb5ec71" args="(char *source, struct mount_opts *mop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int set_blockdev_tunables </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmount__opts.html">mount_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">1074</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00090">DEFAULT_SCHEDULER</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00085">MAX_HW_SECTORS_KB_PATH</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00086">MAX_SECTORS_KB_PATH</a>, <a class="el" href="mount__utils_8h_source.html#l00107">mount_opts::mo_md_stripe_cache_size</a>, <a class="el" href="mdsrate_8c_source.html#l00128">path</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00983">read_file()</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00087">SCHEDULER_PATH</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01020">set_blockdev_scheduler()</a>, <a class="el" href="mount__utils__ldiskfs_8c_source.html#l00088">STRIPE_CACHE_SIZE</a>, <a class="el" href="lp__utils_8c_source.html#l00057">verbose</a>, and <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01006">write_file()</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01296">ldiskfs_tune_lustre()</a>.</p>

</div>
</div>
<a class="anchor" id="afff8afea676bbd23f2e70f2d8e0fabb5"></a><!-- doxytag: member="mount_utils_ldiskfs.c::write_file" ref="afff8afea676bbd23f2e70f2d8e0fabb5" args="(const char *path, const char *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int write_file </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01006">1006</a> of file <a class="el" href="mount__utils__ldiskfs_8c_source.html">mount_utils_ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01020">set_blockdev_scheduler()</a>, and <a class="el" href="mount__utils__ldiskfs_8c_source.html#l01074">set_blockdev_tunables()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ab9e1449fd00c98428516f0b41eddcb10"></a><!-- doxytag: member="mount_utils_ldiskfs.c::progname" ref="ab9e1449fd00c98428516f0b41eddcb10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="mount__utils__ldiskfs_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lr__reader_8c_source.html#l00069">69</a> of file <a class="el" href="lr__reader_8c_source.html">lr_reader.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:51 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
