<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: sptlrpc</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>sptlrpc</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbulk__spec__hash.html">bulk_spec_hash</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Full description of flavors being used on a ptlrpc connection, include both regular RPC and bulk transfer parts.  <a href="structsptlrpc__flavor.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A rule specifies a flavor to be used by a ptlrpc connection between two Lustre parts.  <a href="structsptlrpc__rule.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A set of rules in memory.  <a href="structsptlrpc__rule__set.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvfs__cred.html">vfs_cred</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__ctx__ops.html">ptlrpc_ctx_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__sec__cops.html">ptlrpc_sec_cops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">client side policy operation vector.  <a href="structptlrpc__sec__cops.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__sec__sops.html">ptlrpc_sec_sops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">server side policy operation vector.  <a href="structptlrpc__sec__sops.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The <a class="el" href="structptlrpc__sec.html" title="The ptlrpc_sec represents the client side ptlrpc security facilities, each obd_import...">ptlrpc_sec</a> represents the client side ptlrpc security facilities, each <a class="el" href="structobd__import.html" title="Defintion of PortalRPC import structure.">obd_import</a> (both regular and reverse import) must associate with a <a class="el" href="structptlrpc__sec.html" title="The ptlrpc_sec represents the client side ptlrpc security facilities, each obd_import...">ptlrpc_sec</a>.  <a href="structptlrpc__sec.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__svc__ctx.html">ptlrpc_svc_ctx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__user__desc.html">ptlrpc_user_desc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__bulk__sec__desc.html">ptlrpc_bulk_sec_desc</a></td></tr>
<tr><td colspan="2"><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flavor.html">flavor</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>RPC flavor is represented by a 32 bits integer. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga3958409bc75b758e9e09796d7ca3925e">SPTLRPC_MAX_PAYLOAD</a>&nbsp;&nbsp;&nbsp;(1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga3102fdbe49a0dfef9ecb47f58d1c5935">PTLRPC_CTX_NEW_BIT</a>&nbsp;&nbsp;&nbsp;(0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga5aae0155a0ccdf50d4b64cb9e8965a47">PTLRPC_CTX_UPTODATE_BIT</a>&nbsp;&nbsp;&nbsp;(1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa3716b7ebd501da999e12c921ceb0acb">PTLRPC_CTX_DEAD_BIT</a>&nbsp;&nbsp;&nbsp;(2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga0b7bd0230dc3d10ba50a6e32afc81a8d">PTLRPC_CTX_ERROR_BIT</a>&nbsp;&nbsp;&nbsp;(3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga69a211d66569cde070d2b8c9db0eb822">PTLRPC_CTX_CACHED_BIT</a>&nbsp;&nbsp;&nbsp;(8)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga08b8df932cfb8e6e7d49034e5189e832">PTLRPC_CTX_ETERNAL_BIT</a>&nbsp;&nbsp;&nbsp;(9)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gac238dab7ed875b43558d58d8116760a7">PTLRPC_CTX_NEW</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_NEW_BIT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga5d4408fc132bb7fcdb8196ecc6e44271">PTLRPC_CTX_UPTODATE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_UPTODATE_BIT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga18454dbb72c5daa80ad31f82652d2d6a">PTLRPC_CTX_DEAD</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_DEAD_BIT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gabb5bfc157af765aeb2642330b7fc3536">PTLRPC_CTX_ERROR</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_ERROR_BIT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga6e170f5ce575f05515cfa842268b4b74">PTLRPC_CTX_CACHED</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_CACHED_BIT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga350852cbca12fbf31f6d368af93baeb1">PTLRPC_CTX_ETERNAL</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_ETERNAL_BIT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga147ef1e0ce843903ef7f3921c413d4ed">PTLRPC_CTX_STATUS_MASK</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gad8249a00d1231bc0bff8b14bb11bf4c1">PTLRPC_SEC_FL_REVERSE</a>&nbsp;&nbsp;&nbsp;0x0001</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga6644a9cecb39572b0b8d0850594c4e80">PTLRPC_SEC_FL_ROOTONLY</a>&nbsp;&nbsp;&nbsp;0x0002</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa7ba0786836764f27532ac7b91d4b81e">PTLRPC_SEC_FL_UDESC</a>&nbsp;&nbsp;&nbsp;0x0004</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gae74cca9772faedbadc086c9645ba97b8">PTLRPC_SEC_FL_BULK</a>&nbsp;&nbsp;&nbsp;0x0008</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa5b9c7dc666ad443976790ffa78e98ea">PTLRPC_SEC_FL_PAG</a>&nbsp;&nbsp;&nbsp;0x0010</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga1df5a3dd21c2fdac7afa32716a85ae06">LUSTRE_MAX_GROUPS</a>&nbsp;&nbsp;&nbsp;(128)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga4f4321c051636a3be86bce589cdd8b22">CFS_CAP_CHOWN_MASK</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; CFS_CAP_CHOWN)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga816dad091bd44f66008aa6e363d7e694">CFS_CAP_SYS_RESOURCE_MASK</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; CFS_CAP_SYS_RESOURCE)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__sptlrpc.html#ggaceeb8c40afd0179b5b42fc19aa58d177ac06a6ccae3176e8855b7f10cdbb4cd5f">LUSTRE_SP_CLI</a> =  0, 
<a class="el" href="group__sptlrpc.html#ggaceeb8c40afd0179b5b42fc19aa58d177af68497fcb8b6689fe4b17cf2d6596e12">LUSTRE_SP_MDT</a>, 
<a class="el" href="group__sptlrpc.html#ggaceeb8c40afd0179b5b42fc19aa58d177ae20d2ec76b70b6ab7869fa28fe858e44">LUSTRE_SP_OST</a>, 
<a class="el" href="group__sptlrpc.html#ggaceeb8c40afd0179b5b42fc19aa58d177a385d69a8f7c6fe4d46363aebea735bf8">LUSTRE_SP_MGC</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__sptlrpc.html#ggaceeb8c40afd0179b5b42fc19aa58d177ad580baf746802d4b54738756155e0146">LUSTRE_SP_MGS</a>, 
<a class="el" href="group__sptlrpc.html#ggaceeb8c40afd0179b5b42fc19aa58d177a8e6337fd216c8546b57f61e123439cd1">LUSTRE_SP_ANY</a> =  0xFF
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>identify the RPC is generated from what part of Lustre. </p>
 <a href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga29b62b0dff8660dd1f331378aae34a3b">sptlrpc_bulk_hash_alg</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__sptlrpc.html#gga29b62b0dff8660dd1f331378aae34a3ba8b81a59a8b39334b33c9a5b8ffdefd07">BULK_HASH_ALG_NULL</a> =  0, 
<a class="el" href="group__sptlrpc.html#gga29b62b0dff8660dd1f331378aae34a3ba2167357255834709abbc56dcce587141">BULK_HASH_ALG_ADLER32</a>, 
<a class="el" href="group__sptlrpc.html#gga29b62b0dff8660dd1f331378aae34a3ba914c9a96c0e214e4ee86242652c53992">BULK_HASH_ALG_CRC32</a>, 
<a class="el" href="group__sptlrpc.html#gga29b62b0dff8660dd1f331378aae34a3ba52a53ced967953c81c488738aca97370">BULK_HASH_ALG_MD5</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__sptlrpc.html#gga29b62b0dff8660dd1f331378aae34a3baf77b3cbc43cf9a10e88bee0e9629d38e">BULK_HASH_ALG_SHA1</a>, 
<a class="el" href="group__sptlrpc.html#gga29b62b0dff8660dd1f331378aae34a3ba0e59e0b51a4d44a8a2fa406f1ef97f96">BULK_HASH_ALG_SHA256</a>, 
<a class="el" href="group__sptlrpc.html#gga29b62b0dff8660dd1f331378aae34a3ba5a815ab09d213fcd4002a1cc85ed7b84">BULK_HASH_ALG_SHA384</a>, 
<a class="el" href="group__sptlrpc.html#gga29b62b0dff8660dd1f331378aae34a3ba84b6ccd04bea6d51147d38887a377e94">BULK_HASH_ALG_SHA512</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__sptlrpc.html#gga29b62b0dff8660dd1f331378aae34a3ba24d014879406b4d46cc49faccb65484a">BULK_HASH_ALG_MAX</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__sptlrpc.html#ggad63240694c6dc2a28c24bfc2db90ad7aab6ce233e160482ec184c061d1389945d">BSD_FL_ERR</a> =  1
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaac622aab8a11283ec2afdc77b7c7da3c">secsvc_accept_res</a> { <a class="el" href="group__sptlrpc.html#ggaac622aab8a11283ec2afdc77b7c7da3ca0072a05e125df3fd1fde56e4ece016fc">SECSVC_OK</a> =  0, 
<a class="el" href="group__sptlrpc.html#ggaac622aab8a11283ec2afdc77b7c7da3cad3f52a353338eaf99f2fa3da2e5d8d77">SECSVC_COMPLETE</a>, 
<a class="el" href="group__sptlrpc.html#ggaac622aab8a11283ec2afdc77b7c7da3ca54216bb6bef0d175b7cc9903fbde5fa2">SECSVC_DROP</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__sptlrpc.html#gga7859c0a3efa8b1c360f5c2376baf051ea20f0ca5eb3336f1c00b9528acff2096a">LUSTRE_SEC_NONE</a> =  0, 
<a class="el" href="group__sptlrpc.html#gga7859c0a3efa8b1c360f5c2376baf051ea900c4a8b40a0ee2217e2a8c5537b0ce7">LUSTRE_SEC_REMOTE</a> =  1, 
<a class="el" href="group__sptlrpc.html#gga7859c0a3efa8b1c360f5c2376baf051eafad3f7e7dc7bb4fc7013cf7a2520d4d6">LUSTRE_SEC_SPECIFY</a> =  2, 
<a class="el" href="group__sptlrpc.html#gga7859c0a3efa8b1c360f5c2376baf051eaec1e3b9a281dfeb7cb910dcbfdefad4d">LUSTRE_SEC_ALL</a> =  3
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga818db8e80bb8e50662a43768317e682b">flvr_set_svc</a> (__u32 *flvr, __u32 svc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gae8bc75afd013a3c38ac7a5b24d1b3b49">flvr_set_bulk_svc</a> (__u32 *flvr, __u32 svc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gae3ba857eeba0c2ef1f39398fbec5d20b">sptlrpc_part2name</a> (enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> sp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gab694657bf342c17497d3a93d365ca0fb">sptlrpc_target_sec_part</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga980342127c4dc3a5b3ddf602bb7b4006">sptlrpc_parse_flavor</a> (const char *str, struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *flvr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa80ab1abf7cfff17fd225a9cc473ea33">sptlrpc_flavor_has_bulk</a> (struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *flvr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gab478d57c5919000e839b8a7242630530">sptlrpc_rule_set_init</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga70cd74bc850b26e1f7b64f005e7b65ba">sptlrpc_rule_set_free</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gad97bd682c62430332e66ea25e26404fb">sptlrpc_rule_set_expand</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gac98f179353155454bcb03aa77718a914">sptlrpc_rule_set_merge</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *set, struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa86a438c13250916b84e0d12810d5786">sptlrpc_rule_set_choose</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> from, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> to, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *sf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">given from/to/nid, determine a matching flavor in ruleset.  <a href="#gaa86a438c13250916b84e0d12810d5786"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga8e24aa2e05415973026abbbba8e920d6">sptlrpc_rule_set_dump</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga1c47d43e343809a1953d50ab7f669843">sptlrpc_process_config</a> (struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga2496cbe40b256079ab21ef772f5fb6f2">sptlrpc_conf_log_start</a> (const char *logname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaacb6f9cb18a825fe739d903c6c3f7fff">sptlrpc_conf_log_stop</a> (const char *logname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa7585b0181e15b0a90dc648c8be5c733">sptlrpc_conf_log_update_begin</a> (const char *logname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaf01cd5684aea35fb175f6c9606735fa0">sptlrpc_conf_log_update_end</a> (const char *logname)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mark a config log has been updated  <a href="#gaf01cd5684aea35fb175f6c9606735fa0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga5e58c9331d8eafe4108b46943df678d4">sptlrpc_conf_client_adapt</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">called by client devices, notify the sptlrpc config has changed and do import_sec_adapt later.  <a href="#ga5e58c9331d8eafe4108b46943df678d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa7d95f365760c1a00381d8e0b116c4cb">sptlrpc_conf_target_get_rules</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset, int initial)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">called by target devices, extract sptlrpc rules which applies to this target, to be used for future rpc flavor checking.  <a href="#gaa7d95f365760c1a00381d8e0b116c4cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gac2dcbcaee70d89f9e5f250d5e095ab4e">sptlrpc_target_choose_flavor</a> (struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset, enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> from, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid, struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *flavor)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">called by target devices, determine the expected flavor from certain peer (from, nid).  <a href="#gac2dcbcaee70d89f9e5f250d5e095ab4e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga46f1b8ed0c826e568a23850f7c929f12">sec_is_reverse</a> (struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *sec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga7341925609139e420a78172f5974f1ee">sec_is_rootonly</a> (struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *sec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gafc8594b4a7fd11ab03c1b2eb0073d496">sptlrpc_get_hash_name</a> (__u8 hash_alg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga385e9b182391ffe3960e4229f5ba7f5e">sptlrpc_get_hash_alg</a> (const char *algname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga73035af07061b8456598fed4b0c75b14">size_roundup_power2</a> (int <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gafd69575358901d3eef6fab761a1eeea2">_sptlrpc_enlarge_msg_inplace</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, int segment, int newsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga1a05c039cd87056cf638e2051cf3fe83">sptlrpc_register_policy</a> (struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a> *policy)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaed742582f21f7873e14c565bbbf25ff2">sptlrpc_unregister_policy</a> (struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a> *policy)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga912a600308193abc2eec4daee744cfca">sptlrpc_name2flavor_base</a> (const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga3132dfbf193fbf12fff8c2b03a9f8b45">sptlrpc_flavor2name_base</a> (__u32 flvr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa1315e2959982e95e86a8627d34bd408">sptlrpc_flavor2name_bulk</a> (struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *sf, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int <a class="el" href="multiop_8c.html#a199ab88d4ca8eab30e1cb7d35edacca5">bufsize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga06e6b1fc8fbc7addf5900923b0469d6a">sptlrpc_flavor2name</a> (struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *sf, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int <a class="el" href="multiop_8c.html#a199ab88d4ca8eab30e1cb7d35edacca5">bufsize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga325dd2fed56fea11600d8cc135b19b41">sptlrpc_secflags2str</a> (__u32 flags, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int <a class="el" href="multiop_8c.html#a199ab88d4ca8eab30e1cb7d35edacca5">bufsize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gafc46275a6dd8e63bc7ad0d9ac647f7c0">sptlrpc_policy_get</a> (struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a> *policy)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga4a062af182077919c5b9d90a1f96a06e">sptlrpc_policy_put</a> (struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a> *policy)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gad96f260d9aa9043aa3a6292e19e153ef">cli_ctx_status</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa710a4bc6a37534f426d21b1aa8c4016">cli_ctx_is_ready</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gac7c8b7be9c3bc1a99be63ff25c21d6c0">cli_ctx_is_refreshed</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gae9f8e9f1248a42b3bcd3985ac1afb6f3">cli_ctx_is_uptodate</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga687401531a400ad928a398ef9cde9981">cli_ctx_is_error</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gac5f0330c9d2632d350b60eb7bd27dbf1">cli_ctx_is_dead</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga2ec6436de56fbaef2168ce03129fb3f9">cli_ctx_is_eternal</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga46b62f214acc7091ec6a686b6b7e7467">sptlrpc_sec_get</a> (struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *sec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga7614fad9d6201ee956c2b8c591b63e27">sptlrpc_sec_put</a> (struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *sec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga4b64d60127ec57a387ff0477a9ae64f5">sptlrpc_get_next_secid</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga5c544de8ca3702af15a342280e984797">sptlrpc_sec_destroy</a> (struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *sec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gab9129ba640c50c1a8b7d3e50bfec54f4">sptlrpc_cli_ctx_get</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga69f6e7f870c1215e81c9e939d790ae3b">sptlrpc_cli_ctx_put</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx, int sync)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga6c05663895d669f077f0369232b46dad">sptlrpc_cli_ctx_expire</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Expire the client context immediately.  <a href="#ga6c05663895d669f077f0369232b46dad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gae8509673f10f3ba05986d960f5b4a20d">sptlrpc_cli_ctx_wakeup</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To wake up the threads who are waiting for this client context.  <a href="#gae8509673f10f3ba05986d960f5b4a20d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga606c9a5cf4f1a5a6668ff8d1ea65bb5e">sptlrpc_cli_ctx_display</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx, char *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int <a class="el" href="multiop_8c.html#a199ab88d4ca8eab30e1cb7d35edacca5">bufsize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga2b508842c18d6c0a32c9678445565ce2">sptlrpc_cli_wrap_request</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc client, to perform the pre-defined security transformation upon the request message of <em>req</em>.  <a href="#ga2b508842c18d6c0a32c9678445565ce2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga4e652d7f03a8727b8eb9c290936aec23">sptlrpc_cli_unwrap_reply</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc client, to perform security transformation upon the reply message of <em>req</em>.  <a href="#ga4e652d7f03a8727b8eb9c290936aec23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaafb426af1f450b0f25952ba1b38f640d">sptlrpc_cli_alloc_reqbuf</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int msgsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc client to allocate request buffer of <em>req</em>.  <a href="#gaafb426af1f450b0f25952ba1b38f640d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga2f36863ed408b2fc13f7a04eb6280dd4">sptlrpc_cli_free_reqbuf</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc client to free request buffer of <em>req</em>.  <a href="#ga2f36863ed408b2fc13f7a04eb6280dd4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga2059ff503d15d0b06699e153845bc66f">sptlrpc_cli_alloc_repbuf</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int msgsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc client to allocate reply buffer of <em>req</em>.  <a href="#ga2059ff503d15d0b06699e153845bc66f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga6cd89bd371e4a81930e260bb1b8c79f8">sptlrpc_cli_free_repbuf</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc client to free reply buffer of <em>req</em>.  <a href="#ga6cd89bd371e4a81930e260bb1b8c79f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gae060941c4c97b1cb7ba03904a24b53c3">sptlrpc_cli_enlarge_reqbuf</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int segment, int newsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc client to enlarge the <em>segment</em> of request message pointed by req-&gt;rq_reqmsg to size <em>newsize</em>, all previously filled-in data will be preserved after the enlargement.  <a href="#gae060941c4c97b1cb7ba03904a24b53c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga555969de6cd1c126c5a8887b740e1354">sptlrpc_cli_unwrap_early_reply</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> **req_ret)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc client, to perform security transformation upon the early reply message of <em>req</em>.  <a href="#ga555969de6cd1c126c5a8887b740e1354"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga9e900c41f0c033d65d6a108d1a1a553c">sptlrpc_cli_finish_early_reply</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *early_req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc client, to release a processed early reply <em>early_req</em>.  <a href="#ga9e900c41f0c033d65d6a108d1a1a553c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga61d2d3a2133c043d3998bd7a473f3937">sptlrpc_request_out_callback</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga01235b3d6bd59ff6adee314742be930b">sptlrpc_import_sec_adapt</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, struct <a class="el" href="structptlrpc__svc__ctx.html">ptlrpc_svc_ctx</a> *ctx, struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *flvr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To get an appropriate <a class="el" href="structptlrpc__sec.html" title="The ptlrpc_sec represents the client side ptlrpc security facilities, each obd_import...">ptlrpc_sec</a> for the <em>imp</em>, according to the current configuration.  <a href="#ga01235b3d6bd59ff6adee314742be930b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaaaacc60ce00e1c012d6a657e285853f6">sptlrpc_import_sec_ref</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga1abd65eeaa270acbef838fcbccaaeac5">sptlrpc_import_sec_put</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa43ec50fcb7c93e96d80c8b544da92a5">sptlrpc_import_check_ctx</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given an import <em>imp</em>, check whether current user has a valid context or not.  <a href="#gaa43ec50fcb7c93e96d80c8b544da92a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gad4617ddc0fa8e067bbc8737e446c22d4">sptlrpc_import_flush_root_ctx</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga84bad1e7778dc00a63e61ecd39032ef9">sptlrpc_import_flush_my_ctx</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga92154e132fba9ee6e8452e2694efcedd">sptlrpc_import_flush_all_ctx</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga5aafb085a9167ed0295a28d4bddb5847">sptlrpc_req_get_ctx</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given a <em>req</em>, find or allocate an appropriate context for it.  <a href="#ga5aafb085a9167ed0295a28d4bddb5847"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga9c506dfa976b8fa42f6d351f1a67098c">sptlrpc_req_put_ctx</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int sync)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drop the context for <em>req</em>.  <a href="#ga9c506dfa976b8fa42f6d351f1a67098c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga94cbed545313e8c7bc6a682a438c89b0">sptlrpc_req_refresh_ctx</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, long <a class="el" href="o2iblnd__modparams_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To refresh the context of , if it's not up-to-date.  <a href="#ga94cbed545313e8c7bc6a682a438c89b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga7254cf32b0cefed6242f298d3326e8dd">sptlrpc_req_replace_dead_ctx</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If current context of <em>req</em> is dead somehow, e.g.  <a href="#ga7254cf32b0cefed6242f298d3326e8dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga701bf20eebf0fd9d03c94918418f3b31">sptlrpc_req_set_flavor</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int opcode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize flavor settings for <em>req</em>, according to <em>opcode</em>.  <a href="#ga701bf20eebf0fd9d03c94918418f3b31"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gafa6c9dde64f9943554b399bddd35b9ec">sptlrpc_parse_rule</a> (char *param, struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga01c41546e7400b5b265dcd8000628d1e">sptlrpc_gc_add_sec</a> (struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *sec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga87571fcfb3f0bd71da0ff18fd1b541a2">sptlrpc_gc_del_sec</a> (struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *sec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gad6c2b6adaa51bed62ebd4a5bef32eb8e">sptlrpc_gc_add_ctx</a> (struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gafca48f8057fe571c4bfb390c91959ed4">sec2target_str</a> (struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *sec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gac7ab4ffd47c810edfecc4c529a9e51ee">sptlrpc_lprocfs_cliobd_attach</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga6fdd12db4bcfd925fed91da8a4ecf857">sptlrpc_svc_unwrap_request</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc server, to perform transformation upon request message of incoming <em>req</em>.  <a href="#ga6fdd12db4bcfd925fed91da8a4ecf857"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga1bcf6cf901c5c461f6f273a9b764430a">sptlrpc_svc_alloc_rs</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int msglen)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc server, to allocate reply buffer for <em>req</em>.  <a href="#ga1bcf6cf901c5c461f6f273a9b764430a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa36445bb3135100651ecb584e151f3cb">sptlrpc_svc_wrap_reply</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc server, to perform transformation upon reply message.  <a href="#gaa36445bb3135100651ecb584e151f3cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga993608bc2cfa31615e26f5f368801d30">sptlrpc_svc_free_rs</a> (struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *rs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by ptlrpc server, to free reply_state.  <a href="#ga993608bc2cfa31615e26f5f368801d30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gac66b97b1dc648126eca05d226eb472d4">sptlrpc_svc_ctx_addref</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gabb77528ba2594382bae01ea165279b33">sptlrpc_svc_ctx_decref</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga190589b71fa07942382f910717c24698">sptlrpc_svc_ctx_invalidate</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaf12efdd6553013c0e886d356541dd86b">sptlrpc_target_export_check</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given an export <em>exp</em>, check whether the flavor of incoming <em>req</em> is allowed by the export <em>exp</em>.  <a href="#gaf12efdd6553013c0e886d356541dd86b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga722b78e23977e8a40890e54e043fb743">sptlrpc_target_update_exp_flavor</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *rset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa6cf2336242cfbca59edb26b9444508a">sptlrpc_svc_install_rvs_ctx</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, struct <a class="el" href="structptlrpc__svc__ctx.html">ptlrpc_svc_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga78e7e46d42204a9fc6366341ca7825a6">sptlrpc_cli_install_rvs_ctx</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga82064312c04e9133154ce8bb6d2daacf">sptlrpc_enc_pool_add_user</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga68dbf6ae7e8805edf17e14742ea3c8f1">sptlrpc_enc_pool_del_user</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga5ced763490cbc558e995cd56979ec1dd">sptlrpc_enc_pool_get_pages</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaad0f938109566cd8150a11035de54d84">sptlrpc_enc_pool_put_pages</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga1ed62eee15ce0e042433a188a1caa805">get_free_pages_in_pool</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga37e790b753a395f182df4dd8b0051121">pool_is_at_full_capacity</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gae9ac9239c38fc5eb10c0951976a38512">sptlrpc_cli_wrap_bulk</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform transformation upon bulk data pointed by <em>desc</em>.  <a href="#gae9ac9239c38fc5eb10c0951976a38512"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga40f686bb862f149e189cf81f3a51a7c3">sptlrpc_cli_unwrap_bulk_read</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc, int nob)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is called after unwrap the reply message.  <a href="#ga40f686bb862f149e189cf81f3a51a7c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga4a0448bc155a2dd383e108188f99beec">sptlrpc_cli_unwrap_bulk_write</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is called after unwrap the reply message.  <a href="#ga4a0448bc155a2dd383e108188f99beec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga1d1e537bd99b8f771179b04a2949f1d4">sptlrpc_get_bulk_checksum</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc, __u8 <a class="el" href="linux-crypto-crc32pclmul_8c.html#adcf1fbfcc231f7e50c94ceb2a85dad06">alg</a>, void *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, int buflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga6035532fa5f42950c0bc7ae26a5cd6b1">bulk_sec_desc_unpack</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, int offset, int swabbed)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga14d6329b7039386d60e183ed97f52764">sptlrpc_user_desc_size</a> (int ngroups)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gacf61d7452ef3a6935b30b6dba4ba8039">sptlrpc_current_user_desc_size</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gab78c9aec11cc11bf54cec647da66230f">sptlrpc_pack_user_desc</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, int offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#ga3e53853e63a860a62a3b72b4f13f5632">sptlrpc_unpack_user_desc</a> (struct lustre_msg *req, int offset, int swabbed)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct proc_dir_entry *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sptlrpc.html#gaa93552557afcf1b6764abfef741123bf">sptlrpc_proc_root</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga4f4321c051636a3be86bce589cdd8b22"></a><!-- doxytag: member="lustre_sec.h::CFS_CAP_CHOWN_MASK" ref="ga4f4321c051636a3be86bce589cdd8b22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_CAP_CHOWN_MASK&nbsp;&nbsp;&nbsp;(1 &lt;&lt; CFS_CAP_CHOWN)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01169">1169</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__lib_8c_source.html#l00143">new_init_ucred()</a>.</p>

</div>
</div>
<a class="anchor" id="ga816dad091bd44f66008aa6e363d7e694"></a><!-- doxytag: member="lustre_sec.h::CFS_CAP_SYS_RESOURCE_MASK" ref="ga816dad091bd44f66008aa6e363d7e694" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_CAP_SYS_RESOURCE_MASK&nbsp;&nbsp;&nbsp;(1 &lt;&lt; CFS_CAP_SYS_RESOURCE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01170">1170</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="mdd__dir_8c_source.html#l00603">__mdd_index_insert_only()</a>, <a class="el" href="mdd__dir_8c_source.html#l02189">mdd_object_create()</a>, and <a class="el" href="mdt__lib_8c_source.html#l00143">new_init_ucred()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1df5a3dd21c2fdac7afa32716a85ae06"></a><!-- doxytag: member="lustre_sec.h::LUSTRE_MAX_GROUPS" ref="ga1df5a3dd21c2fdac7afa32716a85ae06" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LUSTRE_MAX_GROUPS&nbsp;&nbsp;&nbsp;(128)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00887">887</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l02432">sptlrpc_current_user_desc_size()</a>, and <a class="el" href="sec_8c_source.html#l02468">sptlrpc_unpack_user_desc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6e170f5ce575f05515cfa842268b4b74"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_CACHED" ref="ga6e170f5ce575f05515cfa842268b4b74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_CACHED&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_CACHED_BIT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00526">526</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00620">gss_cli_ctx_flags2str()</a>, <a class="el" href="sec__null_8c_source.html#l00409">null_init_internal()</a>, and <a class="el" href="sec__plain_8c_source.html#l00383">plain_sec_install_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga69a211d66569cde070d2b8c9db0eb822"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_CACHED_BIT" ref="ga69a211d66569cde070d2b8c9db0eb822" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_CACHED_BIT&nbsp;&nbsp;&nbsp;(8)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00519">519</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="gss__pipefs_8c_source.html#l00172">ctx_check_death_locked_pf()</a>, <a class="el" href="gss__keyring_8c_source.html#l00232">ctx_destroy_kr()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00127">ctx_enhash_pf()</a>, <a class="el" href="gss__keyring_8c_source.html#l00302">ctx_enlist_kr()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00193">ctx_list_destroy_pf()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00138">ctx_unhash_pf()</a>, <a class="el" href="gss__keyring_8c_source.html#l00328">ctx_unlist_kr()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00225">gss_cli_ctx_die_pf()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00512">gss_sec_release_ctx_pf()</a>, and <a class="el" href="gss__keyring_8c_source.html#l00409">unbind_key_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga18454dbb72c5daa80ad31f82652d2d6a"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_DEAD" ref="ga18454dbb72c5daa80ad31f82652d2d6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_DEAD&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_DEAD_BIT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00524">524</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__sec_8h_source.html#l01019">cli_ctx_is_dead()</a>, <a class="el" href="sec__gss_8c_source.html#l00620">gss_cli_ctx_flags2str()</a>, and <a class="el" href="gss__pipefs_8c_source.html#l01039">gss_ctx_refresh_pf()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa3716b7ebd501da999e12c921ceb0acb"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_DEAD_BIT" ref="gaa3716b7ebd501da999e12c921ceb0acb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_DEAD_BIT&nbsp;&nbsp;&nbsp;(2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00517">517</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00327">cli_ctx_expire()</a>, <a class="el" href="gss__keyring_8c_source.html#l00943">flush_spec_ctx_cache_kr()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00539">gss_sec_flush_ctx_cache_pf()</a>, <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>, and <a class="el" href="sec_8c_source.html#l00549">sptlrpc_req_replace_dead_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="gabb5bfc157af765aeb2642330b7fc3536"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_ERROR" ref="gabb5bfc157af765aeb2642330b7fc3536" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_ERROR&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_ERROR_BIT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00525">525</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__sec_8h_source.html#l01019">cli_ctx_is_dead()</a>, <a class="el" href="lustre__sec_8h_source.html#l01013">cli_ctx_is_error()</a>, <a class="el" href="sec__gss_8c_source.html#l00620">gss_cli_ctx_flags2str()</a>, and <a class="el" href="gss__pipefs_8c_source.html#l01039">gss_ctx_refresh_pf()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b7bd0230dc3d10ba50a6e32afc81a8d"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_ERROR_BIT" ref="ga0b7bd0230dc3d10ba50a6e32afc81a8d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_ERROR_BIT&nbsp;&nbsp;&nbsp;(3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00518">518</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l01333">gss_kt_update()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00756">gss_msg_fail_ctx()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00829">gss_pipe_downcall()</a>, and <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga350852cbca12fbf31f6d368af93baeb1"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_ETERNAL" ref="ga350852cbca12fbf31f6d368af93baeb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_ETERNAL&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_ETERNAL_BIT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00527">527</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__sec_8h_source.html#l01025">cli_ctx_is_eternal()</a>, <a class="el" href="sec__gss_8c_source.html#l00620">gss_cli_ctx_flags2str()</a>, and <a class="el" href="sec__null_8c_source.html#l00409">null_init_internal()</a>.</p>

</div>
</div>
<a class="anchor" id="ga08b8df932cfb8e6e7d49034e5189e832"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_ETERNAL_BIT" ref="ga08b8df932cfb8e6e7d49034e5189e832" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_ETERNAL_BIT&nbsp;&nbsp;&nbsp;(9)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00520">520</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac238dab7ed875b43558d58d8116760a7"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_NEW" ref="gac238dab7ed875b43558d58d8116760a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_NEW&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_NEW_BIT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00522">522</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00620">gss_cli_ctx_flags2str()</a>, and <a class="el" href="sec__gss_8c_source.html#l01172">gss_cli_ctx_init_common()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3102fdbe49a0dfef9ecb47f58d1c5935"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_NEW_BIT" ref="ga3102fdbe49a0dfef9ecb47f58d1c5935" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_NEW_BIT&nbsp;&nbsp;&nbsp;(0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00515">515</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l00200">ctx_create_kr()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00416">gss_sec_lookup_ctx_pf()</a>, and <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga147ef1e0ce843903ef7f3921c413d4ed"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_STATUS_MASK" ref="ga147ef1e0ce843903ef7f3921c413d4ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_STATUS_MASK</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">(<a class="code" href="group__sptlrpc.html#ga3102fdbe49a0dfef9ecb47f58d1c5935">PTLRPC_CTX_NEW_BIT</a>    |       \
                                        <a class="code" href="group__sptlrpc.html#ga5d4408fc132bb7fcdb8196ecc6e44271">PTLRPC_CTX_UPTODATE</a>   |       \
                                        <a class="code" href="group__sptlrpc.html#ga18454dbb72c5daa80ad31f82652d2d6a">PTLRPC_CTX_DEAD</a>       |       \
                                        <a class="code" href="group__sptlrpc.html#gabb5bfc157af765aeb2642330b7fc3536">PTLRPC_CTX_ERROR</a>)
</pre></div>
<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00529">529</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__sec_8h_source.html#l00989">cli_ctx_status()</a>, and <a class="el" href="gss__pipefs_8c_source.html#l01039">gss_ctx_refresh_pf()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5d4408fc132bb7fcdb8196ecc6e44271"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_UPTODATE" ref="ga5d4408fc132bb7fcdb8196ecc6e44271" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_UPTODATE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_CTX_UPTODATE_BIT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00523">523</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__sec_8h_source.html#l00995">cli_ctx_is_ready()</a>, <a class="el" href="lustre__sec_8h_source.html#l01007">cli_ctx_is_uptodate()</a>, <a class="el" href="sec__gss_8c_source.html#l01209">gss_cli_ctx_fini_common()</a>, <a class="el" href="sec__gss_8c_source.html#l00620">gss_cli_ctx_flags2str()</a>, <a class="el" href="gss__pipefs_8c_source.html#l01039">gss_ctx_refresh_pf()</a>, <a class="el" href="sec__null_8c_source.html#l00409">null_init_internal()</a>, and <a class="el" href="sec__plain_8c_source.html#l00383">plain_sec_install_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5aae0155a0ccdf50d4b64cb9e8965a47"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_CTX_UPTODATE_BIT" ref="ga5aae0155a0ccdf50d4b64cb9e8965a47" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_CTX_UPTODATE_BIT&nbsp;&nbsp;&nbsp;(1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00516">516</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00327">cli_ctx_expire()</a>, <a class="el" href="gss__keyring_8c_source.html#l00943">flush_spec_ctx_cache_kr()</a>, <a class="el" href="sec__gss_8c_source.html#l00369">gss_cli_ctx_uptodate()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00539">gss_sec_flush_ctx_cache_pf()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00512">gss_sec_release_ctx_pf()</a>, <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>, and <a class="el" href="sec_8c_source.html#l00549">sptlrpc_req_replace_dead_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="gae74cca9772faedbadc086c9645ba97b8"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_SEC_FL_BULK" ref="gae74cca9772faedbadc086c9645ba97b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_SEC_FL_BULK&nbsp;&nbsp;&nbsp;0x0008</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00835">835</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00818">flavor_set_flags()</a>, <a class="el" href="sec__lproc_8c_source.html#l00060">sec_flags2str()</a>, and <a class="el" href="sec_8c_source.html#l00247">sptlrpc_secflags2str()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa5b9c7dc666ad443976790ffa78e98ea"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_SEC_FL_PAG" ref="gaa5b9c7dc666ad443976790ffa78e98ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_SEC_FL_PAG&nbsp;&nbsp;&nbsp;0x0010</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00836">836</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad8249a00d1231bc0bff8b14bb11bf4c1"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_SEC_FL_REVERSE" ref="gad8249a00d1231bc0bff8b14bb11bf4c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_SEC_FL_REVERSE&nbsp;&nbsp;&nbsp;0x0001</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00832">832</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00271">get_my_ctx()</a>, <a class="el" href="gss__internal_8h_source.html#l00075">gss_round_ctx_expiry()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00345">gss_sec_create_pf()</a>, <a class="el" href="sec__lproc_8c_source.html#l00060">sec_flags2str()</a>, <a class="el" href="lustre__sec_8h_source.html#l00868">sec_is_reverse()</a>, <a class="el" href="sec_8c_source.html#l01438">sptlrpc_import_sec_adapt()</a>, <a class="el" href="sec_8c_source.html#l01319">sptlrpc_sec_create()</a>, and <a class="el" href="sec_8c_source.html#l00247">sptlrpc_secflags2str()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6644a9cecb39572b0b8d0850594c4e80"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_SEC_FL_ROOTONLY" ref="ga6644a9cecb39572b0b8d0850594c4e80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_SEC_FL_ROOTONLY&nbsp;&nbsp;&nbsp;0x0002</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00833">833</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00818">flavor_set_flags()</a>, <a class="el" href="sec_8c_source.html#l00271">get_my_ctx()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00345">gss_sec_create_pf()</a>, <a class="el" href="sec__lproc_8c_source.html#l00060">sec_flags2str()</a>, <a class="el" href="lustre__sec_8h_source.html#l00873">sec_is_rootonly()</a>, <a class="el" href="sec_8c_source.html#l01438">sptlrpc_import_sec_adapt()</a>, <a class="el" href="sec_8c_source.html#l01319">sptlrpc_sec_create()</a>, and <a class="el" href="sec_8c_source.html#l00247">sptlrpc_secflags2str()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa7ba0786836764f27532ac7b91d4b81e"></a><!-- doxytag: member="lustre_sec.h::PTLRPC_SEC_FL_UDESC" ref="gaa7ba0786836764f27532ac7b91d4b81e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_SEC_FL_UDESC&nbsp;&nbsp;&nbsp;0x0004</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00834">834</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00818">flavor_set_flags()</a>, <a class="el" href="sec__lproc_8c_source.html#l00060">sec_flags2str()</a>, <a class="el" href="sec_8c_source.html#l00845">sptlrpc_req_set_flavor()</a>, and <a class="el" href="sec_8c_source.html#l00247">sptlrpc_secflags2str()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3958409bc75b758e9e09796d7ca3925e"></a><!-- doxytag: member="lustre_sec.h::SPTLRPC_MAX_PAYLOAD" ref="ga3958409bc75b758e9e09796d7ca3925e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPTLRPC_MAX_PAYLOAD&nbsp;&nbsp;&nbsp;(1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00388">388</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00581">ptlrpc_init_rq_pool()</a>, and <a class="el" href="service_8c_source.html#l00690">ptlrpc_register_service()</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gad63240694c6dc2a28c24bfc2db90ad7a"></a><!-- doxytag: member="lustre_sec.h::@74" ref="gad63240694c6dc2a28c24bfc2db90ad7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggad63240694c6dc2a28c24bfc2db90ad7aab6ce233e160482ec184c061d1389945d"></a><!-- doxytag: member="BSD_FL_ERR" ref="ggad63240694c6dc2a28c24bfc2db90ad7aab6ce233e160482ec184c061d1389945d" args="" -->BSD_FL_ERR</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00917">917</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7859c0a3efa8b1c360f5c2376baf051e"></a><!-- doxytag: member="lustre_sec.h::@75" ref="ga7859c0a3efa8b1c360f5c2376baf051e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga7859c0a3efa8b1c360f5c2376baf051ea20f0ca5eb3336f1c00b9528acff2096a"></a><!-- doxytag: member="LUSTRE_SEC_NONE" ref="gga7859c0a3efa8b1c360f5c2376baf051ea20f0ca5eb3336f1c00b9528acff2096a" args="" -->LUSTRE_SEC_NONE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga7859c0a3efa8b1c360f5c2376baf051ea900c4a8b40a0ee2217e2a8c5537b0ce7"></a><!-- doxytag: member="LUSTRE_SEC_REMOTE" ref="gga7859c0a3efa8b1c360f5c2376baf051ea900c4a8b40a0ee2217e2a8c5537b0ce7" args="" -->LUSTRE_SEC_REMOTE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga7859c0a3efa8b1c360f5c2376baf051eafad3f7e7dc7bb4fc7013cf7a2520d4d6"></a><!-- doxytag: member="LUSTRE_SEC_SPECIFY" ref="gga7859c0a3efa8b1c360f5c2376baf051eafad3f7e7dc7bb4fc7013cf7a2520d4d6" args="" -->LUSTRE_SEC_SPECIFY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga7859c0a3efa8b1c360f5c2376baf051eaec1e3b9a281dfeb7cb910dcbfdefad4d"></a><!-- doxytag: member="LUSTRE_SEC_ALL" ref="gga7859c0a3efa8b1c360f5c2376baf051eaec1e3b9a281dfeb7cb910dcbfdefad4d" args="" -->LUSTRE_SEC_ALL</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01172">1172</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaceeb8c40afd0179b5b42fc19aa58d177"></a><!-- doxytag: member="lustre_sec.h::lustre_sec_part" ref="gaceeb8c40afd0179b5b42fc19aa58d177" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>identify the RPC is generated from what part of Lustre. </p>
<p>It's encoded into RPC requests and to be checked by ptlrpc service. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaceeb8c40afd0179b5b42fc19aa58d177ac06a6ccae3176e8855b7f10cdbb4cd5f"></a><!-- doxytag: member="LUSTRE_SP_CLI" ref="ggaceeb8c40afd0179b5b42fc19aa58d177ac06a6ccae3176e8855b7f10cdbb4cd5f" args="" -->LUSTRE_SP_CLI</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaceeb8c40afd0179b5b42fc19aa58d177af68497fcb8b6689fe4b17cf2d6596e12"></a><!-- doxytag: member="LUSTRE_SP_MDT" ref="ggaceeb8c40afd0179b5b42fc19aa58d177af68497fcb8b6689fe4b17cf2d6596e12" args="" -->LUSTRE_SP_MDT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaceeb8c40afd0179b5b42fc19aa58d177ae20d2ec76b70b6ab7869fa28fe858e44"></a><!-- doxytag: member="LUSTRE_SP_OST" ref="ggaceeb8c40afd0179b5b42fc19aa58d177ae20d2ec76b70b6ab7869fa28fe858e44" args="" -->LUSTRE_SP_OST</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaceeb8c40afd0179b5b42fc19aa58d177a385d69a8f7c6fe4d46363aebea735bf8"></a><!-- doxytag: member="LUSTRE_SP_MGC" ref="ggaceeb8c40afd0179b5b42fc19aa58d177a385d69a8f7c6fe4d46363aebea735bf8" args="" -->LUSTRE_SP_MGC</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaceeb8c40afd0179b5b42fc19aa58d177ad580baf746802d4b54738756155e0146"></a><!-- doxytag: member="LUSTRE_SP_MGS" ref="ggaceeb8c40afd0179b5b42fc19aa58d177ad580baf746802d4b54738756155e0146" args="" -->LUSTRE_SP_MGS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaceeb8c40afd0179b5b42fc19aa58d177a8e6337fd216c8546b57f61e123439cd1"></a><!-- doxytag: member="LUSTRE_SP_ANY" ref="ggaceeb8c40afd0179b5b42fc19aa58d177a8e6337fd216c8546b57f61e123439cd1" args="" -->LUSTRE_SP_ANY</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00315">315</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaac622aab8a11283ec2afdc77b7c7da3c"></a><!-- doxytag: member="lustre_sec.h::secsvc_accept_res" ref="gaac622aab8a11283ec2afdc77b7c7da3c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__sptlrpc.html#gaac622aab8a11283ec2afdc77b7c7da3c">secsvc_accept_res</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaac622aab8a11283ec2afdc77b7c7da3ca0072a05e125df3fd1fde56e4ece016fc"></a><!-- doxytag: member="SECSVC_OK" ref="ggaac622aab8a11283ec2afdc77b7c7da3ca0072a05e125df3fd1fde56e4ece016fc" args="" -->SECSVC_OK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaac622aab8a11283ec2afdc77b7c7da3cad3f52a353338eaf99f2fa3da2e5d8d77"></a><!-- doxytag: member="SECSVC_COMPLETE" ref="ggaac622aab8a11283ec2afdc77b7c7da3cad3f52a353338eaf99f2fa3da2e5d8d77" args="" -->SECSVC_COMPLETE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaac622aab8a11283ec2afdc77b7c7da3ca54216bb6bef0d175b7cc9903fbde5fa2"></a><!-- doxytag: member="SECSVC_DROP" ref="ggaac622aab8a11283ec2afdc77b7c7da3ca54216bb6bef0d175b7cc9903fbde5fa2" args="" -->SECSVC_DROP</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01101">1101</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga29b62b0dff8660dd1f331378aae34a3b"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_bulk_hash_alg" ref="ga29b62b0dff8660dd1f331378aae34a3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__sptlrpc.html#ga29b62b0dff8660dd1f331378aae34a3b">sptlrpc_bulk_hash_alg</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga29b62b0dff8660dd1f331378aae34a3ba8b81a59a8b39334b33c9a5b8ffdefd07"></a><!-- doxytag: member="BULK_HASH_ALG_NULL" ref="gga29b62b0dff8660dd1f331378aae34a3ba8b81a59a8b39334b33c9a5b8ffdefd07" args="" -->BULK_HASH_ALG_NULL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga29b62b0dff8660dd1f331378aae34a3ba2167357255834709abbc56dcce587141"></a><!-- doxytag: member="BULK_HASH_ALG_ADLER32" ref="gga29b62b0dff8660dd1f331378aae34a3ba2167357255834709abbc56dcce587141" args="" -->BULK_HASH_ALG_ADLER32</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga29b62b0dff8660dd1f331378aae34a3ba914c9a96c0e214e4ee86242652c53992"></a><!-- doxytag: member="BULK_HASH_ALG_CRC32" ref="gga29b62b0dff8660dd1f331378aae34a3ba914c9a96c0e214e4ee86242652c53992" args="" -->BULK_HASH_ALG_CRC32</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga29b62b0dff8660dd1f331378aae34a3ba52a53ced967953c81c488738aca97370"></a><!-- doxytag: member="BULK_HASH_ALG_MD5" ref="gga29b62b0dff8660dd1f331378aae34a3ba52a53ced967953c81c488738aca97370" args="" -->BULK_HASH_ALG_MD5</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga29b62b0dff8660dd1f331378aae34a3baf77b3cbc43cf9a10e88bee0e9629d38e"></a><!-- doxytag: member="BULK_HASH_ALG_SHA1" ref="gga29b62b0dff8660dd1f331378aae34a3baf77b3cbc43cf9a10e88bee0e9629d38e" args="" -->BULK_HASH_ALG_SHA1</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga29b62b0dff8660dd1f331378aae34a3ba0e59e0b51a4d44a8a2fa406f1ef97f96"></a><!-- doxytag: member="BULK_HASH_ALG_SHA256" ref="gga29b62b0dff8660dd1f331378aae34a3ba0e59e0b51a4d44a8a2fa406f1ef97f96" args="" -->BULK_HASH_ALG_SHA256</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga29b62b0dff8660dd1f331378aae34a3ba5a815ab09d213fcd4002a1cc85ed7b84"></a><!-- doxytag: member="BULK_HASH_ALG_SHA384" ref="gga29b62b0dff8660dd1f331378aae34a3ba5a815ab09d213fcd4002a1cc85ed7b84" args="" -->BULK_HASH_ALG_SHA384</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga29b62b0dff8660dd1f331378aae34a3ba84b6ccd04bea6d51147d38887a377e94"></a><!-- doxytag: member="BULK_HASH_ALG_SHA512" ref="gga29b62b0dff8660dd1f331378aae34a3ba84b6ccd04bea6d51147d38887a377e94" args="" -->BULK_HASH_ALG_SHA512</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga29b62b0dff8660dd1f331378aae34a3ba24d014879406b4d46cc49faccb65484a"></a><!-- doxytag: member="BULK_HASH_ALG_MAX" ref="gga29b62b0dff8660dd1f331378aae34a3ba24d014879406b4d46cc49faccb65484a" args="" -->BULK_HASH_ALG_MAX</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00902">902</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gafd69575358901d3eef6fab761a1eeea2"></a><!-- doxytag: member="lustre_sec.h::_sptlrpc_enlarge_msg_inplace" ref="gafd69575358901d3eef6fab761a1eeea2" args="(struct lustre_msg *msg, int segment, int newsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _sptlrpc_enlarge_msg_inplace </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>segment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>newsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01631">1631</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="pack__generic_8c_source.html#l00436">lustre_msg_buf()</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, and <a class="el" href="pack__generic_8c_source.html#l00139">lustre_msg_size_v2()</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01642">gss_enlarge_reqbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01733">gss_enlarge_reqbuf_priv()</a>, <a class="el" href="sec__null_8c_source.html#l00228">null_enlarge_reqbuf()</a>, and <a class="el" href="sec__plain_8c_source.html#l00654">plain_enlarge_reqbuf()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6035532fa5f42950c0bc7ae26a5cd6b1"></a><!-- doxytag: member="lustre_sec.h::bulk_sec_desc_unpack" ref="ga6035532fa5f42950c0bc7ae26a5cd6b1" args="(struct lustre_msg *msg, int offset, int swabbed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bulk_sec_desc_unpack </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>swabbed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00879">879</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00045">__swab32s</a>, <a class="el" href="lustre__sec_8h_source.html#l00926">ptlrpc_bulk_sec_desc::bsd_nob</a>, <a class="el" href="lustre__sec_8h_source.html#l00924">ptlrpc_bulk_sec_desc::bsd_svc</a>, <a class="el" href="lustre__sec_8h_source.html#l00923">ptlrpc_bulk_sec_desc::bsd_type</a>, <a class="el" href="lustre__sec_8h_source.html#l00922">ptlrpc_bulk_sec_desc::bsd_version</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="pack__generic_8c_source.html#l00436">lustre_msg_buf()</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, <a class="el" href="lustre__sec_8h_source.html#l00122">SPTLRPC_BULK_MAX</a>, <a class="el" href="lustre__sec_8h_source.html#l00128">SPTLRPC_BULK_SVC_INTG</a>, <a class="el" href="lustre__sec_8h_source.html#l00126">SPTLRPC_BULK_SVC_NULL</a>, <a class="el" href="lustre__sec_8h_source.html#l00129">SPTLRPC_BULK_SVC_PRIV</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00980">gss_cli_ctx_unseal()</a>, <a class="el" href="sec__gss_8c_source.html#l00757">gss_cli_ctx_verify()</a>, <a class="el" href="sec__gss_8c_source.html#l02195">gss_svc_unseal_request()</a>, <a class="el" href="sec__gss_8c_source.html#l02114">gss_svc_verify_request()</a>, and <a class="el" href="sec__plain_8c_source.html#l00101">plain_unpack_bsd()</a>.</p>

</div>
</div>
<a class="anchor" id="gac5f0330c9d2632d350b60eb7bd27dbf1"></a><!-- doxytag: member="lustre_sec.h::cli_ctx_is_dead" ref="gac5f0330c9d2632d350b60eb7bd27dbf1" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cli_ctx_is_dead </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01019">1019</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00541">ptlrpc_cli_ctx::cc_flags</a>, <a class="el" href="lustre__sec_8h_source.html#l00524">PTLRPC_CTX_DEAD</a>, and <a class="el" href="lustre__sec_8h_source.html#l00525">PTLRPC_CTX_ERROR</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00351">cli_ctx_check_death()</a>.</p>

</div>
</div>
<a class="anchor" id="ga687401531a400ad928a398ef9cde9981"></a><!-- doxytag: member="lustre_sec.h::cli_ctx_is_error" ref="ga687401531a400ad928a398ef9cde9981" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cli_ctx_is_error </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01013">1013</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00541">ptlrpc_cli_ctx::cc_flags</a>, and <a class="el" href="lustre__sec_8h_source.html#l00525">PTLRPC_CTX_ERROR</a>.</p>

<p>Referenced by <a class="el" href="gss__cli__upcall_8c_source.html#l00376">gss_do_ctx_fini_rpc()</a>, and <a class="el" href="sec_8c_source.html#l00926">sptlrpc_import_check_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2ec6436de56fbaef2168ce03129fb3f9"></a><!-- doxytag: member="lustre_sec.h::cli_ctx_is_eternal" ref="ga2ec6436de56fbaef2168ce03129fb3f9" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cli_ctx_is_eternal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01025">1025</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00541">ptlrpc_cli_ctx::cc_flags</a>, and <a class="el" href="lustre__sec_8h_source.html#l00527">PTLRPC_CTX_ETERNAL</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00926">sptlrpc_import_check_ctx()</a>, and <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa710a4bc6a37534f426d21b1aa8c4016"></a><!-- doxytag: member="lustre_sec.h::cli_ctx_is_ready" ref="gaa710a4bc6a37534f426d21b1aa8c4016" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cli_ctx_is_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00995">995</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00989">cli_ctx_status()</a>, and <a class="el" href="lustre__sec_8h_source.html#l00523">PTLRPC_CTX_UPTODATE</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l01106">gss_cli_ctx_validate_kr()</a>, and <a class="el" href="gss__pipefs_8c_source.html#l00215">gss_cli_ctx_validate_pf()</a>.</p>

</div>
</div>
<a class="anchor" id="gac7c8b7be9c3bc1a99be63ff25c21d6c0"></a><!-- doxytag: member="lustre_sec.h::cli_ctx_is_refreshed" ref="gac7c8b7be9c3bc1a99be63ff25c21d6c0" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cli_ctx_is_refreshed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01001">1001</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00989">cli_ctx_status()</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00614">ctx_check_refresh()</a>, <a class="el" href="gss__keyring_8c_source.html#l01333">gss_kt_update()</a>, and <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="gae9f8e9f1248a42b3bcd3985ac1afb6f3"></a><!-- doxytag: member="lustre_sec.h::cli_ctx_is_uptodate" ref="gae9f8e9f1248a42b3bcd3985ac1afb6f3" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int cli_ctx_is_uptodate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01007">1007</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00541">ptlrpc_cli_ctx::cc_flags</a>, and <a class="el" href="lustre__sec_8h_source.html#l00523">PTLRPC_CTX_UPTODATE</a>.</p>

<p>Referenced by <a class="el" href="gss__cli__upcall_8c_source.html#l00376">gss_do_ctx_fini_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gad96f260d9aa9043aa3a6292e19e153ef"></a><!-- doxytag: member="lustre_sec.h::cli_ctx_status" ref="gad96f260d9aa9043aa3a6292e19e153ef" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long cli_ctx_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00989">989</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00541">ptlrpc_cli_ctx::cc_flags</a>, and <a class="el" href="lustre__sec_8h_source.html#l00529">PTLRPC_CTX_STATUS_MASK</a>.</p>

<p>Referenced by <a class="el" href="lustre__sec_8h_source.html#l00995">cli_ctx_is_ready()</a>, and <a class="el" href="lustre__sec_8h_source.html#l01001">cli_ctx_is_refreshed()</a>.</p>

</div>
</div>
<a class="anchor" id="gae8bc75afd013a3c38ac7a5b24d1b3b49"></a><!-- doxytag: member="lustre_sec.h::flvr_set_bulk_svc" ref="gae8bc75afd013a3c38ac7a5b24d1b3b49" args="(__u32 *flvr, __u32 svc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void flvr_set_bulk_svc </td>
          <td>(</td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>flvr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>svc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00270">270</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__sec_8h_source.html#l00142">MAKE_FLVR</a>, <a class="el" href="lustre__sec_8h_source.html#l00130">SPTLRPC_BULK_SVC_MAX</a>, <a class="el" href="lustre__sec_8h_source.html#l00158">SPTLRPC_FLVR_BULK_TYPE</a>, <a class="el" href="lustre__sec_8h_source.html#l00154">SPTLRPC_FLVR_MECH</a>, <a class="el" href="lustre__sec_8h_source.html#l00152">SPTLRPC_FLVR_POLICY</a>, and <a class="el" href="lustre__sec_8h_source.html#l00156">SPTLRPC_FLVR_SVC</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00099">sptlrpc_parse_flavor()</a>.</p>

</div>
</div>
<a class="anchor" id="ga818db8e80bb8e50662a43768317e682b"></a><!-- doxytag: member="lustre_sec.h::flvr_set_svc" ref="ga818db8e80bb8e50662a43768317e682b" args="(__u32 *flvr, __u32 svc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void flvr_set_svc </td>
          <td>(</td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>flvr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>svc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00260">260</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__sec_8h_source.html#l00142">MAKE_FLVR</a>, <a class="el" href="lustre__sec_8h_source.html#l00160">SPTLRPC_FLVR_BULK_SVC</a>, <a class="el" href="lustre__sec_8h_source.html#l00158">SPTLRPC_FLVR_BULK_TYPE</a>, <a class="el" href="lustre__sec_8h_source.html#l00154">SPTLRPC_FLVR_MECH</a>, <a class="el" href="lustre__sec_8h_source.html#l00152">SPTLRPC_FLVR_POLICY</a>, and <a class="el" href="lustre__sec_8h_source.html#l00116">SPTLRPC_SVC_MAX</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00845">sptlrpc_req_set_flavor()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1ed62eee15ce0e042433a188a1caa805"></a><!-- doxytag: member="lustre_sec.h::get_free_pages_in_pool" ref="ga1ed62eee15ce0e042433a188a1caa805" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_free_pages_in_pool </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00528">528</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>References <a class="el" href="sec__bulk_8c_source.html#l00108">ptlrpc_enc_page_pool::epp_free_pages</a>, and <a class="el" href="sec__bulk_8c.html#a982c76f6e4121326b404f2b9e4ccab1e">page_pools</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>.</p>

</div>
</div>
<a class="anchor" id="ga37e790b753a395f182df4dd8b0051121"></a><!-- doxytag: member="lustre_sec.h::pool_is_at_full_capacity" ref="ga37e790b753a395f182df4dd8b0051121" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pool_is_at_full_capacity </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00537">537</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>References <a class="el" href="sec__bulk_8c_source.html#l00079">ptlrpc_enc_page_pool::epp_max_pages</a>, <a class="el" href="sec__bulk_8c_source.html#l00107">ptlrpc_enc_page_pool::epp_total_pages</a>, and <a class="el" href="sec__bulk_8c.html#a982c76f6e4121326b404f2b9e4ccab1e">page_pools</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>.</p>

</div>
</div>
<a class="anchor" id="gafca48f8057fe571c4bfb390c91959ed4"></a><!-- doxytag: member="lustre_sec.h::sec2target_str" ref="gafca48f8057fe571c4bfb390c91959ed4" args="(struct ptlrpc_sec *sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* sec2target_str </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td>
          <td class="paramname"> <em>sec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l02511">2511</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00161">client_obd::cl_target_uuid</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__user_8h_source.html#l00513">obd_uuid2str()</a>, <a class="el" href="lustre__sec_8h_source.html#l00857">ptlrpc_sec::ps_import</a>, <a class="el" href="lustre__sec_8h_source.html#l00868">sec_is_reverse()</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00327">cli_ctx_expire()</a>, <a class="el" href="gss__keyring_8c_source.html#l00943">flush_spec_ctx_cache_kr()</a>, <a class="el" href="sec__gss_8c_source.html#l01209">gss_cli_ctx_fini_common()</a>, <a class="el" href="sec__gss_8c_source.html#l00693">gss_cli_ctx_handle_err_notify()</a>, <a class="el" href="sec__gss_8c_source.html#l01172">gss_cli_ctx_init_common()</a>, <a class="el" href="sec__gss_8c_source.html#l00369">gss_cli_ctx_uptodate()</a>, <a class="el" href="gss__pipefs_8c_source.html#l01039">gss_ctx_refresh_pf()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00376">gss_do_ctx_fini_rpc()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00539">gss_sec_flush_ctx_cache_pf()</a>, <a class="el" href="sec__gc_8c_source.html#l00120">sec_process_ctx_list()</a>, <a class="el" href="sec__gc_8c_source.html#l00105">sptlrpc_gc_add_ctx()</a>, and <a class="el" href="sec_8c_source.html#l00482">sptlrpc_req_ctx_switch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga46f1b8ed0c826e568a23850f7c929f12"></a><!-- doxytag: member="lustre_sec.h::sec_is_reverse" ref="ga46f1b8ed0c826e568a23850f7c929f12" args="(struct ptlrpc_sec *sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sec_is_reverse </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td>
          <td class="paramname"> <em>sec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00868">868</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00852">ptlrpc_sec::ps_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00832">PTLRPC_SEC_FL_REVERSE</a>, and <a class="el" href="lustre__sec_8h_source.html#l00296">sptlrpc_flavor::sf_flags</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l00483">dispose_ctx_list_kr()</a>, <a class="el" href="gss__keyring_8c_source.html#l00900">flush_user_ctx_cache_kr()</a>, <a class="el" href="sec__gss_8c_source.html#l00410">gss_cli_ctx_finalize()</a>, <a class="el" href="sec__gss_8c_source.html#l01209">gss_cli_ctx_fini_common()</a>, <a class="el" href="sec__gss_8c_source.html#l00693">gss_cli_ctx_handle_err_notify()</a>, <a class="el" href="sec__gss_8c_source.html#l00369">gss_cli_ctx_uptodate()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00376">gss_do_ctx_fini_rpc()</a>, <a class="el" href="sec__gss_8c_source.html#l01095">gss_sec_create_common()</a>, <a class="el" href="gss__keyring_8c_source.html#l00717">gss_sec_lookup_ctx_kr()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00416">gss_sec_lookup_ctx_pf()</a>, <a class="el" href="gss__keyring_8c_source.html#l00563">rvs_sec_install_root_ctx_kr()</a>, <a class="el" href="sec_8c_source.html#l02511">sec2target_str()</a>, and <a class="el" href="gss__keyring_8c_source.html#l00522">sec_lookup_root_ctx_kr()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7341925609139e420a78172f5974f1ee"></a><!-- doxytag: member="lustre_sec.h::sec_is_rootonly" ref="ga7341925609139e420a78172f5974f1ee" args="(struct ptlrpc_sec *sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sec_is_rootonly </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td>
          <td class="paramname"> <em>sec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00873">873</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00852">ptlrpc_sec::ps_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00833">PTLRPC_SEC_FL_ROOTONLY</a>, and <a class="el" href="lustre__sec_8h_source.html#l00296">sptlrpc_flavor::sf_flags</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l00900">flush_user_ctx_cache_kr()</a>, and <a class="el" href="gss__keyring_8c_source.html#l00662">user_is_root()</a>.</p>

</div>
</div>
<a class="anchor" id="ga73035af07061b8456598fed4b0c75b14"></a><!-- doxytag: member="lustre_sec.h::size_roundup_power2" ref="ga73035af07061b8456598fed4b0c75b14" args="(int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int size_roundup_power2 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00941">941</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01475">do_alloc_repbuf()</a>, <a class="el" href="sec__gss_8c_source.html#l01253">gss_alloc_reqbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01335">gss_alloc_reqbuf_priv()</a>, <a class="el" href="sec__gss_8c_source.html#l01642">gss_enlarge_reqbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01733">gss_enlarge_reqbuf_priv()</a>, <a class="el" href="lod__lov_8c_source.html#l00596">lod_ea_store_resize()</a>, <a class="el" href="mdt__handler_8c_source.html#l00658">mdt_big_xattr_get()</a>, <a class="el" href="sec__null_8c_source.html#l00199">null_alloc_repbuf()</a>, <a class="el" href="sec__null_8c_source.html#l00157">null_alloc_reqbuf()</a>, <a class="el" href="sec__null_8c_source.html#l00228">null_enlarge_reqbuf()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00826">osd_oi_mod_init()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00748">osd_options_init()</a>, <a class="el" href="sec__plain_8c_source.html#l00611">plain_alloc_repbuf()</a>, <a class="el" href="sec__plain_8c_source.html#l00552">plain_alloc_reqbuf()</a>, <a class="el" href="sec__plain_8c_source.html#l00654">plain_enlarge_reqbuf()</a>, and <a class="el" href="sec_8c_source.html#l01130">sptlrpc_cli_unwrap_early_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2059ff503d15d0b06699e153845bc66f"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_alloc_repbuf" ref="ga2059ff503d15d0b06699e153845bc66f" args="(struct ptlrpc_request *req, int msgsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_alloc_repbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc client to allocate reply buffer of <em>req</em>. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>After this, req-&gt;rq_repmsg is still not accessible. </dd></dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01707">1707</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="structptlrpc__sec__cops.html#a6b48ac1eaef3ac1159a8d8cac74d5eef">ptlrpc_sec_cops::alloc_repbuf</a>, <a class="el" href="lustre__sec_8h_source.html#l00537">ptlrpc_cli_ctx::cc_sec</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__sec_8h_source.html#l00846">ptlrpc_sec::ps_policy</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01080">ptlrpc_request::rq_repbuf</a>, and <a class="el" href="lustre__sec_8h_source.html#l00828">ptlrpc_sec_policy::sp_cops</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gaafb426af1f450b0f25952ba1b38f640d"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_alloc_reqbuf" ref="gaafb426af1f450b0f25952ba1b38f640d" args="(struct ptlrpc_request *req, int msgsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_alloc_reqbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc client to allocate request buffer of <em>req</em>. </p>
<p>Upon return successfully, req-&gt;rq_reqmsg points to a buffer with size <em>msgsize</em>. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01580">1580</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="structptlrpc__sec__cops.html#aa41ab203ee2687014b25d0876b7427e5">ptlrpc_sec_cops::alloc_reqbuf</a>, <a class="el" href="lustre__sec_8h_source.html#l00536">ptlrpc_cli_ctx::cc_refcount</a>, <a class="el" href="lustre__sec_8h_source.html#l00537">ptlrpc_cli_ctx::cc_sec</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00411">LASSERT_ATOMIC_POS</a>, <a class="el" href="lustre__sec_8h_source.html#l00846">ptlrpc_sec::ps_policy</a>, <a class="el" href="lustre__net_8h_source.html#l01083">ptlrpc_request::rq_clrbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01028">ptlrpc_request::rq_pool</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, and <a class="el" href="lustre__sec_8h_source.html#l00828">ptlrpc_sec_policy::sp_cops</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00216">lustre_pack_request_v2()</a>, and <a class="el" href="sec_8c_source.html#l00482">sptlrpc_req_ctx_switch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga606c9a5cf4f1a5a6668ff8d1ea65bb5e"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_ctx_display" ref="ga606c9a5cf4f1a5a6668ff8d1ea65bb5e" args="(struct ptlrpc_cli_ctx *ctx, char *buf, int bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_ctx_display </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00347">347</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00538">ptlrpc_cli_ctx::cc_ops</a>, <a class="el" href="structptlrpc__ctx__ops.html#a6d9c404d51041475c25f3ca166342dcb">ptlrpc_ctx_ops::display</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

</div>
</div>
<a class="anchor" id="ga6c05663895d669f077f0369232b46dad"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_ctx_expire" ref="ga6c05663895d669f077f0369232b46dad" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_cli_ctx_expire </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Expire the client context immediately. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Caller must hold at least 1 reference on the <em>ctx</em>. </dd></dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l00322">322</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00538">ptlrpc_cli_ctx::cc_ops</a>, <a class="el" href="structptlrpc__ctx__ops.html#a87347673c61d50fb34d358829bcff5ae">ptlrpc_ctx_ops::die</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00693">gss_cli_ctx_handle_err_notify()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00756">gss_msg_fail_ctx()</a>, and <a class="el" href="gss__pipefs_8c_source.html#l00829">gss_pipe_downcall()</a>.</p>

</div>
</div>
<a class="anchor" id="gab9129ba640c50c1a8b7d3e50bfec54f4"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_ctx_get" ref="gab9129ba640c50c1a8b7d3e50bfec54f4" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a>* sptlrpc_cli_ctx_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00296">296</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00536">ptlrpc_cli_ctx::cc_refcount</a>.</p>

<p>Referenced by <a class="el" href="gss__pipefs_8c_source.html#l01039">gss_ctx_refresh_pf()</a>, <a class="el" href="gss__keyring_8c_source.html#l01333">gss_kt_update()</a>, <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>, <a class="el" href="sec_8c_source.html#l01130">sptlrpc_cli_unwrap_early_reply()</a>, and <a class="el" href="sec_8c_source.html#l00549">sptlrpc_req_replace_dead_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga69f6e7f870c1215e81c9e939d790ae3b"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_ctx_put" ref="ga69f6e7f870c1215e81c9e939d790ae3b" args="(struct ptlrpc_cli_ctx *ctx, int sync)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_cli_ctx_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sync</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00303">303</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00536">ptlrpc_cli_ctx::cc_refcount</a>, <a class="el" href="lustre__sec_8h_source.html#l00537">ptlrpc_cli_ctx::cc_sec</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00411">LASSERT_ATOMIC_POS</a>, <a class="el" href="lustre__sec_8h_source.html#l00846">ptlrpc_sec::ps_policy</a>, <a class="el" href="structptlrpc__sec__cops.html#aabc06c431b7e2b62d2d81f0707834122">ptlrpc_sec_cops::release_ctx</a>, and <a class="el" href="lustre__sec_8h_source.html#l00828">ptlrpc_sec_policy::sp_cops</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l01333">gss_kt_update()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00706">gss_release_msg()</a>, <a class="el" href="sec__plain_8c_source.html#l00447">plain_create_sec()</a>, <a class="el" href="sec__plain_8c_source.html#l00530">plain_flush_ctx_cache()</a>, <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>, <a class="el" href="sec__gc_8c_source.html#l00120">sec_process_ctx_list()</a>, <a class="el" href="sec_8c_source.html#l01221">sptlrpc_cli_finish_early_reply()</a>, <a class="el" href="sec_8c_source.html#l01130">sptlrpc_cli_unwrap_early_reply()</a>, <a class="el" href="sec_8c_source.html#l00926">sptlrpc_import_check_ctx()</a>, <a class="el" href="sec_8c_source.html#l00460">sptlrpc_req_put_ctx()</a>, and <a class="el" href="sec_8c_source.html#l00549">sptlrpc_req_replace_dead_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="gae8509673f10f3ba05986d960f5b4a20d"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_ctx_wakeup" ref="gae8509673f10f3ba05986d960f5b4a20d" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_cli_ctx_wakeup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To wake up the threads who are waiting for this client context. </p>
<p>Called after some status change happened on <em>ctx</em>. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l00333">333</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00543">ptlrpc_cli_ctx::cc_lock</a>, <a class="el" href="lustre__sec_8h_source.html#l00544">ptlrpc_cli_ctx::cc_req_list</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lustre__net_8h_source.html#l02502">ptlrpc_client_wake_req()</a>, and <a class="el" href="lustre__net_8h_source.html#l00862">rq_ctx_chain</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00327">cli_ctx_expire()</a>, <a class="el" href="gss__keyring_8c_source.html#l00483">dispose_ctx_list_kr()</a>, <a class="el" href="sec__gss_8c_source.html#l00369">gss_cli_ctx_uptodate()</a>, and <a class="el" href="gss__pipefs_8c_source.html#l00706">gss_release_msg()</a>.</p>

</div>
</div>
<a class="anchor" id="gae060941c4c97b1cb7ba03904a24b53c3"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_enlarge_reqbuf" ref="gae060941c4c97b1cb7ba03904a24b53c3" args="(struct ptlrpc_request *req, int segment, int newsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_enlarge_reqbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>segment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>newsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc client to enlarge the <em>segment</em> of request message pointed by req-&gt;rq_reqmsg to size <em>newsize</em>, all previously filled-in data will be preserved after the enlargement. </p>
<p>this must be called after original request buffer being allocated.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>after this be called, rq_reqmsg and rq_reqlen might have been changed, so caller should refresh its local pointers if needed. </dd></dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01681">1681</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00537">ptlrpc_cli_ctx::cc_sec</a>, <a class="el" href="structptlrpc__sec__cops.html#a67af7eed6f87fb433e01dc500814723f">ptlrpc_sec_cops::enlarge_reqbuf</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l01047">lustre_msg</a>, <a class="el" href="multiop_8c_source.html#l00063">msg</a>, <a class="el" href="lustre__sec_8h_source.html#l00846">ptlrpc_sec::ps_policy</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, and <a class="el" href="lustre__sec_8h_source.html#l00828">ptlrpc_sec_policy::sp_cops</a>.</p>

<p>Referenced by <a class="el" href="mdc__locks_8c_source.html#l00221">mdc_realloc_openmsg()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9e900c41f0c033d65d6a108d1a1a553c"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_finish_early_reply" ref="ga9e900c41f0c033d65d6a108d1a1a553c" args="(struct ptlrpc_request *early_req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_cli_finish_early_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>early_req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc client, to release a processed early reply <em>early_req</em>. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><em>early_req</em> was obtained from calling <a class="el" href="group__sptlrpc.html#ga555969de6cd1c126c5a8887b740e1354" title="Used by ptlrpc client, to perform security transformation upon the early reply message...">sptlrpc_cli_unwrap_early_reply()</a>. </dd></dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01221">1221</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="client_8c_source.html#l00500">ptlrpc_request_cache_free()</a>, <a class="el" href="lustre__net_8h_source.html#l01080">ptlrpc_request::rq_repbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01086">ptlrpc_request::rq_repbuf_len</a>, <a class="el" href="lustre__net_8h_source.html#l01081">ptlrpc_request::rq_repdata</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, and <a class="el" href="sec_8c_source.html#l00303">sptlrpc_cli_ctx_put()</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00421">ptlrpc_at_recv_early_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6cd89bd371e4a81930e260bb1b8c79f8"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_free_repbuf" ref="ga6cd89bd371e4a81930e260bb1b8c79f8" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_cli_free_repbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc client to free reply buffer of <em>req</em>. </p>
<p>After this req-&gt;rq_repmsg is set to NULL and should not be accessed anymore. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01728">1728</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00536">ptlrpc_cli_ctx::cc_refcount</a>, <a class="el" href="lustre__sec_8h_source.html#l00537">ptlrpc_cli_ctx::cc_sec</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="structptlrpc__sec__cops.html#ae72ed3fbdbb93a9fb7d08931fd536082">ptlrpc_sec_cops::free_repbuf</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00411">LASSERT_ATOMIC_POS</a>, <a class="el" href="lustre__sec_8h_source.html#l00846">ptlrpc_sec::ps_policy</a>, <a class="el" href="lustre__net_8h_source.html#l01080">ptlrpc_request::rq_repbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01086">ptlrpc_request::rq_repbuf_len</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, and <a class="el" href="lustre__sec_8h_source.html#l00828">ptlrpc_sec_policy::sp_cops</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l02389">__ptlrpc_free_req()</a>, <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, and <a class="el" href="sec_8c_source.html#l00482">sptlrpc_req_ctx_switch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2f36863ed408b2fc13f7a04eb6280dd4"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_free_reqbuf" ref="ga2f36863ed408b2fc13f7a04eb6280dd4" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_cli_free_reqbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc client to free request buffer of <em>req</em>. </p>
<p>After this req-&gt;rq_reqmsg is set to NULL and should not be accessed anymore. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01610">1610</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00536">ptlrpc_cli_ctx::cc_refcount</a>, <a class="el" href="lustre__sec_8h_source.html#l00537">ptlrpc_cli_ctx::cc_sec</a>, <a class="el" href="structptlrpc__sec__cops.html#a1ccde999a88cf1028d6e9f7106c3fdf3">ptlrpc_sec_cops::free_reqbuf</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00411">LASSERT_ATOMIC_POS</a>, <a class="el" href="lustre__sec_8h_source.html#l00846">ptlrpc_sec::ps_policy</a>, <a class="el" href="lustre__net_8h_source.html#l01083">ptlrpc_request::rq_clrbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, and <a class="el" href="lustre__sec_8h_source.html#l00828">ptlrpc_sec_policy::sp_cops</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l02389">__ptlrpc_free_req()</a>, and <a class="el" href="sec_8c_source.html#l00482">sptlrpc_req_ctx_switch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga78e7e46d42204a9fc6366341ca7825a6"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_install_rvs_ctx" ref="ga78e7e46d42204a9fc6366341ca7825a6" args="(struct obd_import *imp, struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_install_rvs_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01749">1749</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00537">ptlrpc_cli_ctx::cc_sec</a>, <a class="el" href="structptlrpc__sec__cops.html#af147272a7b7761512f4e964a6b72d14d">ptlrpc_sec_cops::install_rctx</a>, <a class="el" href="lustre__sec_8h_source.html#l00846">ptlrpc_sec::ps_policy</a>, and <a class="el" href="lustre__sec_8h_source.html#l00828">ptlrpc_sec_policy::sp_cops</a>.</p>

</div>
</div>
<a class="anchor" id="ga40f686bb862f149e189cf81f3a51a7c3"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_unwrap_bulk_read" ref="ga40f686bb862f149e189cf81f3a51a7c3" args="(struct ptlrpc_request *req, struct ptlrpc_bulk_desc *desc, int nob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_unwrap_bulk_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nob</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is called after unwrap the reply message. </p>
<p>return nob of actual plain text size received, or error code. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l02286">2286</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01456">ptlrpc_bulk_desc::bd_nob_transferred</a>, <a class="el" href="lustre__sec_8h_source.html#l00538">ptlrpc_cli_ctx::cc_ops</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_bulk_read</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_bulk_write</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_pack_bulk</a>, and <a class="el" href="structptlrpc__ctx__ops.html#a3e676304ef422332412950003073eb4e">ptlrpc_ctx_ops::unwrap_bulk</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="osc__request_8c_source.html#l01369">osc_brw_fini_request()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__md__object_8c_source.html#l01126">osp_md_read()</a>, and <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4a0448bc155a2dd383e108188f99beec"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_unwrap_bulk_write" ref="ga4a0448bc155a2dd383e108188f99beec" args="(struct ptlrpc_request *req, struct ptlrpc_bulk_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_unwrap_bulk_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is called after unwrap the reply message. </p>
<p>return 0 for success or error code. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l02312">2312</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01455">ptlrpc_bulk_desc::bd_nob</a>, <a class="el" href="lustre__net_8h_source.html#l01456">ptlrpc_bulk_desc::bd_nob_transferred</a>, <a class="el" href="lustre__sec_8h_source.html#l00538">ptlrpc_cli_ctx::cc_ops</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_bulk_read</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_bulk_write</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_pack_bulk</a>, and <a class="el" href="structptlrpc__ctx__ops.html#a3e676304ef422332412950003073eb4e">ptlrpc_ctx_ops::unwrap_bulk</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01369">osc_brw_fini_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ga555969de6cd1c126c5a8887b740e1354"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_unwrap_early_reply" ref="ga555969de6cd1c126c5a8887b740e1354" args="(struct ptlrpc_request *req, struct ptlrpc_request **req_ret)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_unwrap_early_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> **&nbsp;</td>
          <td class="paramname"> <em>req_ret</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc client, to perform security transformation upon the early reply message of <em>req</em>. </p>
<p>We expect the rq_reply_off is 0, and rq_nob_received is the early reply size.</p>
<p>Because the receive buffer might be still posted, the reply data might be changed at any time, no matter we're holding rq_lock or not. For this reason we allocate a separate <a class="el" href="structptlrpc__request.html" title="Represents remote procedure call.">ptlrpc_request</a> and reply buffer for early reply processing.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success, <em>req_ret</em> is filled with a duplicated <a class="el" href="structptlrpc__request.html" title="Represents remote procedure call.">ptlrpc_request</a>. Later the caller must call <a class="el" href="group__sptlrpc.html#ga9e900c41f0c033d65d6a108d1a1a553c" title="Used by ptlrpc client, to release a processed early reply early_req.">sptlrpc_cli_finish_early_reply()</a> on the returned <em>*req_ret</em> to release it. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ev</em>&nbsp;</td><td>error number, and <em>req_ret</em> will not be set. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01130">1130</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__import_8h_source.html#l00059">D_ADAPTTO</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="sec_8c_source.html#l01021">do_cli_unwrap_reply()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l01047">lustre_msg</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00368">ptlrpc_cli_req_init()</a>, <a class="el" href="client_8c_source.html#l00492">ptlrpc_request_cache_alloc()</a>, <a class="el" href="client_8c_source.html#l00500">ptlrpc_request_cache_free()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_early</a>, <a class="el" href="lustre__net_8h_source.html#l01055">ptlrpc_request::rq_flvr</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01022">ptlrpc_request::rq_nob_received</a>, <a class="el" href="lustre__net_8h_source.html#l01080">ptlrpc_request::rq_repbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01086">ptlrpc_request::rq_repbuf_len</a>, <a class="el" href="lustre__net_8h_source.html#l01081">ptlrpc_request::rq_repdata</a>, <a class="el" href="lustre__net_8h_source.html#l01087">ptlrpc_request::rq_repdata_len</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_replied</a>, <a class="el" href="lustre__net_8h_source.html#l01092">ptlrpc_request::rq_reply_off</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__sec_8h_source.html#l00941">size_roundup_power2()</a>, <a class="el" href="sec_8c_source.html#l00296">sptlrpc_cli_ctx_get()</a>, and <a class="el" href="sec_8c_source.html#l00303">sptlrpc_cli_ctx_put()</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00421">ptlrpc_at_recv_early_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4e652d7f03a8727b8eb9c290936aec23"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_unwrap_reply" ref="ga4e652d7f03a8727b8eb9c290936aec23" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_unwrap_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc client, to perform security transformation upon the reply message of <em>req</em>. </p>
<p>After return successfully, req-&gt;rq_repmsg points to the reply message in clear text.</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>the reply buffer should have been un-posted from LNet, so nothing is going to change. </dd></dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01090">1090</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="sec_8c_source.html#l01021">do_cli_unwrap_reply()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l01047">lustre_msg</a>, <a class="el" href="pack__generic_8c_source.html#l00805">lustre_msghdr_get_flags()</a>, <a class="el" href="lustre__idl_8h_source.html#l01044">MSGHDR_AT_SUPPORT</a>, <a class="el" href="lustre__net_8h_source.html#l01022">ptlrpc_request::rq_nob_received</a>, <a class="el" href="lustre__net_8h_source.html#l01080">ptlrpc_request::rq_repbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01086">ptlrpc_request::rq_repbuf_len</a>, <a class="el" href="lustre__net_8h_source.html#l01081">ptlrpc_request::rq_repdata</a>, <a class="el" href="lustre__net_8h_source.html#l01087">ptlrpc_request::rq_repdata_len</a>, <a class="el" href="lustre__net_8h_source.html#l01092">ptlrpc_request::rq_reply_off</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01297">after_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="gae9ac9239c38fc5eb10c0951976a38512"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_wrap_bulk" ref="gae9ac9239c38fc5eb10c0951976a38512" args="(struct ptlrpc_request *req, struct ptlrpc_bulk_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_wrap_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform transformation upon bulk data pointed by <em>desc</em>. </p>
<p>This is called before transforming the request message. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l02265">2265</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00538">ptlrpc_cli_ctx::cc_ops</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_bulk_read</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_bulk_write</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_pack_bulk</a>, and <a class="el" href="structptlrpc__ctx__ops.html#a1440abe65b4eac150d2f52c160582631">ptlrpc_ctx_ops::wrap_bulk</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00978">sptlrpc_cli_wrap_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2b508842c18d6c0a32c9678445565ce2"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_cli_wrap_request" ref="ga2b508842c18d6c0a32c9678445565ce2" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_cli_wrap_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc client, to perform the pre-defined security transformation upon the request message of <em>req</em>. </p>
<p>After this function called, req-&gt;rq_reqmsg is still accessible as clear text. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l00978">978</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00538">ptlrpc_cli_ctx::cc_ops</a>, <a class="el" href="lustre__sec_8h_source.html#l00537">ptlrpc_cli_ctx::cc_sec</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01083">ptlrpc_request::rq_clrbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01055">ptlrpc_request::rq_flvr</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01084">ptlrpc_request::rq_reqbuf_len</a>, <a class="el" href="lustre__net_8h_source.html#l01085">ptlrpc_request::rq_reqdata_len</a>, <a class="el" href="structptlrpc__ctx__ops.html#a21b8b702790d8794111c70b0d81529dc">ptlrpc_ctx_ops::seal</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="structptlrpc__ctx__ops.html#a56a7044b0eb1b542f387d61fb0f2c2c9">ptlrpc_ctx_ops::sign</a>, <a class="el" href="sec_8c_source.html#l02265">sptlrpc_cli_wrap_bulk()</a>, <a class="el" href="lustre__sec_8h_source.html#l00156">SPTLRPC_FLVR_SVC</a>, <a class="el" href="lustre__sec_8h_source.html#l00113">SPTLRPC_SVC_AUTH</a>, <a class="el" href="lustre__sec_8h_source.html#l00114">SPTLRPC_SVC_INTG</a>, <a class="el" href="lustre__sec_8h_source.html#l00112">SPTLRPC_SVC_NULL</a>, and <a class="el" href="lustre__sec_8h_source.html#l00115">SPTLRPC_SVC_PRIV</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5e58c9331d8eafe4108b46943df678d4"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_conf_client_adapt" ref="ga5e58c9331d8eafe4108b46943df678d4" args="(struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_conf_client_adapt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>called by client devices, notify the sptlrpc config has changed and do import_sec_adapt later. </p>

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00905">905</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00160">client_obd::cl_sem</a>, <a class="el" href="obd_8h_source.html#l00161">client_obd::cl_target_uuid</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00211">obd_import::imp_sec</a>, <a class="el" href="lustre__import_8h_source.html#l00213">obd_import::imp_sec_expire</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd_8h_source.html#l00454">LUSTRE_LWP_NAME</a>, <a class="el" href="obd_8h_source.html#l00460">LUSTRE_MDC_NAME</a>, <a class="el" href="obd_8h_source.html#l00463">LUSTRE_OSC_NAME</a>, <a class="el" href="obd_8h_source.html#l00453">LUSTRE_OSP_NAME</a>, <a class="el" href="obd_8h_source.html#l00592">obd_device::obd_type</a>, <a class="el" href="sec__config_8c_source.html#l00899">SEC_ADAPT_DELAY</a>, <a class="el" href="obd_8h_source.html#l00111">obd_type::typ_name</a>, <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="lwp__dev_8c_source.html#l00604">lwp_set_info_async()</a>, <a class="el" href="mdc__request_8c_source.html#l02378">mdc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, and <a class="el" href="osp__dev_8c_source.html#l01746">osp_obd_set_info_async()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2496cbe40b256079ab21ef772f5fb6f2"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_conf_log_start" ref="ga2496cbe40b256079ab21ef772f5fb6f2" args="(const char *logname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_conf_log_start </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00789">789</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="sec__config_8c_source.html#l00719">logname2fsname()</a>, <a class="el" href="sec__config_8c_source.html#l00595">sptlrpc_conf_get()</a>, and <a class="el" href="sec__config_8c_source.html#l00508">sptlrpc_conf_lock</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l00200">do_config_log_add()</a>.</p>

</div>
</div>
<a class="anchor" id="gaacb6f9cb18a825fe739d903c6c3f7fff"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_conf_log_stop" ref="gaacb6f9cb18a825fe739d903c6c3f7fff" args="(const char *logname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_conf_log_stop </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00802">802</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="sec__config_8c_source.html#l00719">logname2fsname()</a>, <a class="el" href="sec__config_8c_source.html#l00560">sptlrpc_conf_free()</a>, <a class="el" href="sec__config_8c_source.html#l00595">sptlrpc_conf_get()</a>, and <a class="el" href="sec__config_8c_source.html#l00508">sptlrpc_conf_lock</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l00135">config_log_put()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa7585b0181e15b0a90dc648c8be5c733"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_conf_log_update_begin" ref="gaa7585b0181e15b0a90dc648c8be5c733" args="(const char *logname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_conf_log_update_begin </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00737">737</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="sec__config_8c_source.html#l00719">logname2fsname()</a>, <a class="el" href="sec__config_8c_source.html#l00502">sptlrpc_conf::sc_local</a>, <a class="el" href="sec__config_8c_source.html#l00501">sptlrpc_conf::sc_modified</a>, <a class="el" href="sec__config_8c_source.html#l00502">sptlrpc_conf::sc_updated</a>, <a class="el" href="sec__config_8c_source.html#l00542">sptlrpc_conf_free_rsets()</a>, <a class="el" href="sec__config_8c_source.html#l00595">sptlrpc_conf_get()</a>, and <a class="el" href="sec__config_8c_source.html#l00508">sptlrpc_conf_lock</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01728">mgc_process_cfg_log()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf01cd5684aea35fb175f6c9606735fa0"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_conf_log_update_end" ref="gaf01cd5684aea35fb175f6c9606735fa0" args="(const char *logname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_conf_log_update_end </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>mark a config log has been updated </p>

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00763">763</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="sec__config_8c_source.html#l00719">logname2fsname()</a>, <a class="el" href="sec__config_8c_source.html#l00501">sptlrpc_conf::sc_modified</a>, <a class="el" href="sec__config_8c_source.html#l00502">sptlrpc_conf::sc_updated</a>, <a class="el" href="sec__config_8c_source.html#l00595">sptlrpc_conf_get()</a>, and <a class="el" href="sec__config_8c_source.html#l00508">sptlrpc_conf_lock</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01728">mgc_process_cfg_log()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa7d95f365760c1a00381d8e0b116c4cb"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_conf_target_get_rules" ref="gaa7d95f365760c1a00381d8e0b116c4cb" args="(struct obd_device *obd, struct sptlrpc_rule_set *rset, int initial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_conf_target_get_rules </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>initial</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>called by target devices, extract sptlrpc rules which applies to this target, to be used for future rpc flavor checking. </p>

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l01148">1148</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd_8h_source.html#l00459">LUSTRE_MDT_NAME</a>, <a class="el" href="obd_8h_source.html#l00462">LUSTRE_OST_NAME</a>, <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="lustre__sec_8h_source.html#l00317">LUSTRE_SP_MDT</a>, <a class="el" href="lustre__sec_8h_source.html#l00318">LUSTRE_SP_OST</a>, <a class="el" href="lustre__idl_8h_source.html#l02959">MTI_NAME_MAXLEN</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00592">obd_device::obd_type</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="sec__config_8c_source.html#l00502">sptlrpc_conf::sc_local</a>, <a class="el" href="sec__config_8c_source.html#l00501">sptlrpc_conf::sc_modified</a>, <a class="el" href="sec__config_8c_source.html#l00504">sptlrpc_conf::sc_rset</a>, <a class="el" href="sec__config_8c_source.html#l00502">sptlrpc_conf::sc_updated</a>, <a class="el" href="sec__config_8c_source.html#l00495">sptlrpc_conf_tgt::sct_rset</a>, <a class="el" href="sec__config_8c_source.html#l00542">sptlrpc_conf_free_rsets()</a>, <a class="el" href="sec__config_8c_source.html#l00595">sptlrpc_conf_get()</a>, <a class="el" href="sec__config_8c_source.html#l00570">sptlrpc_conf_get_tgt()</a>, <a class="el" href="sec__config_8c_source.html#l00508">sptlrpc_conf_lock</a>, <a class="el" href="sec__config_8c_source.html#l00448">sptlrpc_rule_set_extract()</a>, <a class="el" href="sec__config_8c_source.html#l01000">sptlrpc_target_local_copy_conf()</a>, <a class="el" href="sec__config_8c_source.html#l01090">sptlrpc_target_local_read_conf()</a>, <a class="el" href="sec__config_8c_source.html#l00517">target2fsname()</a>, <a class="el" href="obd_8h_source.html#l00111">obd_type::typ_name</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="tgt__handler_8c_source.html#l01010">tgt_adapt_sptlrpc_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="gacf61d7452ef3a6935b30b6dba4ba8039"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_current_user_desc_size" ref="gacf61d7452ef3a6935b30b6dba4ba8039" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_current_user_desc_size </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l02432">2432</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__compat_8h_source.html#l00077">current_ngroups</a>, <a class="el" href="lustre__sec_8h_source.html#l00887">LUSTRE_MAX_GROUPS</a>, and <a class="el" href="lustre__sec_8h_source.html#l01159">sptlrpc_user_desc_size()</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01253">gss_alloc_reqbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01335">gss_alloc_reqbuf_priv()</a>, and <a class="el" href="sec__plain_8c_source.html#l00552">plain_alloc_reqbuf()</a>.</p>

</div>
</div>
<a class="anchor" id="ga82064312c04e9133154ce8bb6d2daacf"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_enc_pool_add_user" ref="ga82064312c04e9133154ce8bb6d2daacf" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_enc_pool_add_user </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00729">729</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>References <a class="el" href="sec__bulk_8c_source.html#l00427">enc_pools_add_pages()</a>, <a class="el" href="sec__bulk_8c_source.html#l00483">enc_pools_wakeup()</a>, <a class="el" href="sec__bulk_8c_source.html#l00088">ptlrpc_enc_page_pool::epp_growing</a>, <a class="el" href="sec__bulk_8c_source.html#l00106">ptlrpc_enc_page_pool::epp_lock</a>, <a class="el" href="sec__bulk_8c_source.html#l00107">ptlrpc_enc_page_pool::epp_total_pages</a>, <a class="el" href="sec__bulk_8c.html#a982c76f6e4121326b404f2b9e4ccab1e">page_pools</a>, and <a class="el" href="lustre__net_8h_source.html#l00105">PTLRPC_MAX_BRW_PAGES</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01095">gss_sec_create_common()</a>.</p>

</div>
</div>
<a class="anchor" id="ga68dbf6ae7e8805edf17e14742ea3c8f1"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_enc_pool_del_user" ref="ga68dbf6ae7e8805edf17e14742ea3c8f1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_enc_pool_del_user </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00753">753</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01145">gss_sec_destroy_common()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5ced763490cbc558e995cd56979ec1dd"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_enc_pool_get_pages" ref="ga5ced763490cbc558e995cd56979ec1dd" args="(struct ptlrpc_bulk_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_enc_pool_get_pages </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00546">546</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01487">BD_GET_ENC_KIOV</a>, <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="lustre__net_8h_source.html#l01442">ptlrpc_bulk_desc::bd_type</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="sec__bulk_8c_source.html#l00427">enc_pools_add_pages()</a>, <a class="el" href="sec__bulk_8c_source.html#l00493">enc_pools_should_grow()</a>, <a class="el" href="sec__bulk_8c_source.html#l00483">enc_pools_wakeup()</a>, <a class="el" href="sec__bulk_8c_source.html#l00108">ptlrpc_enc_page_pool::epp_free_pages</a>, <a class="el" href="sec__bulk_8c_source.html#l00088">ptlrpc_enc_page_pool::epp_growing</a>, <a class="el" href="sec__bulk_8c_source.html#l00097">ptlrpc_enc_page_pool::epp_idle_idx</a>, <a class="el" href="sec__bulk_8c_source.html#l00101">ptlrpc_enc_page_pool::epp_last_access</a>, <a class="el" href="sec__bulk_8c_source.html#l00106">ptlrpc_enc_page_pool::epp_lock</a>, <a class="el" href="sec__bulk_8c_source.html#l00079">ptlrpc_enc_page_pool::epp_max_pages</a>, <a class="el" href="sec__bulk_8c_source.html#l00087">ptlrpc_enc_page_pool::epp_pages_short</a>, <a class="el" href="sec__bulk_8c_source.html#l00126">ptlrpc_enc_page_pool::epp_pools</a>, <a class="el" href="sec__bulk_8c_source.html#l00117">ptlrpc_enc_page_pool::epp_st_access</a>, <a class="el" href="sec__bulk_8c_source.html#l00119">ptlrpc_enc_page_pool::epp_st_lowfree</a>, <a class="el" href="sec__bulk_8c_source.html#l00121">ptlrpc_enc_page_pool::epp_st_max_wait</a>, <a class="el" href="sec__bulk_8c_source.html#l00120">ptlrpc_enc_page_pool::epp_st_max_wqlen</a>, <a class="el" href="sec__bulk_8c_source.html#l00118">ptlrpc_enc_page_pool::epp_st_missings</a>, <a class="el" href="sec__bulk_8c_source.html#l00122">ptlrpc_enc_page_pool::epp_st_outofmem</a>, <a class="el" href="sec__bulk_8c_source.html#l00107">ptlrpc_enc_page_pool::epp_total_pages</a>, <a class="el" href="sec__bulk_8c_source.html#l00085">ptlrpc_enc_page_pool::epp_waitq</a>, <a class="el" href="sec__bulk_8c_source.html#l00086">ptlrpc_enc_page_pool::epp_waitqlen</a>, <a class="el" href="lustre__net_8h_source.html#l01486">GET_ENC_KIOV</a>, <a class="el" href="sec__bulk_8c_source.html#l00070">IDLE_IDX_MAX</a>, <a class="el" href="sec__bulk_8c_source.html#l00071">IDLE_IDX_WEIGHT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="createmany_8c_source.html#l00069">now()</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="sec__bulk_8c.html#a982c76f6e4121326b404f2b9e4ccab1e">page_pools</a>, <a class="el" href="sec__bulk_8c_source.html#l00068">PAGES_PER_POOL</a>, <a class="el" href="lustre__net_8h_source.html#l01375">ptlrpc_is_bulk_desc_kiov()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="gss__bulk_8c_source.html#l00062">gss_cli_ctx_wrap_bulk()</a>, <a class="el" href="gss__bulk_8c_source.html#l00305">gss_prep_bulk()</a>, and <a class="el" href="gss__bulk_8c_source.html#l00451">gss_svc_wrap_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="gaad0f938109566cd8150a11035de54d84"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_enc_pool_put_pages" ref="gaad0f938109566cd8150a11035de54d84" args="(struct ptlrpc_bulk_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_enc_pool_put_pages </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00678">678</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01487">BD_GET_ENC_KIOV</a>, <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="lustre__net_8h_source.html#l01442">ptlrpc_bulk_desc::bd_type</a>, <a class="el" href="sec__bulk_8c_source.html#l00483">enc_pools_wakeup()</a>, <a class="el" href="sec__bulk_8c_source.html#l00108">ptlrpc_enc_page_pool::epp_free_pages</a>, <a class="el" href="sec__bulk_8c_source.html#l00106">ptlrpc_enc_page_pool::epp_lock</a>, <a class="el" href="sec__bulk_8c_source.html#l00126">ptlrpc_enc_page_pool::epp_pools</a>, <a class="el" href="sec__bulk_8c_source.html#l00107">ptlrpc_enc_page_pool::epp_total_pages</a>, <a class="el" href="lustre__net_8h_source.html#l01486">GET_ENC_KIOV</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="sec__bulk_8c.html#a982c76f6e4121326b404f2b9e4ccab1e">page_pools</a>, <a class="el" href="sec__bulk_8c_source.html#l00068">PAGES_PER_POOL</a>, and <a class="el" href="lustre__net_8h_source.html#l01375">ptlrpc_is_bulk_desc_kiov()</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00257">ptlrpc_free_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="ga06e6b1fc8fbc7addf5900923b0469d6a"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_flavor2name" ref="ga06e6b1fc8fbc7addf5900923b0469d6a" args="(struct sptlrpc_flavor *sf, char *buf, int bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* sptlrpc_flavor2name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>sf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00226">226</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="sec_8c_source.html#l00183">sptlrpc_flavor2name_base()</a>, <a class="el" href="sec_8c_source.html#l00211">sptlrpc_flavor2name_bulk()</a>, <a class="el" href="lustre__sec_8h_source.html#l00152">SPTLRPC_FLVR_POLICY</a>, and <a class="el" href="lustre__sec_8h_source.html#l00089">SPTLRPC_POLICY_PLAIN</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01158">mgc_set_info_async()</a>, <a class="el" href="sec__config_8c_source.html#l00934">rule2string()</a>, <a class="el" href="sec_8c_source.html#l01438">sptlrpc_import_sec_adapt()</a>, and <a class="el" href="sec_8c_source.html#l01319">sptlrpc_sec_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3132dfbf193fbf12fff8c2b03a9f8b45"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_flavor2name_base" ref="ga3132dfbf193fbf12fff8c2b03a9f8b45" args="(__u32 flvr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* sptlrpc_flavor2name_base </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flvr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00183">183</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__sec_8h_source.html#l00163">SPTLRPC_FLVR_BASE</a>, <a class="el" href="lustre__sec_8h_source.html#l00205">SPTLRPC_FLVR_GSSNULL</a>, <a class="el" href="lustre__sec_8h_source.html#l00217">SPTLRPC_FLVR_KRB5A</a>, <a class="el" href="lustre__sec_8h_source.html#l00223">SPTLRPC_FLVR_KRB5I</a>, <a class="el" href="lustre__sec_8h_source.html#l00211">SPTLRPC_FLVR_KRB5N</a>, <a class="el" href="lustre__sec_8h_source.html#l00229">SPTLRPC_FLVR_KRB5P</a>, <a class="el" href="lustre__sec_8h_source.html#l00193">SPTLRPC_FLVR_NULL</a>, <a class="el" href="lustre__sec_8h_source.html#l00199">SPTLRPC_FLVR_PLAIN</a>, <a class="el" href="lustre__sec_8h_source.html#l00235">SPTLRPC_FLVR_SKI</a>, and <a class="el" href="lustre__sec_8h_source.html#l00241">SPTLRPC_FLVR_SKPI</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00226">sptlrpc_flavor2name()</a>, <a class="el" href="sec_8c_source.html#l00211">sptlrpc_flavor2name_bulk()</a>, and <a class="el" href="sec__lproc_8c_source.html#l00078">sptlrpc_info_lprocfs_seq_show()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa1315e2959982e95e86a8627d34bd408"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_flavor2name_bulk" ref="gaa1315e2959982e95e86a8627d34bd408" args="(struct sptlrpc_flavor *sf, char *buf, int bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* sptlrpc_flavor2name_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>sf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00211">211</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00307">sptlrpc_flavor::hash</a>, <a class="el" href="lustre__sec_8h_source.html#l00281">bulk_spec_hash::hash_alg</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="sec_8c_source.html#l00183">sptlrpc_flavor2name_base()</a>, <a class="el" href="lustre__sec_8h_source.html#l00152">SPTLRPC_FLVR_POLICY</a>, <a class="el" href="sec__bulk_8c_source.html#l00869">sptlrpc_get_hash_name()</a>, <a class="el" href="lustre__sec_8h_source.html#l00089">SPTLRPC_POLICY_PLAIN</a>, and <a class="el" href="structsptlrpc__flavor.html#a0cec2e241f5c0d8a29621642f73d1a7c">sptlrpc_flavor::u_bulk</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00226">sptlrpc_flavor2name()</a>, and <a class="el" href="sec__lproc_8c_source.html#l00078">sptlrpc_info_lprocfs_seq_show()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa80ab1abf7cfff17fd225a9cc473ea33"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_flavor_has_bulk" ref="gaa80ab1abf7cfff17fd225a9cc473ea33" args="(struct sptlrpc_flavor *flvr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_flavor_has_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>flvr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l02524">2524</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="lustre__sec_8h_source.html#l00128">SPTLRPC_BULK_SVC_INTG</a>, <a class="el" href="lustre__sec_8h_source.html#l00129">SPTLRPC_BULK_SVC_PRIV</a>, and <a class="el" href="lustre__sec_8h_source.html#l00160">SPTLRPC_FLVR_BULK_SVC</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, and <a class="el" href="sec_8c_source.html#l00845">sptlrpc_req_set_flavor()</a>.</p>

</div>
</div>
<a class="anchor" id="gad6c2b6adaa51bed62ebd4a5bef32eb8e"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_gc_add_ctx" ref="gad6c2b6adaa51bed62ebd4a5bef32eb8e" args="(struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_gc_add_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__gc_8c_source.html#l00105">105</a> of file <a class="el" href="sec__gc_8c_source.html">sec_gc.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00545">ptlrpc_cli_ctx::cc_gc_chain</a>, <a class="el" href="lustre__sec_8h_source.html#l00537">ptlrpc_cli_ctx::cc_sec</a>, <a class="el" href="lustre__sec_8h_source.html#l00542">ptlrpc_cli_ctx::cc_vcred</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="sec_8c_source.html#l02511">sec2target_str()</a>, <a class="el" href="sec__gc_8c_source.html#l00061">sec_gc_ctx_list</a>, <a class="el" href="sec__gc_8c_source.html#l00060">sec_gc_ctx_list_lock</a>, <a class="el" href="sec__gc_8c_source.html#l00063">sec_gc_thread</a>, <a class="el" href="lustre__net_8h_source.html#l01499">SVC_SIGNAL</a>, <a class="el" href="lustre__net_8h_source.html#l01532">ptlrpc_thread::t_ctl_waitq</a>, <a class="el" href="lustre__net_8h_source.html#l01582">thread_add_flags()</a>, and <a class="el" href="lustre__sec_8h_source.html#l00392">vfs_cred::vc_uid</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l00258">ctx_release_kr()</a>.</p>

</div>
</div>
<a class="anchor" id="ga01c41546e7400b5b265dcd8000628d1e"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_gc_add_sec" ref="ga01c41546e7400b5b265dcd8000628d1e" args="(struct ptlrpc_sec *sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_gc_add_sec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td>
          <td class="paramname"> <em>sec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__gc_8c_source.html#l00067">67</a> of file <a class="el" href="sec__gc_8c_source.html">sec_gc.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="structptlrpc__sec__cops.html#ae5fd60f1e3563bd552852ccbc51883d0">ptlrpc_sec_cops::gc_ctx</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__sec_8h_source.html#l00864">ptlrpc_sec::ps_gc_interval</a>, <a class="el" href="lustre__sec_8h_source.html#l00863">ptlrpc_sec::ps_gc_list</a>, <a class="el" href="lustre__sec_8h_source.html#l00865">ptlrpc_sec::ps_gc_next</a>, <a class="el" href="lustre__sec_8h_source.html#l00846">ptlrpc_sec::ps_policy</a>, <a class="el" href="sec__gc_8c_source.html#l00058">sec_gc_list</a>, <a class="el" href="sec__gc_8c_source.html#l00057">sec_gc_list_lock</a>, <a class="el" href="lustre__sec_8h_source.html#l00828">ptlrpc_sec_policy::sp_cops</a>, and <a class="el" href="lustre__sec_8h_source.html#l00826">ptlrpc_sec_policy::sp_name</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01319">sptlrpc_sec_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ga87571fcfb3f0bd71da0ff18fd1b541a2"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_gc_del_sec" ref="ga87571fcfb3f0bd71da0ff18fd1b541a2" args="(struct ptlrpc_sec *sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_gc_del_sec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td>
          <td class="paramname"> <em>sec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__gc_8c_source.html#l00082">82</a> of file <a class="el" href="sec__gc_8c_source.html">sec_gc.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__sec_8h_source.html#l00863">ptlrpc_sec::ps_gc_list</a>, <a class="el" href="lustre__sec_8h_source.html#l00846">ptlrpc_sec::ps_policy</a>, <a class="el" href="sec__gc_8c_source.html#l00057">sec_gc_list_lock</a>, <a class="el" href="sec__gc_8c_source.html#l00056">sec_gc_mutex</a>, <a class="el" href="sec__gc_8c_source.html#l00064">sec_gc_wait_del</a>, and <a class="el" href="lustre__sec_8h_source.html#l00826">ptlrpc_sec_policy::sp_name</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01302">sptlrpc_sec_put()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1d1e537bd99b8f771179b04a2949f1d4"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_get_bulk_checksum" ref="ga1d1e537bd99b8f771179b04a2949f1d4" args="(struct ptlrpc_bulk_desc *desc, __u8 alg, void *buf, int buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_get_bulk_checksum </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8&nbsp;</td>
          <td class="paramname"> <em>alg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00923">923</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01485">BD_GET_KIOV</a>, <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="lustre__net_8h_source.html#l01442">ptlrpc_bulk_desc::bd_type</a>, <a class="el" href="multiop_8c_source.html#l00065">bufsize</a>, <a class="el" href="lustre__sec_8h_source.html#l00911">BULK_HASH_ALG_MAX</a>, <a class="el" href="lustre__sec_8h_source.html#l00903">BULK_HASH_ALG_NULL</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__crypto_8h_source.html#l00121">cfs_crypto_hash_digestsize()</a>, <a class="el" href="libcfs__crypto_8h_source.html#l00069">CFS_CRYPTO_HASH_DIGESTSIZE_MAX</a>, <a class="el" href="linux-crypto_8c_source.html#l00280">cfs_crypto_hash_final()</a>, <a class="el" href="linux-crypto_8c_source.html#l00204">cfs_crypto_hash_init()</a>, <a class="el" href="libcfs__crypto_8h_source.html#l00101">cfs_crypto_hash_name()</a>, <a class="el" href="linux-crypto_8c_source.html#l00229">cfs_crypto_hash_update_page()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, and <a class="el" href="lustre__net_8h_source.html#l01375">ptlrpc_is_bulk_desc_kiov()</a>.</p>

<p>Referenced by <a class="el" href="sec__plain_8c_source.html#l00124">plain_generate_bulk_csum()</a>, and <a class="el" href="sec__plain_8c_source.html#l00136">plain_verify_bulk_csum()</a>.</p>

</div>
</div>
<a class="anchor" id="ga385e9b182391ffe3960e4229f5ba7f5e"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_get_hash_alg" ref="ga385e9b182391ffe3960e4229f5ba7f5e" args="(const char *algname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u8 sptlrpc_get_hash_alg </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>algname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00874">874</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00099">sptlrpc_parse_flavor()</a>.</p>

</div>
</div>
<a class="anchor" id="gafc8594b4a7fd11ab03c1b2eb0073d496"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_get_hash_name" ref="gafc8594b4a7fd11ab03c1b2eb0073d496" args="(__u8 hash_alg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* sptlrpc_get_hash_name </td>
          <td>(</td>
          <td class="paramtype">__u8&nbsp;</td>
          <td class="paramname"> <em>hash_alg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__bulk_8c_source.html#l00869">869</a> of file <a class="el" href="sec__bulk_8c_source.html">sec_bulk.c</a>.</p>

<p>References <a class="el" href="libcfs__crypto_8h_source.html#l00101">cfs_crypto_hash_name()</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00211">sptlrpc_flavor2name_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4b64d60127ec57a387ff0477a9ae64f5"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_get_next_secid" ref="ga4b64d60127ec57a387ff0477a9ae64f5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_get_next_secid </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01241">1241</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="sec_8c_source.html#l01239">sptlrpc_sec_id</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01095">gss_sec_create_common()</a>, and <a class="el" href="sec__plain_8c_source.html#l00447">plain_create_sec()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa43ec50fcb7c93e96d80c8b544da92a5"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_import_check_ctx" ref="gaa43ec50fcb7c93e96d80c8b544da92a5" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_import_check_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Given an import <em>imp</em>, check whether current user has a valid context or not. </p>
<p>We may create a new context and try to refresh it, and try repeatedly try in case of non-fatal errors. Return 0 means success. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l00926">926</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00538">ptlrpc_cli_ctx::cc_ops</a>, <a class="el" href="lustre__sec_8h_source.html#l01013">cli_ctx_is_error()</a>, <a class="el" href="lustre__sec_8h_source.html#l01025">cli_ctx_is_eternal()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="sec_8c_source.html#l00271">get_my_ctx()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__sec_8h_source.html#l00852">ptlrpc_sec::ps_flvr</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00368">ptlrpc_cli_req_init()</a>, <a class="el" href="client_8c_source.html#l00492">ptlrpc_request_cache_alloc()</a>, <a class="el" href="client_8c_source.html#l00500">ptlrpc_request_cache_free()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01055">ptlrpc_request::rq_flvr</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01016">ptlrpc_request::rq_refcount</a>, <a class="el" href="sec_8c_source.html#l00303">sptlrpc_cli_ctx_put()</a>, <a class="el" href="sec_8c_source.html#l01369">sptlrpc_import_sec_ref()</a>, <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>, <a class="el" href="sec_8c_source.html#l01302">sptlrpc_sec_put()</a>, and <a class="el" href="structptlrpc__ctx__ops.html#aeb5726f0e6c01064d509932276136255">ptlrpc_ctx_ops::validate</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>.</p>

</div>
</div>
<a class="anchor" id="ga92154e132fba9ee6e8452e2694efcedd"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_import_flush_all_ctx" ref="ga92154e132fba9ee6e8452e2694efcedd" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_import_flush_all_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01570">1570</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="sec_8c_source.html#l01540">import_flush_ctx_common()</a>.</p>

<p>Referenced by <a class="el" href="import_8c_source.html#l00286">ptlrpc_invalidate_import()</a>.</p>

</div>
</div>
<a class="anchor" id="ga84bad1e7778dc00a63e61ecd39032ef9"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_import_flush_my_ctx" ref="ga84bad1e7778dc00a63e61ecd39032ef9" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_import_flush_my_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01563">1563</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="curproc_8h_source.html#l00080">from_kuid()</a>, and <a class="el" href="sec_8c_source.html#l01540">import_flush_ctx_common()</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l02378">mdc_set_info_async()</a>, and <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>.</p>

</div>
</div>
<a class="anchor" id="gad4617ddc0fa8e067bbc8737e446c22d4"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_import_flush_root_ctx" ref="gad4617ddc0fa8e067bbc8737e446c22d4" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_import_flush_root_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01556">1556</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="sec_8c_source.html#l01540">import_flush_ctx_common()</a>.</p>

</div>
</div>
<a class="anchor" id="ga01235b3d6bd59ff6adee314742be930b"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_import_sec_adapt" ref="ga01235b3d6bd59ff6adee314742be930b" args="(struct obd_import *imp, struct ptlrpc_svc_ctx *ctx, struct sptlrpc_flavor *flvr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_import_sec_adapt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__svc__ctx.html">ptlrpc_svc_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>svc_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>flvr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To get an appropriate <a class="el" href="structptlrpc__sec.html" title="The ptlrpc_sec represents the client side ptlrpc security facilities, each obd_import...">ptlrpc_sec</a> for the <em>imp</em>, according to the current configuration. </p>
<p>Upon called, imp-&gt;imp_sec may or may not be NULL.</p>
<ul>
<li>regular import: <em>svc_ctx</em> should be NULL and <em>flvr</em> is ignored;</li>
<li>reverse import: <em>svc_ctx</em> and <em>flvr</em> are obtained from incoming request. </li>
</ul>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01438">1438</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00523">ptlrpc_connection::c_remote_uuid</a>, <a class="el" href="lustre__net_8h_source.html#l00519">ptlrpc_connection::c_self</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00187">client_obd::cl_flvr_mgc</a>, <a class="el" href="obd_8h_source.html#l00185">client_obd::cl_sp_me</a>, <a class="el" href="obd_8h_source.html#l00186">client_obd::cl_sp_to</a>, <a class="el" href="obd_8h_source.html#l00161">client_obd::cl_target_uuid</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="sec_8c_source.html#l01402">flavor_equal()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00170">obd_import::imp_connection</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00212">obd_import::imp_sec_mutex</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="lustre__sec_8h_source.html#l00319">LUSTRE_SP_MGC</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__user_8h_source.html#l00513">obd_uuid2str()</a>, <a class="el" href="lustre__sec_8h_source.html#l00852">ptlrpc_sec::ps_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00832">PTLRPC_SEC_FL_REVERSE</a>, <a class="el" href="lustre__sec_8h_source.html#l00833">PTLRPC_SEC_FL_ROOTONLY</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__sec_8h_source.html#l00296">sptlrpc_flavor::sf_flags</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="sec__config_8c_source.html#l00843">sptlrpc_conf_choose_flavor()</a>, <a class="el" href="sec_8c_source.html#l00226">sptlrpc_flavor2name()</a>, <a class="el" href="lustre__sec_8h_source.html#l00163">SPTLRPC_FLVR_BASE</a>, <a class="el" href="lustre__sec_8h_source.html#l00154">SPTLRPC_FLVR_MECH</a>, <a class="el" href="lustre__sec_8h_source.html#l00193">SPTLRPC_FLVR_NULL</a>, <a class="el" href="lustre__sec_8h_source.html#l00152">SPTLRPC_FLVR_POLICY</a>, <a class="el" href="sec_8c_source.html#l01413">sptlrpc_import_sec_adapt_inplace()</a>, <a class="el" href="sec_8c_source.html#l01381">sptlrpc_import_sec_install()</a>, <a class="el" href="sec_8c_source.html#l01369">sptlrpc_import_sec_ref()</a>, <a class="el" href="sec_8c_source.html#l01319">sptlrpc_sec_create()</a>, <a class="el" href="sec_8c_source.html#l01302">sptlrpc_sec_put()</a>, <a class="el" href="sec__config_8c_source.html#l00077">sptlrpc_target_sec_part()</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00357">import_sec_check_expire()</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, and <a class="el" href="sec_8c_source.html#l01797">sptlrpc_target_export_check()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1abd65eeaa270acbef838fcbccaaeac5"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_import_sec_put" ref="ga1abd65eeaa270acbef838fcbccaaeac5" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_import_sec_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01530">1530</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00211">obd_import::imp_sec</a>, <a class="el" href="sec_8c_source.html#l01282">sptlrpc_sec_kill()</a>, and <a class="el" href="sec_8c_source.html#l01302">sptlrpc_sec_put()</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00220">client_destroy_import()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaaacc60ce00e1c012d6a657e285853f6"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_import_sec_ref" ref="gaaaacc60ce00e1c012d6a657e285853f6" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a>* sptlrpc_import_sec_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01369">1369</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00211">obd_import::imp_sec</a>, and <a class="el" href="sec_8c_source.html#l01293">sptlrpc_sec_get()</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l01253">gss_svc_install_rctx_kr()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00602">gss_svc_install_rctx_pf()</a>, <a class="el" href="sec_8c_source.html#l01540">import_flush_ctx_common()</a>, <a class="el" href="sec_8c_source.html#l00389">import_sec_validate_get()</a>, <a class="el" href="sec__lproc_8c_source.html#l00119">sptlrpc_ctxs_lprocfs_seq_show()</a>, <a class="el" href="sec_8c_source.html#l00926">sptlrpc_import_check_ctx()</a>, <a class="el" href="sec_8c_source.html#l01438">sptlrpc_import_sec_adapt()</a>, and <a class="el" href="sec__lproc_8c_source.html#l00078">sptlrpc_info_lprocfs_seq_show()</a>.</p>

</div>
</div>
<a class="anchor" id="gac7ab4ffd47c810edfecc4c529a9e51ee"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_lprocfs_cliobd_attach" ref="gac7ab4ffd47c810edfecc4c529a9e51ee" args="(struct obd_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_lprocfs_cliobd_attach </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__lproc_8c_source.html#l00145">145</a> of file <a class="el" href="sec__lproc_8c_source.html">sec_lproc.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00454">LUSTRE_LWP_NAME</a>, <a class="el" href="obd_8h_source.html#l00460">LUSTRE_MDC_NAME</a>, <a class="el" href="obd_8h_source.html#l00466">LUSTRE_MGC_NAME</a>, <a class="el" href="obd_8h_source.html#l00463">LUSTRE_OSC_NAME</a>, <a class="el" href="obd_8h_source.html#l00453">LUSTRE_OSP_NAME</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00592">obd_device::obd_type</a>, and <a class="el" href="obd_8h_source.html#l00111">obd_type::typ_name</a>.</p>

<p>Referenced by <a class="el" href="lwp__dev_8c_source.html#l00245">lwp_init0()</a>, <a class="el" href="mdc__request_8c_source.html#l02642">mdc_setup()</a>, <a class="el" href="mgc__request_8c_source.html#l00891">mgc_setup()</a>, and <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga912a600308193abc2eec4daee744cfca"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_name2flavor_base" ref="ga912a600308193abc2eec4daee744cfca" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 sptlrpc_name2flavor_base </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00158">158</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00205">SPTLRPC_FLVR_GSSNULL</a>, <a class="el" href="lustre__sec_8h_source.html#l00250">SPTLRPC_FLVR_INVALID</a>, <a class="el" href="lustre__sec_8h_source.html#l00217">SPTLRPC_FLVR_KRB5A</a>, <a class="el" href="lustre__sec_8h_source.html#l00223">SPTLRPC_FLVR_KRB5I</a>, <a class="el" href="lustre__sec_8h_source.html#l00211">SPTLRPC_FLVR_KRB5N</a>, <a class="el" href="lustre__sec_8h_source.html#l00229">SPTLRPC_FLVR_KRB5P</a>, <a class="el" href="lustre__sec_8h_source.html#l00193">SPTLRPC_FLVR_NULL</a>, <a class="el" href="lustre__sec_8h_source.html#l00199">SPTLRPC_FLVR_PLAIN</a>, <a class="el" href="lustre__sec_8h_source.html#l00235">SPTLRPC_FLVR_SKI</a>, and <a class="el" href="lustre__sec_8h_source.html#l00241">SPTLRPC_FLVR_SKPI</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00099">sptlrpc_parse_flavor()</a>.</p>

</div>
</div>
<a class="anchor" id="gab78c9aec11cc11bf54cec647da66230f"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_pack_user_desc" ref="gab78c9aec11cc11bf54cec647da66230f" args="(struct lustre_msg *msg, int offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_pack_user_desc </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l02444">2444</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="linux-curproc_8c_source.html#l00112">cfs_curproc_cap_pack()</a>, <a class="el" href="lustre__compat_8h_source.html#l00077">current_ngroups</a>, <a class="el" href="curproc_8h_source.html#l00085">from_kgid()</a>, <a class="el" href="curproc_8h_source.html#l00080">from_kuid()</a>, <a class="el" href="pack__generic_8c_source.html#l00436">lustre_msg_buf()</a>, <a class="el" href="lustre__sec_8h_source.html#l00894">ptlrpc_user_desc::pud_cap</a>, <a class="el" href="lustre__sec_8h_source.html#l00893">ptlrpc_user_desc::pud_fsgid</a>, <a class="el" href="lustre__sec_8h_source.html#l00892">ptlrpc_user_desc::pud_fsuid</a>, <a class="el" href="lustre__sec_8h_source.html#l00891">ptlrpc_user_desc::pud_gid</a>, <a class="el" href="lustre__sec_8h_source.html#l00896">ptlrpc_user_desc::pud_groups</a>, <a class="el" href="lustre__sec_8h_source.html#l00895">ptlrpc_user_desc::pud_ngroups</a>, and <a class="el" href="lustre__sec_8h_source.html#l00890">ptlrpc_user_desc::pud_uid</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01253">gss_alloc_reqbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01335">gss_alloc_reqbuf_priv()</a>, and <a class="el" href="sec__plain_8c_source.html#l00552">plain_alloc_reqbuf()</a>.</p>

</div>
</div>
<a class="anchor" id="ga980342127c4dc3a5b3ddf602bb7b4006"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_parse_flavor" ref="ga980342127c4dc3a5b3ddf602bb7b4006" args="(const char *str, struct sptlrpc_flavor *flvr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_parse_flavor </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>flvr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00099">99</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="linux-crypto-adler_8c_source.html#l00107">alg</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="lustre__sec_8h_source.html#l00904">BULK_HASH_ALG_ADLER32</a>, <a class="el" href="lustre__sec_8h_source.html#l00911">BULK_HASH_ALG_MAX</a>, <a class="el" href="lustre__sec_8h_source.html#l00903">BULK_HASH_ALG_NULL</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__sec_8h_source.html#l00270">flvr_set_bulk_svc()</a>, <a class="el" href="lustre__sec_8h_source.html#l00307">sptlrpc_flavor::hash</a>, <a class="el" href="lustre__sec_8h_source.html#l00281">bulk_spec_hash::hash_alg</a>, <a class="el" href="lustre__sec_8h_source.html#l00296">sptlrpc_flavor::sf_flags</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="lustre__sec_8h_source.html#l00128">SPTLRPC_BULK_SVC_INTG</a>, <a class="el" href="lustre__sec_8h_source.html#l00126">SPTLRPC_BULK_SVC_NULL</a>, <a class="el" href="lustre__sec_8h_source.html#l00250">SPTLRPC_FLVR_INVALID</a>, <a class="el" href="lustre__sec_8h_source.html#l00199">SPTLRPC_FLVR_PLAIN</a>, <a class="el" href="sec__bulk_8c_source.html#l00874">sptlrpc_get_hash_alg()</a>, <a class="el" href="sec_8c_source.html#l00158">sptlrpc_name2flavor_base()</a>, <a class="el" href="string_8c_source.html#l00058">strlcpy()</a>, and <a class="el" href="structsptlrpc__flavor.html#a0cec2e241f5c0d8a29621642f73d1a7c">sptlrpc_flavor::u_bulk</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01158">mgc_set_info_async()</a>, and <a class="el" href="sec__config_8c_source.html#l00186">sptlrpc_parse_rule()</a>.</p>

</div>
</div>
<a class="anchor" id="gafa6c9dde64f9943554b399bddd35b9ec"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_parse_rule" ref="gafa6c9dde64f9943554b399bddd35b9ec" args="(char *param, struct sptlrpc_rule *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_parse_rule </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00186">186</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01198">libcfs_str2net()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="lustre__sec_8h_source.html#l00316">LUSTRE_SP_CLI</a>, <a class="el" href="lustre__sec_8h_source.html#l00317">LUSTRE_SP_MDT</a>, <a class="el" href="lustre__sec_8h_source.html#l00318">LUSTRE_SP_OST</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="sec__config_8c_source.html#l00099">sptlrpc_parse_flavor()</a>, <a class="el" href="sec__config_8c_source.html#l00173">sptlrpc_rule_init()</a>, <a class="el" href="lustre__sec_8h_source.html#l00336">sptlrpc_rule::sr_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00333">sptlrpc_rule::sr_from</a>, <a class="el" href="lustre__sec_8h_source.html#l00332">sptlrpc_rule::sr_netid</a>, and <a class="el" href="lustre__sec_8h_source.html#l00334">sptlrpc_rule::sr_to</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00656">__sptlrpc_process_config()</a>, and <a class="el" href="mgs__llog_8c_source.html#l02999">mgs_srpc_set_param_mem()</a>.</p>

</div>
</div>
<a class="anchor" id="gae3ba857eeba0c2ef1f39398fbec5d20b"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_part2name" ref="gae3ba857eeba0c2ef1f39398fbec5d20b" args="(enum lustre_sec_part sp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* sptlrpc_part2name </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>sp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00056">56</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="lustre__sec_8h_source.html#l00316">LUSTRE_SP_CLI</a>, <a class="el" href="lustre__sec_8h_source.html#l00317">LUSTRE_SP_MDT</a>, <a class="el" href="lustre__sec_8h_source.html#l00319">LUSTRE_SP_MGC</a>, <a class="el" href="lustre__sec_8h_source.html#l00320">LUSTRE_SP_MGS</a>, and <a class="el" href="lustre__sec_8h_source.html#l00318">LUSTRE_SP_OST</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00934">rule2string()</a>, <a class="el" href="sec_8c_source.html#l01977">sptlrpc_target_update_exp_flavor()</a>, and <a class="el" href="tgt__handler_8c_source.html#l00947">tgt_connect_check_sptlrpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gafc46275a6dd8e63bc7ad0d9ac647f7c0"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_policy_get" ref="gafc46275a6dd8e63bc7ad0d9ac647f7c0" args="(struct ptlrpc_sec_policy *policy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a>* sptlrpc_policy_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00973">973</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00825">ptlrpc_sec_policy::sp_owner</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l02366">gss_svc_accept()</a>, and <a class="el" href="sec_8c_source.html#l01319">sptlrpc_sec_create()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4a062af182077919c5b9d90a1f96a06e"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_policy_put" ref="ga4a062af182077919c5b9d90a1f96a06e" args="(struct ptlrpc_sec_policy *policy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sptlrpc_policy_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00980">980</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00825">ptlrpc_sec_policy::sp_owner</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01887">gss_svc_reqctx_free()</a>, <a class="el" href="sec__null_8c_source.html#l00120">null_create_sec()</a>, <a class="el" href="sec_8c_source.html#l01262">sec_cop_destroy_sec()</a>, <a class="el" href="sec_8c_source.html#l01319">sptlrpc_sec_create()</a>, and <a class="el" href="sec_8c_source.html#l02070">sptlrpc_svc_unwrap_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1c47d43e343809a1953d50ab7f669843"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_process_config" ref="ga1c47d43e343809a1953d50ab7f669843" args="(struct lustre_cfg *lcfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_process_config </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00713">713</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="sec__config_8c_source.html#l00656">__sptlrpc_process_config()</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01990">mgc_process_config()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1a05c039cd87056cf638e2051cf3fe83"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_register_policy" ref="ga1a05c039cd87056cf638e2051cf3fe83" args="(struct ptlrpc_sec_policy *policy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_register_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00070">70</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="sec_8c_source.html#l00065">policy_lock</a>, <a class="el" href="lustre__sec_8h_source.html#l00828">ptlrpc_sec_policy::sp_cops</a>, <a class="el" href="lustre__sec_8h_source.html#l00826">ptlrpc_sec_policy::sp_name</a>, <a class="el" href="lustre__sec_8h_source.html#l00827">ptlrpc_sec_policy::sp_policy</a>, <a class="el" href="lustre__sec_8h_source.html#l00829">ptlrpc_sec_policy::sp_sops</a>, <a class="el" href="lustre__sec_8h_source.html#l00091">SPTLRPC_POLICY_MAX</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l01567">gss_init_keyring()</a>, <a class="el" href="gss__pipefs_8c_source.html#l01232">gss_init_pipefs()</a>, <a class="el" href="sec__null_8c_source.html#l00440">sptlrpc_null_init()</a>, and <a class="el" href="sec__plain_8c_source.html#l01017">sptlrpc_plain_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5aafb085a9167ed0295a28d4bddb5847"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_req_get_ctx" ref="ga5aafb085a9167ed0295a28d4bddb5847" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_req_get_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Given a <em>req</em>, find or allocate an appropriate context for it. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>req-&gt;rq_cli_ctx == NULL.</dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>succeed, and req-&gt;rq_cli_ctx is set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ev</em>&nbsp;</td><td>error number, and req-&gt;rq_cli_ctx == NULL. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l00425">425</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="sec_8c_source.html#l00271">get_my_ctx()</a>, <a class="el" href="sec_8c_source.html#l00389">import_sec_validate_get()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, and <a class="el" href="sec_8c_source.html#l01302">sptlrpc_sec_put()</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>, and <a class="el" href="sec_8c_source.html#l00549">sptlrpc_req_replace_dead_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9c506dfa976b8fa42f6d351f1a67098c"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_req_put_ctx" ref="ga9c506dfa976b8fa42f6d351f1a67098c" args="(struct ptlrpc_request *req, int sync)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_req_put_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sync</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drop the context for <em>req</em>. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>req-&gt;rq_cli_ctx != NULL. </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>req-&gt;rq_cli_ctx == NULL.</dd></dl>
<p>If <em>sync</em> == 0, this function should return quickly without sleep; otherwise it might trigger and wait for the whole process of sending an context-destroying rpc to server. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l00460">460</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, and <a class="el" href="sec_8c_source.html#l00303">sptlrpc_cli_ctx_put()</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l02389">__ptlrpc_free_req()</a>, and <a class="el" href="sec_8c_source.html#l00549">sptlrpc_req_replace_dead_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga94cbed545313e8c7bc6a682a438c89b0"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_req_refresh_ctx" ref="ga94cbed545313e8c7bc6a682a438c89b0" args="(struct ptlrpc_request *req, long timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_req_refresh_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To refresh the context of , if it's not up-to-date. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td><ul>
<li>&lt; 0: don't wait</li>
<li>= 0: wait until success or fatal error occur</li>
<li>&gt; 0: timeout value (in seconds)</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>The status of the context could be subject to be changed by other threads at any time. We allow this race, but once we return with 0, the caller will suppose it's uptodated and keep using it until the owning rpc is done.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>only if the context is uptodated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ev</em>&nbsp;</td><td>error number. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l00675">675</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00541">ptlrpc_cli_ctx::cc_flags</a>, <a class="el" href="lustre__sec_8h_source.html#l00543">ptlrpc_cli_ctx::cc_lock</a>, <a class="el" href="lustre__sec_8h_source.html#l00538">ptlrpc_cli_ctx::cc_ops</a>, <a class="el" href="lustre__sec_8h_source.html#l00544">ptlrpc_cli_ctx::cc_req_list</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__sec_8h_source.html#l01025">cli_ctx_is_eternal()</a>, <a class="el" href="lustre__sec_8h_source.html#l01001">cli_ctx_is_refreshed()</a>, <a class="el" href="sec_8c_source.html#l00614">ctx_check_refresh()</a>, <a class="el" href="sec_8c_source.html#l00643">ctx_refresh_interrupt()</a>, <a class="el" href="sec_8c_source.html#l00622">ctx_refresh_timeout()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_deactive</a>, <a class="el" href="sec_8c_source.html#l00389">import_sec_validate_get()</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="pack__generic_8c_source.html#l00829">lustre_msg_get_flags()</a>, <a class="el" href="lustre__lib_8h_source.html#l00189">LWI_TIMEOUT_INTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01153">MSG_RESENT</a>, <a class="el" href="lustre__sec_8h_source.html#l00852">ptlrpc_sec::ps_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00517">PTLRPC_CTX_DEAD_BIT</a>, <a class="el" href="lustre__sec_8h_source.html#l00518">PTLRPC_CTX_ERROR_BIT</a>, <a class="el" href="lustre__sec_8h_source.html#l00515">PTLRPC_CTX_NEW_BIT</a>, <a class="el" href="lustre__sec_8h_source.html#l00516">PTLRPC_CTX_UPTODATE_BIT</a>, <a class="el" href="structptlrpc__ctx__ops.html#ad2d600893d9bf038f602916ca9419eb8">ptlrpc_ctx_ops::refresh</a>, <a class="el" href="sec_8c_source.html#l00653">req_off_ctx_list()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_ctx_fini</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_ctx_init</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_err</a>, <a class="el" href="lustre__net_8h_source.html#l01055">ptlrpc_request::rq_flvr</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_receiving_reply</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_resend</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_restart</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_timedout</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="sec_8c_source.html#l00549">sptlrpc_req_replace_dead_ctx()</a>, <a class="el" href="sec_8c_source.html#l01302">sptlrpc_sec_put()</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="structptlrpc__ctx__ops.html#aeb5726f0e6c01064d509932276136255">ptlrpc_ctx_ops::validate</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>, and <a class="el" href="sec_8c_source.html#l00926">sptlrpc_import_check_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7254cf32b0cefed6242f298d3326e8dd"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_req_replace_dead_ctx" ref="ga7254cf32b0cefed6242f298d3326e8dd" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_req_replace_dead_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If current context of <em>req</em> is dead somehow, e.g. </p>
<p>we just switched flavor thus marked original contexts dead, we'll find a new context for it. if no switch is needed, <em>req</em> will end up with the same context.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>a request must have a context, to keep other parts of code happy. In any case of failure during the switching, we must restore the old one. </dd></dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l00549">549</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00541">ptlrpc_cli_ctx::cc_flags</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__sec_8h_source.html#l00517">PTLRPC_CTX_DEAD_BIT</a>, <a class="el" href="lustre__sec_8h_source.html#l00516">PTLRPC_CTX_UPTODATE_BIT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="sec_8c_source.html#l00296">sptlrpc_cli_ctx_get()</a>, <a class="el" href="sec_8c_source.html#l00303">sptlrpc_cli_ctx_put()</a>, <a class="el" href="sec_8c_source.html#l00482">sptlrpc_req_ctx_switch()</a>, <a class="el" href="sec_8c_source.html#l00425">sptlrpc_req_get_ctx()</a>, <a class="el" href="sec_8c_source.html#l00460">sptlrpc_req_put_ctx()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00693">gss_cli_ctx_handle_err_notify()</a>, and <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga701bf20eebf0fd9d03c94918418f3b31"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_req_set_flavor" ref="ga701bf20eebf0fd9d03c94918418f3b31" args="(struct ptlrpc_request *req, int opcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_req_set_flavor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>opcode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize flavor settings for <em>req</em>, according to <em>opcode</em>. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>this could be called in two situations:<ul>
<li>new request from ptlrpc_pre_req(), with proper </li>
<li>old request which changed ctx in the middle, with  == 0 </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l00845">845</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00260">flvr_set_svc()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00205">MDS_READPAGE</a>, <a class="el" href="packet-lustre_8c_source.html#l00219">MDS_WRITEPAGE</a>, <a class="el" href="packet-lustre_8c_source.html#l00315">MGS_CONFIG_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l03031">OBD_IDX_READ</a>, <a class="el" href="packet-lustre_8c_source.html#l00166">OST_READ</a>, <a class="el" href="packet-lustre_8c_source.html#l00167">OST_WRITE</a>, <a class="el" href="lustre__sec_8h_source.html#l00852">ptlrpc_sec::ps_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00858">ptlrpc_sec::ps_lock</a>, <a class="el" href="lustre__sec_8h_source.html#l00834">PTLRPC_SEC_FL_UDESC</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_bulk_read</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_bulk_write</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_ctx_fini</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_ctx_init</a>, <a class="el" href="lustre__net_8h_source.html#l01055">ptlrpc_request::rq_flvr</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_pack_bulk</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_pack_udesc</a>, <a class="el" href="lustre__idl_8h_source.html#l03594">SEC_CTX_FINI</a>, <a class="el" href="lustre__idl_8h_source.html#l03592">SEC_CTX_INIT</a>, <a class="el" href="lustre__sec_8h_source.html#l00296">sptlrpc_flavor::sf_flags</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="sec_8c_source.html#l02524">sptlrpc_flavor_has_bulk()</a>, <a class="el" href="lustre__sec_8h_source.html#l00193">SPTLRPC_FLVR_NULL</a>, <a class="el" href="lustre__sec_8h_source.html#l00114">SPTLRPC_SVC_INTG</a>, <a class="el" href="lustre__sec_8h_source.html#l00112">SPTLRPC_SVC_NULL</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>, and <a class="el" href="sec_8c_source.html#l00482">sptlrpc_req_ctx_switch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga61d2d3a2133c043d3998bd7a473f3937"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_request_out_callback" ref="ga61d2d3a2133c043d3998bd7a473f3937" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_request_out_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00907">907</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__net_8h_source.html#l01083">ptlrpc_request::rq_clrbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01055">ptlrpc_request::rq_flvr</a>, <a class="el" href="lustre__net_8h_source.html#l01028">ptlrpc_request::rq_pool</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01084">ptlrpc_request::rq_reqbuf_len</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="lustre__sec_8h_source.html#l00156">SPTLRPC_FLVR_SVC</a>, and <a class="el" href="lustre__sec_8h_source.html#l00115">SPTLRPC_SVC_PRIV</a>.</p>

<p>Referenced by <a class="el" href="events_8c_source.html#l00051">request_out_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa86a438c13250916b84e0d12810d5786"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_rule_set_choose" ref="gaa86a438c13250916b84e0d12810d5786" args="(struct sptlrpc_rule_set *rset, enum lustre_sec_part from, enum lustre_sec_part to, lnet_nid_t nid, struct sptlrpc_flavor *sf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_rule_set_choose </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>sf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>given from/to/nid, determine a matching flavor in ruleset. </p>
<p>return 1 if a match found, otherwise return 0. </p>

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00404">404</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00090">LNET_NIDNET()</a>, <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="lustre__sec_8h_source.html#l00336">sptlrpc_rule::sr_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00333">sptlrpc_rule::sr_from</a>, <a class="el" href="lustre__sec_8h_source.html#l00332">sptlrpc_rule::sr_netid</a>, <a class="el" href="lustre__sec_8h_source.html#l00334">sptlrpc_rule::sr_to</a>, <a class="el" href="lustre__sec_8h_source.html#l00347">sptlrpc_rule_set::srs_nrule</a>, and <a class="el" href="lustre__sec_8h_source.html#l00348">sptlrpc_rule_set::srs_rules</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00843">sptlrpc_conf_choose_flavor()</a>, and <a class="el" href="sec__config_8c_source.html#l00890">sptlrpc_target_choose_flavor()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8e24aa2e05415973026abbbba8e920d6"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_rule_set_dump" ref="ga8e24aa2e05415973026abbbba8e920d6" args="(struct sptlrpc_rule_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_rule_set_dump </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00436">436</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="lustre__sec_8h_source.html#l00336">sptlrpc_rule::sr_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00333">sptlrpc_rule::sr_from</a>, <a class="el" href="lustre__sec_8h_source.html#l00332">sptlrpc_rule::sr_netid</a>, <a class="el" href="lustre__sec_8h_source.html#l00334">sptlrpc_rule::sr_to</a>, <a class="el" href="lustre__sec_8h_source.html#l00347">sptlrpc_rule_set::srs_nrule</a>, and <a class="el" href="lustre__sec_8h_source.html#l00348">sptlrpc_rule_set::srs_rules</a>.</p>

</div>
</div>
<a class="anchor" id="gad97bd682c62430332e66ea25e26404fb"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_rule_set_expand" ref="gad97bd682c62430332e66ea25e26404fb" args="(struct sptlrpc_rule_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_rule_set_expand </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00258">258</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__sec_8h_source.html#l00347">sptlrpc_rule_set::srs_nrule</a>, <a class="el" href="lustre__sec_8h_source.html#l00346">sptlrpc_rule_set::srs_nslot</a>, and <a class="el" href="lustre__sec_8h_source.html#l00348">sptlrpc_rule_set::srs_rules</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00313">sptlrpc_rule_set_merge()</a>.</p>

</div>
</div>
<a class="anchor" id="ga70cd74bc850b26e1f7b64f005e7b65ba"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_rule_set_free" ref="ga70cd74bc850b26e1f7b64f005e7b65ba" args="(struct sptlrpc_rule_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_rule_set_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00242">242</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__sec_8h_source.html#l00354">sptlrpc_rule_set_init()</a>, <a class="el" href="lustre__sec_8h_source.html#l00347">sptlrpc_rule_set::srs_nrule</a>, <a class="el" href="lustre__sec_8h_source.html#l00346">sptlrpc_rule_set::srs_nslot</a>, and <a class="el" href="lustre__sec_8h_source.html#l00348">sptlrpc_rule_set::srs_rules</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l00294">mgs_free_fsdb_srpc()</a>, <a class="el" href="sec__config_8c_source.html#l00542">sptlrpc_conf_free_rsets()</a>, <a class="el" href="tgt__handler_8c_source.html#l01010">tgt_adapt_sptlrpc_conf()</a>, and <a class="el" href="tgt__main_8c_source.html#l00283">tgt_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="gab478d57c5919000e839b8a7242630530"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_rule_set_init" ref="gab478d57c5919000e839b8a7242630530" args="(struct sptlrpc_rule_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sptlrpc_rule_set_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l00354">354</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec__config_8c_source.html#l00595">sptlrpc_conf_get()</a>, <a class="el" href="sec__config_8c_source.html#l00570">sptlrpc_conf_get_tgt()</a>, <a class="el" href="sec__config_8c_source.html#l00242">sptlrpc_rule_set_free()</a>, <a class="el" href="tgt__handler_8c_source.html#l01010">tgt_adapt_sptlrpc_conf()</a>, and <a class="el" href="tgt__main_8c_source.html#l00147">tgt_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gac98f179353155454bcb03aa77718a914"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_rule_set_merge" ref="gac98f179353155454bcb03aa77718a914" args="(struct sptlrpc_rule_set *set, struct sptlrpc_rule *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_rule_set_merge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule.html">sptlrpc_rule</a> *&nbsp;</td>
          <td class="paramname"> <em>rule</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00313">313</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00153">D_CONFIG</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="sec__config_8c_source.html#l00298">rule_match_dir()</a>, <a class="el" href="sec__config_8c_source.html#l00303">rule_match_net()</a>, <a class="el" href="sec__config_8c_source.html#l00289">rule_spec_dir()</a>, <a class="el" href="sec__config_8c_source.html#l00294">rule_spec_net()</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="lustre__sec_8h_source.html#l00250">SPTLRPC_FLVR_INVALID</a>, <a class="el" href="sec__config_8c_source.html#l00258">sptlrpc_rule_set_expand()</a>, <a class="el" href="lustre__sec_8h_source.html#l00336">sptlrpc_rule::sr_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00347">sptlrpc_rule_set::srs_nrule</a>, and <a class="el" href="lustre__sec_8h_source.html#l00348">sptlrpc_rule_set::srs_rules</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l02999">mgs_srpc_set_param_mem()</a>, <a class="el" href="sec__config_8c_source.html#l00628">sptlrpc_conf_merge_rule()</a>, and <a class="el" href="sec__config_8c_source.html#l00448">sptlrpc_rule_set_extract()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c544de8ca3702af15a342280e984797"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_sec_destroy" ref="ga5c544de8ca3702af15a342280e984797" args="(struct ptlrpc_sec *sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_sec_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td>
          <td class="paramname"> <em>sec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01276">1276</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="sec_8c_source.html#l01262">sec_cop_destroy_sec()</a>.</p>

</div>
</div>
<a class="anchor" id="ga46b62f214acc7091ec6a686b6b7e7467"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_sec_get" ref="ga46b62f214acc7091ec6a686b6b7e7467" args="(struct ptlrpc_sec *sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a>* sptlrpc_sec_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td>
          <td class="paramname"> <em>sec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01293">1293</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00847">ptlrpc_sec::ps_refcount</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01369">sptlrpc_import_sec_ref()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7614fad9d6201ee956c2b8c591b63e27"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_sec_put" ref="ga7614fad9d6201ee956c2b8c591b63e27" args="(struct ptlrpc_sec *sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_sec_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec.html">ptlrpc_sec</a> *&nbsp;</td>
          <td class="paramname"> <em>sec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01302">1302</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00411">LASSERT_ATOMIC_POS</a>, <a class="el" href="lustre__sec_8h_source.html#l00847">ptlrpc_sec::ps_refcount</a>, <a class="el" href="sec_8c_source.html#l01262">sec_cop_destroy_sec()</a>, and <a class="el" href="sec__gc_8c_source.html#l00082">sptlrpc_gc_del_sec()</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l00232">ctx_destroy_kr()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00113">ctx_destroy_pf()</a>, <a class="el" href="gss__keyring_8c_source.html#l01253">gss_svc_install_rctx_kr()</a>, <a class="el" href="gss__pipefs_8c_source.html#l00602">gss_svc_install_rctx_pf()</a>, <a class="el" href="sec_8c_source.html#l01540">import_flush_ctx_common()</a>, <a class="el" href="sec_8c_source.html#l00389">import_sec_validate_get()</a>, <a class="el" href="sec__plain_8c_source.html#l00515">plain_release_ctx()</a>, <a class="el" href="sec__lproc_8c_source.html#l00119">sptlrpc_ctxs_lprocfs_seq_show()</a>, <a class="el" href="sec_8c_source.html#l00926">sptlrpc_import_check_ctx()</a>, <a class="el" href="sec_8c_source.html#l01438">sptlrpc_import_sec_adapt()</a>, <a class="el" href="sec_8c_source.html#l01381">sptlrpc_import_sec_install()</a>, <a class="el" href="sec_8c_source.html#l01530">sptlrpc_import_sec_put()</a>, <a class="el" href="sec__lproc_8c_source.html#l00078">sptlrpc_info_lprocfs_seq_show()</a>, <a class="el" href="sec_8c_source.html#l00425">sptlrpc_req_get_ctx()</a>, and <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga325dd2fed56fea11600d8cc135b19b41"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_secflags2str" ref="ga325dd2fed56fea11600d8cc135b19b41" args="(__u32 flags, char *buf, int bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* sptlrpc_secflags2str </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00247">247</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00835">PTLRPC_SEC_FL_BULK</a>, <a class="el" href="lustre__sec_8h_source.html#l00832">PTLRPC_SEC_FL_REVERSE</a>, <a class="el" href="lustre__sec_8h_source.html#l00833">PTLRPC_SEC_FL_ROOTONLY</a>, <a class="el" href="lustre__sec_8h_source.html#l00834">PTLRPC_SEC_FL_UDESC</a>, and <a class="el" href="string_8c_source.html#l00072">strlcat()</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01413">sptlrpc_import_sec_adapt_inplace()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1bcf6cf901c5c461f6f273a9b764430a"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_svc_alloc_rs" ref="ga1bcf6cf901c5c461f6f273a9b764430a" args="(struct ptlrpc_request *req, int msglen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_svc_alloc_rs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msglen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc server, to allocate reply buffer for <em>req</em>. </p>
<p>If succeed, req-&gt;rq_reply_state is set, and req-&gt;rq_reply_state-&gt;rs_msg point to a buffer of <em>msglen</em> size. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l02130">2130</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="structptlrpc__sec__sops.html#ad698da3f8f10c271ae3486521ce09412">ptlrpc_sec_sops::alloc_rs</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="pack__generic_8c_source.html#l00283">lustre_get_emerg_rs()</a>, <a class="el" href="pack__generic_8c_source.html#l00319">lustre_put_emerg_rs()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__sec_8h_source.html#l00829">ptlrpc_sec_policy::sp_sops</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00329">lustre_pack_reply_v2()</a>.</p>

</div>
</div>
<a class="anchor" id="gac66b97b1dc648126eca05d226eb472d4"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_svc_ctx_addref" ref="gac66b97b1dc648126eca05d226eb472d4" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_svc_ctx_addref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l02221">2221</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__sec_8h_source.html#l00880">ptlrpc_svc_ctx::sc_refcount</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="gabb77528ba2594382bae01ea165279b33"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_svc_ctx_decref" ref="gabb77528ba2594382bae01ea165279b33" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_svc_ctx_decref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l02229">2229</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="structptlrpc__sec__sops.html#af0088688e5488aa185de82f8c48be04c">ptlrpc_sec_sops::free_ctx</a>, <a class="el" href="libcfs__private_8h_source.html#l00411">LASSERT_ATOMIC_POS</a>, <a class="el" href="lustre__sec_8h_source.html#l00881">ptlrpc_svc_ctx::sc_policy</a>, <a class="el" href="lustre__sec_8h_source.html#l00880">ptlrpc_svc_ctx::sc_refcount</a>, and <a class="el" href="lustre__sec_8h_source.html#l00829">ptlrpc_sec_policy::sp_sops</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>, and <a class="el" href="service_8c_source.html#l00836">ptlrpc_server_free_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ga190589b71fa07942382f910717c24698"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_svc_ctx_invalidate" ref="ga190589b71fa07942382f910717c24698" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_svc_ctx_invalidate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l02244">2244</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="structptlrpc__sec__sops.html#a26a206ee7e1e7782f6ebd2994ecab72b">ptlrpc_sec_sops::invalidate_ctx</a>, <a class="el" href="libcfs__private_8h_source.html#l00411">LASSERT_ATOMIC_POS</a>, <a class="el" href="lustre__sec_8h_source.html#l00881">ptlrpc_svc_ctx::sc_policy</a>, <a class="el" href="lustre__sec_8h_source.html#l00880">ptlrpc_svc_ctx::sc_refcount</a>, and <a class="el" href="lustre__sec_8h_source.html#l00829">ptlrpc_sec_policy::sp_sops</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02170">mdt_sec_ctx_handle()</a>.</p>

</div>
</div>
<a class="anchor" id="ga993608bc2cfa31615e26f5f368801d30"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_svc_free_rs" ref="ga993608bc2cfa31615e26f5f368801d30" args="(struct ptlrpc_reply_state *rs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_svc_free_rs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *&nbsp;</td>
          <td class="paramname"> <em>rs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc server, to free reply_state. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l02201">2201</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="structptlrpc__sec__sops.html#a9efbc6c11a531f258abfbb66ec8d3c83">ptlrpc_sec_sops::free_rs</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="pack__generic_8c_source.html#l00319">lustre_put_emerg_rs()</a>, <a class="el" href="lustre__net_8h_source.html#l00671">ptlrpc_reply_state::rs_prealloc</a>, <a class="el" href="lustre__net_8h_source.html#l00693">ptlrpc_reply_state::rs_svc_ctx</a>, <a class="el" href="lustre__sec_8h_source.html#l00881">ptlrpc_svc_ctx::sc_policy</a>, and <a class="el" href="lustre__sec_8h_source.html#l00829">ptlrpc_sec_policy::sp_sops</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00508">lustre_free_reply_state()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa6cf2336242cfbca59edb26b9444508a"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_svc_install_rvs_ctx" ref="gaa6cf2336242cfbca59edb26b9444508a" args="(struct obd_import *imp, struct ptlrpc_svc_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_svc_install_rvs_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__svc__ctx.html">ptlrpc_svc_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01759">1759</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="structptlrpc__sec__sops.html#a54b152657628c74074ae4ea4989846a3">ptlrpc_sec_sops::install_rctx</a>, <a class="el" href="lustre__sec_8h_source.html#l00881">ptlrpc_svc_ctx::sc_policy</a>, and <a class="el" href="lustre__sec_8h_source.html#l00829">ptlrpc_sec_policy::sp_sops</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01797">sptlrpc_target_export_check()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6fdd12db4bcfd925fed91da8a4ecf857"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_svc_unwrap_request" ref="ga6fdd12db4bcfd925fed91da8a4ecf857" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_svc_unwrap_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc server, to perform transformation upon request message of incoming <em>req</em>. </p>
<p>This must be the first thing to do with an incoming request in ptlrpc layer.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SECSVC_OK</em>&nbsp;</td><td>success, and req-&gt;rq_reqmsg point to request message in clear text, size is req-&gt;rq_reqlen; also req-&gt;rq_svc_ctx is set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SECSVC_COMPLETE</em>&nbsp;</td><td>success, the request has been fully processed, and reply message has been prepared. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SECSVC_DROP</em>&nbsp;</td><td>failed, this request should be dropped. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l02070">2070</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="pack__generic_8c_source.html#l00574">__lustre_unpack_msg()</a>, <a class="el" href="structptlrpc__sec__sops.html#a2a593984c53aea5425bc29f6ede99144">ptlrpc_sec_sops::accept</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01236">libcfs_id2str()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__idl_8h_source.html#l01047">lustre_msg</a>, <a class="el" href="lustre__net_8h_source.html#l01206">lustre_set_req_swabbed()</a>, <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="multiop_8c_source.html#l00063">msg</a>, <a class="el" href="lustre__idl_8h_source.html#l01144">MSG_PTLRPC_HEADER_OFF</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01055">ptlrpc_request::rq_flvr</a>, <a class="el" href="lustre__net_8h_source.html#l01108">ptlrpc_request::rq_peer</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, <a class="el" href="lustre__net_8h_source.html#l01096">ptlrpc_request::rq_req_swab_mask</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01085">ptlrpc_request::rq_reqdata_len</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l01036">ptlrpc_request::rq_xid</a>, <a class="el" href="lustre__sec_8h_source.html#l01104">SECSVC_DROP</a>, <a class="el" href="lustre__sec_8h_source.html#l01102">SECSVC_OK</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="lustre__sec_8h_source.html#l00829">ptlrpc_sec_policy::sp_sops</a>, <a class="el" href="lustre__sec_8h_source.html#l00152">SPTLRPC_FLVR_POLICY</a>, <a class="el" href="lustre__sec_8h_source.html#l00088">SPTLRPC_POLICY_NULL</a>, <a class="el" href="lustre__sec_8h_source.html#l00980">sptlrpc_policy_put()</a>, <a class="el" href="sec_8c_source.html#l02017">sptlrpc_svc_check_from()</a>, <a class="el" href="sec_8c_source.html#l00117">sptlrpc_wireflavor2policy()</a>, and <a class="el" href="lustre__sec_8h_source.html#l00256">WIRE_FLVR</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa36445bb3135100651ecb584e151f3cb"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_svc_wrap_reply" ref="gaa36445bb3135100651ecb584e151f3cb" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_svc_wrap_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by ptlrpc server, to perform transformation upon reply message. </p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>req-&gt;rq_reply_off is set to approriate server-controlled reply offset. </dd>
<dd>
req-&gt;rq_repmsg and req-&gt;rq_reply_state-&gt;rs_msg becomes inaccessible. </dd></dl>

<p>Definition at line <a class="el" href="sec_8c_source.html#l02180">2180</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="structptlrpc__sec__sops.html#a876a2e82cdca22048ce6521778690e83">ptlrpc_sec_sops::authorize</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__sec_8h_source.html#l00829">ptlrpc_sec_policy::sp_sops</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="gac2dcbcaee70d89f9e5f250d5e095ab4e"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_target_choose_flavor" ref="gac2dcbcaee70d89f9e5f250d5e095ab4e" args="(struct sptlrpc_rule_set *rset, enum lustre_sec_part from, lnet_nid_t nid, struct sptlrpc_flavor *flavor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_target_choose_flavor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a>&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__flavor.html">sptlrpc_flavor</a> *&nbsp;</td>
          <td class="paramname"> <em>flavor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>called by target devices, determine the expected flavor from certain peer (from, nid). </p>

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00890">890</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="sec__config_8c_source.html#l00165">get_default_flavor()</a>, <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, and <a class="el" href="sec__config_8c_source.html#l00404">sptlrpc_rule_set_choose()</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01977">sptlrpc_target_update_exp_flavor()</a>, and <a class="el" href="tgt__handler_8c_source.html#l00947">tgt_connect_check_sptlrpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf12efdd6553013c0e886d356541dd86b"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_target_export_check" ref="gaf12efdd6553013c0e886d356541dd86b" args="(struct obd_export *exp, struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_target_export_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Given an export <em>exp</em>, check whether the flavor of incoming <em>req</em> is allowed by the export <em>exp</em>. </p>
<p>Main logic is about taking care of changing configurations. Return 0 means success. </p>

<p>Definition at line <a class="el" href="sec_8c_source.html#l01797">1797</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00263">CFS_DURATION_T</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="lustre__export_8h_source.html#l00264">obd_export::exp_flvr</a>, <a class="el" href="lustre__export_8h_source.html#l00245">obd_export::exp_flvr_adapt</a>, <a class="el" href="lustre__export_8h_source.html#l00245">obd_export::exp_flvr_changed</a>, <a class="el" href="lustre__export_8h_source.html#l00266">obd_export::exp_flvr_expire</a>, <a class="el" href="lustre__export_8h_source.html#l00265">obd_export::exp_flvr_old</a>, <a class="el" href="sec_8c_source.html#l01790">EXP_FLVR_UPDATE_EXPIRE</a>, <a class="el" href="lustre__export_8h_source.html#l00214">obd_export::exp_imp_reverse</a>, <a class="el" href="lustre__export_8h_source.html#l00240">obd_export::exp_lock</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="sec_8c_source.html#l01773">flavor_allowed()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_auth_gss</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_auth_usr_mdt</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_auth_usr_ost</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_auth_usr_root</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_ctx_fini</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_ctx_init</a>, <a class="el" href="lustre__net_8h_source.html#l01055">ptlrpc_request::rq_flvr</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="sec_8c_source.html#l01438">sptlrpc_import_sec_adapt()</a>, <a class="el" href="sec_8c_source.html#l01759">sptlrpc_svc_install_rvs_ctx()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>, and <a class="el" href="tgt__handler_8c_source.html#l00947">tgt_connect_check_sptlrpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gab694657bf342c17497d3a93d365ca0fb"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_target_sec_part" ref="gab694657bf342c17497d3a93d365ca0fb" args="(struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__sptlrpc.html#gaceeb8c40afd0179b5b42fc19aa58d177">lustre_sec_part</a> sptlrpc_target_sec_part </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__config_8c_source.html#l00077">77</a> of file <a class="el" href="sec__config_8c_source.html">sec_config.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00459">LUSTRE_MDT_NAME</a>, <a class="el" href="obd_8h_source.html#l00465">LUSTRE_MGS_NAME</a>, <a class="el" href="obd_8h_source.html#l00462">LUSTRE_OST_NAME</a>, <a class="el" href="lustre__sec_8h_source.html#l00321">LUSTRE_SP_ANY</a>, <a class="el" href="lustre__sec_8h_source.html#l00317">LUSTRE_SP_MDT</a>, <a class="el" href="lustre__sec_8h_source.html#l00320">LUSTRE_SP_MGS</a>, <a class="el" href="lustre__sec_8h_source.html#l00318">LUSTRE_SP_OST</a>, <a class="el" href="obd_8h_source.html#l00592">obd_device::obd_type</a>, and <a class="el" href="obd_8h_source.html#l00111">obd_type::typ_name</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01438">sptlrpc_import_sec_adapt()</a>.</p>

</div>
</div>
<a class="anchor" id="ga722b78e23977e8a40890e54e043fb743"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_target_update_exp_flavor" ref="ga722b78e23977e8a40890e54e043fb743" args="(struct obd_device *obd, struct sptlrpc_rule_set *rset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sptlrpc_target_update_exp_flavor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsptlrpc__rule__set.html">sptlrpc_rule_set</a> *&nbsp;</td>
          <td class="paramname"> <em>rset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l01977">1977</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00521">ptlrpc_connection::c_peer</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="lustre__export_8h_source.html#l00217">obd_export::exp_connection</a>, <a class="el" href="lustre__export_8h_source.html#l00264">obd_export::exp_flvr</a>, <a class="el" href="lustre__export_8h_source.html#l00245">obd_export::exp_flvr_adapt</a>, <a class="el" href="lustre__export_8h_source.html#l00245">obd_export::exp_flvr_changed</a>, <a class="el" href="lustre__export_8h_source.html#l00266">obd_export::exp_flvr_expire</a>, <a class="el" href="lustre__export_8h_source.html#l00265">obd_export::exp_flvr_old</a>, <a class="el" href="lustre__export_8h_source.html#l00240">obd_export::exp_lock</a>, <a class="el" href="lustre__export_8h_source.html#l00263">obd_export::exp_sp_peer</a>, <a class="el" href="sec_8c_source.html#l01402">flavor_equal()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, <a class="el" href="obd_8h_source.html#l00644">obd_device::obd_dev_lock</a>, <a class="el" href="obd_8h_source.html#l00634">obd_device::obd_exports</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="sec__config_8c_source.html#l00056">sptlrpc_part2name()</a>, and <a class="el" href="sec__config_8c_source.html#l00890">sptlrpc_target_choose_flavor()</a>.</p>

<p>Referenced by <a class="el" href="mgs__llog_8c_source.html#l03087">mgs_srpc_set_param()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01010">tgt_adapt_sptlrpc_conf()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3e53853e63a860a62a3b72b4f13f5632"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_unpack_user_desc" ref="ga3e53853e63a860a62a3b72b4f13f5632" args="(struct lustre_msg *req, int offset, int swabbed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_unpack_user_desc </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>swabbed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l02468">2468</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00045">__swab32s</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__sec_8h_source.html#l00887">LUSTRE_MAX_GROUPS</a>, <a class="el" href="pack__generic_8c_source.html#l00436">lustre_msg_buf()</a>, <a class="el" href="lustre__sec_8h_source.html#l00894">ptlrpc_user_desc::pud_cap</a>, <a class="el" href="lustre__sec_8h_source.html#l00893">ptlrpc_user_desc::pud_fsgid</a>, <a class="el" href="lustre__sec_8h_source.html#l00892">ptlrpc_user_desc::pud_fsuid</a>, <a class="el" href="lustre__sec_8h_source.html#l00891">ptlrpc_user_desc::pud_gid</a>, <a class="el" href="lustre__sec_8h_source.html#l00896">ptlrpc_user_desc::pud_groups</a>, <a class="el" href="lustre__sec_8h_source.html#l00895">ptlrpc_user_desc::pud_ngroups</a>, and <a class="el" href="lustre__sec_8h_source.html#l00890">ptlrpc_user_desc::pud_uid</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l02318">gss_svc_handle_destroy()</a>, <a class="el" href="sec__gss_8c_source.html#l01996">gss_svc_handle_init()</a>, <a class="el" href="sec__gss_8c_source.html#l02195">gss_svc_unseal_request()</a>, <a class="el" href="sec__gss_8c_source.html#l02114">gss_svc_verify_request()</a>, and <a class="el" href="sec__plain_8c_source.html#l00731">plain_accept()</a>.</p>

</div>
</div>
<a class="anchor" id="gaed742582f21f7873e14c565bbbf25ff2"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_unregister_policy" ref="gaed742582f21f7873e14c565bbbf25ff2" args="(struct ptlrpc_sec_policy *policy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sptlrpc_unregister_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__sec__policy.html">ptlrpc_sec_policy</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec_8c_source.html#l00094">94</a> of file <a class="el" href="sec_8c_source.html">sec.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00156">D_SEC</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="sec_8c_source.html#l00065">policy_lock</a>, <a class="el" href="lustre__sec_8h_source.html#l00826">ptlrpc_sec_policy::sp_name</a>, <a class="el" href="lustre__sec_8h_source.html#l00827">ptlrpc_sec_policy::sp_policy</a>, <a class="el" href="lustre__sec_8h_source.html#l00091">SPTLRPC_POLICY_MAX</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="gss__keyring_8c_source.html#l01586">gss_exit_keyring()</a>, <a class="el" href="gss__pipefs_8c_source.html#l01249">gss_exit_pipefs()</a>, <a class="el" href="sec__null_8c_source.html#l00453">sptlrpc_null_fini()</a>, and <a class="el" href="sec__plain_8c_source.html#l01032">sptlrpc_plain_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ga14d6329b7039386d60e183ed97f52764"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_user_desc_size" ref="ga14d6329b7039386d60e183ed97f52764" args="(int ngroups)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int sptlrpc_user_desc_size </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ngroups</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__sec_8h_source.html#l01159">1159</a> of file <a class="el" href="lustre__sec_8h_source.html">lustre_sec.h</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l02432">sptlrpc_current_user_desc_size()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gaa93552557afcf1b6764abfef741123bf"></a><!-- doxytag: member="lustre_sec.h::sptlrpc_proc_root" ref="gaa93552557afcf1b6764abfef741123bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct proc_dir_entry* <a class="el" href="group__sptlrpc.html#gaa93552557afcf1b6764abfef741123bf">sptlrpc_proc_root</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="sec__lproc_8c_source.html#l00057">57</a> of file <a class="el" href="sec__lproc_8c_source.html">sec_lproc.c</a>.</p>

<p>Referenced by <a class="el" href="lproc__gss_8c_source.html#l00201">gss_init_lproc()</a>, <a class="el" href="sec__lproc_8c_source.html#l00202">sptlrpc_lproc_fini()</a>, and <a class="el" href="sec__lproc_8c_source.html#l00186">sptlrpc_lproc_init()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:52 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
