<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/ptlrpc/nodemap_storage.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/ptlrpc/nodemap_storage.c File Reference</h1><code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;linux/err.h&gt;</code><br/>
<code>#include &lt;linux/kernel.h&gt;</code><br/>
<code>#include &lt;linux/list.h&gt;</code><br/>
<code>#include &lt;linux/mutex.h&gt;</code><br/>
<code>#include &lt;linux/string.h&gt;</code><br/>
<code>#include &lt;linux/types.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="lnet_2include_2lnet_2types_8h_source.html">lnet/types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__idl_8h_source.html">lustre/lustre_idl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dt__object_8h_source.html">dt_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lu__object_8h_source.html">lu_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__nodemap_8h_source.html">lustre_nodemap.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="nodemap__internal_8h_source.html">nodemap_internal.h</a>&quot;</code><br/>

<p><a href="nodemap__storage_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a82e63dd069c090812ef16ee817e41ca3">nm_idx_cb_t</a> )(struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *idx, const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk, const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *nr)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#aff8f3d7770fac8e2c2c3331e56c13603">nm_flag_shifts</a> { <a class="el" href="nodemap__storage_8c.html#aff8f3d7770fac8e2c2c3331e56c13603af617fa59662a2a27914ca2226065b9b4">NM_FL_ALLOW_ROOT_ACCESS</a> =  0x1, 
<a class="el" href="nodemap__storage_8c.html#aff8f3d7770fac8e2c2c3331e56c13603a002ac82d61e5ed7f1d5a36ded39be4c3">NM_FL_TRUST_CLIENT_IDS</a> =  0x2
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#aa5dff70b95fff89165fb2760fc61a94a">nm_add_update</a> { <a class="el" href="nodemap__storage_8c.html#aa5dff70b95fff89165fb2760fc61a94aa3d5c91a6fad2fd7f484ef20954a30999">NM_ADD</a> =  0, 
<a class="el" href="nodemap__storage_8c.html#aa5dff70b95fff89165fb2760fc61a94aabcdde72c39b5e72f17e8b93dbde0afbb">NM_UPDATE</a> =  1
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#abc888a104111f20e224f207f34645c5d">LIST_HEAD</a> (ncf_list_head)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#aa917803355edec85c1587538d6639e12">DEFINE_MUTEX</a> (ncf_list_lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#ac5c97d15e3bc17e91240a900f3e0ec85">nodemap_cluster_key_init</a> (struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk, unsigned int nm_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a0abc436e29743155438635efdc1ef316">nodemap_cluster_rec_init</a> (union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *nr, const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *nodemap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#ac87917aeb13494a9b11a082bf6e50e15">nodemap_idmap_key_init</a> (struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk, unsigned int nm_id, enum <a class="el" href="lustre__nodemap_8h.html#a81845468d8a3390881570642981a38a4">nodemap_id_type</a> id_type, u32 id_client)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#ad0114bcc533a4ff2539a60ac84f4a989">nodemap_idmap_rec_init</a> (union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *nr, u32 id_fs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#aac83bef7016a2837038a4c6f0f61713c">nodemap_range_key_init</a> (struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk, unsigned int nm_id, unsigned int rn_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#ae51ceb7f706d9ff36eb01779b64420e6">nodemap_range_rec_init</a> (union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *nr, const <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid[2])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a4d05a747ae09d6dc7a8c476fb3d49189">nodemap_global_key_init</a> (struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a020bfb90c86903880302c02a0f41cb08">nodemap_global_rec_init</a> (union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *nr, bool active)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a56f06b4e44732515f089fcf094e89b55">nodemap_inc_version</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *nodemap_idx, struct <a class="el" href="structthandle.html">thandle</a> *th)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#ae7f6e41d14794a66fd72afc92bc01a2e">nodemap_idx_insert</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *idx, const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk, const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *nr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#ab3c84e1b2528e7a502278409bfe013a3">nodemap_idx_update</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *idx, const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk, const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *nr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a1bc843edd17234dec712c8f15a952a98">nodemap_idx_delete</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *idx, const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk, const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *unused)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a834a88991cb8c679ab472a59a3497648">nodemap_idx_action</a> (<a class="el" href="nodemap__storage_8c.html#a82e63dd069c090812ef16ee817e41ca3">nm_idx_cb_t</a> cb_f, struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk, union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *nr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterates through all the registered nodemap_config_files and calls the given callback with the ncf as a parameter, as well as the given key and rec.  <a href="#a834a88991cb8c679ab472a59a3497648"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a6dba03fa5fe2864ed591d0a2058a4064">nodemap_idx_nodemap_add_update</a> (const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *nodemap, enum <a class="el" href="nodemap__storage_8c.html#aa5dff70b95fff89165fb2760fc61a94a">nm_add_update</a> update)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#ab7bcdecf161472e06819e0dc63df7386">nodemap_idx_nodemap_add</a> (const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *nodemap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a5b43af222fd7a1ce13acb5e60ed9c24b">nodemap_idx_nodemap_update</a> (const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *nodemap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#add21df1a07d159ffe4f1be2a7d60c932">nodemap_idx_nodemap_del</a> (const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *nodemap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a7b3e91720bf263274f7b910e3b656a65">nodemap_idx_range_add</a> (const struct <a class="el" href="structlu__nid__range.html">lu_nid_range</a> *range, const <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nid[2])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a02355c276c20ec45f3964fed80765a11">nodemap_idx_range_del</a> (const struct <a class="el" href="structlu__nid__range.html">lu_nid_range</a> *range)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a3fdbd0812c0cb5c4efd4fb443c2ab721">nodemap_idx_idmap_add</a> (const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *nodemap, enum <a class="el" href="lustre__nodemap_8h.html#a81845468d8a3390881570642981a38a4">nodemap_id_type</a> id_type, const u32 map[2])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a8cd2b6f30ae3c10124fd1f60e1f5d35c">nodemap_idx_idmap_del</a> (const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *nodemap, enum <a class="el" href="lustre__nodemap_8h.html#a81845468d8a3390881570642981a38a4">nodemap_id_type</a> id_type, const u32 map[2])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a7a70528348a79f7ad392ebcf022bdefd">nodemap_idx_global_add_update</a> (bool value, enum <a class="el" href="nodemap__storage_8c.html#aa5dff70b95fff89165fb2760fc61a94a">nm_add_update</a> update)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#af2121a19e43887ca2e6f823158760489">nodemap_idx_nodemap_activate</a> (bool value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a953f8e4b9a102d16157a65ed1bacc717">nodemap_process_keyrec</a> (struct <a class="el" href="structnodemap__config.html">nodemap_config</a> *config, const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *key, const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *rec, struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> **recent_nodemap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process a key/rec pair and modify the new configuration.  <a href="#a953f8e4b9a102d16157a65ed1bacc717"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a1c48aa2ae1d23edddebe2e3b354e8b0b">nodemap_load_entries</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *nodemap_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnm__config__file.html">nm_config_file</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#a944e06a08db78a6aebf8af533df29e88">nm_config_file_register</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a <a class="el" href="structdt__object.html">dt_object</a> representing the config index file.  <a href="#a944e06a08db78a6aebf8af533df29e88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__storage_8c.html#ad6206a7f9f24210f127d0ded54ca00a4">nm_config_file_deregister</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structnm__config__file.html">nm_config_file</a> *ncf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deregister a <a class="el" href="structnm__config__file.html">nm_config_file</a>.  <a href="#ad6206a7f9f24210f127d0ded54ca00a4"></a><br/></td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a82e63dd069c090812ef16ee817e41ca3"></a><!-- doxytag: member="nodemap_storage.c::nm_idx_cb_t" ref="a82e63dd069c090812ef16ee817e41ca3" args=")(struct lu_env *env, struct dt_object *idx, const struct nodemap_key *nk, const union nodemap_rec *nr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="nodemap__storage_8c.html#a82e63dd069c090812ef16ee817e41ca3">nm_idx_cb_t</a>)(struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structdt__object.html">dt_object</a> *idx, const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *nk, const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *nr)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00281">281</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="aa5dff70b95fff89165fb2760fc61a94a"></a><!-- doxytag: member="nodemap_storage.c::nm_add_update" ref="aa5dff70b95fff89165fb2760fc61a94a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="nodemap__storage_8c.html#aa5dff70b95fff89165fb2760fc61a94a">nm_add_update</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aa5dff70b95fff89165fb2760fc61a94aa3d5c91a6fad2fd7f484ef20954a30999"></a><!-- doxytag: member="NM_ADD" ref="aa5dff70b95fff89165fb2760fc61a94aa3d5c91a6fad2fd7f484ef20954a30999" args="" -->NM_ADD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa5dff70b95fff89165fb2760fc61a94aabcdde72c39b5e72f17e8b93dbde0afbb"></a><!-- doxytag: member="NM_UPDATE" ref="aa5dff70b95fff89165fb2760fc61a94aabcdde72c39b5e72f17e8b93dbde0afbb" args="" -->NM_UPDATE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00321">321</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

</div>
</div>
<a class="anchor" id="aff8f3d7770fac8e2c2c3331e56c13603"></a><!-- doxytag: member="nodemap_storage.c::nm_flag_shifts" ref="aff8f3d7770fac8e2c2c3331e56c13603" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="nodemap__storage_8c.html#aff8f3d7770fac8e2c2c3331e56c13603">nm_flag_shifts</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aff8f3d7770fac8e2c2c3331e56c13603af617fa59662a2a27914ca2226065b9b4"></a><!-- doxytag: member="NM_FL_ALLOW_ROOT_ACCESS" ref="aff8f3d7770fac8e2c2c3331e56c13603af617fa59662a2a27914ca2226065b9b4" args="" -->NM_FL_ALLOW_ROOT_ACCESS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aff8f3d7770fac8e2c2c3331e56c13603a002ac82d61e5ed7f1d5a36ded39be4c3"></a><!-- doxytag: member="NM_FL_TRUST_CLIENT_IDS" ref="aff8f3d7770fac8e2c2c3331e56c13603a002ac82d61e5ed7f1d5a36ded39be4c3" args="" -->NM_FL_TRUST_CLIENT_IDS</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00068">68</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa917803355edec85c1587538d6639e12"></a><!-- doxytag: member="nodemap_storage.c::DEFINE_MUTEX" ref="aa917803355edec85c1587538d6639e12" args="(ncf_list_lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_MUTEX </td>
          <td>(</td>
          <td class="paramtype">ncf_list_lock&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abc888a104111f20e224f207f34645c5d"></a><!-- doxytag: member="nodemap_storage.c::LIST_HEAD" ref="abc888a104111f20e224f207f34645c5d" args="(ncf_list_head)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">ncf_list_head&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad6206a7f9f24210f127d0ded54ca00a4"></a><!-- doxytag: member="nodemap_storage.c::nm_config_file_deregister" ref="ad6206a7f9f24210f127d0ded54ca00a4" args="(const struct lu_env *env, struct nm_config_file *ncf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nm_config_file_deregister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnm__config__file.html">nm_config_file</a> *&nbsp;</td>
          <td class="paramname"> <em>ncf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deregister a <a class="el" href="structnm__config__file.html">nm_config_file</a>. </p>
<p>Should be called by targets during cleanup.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ncf</em>&nbsp;</td><td>config file to deregister </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00782">782</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00105">nm_config_file::ncf_list</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00104">nm_config_file::ncf_obj</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="mgs__fs_8c_source.html#l00225">mgs_fs_cleanup()</a>, and <a class="el" href="mgs__fs_8c_source.html#l00116">mgs_fs_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a944e06a08db78a6aebf8af533df29e88"></a><!-- doxytag: member="nodemap_storage.c::nm_config_file_register" ref="a944e06a08db78a6aebf8af533df29e88" args="(const struct lu_env *env, struct dt_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnm__config__file.html">nm_config_file</a>* nm_config_file_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register a <a class="el" href="structdt__object.html">dt_object</a> representing the config index file. </p>
<p>This should be called by targets in order to load the nodemap configuration from disk. The <a class="el" href="structdt__object.html">dt_object</a> should be created with local_index_find_or_create and the index features should be enabled with do_index_try.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td><a class="el" href="structdt__object.html">dt_object</a> returned by local_index_find_or_create</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>on</em>&nbsp;</td><td>success: <a class="el" href="structnm__config__file.html">nm_config_file</a> handle for later deregistration </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOMEM</em>&nbsp;</td><td>memory allocation failure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOENT</em>&nbsp;</td><td>error loading nodemap config </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-EINVAL</em>&nbsp;</td><td>error loading nodemap config </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00740">740</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00105">nm_config_file::ncf_list</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00104">nm_config_file::ncf_obj</a>, <a class="el" href="nodemap__storage_8c_source.html#l00621">nodemap_load_entries()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgs__fs_8c_source.html#l00116">mgs_fs_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ac5c97d15e3bc17e91240a900f3e0ec85"></a><!-- doxytag: member="nodemap_storage.c::nodemap_cluster_key_init" ref="ac5c97d15e3bc17e91240a900f3e0ec85" args="(struct nodemap_key *nk, unsigned int nm_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void nodemap_cluster_key_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *&nbsp;</td>
          <td class="paramname"> <em>nk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>nm_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00073">73</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="nodemap__internal_8h_source.html#l00105">nodemap_key::nk_nodemap_id</a>, <a class="el" href="nodemap__internal_8h_source.html#l00109">nodemap_key::nk_unused</a>, <a class="el" href="nodemap__internal_8h_source.html#l00130">nm_idx_set_type()</a>, and <a class="el" href="nodemap__internal_8h_source.html#l00115">NODEMAP_CLUSTER_IDX</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00326">nodemap_idx_nodemap_add_update()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00356">nodemap_idx_nodemap_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a0abc436e29743155438635efdc1ef316"></a><!-- doxytag: member="nodemap_storage.c::nodemap_cluster_rec_init" ref="a0abc436e29743155438635efdc1ef316" args="(union nodemap_rec *nr, const struct lu_nodemap *nodemap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void nodemap_cluster_rec_init </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00080">80</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="lustre__idl_8h_source.html#l04088">nodemap_rec::ncr</a>, <a class="el" href="lustre__idl_8h_source.html#l04054">nodemap_cluster_rec::ncr_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l04053">nodemap_cluster_rec::ncr_name</a>, <a class="el" href="lustre__idl_8h_source.html#l04058">nodemap_cluster_rec::ncr_squash_gid</a>, <a class="el" href="lustre__idl_8h_source.html#l04057">nodemap_cluster_rec::ncr_squash_uid</a>, <a class="el" href="nodemap__storage_8c_source.html#l00069">NM_FL_ALLOW_ROOT_ACCESS</a>, <a class="el" href="nodemap__storage_8c_source.html#l00070">NM_FL_TRUST_CLIENT_IDS</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00064">lu_nodemap::nm_name</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00075">lu_nodemap::nm_squash_gid</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00073">lu_nodemap::nm_squash_uid</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00066">lu_nodemap::nmf_allow_root_access</a>, and <a class="el" href="lustre__nodemap_8h_source.html#l00066">lu_nodemap::nmf_trust_client_ids</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00326">nodemap_idx_nodemap_add_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d05a747ae09d6dc7a8c476fb3d49189"></a><!-- doxytag: member="nodemap_storage.c::nodemap_global_key_init" ref="a4d05a747ae09d6dc7a8c476fb3d49189" args="(struct nodemap_key *nk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void nodemap_global_key_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *&nbsp;</td>
          <td class="paramname"> <em>nk</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00128">128</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="nodemap__internal_8h_source.html#l00105">nodemap_key::nk_nodemap_id</a>, <a class="el" href="nodemap__internal_8h_source.html#l00109">nodemap_key::nk_unused</a>, <a class="el" href="nodemap__internal_8h_source.html#l00130">nm_idx_set_type()</a>, and <a class="el" href="nodemap__internal_8h_source.html#l00119">NODEMAP_GLOBAL_IDX</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00454">nodemap_idx_global_add_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a020bfb90c86903880302c02a0f41cb08"></a><!-- doxytag: member="nodemap_storage.c::nodemap_global_rec_init" ref="a020bfb90c86903880302c02a0f41cb08" args="(union nodemap_rec *nr, bool active)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void nodemap_global_rec_init </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>active</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00134">134</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l04091">nodemap_rec::ngr</a>, and <a class="el" href="lustre__idl_8h_source.html#l04078">nodemap_global_rec::ngr_is_active</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00454">nodemap_idx_global_add_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ac87917aeb13494a9b11a082bf6e50e15"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idmap_key_init" ref="ac87917aeb13494a9b11a082bf6e50e15" args="(struct nodemap_key *nk, unsigned int nm_id, enum nodemap_id_type id_type, u32 id_client)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void nodemap_idmap_key_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *&nbsp;</td>
          <td class="paramname"> <em>nk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>nm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="lustre__nodemap_8h.html#a81845468d8a3390881570642981a38a4">nodemap_id_type</a>&nbsp;</td>
          <td class="paramname"> <em>id_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>id_client</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00093">93</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="nodemap__internal_8h_source.html#l00108">nodemap_key::nk_id_client</a>, <a class="el" href="nodemap__internal_8h_source.html#l00105">nodemap_key::nk_nodemap_id</a>, <a class="el" href="nodemap__internal_8h_source.html#l00130">nm_idx_set_type()</a>, <a class="el" href="nodemap__internal_8h_source.html#l00118">NODEMAP_GIDMAP_IDX</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00042">NODEMAP_UID</a>, and <a class="el" href="nodemap__internal_8h_source.html#l00117">NODEMAP_UIDMAP_IDX</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00428">nodemap_idx_idmap_add()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00442">nodemap_idx_idmap_del()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00356">nodemap_idx_nodemap_del()</a>.</p>

</div>
</div>
<a class="anchor" id="ad0114bcc533a4ff2539a60ac84f4a989"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idmap_rec_init" ref="ad0114bcc533a4ff2539a60ac84f4a989" args="(union nodemap_rec *nr, u32 id_fs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void nodemap_idmap_rec_init </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>id_fs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00108">108</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="lustre__idl_8h_source.html#l04090">nodemap_rec::nir</a>, and <a class="el" href="lustre__idl_8h_source.html#l04070">nodemap_id_rec::nir_id_fs</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00428">nodemap_idx_idmap_add()</a>.</p>

</div>
</div>
<a class="anchor" id="a834a88991cb8c679ab472a59a3497648"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_action" ref="a834a88991cb8c679ab472a59a3497648" args="(nm_idx_cb_t cb_f, struct nodemap_key *nk, union nodemap_rec *nr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_idx_action </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nodemap__storage_8c.html#a82e63dd069c090812ef16ee817e41ca3">nm_idx_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *&nbsp;</td>
          <td class="paramname"> <em>nk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>nr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Iterates through all the registered nodemap_config_files and calls the given callback with the ncf as a parameter, as well as the given key and rec. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cb_f</em>&nbsp;</td><td>callback function to call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nk</em>&nbsp;</td><td>key of the record to act upon </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nr</em>&nbsp;</td><td>record to act upon, NULL for the delete action </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00294">294</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="lu__object_8h_source.html#l01024">LCT_LOCAL</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8c_source.html#l01881">lu_env_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00104">nm_config_file::ncf_obj</a>, and <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00454">nodemap_idx_global_add_update()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00428">nodemap_idx_idmap_add()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00442">nodemap_idx_idmap_del()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00326">nodemap_idx_nodemap_add_update()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00356">nodemap_idx_nodemap_del()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00405">nodemap_idx_range_add()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00418">nodemap_idx_range_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a1bc843edd17234dec712c8f15a952a98"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_delete" ref="a1bc843edd17234dec712c8f15a952a98" args="(struct lu_env *env, struct dt_object *idx, const struct nodemap_key *nk, const union nodemap_rec *unused)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_idx_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *&nbsp;</td>
          <td class="paramname"> <em>nk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>unused</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00242">242</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02615">dt_declare_delete()</a>, <a class="el" href="dt__object_8c_source.html#l00521">dt_declare_version_set()</a>, <a class="el" href="dt__object_8h_source.html#l02630">dt_delete()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="dt__object_8h_source.html#l01743">lu2dt_dev()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00140">nodemap_inc_version()</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00442">nodemap_idx_idmap_del()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00356">nodemap_idx_nodemap_del()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00418">nodemap_idx_range_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a70528348a79f7ad392ebcf022bdefd"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_global_add_update" ref="a7a70528348a79f7ad392ebcf022bdefd" args="(bool value, enum nm_add_update update)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_idx_global_add_update </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="nodemap__storage_8c.html#aa5dff70b95fff89165fb2760fc61a94a">nm_add_update</a>&nbsp;</td>
          <td class="paramname"> <em>update</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00454">454</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="nodemap__storage_8c_source.html#l00323">NM_UPDATE</a>, <a class="el" href="nodemap__storage_8c_source.html#l00128">nodemap_global_key_init()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00134">nodemap_global_rec_init()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00294">nodemap_idx_action()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00148">nodemap_idx_insert()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00191">nodemap_idx_update()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00469">nodemap_idx_nodemap_activate()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00621">nodemap_load_entries()</a>.</p>

</div>
</div>
<a class="anchor" id="a3fdbd0812c0cb5c4efd4fb443c2ab721"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_idmap_add" ref="a3fdbd0812c0cb5c4efd4fb443c2ab721" args="(const struct lu_nodemap *nodemap, enum nodemap_id_type id_type, const u32 map[2])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodemap_idx_idmap_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="lustre__nodemap_8h.html#a81845468d8a3390881570642981a38a4">nodemap_id_type</a>&nbsp;</td>
          <td class="paramname"> <em>id_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u32&nbsp;</td>
          <td class="paramname"> <em>map</em>[2]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00428">428</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00069">lu_nodemap::nm_id</a>, <a class="el" href="nodemap__storage_8c_source.html#l00093">nodemap_idmap_key_init()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00108">nodemap_idmap_rec_init()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00294">nodemap_idx_action()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00148">nodemap_idx_insert()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a8cd2b6f30ae3c10124fd1f60e1f5d35c"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_idmap_del" ref="a8cd2b6f30ae3c10124fd1f60e1f5d35c" args="(const struct lu_nodemap *nodemap, enum nodemap_id_type id_type, const u32 map[2])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodemap_idx_idmap_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="lustre__nodemap_8h.html#a81845468d8a3390881570642981a38a4">nodemap_id_type</a>&nbsp;</td>
          <td class="paramname"> <em>id_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u32&nbsp;</td>
          <td class="paramname"> <em>map</em>[2]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00442">442</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00069">lu_nodemap::nm_id</a>, <a class="el" href="nodemap__storage_8c_source.html#l00093">nodemap_idmap_key_init()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00294">nodemap_idx_action()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00242">nodemap_idx_delete()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ae7f6e41d14794a66fd72afc92bc01a2e"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_insert" ref="ae7f6e41d14794a66fd72afc92bc01a2e" args="(struct lu_env *env, struct dt_object *idx, const struct nodemap_key *nk, const union nodemap_rec *nr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_idx_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *&nbsp;</td>
          <td class="paramname"> <em>nk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>nr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00148">148</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02481">dt_declare_insert()</a>, <a class="el" href="dt__object_8c_source.html#l00521">dt_declare_version_set()</a>, <a class="el" href="dt__object_8h_source.html#l02497">dt_insert()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="dt__object_8h_source.html#l01743">lu2dt_dev()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00140">nodemap_inc_version()</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00454">nodemap_idx_global_add_update()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00428">nodemap_idx_idmap_add()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00326">nodemap_idx_nodemap_add_update()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00405">nodemap_idx_range_add()</a>.</p>

</div>
</div>
<a class="anchor" id="af2121a19e43887ca2e6f823158760489"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_nodemap_activate" ref="af2121a19e43887ca2e6f823158760489" args="(bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodemap_idx_nodemap_activate </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00469">469</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="nodemap__storage_8c_source.html#l00323">NM_UPDATE</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00454">nodemap_idx_global_add_update()</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l01088">nodemap_activate()</a>.</p>

</div>
</div>
<a class="anchor" id="ab7bcdecf161472e06819e0dc63df7386"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_nodemap_add" ref="ab7bcdecf161472e06819e0dc63df7386" args="(const struct lu_nodemap *nodemap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodemap_idx_nodemap_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00346">346</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="nodemap__storage_8c_source.html#l00322">NM_ADD</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00326">nodemap_idx_nodemap_add_update()</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l01002">nodemap_add()</a>.</p>

</div>
</div>
<a class="anchor" id="a6dba03fa5fe2864ed591d0a2058a4064"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_nodemap_add_update" ref="a6dba03fa5fe2864ed591d0a2058a4064" args="(const struct lu_nodemap *nodemap, enum nm_add_update update)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_idx_nodemap_add_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="nodemap__storage_8c.html#aa5dff70b95fff89165fb2760fc61a94a">nm_add_update</a>&nbsp;</td>
          <td class="paramname"> <em>update</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00326">326</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00069">lu_nodemap::nm_id</a>, <a class="el" href="nodemap__storage_8c_source.html#l00323">NM_UPDATE</a>, <a class="el" href="nodemap__storage_8c_source.html#l00073">nodemap_cluster_key_init()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00080">nodemap_cluster_rec_init()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00294">nodemap_idx_action()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00148">nodemap_idx_insert()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00191">nodemap_idx_update()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00346">nodemap_idx_nodemap_add()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00351">nodemap_idx_nodemap_update()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00621">nodemap_load_entries()</a>.</p>

</div>
</div>
<a class="anchor" id="add21df1a07d159ffe4f1be2a7d60c932"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_nodemap_del" ref="add21df1a07d159ffe4f1be2a7d60c932" args="(const struct lu_nodemap *nodemap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodemap_idx_nodemap_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00356">356</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="nodemap__internal_8h_source.html#l00066">lu_idmap::id_client</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00087">lu_nodemap::nm_client_to_fs_gidmap</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00081">lu_nodemap::nm_fs_to_client_uidmap</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00069">lu_nodemap::nm_id</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00077">lu_nodemap::nm_ranges</a>, <a class="el" href="nodemap__internal_8h_source.html#l00198">nm_rbtree_postorder_for_each_entry_safe</a>, <a class="el" href="nodemap__storage_8c_source.html#l00073">nodemap_cluster_key_init()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00043">NODEMAP_GID</a>, <a class="el" href="nodemap__storage_8c_source.html#l00093">nodemap_idmap_key_init()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00294">nodemap_idx_action()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00242">nodemap_idx_delete()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00113">nodemap_range_key_init()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00042">NODEMAP_UID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="nodemap__internal_8h_source.html#l00055">lu_nid_range::rn_id</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l01033">nodemap_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b43af222fd7a1ce13acb5e60ed9c24b"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_nodemap_update" ref="a5b43af222fd7a1ce13acb5e60ed9c24b" args="(const struct lu_nodemap *nodemap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodemap_idx_nodemap_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00351">351</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="nodemap__storage_8c_source.html#l00323">NM_UPDATE</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00326">nodemap_idx_nodemap_add_update()</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l00864">nodemap_set_allow_root()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00960">nodemap_set_squash_gid()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00927">nodemap_set_squash_uid()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00894">nodemap_set_trust_client_ids()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b3e91720bf263274f7b910e3b656a65"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_range_add" ref="a7b3e91720bf263274f7b910e3b656a65" args="(const struct lu_nid_range *range, const lnet_nid_t nid[2])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodemap_idx_range_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__nid__range.html">lu_nid_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>[2]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00405">405</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00069">lu_nodemap::nm_id</a>, <a class="el" href="nodemap__storage_8c_source.html#l00294">nodemap_idx_action()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00148">nodemap_idx_insert()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00113">nodemap_range_key_init()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00121">nodemap_range_rec_init()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="nodemap__internal_8h_source.html#l00055">lu_nid_range::rn_id</a>, and <a class="el" href="nodemap__internal_8h_source.html#l00057">lu_nid_range::rn_nodemap</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l00644">nodemap_add_range_helper()</a>.</p>

</div>
</div>
<a class="anchor" id="a02355c276c20ec45f3964fed80765a11"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_range_del" ref="a02355c276c20ec45f3964fed80765a11" args="(const struct lu_nid_range *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodemap_idx_range_del </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__nid__range.html">lu_nid_range</a> *&nbsp;</td>
          <td class="paramname"> <em>range</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00418">418</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00069">lu_nodemap::nm_id</a>, <a class="el" href="nodemap__storage_8c_source.html#l00294">nodemap_idx_action()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00242">nodemap_idx_delete()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00113">nodemap_range_key_init()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="nodemap__internal_8h_source.html#l00055">lu_nid_range::rn_id</a>, and <a class="el" href="nodemap__internal_8h_source.html#l00057">lu_nid_range::rn_nodemap</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l01033">nodemap_del()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00716">nodemap_del_range()</a>.</p>

</div>
</div>
<a class="anchor" id="ab3c84e1b2528e7a502278409bfe013a3"></a><!-- doxytag: member="nodemap_storage.c::nodemap_idx_update" ref="ab3c84e1b2528e7a502278409bfe013a3" args="(struct lu_env *env, struct dt_object *idx, const struct nodemap_key *nk, const union nodemap_rec *nr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_idx_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *&nbsp;</td>
          <td class="paramname"> <em>nk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>nr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00191">191</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02615">dt_declare_delete()</a>, <a class="el" href="dt__object_8h_source.html#l02481">dt_declare_insert()</a>, <a class="el" href="dt__object_8c_source.html#l00521">dt_declare_version_set()</a>, <a class="el" href="dt__object_8h_source.html#l02630">dt_delete()</a>, <a class="el" href="dt__object_8h_source.html#l02497">dt_insert()</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="dt__object_8h_source.html#l02047">dt_trans_create()</a>, <a class="el" href="dt__object_8h_source.html#l02062">dt_trans_start_local()</a>, <a class="el" href="dt__object_8h_source.html#l02070">dt_trans_stop()</a>, <a class="el" href="dt__object_8h_source.html#l02175">dt_write_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02194">dt_write_unlock()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="dt__object_8h_source.html#l01743">lu2dt_dev()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00140">nodemap_inc_version()</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00454">nodemap_idx_global_add_update()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00326">nodemap_idx_nodemap_add_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a56f06b4e44732515f089fcf094e89b55"></a><!-- doxytag: member="nodemap_storage.c::nodemap_inc_version" ref="a56f06b4e44732515f089fcf094e89b55" args="(const struct lu_env *env, struct dt_object *nodemap_idx, struct thandle *th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void nodemap_inc_version </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthandle.html">thandle</a> *&nbsp;</td>
          <td class="paramname"> <em>th</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00140">140</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00553">dt_version_get()</a>, and <a class="el" href="dt__object_8c_source.html#l00535">dt_version_set()</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00242">nodemap_idx_delete()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00148">nodemap_idx_insert()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00191">nodemap_idx_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c48aa2ae1d23edddebe2e3b354e8b0b"></a><!-- doxytag: member="nodemap_storage.c::nodemap_load_entries" ref="a1c48aa2ae1d23edddebe2e3b354e8b0b" args="(const struct lu_env *env, struct dt_object *nodemap_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_load_entries </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdt__object.html">dt_object</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap_idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00621">621</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="nodemap__handler_8c_source.html#l00042">DEFAULT_NODEMAP</a>, <a class="el" href="structdt__index__operations.html#a16b19879e71b5cb1aaa459d731d580cb">dt_index_operations::dio_it</a>, <a class="el" href="dt__object_8h_source.html#l01753">dt_object::do_index_ops</a>, <a class="el" href="dt__object_8h_source.html#l01750">dt_object::do_lu</a>, <a class="el" href="dt__object_8h_source.html#l02165">dt_read_lock()</a>, <a class="el" href="dt__object_8h_source.html#l02185">dt_read_unlock()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="nodemap__storage_8c_source.html#l00322">NM_ADD</a>, <a class="el" href="nodemap__internal_8h_source.html#l00088">nodemap_config::nmc_default_nodemap</a>, <a class="el" href="nodemap__handler_8c_source.html#l01153">nodemap_config_alloc()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01173">nodemap_config_dealloc()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01190">nodemap_config_set_active()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00772">nodemap_create()</a>, <a class="el" href="nodemap__internal_8h_source.html#l00119">NODEMAP_GLOBAL_IDX</a>, <a class="el" href="nodemap__storage_8c_source.html#l00454">nodemap_idx_global_add_update()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00326">nodemap_idx_nodemap_add_update()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00487">nodemap_process_keyrec()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00740">nm_config_file_register()</a>.</p>

</div>
</div>
<a class="anchor" id="a953f8e4b9a102d16157a65ed1bacc717"></a><!-- doxytag: member="nodemap_storage.c::nodemap_process_keyrec" ref="a953f8e4b9a102d16157a65ed1bacc717" args="(struct nodemap_config *config, const struct nodemap_key *key, const union nodemap_rec *rec, struct lu_nodemap **recent_nodemap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_process_keyrec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnodemap__config.html">nodemap_config</a> *&nbsp;</td>
          <td class="paramname"> <em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> **&nbsp;</td>
          <td class="paramname"> <em>recent_nodemap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process a key/rec pair and modify the new configuration. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>config</em>&nbsp;</td><td>configuration to update with this key/rec data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key of the record that was loaded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rec</em>&nbsp;</td><td>record that was loaded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recent_nodemap</em>&nbsp;</td><td>last referenced nodemap </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>of record processed, see enum <a class="el" href="nodemap__internal_8h.html#a0758e11d6f303e32b162281008230809">nodemap_idx_type</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOENT</em>&nbsp;</td><td>range or map loaded before nodemap record </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-EINVAL</em>&nbsp;</td><td>duplicate nodemap cluster records found with different IDs, or nodemap has invalid name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-ENOMEM</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00487">487</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00058">le64_to_cpu</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00034">LUSTRE_NODEMAP_DEFAULT_ID</a>, <a class="el" href="lustre__idl_8h_source.html#l04088">nodemap_rec::ncr</a>, <a class="el" href="lustre__idl_8h_source.html#l04054">nodemap_cluster_rec::ncr_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l04053">nodemap_cluster_rec::ncr_name</a>, <a class="el" href="lustre__idl_8h_source.html#l04058">nodemap_cluster_rec::ncr_squash_gid</a>, <a class="el" href="lustre__idl_8h_source.html#l04057">nodemap_cluster_rec::ncr_squash_uid</a>, <a class="el" href="lustre__idl_8h_source.html#l04091">nodemap_rec::ngr</a>, <a class="el" href="lustre__idl_8h_source.html#l04078">nodemap_global_rec::ngr_is_active</a>, <a class="el" href="lustre__idl_8h_source.html#l04090">nodemap_rec::nir</a>, <a class="el" href="lustre__idl_8h_source.html#l04070">nodemap_id_rec::nir_id_fs</a>, <a class="el" href="nodemap__internal_8h_source.html#l00108">nodemap_key::nk_id_client</a>, <a class="el" href="nodemap__internal_8h_source.html#l00105">nodemap_key::nk_nodemap_id</a>, <a class="el" href="nodemap__internal_8h_source.html#l00107">nodemap_key::nk_range_id</a>, <a class="el" href="nodemap__storage_8c_source.html#l00069">NM_FL_ALLOW_ROOT_ACCESS</a>, <a class="el" href="nodemap__storage_8c_source.html#l00070">NM_FL_TRUST_CLIENT_IDS</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00069">lu_nodemap::nm_id</a>, <a class="el" href="nodemap__internal_8h_source.html#l00125">nm_idx_get_type()</a>, <a class="el" href="nodemap__internal_8h_source.html#l00130">nm_idx_set_type()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00096">lu_nodemap::nm_list</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00075">lu_nodemap::nm_squash_gid</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00073">lu_nodemap::nm_squash_uid</a>, <a class="el" href="nodemap__internal_8h_source.html#l00088">nodemap_config::nmc_default_nodemap</a>, <a class="el" href="nodemap__internal_8h_source.html#l00100">nodemap_config::nmc_nodemap_hash</a>, <a class="el" href="nodemap__internal_8h_source.html#l00082">nodemap_config::nmc_nodemap_highest_id</a>, <a class="el" href="nodemap__internal_8h_source.html#l00085">nodemap_config::nmc_nodemap_is_active</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00066">lu_nodemap::nmf_allow_root_access</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00066">lu_nodemap::nmf_trust_client_ids</a>, <a class="el" href="nodemap__handler_8c_source.html#l00396">nodemap_add_idmap_helper()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00644">nodemap_add_range_helper()</a>, <a class="el" href="nodemap__internal_8h_source.html#l00115">NODEMAP_CLUSTER_IDX</a>, <a class="el" href="nodemap__handler_8c_source.html#l00772">nodemap_create()</a>, <a class="el" href="nodemap__internal_8h_source.html#l00114">NODEMAP_EMPTY_IDX</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00043">NODEMAP_GID</a>, <a class="el" href="nodemap__internal_8h_source.html#l00118">NODEMAP_GIDMAP_IDX</a>, <a class="el" href="nodemap__internal_8h_source.html#l00119">NODEMAP_GLOBAL_IDX</a>, <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>, <a class="el" href="nodemap__internal_8h_source.html#l00116">NODEMAP_RANGE_IDX</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00042">NODEMAP_UID</a>, <a class="el" href="nodemap__internal_8h_source.html#l00117">NODEMAP_UIDMAP_IDX</a>, <a class="el" href="lustre__idl_8h_source.html#l04089">nodemap_rec::nrr</a>, <a class="el" href="lustre__idl_8h_source.html#l04064">nodemap_range_rec::nrr_end_nid</a>, and <a class="el" href="lustre__idl_8h_source.html#l04063">nodemap_range_rec::nrr_start_nid</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00621">nodemap_load_entries()</a>.</p>

</div>
</div>
<a class="anchor" id="aac83bef7016a2837038a4c6f0f61713c"></a><!-- doxytag: member="nodemap_storage.c::nodemap_range_key_init" ref="aac83bef7016a2837038a4c6f0f61713c" args="(struct nodemap_key *nk, unsigned int nm_id, unsigned int rn_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void nodemap_range_key_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnodemap__key.html">nodemap_key</a> *&nbsp;</td>
          <td class="paramname"> <em>nk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>nm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>rn_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00113">113</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="nodemap__internal_8h_source.html#l00105">nodemap_key::nk_nodemap_id</a>, <a class="el" href="nodemap__internal_8h_source.html#l00107">nodemap_key::nk_range_id</a>, <a class="el" href="nodemap__internal_8h_source.html#l00130">nm_idx_set_type()</a>, and <a class="el" href="nodemap__internal_8h_source.html#l00116">NODEMAP_RANGE_IDX</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00356">nodemap_idx_nodemap_del()</a>, <a class="el" href="nodemap__storage_8c_source.html#l00405">nodemap_idx_range_add()</a>, and <a class="el" href="nodemap__storage_8c_source.html#l00418">nodemap_idx_range_del()</a>.</p>

</div>
</div>
<a class="anchor" id="ae51ceb7f706d9ff36eb01779b64420e6"></a><!-- doxytag: member="nodemap_storage.c::nodemap_range_rec_init" ref="ae51ceb7f706d9ff36eb01779b64420e6" args="(union nodemap_rec *nr, const lnet_nid_t nid[2])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void nodemap_range_rec_init </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unionnodemap__rec.html">nodemap_rec</a> *&nbsp;</td>
          <td class="paramname"> <em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nid</em>[2]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__storage_8c_source.html#l00121">121</a> of file <a class="el" href="nodemap__storage_8c_source.html">nodemap_storage.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00059">cpu_to_le64</a>, <a class="el" href="lustre__idl_8h_source.html#l04089">nodemap_rec::nrr</a>, <a class="el" href="lustre__idl_8h_source.html#l04064">nodemap_range_rec::nrr_end_nid</a>, and <a class="el" href="lustre__idl_8h_source.html#l04063">nodemap_range_rec::nrr_start_nid</a>.</p>

<p>Referenced by <a class="el" href="nodemap__storage_8c_source.html#l00405">nodemap_idx_range_add()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
