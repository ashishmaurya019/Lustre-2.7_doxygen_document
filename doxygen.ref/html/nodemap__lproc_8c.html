<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/ptlrpc/nodemap_lproc.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/ptlrpc/nodemap_lproc.c File Reference</h1><code>#include &lt;<a class="el" href="lprocfs__status_8h_source.html">lprocfs_status.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__export_8h_source.html">lustre_export.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="interval__tree_8h_source.html">interval_tree.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="nodemap__internal_8h_source.html">nodemap_internal.h</a>&quot;</code><br/>

<p><a href="nodemap__lproc_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#ab0cc0a515aeca8a1732a8812b63a03e7">NODEMAP_LPROC_ID_LEN</a>&nbsp;&nbsp;&nbsp;16</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a783d89e4b89c60ea54ec191da6a4bb8c">NODEMAP_LPROC_FLAG_LEN</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a945030a932747e5799b6df5510a29ce3">NODEMAP_PROC_DEBUG</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a16b50f3e067967583e9d2bc2eeb7ff68">LIST_HEAD</a> (nodemap_pde_list)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a12ddc5d61ae8e5c1c2f0f1820877c76e">nodemap_idmap_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and prints the idmap for the given nodemap.  <a href="#a12ddc5d61ae8e5c1c2f0f1820877c76e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#ae40f0cdfcf4415d5a5cd21f1d7ea0de1">nodemap_idmap_open</a> (struct inode *inode, struct file *file)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attaches nodemap_idmap_show to proc file.  <a href="#ae40f0cdfcf4415d5a5cd21f1d7ea0de1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a40230f8f20ecfef0736e3f609e1305f6">nodemap_ranges_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and prints the NID ranges for the given nodemap.  <a href="#a40230f8f20ecfef0736e3f609e1305f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#ac002ebedbe1b5a50e5e771dda574180f">nodemap_ranges_open</a> (struct inode *inode, struct file *file)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connects nodemap_idmap_show to proc file.  <a href="#ac002ebedbe1b5a50e5e771dda574180f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a6a560b2bf6a1690e0eaa8b955f07c639">nodemap_exports_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and prints the exports attached to the given nodemap.  <a href="#a6a560b2bf6a1690e0eaa8b955f07c639"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a6946134f6a2c3d1fec9f288d141d6077">nodemap_exports_open</a> (struct inode *inode, struct file *file)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attaches nodemap_idmap_show to proc file.  <a href="#a6946134f6a2c3d1fec9f288d141d6077"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a13372cf91469d33f392574cf0c47dc5e">nodemap_active_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and prints the active flag for the given nodemap.  <a href="#a13372cf91469d33f392574cf0c47dc5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a54df9ff72eab12ed947fb6bca9135a38">nodemap_active_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate/deactivate nodemap.  <a href="#a54df9ff72eab12ed947fb6bca9135a38"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a3705e50854d4368065f721ecc32a6b65">LPROC_SEQ_FOPS</a> (<a class="el" href="nodemap__internal_8h.html#a300128a8ec1b35307f6ddd737b09e227">nodemap_active</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a3c4fe8fa8843a560b5468d59e57f9f97">nodemap_id_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and prints the nodemap ID for the given nodemap.  <a href="#a3c4fe8fa8843a560b5468d59e57f9f97"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a1771a60abba520059af99585b61a8570">LPROC_SEQ_FOPS_RO</a> (nodemap_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#ac896d0d5493da13b9da2bea804f953a9">nodemap_squash_uid_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and prints the root squash UID for the given nodemap.  <a href="#ac896d0d5493da13b9da2bea804f953a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a817f5774e908532ffb94bb9ae4a015fe">nodemap_squash_gid_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and prints the root squash GID for the given nodemap.  <a href="#a817f5774e908532ffb94bb9ae4a015fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a80af0b67bd40945b5ff06ee8500f58a8">nodemap_trusted_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and prints the trusted flag for the given nodemap.  <a href="#a80af0b67bd40945b5ff06ee8500f58a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#ae42f2c89845c5cf6ad016d5478d8118e">nodemap_admin_seq_show</a> (struct seq_file *m, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and prints the admin flag for the given nodemap.  <a href="#ae42f2c89845c5cf6ad016d5478d8118e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#aebcde46924b60902b3da88492f48acbf">nodemap_proc_read_flag</a> (const char __user *buffer, unsigned long count, unsigned int *flag_p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper functions to set nodemap flags.  <a href="#aebcde46924b60902b3da88492f48acbf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#ad4591fc2b75e6edb4d893cfa53f01650">nodemap_squash_uid_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the squash UID.  <a href="#ad4591fc2b75e6edb4d893cfa53f01650"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#af25c7bce9c186588712ec0b28b6a7133">nodemap_squash_gid_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the squash GID.  <a href="#af25c7bce9c186588712ec0b28b6a7133"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a569c75d0d438df0223c1fa31dde8460d">nodemap_trusted_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set/unset the trusted flag.  <a href="#a569c75d0d438df0223c1fa31dde8460d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a04f6312f345fed45a7544dfafa454533">nodemap_admin_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set/unset the admin flag.  <a href="#a04f6312f345fed45a7544dfafa454533"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a6d82994fbcba4bf8ebc3c0c1f03d2e01">lprocfs_add_nodemap_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a nodemap.  <a href="#a6d82994fbcba4bf8ebc3c0c1f03d2e01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#ad8710b9d864364ab90eaaa84d9224a16">LPROC_SEQ_FOPS_WO_TYPE</a> (nodemap, add_nodemap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#af73145b5d6c101f74f4922138d71cf74">lprocfs_del_nodemap_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a nodemap.  <a href="#af73145b5d6c101f74f4922138d71cf74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a1b4414b2c45744bc6d71528b71150bc2">LPROC_SEQ_FOPS_WO_TYPE</a> (nodemap, del_nodemap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a5a82f5631faf70ebc28a7b4a0ee1dbd5">parse_nids</a> (char *rangestr, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> nids[2])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to parse a NID string.  <a href="#a5a82f5631faf70ebc28a7b4a0ee1dbd5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#ab770869400ff4718edc9d09ce911d3a3">lprocfs_add_nodemap_range_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a NID range to nodemap.  <a href="#ab770869400ff4718edc9d09ce911d3a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a58902f5e3565c0d06420bdf15d131aa1">LPROC_SEQ_FOPS_WO_TYPE</a> (nodemap, add_nodemap_range)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a81c2f58e3b31ba80bb67dd1c62ae0502">lprocfs_del_nodemap_range_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a NID range from nodemap.  <a href="#a81c2f58e3b31ba80bb67dd1c62ae0502"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a1051eab00941fc24259f13d9b34b9287">LPROC_SEQ_FOPS_WO_TYPE</a> (nodemap, del_nodemap_range)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a98678413182ed44fa9966bafc743600f">lprocfs_add_nodemap_idmap_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an idmap to nodemap.  <a href="#a98678413182ed44fa9966bafc743600f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a28bbe8ebdc5ecb5ac900b23b25843638">LPROC_SEQ_FOPS_WO_TYPE</a> (nodemap, add_nodemap_idmap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a300b12dd4e484c46d7932d9784e99481">lprocfs_del_nodemap_idmap_seq_write</a> (struct file *file, const char __user *buffer, size_t count, loff_t *off)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete an idmap from nodemap.  <a href="#a300b12dd4e484c46d7932d9784e99481"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a5cc1a5965eb7a8c85b344c4d1b73f36d">LPROC_SEQ_FOPS_WO_TYPE</a> (nodemap, del_nodemap_idmap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a5d5e198561dec42c769f9b1a2d9c52ee">LPROC_SEQ_FOPS</a> (nodemap_trusted)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a7e683f10841eb0bb0e1a629f4f32fce6">LPROC_SEQ_FOPS</a> (nodemap_admin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a98c3e9d348ce6a85b3aa8a7fd4f90484">LPROC_SEQ_FOPS</a> (nodemap_squash_uid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a0029afe7271142586cec48a937837606">LPROC_SEQ_FOPS</a> (nodemap_squash_gid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a80907730335b603bf97f730562e843ec">nodemap_procfs_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the nodemap procfs directory.  <a href="#a80907730335b603bf97f730562e843ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#ad2edd678f596847b8f6c69c7ee21e532">nodemap_procfs_exit</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cleanup nodemap proc entry data structures.  <a href="#ad2edd678f596847b8f6c69c7ee21e532"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a7abba5efce09d19a0edbeca0c86da4b3">lprocfs_nodemap_remove</a> (struct <a class="el" href="structnodemap__pde.html">nodemap_pde</a> *nm_pde)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a nodemap's procfs entry and related data.  <a href="#a7abba5efce09d19a0edbeca0c86da4b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#acc4d2533619d512299b77526f5440814">lprocfs_nodemap_register</a> (struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *nodemap, bool is_default)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register the proc directory for a nodemap.  <a href="#acc4d2533619d512299b77526f5440814"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a2191e1f10683f7eb059dcfb6b0ac301c">lprocfs_nm_module_vars</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct file_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a49de591605ef8d6c653f9c1dae0e770f">nodemap_ranges_fops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct file_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a6036ef9640ca38c87ba28ea33567a116">nodemap_idmap_fops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct file_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a7e5d0867b5b91aa97234c5912f1467c7">nodemap_exports_fops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#a1f4836f03550062196ba724ffda66d54">lprocfs_nodemap_vars</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nodemap__lproc_8c.html#aeed3a0816e3ab2d81eccdabf34f2de12">lprocfs_default_nodemap_vars</a> []</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a783d89e4b89c60ea54ec191da6a4bb8c"></a><!-- doxytag: member="nodemap_lproc.c::NODEMAP_LPROC_FLAG_LEN" ref="a783d89e4b89c60ea54ec191da6a4bb8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NODEMAP_LPROC_FLAG_LEN&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00031">31</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>Referenced by <a class="el" href="nodemap__lproc_8c_source.html#l00257">nodemap_active_seq_write()</a>, and <a class="el" href="nodemap__lproc_8c_source.html#l00427">nodemap_proc_read_flag()</a>.</p>

</div>
</div>
<a class="anchor" id="ab0cc0a515aeca8a1732a8812b63a03e7"></a><!-- doxytag: member="nodemap_lproc.c::NODEMAP_LPROC_ID_LEN" ref="ab0cc0a515aeca8a1732a8812b63a03e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NODEMAP_LPROC_ID_LEN&nbsp;&nbsp;&nbsp;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00030">30</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>Referenced by <a class="el" href="nodemap__lproc_8c_source.html#l00504">nodemap_squash_gid_seq_write()</a>, and <a class="el" href="nodemap__lproc_8c_source.html#l00464">nodemap_squash_uid_seq_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a945030a932747e5799b6df5510a29ce3"></a><!-- doxytag: member="nodemap_lproc.c::NODEMAP_PROC_DEBUG" ref="a945030a932747e5799b6df5510a29ce3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NODEMAP_PROC_DEBUG&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00044">44</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a16b50f3e067967583e9d2bc2eeb7ff68"></a><!-- doxytag: member="nodemap_lproc.c::LIST_HEAD" ref="a16b50f3e067967583e9d2bc2eeb7ff68" args="(nodemap_pde_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">nodemap_pde_list&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="gnilnd_8c_source.html#l00713">kgnilnd_complete_closed_conn()</a>, <a class="el" href="gnilnd_8c_source.html#l01507">kgnilnd_del_conn_or_peer()</a>, <a class="el" href="gnilnd_8c_source.html#l01710">kgnilnd_report_node_state()</a>, <a class="el" href="gnilnd__stack_8c_source.html#l00172">kgnilnd_reset_stack()</a>, <a class="el" href="lu__object_8c_source.html#l02003">lu_cache_shrink_scan()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01286">nm_member_revoke_all()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01126">nodemap_config_cleanup()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01190">nodemap_config_set_active()</a>, <a class="el" href="osp__trans_8c_source.html#l01354">osp_invalidate_request()</a>, and <a class="el" href="tgt__main_8c_source.html#l00111">tgt_cancel_slc_locks()</a>.</p>

</div>
</div>
<a class="anchor" id="a0029afe7271142586cec48a937837606"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS" ref="a0029afe7271142586cec48a937837606" args="(nodemap_squash_gid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS </td>
          <td>(</td>
          <td class="paramtype">nodemap_squash_gid&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a98c3e9d348ce6a85b3aa8a7fd4f90484"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS" ref="a98c3e9d348ce6a85b3aa8a7fd4f90484" args="(nodemap_squash_uid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS </td>
          <td>(</td>
          <td class="paramtype">nodemap_squash_uid&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7e683f10841eb0bb0e1a629f4f32fce6"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS" ref="a7e683f10841eb0bb0e1a629f4f32fce6" args="(nodemap_admin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS </td>
          <td>(</td>
          <td class="paramtype">nodemap_admin&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5d5e198561dec42c769f9b1a2d9c52ee"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS" ref="a5d5e198561dec42c769f9b1a2d9c52ee" args="(nodemap_trusted)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS </td>
          <td>(</td>
          <td class="paramtype">nodemap_trusted&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3705e50854d4368065f721ecc32a6b65"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS" ref="a3705e50854d4368065f721ecc32a6b65" args="(nodemap_active)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nodemap__internal_8h.html#a300128a8ec1b35307f6ddd737b09e227">nodemap_active</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1771a60abba520059af99585b61a8570"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS_RO" ref="a1771a60abba520059af99585b61a8570" args="(nodemap_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_RO </td>
          <td>(</td>
          <td class="paramtype">nodemap_id&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5cc1a5965eb7a8c85b344c4d1b73f36d"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS_WO_TYPE" ref="a5cc1a5965eb7a8c85b344c4d1b73f36d" args="(nodemap, del_nodemap_idmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_WO_TYPE </td>
          <td>(</td>
          <td class="paramtype">nodemap&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">del_nodemap_idmap&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a28bbe8ebdc5ecb5ac900b23b25843638"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS_WO_TYPE" ref="a28bbe8ebdc5ecb5ac900b23b25843638" args="(nodemap, add_nodemap_idmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_WO_TYPE </td>
          <td>(</td>
          <td class="paramtype">nodemap&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">add_nodemap_idmap&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1051eab00941fc24259f13d9b34b9287"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS_WO_TYPE" ref="a1051eab00941fc24259f13d9b34b9287" args="(nodemap, del_nodemap_range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_WO_TYPE </td>
          <td>(</td>
          <td class="paramtype">nodemap&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">del_nodemap_range&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a58902f5e3565c0d06420bdf15d131aa1"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS_WO_TYPE" ref="a58902f5e3565c0d06420bdf15d131aa1" args="(nodemap, add_nodemap_range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_WO_TYPE </td>
          <td>(</td>
          <td class="paramtype">nodemap&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">add_nodemap_range&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1b4414b2c45744bc6d71528b71150bc2"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS_WO_TYPE" ref="a1b4414b2c45744bc6d71528b71150bc2" args="(nodemap, del_nodemap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_WO_TYPE </td>
          <td>(</td>
          <td class="paramtype">nodemap&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">del_nodemap&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad8710b9d864364ab90eaaa84d9224a16"></a><!-- doxytag: member="nodemap_lproc.c::LPROC_SEQ_FOPS_WO_TYPE" ref="ad8710b9d864364ab90eaaa84d9224a16" args="(nodemap, add_nodemap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPROC_SEQ_FOPS_WO_TYPE </td>
          <td>(</td>
          <td class="paramtype">nodemap&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">add_nodemap&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a98678413182ed44fa9966bafc743600f"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_add_nodemap_idmap_seq_write" ref="a98678413182ed44fa9966bafc743600f" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lprocfs_add_nodemap_idmap_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add an idmap to nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, "&lt;nodemap name&gt; &lt;uid|gid&gt; &lt;idmap&gt;" </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00845">845</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l04051">LUSTRE_NODEMAP_NAME_LENGTH</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="nodemap__handler_8c_source.html#l00416">nodemap_add_idmap()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00043">NODEMAP_GID</a>, <a class="el" href="nodemap__handler_8c_source.html#l00313">nodemap_parse_idmap()</a>, and <a class="el" href="lustre__nodemap_8h_source.html#l00042">NODEMAP_UID</a>.</p>

</div>
</div>
<a class="anchor" id="ab770869400ff4718edc9d09ce911d3a3"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_add_nodemap_range_seq_write" ref="ab770869400ff4718edc9d09ce911d3a3" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lprocfs_add_nodemap_range_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a NID range to nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, "&lt;nodemap name&gt; &lt;nid range&gt;" </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00727">727</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l04051">LUSTRE_NODEMAP_NAME_LENGTH</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="nodemap__handler_8c_source.html#l00684">nodemap_add_range()</a>, and <a class="el" href="nodemap__lproc_8c_source.html#l00686">parse_nids()</a>.</p>

</div>
</div>
<a class="anchor" id="a6d82994fbcba4bf8ebc3c0c1f03d2e01"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_add_nodemap_seq_write" ref="a6d82994fbcba4bf8ebc3c0c1f03d2e01" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lprocfs_add_nodemap_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, name of the nodemap to add </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00602">602</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l04051">LUSTRE_NODEMAP_NAME_LENGTH</a>, and <a class="el" href="nodemap__handler_8c_source.html#l01002">nodemap_add()</a>.</p>

</div>
</div>
<a class="anchor" id="a300b12dd4e484c46d7932d9784e99481"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_del_nodemap_idmap_seq_write" ref="a300b12dd4e484c46d7932d9784e99481" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lprocfs_del_nodemap_idmap_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete an idmap from nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, "&lt;nodemap name&gt; &lt;uid|gid&gt; &lt;idmap&gt;" </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00914">914</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l04051">LUSTRE_NODEMAP_NAME_LENGTH</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="nodemap__handler_8c_source.html#l00455">nodemap_del_idmap()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00043">NODEMAP_GID</a>, <a class="el" href="nodemap__handler_8c_source.html#l00313">nodemap_parse_idmap()</a>, and <a class="el" href="lustre__nodemap_8h_source.html#l00042">NODEMAP_UID</a>.</p>

</div>
</div>
<a class="anchor" id="a81c2f58e3b31ba80bb67dd1c62ae0502"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_del_nodemap_range_seq_write" ref="a81c2f58e3b31ba80bb67dd1c62ae0502" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lprocfs_del_nodemap_range_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete a NID range from nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, "&lt;nodemap name&gt; &lt;nid range&gt;" </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00786">786</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l04051">LUSTRE_NODEMAP_NAME_LENGTH</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="nodemap__handler_8c_source.html#l00716">nodemap_del_range()</a>, and <a class="el" href="nodemap__lproc_8c_source.html#l00686">parse_nids()</a>.</p>

</div>
</div>
<a class="anchor" id="af73145b5d6c101f74f4922138d71cf74"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_del_nodemap_seq_write" ref="af73145b5d6c101f74f4922138d71cf74" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t lprocfs_del_nodemap_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete a nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, name of the nodemap to delete </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00645">645</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l04051">LUSTRE_NODEMAP_NAME_LENGTH</a>, and <a class="el" href="nodemap__handler_8c_source.html#l01033">nodemap_del()</a>.</p>

</div>
</div>
<a class="anchor" id="acc4d2533619d512299b77526f5440814"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_nodemap_register" ref="acc4d2533619d512299b77526f5440814" args="(struct lu_nodemap *nodemap, bool is_default)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lprocfs_nodemap_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__nodemap.html">lu_nodemap</a> *&nbsp;</td>
          <td class="paramname"> <em>nodemap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_default</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register the proc directory for a nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nodemap</em>&nbsp;</td><td>nodemap to make the proc dir for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_default,:</em>&nbsp;</td><td>1 if default nodemap </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l01165">1165</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00945">lprocfs_add_vars()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00952">lprocfs_remove()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00064">lu_nodemap::nm_name</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00093">lu_nodemap::nm_pde_data</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00054">nodemap_pde::npe_list_member</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00052">nodemap_pde::npe_name</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00053">nodemap_pde::npe_proc_entry</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00045">proc_lustre_nodemap_root</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l01002">nodemap_add()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l01190">nodemap_config_set_active()</a>.</p>

</div>
</div>
<a class="anchor" id="a7abba5efce09d19a0edbeca0c86da4b3"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_nodemap_remove" ref="a7abba5efce09d19a0edbeca0c86da4b3" args="(struct nodemap_pde *nm_pde)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lprocfs_nodemap_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnodemap__pde.html">nodemap_pde</a> *&nbsp;</td>
          <td class="paramname"> <em>nm_pde</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a nodemap's procfs entry and related data. </p>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l01151">1151</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00952">lprocfs_remove()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00054">nodemap_pde::npe_list_member</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00053">nodemap_pde::npe_proc_entry</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l01033">nodemap_del()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00062">nodemap_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="a13372cf91469d33f392574cf0c47dc5e"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_active_seq_show" ref="a13372cf91469d33f392574cf0c47dc5e" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_active_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and prints the active flag for the given nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00240">240</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__handler_8c_source.html#l00048">nodemap_active</a>.</p>

</div>
</div>
<a class="anchor" id="a54df9ff72eab12ed947fb6bca9135a38"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_active_seq_write" ref="a54df9ff72eab12ed947fb6bca9135a38" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t nodemap_active_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Activate/deactivate nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, "1" or "0" to activate/deactivate nodemap </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00257">257</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="linux-misc_8h_source.html#l00049">kstrtoul()</a>, <a class="el" href="nodemap__handler_8c_source.html#l01088">nodemap_activate()</a>, and <a class="el" href="nodemap__lproc_8c_source.html#l00031">NODEMAP_LPROC_FLAG_LEN</a>.</p>

</div>
</div>
<a class="anchor" id="ae42f2c89845c5cf6ad016d5478d8118e"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_admin_seq_show" ref="ae42f2c89845c5cf6ad016d5478d8118e" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_admin_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and prints the admin flag for the given nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00397">397</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__internal_8h.html#a9ceb1c86d8eba61e36ec42a9ae9f492c">active_config_lock</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00066">lu_nodemap::nmf_allow_root_access</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>.</p>

</div>
</div>
<a class="anchor" id="a04f6312f345fed45a7544dfafa454533"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_admin_seq_write" ref="a04f6312f345fed45a7544dfafa454533" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t nodemap_admin_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set/unset the admin flag. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, "1" or "0" </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00573">573</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__lproc_8c_source.html#l00427">nodemap_proc_read_flag()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00864">nodemap_set_allow_root()</a>.</p>

</div>
</div>
<a class="anchor" id="a6946134f6a2c3d1fec9f288d141d6077"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_exports_open" ref="a6946134f6a2c3d1fec9f288d141d6077" args="(struct inode *inode, struct file *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_exports_open </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attaches nodemap_idmap_show to proc file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inode</em>&nbsp;</td><td>inode of seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>seq file </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00228">228</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__lproc_8c_source.html#l00183">nodemap_exports_show()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a560b2bf6a1690e0eaa8b955f07c639"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_exports_show" ref="a6a560b2bf6a1690e0eaa8b955f07c639" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_exports_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and prints the exports attached to the given nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>seq file in proc fs, stores nodemap </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00183">183</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__internal_8h.html#a9ceb1c86d8eba61e36ec42a9ae9f492c">active_config_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00521">ptlrpc_connection::c_peer</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__export_8h_source.html#l00193">obd_export::exp_client_uuid</a>, <a class="el" href="lustre__export_8h_source.html#l00217">obd_export::exp_connection</a>, <a class="el" href="lustre__export_8h_source.html#l00294">exp_target_data</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01127">libcfs_nid2str_r()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00090">lu_nodemap::nm_member_list</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00089">lu_nodemap::nm_member_list_lock</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="nodemap__lproc_8c_source.html#l00228">nodemap_exports_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c4fe8fa8843a560b5468d59e57f9f97"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_id_seq_show" ref="a3c4fe8fa8843a560b5468d59e57f9f97" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_id_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and prints the nodemap ID for the given nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00291">291</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__internal_8h.html#a9ceb1c86d8eba61e36ec42a9ae9f492c">active_config_lock</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00069">lu_nodemap::nm_id</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>.</p>

</div>
</div>
<a class="anchor" id="ae40f0cdfcf4415d5a5cd21f1d7ea0de1"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_idmap_open" ref="ae40f0cdfcf4415d5a5cd21f1d7ea0de1" args="(struct inode *inode, struct file *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_idmap_open </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attaches nodemap_idmap_show to proc file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inode</em>&nbsp;</td><td>inode of seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>seq file </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00111">111</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__lproc_8c_source.html#l00055">nodemap_idmap_show()</a>.</p>

</div>
</div>
<a class="anchor" id="a12ddc5d61ae8e5c1c2f0f1820877c76e"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_idmap_show" ref="a12ddc5d61ae8e5c1c2f0f1820877c76e" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_idmap_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and prints the idmap for the given nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00055">55</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__internal_8h.html#a9ceb1c86d8eba61e36ec42a9ae9f492c">active_config_lock</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="nodemap__internal_8h_source.html#l00066">lu_idmap::id_client</a>, <a class="el" href="nodemap__internal_8h_source.html#l00068">lu_idmap::id_fs</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00087">lu_nodemap::nm_client_to_fs_gidmap</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00083">lu_nodemap::nm_client_to_fs_uidmap</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00079">lu_nodemap::nm_idmap_lock</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>.</p>

<p>Referenced by <a class="el" href="nodemap__lproc_8c_source.html#l00111">nodemap_idmap_open()</a>.</p>

</div>
</div>
<a class="anchor" id="aebcde46924b60902b3da88492f48acbf"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_proc_read_flag" ref="aebcde46924b60902b3da88492f48acbf" args="(const char __user *buffer, unsigned long count, unsigned int *flag_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_proc_read_flag </td>
          <td>(</td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>flag_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper functions to set nodemap flags. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, which is "1" or "0" to set/unset flag </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>flag_p</em>&nbsp;</td><td>where to store flag value </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00427">427</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="linux-misc_8h_source.html#l00049">kstrtoul()</a>, and <a class="el" href="nodemap__lproc_8c_source.html#l00031">NODEMAP_LPROC_FLAG_LEN</a>.</p>

<p>Referenced by <a class="el" href="nodemap__lproc_8c_source.html#l00573">nodemap_admin_seq_write()</a>, and <a class="el" href="nodemap__lproc_8c_source.html#l00544">nodemap_trusted_seq_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2edd678f596847b8f6c69c7ee21e532"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_procfs_exit" ref="ad2edd678f596847b8f6c69c7ee21e532" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nodemap_procfs_exit </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleanup nodemap proc entry data structures. </p>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l01135">1135</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lprocfs__status_8h_source.html#l00952">lprocfs_remove()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00054">nodemap_pde::npe_list_member</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00045">proc_lustre_nodemap_root</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l01244">nodemap_mod_exit()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l01253">nodemap_mod_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a80907730335b603bf97f730562e843ec"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_procfs_init" ref="a80907730335b603bf97f730562e843ec" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nodemap_procfs_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the nodemap procfs directory. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l01115">1115</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lprocfs__status_8h_source.html#l00949">lprocfs_register()</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00032">LUSTRE_NODEMAP_NAME</a>, <a class="el" href="nodemap__handler_8c_source.html#l00045">proc_lustre_nodemap_root</a>, and <a class="el" href="lprocfs__status_8h_source.html#l00864">proc_lustre_root</a>.</p>

<p>Referenced by <a class="el" href="nodemap__handler_8c_source.html#l01253">nodemap_mod_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ac002ebedbe1b5a50e5e771dda574180f"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_ranges_open" ref="ac002ebedbe1b5a50e5e771dda574180f" args="(struct inode *inode, struct file *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_ranges_open </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connects nodemap_idmap_show to proc file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inode</em>&nbsp;</td><td>inode of seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>seq file </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00171">171</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__lproc_8c_source.html#l00123">nodemap_ranges_show()</a>.</p>

</div>
</div>
<a class="anchor" id="a40230f8f20ecfef0736e3f609e1305f6"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_ranges_show" ref="a40230f8f20ecfef0736e3f609e1305f6" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_ranges_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and prints the NID ranges for the given nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00123">123</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__handler_8c_source.html#l00055">active_config</a>, <a class="el" href="nodemap__internal_8h.html#a9ceb1c86d8eba61e36ec42a9ae9f492c">active_config_lock</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="structinterval__node.html#a9fdbb3d38027b4bcc418350cad4f72d7">interval_node::in_extent</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01127">libcfs_nid2str_r()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00077">lu_nodemap::nm_ranges</a>, <a class="el" href="nodemap__internal_8h_source.html#l00093">nodemap_config::nmc_range_tree_lock</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>, <a class="el" href="nodemap__internal_8h_source.html#l00055">lu_nid_range::rn_id</a>, and <a class="el" href="nodemap__internal_8h_source.html#l00061">lu_nid_range::rn_node</a>.</p>

<p>Referenced by <a class="el" href="nodemap__lproc_8c_source.html#l00171">nodemap_ranges_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a817f5774e908532ffb94bb9ae4a015fe"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_squash_gid_seq_show" ref="a817f5774e908532ffb94bb9ae4a015fe" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_squash_gid_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and prints the root squash GID for the given nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00344">344</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__internal_8h.html#a9ceb1c86d8eba61e36ec42a9ae9f492c">active_config_lock</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00075">lu_nodemap::nm_squash_gid</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>.</p>

</div>
</div>
<a class="anchor" id="af25c7bce9c186588712ec0b28b6a7133"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_squash_gid_seq_write" ref="af25c7bce9c186588712ec0b28b6a7133" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t nodemap_squash_gid_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the squash GID. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string representing squash GID to set </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00504">504</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="linux-misc_8h_source.html#l00049">kstrtoul()</a>, <a class="el" href="nodemap__lproc_8c_source.html#l00030">NODEMAP_LPROC_ID_LEN</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00960">nodemap_set_squash_gid()</a>.</p>

</div>
</div>
<a class="anchor" id="ac896d0d5493da13b9da2bea804f953a9"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_squash_uid_seq_show" ref="ac896d0d5493da13b9da2bea804f953a9" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_squash_uid_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and prints the root squash UID for the given nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00318">318</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__internal_8h.html#a9ceb1c86d8eba61e36ec42a9ae9f492c">active_config_lock</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00073">lu_nodemap::nm_squash_uid</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4591fc2b75e6edb4d893cfa53f01650"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_squash_uid_seq_write" ref="ad4591fc2b75e6edb4d893cfa53f01650" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t nodemap_squash_uid_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the squash UID. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string representing squash UID to set </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00464">464</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="linux-misc_8h_source.html#l00049">kstrtoul()</a>, <a class="el" href="nodemap__lproc_8c_source.html#l00030">NODEMAP_LPROC_ID_LEN</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00927">nodemap_set_squash_uid()</a>.</p>

</div>
</div>
<a class="anchor" id="a80af0b67bd40945b5ff06ee8500f58a8"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_trusted_seq_show" ref="a80af0b67bd40945b5ff06ee8500f58a8" args="(struct seq_file *m, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int nodemap_trusted_seq_show </td>
          <td>(</td>
          <td class="paramtype">struct seq_file *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and prints the trusted flag for the given nodemap. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>seq file in proc fs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00370">370</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__internal_8h.html#a9ceb1c86d8eba61e36ec42a9ae9f492c">active_config_lock</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00066">lu_nodemap::nmf_trust_client_ids</a>, <a class="el" href="nodemap__handler_8c_source.html#l00225">nodemap_lookup()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00101">nodemap_putref()</a>.</p>

</div>
</div>
<a class="anchor" id="a569c75d0d438df0223c1fa31dde8460d"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_trusted_seq_write" ref="a569c75d0d438df0223c1fa31dde8460d" args="(struct file *file, const char __user *buffer, size_t count, loff_t *off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t nodemap_trusted_seq_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&nbsp;</td>
          <td class="paramname"> <em>off</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set/unset the trusted flag. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>proc file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>string, "1" or "0" </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td><em>buffer</em> length </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>off</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>\a</em>&nbsp;</td><td>count on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00544">544</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="nodemap__lproc_8c_source.html#l00427">nodemap_proc_read_flag()</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00894">nodemap_set_trust_client_ids()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a82f5631faf70ebc28a7b4a0ee1dbd5"></a><!-- doxytag: member="nodemap_lproc.c::parse_nids" ref="a5a82f5631faf70ebc28a7b4a0ee1dbd5" args="(char *rangestr, lnet_nid_t nids[2])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int parse_nids </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>rangestr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>nids</em>[2]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to parse a NID string. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rangestr</em>&nbsp;</td><td>string representation of NIDs, see <a class="el" href="nidstr_8h.html#aa3843a47ded8303f0352e33b5d009bee">libcfs_str2nid()</a> </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>nids</em>&nbsp;</td><td>array of two nids </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negative</em>&nbsp;</td><td>number on error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00686">686</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

<p>References <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l00305">cfs_free_nidlist()</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l00676">cfs_nidrange_find_min_max()</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l00539">cfs_nidrange_is_contiguous()</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l00333">cfs_parse_nidlist()</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="nidstr_8h_source.html#l00057">LNET_NIDSTR_SIZE</a>, and <a class="el" href="nodemap__handler_8c_source.html#l00278">nodemap_parse_range()</a>.</p>

<p>Referenced by <a class="el" href="nodemap__lproc_8c_source.html#l00727">lprocfs_add_nodemap_range_seq_write()</a>, and <a class="el" href="nodemap__lproc_8c_source.html#l00786">lprocfs_del_nodemap_range_seq_write()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aeed3a0816e3ab2d81eccdabf34f2de12"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_default_nodemap_vars" ref="aeed3a0816e3ab2d81eccdabf34f2de12" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a> <a class="el" href="nodemap__lproc_8c.html#aeed3a0816e3ab2d81eccdabf34f2de12">lprocfs_default_nodemap_vars</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        {
                .name           = <span class="stringliteral">&quot;id&quot;</span>,
                .fops           = &amp;nodemap_id_fops,
        },
        {
                .name           = <span class="stringliteral">&quot;trusted_nodemap&quot;</span>,
                .fops           = &amp;nodemap_trusted_fops,
        },
        {
                .name           = <span class="stringliteral">&quot;admin_nodemap&quot;</span>,
                .fops           = &amp;nodemap_admin_fops,
        },
        {
                .name           = <span class="stringliteral">&quot;squash_uid&quot;</span>,
                .fops           = &amp;nodemap_squash_uid_fops,
        },
        {
                .name           = <span class="stringliteral">&quot;squash_gid&quot;</span>,
                .fops           = &amp;nodemap_squash_gid_fops,
        },
        {
                .name           = <span class="stringliteral">&quot;exports&quot;</span>,
                .fops           = &amp;<a class="code" href="nodemap__lproc_8c.html#a7e5d0867b5b91aa97234c5912f1467c7">nodemap_exports_fops</a>,
        },
        {
                NULL
        }
}
</pre></div>
<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l01080">1080</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2191e1f10683f7eb059dcfb6b0ac301c"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_nm_module_vars" ref="a2191e1f10683f7eb059dcfb6b0ac301c" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a> <a class="el" href="nodemap__lproc_8c.html#a2191e1f10683f7eb059dcfb6b0ac301c">lprocfs_nm_module_vars</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l00973">973</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1f4836f03550062196ba724ffda66d54"></a><!-- doxytag: member="nodemap_lproc.c::lprocfs_nodemap_vars" ref="a1f4836f03550062196ba724ffda66d54" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlprocfs__vars.html">lprocfs_vars</a> <a class="el" href="nodemap__lproc_8c.html#a1f4836f03550062196ba724ffda66d54">lprocfs_nodemap_vars</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l01042">1042</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7e5d0867b5b91aa97234c5912f1467c7"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_exports_fops" ref="a7e5d0867b5b91aa97234c5912f1467c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file_operations <a class="el" href="nodemap__lproc_8c.html#a7e5d0867b5b91aa97234c5912f1467c7">nodemap_exports_fops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .open                   = <a class="code" href="nodemap__lproc_8c.html#a6946134f6a2c3d1fec9f288d141d6077" title="Attaches nodemap_idmap_show to proc file.">nodemap_exports_open</a>,
        .read                   = seq_read,
        .llseek                 = seq_lseek,
        .release                = single_release
}
</pre></div>
<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l01035">1035</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6036ef9640ca38c87ba28ea33567a116"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_idmap_fops" ref="a6036ef9640ca38c87ba28ea33567a116" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file_operations <a class="el" href="nodemap__lproc_8c.html#a6036ef9640ca38c87ba28ea33567a116">nodemap_idmap_fops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .open                   = <a class="code" href="nodemap__lproc_8c.html#ae40f0cdfcf4415d5a5cd21f1d7ea0de1" title="Attaches nodemap_idmap_show to proc file.">nodemap_idmap_open</a>,
        .read                   = seq_read,
        .llseek                 = seq_lseek,
        .release                = single_release
}
</pre></div>
<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l01028">1028</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

</div>
</div>
<a class="anchor" id="a49de591605ef8d6c653f9c1dae0e770f"></a><!-- doxytag: member="nodemap_lproc.c::nodemap_ranges_fops" ref="a49de591605ef8d6c653f9c1dae0e770f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file_operations <a class="el" href="nodemap__lproc_8c.html#a49de591605ef8d6c653f9c1dae0e770f">nodemap_ranges_fops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .open                   = <a class="code" href="nodemap__lproc_8c.html#ac002ebedbe1b5a50e5e771dda574180f" title="Connects nodemap_idmap_show to proc file.">nodemap_ranges_open</a>,
        .read                   = seq_read,
        .llseek                 = seq_lseek,
        .release                = single_release
}
</pre></div>
<p>Definition at line <a class="el" href="nodemap__lproc_8c_source.html#l01021">1021</a> of file <a class="el" href="nodemap__lproc_8c_source.html">nodemap_lproc.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:50 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
