<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: ldlm_resource Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ldlm_resource Struct Reference<br/>
<small>
[<a class="el" href="group__LDLM.html">Lustre Distributed Lock Manager</a>]</small>
</h1><!-- doxytag: class="ldlm_resource" -->
<p>LDLM resource description.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structldlm__ns__bucket.html">ldlm_ns_bucket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#aa615289f68134c817fd7aa1be8328c55">lr_ns_bucket</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhlist__node.html">hlist_node</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#a36fa46d26cd7396ca5fb4984ab93ebed">lr_hash</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List item for list in namespace hash.  <a href="#a36fa46d26cd7396ca5fb4984ab93ebed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">atomic_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#af0ecca35646f6539567647ea604b9cc4">lr_refcount</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reference count for this resource.  <a href="#af0ecca35646f6539567647ea604b9cc4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">spinlock_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#a59919dc6ad73a289dd28c061319f68f2">lr_lock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Spinlock to protect locks under this resource.  <a href="#a59919dc6ad73a289dd28c061319f68f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#aa749561d4248b6066c028d44def461dc">lr_name</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resource name.  <a href="#aa749561d4248b6066c028d44def461dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structldlm__interval__tree.html">ldlm_interval_tree</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#a177993de61d12f737e4652ce8490b4d1">lr_itree</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interval trees (only for extent locks) for all modes of this resource.  <a href="#a177993de61d12f737e4652ce8490b4d1"></a><br/></td></tr>
<tr><td class="memItemLeft" >union {</td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;<a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a>&nbsp;&nbsp;&nbsp;<a class="el" href="structldlm__resource.html#a01c434e73fbed05a8f16a1c0197f6dee">lr_contention_time</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">When the resource was considered as contended, used only on server side.  <a href="#a9c358cc8cb2539148d44db22b2394e63"></a><br/></td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;struct inode *&nbsp;&nbsp;&nbsp;<a class="el" href="structldlm__resource.html#a8d169945f0f0d3b471280c3b18fe8fc1">lr_lvb_inode</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Associated inode, used only on client side.  <a href="#ab86b9220ed7a0d77a14cfe2d996dd418"></a><br/></td></tr>
<tr><td class="memItemLeft" valign="top">};&nbsp;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__lustreidl.html#ga5ced9a6707006817f5e2409b368f36b5">ldlm_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#a49b3d8776d2a7ff57e963c988d1de5cf">lr_type</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of locks this resource can hold.  <a href="#a49b3d8776d2a7ff57e963c988d1de5cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#a32f7f043a25b2f5d37653bb0dffbeb0a">lr_lvb_len</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Server-side-only lock value block elements.  <a href="#a32f7f043a25b2f5d37653bb0dffbeb0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#a4aad09ec65c41c458fd1912e1f6784c4">lr_lvb_mutex</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#ad1c519bba417a9b3cafde71095e4cb52">lr_lvb_data</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">protected by lr_lock  <a href="#ad1c519bba417a9b3cafde71095e4cb52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#a980f91829722a000b144ba6aabdfea6e">lr_lvb_initialized</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">is lvb initialized ?  <a href="#a980f91829722a000b144ba6aabdfea6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__ref.html">lu_ref</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#a5313c4407b408d5d1a9e183559eb85e2">lr_reference</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of references to this resource.  <a href="#a5313c4407b408d5d1a9e183559eb85e2"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#aeb092453fc0c7d4db2ae7cd3dddd593a">lr_granted</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">protected by lr_lock  <a href="#aeb092453fc0c7d4db2ae7cd3dddd593a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#a29e2572837238205fc2e5180618d1fd5">lr_converting</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of locks waiting to change their granted mode (converted).  <a href="#a29e2572837238205fc2e5180618d1fd5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__resource.html#af6bf768c2b52a0303d2118ce6a5190b6">lr_waiting</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of locks that could not be granted due to conflicts and that are waiting for conflicts to go away.  <a href="#af6bf768c2b52a0303d2118ce6a5190b6"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>LDLM resource description. </p>
<p>Basically, resource is a representation for a single object. Object has a name which is currently 4 64-bit integers. LDLM user is responsible for creation of a mapping between objects it wants to be protected and resource <a class="el" href="structnames.html">names</a>.</p>
<p>A resource can only hold locks of a single lock type, though there may be multiple ldlm_locks on a single resource, depending on the lock type and whether the locks are conflicting or not. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00922">922</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="abebd6546171fd8d39887a487a1140f22"></a><!-- doxytag: member="ldlm_resource::@50" ref="abebd6546171fd8d39887a487a1140f22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } </td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a01c434e73fbed05a8f16a1c0197f6dee"></a><!-- doxytag: member="ldlm_resource::lr_contention_time" ref="a01c434e73fbed05a8f16a1c0197f6dee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a> <a class="el" href="structldlm__resource.html#a01c434e73fbed05a8f16a1c0197f6dee">ldlm_resource::lr_contention_time</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When the resource was considered as contended, used only on server side. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00962">962</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a29e2572837238205fc2e5180618d1fd5"></a><!-- doxytag: member="ldlm_resource::lr_converting" ref="a29e2572837238205fc2e5180618d1fd5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="structldlm__resource.html#a29e2572837238205fc2e5180618d1fd5">ldlm_resource::lr_converting</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of locks waiting to change their granted mode (converted). </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00943">943</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01267">__ldlm_resource_putref_final()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02459">ldlm_lock_convert()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01708">ldlm_lock_enqueue()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02147">ldlm_reprocess_all()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00856">ldlm_resource_clean()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01448">ldlm_resource_dump()</a>, <a class="el" href="ldlm__request_8c_source.html#l02056">ldlm_resource_foreach()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l01132">ldlm_resource_new()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb092453fc0c7d4db2ae7cd3dddd593a"></a><!-- doxytag: member="ldlm_resource::lr_granted" ref="aeb092453fc0c7d4db2ae7cd3dddd593a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="structldlm__resource.html#aeb092453fc0c7d4db2ae7cd3dddd593a">ldlm_resource::lr_granted</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>protected by lr_lock </p>
<p>List of locks in granted state </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00941">941</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01267">__ldlm_resource_putref_final()</a>, <a class="el" href="ldlm__request_8c_source.html#l01854">ldlm_cancel_resource_local()</a>, <a class="el" href="ldlm__extent_8c_source.html#l00898">ldlm_extent_add_lock()</a>, <a class="el" href="ldlm__extent_8c_source.html#l00802">ldlm_extent_shift_kms()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01101">ldlm_grant_lock()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01078">ldlm_grant_lock_with_skiplist()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00289">ldlm_process_flock_lock()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00856">ldlm_resource_clean()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01448">ldlm_resource_dump()</a>, <a class="el" href="ldlm__request_8c_source.html#l02056">ldlm_resource_foreach()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01132">ldlm_resource_new()</a>, <a class="el" href="osc__request_8c_source.html#l02601">osc_ldlm_resource_invalidate()</a>, and <a class="el" href="qmt__lock_8c_source.html#l00459">qmt_glimpse_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="a36fa46d26cd7396ca5fb4984ab93ebed"></a><!-- doxytag: member="ldlm_resource::lr_hash" ref="a36fa46d26cd7396ca5fb4984ab93ebed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhlist__node.html">hlist_node</a> <a class="el" href="structldlm__resource.html#a36fa46d26cd7396ca5fb4984ab93ebed">ldlm_resource::lr_hash</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List item for list in namespace hash. </p>
<p>protected by ns_lock </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00929">929</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01267">__ldlm_resource_putref_final()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00569">ldlm_res_hop_get_locked()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00546">ldlm_res_hop_key()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00554">ldlm_res_hop_keycmp()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00563">ldlm_res_hop_object()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00577">ldlm_res_hop_put()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a177993de61d12f737e4652ce8490b4d1"></a><!-- doxytag: member="ldlm_resource::lr_itree" ref="a177993de61d12f737e4652ce8490b4d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structldlm__interval__tree.html">ldlm_interval_tree</a>* <a class="el" href="structldlm__resource.html#a177993de61d12f737e4652ce8490b4d1">ldlm_resource::lr_itree</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Interval trees (only for extent locks) for all modes of this resource. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00956">956</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__extent_8c_source.html#l00898">ldlm_extent_add_lock()</a>, <a class="el" href="ldlm__extent_8c_source.html#l00936">ldlm_extent_unlink_lock()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01132">ldlm_resource_new()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01295">ldlm_resource_putref()</a>, <a class="el" href="ofd__dlm_8c_source.html#l00129">ofd_intent_policy()</a>, and <a class="el" href="ldlm__lock_8c_source.html#l01251">search_itree()</a>.</p>

</div>
</div>
<a class="anchor" id="a59919dc6ad73a289dd28c061319f68f2"></a><!-- doxytag: member="ldlm_resource::lr_lock" ref="a59919dc6ad73a289dd28c061319f68f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t <a class="el" href="structldlm__resource.html#a59919dc6ad73a289dd28c061319f68f2">ldlm_resource::lr_lock</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Spinlock to protect locks under this resource. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00935">935</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__dlm_8h_source.html#l01556">check_res_locked()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01132">ldlm_resource_new()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01537">lock_res()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01543">lock_res_nested()</a>, and <a class="el" href="lustre__dlm_8h_source.html#l01550">unlock_res()</a>.</p>

</div>
</div>
<a class="anchor" id="ad1c519bba417a9b3cafde71095e4cb52"></a><!-- doxytag: member="ldlm_resource::lr_lvb_data" ref="ad1c519bba417a9b3cafde71095e4cb52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structldlm__resource.html#ad1c519bba417a9b3cafde71095e4cb52">ldlm_resource::lr_lvb_data</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>protected by lr_lock </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00979">979</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__dlm_8h_source.html#l01023">ldlm_lvbo_init()</a>, <a class="el" href="ofd__dlm_8c_source.html#l00129">ofd_intent_policy()</a>, <a class="el" href="ofd__lvb_8c_source.html#l00361">ofd_lvbo_fill()</a>, <a class="el" href="ofd__lvb_8c_source.html#l00062">ofd_lvbo_free()</a>, <a class="el" href="ofd__lvb_8c_source.html#l00085">ofd_lvbo_init()</a>, <a class="el" href="ofd__lvb_8c_source.html#l00182">ofd_lvbo_update()</a>, <a class="el" href="qmt__lock_8c_source.html#l00043">qmt_intent_policy()</a>, <a class="el" href="qmt__lock_8c_source.html#l00346">qmt_lvbo_fill()</a>, <a class="el" href="qmt__lock_8c_source.html#l00403">qmt_lvbo_free()</a>, <a class="el" href="qmt__lock_8c_source.html#l00152">qmt_lvbo_init()</a>, and <a class="el" href="qmt__lock_8c_source.html#l00236">qmt_lvbo_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a980f91829722a000b144ba6aabdfea6e"></a><!-- doxytag: member="ldlm_resource::lr_lvb_initialized" ref="a980f91829722a000b144ba6aabdfea6e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structldlm__resource.html#a980f91829722a000b144ba6aabdfea6e">ldlm_resource::lr_lvb_initialized</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>is lvb initialized ? </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00981">981</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__dlm_8h_source.html#l01023">ldlm_lvbo_init()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l01132">ldlm_resource_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d169945f0f0d3b471280c3b18fe8fc1"></a><!-- doxytag: member="ldlm_resource::lr_lvb_inode" ref="a8d169945f0f0d3b471280c3b18fe8fc1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct inode* <a class="el" href="structldlm__resource.html#a8d169945f0f0d3b471280c3b18fe8fc1">ldlm_resource::lr_lvb_inode</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Associated inode, used only on client side. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00966">966</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l01180">ll_inode_from_resource_lock()</a>, <a class="el" href="mdc__locks_8c_source.html#l00172">mdc_null_inode()</a>, <a class="el" href="mdc__request_8c_source.html#l02597">mdc_resource_inode_free()</a>, and <a class="el" href="mdc__locks_8c_source.html#l00102">mdc_set_lock_data()</a>.</p>

</div>
</div>
<a class="anchor" id="a32f7f043a25b2f5d37653bb0dffbeb0a"></a><!-- doxytag: member="ldlm_resource::lr_lvb_len" ref="a32f7f043a25b2f5d37653bb0dffbeb0a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structldlm__resource.html#a32f7f043a25b2f5d37653bb0dffbeb0a">ldlm_resource::lr_lvb_len</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Server-side-only lock value block elements. </p>
<p>To serialize lvbo_init. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00976">976</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__dlm_8h_source.html#l01023">ldlm_lvbo_init()</a>, <a class="el" href="ofd__lvb_8c_source.html#l00361">ofd_lvbo_fill()</a>, <a class="el" href="ofd__lvb_8c_source.html#l00062">ofd_lvbo_free()</a>, <a class="el" href="ofd__lvb_8c_source.html#l00085">ofd_lvbo_init()</a>, <a class="el" href="qmt__lock_8c_source.html#l00403">qmt_lvbo_free()</a>, and <a class="el" href="qmt__lock_8c_source.html#l00152">qmt_lvbo_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a4aad09ec65c41c458fd1912e1f6784c4"></a><!-- doxytag: member="ldlm_resource::lr_lvb_mutex" ref="a4aad09ec65c41c458fd1912e1f6784c4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mutex <a class="el" href="structldlm__resource.html#a4aad09ec65c41c458fd1912e1f6784c4">ldlm_resource::lr_lvb_mutex</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00977">977</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__dlm_8h_source.html#l01023">ldlm_lvbo_init()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01132">ldlm_resource_new()</a>, and <a class="el" href="ofd__lvb_8c_source.html#l00085">ofd_lvbo_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa749561d4248b6066c028d44def461dc"></a><!-- doxytag: member="ldlm_resource::lr_name" ref="aa749561d4248b6066c028d44def461dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structldlm__res__id.html">ldlm_res_id</a> <a class="el" href="structldlm__resource.html#aa749561d4248b6066c028d44def461dc">ldlm_resource::lr_name</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resource name. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00951">951</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l00541">ldlm_cli_enqueue_fini()</a>, <a class="el" href="ldlm__request_8c_source.html#l02010">ldlm_cli_hash_cancel_unused()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l01796">ldlm_handle_cp_callback()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00514">ldlm_lock_change_resource()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00289">ldlm_process_flock_lock()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01379">ldlm_res2desc()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00546">ldlm_res_hop_key()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00554">ldlm_res_hop_keycmp()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01295">ldlm_resource_putref()</a>, <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>, <a class="el" href="mdc__locks_8c_source.html#l00890">mdc_finish_intent_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02396">mdt_check_resent_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__lvb_8c_source.html#l00095">mdt_lvbo_fill()</a>, <a class="el" href="mgc__request_8c_source.html#l00945">mgc_blocking_ast()</a>, <a class="el" href="ofd__lvb_8c_source.html#l00085">ofd_lvbo_init()</a>, <a class="el" href="ofd__lvb_8c_source.html#l00182">ofd_lvbo_update()</a>, <a class="el" href="ofd__dev_8c_source.html#l02344">ofd_prolong_extent_locks()</a>, <a class="el" href="ofd__dev_8c_source.html#l02422">ofd_rw_hpreq_lock_match()</a>, <a class="el" href="qmt__lock_8c_source.html#l00043">qmt_intent_policy()</a>, <a class="el" href="qmt__lock_8c_source.html#l00346">qmt_lvbo_fill()</a>, <a class="el" href="qmt__lock_8c_source.html#l00403">qmt_lvbo_free()</a>, <a class="el" href="qmt__lock_8c_source.html#l00152">qmt_lvbo_init()</a>, <a class="el" href="qmt__lock_8c_source.html#l00236">qmt_lvbo_update()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01312">tgt_blocking_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="aa615289f68134c817fd7aa1be8328c55"></a><!-- doxytag: member="ldlm_resource::lr_ns_bucket" ref="aa615289f68134c817fd7aa1be8328c55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structldlm__ns__bucket.html">ldlm_ns_bucket</a>* <a class="el" href="structldlm__resource.html#aa615289f68134c817fd7aa1be8328c55">ldlm_resource::lr_ns_bucket</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00923">923</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01267">__ldlm_resource_putref_final()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01018">ldlm_lock_to_ns_at()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01000">ldlm_res_to_ns()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>.</p>

</div>
</div>
<a class="anchor" id="af0ecca35646f6539567647ea604b9cc4"></a><!-- doxytag: member="ldlm_resource::lr_refcount" ref="af0ecca35646f6539567647ea604b9cc4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t <a class="el" href="structldlm__resource.html#af0ecca35646f6539567647ea604b9cc4">ldlm_resource::lr_refcount</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reference count for this resource. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00932">932</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lock_8c_source.html#l02607">_ldlm_lock_debug()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00869">ldlm_resource_complain()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01448">ldlm_resource_dump()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01257">ldlm_resource_getref()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01132">ldlm_resource_new()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l01295">ldlm_resource_putref()</a>.</p>

</div>
</div>
<a class="anchor" id="a5313c4407b408d5d1a9e183559eb85e2"></a><!-- doxytag: member="ldlm_resource::lr_reference" ref="a5313c4407b408d5d1a9e183559eb85e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__ref.html">lu_ref</a> <a class="el" href="structldlm__resource.html#a5313c4407b408d5d1a9e183559eb85e2">ldlm_resource::lr_reference</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of references to this resource. </p>
<p>For debugging. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00984">984</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01267">__ldlm_resource_putref_final()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00514">ldlm_lock_change_resource()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00460">ldlm_lock_new()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00190">ldlm_lock_put()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l01132">ldlm_resource_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a49b3d8776d2a7ff57e963c988d1de5cf"></a><!-- doxytag: member="ldlm_resource::lr_type" ref="a49b3d8776d2a7ff57e963c988d1de5cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__lustreidl.html#ga5ced9a6707006817f5e2409b368f36b5">ldlm_type</a> <a class="el" href="structldlm__resource.html#a49b3d8776d2a7ff57e963c988d1de5cf">ldlm_resource::lr_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of locks this resource can hold. </p>
<p>Only one type per resource. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00970">970</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lock_8c_source.html#l02607">_ldlm_lock_debug()</a>, <a class="el" href="ldlm__request_8c_source.html#l00491">failed_lock_cleanup()</a>, <a class="el" href="ldlm__request_8c_source.html#l01458">ldlm_cancel_no_wait_policy()</a>, <a class="el" href="ldlm__request_8c_source.html#l01854">ldlm_cancel_resource_local()</a>, <a class="el" href="ldlm__request_8c_source.html#l00541">ldlm_cli_enqueue_fini()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01101">ldlm_grant_lock()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l01796">ldlm_handle_cp_callback()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00987">ldlm_has_layout()</a>, <a class="el" href="ldlm__extent_8c_source.html#l00836">ldlm_interval_alloc()</a>, <a class="el" href="ldlm__extent_8c_source.html#l00861">ldlm_interval_attach()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00646">ldlm_lock2desc()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00281">ldlm_lock_add_to_lru_nolock()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00514">ldlm_lock_change_resource()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02459">ldlm_lock_convert()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01708">ldlm_lock_enqueue()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00233">ldlm_lock_remove_from_lru_nolock()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01379">ldlm_res2desc()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01366">ldlm_resource_unlink_lock()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02236">ldlm_unlink_lock_skiplist()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01154">lock_matches()</a>, <a class="el" href="mdc__request_8c_source.html#l02583">mdc_cancel_weight()</a>, <a class="el" href="ofd__dev_8c_source.html#l02344">ofd_prolong_extent_locks()</a>, <a class="el" href="osc__request_8c_source.html#l02715">osc_cancel_weight()</a>, <a class="el" href="osc__lock_8c_source.html#l00693">osc_ldlm_weigh_ast()</a>, <a class="el" href="osp__dev_8c_source.html#l00963">osp_cancel_weight()</a>, <a class="el" href="qmt__lock_8c_source.html#l00346">qmt_lvbo_fill()</a>, <a class="el" href="qmt__lock_8c_source.html#l00152">qmt_lvbo_init()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00955">search_granted_lock()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01312">tgt_blocking_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="af6bf768c2b52a0303d2118ce6a5190b6"></a><!-- doxytag: member="ldlm_resource::lr_waiting" ref="af6bf768c2b52a0303d2118ce6a5190b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="structldlm__resource.html#af6bf768c2b52a0303d2118ce6a5190b6">ldlm_resource::lr_waiting</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of locks that could not be granted due to conflicts and that are waiting for conflicts to go away. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00947">947</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01267">__ldlm_resource_putref_final()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01708">ldlm_lock_enqueue()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>, <a class="el" href="ldlm__flock_8c_source.html#l00289">ldlm_process_flock_lock()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02147">ldlm_reprocess_all()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00856">ldlm_resource_clean()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01448">ldlm_resource_dump()</a>, <a class="el" href="ldlm__request_8c_source.html#l02056">ldlm_resource_foreach()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l01132">ldlm_resource_new()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:53 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
