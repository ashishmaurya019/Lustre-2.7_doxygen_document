<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: net</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>net<br/>
<small>
[<a class="el" href="group__PtlRPC.html">Portal RPC and networking module.</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__replay__async__args.html">ptlrpc_replay_async_args</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure to single define portal connection.  <a href="structptlrpc__connection.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__client.html">ptlrpc_client</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Client definition for PortalRPC.  <a href="structptlrpc__client.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">union &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionptlrpc__async__args.html">ptlrpc_async_args</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Definition of request set structure.  <a href="structptlrpc__request__set.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__set__cbdata.html">ptlrpc_set_cbdata</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Description of a single ptrlrpc_set callback.  <a href="structptlrpc__set__cbdata.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__cb__id.html">ptlrpc_cb_id</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ptlrpc callback &amp; work item stuff  <a href="structptlrpc__cb__id.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure to define reply state on the server Reply state holds various reply message information.  <a href="structptlrpc__reply__state.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Definition of request pool structure.  <a href="structptlrpc__request__pool.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__hpreq__ops.html">ptlrpc_hpreq_ops</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Basic request prioritization operations structure.  <a href="structptlrpc__hpreq__ops.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__cli__req.html">ptlrpc_cli_req</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__srv__req.html">ptlrpc_srv_req</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__request.html">ptlrpc_request</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Represents remote procedure call.  <a href="structptlrpc__request.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__bulk__page.html">ptlrpc_bulk_page</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure that defines a single page of a bulk transfer.  <a href="structptlrpc__bulk__page.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__bulk__frag__ops.html">ptlrpc_bulk_frag_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Definition of server service thread structure.  <a href="structptlrpc__thread.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__request__buffer__desc.html">ptlrpc_request_buffer_desc</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request buffer descriptor structure.  <a href="structptlrpc__request__buffer__desc.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__service__ops.html">ptlrpc_service_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__service.html">ptlrpc_service</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Definition of PortalRPC service.  <a href="structptlrpc__service.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__service__part.html">ptlrpc_service_part</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Definition of PortalRPC service partition data.  <a href="structptlrpc__service__part.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpcd__ctl.html">ptlrpcd_ctl</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declaration of <a class="el" href="structptlrpcd.html">ptlrpcd</a> control structure.  <a href="structptlrpcd__ctl.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__service__buf__conf.html">ptlrpc_service_buf_conf</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__service__thr__conf.html">ptlrpc_service_thr_conf</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__service__cpt__conf.html">ptlrpc_service_cpt_conf</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__service__conf.html">ptlrpc_service_conf</a></td></tr>
<tr><td colspan="2"><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrs.html">Network Request Scheduler</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Service compatibility function; the policy is compatible with all services. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga157c3f17a1c57b1a5f9bbe640e0b9c19">PTLRPC_MD_OPTIONS</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gabf4b4d7a3ddddab43ae78ddefc08af29">PTLRPC_BULK_OPS_BITS</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log2 max # of bulk operations in one request: 2=4MB/RPC, 5=32MB/RPC, .  <a href="#gabf4b4d7a3ddddab43ae78ddefc08af29"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga490cb13c3d4b02b157fd6a4629c872b4">PTLRPC_BULK_OPS_COUNT</a>&nbsp;&nbsp;&nbsp;(1U &lt;&lt; PTLRPC_BULK_OPS_BITS)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8b841cf2fb3c1d1c92a9ddcf7068bb4c">PTLRPC_BULK_OPS_MASK</a>&nbsp;&nbsp;&nbsp;(~((<a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>)PTLRPC_BULK_OPS_COUNT - 1))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PTLRPC_BULK_OPS_MASK is for the convenience of the client only, and should not be used on the server at all.  <a href="#ga8b841cf2fb3c1d1c92a9ddcf7068bb4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga507b0acc65154a8e8842879d5f4db30b">PTLRPC_MAX_BRW_BITS</a>&nbsp;&nbsp;&nbsp;(LNET_MTU_BITS + PTLRPC_BULK_OPS_BITS)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define maxima for bulk I/O.  <a href="#ga507b0acc65154a8e8842879d5f4db30b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga395e088d87586ef8ceaca1aea618c60f">PTLRPC_MAX_BRW_SIZE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_MAX_BRW_BITS)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaced9eb537787b1e8c157fc7a3e1c167b">PTLRPC_MAX_BRW_PAGES</a>&nbsp;&nbsp;&nbsp;(PTLRPC_MAX_BRW_SIZE &gt;&gt; PAGE_CACHE_SHIFT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga81c21f2171d6912a36ca02da217084d4">ONE_MB_BRW_SIZE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; LNET_MTU_BITS)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga54b813af48fd306d714dfe5d2dd9dcbe">MD_MAX_BRW_SIZE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; LNET_MTU_BITS)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga61910e6afc32b8b9a825cafee843d10f">MD_MAX_BRW_PAGES</a>&nbsp;&nbsp;&nbsp;(MD_MAX_BRW_SIZE &gt;&gt; PAGE_CACHE_SHIFT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga42b91fc3e95a0fbbd654180940faa261">DT_MAX_BRW_SIZE</a>&nbsp;&nbsp;&nbsp;PTLRPC_MAX_BRW_SIZE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1a54fcc98e16a4f9a812a2fa76cd5b20">DT_MAX_BRW_PAGES</a>&nbsp;&nbsp;&nbsp;(DT_MAX_BRW_SIZE &gt;&gt; PAGE_CACHE_SHIFT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga3a380e2199f126c6bf7b690f8d50c886">OFD_MAX_BRW_SIZE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; LNET_MTU_BITS)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gafe956408171741e4f2fa929087b87a26">PTLRPC_NTHRS_INIT</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga3a944e6b359ce130537f3ab0efdd5a2a">LDLM_THR_FACTOR</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffer Constants.  <a href="#ga3a944e6b359ce130537f3ab0efdd5a2a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga742311d34141ab6eaee328dfcc72b488">LDLM_NTHRS_INIT</a>&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0a61d5a753e8c5c555e50e636722e399">LDLM_NTHRS_BASE</a>&nbsp;&nbsp;&nbsp;24</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga46d108e558ab6d0e3198f65c876d1a81">LDLM_NTHRS_MAX</a>&nbsp;&nbsp;&nbsp;(num_online_cpus() == 1 ? 64 : 128)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7394435c900a8c54f6b95170c88935e6">LDLM_BL_THREADS</a>&nbsp;&nbsp;&nbsp;LDLM_NTHRS_AUTO_INIT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6083e4e11e92c0e1899135e1ecb0d8e0">LDLM_CLIENT_NBUFS</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga799922177ad620208dc9b06071f692db">LDLM_SERVER_NBUFS</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga49bb95cb76972aaca8e816575cd02aca">LDLM_BUFSIZE</a>&nbsp;&nbsp;&nbsp;(8 * 1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga9e405949bcdca22d07e59f01c2a49472">LDLM_MAXREQSIZE</a>&nbsp;&nbsp;&nbsp;(5 * 1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacff8051eb06c1171b24729b4bf074eda">LDLM_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;(1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga39960ff74dd6e99afa9493eef0cfafc9">MDS_MAX_THREADS</a>&nbsp;&nbsp;&nbsp;1024</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2803f1a066b1b5eb624606097c73ed86">MDS_MAX_OTHR_THREADS</a>&nbsp;&nbsp;&nbsp;256</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga70e59b7c463e86e27ccb8b5b22048a47">MDS_THR_FACTOR</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gabbbfd3d72987bb9721f9fb62007731d4">MDS_NTHRS_INIT</a>&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga244fa4230dc897399f3dff88dda960ad">MDS_NTHRS_MAX</a>&nbsp;&nbsp;&nbsp;MDS_MAX_THREADS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2efb8ac49c003b862962fb21e081518d">MDS_NTHRS_BASE</a>&nbsp;&nbsp;&nbsp;min(64, MDS_NTHRS_MAX)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa4116fa3846b0121ef81329010562804">MDS_RDPG_THR_FACTOR</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga414913daf8e5db5aca77861890f3f2e0">MDS_RDPG_NTHRS_INIT</a>&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga436352d1f9885c24a128201572e3e7d2">MDS_RDPG_NTHRS_MAX</a>&nbsp;&nbsp;&nbsp;MDS_MAX_OTHR_THREADS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab69d130f17c0596b5a286a42dfe6d92a">MDS_RDPG_NTHRS_BASE</a>&nbsp;&nbsp;&nbsp;min(48, MDS_RDPG_NTHRS_MAX)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga28af3ce9f210352a4949b4fd36bf8335">MDS_SETA_THR_FACTOR</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga37496fd9a199fae4bb9b2371ef7b6168">MDS_SETA_NTHRS_INIT</a>&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4e0c711cd3f8b3593ed725caa5319d4f">MDS_SETA_NTHRS_MAX</a>&nbsp;&nbsp;&nbsp;MDS_MAX_OTHR_THREADS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga12e70004dc735fd050b4fd3249bf0f5c">MDS_SETA_NTHRS_BASE</a>&nbsp;&nbsp;&nbsp;min(48, MDS_SETA_NTHRS_MAX)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga552f6644a8116b4b4cd9fd1e779f80a0">MDS_OTHR_NTHRS_INIT</a>&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4a07faf92c59ff2070faa8efaa057ffb">MDS_OTHR_NTHRS_MAX</a>&nbsp;&nbsp;&nbsp;MDS_MAX_OTHR_THREADS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga9a471dccc8fdd69639438f1ed9eadf71">MDS_NBUFS</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0925bdb5333dd708e0aa362a7b859f87">MDS_MAXREQSIZE</a>&nbsp;&nbsp;&nbsp;(5 * 1024)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assume file name length = FNAME_MAX = 256 (true for ext3).  <a href="#ga0925bdb5333dd708e0aa362a7b859f87"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0d5ce2bf1f1ae98e02bc257cd69fd129">MDS_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;(9 * 1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga30f21c5f8837df1463edffb20d62a4f2">MDS_LOV_MAXREQSIZE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MDS incoming request with LOV EA 24 = sizeof(struct lov_ost_data), i.e: replay of opencreate.  <a href="#ga30f21c5f8837df1463edffb20d62a4f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacacc3457857ade161935c93720109685">MDS_LOV_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;MDS_LOV_MAXREQSIZE</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MDS outgoing reply with LOV EA.  <a href="#gacacc3457857ade161935c93720109685"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga11a8ca7b7077906bf6d328588ec4dec4">MDS_EA_MAXREQSIZE</a>&nbsp;&nbsp;&nbsp;66288</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the size of a maximum REINT_SETXATTR request:.  <a href="#ga11a8ca7b7077906bf6d328588ec4dec4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga55304816884c7b0a95e492ced0d476ff">MDS_REG_MAXREQSIZE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">These are the maximum request and reply sizes (rounded up to 1 KB boundaries) for the "regular" MDS_REQUEST_PORTAL and MDS_REPLY_PORTAL.  <a href="#ga55304816884c7b0a95e492ced0d476ff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gafcd9831ec8cedfbf10a6796bea541b46">MDS_REG_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;MDS_REG_MAXREQSIZE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga3061b67fa028fa7ea59239b69b10c911">OUT_MAXREQSIZE</a>&nbsp;&nbsp;&nbsp;(1000 * 1024)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The update request includes all of updates from the create, which might include linkea (4K maxim), together with other updates, we set it to 1000K: lustre_msg + ptlrpc_body + OUT_UPDATE_BUFFER_SIZE_MAX.  <a href="#ga3061b67fa028fa7ea59239b69b10c911"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad5ddee6a7625595767bc2e1e6e35cbcf">OUT_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;MDS_MAXREPSIZE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga89120bf4c91617f84fb648d3445c4d0d">MDS_BUFSIZE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MDS_BUFSIZE = max_reqsize (w/o LOV EA) + max sptlrpc payload size.  <a href="#ga89120bf4c91617f84fb648d3445c4d0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gace39c2a24b8ed087135caf8102925f80">MDS_REG_BUFSIZE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MDS_REG_BUFSIZE should at least be MDS_REG_MAXREQSIZE + SPTLRPC_MAX_PAYLOAD.  <a href="#gace39c2a24b8ed087135caf8102925f80"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae34be12e43c77807e8487670d8c4b119">OUT_BUFSIZE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OUT_BUFSIZE = max_out_reqsize + max sptlrpc payload (~1K) which is about 10K, for the same reason as MDS_REG_BUFSIZE, we also give some extra bytes to each request buffer to improve buffer utilization rate.  <a href="#gae34be12e43c77807e8487670d8c4b119"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacc6001cafee4a86e6ce9e3c564300fba">FLD_MAXREQSIZE</a>&nbsp;&nbsp;&nbsp;(160)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">FLD_MAXREQSIZE == lustre_msg + __u32 padding + ptlrpc_body + opc.  <a href="#gacc6001cafee4a86e6ce9e3c564300fba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga79a13640cdfd7899d81028fd45849e20">FLD_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;(152)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">FLD_MAXREPSIZE == lustre_msg + ptlrpc_body.  <a href="#ga79a13640cdfd7899d81028fd45849e20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac06737cf90ac519d7b893a73c556e1d7">FLD_BUFSIZE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 12)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab00780470dc1dda21d5107cb3439968b">SEQ_MAXREQSIZE</a>&nbsp;&nbsp;&nbsp;(160)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SEQ_MAXREQSIZE == lustre_msg + __u32 padding + ptlrpc_body + opc + lu_range + __u32 padding.  <a href="#gab00780470dc1dda21d5107cb3439968b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad213a2a89d144bd859084578eb412571">SEQ_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;(152)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SEQ_MAXREPSIZE == lustre_msg + ptlrpc_body + lu_range.  <a href="#gad213a2a89d144bd859084578eb412571"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gadd5b9f5ebcda42209dd76180511dfb16">SEQ_BUFSIZE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 12)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga12eb8c4f6e3d563a0e5896e9c2b220d5">MGS_NTHRS_INIT</a>&nbsp;&nbsp;&nbsp;(PTLRPC_NTHRS_INIT + 1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MGS threads must be &gt;= 3, see bug 22458 comment #28.  <a href="#ga12eb8c4f6e3d563a0e5896e9c2b220d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5c93971749de996a29cf22f9897f91a5">MGS_NTHRS_MAX</a>&nbsp;&nbsp;&nbsp;32</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga70a22720391d9716047d981002f41e0f">MGS_NBUFS</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga05f77b5b40b7665ed4bad5e99cb3914b">MGS_BUFSIZE</a>&nbsp;&nbsp;&nbsp;(8 * 1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga058f6c5763d4ec6ed56d27894c129c4d">MGS_MAXREQSIZE</a>&nbsp;&nbsp;&nbsp;(7 * 1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga09696fdc67a516b616641018d7f01a8b">MGS_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;(9 * 1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1278d9299d9ff6ef534065ab23eba663">OSS_THR_FACTOR</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac1472096f107f464745434d858967198">OSS_NTHRS_INIT</a>&nbsp;&nbsp;&nbsp;(PTLRPC_NTHRS_INIT + 1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6831cd1d9b4ce57e6228ccd81cc5644c">OSS_NTHRS_BASE</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga74852f44edc643dfad53455c1a94e39d">OSS_CR_THR_FACTOR</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8852ea575dae46f58a5e069b2530e9f3">OSS_CR_NTHRS_INIT</a>&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaedf87039c07092efbe0505eb87154423">OSS_CR_NTHRS_BASE</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaec7ab227158f64ddb130f678bc4965fe">OSS_CR_NTHRS_MAX</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7effbcacfc90f58c6e550e8441ee9b5d">_OST_MAXREQSIZE_SUM</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OST_IO_MAXREQSIZE ~= lustre_msg + ptlrpc_body + <a class="el" href="structobdo.html">obdo</a> + <a class="el" href="structobd__ioobj.html">obd_ioobj</a> + DT_MAX_BRW_PAGES * <a class="el" href="structniobuf__remote.html">niobuf_remote</a>.  <a href="#ga7effbcacfc90f58c6e550e8441ee9b5d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga90591733c0c1eee622c2b8b512fd89e3">OST_MAXREQSIZE</a>&nbsp;&nbsp;&nbsp;(16 * 1024)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">FIEMAP request can be 4K+ for now.  <a href="#ga90591733c0c1eee622c2b8b512fd89e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga910924170a8059c49ec72de9a3afebb3">OST_IO_MAXREQSIZE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0d46c61bf1187782e6eb6867ac91f146">OST_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;(9 * 1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga315fc498b63260468a9e2be3229d5bbd">OST_IO_MAXREPSIZE</a>&nbsp;&nbsp;&nbsp;OST_MAXREPSIZE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab72ba326b290df7189c8e5360ea6f8c1">OST_NBUFS</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gade43b8059a7940089671f1c160b97e8b">OST_BUFSIZE</a>&nbsp;&nbsp;&nbsp;max_t(int, OST_MAXREQSIZE + 1024, 16 * 1024)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OST_BUFSIZE = max_reqsize + max sptlrpc payload size.  <a href="#gade43b8059a7940089671f1c160b97e8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga112461e50f5b4ce6d060c31e89002f4a">OST_IO_BUFSIZE</a>&nbsp;&nbsp;&nbsp;max_t(int, OST_IO_MAXREQSIZE + 1024, 64 * 1024)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OST_IO_MAXREQSIZE is 18K, giving extra 46K can increase buffer utilization rate of request buffer, please check comment of MDS_LOV_BUFSIZE for details.  <a href="#ga112461e50f5b4ce6d060c31e89002f4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga50f2542bf0ac863d6ef21de92a35c915">ptlrpc_req_async_args</a>(req)&nbsp;&nbsp;&nbsp;((void *)&amp;req-&gt;rq_async_args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab9360fd394863fc72262f905536407ea">PTL_RPC_FL_INTR</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">state flags of requests  <a href="#gab9360fd394863fc72262f905536407ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab36c9b4e63763d4ccd5dd8d83fc9e117">PTL_RPC_FL_TIMEOUT</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga193cc5955f0b02b74eda762a7fe7ab05">REQ_MAX_ACK_LOCKS</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2d55f86d607f2386cec08e37daa7ce67">RS_MAX_LOCKS</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum number of locks to fit into reply state.  <a href="#ga2d55f86d607f2386cec08e37daa7ce67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga107a0dc89278a5fa763fa802d8943c51">RS_DEBUG</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4a02f006a097fc5c4f7da0fe2ee8f763">rq_bulk</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_bulk</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">client request member alias  <a href="#ga4a02f006a097fc5c4f7da0fe2ee8f763"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga9d9c34968982339330a987fed9d607c5">rq_delay_limit</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_delay_limit</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5ba1a1449da0935a71803b0119aa5821">rq_queued_time</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_queued_time</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga444c0b4670f0bdb9bec6cf62c88bf815">rq_sent_tv</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_sent_tv</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa9fb935c2a6cfc5cc0633cbfa8e0059c">rq_real_sent</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_sent_out</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad92d8fece9ae0bc064cffe9f29ebb58a">rq_reply_deadline</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_deadline</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga9a3aced83b8099658d3fcd2575917545">rq_bulk_deadline</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_bulk_deadline</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae93bda6757ee4aa06739faf9ba481292">rq_nr_resend</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_resend_nr</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa29a817016207b9b9a73d5280dc98785">rq_request_portal</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_req_ptl</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7b35b9e672d0815c98c90744a974e0fd">rq_reply_portal</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_rep_ptl</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gabd13173c467193f92437df63e96243a6">rq_import_generation</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_imp_gen</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac5196aa2a46336b5a6e9ca2f24574556">rq_send_state</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_send_state</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gabfd771a992570154c4e73515249dcd07">rq_set_chain</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_set_chain</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga260bae7d8e2e57b19fa5c10b3431fd3a">rq_ctx_chain</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_ctx_chain</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6029c7d984fb697afe175a22a0db561a">rq_set</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_set</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab0ad4e49bf7a15d898a8adf3232a2296">rq_set_waitq</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_set_waitq</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7a6f69e4eaf87b4ca4325297c57003e0">rq_cli_ctx</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_cli_ctx</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa2d5d03805a7f64b890c4908f134ae03">rq_req_md_h</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_req_md_h</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7393772a0fab787b31b47b88a6c46699">rq_req_cbid</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_req_cbid</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8ed9127b2ba7b8bad5e4a61f7b3b437d">rq_reply_md_h</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_md_h</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae124821a8b96d1bcb852adf7f3260749">rq_reply_waitq</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_waitq</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaebd30d82a1f9ba76415ccb0d8a0305af">rq_reply_cbid</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_cbid</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gabbdf7e18aa80cda2d76ec721eb5ee9de">rq_interpret_reply</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_interp</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac5780584dd0147f19146bfaafac2ab6c">rq_resend_cb</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_resend_cb</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga18f45126e72f2e66a52df266e2247cfd">rq_async_args</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_async_args</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0b441d4d8961259f97a771fcb9cce42f">rq_cb_data</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_cb_data</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf3015a78a5f6445df6147ecb92a5db36">rq_unreplied_list</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_unreplied_list</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab31576d9718505a24cae616b37fbebdb">rq_commit_cb</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_commit_cb</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6a5d664562476237852261beca3ad137">rq_replay_cb</a>&nbsp;&nbsp;&nbsp;rq_cli.cr_replay_cb</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2add693a51a7d38acaced35e27bdc861">rq_svc_thread</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_svc_thread</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">server request member alias  <a href="#ga2add693a51a7d38acaced35e27bdc861"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacc0944ef09687a9201caa304a2fd3df7">rq_timed_list</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_timed_list</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga065abc2354b8e9dbc0b029924d8097d8">rq_exp_list</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_exp_list</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2a45b03f5ec0266755273e5df8c368e4">rq_history_list</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_hist_list</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga689598ddfa8c58809fbcde6208a045cd">rq_history_seq</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_hist_seq</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8e73b5ff48a1bd26cc3728e59c7bc4d0">rq_at_index</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_at_index</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2ed6c8bebdf3ff9e12e82ccb6ffd8773">rq_auth_uid</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_auth_uid</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga500b12cb611e13a6bc2490af0f864176">rq_auth_mapped_uid</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_auth_mapped_uid</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1e62fe7162ef90540262c1f8bc43e909">rq_sp_from</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_sp_from</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga39b8ab55f7009414e7eda35c24322fed">rq_session</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_ses</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga688ee7185a479edf36de5b9313563ad1">rq_nrq</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_nrq</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa824576728341fb0354931d5897bc7f7">rq_arrival_time</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_arrival_time</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0b70d095a2065c3544bdc6725ea690d8">rq_reply_state</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_reply_state</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga49196d810b2839d9156bfc7177339dbb">rq_svc_ctx</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_svc_ctx</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6a258cad4a3ee6de482ca2d021d2fa8e">rq_user_desc</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_user_desc</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga181db0d552d641a21c1664c6c17e1a78">rq_ops</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_ops</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0072c0a48cd4c776e94dac6eab282d2e">rq_rqbd</a>&nbsp;&nbsp;&nbsp;rq_srv.sr_rqbd</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga276fb42e2ae30a776be3e2ca52e1c639">GET_KIOV</a>(desc)&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kiov.bd_vec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab52fff79731198f0294f477ef3ccddcc">BD_GET_KIOV</a>(desc, i)&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kiov.bd_vec[i])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga9a3c902c301b0b12cc40da5114a1a149">GET_ENC_KIOV</a>(desc)&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kiov.bd_enc_vec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5baa8a2e70b353ac8b84a4e4da0569a4">BD_GET_ENC_KIOV</a>(desc, i)&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kiov.bd_enc_vec[i])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga93c531cfacf63d7648b1b721a303ae18">GET_KVEC</a>(desc)&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kvec.bd_kvec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1e243fefd309d6957a22fb18abbc771f">BD_GET_KVEC</a>(desc, i)&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kvec.bd_kvec[i])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa0a201cc3605a702ee388ddacfced386">GET_ENC_KVEC</a>(desc)&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kvec.bd_enc_kvec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5746331f6d15148a4f3ed22ca6fe595d">BD_GET_ENC_KVEC</a>(desc, i)&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kvec.bd_enc_kvec[i])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacc35cc21ab702063983586056094d6c3">PTLRPC_THR_NAME_LEN</a>&nbsp;&nbsp;&nbsp;32</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4f4d7f4b592db13b248e9f0973608f71">PTLRPC_SVC_HP_RATIO</a>&nbsp;&nbsp;&nbsp;10</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">How many high priority requests to serve before serving one normal priority request.  <a href="#ga4f4d7f4b592db13b248e9f0973608f71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gadfc88ea5f31c558c5e23cd0a999bd36d">ptlrpc_service_for_each_part</a>(part, i, svc)</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8ba8258387b636ab4e5695917aa2847d">set_interpreter_func</a> )(struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *, void *, int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga17aa5caeef85aa78f71add31bf7afbe1">set_producer_func</a> )(struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *, void *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga80bef25da5dad7e788b4427e8c5e7df6">ptlrpc_interpterer_t</a> )(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *arg, int rc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of request interpreter call-back.  <a href="#ga80bef25da5dad7e788b4427e8c5e7df6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacaae2164af2591db6b5e1d2b208cb6e7">ptlrpc_resend_cb_t</a> )(struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *arg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of request resend call-back.  <a href="#gacaae2164af2591db6b5e1d2b208cb6e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaafdde121d699c66fbef23b0a702d1cb0">svc_handler_t</a> )(struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0e456f0c28b52cad4b543eec9efa656a">rq_phase</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__net.html#gga0e456f0c28b52cad4b543eec9efa656aa860f74a93b851affbf69064ad3063614">RQ_PHASE_NEW</a> =  0xebc0de00, 
<a class="el" href="group__net.html#gga0e456f0c28b52cad4b543eec9efa656aa4daad5600a5b8bca306f3107fa22f9b0">RQ_PHASE_RPC</a> =  0xebc0de01, 
<a class="el" href="group__net.html#gga0e456f0c28b52cad4b543eec9efa656aadef7c88c2b9be8ba0daec4d1bc6c5fb0">RQ_PHASE_BULK</a> =  0xebc0de02, 
<a class="el" href="group__net.html#gga0e456f0c28b52cad4b543eec9efa656aa9f48f591c9f9032215c26eb2da589c87">RQ_PHASE_INTERPRET</a> =  0xebc0de03, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__net.html#gga0e456f0c28b52cad4b543eec9efa656aade4cc4a5d9abae94a06fca77e02ac001">RQ_PHASE_COMPLETE</a> =  0xebc0de04, 
<a class="el" href="group__net.html#gga0e456f0c28b52cad4b543eec9efa656aabec81f203879e57981756845de1d8831">RQ_PHASE_UNREGISTERING</a> =  0xebc0de05, 
<a class="el" href="group__net.html#gga0e456f0c28b52cad4b543eec9efa656aa8a4d9594e7b1144a3f674112580e4401">RQ_PHASE_UNDEFINED</a> =  0xebc0de06
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>RPC stages. </p>
 <a href="group__net.html#ga0e456f0c28b52cad4b543eec9efa656a">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa12ee6cf66eed14d31f5147477afd4348">PTLRPC_BULK_OP_ACTIVE</a> =  0x00000001, 
<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa2bf06601e84e5331d9ffb9a6064b8ec1">PTLRPC_BULK_OP_PASSIVE</a> =  0x00000002, 
<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa98eba9075d97087c1e4045e27dbcc575">PTLRPC_BULK_OP_PUT</a> =  0x00000004, 
<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa7cdb8b04883176b1a5ba530091a3d02d">PTLRPC_BULK_OP_GET</a> =  0x00000008, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befab18bf6178c5653987d6e83cbc88e081b">PTLRPC_BULK_BUF_KVEC</a> =  0x00000010, 
<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befabaa452223892ef095130445589233718">PTLRPC_BULK_BUF_KIOV</a> =  0x00000020, 
<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befaa1598107fe4601379268d5dcfca51ecb">PTLRPC_BULK_GET_SOURCE</a> =  PTLRPC_BULK_OP_PASSIVE | PTLRPC_BULK_OP_GET, 
<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa8b856d5ac35194a4ece56821a5f51678">PTLRPC_BULK_PUT_SINK</a> =  PTLRPC_BULK_OP_PASSIVE | PTLRPC_BULK_OP_PUT, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befad3718268b547f0e8fd544cf95d995d77">PTLRPC_BULK_GET_SINK</a> =  PTLRPC_BULK_OP_ACTIVE | PTLRPC_BULK_OP_GET, 
<a class="el" href="group__net.html#ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa86654ac2b65137967228f369ccf0bd5f">PTLRPC_BULK_PUT_SOURCE</a> =  PTLRPC_BULK_OP_ACTIVE | PTLRPC_BULK_OP_PUT
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br/>
&nbsp;&nbsp;<a class="el" href="group__net.html#gga9334a5b9057f32da96db9b5c6a045d67a93371c0e0bea3e5fad2bce495e27208c">SVC_STOPPED</a> =  1 &lt;&lt; 0, 
<a class="el" href="group__net.html#gga9334a5b9057f32da96db9b5c6a045d67a5ebda0e5982da48001134dbe2af8380c">SVC_STOPPING</a> =  1 &lt;&lt; 1, 
<a class="el" href="group__net.html#gga9334a5b9057f32da96db9b5c6a045d67acc1c5776026581be68cdaa44692575c8">SVC_STARTING</a> =  1 &lt;&lt; 2, 
<a class="el" href="group__net.html#gga9334a5b9057f32da96db9b5c6a045d67aa18622e2516bc2d9afa7677b9abcf5d8">SVC_RUNNING</a> =  1 &lt;&lt; 3, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__net.html#gga9334a5b9057f32da96db9b5c6a045d67af709988d4f168fa61689380f61c8f2d8">SVC_EVENT</a> =  1 &lt;&lt; 4, 
<a class="el" href="group__net.html#gga9334a5b9057f32da96db9b5c6a045d67a40ea6711c912ce18b1a61257fdb393fd">SVC_SIGNAL</a> =  1 &lt;&lt; 5
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaaa41ab709a4804427e6eb05360ebbed4">ptlrpcd_ctl_flags</a> { <a class="el" href="group__net.html#ggaaa41ab709a4804427e6eb05360ebbed4a895f6bfb71c0ef4b2dccbfad7483ce5c">LIOD_START</a> =  1 &lt;&lt; 0, 
<a class="el" href="group__net.html#ggaaa41ab709a4804427e6eb05360ebbed4af770daedef7de3eaf332a0ff9413462c">LIOD_STOP</a> =  1 &lt;&lt; 1, 
<a class="el" href="group__net.html#ggaaa41ab709a4804427e6eb05360ebbed4ad315ddb8cfd7bec02047607f28de70e2">LIOD_FORCE</a> =  1 &lt;&lt; 2, 
<a class="el" href="group__net.html#ggaaa41ab709a4804427e6eb05360ebbed4a5a3062cb119fabc0613a8b5dc2e7b75b">LIOD_RECOVERY</a> =  1 &lt;&lt; 3
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga64e833ef4ab5caaba3b4f829efa84635">ptlrpc_req_interpret</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int rc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Call completion handler for rpc if any, return it's status or original rc if there was no handler defined for this request.  <a href="#ga64e833ef4ab5caaba3b4f829efa84635"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga97210df2b7b859cbbab53473e6cfec93">lustre_req_swabbed</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, size_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 1 if request buffer at offset <em>index</em> was already swabbed.  <a href="#ga97210df2b7b859cbbab53473e6cfec93"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5f979a04012e6bbb25233e7580676f92">lustre_rep_swabbed</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, size_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 1 if request reply buffer at offset <em>index</em> was already swabbed.  <a href="#ga5f979a04012e6bbb25233e7580676f92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga63e57d4ee82cc1841fd1206a8aa2c911">ptlrpc_req_need_swab</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 1 if request needs to be swabbed into local cpu byteorder.  <a href="#ga63e57d4ee82cc1841fd1206a8aa2c911"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0b3a5500b0280eeb94b4ff22212350b6">ptlrpc_rep_need_swab</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 1 if request reply needs to be swabbed into local cpu byteorder.  <a href="#ga0b3a5500b0280eeb94b4ff22212350b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga22d3ca15bd8e1bb881b078fd04381ab0">lustre_set_req_swabbed</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, size_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mark request buffer at offset <em>index</em> that it was already swabbed.  <a href="#ga22d3ca15bd8e1bb881b078fd04381ab0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad4b6df694791481d94ff9f1ad1ea539b">lustre_set_rep_swabbed</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, size_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mark request reply buffer at offset <em>index</em> that it was already swabbed.  <a href="#gad4b6df694791481d94ff9f1ad1ea539b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga53dd8d5d7bc91b056abbd7318609976e">ptlrpc_phase2str</a> (enum <a class="el" href="group__net.html#ga0e456f0c28b52cad4b543eec9efa656a">rq_phase</a> phase)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert numerical request phase value <em>phase</em> into text string description.  <a href="#ga53dd8d5d7bc91b056abbd7318609976e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5cc1d131e275c54814e06c044f44755e">ptlrpc_rqphase2str</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert numerical request phase of the request <em>req</em> into text stringi description.  <a href="#ga5cc1d131e275c54814e06c044f44755e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaebe452a5424fa03e2e932e8ec7b16d3f">ptlrpc_is_bulk_op_get</a> (enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa52d8a2d413867d8d6af5e54a1935696">ptlrpc_is_bulk_get_source</a> (enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad0ac3e31bd9d66116562aad8d05e4929">ptlrpc_is_bulk_put_sink</a> (enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga012118bc6aa8fbd8c9522fc13c3a4226">ptlrpc_is_bulk_get_sink</a> (enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga12fbac472b5ecb9aff8424d57d670420">ptlrpc_is_bulk_put_source</a> (enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga798de649e619bbf6847e2d33c49d2027">ptlrpc_is_bulk_desc_kvec</a> (enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac67f44a3e69d1a64ba820b67100f2163">ptlrpc_is_bulk_desc_kiov</a> (enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8622ec2ae2d3c659f5b7895599837417">ptlrpc_is_bulk_op_active</a> (enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf49e1df90922c10b78a13cbe23915123">ptlrpc_is_bulk_op_passive</a> (enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaec8b465b4bb6d97b87d597afe2ba0b03">thread_is_init</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac107250eb869d663ca69b6d55e82f88a">thread_is_stopped</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab9dc73a42ff1dc50fe192daad32492bf">thread_is_stopping</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga31c68adf3489642e7bf76bb5b4abfbdd">thread_is_starting</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaffc015271d06f10519beec5a816506dc">thread_is_running</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga576c24af9f4ee9148ea07a61188b0eae">thread_is_event</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2cce4149adf853d96f7b49bb3c4109ff">thread_is_signal</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga17ef66e44dcebdbce9887a789d7d49a5">thread_clear_flags</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac9155681f0a7c308f32b1ad731fbfbab">thread_set_flags</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8a23b28e06b7f07c966d3e1b3eb321ba">thread_add_flags</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6680441202a3c1ee5af2af17249953ca">thread_test_and_clear_flags</a> (struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *<a class="el" href="obd_8c.html#a20057145635eb007e0621c11bc2d7176">thread</a>, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1907465565bda3ff642311e407d9be83">ptlrpc_uuid_to_peer</a> (struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>, <a class="el" href="structlnet__process__id__t.html">lnet_process_id_t</a> *peer, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> *self)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1cbaf87598b1c623226f8771cf7e82d6">ptlrpc_connection_get</a> (<a class="el" href="structlnet__process__id__t.html">lnet_process_id_t</a> peer, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> self, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa3b5c9b0468396b8667672dd0704bb8c">ptlrpc_connection_put</a> (struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a> *c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaaa3230083ef959e91b7c71227975e373">ptlrpc_connection_addref</a> (struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga06134970ba769bb2fd1f9bdb0c367b6f">ptlrpc_connection_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga964f70e236fc46e71a001e138761c6a0">ptlrpc_connection_fini</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__lnet__addr.html#gafa13bf627f3dbcdec22141de051a61cd">lnet_pid_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga823ffa6488c25750f836f7c5ccdac8f0">ptl_get_pid</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacfc7db95b5c34170599725b0f098bc5c">ptlrpc_rqphase_move</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, enum <a class="el" href="group__net.html#ga0e456f0c28b52cad4b543eec9efa656a">rq_phase</a> new_phase)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change request phase of <em>req</em> to <em>new_phase</em>.  <a href="#gacfc7db95b5c34170599725b0f098bc5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga566a3831c8fac00ba67275322fbf11c2">ptlrpc_client_early</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if request <em>req</em> got early reply and hard deadline is not met.  <a href="#ga566a3831c8fac00ba67275322fbf11c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga44aa63d34a500e80f33f66745e63f05d">ptlrpc_client_replied</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if we got real reply from server for this request.  <a href="#ga44aa63d34a500e80f33f66745e63f05d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa52dc72f7f0533062c66aa6da0d7ff81">ptlrpc_client_recv</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if request <em>req</em> is in process of receiving server reply.  <a href="#gaa52dc72f7f0533062c66aa6da0d7ff81"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gafb46c479ceada632e63d592ec030c6c4">ptlrpc_client_recv_or_unlink</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab914b9c1947f78f4640f248c2f58aa70">ptlrpc_client_wake_req</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga11a71176bed4a89e1fe277cb40762b3d">ptlrpc_rs_addref</a> (struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *rs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab1e93aadb37e3874a19d1ac7c582eacf">ptlrpc_rs_decref</a> (struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *rs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaaaac1ad8119782fe41d9f0a5cccec394">ptlrpc_req_drop_rs</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static __u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae80ca605f79ff4bac197ebb2b3fa91e0">lustre_request_magic</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae2f154336695905f3de7e74930d6fbb5">ptlrpc_req_get_repsize</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga19306b7aa0236edbf80934e6ea3daca9">ptlrpc_send_limit_expired</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6b5f5d7d0db25db9657ed6604d5f4e77">ptlrpc_no_resend</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6a27be8ed69a65dcb3c872cf7ee4f4f9">ptlrpc_server_get_timeout</a> (struct <a class="el" href="structptlrpc__service__part.html">ptlrpc_service_part</a> *svcpt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5ac91405a334f1027a50a6c5229a7637">ptlrpc_req2svc</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaaad7581ae130c00088e4d7c3f8df6d91">ptlrpc_pinger_suppress_pings</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gadf6c0a253a44e1a561d3650cafa0aeab">ptlrpcd_stop</a> (struct <a class="el" href="structptlrpcd__ctl.html">ptlrpcd_ctl</a> *pc, int force)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad8ef02e8c2a1c0621b003d24cd5975c4">ptlrpcd_free</a> (struct <a class="el" href="structptlrpcd__ctl.html">ptlrpcd_ctl</a> *pc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2acfae9e6349420190608a611125bb78">ptlrpcd_wake</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad8a1fd19f62cb6e52ee2b145c63f5dd1">ptlrpcd_add_req</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Requests that are added to the <a class="el" href="structptlrpcd.html">ptlrpcd</a> queue are sent via ptlrpcd_check-&gt;<a class="el" href="group__net.html#ga63613680c8953223c8efc4331656b11a" title="this sends any unsent RPCs in set and returns 1 if all are sent and no more replies...">ptlrpc_check_set()</a>.  <a href="#gad8a1fd19f62cb6e52ee2b145c63f5dd1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8786798db7200aeedbfe4cd0a855232f">ptlrpcd_add_rqset</a> (struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *set)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move all request from an existing request set to the <a class="el" href="structptlrpcd.html">ptlrpcd</a> queue.  <a href="#ga8786798db7200aeedbfe4cd0a855232f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2b4cdaf9bce76784e8efa1f9bda8c58b">ptlrpcd_addref</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga54a4bcf408e22400c741b530bbb8ec06">ptlrpcd_decref</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga483f32cf35c540381bf42ad5d39996dd">llog_origin_handle_open</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga355d1b7adee0199650bd610106fb01f1">llog_origin_handle_destroy</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8502b96b5f278d5bab2bfc3332c6d062">llog_origin_handle_prev_block</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga99484c789b25c3cb5c04ea01bd738704">llog_origin_handle_next_block</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacb61cb1b7710780fff85d3f0279428c5">llog_origin_handle_read_header</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga34e330a518ed1972949561b4df491aeb">llog_origin_handle_close</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__bulk__frag__ops.html">ptlrpc_bulk_frag_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1194825a0870adce9de4d05b19500152">ptlrpc_bulk_kiov_pin_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__bulk__frag__ops.html">ptlrpc_bulk_frag_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga687589e95f98270c665ebde62a874d03">ptlrpc_bulk_kiov_nopin_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__bulk__frag__ops.html">ptlrpc_bulk_frag_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga72925c5dcb81674f2d733fc975dc4748">ptlrpc_bulk_kvec_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlnet__handle__any__t.html">lnet_handle_eq_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga43d00a48fde2ab8cfdaf5417683e63c9">ptlrpc_eq_h</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structllog__operations.html">llog_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1ec29710aa0674b084aad4f32e96d428">llog_client_ops</a></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga83197c087490e096e36a4397091d0c3f">timeout_event</a> { <a class="el" href="group__net.html#gga83197c087490e096e36a4397091d0c3facb5f259729035601652a1d3046585fcd">TIMEOUT_GRANT</a> =  1
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Pinger API (client side only). </p>
 <a href="group__net.html#ga83197c087490e096e36a4397091d0c3f">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaad82b5875e63992cfb2e05f9b94fbc71">timeout_cb_t</a> )(struct <a class="el" href="structtimeout__item.html">timeout_item</a> *, void *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa7acffec98d1468d2ef76654aaccade4">_debug_req</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *data, const char *fmt,...) __attribute__((format(printf</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga888caf60135e2eecdef05fce1b2de9b6">request_out_callback</a> (<a class="el" href="structlnet__event__t.html">lnet_event_t</a> *ev)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">These callbacks are invoked by LNet when something happened to underlying buffer.  <a href="#ga888caf60135e2eecdef05fce1b2de9b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga447473f788164a63797ffd70d471499a">reply_in_callback</a> (<a class="el" href="structlnet__event__t.html">lnet_event_t</a> *ev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab3a1ba2f0cd4eab3b1a50cb7edbaf172">client_bulk_callback</a> (<a class="el" href="structlnet__event__t.html">lnet_event_t</a> *ev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gabc74b903a7097918d144a762599c02cb">request_in_callback</a> (<a class="el" href="structlnet__event__t.html">lnet_event_t</a> *ev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac80d5dea22a333f5aa859f2b57e84a8f">reply_out_callback</a> (<a class="el" href="structlnet__event__t.html">lnet_event_t</a> *ev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa1cf14602e33836d92101141c3a0d67d">ptlrpc_register_bulk</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Actual interfacing with LNet to put/get/register/unregister stuff.  <a href="#gaa1cf14602e33836d92101141c3a0d67d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaea9a5e62d5d55ace491db905c9a474f7">ptlrpc_unregister_bulk</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int async)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disconnect a bulk desc from the <a class="el" href="structnetwork.html">network</a>.  <a href="#gaea9a5e62d5d55ace491db905c9a474f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gabcc13aef8651264f012464de2f2f8161">ptlrpc_client_bulk_active</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga563a5d436790759334ba2a51f0dce12e">ptlrpc_send_reply</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send request reply from request <em>req</em> reply buffer.  <a href="#ga563a5d436790759334ba2a51f0dce12e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad40cbc28d0a901fa44135d66e595602d">ptlrpc_reply</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac2a8de93c376592370228d10fd94761d">ptlrpc_send_error</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int difficult)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For request <em>req</em> send an error reply back.  <a href="#gac2a8de93c376592370228d10fd94761d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab9ee87b413f0ce1ea5589d233011a30c">ptlrpc_error</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa4ddbc1d6aa868710ab5c137a2e029e2">ptlrpc_at_get_net_latency</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga52f0aef010b62759e4c2f9e6ef6aea3d">ptl_send_rpc</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *request, int noreply)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send request <em>request</em>.  <a href="#ga52f0aef010b62759e4c2f9e6ef6aea3d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf7557fc8aa34bbf889ee11612ece2315">ptlrpc_register_rqbd</a> (struct <a class="el" href="structptlrpc__request__buffer__desc.html">ptlrpc_request_buffer_desc</a> *rqbd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register request buffer descriptor for request receiving.  <a href="#gaf7557fc8aa34bbf889ee11612ece2315"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacab48d448ba12ade8093383e054814cc">ptlrpc_request_committed</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int force)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Client-side portals API.  <a href="#gacab48d448ba12ade8093383e054814cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8274d1c6229aa8679c30551cc4768778">ptlrpc_init_client</a> (int req_portal, int rep_portal, char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structptlrpc__client.html">ptlrpc_client</a> *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize passed in client structure <em>cl</em>.  <a href="#ga8274d1c6229aa8679c30551cc4768778"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1b758fc8a90798b7f3f82ad51ed8b518">ptlrpc_cleanup_client</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac16251a340153c3059c8727b8b39d400">ptlrpc_uuid_to_connection</a> (struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return PortalRPC connection for remore uud <em>uuid</em>.  <a href="#gac16251a340153c3059c8727b8b39d400"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga003cd2f0c09fd578821500e8084f8c48">ptlrpc_queue_wait</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send request and wait until it completes.  <a href="#ga003cd2f0c09fd578821500e8084f8c48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gafd4a53f20e90893d5ae03f1996ecb2fc">ptlrpc_replay_req</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepares and queues request for replay.  <a href="#gafd4a53f20e90893d5ae03f1996ecb2fc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga469a6dc4c139ecc1ab2fd3562c693986">ptlrpc_restart_req</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaebf74d120543fbad3a68316dc1a5c97c">ptlrpc_abort_inflight</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Aborts all in-flight request on import <em>imp</em> sending and delayed lists.  <a href="#gaebf74d120543fbad3a68316dc1a5c97c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga01a4895dc2c01104ef9b4b6998d76729">ptlrpc_cleanup_imp</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gacf9a01538061117dbbb8787fb7b81b77">ptlrpc_abort_set</a> (struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *set)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Abort all uncompleted requests in request set <em>set</em>.  <a href="#gacf9a01538061117dbbb8787fb7b81b77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7e29af1c85aba7368cea369f091d09b4">ptlrpc_prep_set</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate and initialize new request set structure on the current CPT.  <a href="#ga7e29af1c85aba7368cea369f091d09b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2d9ff5fa185af154f37c364df7b5c4cc">ptlrpc_prep_fcset</a> (int <a class="el" href="lnet_2utils_2debug_8c.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>, <a class="el" href="group__net.html#ga17aa5caeef85aa78f71add31bf7afbe1">set_producer_func</a> func, void *arg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate and initialize new request set structure with flow control extension.  <a href="#ga2d9ff5fa185af154f37c364df7b5c4cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad92b893a7fb440c2f0eed3ce0e79f6af">ptlrpc_set_add_cb</a> (struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *set, <a class="el" href="group__net.html#ga8ba8258387b636ab4e5695917aa2847d">set_interpreter_func</a> fn, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a callback function <em>fn</em> to the set.  <a href="#gad92b893a7fb440c2f0eed3ce0e79f6af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga63613680c8953223c8efc4331656b11a">ptlrpc_check_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *set)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">this sends any unsent RPCs in <em>set</em> and returns 1 if all are sent and no more replies are expected.  <a href="#ga63613680c8953223c8efc4331656b11a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac072432ff0e3366be99c8456895e28d1">ptlrpc_set_wait</a> (struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send all unset request from the set and then wait untill all requests in the set complete (either get a reply, timeout, get an error or otherwise be interrupted).  <a href="#gac072432ff0e3366be99c8456895e28d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf50ebcc46ea5f7316c23362915fd5ce7">ptlrpc_mark_interrupted</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets rq_intr flag in <em>req</em> under spinlock.  <a href="#gaf50ebcc46ea5f7316c23362915fd5ce7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga862d0349489e1b216f7b1be96ac3baf8">ptlrpc_set_destroy</a> (struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wind down and free request set structure previously allocated with ptlrpc_prep_set.  <a href="#ga862d0349489e1b216f7b1be96ac3baf8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5da56461932d974b4c2487f179d8e6d8">ptlrpc_set_add_req</a> (struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a new request to the general purpose request set.  <a href="#ga5da56461932d974b4c2487f179d8e6d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1b3e3fff15de45e0042c071e5bb806f4">ptlrpc_free_rq_pool</a> (struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wind down request pool <em>pool</em>.  <a href="#ga1b3e3fff15de45e0042c071e5bb806f4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga07d19311543ebd57e6514926b08ddd08">ptlrpc_add_rqs_to_pool</a> (struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *pool, int num_rq)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocates, initializes and adds <em>num_rq</em> requests to the pool <em>pool</em>.  <a href="#ga07d19311543ebd57e6514926b08ddd08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga297dfeefaa23e0c6265ca8c0ad81e818">ptlrpc_init_rq_pool</a> (int, int, int(*populate_pool)(struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *, int))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create and initialize new request pool with given attributes: <em>num_rq</em> - initial number of requests to create for the pool <em>msgsize</em> - maximum message size possible for requests in thid pool <em>populate_pool</em> - function to be called when more requests need to be added to the pool Returns pointer to newly created pool or NULL on error.  <a href="#ga297dfeefaa23e0c6265ca8c0ad81e818"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga476170376a6f1bb9bb7f85ade4c774f7">ptlrpc_at_set_req_timeout</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set server timelimit for this req, i.e.  <a href="#ga476170376a6f1bb9bb7f85ade4c774f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2bf080a905f488f676248838514e264a">ptlrpc_request_alloc</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, const struct <a class="el" href="structreq__format.html">req_format</a> *format)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate new request structure for import <em>imp</em> and initialize its buffer structure according to capsule template <em>format</em>.  <a href="#ga2bf080a905f488f676248838514e264a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0aa209ecf9cb734df89fec89a61d00a1">ptlrpc_request_alloc_pool</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *, const struct <a class="el" href="structreq__format.html">req_format</a> *format)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate new request structure for import <em>imp</em> from pool <em>pool</em> and initialize its buffer structure according to capsule template <em>format</em>.  <a href="#ga0aa209ecf9cb734df89fec89a61d00a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga35e91945e5dfe7314c1b31519907929f">ptlrpc_request_free</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For requests not from pool, free memory of the request structure.  <a href="#ga35e91945e5dfe7314c1b31519907929f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa1d6f5834629cf755c8f1f0b1a4349de">ptlrpc_request_pack</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *request, __u32 <a class="el" href="mount__lustre_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>, int opcode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pack request buffers for <a class="el" href="structnetwork.html">network</a> transfer, performing necessary encryption steps if necessary.  <a href="#gaa1d6f5834629cf755c8f1f0b1a4349de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac578ffdc47c9c2141c34c4798a55cce4">ptlrpc_request_alloc_pack</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, const struct <a class="el" href="structreq__format.html">req_format</a> *format, __u32 <a class="el" href="mount__lustre_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>, int opcode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate new request for operatione <em>opcode</em> and immediatelly pack it for <a class="el" href="structnetwork.html">network</a> transfer.  <a href="#gac578ffdc47c9c2141c34c4798a55cce4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae057f78231e03c194800fb70734b7ad2">ptlrpc_request_bufs_pack</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *request, __u32 <a class="el" href="mount__lustre_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>, int opcode, char **bufs, struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf16bb640b9f0c667d79b7254ac965288">ptlrpc_req_finished</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drops one reference count for a request.  <a href="#gaf16bb640b9f0c667d79b7254ac965288"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac030d75f1b39211b69e4974fc328669d">ptlrpc_req_finished_with_imp_lock</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drop one request reference.  <a href="#gac030d75f1b39211b69e4974fc328669d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga60499b3efd5caf2e7bc59c308332aff3">ptlrpc_request_addref</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Grab additional reference on a request <em>req</em>.  <a href="#ga60499b3efd5caf2e7bc59c308332aff3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga42ea756e2d84491e4b6ea2e53616d7cb">ptlrpc_prep_bulk_imp</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, unsigned nfrags, unsigned max_brw, unsigned int type, unsigned portal, const struct <a class="el" href="structptlrpc__bulk__frag__ops.html">ptlrpc_bulk_frag_ops</a> *ops)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepare bulk descriptor for specified outgoing request <em>req</em> that can fit <em>nfrags</em> * pages.  <a href="#ga42ea756e2d84491e4b6ea2e53616d7cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2ce5ef3b8b47e511c659611f9535f1f7">ptlrpc_prep_bulk_frag</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc, void *frag, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaaf3d6df55675560574b76a41836bdb2e">__ptlrpc_prep_bulk_page</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc, struct page *page, int pageoffset, int len, int pin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga34ac4dc2715f14d4891010e33629b9fb">ptlrpc_prep_bulk_page_pin</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc, struct page *page, int pageoffset, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gafd7d61cb543a40b625f20f0171772a1a">ptlrpc_prep_bulk_page_nopin</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc, struct page *page, int pageoffset, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga157357acf9f2b447ca5e49b108986e6c">ptlrpc_free_bulk</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *bulk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5e4203913d1d352c1a08cce1a3d6ab22">ptlrpc_release_bulk_page_pin</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab19a6a79b4d2b930671c35573be3d37a">ptlrpc_release_bulk_noop</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga74e4777d34c1f5305c03de9d365a6268">ptlrpc_retain_replayable_request</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a request to import replay_list.  <a href="#ga74e4777d34c1f5305c03de9d365a6268"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf2442fe17f822101d45881701da27f40">ptlrpc_next_xid</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increase xid and returns resulting new value to the caller.  <a href="#gaf2442fe17f822101d45881701da27f40"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac08edd7ffd185c9f01d010fa5da16fd3">ptlrpc_sample_next_xid</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a glimpse at what next xid value might have been.  <a href="#gac08edd7ffd185c9f01d010fa5da16fd3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga283d8a396288df3e34efd571d9d30018">ptlrpc_req_xid</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *request)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns xid of a <em>request</em>.  <a href="#ga283d8a396288df3e34efd571d9d30018"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga56ad09ae5c5df58c7555e7299dc02108">ptlrpcd_alloc_work</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, int(*cb)(const struct <a class="el" href="structlu__env.html">lu_env</a> *, void *), void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a work for ptlrpc.  <a href="#ga56ad09ae5c5df58c7555e7299dc02108"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4f31480e3a6bf61fb70da03169ffef2c">ptlrpcd_destroy_work</a> (void *handler)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga796a1313cf9a7e633831e831a6f217da">ptlrpcd_queue_work</a> (void *handler)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga686ce1d3f4b5ce9b59e59136cb6b265c">ptlrpc_save_lock</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lock, int <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, int no_ack)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Server-side services API.  <a href="#ga686ce1d3f4b5ce9b59e59136cb6b265c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1c4d3548ace7c49c820adf3d6610f7a8">ptlrpc_commit_replies</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac133162c229195f6e9479dd79aac6473">ptlrpc_dispatch_difficult_reply</a> (struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *rs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put reply state into a queue for processing because we received ACK from the client.  <a href="#gac133162c229195f6e9479dd79aac6473"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga9ab523a4b395599275d00e72079b51f9">ptlrpc_schedule_difficult_reply</a> (struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *rs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6539e422ce487ae5c6cdeb3855ffdc96">ptlrpc_hpreq_handler</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga13835bf69545de9744051ff7ef02a4c3">ptlrpc_register_service</a> (struct <a class="el" href="structptlrpc__service__conf.html">ptlrpc_service_conf</a> *conf, struct proc_dir_entry *proc_entry)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize service on a given portal.  <a href="#ga13835bf69545de9744051ff7ef02a4c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga59db7fb30a02fd79e28791330f99fb3c">ptlrpc_stop_all_threads</a> (struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *svc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stops all threads of a particular service <em>svc</em>.  <a href="#ga59db7fb30a02fd79e28791330f99fb3c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae98dcdbb3ab34d8e067f6caf336c9d31">ptlrpc_start_threads</a> (struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *svc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2f7edc9d9d00fa395262051c0f9fc855">ptlrpc_unregister_service</a> (struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *<a class="el" href="o2iblnd__modparams_8c.html#a00f09e31c707a86ebc6b0cf74e934633">service</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga90dec4ae9fc60a0730d7675e6618229b">liblustre_check_services</a> (void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga04c970ca262e5df3786559bd7927b319">ptlrpc_daemonize</a> (char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7bc966179d16fa5e27e45a95523b0386">ptlrpc_service_health_check</a> (struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga45bbc99a8cb3940b830d5ac581cd2f10">ptlrpc_server_drop_request</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">drop a reference count of the request.  <a href="#ga45bbc99a8cb3940b830d5ac581cd2f10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaedae07eef44eef7ce7d1b0cfe437804f">ptlrpc_request_change_export</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, struct <a class="el" href="structobd__export.html">obd_export</a> *export)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change request export and move hp request from old export to new.  <a href="#gaedae07eef44eef7ce7d1b0cfe437804f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga3b962a1b6e534a49a4848336555d1d89">ptlrpc_update_export_timer</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp, long extra_delay)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function makes sure dead exports are evicted in a timely manner.  <a href="#ga3b962a1b6e534a49a4848336555d1d89"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga47eab7558ff3a05ad0bd51901e737849">ptlrpc_hr_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga48bcd41298dc75aed55d30b850d28c26">ptlrpc_hr_fini</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae524031a54066bf23dda2ad572bbcfdf">ptlrpc_connect_import</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Import API.  <a href="#gae524031a54066bf23dda2ad572bbcfdf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4197d19954bc0ced2fd5063ce62b9373">ptlrpc_init_import</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab498b6deeff2988de567a762bcb6e9ad">ptlrpc_disconnect_import</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, int noclose)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae24ff0ea3f19794b41cb4da94ffa9ce2">ptlrpc_import_recovery_state_machine</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the state machine for client-side recovery on import.  <a href="#gae24ff0ea3f19794b41cb4da94ffa9ce2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7c5dee1feb43474335f9a79fa06e173f">deuuidify</a> (char *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>, const char *prefix, char **uuid_start, int *uuid_len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6ad1e58ff4d334ea76093692cc976932">ptlrpc_import_enter_resend</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8143184eaf22d5624ea42473dd4e8acc">ptlrpc_reconnect_import</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa22239843a54a1577998de2a44fd8af7">ptlrpc_buf_need_swab</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, const int inout, __u32 index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ptlrpc msg buffer and swab interface  <a href="#gaa22239843a54a1577998de2a44fd8af7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6920d79557ab62c16abd7c03d5f27ed7">ptlrpc_buf_set_swabbed</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, const int inout, __u32 index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga39ce8a4b0728469e0174c3aa68fd381e">ptlrpc_unpack_rep_msg</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga880aa3ea008857e45135398b11077193">ptlrpc_unpack_req_msg</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac7a9b2c131fb724a634b28295311e90d">lustre_msg_check_version</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 <a class="el" href="mount__lustre_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga675f94ce12272868d6f12b98ee1def0d">lustre_init_msg_v2</a> (struct <a class="el" href="structlustre__msg__v2.html">lustre_msg_v2</a> *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, int count, __u32 *lens, char **bufs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaaf9e68de9b741fc678c0427fd15a9763">lustre_pack_request</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *, __u32 magic, int count, __u32 *lens, char **bufs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga931e9c4b5f584f4101c94dfcd3462c5f">lustre_pack_reply</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *, int count, __u32 *lens, char **bufs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga33e4ff610e2b182cd78c74131c847cb0">lustre_pack_reply_v2</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int count, __u32 *lens, char **bufs, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga59c89b28811f4f38f28b2b7d339797f6">lustre_pack_reply_flags</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *, int count, __u32 *lens, char **bufs, int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2e757694495c0c01d68d49b78c586125">lustre_shrink_msg</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, int segment, unsigned int newlen, int move_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga3f4bc7c975ca5f3f346d7869bb3f4091">lustre_free_reply_state</a> (struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *rs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0868ef692f15726090390fd3a1ae258d">__lustre_unpack_msg</a> (struct lustre_msg *m, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaff9112552bf89bd375921061a1dd2b85">lustre_msg_hdr_size</a> (__u32 magic, __u32 count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga32c4986e896273a264d87bbc5d28bc70">lustre_msg_size</a> (__u32 magic, int count, __u32 *lengths)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4a6268b0e3e950415cc3d4900b744f5d">lustre_msg_size_v2</a> (int count, __u32 *lengths)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga39c3c778d0a57ae7fa1d99ca0b9650f1">lustre_packed_msg_size</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0ec5cd43001c5914c7921da08598ba0c">lustre_msg_early_size</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac7dfe0f3f8a3973f5b2c2853454dcde6">lustre_msg_buf_v2</a> (struct <a class="el" href="structlustre__msg__v2.html">lustre_msg_v2</a> *m, __u32 n, __u32 min_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf86387935cc1ebf32b6befd3c486f9d1">lustre_msg_buf</a> (struct lustre_msg *m, __u32 n, __u32 minlen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8ddfe4bfdb34b2159b8281fb3c6e09a4">lustre_msg_buflen</a> (struct lustre_msg *m, __u32 n)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">lustre_msg_buflen - return the length of buffer <em>n</em> in message <em>m</em>  <a href="#ga8ddfe4bfdb34b2159b8281fb3c6e09a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa079849f1357fc2699237871d0531258">lustre_msg_set_buflen</a> (struct lustre_msg *m, __u32 n, __u32 len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6f44a8677c4acf578c772774ba0cf93e">lustre_msg_bufcount</a> (struct lustre_msg *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga330ed85a023a0002340a4ba73a1e808d">lustre_msg_string</a> (struct lustre_msg *m, __u32 n, __u32 max_len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gafa52f54de41c43cabe289cdaa7fedc1b">lustre_msghdr_get_flags</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga641c3578b5bba1f589b31f8b05a635bf">lustre_msghdr_set_flags</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7039633508af55679f204cff967f1879">lustre_msg_get_flags</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga680b03200ebe0b9e31464e5d5999091a">lustre_msg_add_flags</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gada3542d777501a1faceed38b584aacf0">lustre_msg_set_flags</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4407c10c8d31d9a5c3e6bedee6e1bde0">lustre_msg_clear_flags</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga6b9caf652e934e32217574de70f0ee18">lustre_msg_get_op_flags</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga936d750268a27c353fdd2ac940ab20c8">lustre_msg_add_op_flags</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad75d2dc265242a98676033489842e8c1">lustre_msg_get_handle</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga01d33f66f8a27c313cd4db66ea0bdbc6">lustre_msg_get_type</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga89d53cb5a8d4f00ed4c92a25969c444d">lustre_msg_get_version</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga066a801c595cf650dd7538bf3e8f773a">lustre_msg_add_version</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 <a class="el" href="mount__lustre_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga5889b19f527897c102df244998c9de02">lustre_msg_get_opc</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gae1e0c34642d37fbb79ad0decc534a802">lustre_msg_get_last_xid</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad697a66b5792cd2cd75bcf95f87d012b">lustre_msg_get_tag</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4ac5547cd6b69a63dd6232cf44428f11">lustre_msg_get_last_committed</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf4f241bad6b8f2477c2d1176835fa44f">lustre_msg_get_versions</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga9bedef213e170e969899bfab36bb8fb0">lustre_msg_get_transno</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga75b1983d0a0620bce67698d9c74606ce">lustre_msg_get_slv</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaee4ba63f57ed3b69dfa3d34d31c56fcb">lustre_msg_get_limit</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab04cac335854c3ed32f2d61d7ea8f20d">lustre_msg_set_slv</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> slv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaac6d72b5cde5803459955f9b39480b73">lustre_msg_set_limit</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> limit)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaaa6ef42a52d75cf87cb0b7834606093b">lustre_msg_get_status</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga8a5b544ffbfafa4fb89c592e719ac9e5">lustre_msg_get_conn_cnt</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga01eb6e83d9ebdde883ab568eb3f8dc27">lustre_msg_get_magic</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac8ece5ff148e7b332a8408646971193c">lustre_msg_get_timeout</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gace5ea0242057ff28a144714e38029efe">lustre_msg_get_service_time</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga31246dd9883e11558349659fa4d34162">lustre_msg_get_jobid</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab1fab96e53cfbe27a7634cde2fd6146e">lustre_msg_get_cksum</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga88b6efce1585cbc6a60b84006e486678">lustre_msg_get_mbits</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1f3e7b2437b921cd4173cc356084583b">lustre_msg_calc_cksum</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga9661a4e2ee3f8bb75a5512d9070903cd">lustre_msg_set_handle</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga69bbda1293ed3ddb76113eda09cd7e05">lustre_msg_set_type</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga340f5c94b8d8274c155dd269283a3bb5">lustre_msg_set_opc</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 opc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad22d60ce1da1272ccbdb640de0c4ab38">lustre_msg_set_last_xid</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> last_xid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga49511c8ab44ce45f0cb42052399a6a00">lustre_msg_set_tag</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u16 tag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga3c3a3ba4abbddaf007796fa6532a91ee">lustre_msg_set_last_committed</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> last_committed)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga3ae7fb0ee2a942e263d0b35929530d79">lustre_msg_set_versions</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *versions)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga3866ca9b0ab811a58b005c6459519b3a">lustre_msg_set_transno</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> transno)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7f9de05092069e96b6ec4932bcd138d1">lustre_msg_set_status</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 <a class="el" href="lustre__rsync_8c.html#a55591f17a60f597b63f070969c54fd6c">status</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga53b3384718936bcef0bce14187a7c379">lustre_msg_set_conn_cnt</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 conn_cnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga9ce11af085c01fdcf0a2f251b955eb47">ptlrpc_req_set_repsize</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int count, __u32 *sizes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gad6590c2ad5fda846f88583c0b8b3db24">ptlrpc_request_set_replen</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaeaac365936d81c960708510421690066">lustre_msg_set_timeout</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 <a class="el" href="o2iblnd__modparams_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4e3c3687a2b470bfea8a0093067e26f5">lustre_msg_set_service_time</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 service_time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga1c7457d1600c44342f8be69cb25a2646">lustre_msg_set_jobid</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, char *jobid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2da3c742415b9c88d9b8ad49211a0bfd">lustre_msg_set_cksum</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, __u32 <a class="el" href="o2iblnd__modparams_8c.html#a4f533d7ca3de0b7d7ecc95de785b4d2c">cksum</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga682a6cac8b98c3a8ad2122b3c887ca15">lustre_msg_set_mbits</a> (struct lustre_msg *<a class="el" href="multiop_8c.html#afbbc03d010d4a43d0dcc0ef3c41de5ec">msg</a>, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> mbits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac23b208e1210b2c91962b7616663569f">lustre_shrink_reply</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int segment, unsigned int newlen, int move_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf0a9d5804f5a6e154f8b10fe3136feea">ptlrpc_status_hton</a> (int h)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga82d561dae83ac80f5c8b1d2ba27c40b3">ptlrpc_status_ntoh</a> (int n)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gabcdaa31fdbdb87a69a06d19c43bbcda0">client_obd_setup</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obddev, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Target client logic.  <a href="#gabcdaa31fdbdb87a69a06d19c43bbcda0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga41252167a852a9399752defcf029083a">client_obd_cleanup</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obddev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab66008e96b57e399aaf8e48a351478f8">client_connect_import</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structobd__export.html">obd_export</a> **exp, struct <a class="el" href="structobd__device.html">obd_device</a> *obd, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *cluuid, struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *, void *localdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gab8ecd3b16250a80c377e9c9f7bfebfb8">client_disconnect_export</a> (struct <a class="el" href="structobd__export.html">obd_export</a> *exp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gace2253d15c74ffe28cf60ed3518258b2">client_import_add_conn</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>, int priority)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga770f58b91f82d4b373b35f2b11cdf5d0">client_import_del_conn</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0d66e2da6f0da4bb948be01b9719af5c">client_import_find_conn</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, <a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> peer, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find conn UUID by peer NID.  <a href="#ga0d66e2da6f0da4bb948be01b9719af5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga7f7cd84c38bd70963730d1338076a21d">import_set_conn_priority</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *<a class="el" href="llog__test_8c.html#aaa83f069991aa91e0383af81ef30f13f">uuid</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0e64772578519b8f2ed8c0bd50b0a3a1">client_destroy_import</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf4e44a48c2d9f37024987ae16f570ecc">ptlrpc_pinger_add_import</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga156e93f4ea3bc9fe2e6388558583b755">ptlrpc_pinger_del_import</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaafd0e5c4122b455302d4c8a8a67467bb">ptlrpc_add_timeout_client</a> (int time, enum <a class="el" href="group__net.html#ga83197c087490e096e36a4397091d0c3f">timeout_event</a> event, <a class="el" href="group__net.html#gaad82b5875e63992cfb2e05f9b94fbc71">timeout_cb_t</a> cb, void *data, struct <a class="el" href="structlist__head.html">list_head</a> *obd_list)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga43e79605481156aa499fd539a3e1265c">ptlrpc_del_timeout_client</a> (struct <a class="el" href="structlist__head.html">list_head</a> *obd_list, enum <a class="el" href="group__net.html#ga83197c087490e096e36a4397091d0c3f">timeout_event</a> event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa72b6cce8215496489a8e7e1a88b6c70">ptlrpc_prep_ping</a> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gace9ff93f7cc36086c18cea009c16fc25">ptlrpc_obd_ping</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga0d288501654fddca2fd757799fffd4cb">ping_evictor_start</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga599f2b96469b266065b3fd2fbe423ee1">ping_evictor_stop</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga62624c86802cf22df46e02590dd55951">ptlrpc_pinger_ir_up</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4b518fe4579064b2464f4bb8c4c59f33">ptlrpc_pinger_ir_down</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gac9b02b599f8ac342b03f25da53bcb168">ll_opcode2str</a> (__u32 opcode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">procfs output related functions  <a href="#gac9b02b599f8ac342b03f25da53bcb168"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2388f0ff66507905fb3c0ac36c35f6c1">ptlrpc_lprocfs_register_obd</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga3208c43b8f4b193e51ae286d291c26b7">ptlrpc_lprocfs_unregister_obd</a> (struct <a class="el" href="structobd__device.html">obd_device</a> *obd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga63caf1283071c28280ef2909aed2924f">ptlrpc_lprocfs_brw</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, int bytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gafd94724172cd311f5ce62102d91b8583">FLAG</a>(field, str)&nbsp;&nbsp;&nbsp;(field ? str : &quot;&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debugging functions and helpers to print request structure into debug log.  <a href="#gafd94724172cd311f5ce62102d91b8583"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaf155302427c8b1196ede7e7cd7e7d133">DEBUG_REQ_FLAGS</a>(req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert bit flags into a string.  <a href="#gaf155302427c8b1196ede7e7cd7e7d133"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga032f24555e4e11c57c079292ce89699a">REQ_FLAGS_FMT</a>&nbsp;&nbsp;&nbsp;&quot;%s:%s%s%s%s%s%s%s%s%s%s%s%s&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#gaa7f4f5cd9c831160823af2e141bca1c2">debug_req</a>(msgdata, mask, cdls, req, fmt, a...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper that decides if we need to print request accordig to current debug level settings.  <a href="#gaa7f4f5cd9c831160823af2e141bca1c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga2d5d1c7075b9387118d9356833e9abdf">DEBUG_REQ</a>(level, req, fmt, args...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the debug print function you need to use to print request sturucture content into lustre debug log.  <a href="#ga2d5d1c7075b9387118d9356833e9abdf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga478f052147cbdc94dbfba08da7f945fa">PTLRPC_REPLY_MAYBE_DIFFICULT</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga4223d4b654456d504d272bebd9ebba23">PTLRPC_REPLY_EARLY</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net.html#ga199fecbfb969a5e469f5f84fcffa12a4">LPRFL_EARLY_REPLY</a>&nbsp;&nbsp;&nbsp;1</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga7effbcacfc90f58c6e550e8441ee9b5d"></a><!-- doxytag: member="lustre_net.h::_OST_MAXREQSIZE_SUM" ref="ga7effbcacfc90f58c6e550e8441ee9b5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _OST_MAXREQSIZE_SUM</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">(<span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="group__lustreidl.html#ga89e700d146c2a3e6d25089bdf59fb0b9">lustre_msg</a>) + \
                             sizeof(struct <a class="code" href="group__lustreidl.html#ga56927184b0ee7605c8d10e55ee50da69">ptlrpc_body</a>) + \
                             sizeof(struct <a class="code" href="structobdo.html">obdo</a>) + \
                             sizeof(struct <a class="code" href="structobd__ioobj.html">obd_ioobj</a>) + \
                             sizeof(struct <a class="code" href="structniobuf__remote.html">niobuf_remote</a>) * <a class="code" href="group__net.html#ga1a54fcc98e16a4f9a812a2fa76cd5b20">DT_MAX_BRW_PAGES</a>)
</pre></div>
<p>OST_IO_MAXREQSIZE ~= lustre_msg + ptlrpc_body + <a class="el" href="structobdo.html">obdo</a> + <a class="el" href="structobd__ioobj.html">obd_ioobj</a> + DT_MAX_BRW_PAGES * <a class="el" href="structniobuf__remote.html">niobuf_remote</a>. </p>
<ul>
<li>single object with 16 pages is 512 bytes</li>
<li>OST_IO_MAXREQSIZE must be at least 1 page of cookies plus some spillover</li>
<li>Must be a multiple of 1024</li>
<li>actual size is about 18K </li>
</ul>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00480">480</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5baa8a2e70b353ac8b84a4e4da0569a4"></a><!-- doxytag: member="lustre_net.h::BD_GET_ENC_KIOV" ref="ga5baa8a2e70b353ac8b84a4e4da0569a4" args="(desc, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BD_GET_ENC_KIOV</td>
          <td>(</td>
          <td class="paramtype">desc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kiov.bd_enc_vec[i])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01487">1487</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="gss__krb5__mech_8c_source.html#l01486">gss_prep_bulk_kerberos()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01174">krb5_decrypt_bulk()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01054">krb5_encrypt_bulk()</a>, <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>, <a class="el" href="sec__bulk_8c_source.html#l00546">sptlrpc_enc_pool_get_pages()</a>, and <a class="el" href="sec__bulk_8c_source.html#l00678">sptlrpc_enc_pool_put_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5746331f6d15148a4f3ed22ca6fe595d"></a><!-- doxytag: member="lustre_net.h::BD_GET_ENC_KVEC" ref="ga5746331f6d15148a4f3ed22ca6fe595d" args="(desc, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BD_GET_ENC_KVEC</td>
          <td>(</td>
          <td class="paramtype">desc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kvec.bd_enc_kvec[i])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01491">1491</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>.</p>

</div>
</div>
<a class="anchor" id="gab52fff79731198f0294f477ef3ccddcc"></a><!-- doxytag: member="lustre_net.h::BD_GET_KIOV" ref="gab52fff79731198f0294f477ef3ccddcc" args="(desc, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BD_GET_KIOV</td>
          <td>(</td>
          <td class="paramtype">desc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kiov.bd_vec[i])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01485">1485</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00205">__ptlrpc_prep_bulk_page()</a>, <a class="el" href="sec__plain_8c_source.html#l00157">corrupt_bulk_data()</a>, <a class="el" href="gss__bulk_8c_source.html#l00168">gss_cli_ctx_unwrap_bulk()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01486">gss_prep_bulk_kerberos()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01174">krb5_decrypt_bulk()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01054">krb5_encrypt_bulk()</a>, <a class="el" href="sec__plain_8c_source.html#l00337">plain_cli_unwrap_bulk()</a>, <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>, <a class="el" href="lustre__net_8h_source.html#l02160">ptlrpc_release_bulk_page_pin()</a>, <a class="el" href="sec__bulk_8c_source.html#l00923">sptlrpc_get_bulk_checksum()</a>, <a class="el" href="tgt__handler_8c_source.html#l01757">tgt_checksum_bulk()</a>, and <a class="el" href="osc__page_8c_source.html#l00990">unstable_page_accounting()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1e243fefd309d6957a22fb18abbc771f"></a><!-- doxytag: member="lustre_net.h::BD_GET_KVEC" ref="ga1e243fefd309d6957a22fb18abbc771f" args="(desc, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BD_GET_KVEC</td>
          <td>(</td>
          <td class="paramtype">desc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kvec.bd_kvec[i])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01489">1489</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>, and <a class="el" href="client_8c_source.html#l00233">ptlrpc_prep_bulk_frag()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2d5d1c7075b9387118d9356833e9abdf"></a><!-- doxytag: member="lustre_net.h::DEBUG_REQ" ref="ga2d5d1c7075b9387118d9356833e9abdf" args="(level, req, fmt, args...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_REQ</td>
          <td>(</td>
          <td class="paramtype">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">req, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">args...&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                                          \
        <span class="keywordflow">if</span> ((level) &amp; (<a class="code" href="libcfs__debug_8h.html#af25fefaf5c55ce92d41da370dc9399c2">D_ERROR</a> | <a class="code" href="libcfs__debug_8h.html#acca9c9cff9837f6f3d2759b02a61ff1d">D_WARNING</a>)) {                                \
                <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcfs__debug__limit__state.html">cfs_debug_limit_state</a> cdls;                     \
                <a class="code" href="libcfs__debug_8h.html#ae8795a3168f0f1dfa49dfdad10e62e39">LIBCFS_DEBUG_MSG_DATA_DECL</a>(msgdata, level, &amp;cdls);            \
                <a class="code" href="group__net.html#gaa7f4f5cd9c831160823af2e141bca1c2" title="Helper that decides if we need to print request accordig to current debug level settings...">debug_req</a>(&amp;msgdata, level, &amp;cdls, req, <span class="stringliteral">&quot;@@@ &quot;</span>fmt<span class="stringliteral">&quot; &quot;</span>, ## args);\
        } <span class="keywordflow">else</span> {                                                              \
                <a class="code" href="libcfs__debug_8h.html#ae8795a3168f0f1dfa49dfdad10e62e39">LIBCFS_DEBUG_MSG_DATA_DECL</a>(msgdata, level, NULL);             \
                <a class="code" href="group__net.html#gaa7f4f5cd9c831160823af2e141bca1c2" title="Helper that decides if we need to print request accordig to current debug level settings...">debug_req</a>(&amp;msgdata, level, NULL, req, <span class="stringliteral">&quot;@@@ &quot;</span>fmt<span class="stringliteral">&quot; &quot;</span>, ## args); \
        }                                                                     \
} <span class="keywordflow">while</span> (0)
</pre></div>
<p>This is the debug print function you need to use to print request sturucture content into lustre debug log. </p>
<p>for most callers (level is a constant) this is resolved at compile time </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01302">1302</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l02389">__ptlrpc_free_req()</a>, <a class="el" href="client_8c_source.html#l02463">__ptlrpc_req_finished()</a>, <a class="el" href="layout_8c_source.html#l02067">__req_capsule_dump()</a>, <a class="el" href="layout_8c_source.html#l01995">__req_capsule_get()</a>, <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02138">ldlm_callback_errmsg()</a>, <a class="el" href="ldlm__request_8c_source.html#l01294">ldlm_cli_update_pool()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02095">ldlm_handle_setinfo()</a>, <a class="el" href="mdc__locks_8c_source.html#l00196">mdc_clear_replay_flag()</a>, <a class="el" href="mdc__request_8c_source.html#l00757">mdc_close()</a>, <a class="el" href="mdc__locks_8c_source.html#l00523">mdc_finish_enqueue()</a>, <a class="el" href="mdc__request_8c_source.html#l00716">mdc_free_open()</a>, <a class="el" href="mdc__reint_8c_source.html#l00350">mdc_rename()</a>, <a class="el" href="mdc__request_8c_source.html#l00574">mdc_replay_open()</a>, <a class="el" href="mdc__request_8c_source.html#l00652">mdc_set_open_replay_data()</a>, <a class="el" href="mdt__internal_8h_source.html#l00921">mdt_check_resent()</a>, <a class="el" href="mdt__handler_8c_source.html#l03215">mdt_intent_fixup_resent()</a>, <a class="el" href="mdt__reint_8c_source.html#l00436">mdt_md_create()</a>, <a class="el" href="mdt__handler_8c_source.html#l01806">mdt_reint_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l01098">mdt_reint_link()</a>, <a class="el" href="mdt__handler_8c_source.html#l01879">mdt_reint_opcode()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, <a class="el" href="mdt__reint_8c_source.html#l01833">mdt_reint_rename_internal()</a>, <a class="el" href="mdt__reint_8c_source.html#l00715">mdt_reint_setattr()</a>, <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00180">mdt_req_from_lrd()</a>, <a class="el" href="mdt__handler_8c_source.html#l01675">mdt_set_info()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00130">mdt_steal_ack_locks()</a>, <a class="el" href="mgs__handler_8c_source.html#l00499">mgs_config_read()</a>, <a class="el" href="mgs__handler_8c_source.html#l00340">mgs_target_reg()</a>, <a class="el" href="ofd__dev_8c_source.html#l01136">ofd_get_info_hdl()</a>, <a class="el" href="ofd__dev_8c_source.html#l02471">ofd_rw_hpreq_check()</a>, <a class="el" href="ofd__dev_8c_source.html#l00897">ofd_set_info_hdl()</a>, <a class="el" href="osc__request_8c_source.html#l01369">osc_brw_fini_request()</a>, <a class="el" href="osc__request_8c_source.html#l01518">osc_brw_redo_request()</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="osp__sync_8c_source.html#l00515">osp_sync_interpret()</a>, <a class="el" href="osp__sync_8c_source.html#l00966">osp_sync_process_committed()</a>, <a class="el" href="out__handler_8c_source.html#l00060">out_check_resent()</a>, <a class="el" href="tgt__handler_8c_source.html#l00607">process_req_last_xid()</a>, <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="client_8c_source.html#l03045">ptlrpc_abort_inflight()</a>, <a class="el" href="client_8c_source.html#l00421">ptlrpc_at_recv_early_reply()</a>, <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>, <a class="el" href="niobuf_8c_source.html#l00477">ptlrpc_at_set_reply()</a>, <a class="el" href="service_8c_source.html#l01117">ptlrpc_check_req()</a>, <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="client_8c_source.html#l01219">ptlrpc_check_status()</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, <a class="el" href="import_8c_source.html#l00984">ptlrpc_connect_interpret()</a>, <a class="el" href="client_8c_source.html#l02050">ptlrpc_expire_one_request()</a>, <a class="el" href="import_8c_source.html#l00612">ptlrpc_first_transno()</a>, <a class="el" href="client_8c_source.html#l02626">ptlrpc_free_committed()</a>, <a class="el" href="client_8c_source.html#l01120">ptlrpc_import_delay_req()</a>, <a class="el" href="import_8c_source.html#l00286">ptlrpc_invalidate_import()</a>, <a class="el" href="nrs_8c_source.html#l00861">ptlrpc_nrs_hpreq_add_nolock()</a>, <a class="el" href="pinger_8c_source.html#l00098">ptlrpc_ping()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, <a class="el" href="client_8c_source.html#l03006">ptlrpc_replay_req()</a>, <a class="el" href="client_8c_source.html#l02717">ptlrpc_resend_req()</a>, <a class="el" href="client_8c_source.html#l02742">ptlrpc_restart_req()</a>, <a class="el" href="client_8c_source.html#l02769">ptlrpc_retain_replayable_request()</a>, <a class="el" href="lustre__net_8h_source.html#l02428">ptlrpc_rqphase_move()</a>, <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>, <a class="el" href="service_8c_source.html#l01522">ptlrpc_server_check_resend_in_progress()</a>, <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>, <a class="el" href="service_8c_source.html#l01999">ptlrpc_server_handle_request()</a>, <a class="el" href="niobuf_8c_source.html#l00420">ptlrpc_unregister_bulk()</a>, <a class="el" href="client_8c_source.html#l02512">ptlrpc_unregister_reply()</a>, <a class="el" href="recover_8c_source.html#l00234">ptlrpc_wake_delayed()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="events_8c_source.html#l00091">reply_in_callback()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="events_8c_source.html#l00051">request_out_callback()</a>, <a class="el" href="sec_8c_source.html#l01130">sptlrpc_cli_unwrap_early_reply()</a>, <a class="el" href="sec_8c_source.html#l02017">sptlrpc_svc_check_from()</a>, <a class="el" href="ldlm__lib_8c_source.html#l02835">target_send_reply_msg()</a>, <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>, <a class="el" href="tgt__handler_8c_source.html#l00471">tgt_filter_recovery_request()</a>, <a class="el" href="tgt__handler_8c_source.html#l00514">tgt_handle_recovery()</a>, <a class="el" href="tgt__handler_8c_source.html#l00371">tgt_handle_request0()</a>, <a class="el" href="tgt__handler_8c_source.html#l00570">tgt_handler_find_check()</a>, <a class="el" href="tgt__handler_8c_source.html#l00839">tgt_init_sec_level()</a>, <a class="el" href="tgt__handler_8c_source.html#l00188">tgt_io_data_unpack()</a>, <a class="el" href="tgt__handler_8c_source.html#l00653">tgt_request_handle()</a>, and <a class="el" href="client_8c_source.html#l00397">unpack_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa7f4f5cd9c831160823af2e141bca1c2"></a><!-- doxytag: member="lustre_net.h::debug_req" ref="gaa7f4f5cd9c831160823af2e141bca1c2" args="(msgdata, mask, cdls, req, fmt, a...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define debug_req</td>
          <td>(</td>
          <td class="paramtype">msgdata, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mask, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cdls, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">req, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">a...&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                                          \
        <a class="code" href="linux_2libcfs_8h.html#ad2d0f10c02056c04ed00c3a1ef3ae20d">CFS_CHECK_STACK</a>(msgdata, mask, cdls);                                 \
                                                                              \
        <span class="keywordflow">if</span> (((mask) &amp; <a class="code" href="libcfs__debug_8h.html#a94445f8c6c04b952cef6e5d7a9b742dc">D_CANTMASK</a>) != 0 ||                                     \
            ((<a class="code" href="portals_8c.html#a4f752ad93077cbbc6e1c5d83cf4c828c">libcfs_debug</a> &amp; (mask)) != 0 &amp;&amp;                                  \
             (<a class="code" href="libcfs__debug_8h.html#a901cb3484172f0014bf86bdb683348b0">libcfs_subsystem_debug</a> &amp; <a class="code" href="fid__handler_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>) != 0))                \
                <a class="code" href="group__net.html#gaa7acffec98d1468d2ef76654aaccade4">_debug_req</a>((req), msgdata, fmt, ##a);                         \
} <span class="keywordflow">while</span>(0)
</pre></div>
<p>Helper that decides if we need to print request accordig to current debug level settings. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01288">1288</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaf155302427c8b1196ede7e7cd7e7d133"></a><!-- doxytag: member="lustre_net.h::DEBUG_REQ_FLAGS" ref="gaf155302427c8b1196ede7e7cd7e7d133" args="(req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_REQ_FLAGS</td>
          <td>(</td>
          <td class="paramtype">req&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="group__net.html#ga5cc1d131e275c54814e06c044f44755e" title="Convert numerical request phase of the request req into text stringi description...">ptlrpc_rqphase2str</a>(req),                                                \
        <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_intr, <span class="stringliteral">&quot;I&quot;</span>), <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_replied, <span class="stringliteral">&quot;R&quot;</span>),                    \
        <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_err, <span class="stringliteral">&quot;E&quot;</span>),                                                 \
        <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_timedout, <span class="stringliteral">&quot;X&quot;</span>) <span class="comment">/* eXpired */</span>, <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_resend, <span class="stringliteral">&quot;S&quot;</span>),   \
        <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_restart, <span class="stringliteral">&quot;T&quot;</span>), <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_replay, <span class="stringliteral">&quot;P&quot;</span>),                  \
        <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_no_resend, <span class="stringliteral">&quot;N&quot;</span>),                                           \
        <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_waiting, <span class="stringliteral">&quot;W&quot;</span>),                                             \
        <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_wait_ctx, <span class="stringliteral">&quot;C&quot;</span>), <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_hp, <span class="stringliteral">&quot;H&quot;</span>),                     \
        <a class="code" href="group__net.html#gafd94724172cd311f5ce62102d91b8583" title="Debugging functions and helpers to print request structure into debug log.">FLAG</a>(req-&gt;rq_committed, <span class="stringliteral">&quot;M&quot;</span>)
</pre></div>
<p>Convert bit flags into a string. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01267">1267</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l02392">_debug_req()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1a54fcc98e16a4f9a812a2fa76cd5b20"></a><!-- doxytag: member="lustre_net.h::DT_MAX_BRW_PAGES" ref="ga1a54fcc98e16a4f9a812a2fa76cd5b20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DT_MAX_BRW_PAGES&nbsp;&nbsp;&nbsp;(DT_MAX_BRW_SIZE &gt;&gt; PAGE_CACHE_SHIFT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00111">111</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l00907">osc_init_grant()</a>.</p>

</div>
</div>
<a class="anchor" id="ga42b91fc3e95a0fbbd654180940faa261"></a><!-- doxytag: member="lustre_net.h::DT_MAX_BRW_SIZE" ref="ga42b91fc3e95a0fbbd654180940faa261" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DT_MAX_BRW_SIZE&nbsp;&nbsp;&nbsp;PTLRPC_MAX_BRW_SIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00110">110</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l00164">client_common_fill_super()</a>, and <a class="el" href="echo__client_8c_source.html#l02744">echo_client_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gafd94724172cd311f5ce62102d91b8583"></a><!-- doxytag: member="lustre_net.h::FLAG" ref="gafd94724172cd311f5ce62102d91b8583" args="(field, str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLAG</td>
          <td>(</td>
          <td class="paramtype">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(field ? str : &quot;&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Debugging functions and helpers to print request structure into debug log. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01264">1264</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac06737cf90ac519d7b893a73c556e1d7"></a><!-- doxytag: member="lustre_net.h::FLD_BUFSIZE" ref="gac06737cf90ac519d7b893a73c556e1d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLD_BUFSIZE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 12)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00414">414</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga79a13640cdfd7899d81028fd45849e20"></a><!-- doxytag: member="lustre_net.h::FLD_MAXREPSIZE" ref="ga79a13640cdfd7899d81028fd45849e20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLD_MAXREPSIZE&nbsp;&nbsp;&nbsp;(152)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FLD_MAXREPSIZE == lustre_msg + ptlrpc_body. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00413">413</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gacc6001cafee4a86e6ce9e3c564300fba"></a><!-- doxytag: member="lustre_net.h::FLD_MAXREQSIZE" ref="gacc6001cafee4a86e6ce9e3c564300fba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLD_MAXREQSIZE&nbsp;&nbsp;&nbsp;(160)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FLD_MAXREQSIZE == lustre_msg + __u32 padding + ptlrpc_body + opc. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00410">410</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9a3c902c301b0b12cc40da5114a1a149"></a><!-- doxytag: member="lustre_net.h::GET_ENC_KIOV" ref="ga9a3c902c301b0b12cc40da5114a1a149" args="(desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_ENC_KIOV</td>
          <td>(</td>
          <td class="paramtype">desc&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kiov.bd_enc_vec)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01486">1486</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="gss__krb5__mech_8c_source.html#l01486">gss_prep_bulk_kerberos()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01174">krb5_decrypt_bulk()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01054">krb5_encrypt_bulk()</a>, <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>, <a class="el" href="sec__bulk_8c_source.html#l00546">sptlrpc_enc_pool_get_pages()</a>, and <a class="el" href="sec__bulk_8c_source.html#l00678">sptlrpc_enc_pool_put_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa0a201cc3605a702ee388ddacfced386"></a><!-- doxytag: member="lustre_net.h::GET_ENC_KVEC" ref="gaa0a201cc3605a702ee388ddacfced386" args="(desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_ENC_KVEC</td>
          <td>(</td>
          <td class="paramtype">desc&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kvec.bd_enc_kvec)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01490">1490</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>.</p>

</div>
</div>
<a class="anchor" id="ga276fb42e2ae30a776be3e2ca52e1c639"></a><!-- doxytag: member="lustre_net.h::GET_KIOV" ref="ga276fb42e2ae30a776be3e2ca52e1c639" args="(desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_KIOV</td>
          <td>(</td>
          <td class="paramtype">desc&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kiov.bd_vec)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01484">1484</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="gss__bulk_8c_source.html#l00168">gss_cli_ctx_unwrap_bulk()</a>, <a class="el" href="gss__bulk_8c_source.html#l00062">gss_cli_ctx_wrap_bulk()</a>, <a class="el" href="gss__bulk_8c_source.html#l00374">gss_svc_unwrap_bulk()</a>, <a class="el" href="gss__bulk_8c_source.html#l00451">gss_svc_wrap_bulk()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01801">gss_unwrap_bulk_kerberos()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01522">gss_wrap_bulk_kerberos()</a>, <a class="el" href="client_8c_source.html#l00257">ptlrpc_free_bulk()</a>, and <a class="el" href="client_8c_source.html#l00117">ptlrpc_new_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="ga93c531cfacf63d7648b1b721a303ae18"></a><!-- doxytag: member="lustre_net.h::GET_KVEC" ref="ga93c531cfacf63d7648b1b721a303ae18" args="(desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_KVEC</td>
          <td>(</td>
          <td class="paramtype">desc&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((desc)-&gt;bd_u.bd_kvec.bd_kvec)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01488">1488</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00257">ptlrpc_free_bulk()</a>, and <a class="el" href="client_8c_source.html#l00117">ptlrpc_new_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7394435c900a8c54f6b95170c88935e6"></a><!-- doxytag: member="lustre_net.h::LDLM_BL_THREADS" ref="ga7394435c900a8c54f6b95170c88935e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_BL_THREADS&nbsp;&nbsp;&nbsp;LDLM_NTHRS_AUTO_INIT</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00262">262</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga49bb95cb76972aaca8e816575cd02aca"></a><!-- doxytag: member="lustre_net.h::LDLM_BUFSIZE" ref="ga49bb95cb76972aaca8e816575cd02aca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_BUFSIZE&nbsp;&nbsp;&nbsp;(8 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00265">265</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6083e4e11e92c0e1899135e1ecb0d8e0"></a><!-- doxytag: member="lustre_net.h::LDLM_CLIENT_NBUFS" ref="ga6083e4e11e92c0e1899135e1ecb0d8e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_CLIENT_NBUFS&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00263">263</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gacff8051eb06c1171b24729b4bf074eda"></a><!-- doxytag: member="lustre_net.h::LDLM_MAXREPSIZE" ref="gacff8051eb06c1171b24729b4bf074eda" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_MAXREPSIZE&nbsp;&nbsp;&nbsp;(1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00267">267</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9e405949bcdca22d07e59f01c2a49472"></a><!-- doxytag: member="lustre_net.h::LDLM_MAXREQSIZE" ref="ga9e405949bcdca22d07e59f01c2a49472" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_MAXREQSIZE&nbsp;&nbsp;&nbsp;(5 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00266">266</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l00724">ldlm_req_handles_avail()</a>, and <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0a61d5a753e8c5c555e50e636722e399"></a><!-- doxytag: member="lustre_net.h::LDLM_NTHRS_BASE" ref="ga0a61d5a753e8c5c555e50e636722e399" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_NTHRS_BASE&nbsp;&nbsp;&nbsp;24</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00259">259</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga742311d34141ab6eaee328dfcc72b488"></a><!-- doxytag: member="lustre_net.h::LDLM_NTHRS_INIT" ref="ga742311d34141ab6eaee328dfcc72b488" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_NTHRS_INIT&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00258">258</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga46d108e558ab6d0e3198f65c876d1a81"></a><!-- doxytag: member="lustre_net.h::LDLM_NTHRS_MAX" ref="ga46d108e558ab6d0e3198f65c876d1a81" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_NTHRS_MAX&nbsp;&nbsp;&nbsp;(num_online_cpus() == 1 ? 64 : 128)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00260">260</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga799922177ad620208dc9b06071f692db"></a><!-- doxytag: member="lustre_net.h::LDLM_SERVER_NBUFS" ref="ga799922177ad620208dc9b06071f692db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_SERVER_NBUFS&nbsp;&nbsp;&nbsp;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00264">264</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3a944e6b359ce130537f3ab0efdd5a2a"></a><!-- doxytag: member="lustre_net.h::LDLM_THR_FACTOR" ref="ga3a944e6b359ce130537f3ab0efdd5a2a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDLM_THR_FACTOR&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Buffer Constants. </p>
<p>Constants determine how memory is used to buffer incoming service requests.</p>
<p>?_NBUFS # buffers to allocate when growing the pool ?_BUFSIZE # bytes in a single request buffer ?_MAXREQSIZE # maximum request service will receive</p>
<p>When fewer than ?_NBUFS/2 buffers are posted for receive, another chunk of ?_NBUFS is added to the pool.</p>
<p>Messages larger than ?_MAXREQSIZE are dropped. Request buffers are considered full when less than ?_MAXREQSIZE is left in them. Thread Constants Constants determine how threads are created for ptlrpc service.</p>
<p>?_NTHRS_INIT # threads to create for each service partition on initializing. If it's non-affinity service and there is only one partition, it's the overall # threads for the service while initializing. ?_NTHRS_BASE # threads should be created at least for each ptlrpc partition to keep the service healthy. It's the low-water mark of threads upper-limit for each partition. ?_THR_FACTOR # threads can be added on threads upper-limit for each CPU core. This factor is only for reference, we might decrease value of factor if number of cores per CPT is above a limit. ?_NTHRS_MAX # overall threads can be created for a service, it's a soft limit because if service is running on machine with hundreds of cores and tens of CPU partitions, we need to guarantee each partition has ?_NTHRS_BASE threads, which means total threads will be ?_NTHRS_BASE * number_of_cpts which can exceed ?_NTHRS_MAX.</p>
<p>Examples</p>
<p>define MDS_NTHRS_INIT 2 define MDS_NTHRS_BASE 64 define MDS_NTHRS_FACTOR 8 define MDS_NTHRS_MAX 1024</p>
<p>Example 1): --------------------------------------------------------------------- Server(A) has 16 cores, user configured it to 4 partitions so each partition has 4 cores, then actual number of service threads on each partition is: <a class="el" href="group__net.html#ga2efb8ac49c003b862962fb21e081518d">MDS_NTHRS_BASE(64)</a> + cores(4) * MDS_NTHRS_FACTOR(8) = 96</p>
<p>Total number of threads for the service is: 96 * partitions(4) = 384</p>
<p>Example 2): --------------------------------------------------------------------- Server(B) has 32 cores, user configured it to 4 partitions so each partition has 8 cores, then actual number of service threads on each partition is: <a class="el" href="group__net.html#ga2efb8ac49c003b862962fb21e081518d">MDS_NTHRS_BASE(64)</a> + cores(8) * MDS_NTHRS_FACTOR(8) = 128</p>
<p>Total number of threads for the service is: 128 * partitions(4) = 512</p>
<p>Example 3): --------------------------------------------------------------------- Server(B) has 96 cores, user configured it to 8 partitions so each partition has 12 cores, then actual number of service threads on each partition is: <a class="el" href="group__net.html#ga2efb8ac49c003b862962fb21e081518d">MDS_NTHRS_BASE(64)</a> + cores(12) * MDS_NTHRS_FACTOR(8) = 160</p>
<p>Total number of threads for the service is: 160 * partitions(8) = 1280</p>
<p>However, it's above the soft limit MDS_NTHRS_MAX, so we choose this number as upper limit of threads number for each partition: <a class="el" href="group__net.html#ga244fa4230dc897399f3dff88dda960ad">MDS_NTHRS_MAX(1024)</a> / partitions(8) = 128</p>
<p>Example 4): --------------------------------------------------------------------- Server(C) have a thousand of cores and user configured it to 32 partitions <a class="el" href="group__net.html#ga2efb8ac49c003b862962fb21e081518d">MDS_NTHRS_BASE(64)</a> * 32 = 2048</p>
<p>which is already above soft limit <a class="el" href="group__net.html#ga244fa4230dc897399f3dff88dda960ad">MDS_NTHRS_MAX(1024)</a>, but we still need to guarantee that each partition has at least <a class="el" href="group__net.html#ga2efb8ac49c003b862962fb21e081518d">MDS_NTHRS_BASE(64)</a> threads to keep service healthy, so total number of threads will just be 2048.</p>
<p>NB: we don't suggest to choose server with that many cores because backend filesystem itself, buffer cache, or underlying <a class="el" href="structnetwork.html">network</a> stack might have some SMP scalability issues at that large scale.</p>
<p>If user already has a fat machine with hundreds or thousands of cores, there are two choices for configuration: a) create CPU table from subset of all CPUs and run Lustre on top of this subset b) bind service threads on a few partitions, see modparameters of MDS and OSS for details</p>
<p>NB: these calculations (and examples below) are simplified to help understanding, the real implementation is a little more complex, please see <a class="el" href="service_8c.html#ac741a2591e6035bc09f137d7a799e811">ptlrpc_server_nthreads_check()</a> for details. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00257">257</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga199fecbfb969a5e469f5f84fcffa12a4"></a><!-- doxytag: member="lustre_net.h::LPRFL_EARLY_REPLY" ref="ga199fecbfb969a5e469f5f84fcffa12a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPRFL_EARLY_REPLY&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02316">2316</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00329">lustre_pack_reply_v2()</a>, and <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga61910e6afc32b8b9a825cafee843d10f"></a><!-- doxytag: member="lustre_net.h::MD_MAX_BRW_PAGES" ref="ga61910e6afc32b8b9a825cafee843d10f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MD_MAX_BRW_PAGES&nbsp;&nbsp;&nbsp;(MD_MAX_BRW_SIZE &gt;&gt; PAGE_CACHE_SHIFT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00109">109</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga54b813af48fd306d714dfe5d2dd9dcbe"></a><!-- doxytag: member="lustre_net.h::MD_MAX_BRW_SIZE" ref="ga54b813af48fd306d714dfe5d2dd9dcbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MD_MAX_BRW_SIZE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; LNET_MTU_BITS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00108">108</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l00164">client_common_fill_super()</a>, <a class="el" href="mdt__handler_8c_source.html#l05018">mdt_connect_internal()</a>, and <a class="el" href="osp__trans_8c_source.html#l00314">osp_prep_update_req()</a>.</p>

</div>
</div>
<a class="anchor" id="ga89120bf4c91617f84fb648d3445c4d0d"></a><!-- doxytag: member="lustre_net.h::MDS_BUFSIZE" ref="ga89120bf4c91617f84fb648d3445c4d0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_BUFSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="lnet_2utils_2debug_8c.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>(<a class="code" href="group__net.html#ga0925bdb5333dd708e0aa362a7b859f87" title="Assume file name length = FNAME_MAX = 256 (true for ext3).">MDS_MAXREQSIZE</a> + <a class="code" href="group__sptlrpc.html#ga3958409bc75b758e9e09796d7ca3925e">SPTLRPC_MAX_PAYLOAD</a>, \
                                    8 * 1024)
</pre></div>
<p>MDS_BUFSIZE = max_reqsize (w/o LOV EA) + max sptlrpc payload size. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00379">379</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga11a8ca7b7077906bf6d328588ec4dec4"></a><!-- doxytag: member="lustre_net.h::MDS_EA_MAXREQSIZE" ref="ga11a8ca7b7077906bf6d328588ec4dec4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_EA_MAXREQSIZE&nbsp;&nbsp;&nbsp;66288</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the size of a maximum REINT_SETXATTR request:. </p>
<p>lustre_msg 56 (32 + 4 x 5 + 4) ptlrpc_body 184 <a class="el" href="structmdt__rec__setxattr.html">mdt_rec_setxattr</a> 136 <a class="el" href="structlustre__capa.html">lustre_capa</a> 120 name 256 (XATTR_NAME_MAX) value 65536 (XATTR_SIZE_MAX) </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00360">360</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gacacc3457857ade161935c93720109685"></a><!-- doxytag: member="lustre_net.h::MDS_LOV_MAXREPSIZE" ref="gacacc3457857ade161935c93720109685" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_LOV_MAXREPSIZE&nbsp;&nbsp;&nbsp;MDS_LOV_MAXREQSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>MDS outgoing reply with LOV EA. </p>
<p>NB: max reply size Lustre 2.4+ client can get from old MDS is: LOV_MAX_STRIPE_COUNT * (<a class="el" href="structllog__cookie.html" title="log cookies are used to reference a specific log file and a record therein">llog_cookie</a> + lov_ost_data) + extra bytes</p>
<p>but 2.4 or later MDS will never send reply with <a class="el" href="structllog__cookie.html" title="log cookies are used to reference a specific log file and a record therein">llog_cookie</a> to any version client. This macro is defined for server side reply buffer size. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00348">348</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga30f21c5f8837df1463edffb20d62a4f2"></a><!-- doxytag: member="lustre_net.h::MDS_LOV_MAXREQSIZE" ref="ga30f21c5f8837df1463edffb20d62a4f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_LOV_MAXREQSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="lnet_2utils_2debug_8c.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>(<a class="code" href="group__net.html#ga0925bdb5333dd708e0aa362a7b859f87" title="Assume file name length = FNAME_MAX = 256 (true for ext3).">MDS_MAXREQSIZE</a>, \
                                    362 + <a class="code" href="group__lustreuser.html#ga75a3c7e4964e86373dae6fd732947acf">LOV_MAX_STRIPE_COUNT</a> * 24)
</pre></div>
<p>MDS incoming request with LOV EA 24 = sizeof(struct lov_ost_data), i.e: replay of opencreate. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00337">337</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2803f1a066b1b5eb624606097c73ed86"></a><!-- doxytag: member="lustre_net.h::MDS_MAX_OTHR_THREADS" ref="ga2803f1a066b1b5eb624606097c73ed86" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_MAX_OTHR_THREADS&nbsp;&nbsp;&nbsp;256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00277">277</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga39960ff74dd6e99afa9493eef0cfafc9"></a><!-- doxytag: member="lustre_net.h::MDS_MAX_THREADS" ref="ga39960ff74dd6e99afa9493eef0cfafc9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_MAX_THREADS&nbsp;&nbsp;&nbsp;1024</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00276">276</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0d5ce2bf1f1ae98e02bc257cd69fd129"></a><!-- doxytag: member="lustre_net.h::MDS_MAXREPSIZE" ref="ga0d5ce2bf1f1ae98e02bc257cd69fd129" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_MAXREPSIZE&nbsp;&nbsp;&nbsp;(9 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00331">331</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0925bdb5333dd708e0aa362a7b859f87"></a><!-- doxytag: member="lustre_net.h::MDS_MAXREQSIZE" ref="ga0925bdb5333dd708e0aa362a7b859f87" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_MAXREQSIZE&nbsp;&nbsp;&nbsp;(5 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assume file name length = FNAME_MAX = 256 (true for ext3). </p>
<p>path name length = PATH_MAX = 4096 LOV MD size max = EA_MAX = 24 * 2000 (NB: 24 is size of lov_ost_data) LOV LOGCOOKIE size max = 32 * 2000 (NB: 32 is size of <a class="el" href="structllog__cookie.html" title="log cookies are used to reference a specific log file and a record therein">llog_cookie</a>) symlink: FNAME_MAX + PATH_MAX &lt;- largest link: FNAME_MAX + PATH_MAX (mds_rec_link &lt; mds_rec_create) rename: FNAME_MAX + FNAME_MAX open: FNAME_MAX + EA_MAX</p>
<p>MDS_MAXREQSIZE ~= 4736 bytes = lustre_msg + <a class="el" href="structldlm__request.html">ldlm_request</a> + <a class="el" href="structmdt__body.html">mdt_body</a> + mds_rec_create + FNAME_MAX + PATH_MAX MDS_MAXREPSIZE ~= 8300 bytes = lustre_msg + llog_header</p>
<p>Realistic size is about 512 bytes (20 character name + 128 char symlink), except in the open case where there are a large number of OSTs in a LOV. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00330">330</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="dir_8c_source.html#l01097">ll_dir_ioctl()</a>, and <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9a471dccc8fdd69639438f1ed9eadf71"></a><!-- doxytag: member="lustre_net.h::MDS_NBUFS" ref="ga9a471dccc8fdd69639438f1ed9eadf71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_NBUFS&nbsp;&nbsp;&nbsp;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00309">309</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2efb8ac49c003b862962fb21e081518d"></a><!-- doxytag: member="lustre_net.h::MDS_NTHRS_BASE" ref="ga2efb8ac49c003b862962fb21e081518d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_NTHRS_BASE&nbsp;&nbsp;&nbsp;min(64, MDS_NTHRS_MAX)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00291">291</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gabbbfd3d72987bb9721f9fb62007731d4"></a><!-- doxytag: member="lustre_net.h::MDS_NTHRS_INIT" ref="gabbbfd3d72987bb9721f9fb62007731d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_NTHRS_INIT&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00289">289</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga244fa4230dc897399f3dff88dda960ad"></a><!-- doxytag: member="lustre_net.h::MDS_NTHRS_MAX" ref="ga244fa4230dc897399f3dff88dda960ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_NTHRS_MAX&nbsp;&nbsp;&nbsp;MDS_MAX_THREADS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00290">290</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga552f6644a8116b4b4cd9fd1e779f80a0"></a><!-- doxytag: member="lustre_net.h::MDS_OTHR_NTHRS_INIT" ref="ga552f6644a8116b4b4cd9fd1e779f80a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_OTHR_NTHRS_INIT&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00306">306</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4a07faf92c59ff2070faa8efaa057ffb"></a><!-- doxytag: member="lustre_net.h::MDS_OTHR_NTHRS_MAX" ref="ga4a07faf92c59ff2070faa8efaa057ffb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_OTHR_NTHRS_MAX&nbsp;&nbsp;&nbsp;MDS_MAX_OTHR_THREADS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00307">307</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gab69d130f17c0596b5a286a42dfe6d92a"></a><!-- doxytag: member="lustre_net.h::MDS_RDPG_NTHRS_BASE" ref="gab69d130f17c0596b5a286a42dfe6d92a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_RDPG_NTHRS_BASE&nbsp;&nbsp;&nbsp;min(48, MDS_RDPG_NTHRS_MAX)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00297">297</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga414913daf8e5db5aca77861890f3f2e0"></a><!-- doxytag: member="lustre_net.h::MDS_RDPG_NTHRS_INIT" ref="ga414913daf8e5db5aca77861890f3f2e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_RDPG_NTHRS_INIT&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00295">295</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga436352d1f9885c24a128201572e3e7d2"></a><!-- doxytag: member="lustre_net.h::MDS_RDPG_NTHRS_MAX" ref="ga436352d1f9885c24a128201572e3e7d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_RDPG_NTHRS_MAX&nbsp;&nbsp;&nbsp;MDS_MAX_OTHR_THREADS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00296">296</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa4116fa3846b0121ef81329010562804"></a><!-- doxytag: member="lustre_net.h::MDS_RDPG_THR_FACTOR" ref="gaa4116fa3846b0121ef81329010562804" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_RDPG_THR_FACTOR&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00294">294</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gace39c2a24b8ed087135caf8102925f80"></a><!-- doxytag: member="lustre_net.h::MDS_REG_BUFSIZE" ref="gace39c2a24b8ed087135caf8102925f80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_REG_BUFSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="lnet_2utils_2debug_8c.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>(<a class="code" href="group__net.html#ga55304816884c7b0a95e492ced0d476ff" title="These are the maximum request and reply sizes (rounded up to 1 KB boundaries) for...">MDS_REG_MAXREQSIZE</a> + <a class="code" href="group__sptlrpc.html#ga3958409bc75b758e9e09796d7ca3925e">SPTLRPC_MAX_PAYLOAD</a>, \
                                    160 * 1024)
</pre></div>
<p>MDS_REG_BUFSIZE should at least be MDS_REG_MAXREQSIZE + SPTLRPC_MAX_PAYLOAD. </p>
<p>However, we need to allocate a much larger buffer for it because LNet requires each MD(rqbd) has at least MDS_REQ_MAXREQSIZE bytes left to avoid dropping of maximum-sized incoming request. So if MDS_REG_BUFSIZE is only a little larger than MDS_REG_MAXREQSIZE, then it can only fit in one request even there are about MDS_REG_MAX_REQSIZE bytes left in a rqbd, and memory utilization is very low.</p>
<p>In the meanwhile, size of rqbd can't be too large, because rqbd can't be reused until all requests fit in it have been processed and released, which means one long blocked request can prevent the rqbd be reused. Now we set request buffer size to 160 KB, so even each rqbd is unlinked from LNet with unused 65 KB, buffer utilization will be about 59%. Please check LU-2432 for details. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00398">398</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gafcd9831ec8cedfbf10a6796bea541b46"></a><!-- doxytag: member="lustre_net.h::MDS_REG_MAXREPSIZE" ref="gafcd9831ec8cedfbf10a6796bea541b46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_REG_MAXREPSIZE&nbsp;&nbsp;&nbsp;MDS_REG_MAXREQSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00368">368</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga55304816884c7b0a95e492ced0d476ff"></a><!-- doxytag: member="lustre_net.h::MDS_REG_MAXREQSIZE" ref="ga55304816884c7b0a95e492ced0d476ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_REG_MAXREQSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">(((<a class="code" href="lnet_2utils_2debug_8c.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>(<a class="code" href="group__net.html#ga11a8ca7b7077906bf6d328588ec4dec4" title="This is the size of a maximum REINT_SETXATTR request:.">MDS_EA_MAXREQSIZE</a>, \
                                       <a class="code" href="group__net.html#ga30f21c5f8837df1463edffb20d62a4f2" title="MDS incoming request with LOV EA 24 = sizeof(struct lov_ost_data), i.e: replay of...">MDS_LOV_MAXREQSIZE</a>) + 1023) &gt;&gt; 10) &lt;&lt; 10)
</pre></div>
<p>These are the maximum request and reply sizes (rounded up to 1 KB boundaries) for the "regular" MDS_REQUEST_PORTAL and MDS_REPLY_PORTAL. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00366">366</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga12e70004dc735fd050b4fd3249bf0f5c"></a><!-- doxytag: member="lustre_net.h::MDS_SETA_NTHRS_BASE" ref="ga12e70004dc735fd050b4fd3249bf0f5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_SETA_NTHRS_BASE&nbsp;&nbsp;&nbsp;min(48, MDS_SETA_NTHRS_MAX)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00303">303</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga37496fd9a199fae4bb9b2371ef7b6168"></a><!-- doxytag: member="lustre_net.h::MDS_SETA_NTHRS_INIT" ref="ga37496fd9a199fae4bb9b2371ef7b6168" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_SETA_NTHRS_INIT&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00301">301</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4e0c711cd3f8b3593ed725caa5319d4f"></a><!-- doxytag: member="lustre_net.h::MDS_SETA_NTHRS_MAX" ref="ga4e0c711cd3f8b3593ed725caa5319d4f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_SETA_NTHRS_MAX&nbsp;&nbsp;&nbsp;MDS_MAX_OTHR_THREADS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00302">302</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga28af3ce9f210352a4949b4fd36bf8335"></a><!-- doxytag: member="lustre_net.h::MDS_SETA_THR_FACTOR" ref="ga28af3ce9f210352a4949b4fd36bf8335" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_SETA_THR_FACTOR&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00300">300</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga70e59b7c463e86e27ccb8b5b22048a47"></a><!-- doxytag: member="lustre_net.h::MDS_THR_FACTOR" ref="ga70e59b7c463e86e27ccb8b5b22048a47" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDS_THR_FACTOR&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00288">288</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga05f77b5b40b7665ed4bad5e99cb3914b"></a><!-- doxytag: member="lustre_net.h::MGS_BUFSIZE" ref="ga05f77b5b40b7665ed4bad5e99cb3914b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MGS_BUFSIZE&nbsp;&nbsp;&nbsp;(8 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00430">430</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga09696fdc67a516b616641018d7f01a8b"></a><!-- doxytag: member="lustre_net.h::MGS_MAXREPSIZE" ref="ga09696fdc67a516b616641018d7f01a8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MGS_MAXREPSIZE&nbsp;&nbsp;&nbsp;(9 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00432">432</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga058f6c5763d4ec6ed56d27894c129c4d"></a><!-- doxytag: member="lustre_net.h::MGS_MAXREQSIZE" ref="ga058f6c5763d4ec6ed56d27894c129c4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MGS_MAXREQSIZE&nbsp;&nbsp;&nbsp;(7 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00431">431</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga70a22720391d9716047d981002f41e0f"></a><!-- doxytag: member="lustre_net.h::MGS_NBUFS" ref="ga70a22720391d9716047d981002f41e0f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MGS_NBUFS&nbsp;&nbsp;&nbsp;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00429">429</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga12eb8c4f6e3d563a0e5896e9c2b220d5"></a><!-- doxytag: member="lustre_net.h::MGS_NTHRS_INIT" ref="ga12eb8c4f6e3d563a0e5896e9c2b220d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MGS_NTHRS_INIT&nbsp;&nbsp;&nbsp;(PTLRPC_NTHRS_INIT + 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>MGS threads must be &gt;= 3, see bug 22458 comment #28. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00426">426</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c93971749de996a29cf22f9897f91a5"></a><!-- doxytag: member="lustre_net.h::MGS_NTHRS_MAX" ref="ga5c93971749de996a29cf22f9897f91a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MGS_NTHRS_MAX&nbsp;&nbsp;&nbsp;32</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00427">427</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3a380e2199f126c6bf7b690f8d50c886"></a><!-- doxytag: member="lustre_net.h::OFD_MAX_BRW_SIZE" ref="ga3a380e2199f126c6bf7b690f8d50c886" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFD_MAX_BRW_SIZE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; LNET_MTU_BITS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00112">112</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, and <a class="el" href="qsd__reint_8c_source.html#l00181">qsd_reint_index()</a>.</p>

</div>
</div>
<a class="anchor" id="ga81c21f2171d6912a36ca02da217084d4"></a><!-- doxytag: member="lustre_net.h::ONE_MB_BRW_SIZE" ref="ga81c21f2171d6912a36ca02da217084d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ONE_MB_BRW_SIZE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; LNET_MTU_BITS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00107">107</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="lustre__export_8h_source.html#l00318">exp_connect_multibulk()</a>, <a class="el" href="lustre__export_8h_source.html#l00309">exp_max_brw_size()</a>, and <a class="el" href="ofd__dev_8c_source.html#l02814">ofd_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="gaedf87039c07092efbe0505eb87154423"></a><!-- doxytag: member="lustre_net.h::OSS_CR_NTHRS_BASE" ref="gaedf87039c07092efbe0505eb87154423" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSS_CR_NTHRS_BASE&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00467">467</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8852ea575dae46f58a5e069b2530e9f3"></a><!-- doxytag: member="lustre_net.h::OSS_CR_NTHRS_INIT" ref="ga8852ea575dae46f58a5e069b2530e9f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSS_CR_NTHRS_INIT&nbsp;&nbsp;&nbsp;PTLRPC_NTHRS_INIT</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00466">466</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gaec7ab227158f64ddb130f678bc4965fe"></a><!-- doxytag: member="lustre_net.h::OSS_CR_NTHRS_MAX" ref="gaec7ab227158f64ddb130f678bc4965fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSS_CR_NTHRS_MAX&nbsp;&nbsp;&nbsp;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00468">468</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga74852f44edc643dfad53455c1a94e39d"></a><!-- doxytag: member="lustre_net.h::OSS_CR_THR_FACTOR" ref="ga74852f44edc643dfad53455c1a94e39d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSS_CR_THR_FACTOR&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00465">465</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6831cd1d9b4ce57e6228ccd81cc5644c"></a><!-- doxytag: member="lustre_net.h::OSS_NTHRS_BASE" ref="ga6831cd1d9b4ce57e6228ccd81cc5644c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSS_NTHRS_BASE&nbsp;&nbsp;&nbsp;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00462">462</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gac1472096f107f464745434d858967198"></a><!-- doxytag: member="lustre_net.h::OSS_NTHRS_INIT" ref="gac1472096f107f464745434d858967198" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSS_NTHRS_INIT&nbsp;&nbsp;&nbsp;(PTLRPC_NTHRS_INIT + 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00461">461</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1278d9299d9ff6ef534065ab23eba663"></a><!-- doxytag: member="lustre_net.h::OSS_THR_FACTOR" ref="ga1278d9299d9ff6ef534065ab23eba663" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSS_THR_FACTOR</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="osc__internal_8h.html#a571fb08c9d47c410a616edec580ff121">min_t</a>(<span class="keywordtype">int</span>, 8, \
                                <a class="code" href="libcfs__prim_8h.html#a7f0310f04132b6c7524dba93c7e38efe">NUM_CACHEPAGES</a> &gt;&gt; (28 - PAGE_CACHE_SHIFT))
</pre></div>
<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00459">459</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gade43b8059a7940089671f1c160b97e8b"></a><!-- doxytag: member="lustre_net.h::OST_BUFSIZE" ref="gade43b8059a7940089671f1c160b97e8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OST_BUFSIZE&nbsp;&nbsp;&nbsp;max_t(int, OST_MAXREQSIZE + 1024, 16 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>OST_BUFSIZE = max_reqsize + max sptlrpc payload size. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00497">497</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga112461e50f5b4ce6d060c31e89002f4a"></a><!-- doxytag: member="lustre_net.h::OST_IO_BUFSIZE" ref="ga112461e50f5b4ce6d060c31e89002f4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OST_IO_BUFSIZE&nbsp;&nbsp;&nbsp;max_t(int, OST_IO_MAXREQSIZE + 1024, 64 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>OST_IO_MAXREQSIZE is 18K, giving extra 46K can increase buffer utilization rate of request buffer, please check comment of MDS_LOV_BUFSIZE for details. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00502">502</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga315fc498b63260468a9e2be3229d5bbd"></a><!-- doxytag: member="lustre_net.h::OST_IO_MAXREPSIZE" ref="ga315fc498b63260468a9e2be3229d5bbd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OST_IO_MAXREPSIZE&nbsp;&nbsp;&nbsp;OST_MAXREPSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00493">493</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga910924170a8059c49ec72de9a3afebb3"></a><!-- doxytag: member="lustre_net.h::OST_IO_MAXREQSIZE" ref="ga910924170a8059c49ec72de9a3afebb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OST_IO_MAXREQSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">max_t(<span class="keywordtype">int</span>, <a class="code" href="group__net.html#ga90591733c0c1eee622c2b8b512fd89e3" title="FIEMAP request can be 4K+ for now.">OST_MAXREQSIZE</a>, \
                                (((<a class="code" href="group__net.html#ga7effbcacfc90f58c6e550e8441ee9b5d" title="OST_IO_MAXREQSIZE ~= lustre_msg + ptlrpc_body + obdo + obd_ioobj + DT_MAX_BRW_PAGES...">_OST_MAXREQSIZE_SUM</a> - 1) | (1024 - 1)) + 1))
</pre></div>
<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00489">489</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>, and <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0d46c61bf1187782e6eb6867ac91f146"></a><!-- doxytag: member="lustre_net.h::OST_MAXREPSIZE" ref="ga0d46c61bf1187782e6eb6867ac91f146" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OST_MAXREPSIZE&nbsp;&nbsp;&nbsp;(9 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00492">492</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga90591733c0c1eee622c2b8b512fd89e3"></a><!-- doxytag: member="lustre_net.h::OST_MAXREQSIZE" ref="ga90591733c0c1eee622c2b8b512fd89e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OST_MAXREQSIZE&nbsp;&nbsp;&nbsp;(16 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FIEMAP request can be 4K+ for now. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00488">488</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gab72ba326b290df7189c8e5360ea6f8c1"></a><!-- doxytag: member="lustre_net.h::OST_NBUFS" ref="gab72ba326b290df7189c8e5360ea6f8c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OST_NBUFS&nbsp;&nbsp;&nbsp;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00495">495</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gae34be12e43c77807e8487670d8c4b119"></a><!-- doxytag: member="lustre_net.h::OUT_BUFSIZE" ref="gae34be12e43c77807e8487670d8c4b119" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUT_BUFSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="lnet_2utils_2debug_8c.html#ae1e1dde676c120fa6d10f3bb2c14059e">max</a>(<a class="code" href="group__net.html#ga3061b67fa028fa7ea59239b69b10c911" title="The update request includes all of updates from the create, which might include linkea...">OUT_MAXREQSIZE</a> + <a class="code" href="group__sptlrpc.html#ga3958409bc75b758e9e09796d7ca3925e">SPTLRPC_MAX_PAYLOAD</a>, \
                                    24 * 1024)
</pre></div>
<p>OUT_BUFSIZE = max_out_reqsize + max sptlrpc payload (~1K) which is about 10K, for the same reason as MDS_REG_BUFSIZE, we also give some extra bytes to each request buffer to improve buffer utilization rate. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00406">406</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>, and <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gad5ddee6a7625595767bc2e1e6e35cbcf"></a><!-- doxytag: member="lustre_net.h::OUT_MAXREPSIZE" ref="gad5ddee6a7625595767bc2e1e6e35cbcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUT_MAXREPSIZE&nbsp;&nbsp;&nbsp;MDS_MAXREPSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00376">376</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>, and <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3061b67fa028fa7ea59239b69b10c911"></a><!-- doxytag: member="lustre_net.h::OUT_MAXREQSIZE" ref="ga3061b67fa028fa7ea59239b69b10c911" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUT_MAXREQSIZE&nbsp;&nbsp;&nbsp;(1000 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The update request includes all of updates from the create, which might include linkea (4K maxim), together with other updates, we set it to 1000K: lustre_msg + ptlrpc_body + OUT_UPDATE_BUFFER_SIZE_MAX. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00375">375</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>, <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>, and <a class="el" href="out__handler_8c_source.html#l00894">out_handle()</a>.</p>

</div>
</div>
<a class="anchor" id="gab9360fd394863fc72262f905536407ea"></a><!-- doxytag: member="lustre_net.h::PTL_RPC_FL_INTR" ref="gab9360fd394863fc72262f905536407ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTL_RPC_FL_INTR&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>state flags of requests </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00540">540</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab36c9b4e63763d4ccd5dd8d83fc9e117"></a><!-- doxytag: member="lustre_net.h::PTL_RPC_FL_TIMEOUT" ref="gab36c9b4e63763d4ccd5dd8d83fc9e117" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTL_RPC_FL_TIMEOUT&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00541">541</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabf4b4d7a3ddddab43ae78ddefc08af29"></a><!-- doxytag: member="lustre_net.h::PTLRPC_BULK_OPS_BITS" ref="gabf4b4d7a3ddddab43ae78ddefc08af29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_BULK_OPS_BITS&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>log2 max # of bulk operations in one request: 2=4MB/RPC, 5=32MB/RPC, . </p>
<p>.. In order for the client and server to properly negotiate the maximum possible transfer size, PTLRPC_BULK_OPS_COUNT must be a power-of-two value. The client is free to limit the actual RPC size for any bulk transfer via cl_max_pages_per_rpc to some non-power-of-two value. NOTE: This is limited to 16 (=64GB RPCs) by IOOBJ_MAX_BRW_BITS. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00082">82</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga490cb13c3d4b02b157fd6a4629c872b4"></a><!-- doxytag: member="lustre_net.h::PTLRPC_BULK_OPS_COUNT" ref="ga490cb13c3d4b02b157fd6a4629c872b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_BULK_OPS_COUNT&nbsp;&nbsp;&nbsp;(1U &lt;&lt; PTLRPC_BULK_OPS_BITS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00086">86</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="out__handler_8c_source.html#l00894">out_handle()</a>, <a class="el" href="client_8c_source.html#l03147">ptlrpc_init_xid()</a>, <a class="el" href="client_8c_source.html#l00117">ptlrpc_new_bulk()</a>, <a class="el" href="client_8c_source.html#l03177">ptlrpc_next_xid()</a>, <a class="el" href="niobuf_8c_source.html#l00301">ptlrpc_register_bulk()</a>, and <a class="el" href="client_8c_source.html#l03230">ptlrpc_sample_next_xid()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8b841cf2fb3c1d1c92a9ddcf7068bb4c"></a><!-- doxytag: member="lustre_net.h::PTLRPC_BULK_OPS_MASK" ref="ga8b841cf2fb3c1d1c92a9ddcf7068bb4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_BULK_OPS_MASK&nbsp;&nbsp;&nbsp;(~((<a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>)PTLRPC_BULK_OPS_COUNT - 1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>PTLRPC_BULK_OPS_MASK is for the convenience of the client only, and should not be used on the server at all. </p>
<p>Otherwise, it imposes a protocol limitation on the maximum RPC size that can be used by any RPC sent to that server in the future. Instead, the server should use the negotiated per-client ocd_brw_size to determine the bulk RPC count. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00094">94</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l03147">ptlrpc_init_xid()</a>, and <a class="el" href="niobuf_8c_source.html#l00301">ptlrpc_register_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="ga507b0acc65154a8e8842879d5f4db30b"></a><!-- doxytag: member="lustre_net.h::PTLRPC_MAX_BRW_BITS" ref="ga507b0acc65154a8e8842879d5f4db30b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_MAX_BRW_BITS&nbsp;&nbsp;&nbsp;(LNET_MTU_BITS + PTLRPC_BULK_OPS_BITS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Define maxima for bulk I/O. </p>
<p>A single PTLRPC BRW request is sent via up to PTLRPC_BULK_OPS_COUNT of LNET_MTU sized RDMA transfers. Clients and servers negotiate the currently supported maximum between peers at connect via ocd_brw_size. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00103">103</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l01865">ll_update_inode()</a>.</p>

</div>
</div>
<a class="anchor" id="gaced9eb537787b1e8c157fc7a3e1c167b"></a><!-- doxytag: member="lustre_net.h::PTLRPC_MAX_BRW_PAGES" ref="gaced9eb537787b1e8c157fc7a3e1c167b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_MAX_BRW_PAGES&nbsp;&nbsp;&nbsp;(PTLRPC_MAX_BRW_SIZE &gt;&gt; PAGE_CACHE_SHIFT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00105">105</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l00063">__osd_init_iobuf()</a>, <a class="el" href="ldlm__lib_8c_source.html#l00261">client_obd_setup()</a>, <a class="el" href="sec__bulk_8c_source.html#l00427">enc_pools_add_pages()</a>, <a class="el" href="sec__bulk_8c_source.html#l00234">enc_pools_shrink_count()</a>, <a class="el" href="sec__bulk_8c_source.html#l00256">enc_pools_shrink_scan()</a>, <a class="el" href="rw_8c_source.html#l00085">ll_ra_count_get()</a>, <a class="el" href="rw_8c_source.html#l00605">ll_readahead_init()</a>, <a class="el" href="rw26_8c_source.html#l00730">ll_write_end()</a>, <a class="el" href="mdc__request_8c_source.html#l01174">mdc_read_page_remote()</a>, <a class="el" href="mgs__nids_8c_source.html#l00598">mgs_get_ir_logs()</a>, <a class="el" href="ofd__io_8c_source.html#l00685">ofd_preprw()</a>, <a class="el" href="ofd__io_8c_source.html#l00440">ofd_preprw_read()</a>, <a class="el" href="ofd__io_8c_source.html#l00524">ofd_preprw_write()</a>, <a class="el" href="osd-zfs_2osd__io_8c_source.html#l00407">osd_bufs_get_write()</a>, <a class="el" href="import_8c_source.html#l00795">ptlrpc_connect_set_flags()</a>, <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>, <a class="el" href="niobuf_8c_source.html#l00301">ptlrpc_register_bulk()</a>, <a class="el" href="sec__bulk_8c_source.html#l00729">sptlrpc_enc_pool_add_user()</a>, <a class="el" href="tgt__handler_8c_source.html#l01837">tgt_brw_read()</a>, <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>, and <a class="el" href="tgt__handler_8c_source.html#l00188">tgt_io_data_unpack()</a>.</p>

</div>
</div>
<a class="anchor" id="ga395e088d87586ef8ceaca1aea618c60f"></a><!-- doxytag: member="lustre_net.h::PTLRPC_MAX_BRW_SIZE" ref="ga395e088d87586ef8ceaca1aea618c60f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_MAX_BRW_SIZE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; PTLRPC_MAX_BRW_BITS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00104">104</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="echo__client_8c_source.html#l02499">echo_client_brw_ioctl()</a>.</p>

</div>
</div>
<a class="anchor" id="ga157c3f17a1c57b1a5f9bbe640e0b9c19"></a><!-- doxytag: member="lustre_net.h::PTLRPC_MD_OPTIONS" ref="ga157c3f17a1c57b1a5f9bbe640e0b9c19" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_MD_OPTIONS&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00073">73</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00050">ptl_send_buf()</a>, <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="niobuf_8c_source.html#l00301">ptlrpc_register_bulk()</a>, and <a class="el" href="niobuf_8c_source.html#l00900">ptlrpc_register_rqbd()</a>.</p>

</div>
</div>
<a class="anchor" id="gafe956408171741e4f2fa929087b87a26"></a><!-- doxytag: member="lustre_net.h::PTLRPC_NTHRS_INIT" ref="gafe956408171741e4f2fa929087b87a26" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_NTHRS_INIT&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00128">128</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01686">ptlrpc_server_allow_high()</a>, <a class="el" href="service_8c_source.html#l01734">ptlrpc_server_allow_normal()</a>, <a class="el" href="service_8c_source.html#l00494">ptlrpc_server_nthreads_check()</a>, and <a class="el" href="service_8c_source.html#l02751">ptlrpc_start_threads()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4223d4b654456d504d272bebd9ebba23"></a><!-- doxytag: member="lustre_net.h::PTLRPC_REPLY_EARLY" ref="ga4223d4b654456d504d272bebd9ebba23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_REPLY_EARLY&nbsp;&nbsp;&nbsp;0x02</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02066">2066</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>, and <a class="el" href="niobuf_8c_source.html#l00477">ptlrpc_at_set_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga478f052147cbdc94dbfba08da7f945fa"></a><!-- doxytag: member="lustre_net.h::PTLRPC_REPLY_MAYBE_DIFFICULT" ref="ga478f052147cbdc94dbfba08da7f945fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_REPLY_MAYBE_DIFFICULT&nbsp;&nbsp;&nbsp;0x01</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02065">2065</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, and <a class="el" href="ldlm__lib_8c_source.html#l02835">target_send_reply_msg()</a>.</p>

</div>
</div>
<a class="anchor" id="ga50f2542bf0ac863d6ef21de92a35c915"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req_async_args" ref="ga50f2542bf0ac863d6ef21de92a35c915" args="(req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ptlrpc_req_async_args</td>
          <td>(</td>
          <td class="paramtype">req&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((void *)&amp;req-&gt;rq_async_args)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00505">505</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03487">lfsck_layout_async_query()</a>, <a class="el" href="mdc__locks_8c_source.html#l01181">mdc_intent_getattr_async()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osc__request_8c_source.html#l01518">osc_brw_redo_request()</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="osc__request_8c_source.html#l02052">osc_enqueue_base()</a>, <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>, <a class="el" href="osc__request_8c_source.html#l02277">osc_statfs_async()</a>, <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>, <a class="el" href="osp__trans_8c_source.html#l01104">osp_send_update_req()</a>, <a class="el" href="osp__precreate_8c_source.html#l00121">osp_statfs_interpret()</a>, <a class="el" href="osp__precreate_8c_source.html#l00175">osp_statfs_update()</a>, <a class="el" href="osp__sync_8c_source.html#l00470">osp_sync_request_commit_cb()</a>, <a class="el" href="osp__sync_8c_source.html#l00602">osp_sync_send_new_rpc()</a>, <a class="el" href="osp__trans_8c_source.html#l00714">osp_unplug_async_request()</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, <a class="el" href="client_8c_source.html#l03006">ptlrpc_replay_req()</a>, <a class="el" href="client_8c_source.html#l03315">ptlrpcd_alloc_work()</a>, <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>, <a class="el" href="qsd__request_8c_source.html#l00091">qsd_send_dqacq()</a>, and <a class="el" href="ldlm__request_8c_source.html#l02226">replay_one_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="gadfc88ea5f31c558c5e23cd0a999bd36d"></a><!-- doxytag: member="lustre_net.h::ptlrpc_service_for_each_part" ref="gadfc88ea5f31c558c5e23cd0a999bd36d" args="(part, i, svc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ptlrpc_service_for_each_part</td>
          <td>(</td>
          <td class="paramtype">part, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">svc&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">for</span> (i = 0;                                                     \
             i &lt; (svc)-&gt;srv_ncpts &amp;&amp;                                    \
             (svc)-&gt;srv_parts != NULL &amp;&amp;                                \
             ((part) = (svc)-&gt;srv_parts[i]) != NULL; i++)
</pre></div>
<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01857">1857</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="nrs_8c_source.html#l01099">nrs_policy_unregister_locked()</a>, <a class="el" href="nrs_8c_source.html#l01738">ptlrpc_nrs_policy_control()</a>, <a class="el" href="nrs_8c_source.html#l01165">ptlrpc_nrs_policy_register()</a>, <a class="el" href="service_8c_source.html#l02985">ptlrpc_service_del_atimer()</a>, <a class="el" href="service_8c_source.html#l03123">ptlrpc_service_free()</a>, <a class="el" href="service_8c_source.html#l03227">ptlrpc_service_health_check()</a>, <a class="el" href="nrs_8c_source.html#l01435">ptlrpc_service_nrs_cleanup()</a>, <a class="el" href="nrs_8c_source.html#l01390">ptlrpc_service_nrs_setup()</a>, <a class="el" href="service_8c_source.html#l03055">ptlrpc_service_purge_all()</a>, <a class="el" href="service_8c_source.html#l02998">ptlrpc_service_unlink_rqbd()</a>, and <a class="el" href="service_8c_source.html#l02737">ptlrpc_stop_all_threads()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4f4d7f4b592db13b248e9f0973608f71"></a><!-- doxytag: member="lustre_net.h::PTLRPC_SVC_HP_RATIO" ref="ga4f4d7f4b592db13b248e9f0973608f71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_SVC_HP_RATIO&nbsp;&nbsp;&nbsp;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>How many high priority requests to serve before serving one normal priority request. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01661">1661</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l00690">ptlrpc_register_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gacc35cc21ab702063983586056094d6c3"></a><!-- doxytag: member="lustre_net.h::PTLRPC_THR_NAME_LEN" ref="gacc35cc21ab702063983586056094d6c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTLRPC_THR_NAME_LEN&nbsp;&nbsp;&nbsp;32</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01502">1502</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l02782">ptlrpc_start_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga032f24555e4e11c57c079292ce89699a"></a><!-- doxytag: member="lustre_net.h::REQ_FLAGS_FMT" ref="ga032f24555e4e11c57c079292ce89699a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REQ_FLAGS_FMT&nbsp;&nbsp;&nbsp;&quot;%s:%s%s%s%s%s%s%s%s%s%s%s%s&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01278">1278</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l02392">_debug_req()</a>.</p>

</div>
</div>
<a class="anchor" id="ga193cc5955f0b02b74eda762a7fe7ab05"></a><!-- doxytag: member="lustre_net.h::REQ_MAX_ACK_LOCKS" ref="ga193cc5955f0b02b74eda762a7fe7ab05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REQ_MAX_ACK_LOCKS&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00543">543</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa824576728341fb0354931d5897bc7f7"></a><!-- doxytag: member="lustre_net.h::rq_arrival_time" ref="gaa824576728341fb0354931d5897bc7f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_arrival_time&nbsp;&nbsp;&nbsp;rq_srv.sr_arrival_time</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00940">940</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga18f45126e72f2e66a52df266e2247cfd"></a><!-- doxytag: member="lustre_net.h::rq_async_args" ref="ga18f45126e72f2e66a52df266e2247cfd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_async_args&nbsp;&nbsp;&nbsp;rq_cli.cr_async_args</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00873">873</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="osp__sync_8c_source.html#l00139">osp_sync_inflight_conflict()</a>, and <a class="el" href="osp__sync_8c_source.html#l00966">osp_sync_process_committed()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8e73b5ff48a1bd26cc3728e59c7bc4d0"></a><!-- doxytag: member="lustre_net.h::rq_at_index" ref="ga8e73b5ff48a1bd26cc3728e59c7bc4d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_at_index&nbsp;&nbsp;&nbsp;rq_srv.sr_at_index</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00934">934</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga500b12cb611e13a6bc2490af0f864176"></a><!-- doxytag: member="lustre_net.h::rq_auth_mapped_uid" ref="ga500b12cb611e13a6bc2490af0f864176" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_auth_mapped_uid&nbsp;&nbsp;&nbsp;rq_srv.sr_auth_mapped_uid</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00936">936</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2ed6c8bebdf3ff9e12e82ccb6ffd8773"></a><!-- doxytag: member="lustre_net.h::rq_auth_uid" ref="ga2ed6c8bebdf3ff9e12e82ccb6ffd8773" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_auth_uid&nbsp;&nbsp;&nbsp;rq_srv.sr_auth_uid</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00935">935</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga4a02f006a097fc5c4f7da0fe2ee8f763"></a><!-- doxytag: member="lustre_net.h::rq_bulk" ref="ga4a02f006a097fc5c4f7da0fe2ee8f763" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_bulk&nbsp;&nbsp;&nbsp;rq_cli.cr_bulk</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>client request member alias </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00849">849</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9a3aced83b8099658d3fcd2575917545"></a><!-- doxytag: member="lustre_net.h::rq_bulk_deadline" ref="ga9a3aced83b8099658d3fcd2575917545" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_bulk_deadline&nbsp;&nbsp;&nbsp;rq_cli.cr_bulk_deadline</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00855">855</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b441d4d8961259f97a771fcb9cce42f"></a><!-- doxytag: member="lustre_net.h::rq_cb_data" ref="ga0b441d4d8961259f97a771fcb9cce42f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_cb_data&nbsp;&nbsp;&nbsp;rq_cli.cr_cb_data</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00874">874</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7a6f69e4eaf87b4ca4325297c57003e0"></a><!-- doxytag: member="lustre_net.h::rq_cli_ctx" ref="ga7a6f69e4eaf87b4ca4325297c57003e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_cli_ctx&nbsp;&nbsp;&nbsp;rq_cli.cr_cli_ctx</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00865">865</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab31576d9718505a24cae616b37fbebdb"></a><!-- doxytag: member="lustre_net.h::rq_commit_cb" ref="gab31576d9718505a24cae616b37fbebdb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_commit_cb&nbsp;&nbsp;&nbsp;rq_cli.cr_commit_cb</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00876">876</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga260bae7d8e2e57b19fa5c10b3431fd3a"></a><!-- doxytag: member="lustre_net.h::rq_ctx_chain" ref="ga260bae7d8e2e57b19fa5c10b3431fd3a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_ctx_chain&nbsp;&nbsp;&nbsp;rq_cli.cr_ctx_chain</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00862">862</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00333">sptlrpc_cli_ctx_wakeup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9d9c34968982339330a987fed9d607c5"></a><!-- doxytag: member="lustre_net.h::rq_delay_limit" ref="ga9d9c34968982339330a987fed9d607c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_delay_limit&nbsp;&nbsp;&nbsp;rq_cli.cr_delay_limit</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00850">850</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga065abc2354b8e9dbc0b029924d8097d8"></a><!-- doxytag: member="lustre_net.h::rq_exp_list" ref="ga065abc2354b8e9dbc0b029924d8097d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_exp_list&nbsp;&nbsp;&nbsp;rq_srv.sr_exp_list</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00931">931</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01522">ptlrpc_server_check_resend_in_progress()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2a45b03f5ec0266755273e5df8c368e4"></a><!-- doxytag: member="lustre_net.h::rq_history_list" ref="ga2a45b03f5ec0266755273e5df8c368e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_history_list&nbsp;&nbsp;&nbsp;rq_srv.sr_hist_list</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00932">932</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga689598ddfa8c58809fbcde6208a045cd"></a><!-- doxytag: member="lustre_net.h::rq_history_seq" ref="ga689598ddfa8c58809fbcde6208a045cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_history_seq&nbsp;&nbsp;&nbsp;rq_srv.sr_hist_seq</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00933">933</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabd13173c467193f92437df63e96243a6"></a><!-- doxytag: member="lustre_net.h::rq_import_generation" ref="gabd13173c467193f92437df63e96243a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_import_generation&nbsp;&nbsp;&nbsp;rq_cli.cr_imp_gen</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00859">859</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabbdf7e18aa80cda2d76ec721eb5ee9de"></a><!-- doxytag: member="lustre_net.h::rq_interpret_reply" ref="gabbdf7e18aa80cda2d76ec721eb5ee9de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_interpret_reply&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_interp</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00871">871</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae93bda6757ee4aa06739faf9ba481292"></a><!-- doxytag: member="lustre_net.h::rq_nr_resend" ref="gae93bda6757ee4aa06739faf9ba481292" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_nr_resend&nbsp;&nbsp;&nbsp;rq_cli.cr_resend_nr</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00856">856</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga688ee7185a479edf36de5b9313563ad1"></a><!-- doxytag: member="lustre_net.h::rq_nrq" ref="ga688ee7185a479edf36de5b9313563ad1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_nrq&nbsp;&nbsp;&nbsp;rq_srv.sr_nrq</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00939">939</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="nrs__fifo_8c_source.html#l00160">nrs_fifo_req_get()</a>, <a class="el" href="nrs__fifo_8c_source.html#l00233">nrs_fifo_req_stop()</a>, and <a class="el" href="nrs_8c_source.html#l01583">ptlrpc_nrs_req_get_nolock0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga181db0d552d641a21c1664c6c17e1a78"></a><!-- doxytag: member="lustre_net.h::rq_ops" ref="ga181db0d552d641a21c1664c6c17e1a78" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_ops&nbsp;&nbsp;&nbsp;rq_srv.sr_ops</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00944">944</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5ba1a1449da0935a71803b0119aa5821"></a><!-- doxytag: member="lustre_net.h::rq_queued_time" ref="ga5ba1a1449da0935a71803b0119aa5821" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_queued_time&nbsp;&nbsp;&nbsp;rq_cli.cr_queued_time</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00851">851</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa9fb935c2a6cfc5cc0633cbfa8e0059c"></a><!-- doxytag: member="lustre_net.h::rq_real_sent" ref="gaa9fb935c2a6cfc5cc0633cbfa8e0059c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_real_sent&nbsp;&nbsp;&nbsp;rq_cli.cr_sent_out</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00853">853</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga6a5d664562476237852261beca3ad137"></a><!-- doxytag: member="lustre_net.h::rq_replay_cb" ref="ga6a5d664562476237852261beca3ad137" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_replay_cb&nbsp;&nbsp;&nbsp;rq_cli.cr_replay_cb</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00877">877</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaebd30d82a1f9ba76415ccb0d8a0305af"></a><!-- doxytag: member="lustre_net.h::rq_reply_cbid" ref="gaebd30d82a1f9ba76415ccb0d8a0305af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_reply_cbid&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_cbid</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00870">870</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad92d8fece9ae0bc064cffe9f29ebb58a"></a><!-- doxytag: member="lustre_net.h::rq_reply_deadline" ref="gad92d8fece9ae0bc064cffe9f29ebb58a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_reply_deadline&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_deadline</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00854">854</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8ed9127b2ba7b8bad5e4a61f7b3b437d"></a><!-- doxytag: member="lustre_net.h::rq_reply_md_h" ref="ga8ed9127b2ba7b8bad5e4a61f7b3b437d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_reply_md_h&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_md_h</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00868">868</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7b35b9e672d0815c98c90744a974e0fd"></a><!-- doxytag: member="lustre_net.h::rq_reply_portal" ref="ga7b35b9e672d0815c98c90744a974e0fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_reply_portal&nbsp;&nbsp;&nbsp;rq_cli.cr_rep_ptl</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00858">858</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b70d095a2065c3544bdc6725ea690d8"></a><!-- doxytag: member="lustre_net.h::rq_reply_state" ref="ga0b70d095a2065c3544bdc6725ea690d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_reply_state&nbsp;&nbsp;&nbsp;rq_srv.sr_reply_state</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00941">941</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae124821a8b96d1bcb852adf7f3260749"></a><!-- doxytag: member="lustre_net.h::rq_reply_waitq" ref="gae124821a8b96d1bcb852adf7f3260749" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_reply_waitq&nbsp;&nbsp;&nbsp;rq_cli.cr_reply_waitq</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00869">869</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7393772a0fab787b31b47b88a6c46699"></a><!-- doxytag: member="lustre_net.h::rq_req_cbid" ref="ga7393772a0fab787b31b47b88a6c46699" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_req_cbid&nbsp;&nbsp;&nbsp;rq_cli.cr_req_cbid</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00867">867</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa2d5d03805a7f64b890c4908f134ae03"></a><!-- doxytag: member="lustre_net.h::rq_req_md_h" ref="gaa2d5d03805a7f64b890c4908f134ae03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_req_md_h&nbsp;&nbsp;&nbsp;rq_cli.cr_req_md_h</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00866">866</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa29a817016207b9b9a73d5280dc98785"></a><!-- doxytag: member="lustre_net.h::rq_request_portal" ref="gaa29a817016207b9b9a73d5280dc98785" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_request_portal&nbsp;&nbsp;&nbsp;rq_cli.cr_req_ptl</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00857">857</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac5780584dd0147f19146bfaafac2ab6c"></a><!-- doxytag: member="lustre_net.h::rq_resend_cb" ref="gac5780584dd0147f19146bfaafac2ab6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_resend_cb&nbsp;&nbsp;&nbsp;rq_cli.cr_resend_cb</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00872">872</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0072c0a48cd4c776e94dac6eab282d2e"></a><!-- doxytag: member="lustre_net.h::rq_rqbd" ref="ga0072c0a48cd4c776e94dac6eab282d2e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_rqbd&nbsp;&nbsp;&nbsp;rq_srv.sr_rqbd</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00945">945</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac5196aa2a46336b5a6e9ca2f24574556"></a><!-- doxytag: member="lustre_net.h::rq_send_state" ref="gac5196aa2a46336b5a6e9ca2f24574556" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_send_state&nbsp;&nbsp;&nbsp;rq_cli.cr_send_state</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00860">860</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga444c0b4670f0bdb9bec6cf62c88bf815"></a><!-- doxytag: member="lustre_net.h::rq_sent_tv" ref="ga444c0b4670f0bdb9bec6cf62c88bf815" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_sent_tv&nbsp;&nbsp;&nbsp;rq_cli.cr_sent_tv</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00852">852</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga39b8ab55f7009414e7eda35c24322fed"></a><!-- doxytag: member="lustre_net.h::rq_session" ref="ga39b8ab55f7009414e7eda35c24322fed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_session&nbsp;&nbsp;&nbsp;rq_srv.sr_ses</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00938">938</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga6029c7d984fb697afe175a22a0db561a"></a><!-- doxytag: member="lustre_net.h::rq_set" ref="ga6029c7d984fb697afe175a22a0db561a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_set&nbsp;&nbsp;&nbsp;rq_cli.cr_set</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00863">863</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabfd771a992570154c4e73515249dcd07"></a><!-- doxytag: member="lustre_net.h::rq_set_chain" ref="gabfd771a992570154c4e73515249dcd07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_set_chain&nbsp;&nbsp;&nbsp;rq_cli.cr_set_chain</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00861">861</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l03104">ptlrpc_abort_set()</a>, <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="client_8c_source.html#l02121">ptlrpc_expired_set()</a>, <a class="el" href="client_8c_source.html#l02180">ptlrpc_interrupted_set()</a>, <a class="el" href="client_8c_source.html#l00973">ptlrpc_set_destroy()</a>, <a class="el" href="client_8c_source.html#l02207">ptlrpc_set_next_timeout()</a>, <a class="el" href="client_8c_source.html#l02260">ptlrpc_set_wait()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00200">ptlrpcd_add_rqset()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00316">ptlrpcd_check()</a>, and <a class="el" href="ptlrpcd_8c_source.html#l00240">ptlrpcd_steal_rqset()</a>.</p>

</div>
</div>
<a class="anchor" id="gab0ad4e49bf7a15d898a8adf3232a2296"></a><!-- doxytag: member="lustre_net.h::rq_set_waitq" ref="gab0ad4e49bf7a15d898a8adf3232a2296" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_set_waitq&nbsp;&nbsp;&nbsp;rq_cli.cr_set_waitq</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00864">864</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1e62fe7162ef90540262c1f8bc43e909"></a><!-- doxytag: member="lustre_net.h::rq_sp_from" ref="ga1e62fe7162ef90540262c1f8bc43e909" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_sp_from&nbsp;&nbsp;&nbsp;rq_srv.sr_sp_from</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00937">937</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga49196d810b2839d9156bfc7177339dbb"></a><!-- doxytag: member="lustre_net.h::rq_svc_ctx" ref="ga49196d810b2839d9156bfc7177339dbb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_svc_ctx&nbsp;&nbsp;&nbsp;rq_srv.sr_svc_ctx</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00942">942</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2add693a51a7d38acaced35e27bdc861"></a><!-- doxytag: member="lustre_net.h::rq_svc_thread" ref="ga2add693a51a7d38acaced35e27bdc861" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_svc_thread&nbsp;&nbsp;&nbsp;rq_srv.sr_svc_thread</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>server request member alias </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00929">929</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gacc0944ef09687a9201caa304a2fd3df7"></a><!-- doxytag: member="lustre_net.h::rq_timed_list" ref="gacc0944ef09687a9201caa304a2fd3df7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_timed_list&nbsp;&nbsp;&nbsp;rq_srv.sr_timed_list</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00930">930</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01182">ptlrpc_at_add_timed()</a>, and <a class="el" href="service_8c_source.html#l01416">ptlrpc_at_check_timed()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf3015a78a5f6445df6147ecb92a5db36"></a><!-- doxytag: member="lustre_net.h::rq_unreplied_list" ref="gaf3015a78a5f6445df6147ecb92a5db36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_unreplied_list&nbsp;&nbsp;&nbsp;rq_cli.cr_unreplied_list</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00875">875</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00658">ptlrpc_add_unreplied()</a>, and <a class="el" href="client_8c_source.html#l01272">ptlrpc_known_replied_xid()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6a258cad4a3ee6de482ca2d021d2fa8e"></a><!-- doxytag: member="lustre_net.h::rq_user_desc" ref="ga6a258cad4a3ee6de482ca2d021d2fa8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rq_user_desc&nbsp;&nbsp;&nbsp;rq_srv.sr_user_desc</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00943">943</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga107a0dc89278a5fa763fa802d8943c51"></a><!-- doxytag: member="lustre_net.h::RS_DEBUG" ref="ga107a0dc89278a5fa763fa802d8943c51" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RS_DEBUG&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00640">640</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2d55f86d607f2386cec08e37daa7ce67"></a><!-- doxytag: member="lustre_net.h::RS_MAX_LOCKS" ref="ga2d55f86d607f2386cec08e37daa7ce67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RS_MAX_LOCKS&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum number of locks to fit into reply state. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00639">639</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l00183">ptlrpc_save_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="gadd5b9f5ebcda42209dd76180511dfb16"></a><!-- doxytag: member="lustre_net.h::SEQ_BUFSIZE" ref="gadd5b9f5ebcda42209dd76180511dfb16" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEQ_BUFSIZE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 12)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00423">423</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gad213a2a89d144bd859084578eb412571"></a><!-- doxytag: member="lustre_net.h::SEQ_MAXREPSIZE" ref="gad213a2a89d144bd859084578eb412571" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEQ_MAXREPSIZE&nbsp;&nbsp;&nbsp;(152)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SEQ_MAXREPSIZE == lustre_msg + ptlrpc_body + lu_range. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00422">422</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gab00780470dc1dda21d5107cb3439968b"></a><!-- doxytag: member="lustre_net.h::SEQ_MAXREQSIZE" ref="gab00780470dc1dda21d5107cb3439968b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEQ_MAXREQSIZE&nbsp;&nbsp;&nbsp;(160)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SEQ_MAXREQSIZE == lustre_msg + __u32 padding + ptlrpc_body + opc + lu_range + __u32 padding. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00419">419</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga80bef25da5dad7e788b4427e8c5e7df6"></a><!-- doxytag: member="lustre_net.h::ptlrpc_interpterer_t" ref="ga80bef25da5dad7e788b4427e8c5e7df6" args=")(const struct lu_env *env, struct ptlrpc_request *req, void *arg, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="group__net.html#ga80bef25da5dad7e788b4427e8c5e7df6">ptlrpc_interpterer_t</a>)(const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *arg, int rc)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of request interpreter call-back. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00727">727</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gacaae2164af2591db6b5e1d2b208cb6e7"></a><!-- doxytag: member="lustre_net.h::ptlrpc_resend_cb_t" ref="gacaae2164af2591db6b5e1d2b208cb6e7" args=")(struct ptlrpc_request *req, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="group__net.html#gacaae2164af2591db6b5e1d2b208cb6e7">ptlrpc_resend_cb_t</a>)(struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *arg)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of request resend call-back. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00731">731</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8ba8258387b636ab4e5695917aa2847d"></a><!-- doxytag: member="lustre_net.h::set_interpreter_func" ref="ga8ba8258387b636ab4e5695917aa2847d" args=")(struct ptlrpc_request_set *, void *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="group__net.html#ga8ba8258387b636ab4e5695917aa2847d">set_interpreter_func</a>)(struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *, void *, int)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00558">558</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga17aa5caeef85aa78f71add31bf7afbe1"></a><!-- doxytag: member="lustre_net.h::set_producer_func" ref="ga17aa5caeef85aa78f71add31bf7afbe1" args=")(struct ptlrpc_request_set *, void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="group__net.html#ga17aa5caeef85aa78f71add31bf7afbe1">set_producer_func</a>)(struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *, void *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00559">559</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaafdde121d699c66fbef23b0a702d1cb0"></a><!-- doxytag: member="lustre_net.h::svc_handler_t" ref="gaafdde121d699c66fbef23b0a702d1cb0" args=")(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="group__net.html#gaafdde121d699c66fbef23b0a702d1cb0">svc_handler_t</a>)(struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01624">1624</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaad82b5875e63992cfb2e05f9b94fbc71"></a><!-- doxytag: member="lustre_net.h::timeout_cb_t" ref="gaad82b5875e63992cfb2e05f9b94fbc71" args=")(struct timeout_item *, void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="group__net.html#gaad82b5875e63992cfb2e05f9b94fbc71">timeout_cb_t</a>)(struct <a class="el" href="structtimeout__item.html">timeout_item</a> *, void *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02623">2623</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga9334a5b9057f32da96db9b5c6a045d67"></a><!-- doxytag: member="lustre_net.h::@64" ref="ga9334a5b9057f32da96db9b5c6a045d67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga9334a5b9057f32da96db9b5c6a045d67a93371c0e0bea3e5fad2bce495e27208c"></a><!-- doxytag: member="SVC_STOPPED" ref="gga9334a5b9057f32da96db9b5c6a045d67a93371c0e0bea3e5fad2bce495e27208c" args="" -->SVC_STOPPED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9334a5b9057f32da96db9b5c6a045d67a5ebda0e5982da48001134dbe2af8380c"></a><!-- doxytag: member="SVC_STOPPING" ref="gga9334a5b9057f32da96db9b5c6a045d67a5ebda0e5982da48001134dbe2af8380c" args="" -->SVC_STOPPING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9334a5b9057f32da96db9b5c6a045d67acc1c5776026581be68cdaa44692575c8"></a><!-- doxytag: member="SVC_STARTING" ref="gga9334a5b9057f32da96db9b5c6a045d67acc1c5776026581be68cdaa44692575c8" args="" -->SVC_STARTING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9334a5b9057f32da96db9b5c6a045d67aa18622e2516bc2d9afa7677b9abcf5d8"></a><!-- doxytag: member="SVC_RUNNING" ref="gga9334a5b9057f32da96db9b5c6a045d67aa18622e2516bc2d9afa7677b9abcf5d8" args="" -->SVC_RUNNING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9334a5b9057f32da96db9b5c6a045d67af709988d4f168fa61689380f61c8f2d8"></a><!-- doxytag: member="SVC_EVENT" ref="gga9334a5b9057f32da96db9b5c6a045d67af709988d4f168fa61689380f61c8f2d8" args="" -->SVC_EVENT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9334a5b9057f32da96db9b5c6a045d67a40ea6711c912ce18b1a61257fdb393fd"></a><!-- doxytag: member="SVC_SIGNAL" ref="gga9334a5b9057f32da96db9b5c6a045d67a40ea6711c912ce18b1a61257fdb393fd" args="" -->SVC_SIGNAL</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01493">1493</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef"></a><!-- doxytag: member="lustre_net.h::ptlrpc_bulk_op_type" ref="gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa12ee6cf66eed14d31f5147477afd4348"></a><!-- doxytag: member="PTLRPC_BULK_OP_ACTIVE" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa12ee6cf66eed14d31f5147477afd4348" args="" -->PTLRPC_BULK_OP_ACTIVE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa2bf06601e84e5331d9ffb9a6064b8ec1"></a><!-- doxytag: member="PTLRPC_BULK_OP_PASSIVE" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa2bf06601e84e5331d9ffb9a6064b8ec1" args="" -->PTLRPC_BULK_OP_PASSIVE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa98eba9075d97087c1e4045e27dbcc575"></a><!-- doxytag: member="PTLRPC_BULK_OP_PUT" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa98eba9075d97087c1e4045e27dbcc575" args="" -->PTLRPC_BULK_OP_PUT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa7cdb8b04883176b1a5ba530091a3d02d"></a><!-- doxytag: member="PTLRPC_BULK_OP_GET" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa7cdb8b04883176b1a5ba530091a3d02d" args="" -->PTLRPC_BULK_OP_GET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befab18bf6178c5653987d6e83cbc88e081b"></a><!-- doxytag: member="PTLRPC_BULK_BUF_KVEC" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befab18bf6178c5653987d6e83cbc88e081b" args="" -->PTLRPC_BULK_BUF_KVEC</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befabaa452223892ef095130445589233718"></a><!-- doxytag: member="PTLRPC_BULK_BUF_KIOV" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befabaa452223892ef095130445589233718" args="" -->PTLRPC_BULK_BUF_KIOV</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befaa1598107fe4601379268d5dcfca51ecb"></a><!-- doxytag: member="PTLRPC_BULK_GET_SOURCE" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befaa1598107fe4601379268d5dcfca51ecb" args="" -->PTLRPC_BULK_GET_SOURCE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa8b856d5ac35194a4ece56821a5f51678"></a><!-- doxytag: member="PTLRPC_BULK_PUT_SINK" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa8b856d5ac35194a4ece56821a5f51678" args="" -->PTLRPC_BULK_PUT_SINK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befad3718268b547f0e8fd544cf95d995d77"></a><!-- doxytag: member="PTLRPC_BULK_GET_SINK" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befad3718268b547f0e8fd544cf95d995d77" args="" -->PTLRPC_BULK_GET_SINK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa86654ac2b65137967228f369ccf0bd5f"></a><!-- doxytag: member="PTLRPC_BULK_PUT_SOURCE" ref="ggaa3f75b2ff04d1cf65bcbbe7ab0ea1befa86654ac2b65137967228f369ccf0bd5f" args="" -->PTLRPC_BULK_PUT_SOURCE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01331">1331</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaaa41ab709a4804427e6eb05360ebbed4"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_ctl_flags" ref="gaaa41ab709a4804427e6eb05360ebbed4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__net.html#gaaa41ab709a4804427e6eb05360ebbed4">ptlrpcd_ctl_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaaa41ab709a4804427e6eb05360ebbed4a895f6bfb71c0ef4b2dccbfad7483ce5c"></a><!-- doxytag: member="LIOD_START" ref="ggaaa41ab709a4804427e6eb05360ebbed4a895f6bfb71c0ef4b2dccbfad7483ce5c" args="" -->LIOD_START</em>&nbsp;</td><td>
<p>Ptlrpc thread start flag. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaaa41ab709a4804427e6eb05360ebbed4af770daedef7de3eaf332a0ff9413462c"></a><!-- doxytag: member="LIOD_STOP" ref="ggaaa41ab709a4804427e6eb05360ebbed4af770daedef7de3eaf332a0ff9413462c" args="" -->LIOD_STOP</em>&nbsp;</td><td>
<p>Ptlrpc thread stop flag. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaaa41ab709a4804427e6eb05360ebbed4ad315ddb8cfd7bec02047607f28de70e2"></a><!-- doxytag: member="LIOD_FORCE" ref="ggaaa41ab709a4804427e6eb05360ebbed4ad315ddb8cfd7bec02047607f28de70e2" args="" -->LIOD_FORCE</em>&nbsp;</td><td>
<p>Ptlrpc thread force flag (only stop force so far). </p>
<p>This will cause aborting any inflight rpcs handled by thread if LIOD_STOP is specified. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaaa41ab709a4804427e6eb05360ebbed4a5a3062cb119fabc0613a8b5dc2e7b75b"></a><!-- doxytag: member="LIOD_RECOVERY" ref="ggaaa41ab709a4804427e6eb05360ebbed4a5a3062cb119fabc0613a8b5dc2e7b75b" args="" -->LIOD_RECOVERY</em>&nbsp;</td><td>
<p>This is a recovery ptlrpc thread. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01922">1922</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0e456f0c28b52cad4b543eec9efa656a"></a><!-- doxytag: member="lustre_net.h::rq_phase" ref="ga0e456f0c28b52cad4b543eec9efa656a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__net.html#ga0e456f0c28b52cad4b543eec9efa656a">rq_phase</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>RPC stages. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga0e456f0c28b52cad4b543eec9efa656aa860f74a93b851affbf69064ad3063614"></a><!-- doxytag: member="RQ_PHASE_NEW" ref="gga0e456f0c28b52cad4b543eec9efa656aa860f74a93b851affbf69064ad3063614" args="" -->RQ_PHASE_NEW</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga0e456f0c28b52cad4b543eec9efa656aa4daad5600a5b8bca306f3107fa22f9b0"></a><!-- doxytag: member="RQ_PHASE_RPC" ref="gga0e456f0c28b52cad4b543eec9efa656aa4daad5600a5b8bca306f3107fa22f9b0" args="" -->RQ_PHASE_RPC</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga0e456f0c28b52cad4b543eec9efa656aadef7c88c2b9be8ba0daec4d1bc6c5fb0"></a><!-- doxytag: member="RQ_PHASE_BULK" ref="gga0e456f0c28b52cad4b543eec9efa656aadef7c88c2b9be8ba0daec4d1bc6c5fb0" args="" -->RQ_PHASE_BULK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga0e456f0c28b52cad4b543eec9efa656aa9f48f591c9f9032215c26eb2da589c87"></a><!-- doxytag: member="RQ_PHASE_INTERPRET" ref="gga0e456f0c28b52cad4b543eec9efa656aa9f48f591c9f9032215c26eb2da589c87" args="" -->RQ_PHASE_INTERPRET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga0e456f0c28b52cad4b543eec9efa656aade4cc4a5d9abae94a06fca77e02ac001"></a><!-- doxytag: member="RQ_PHASE_COMPLETE" ref="gga0e456f0c28b52cad4b543eec9efa656aade4cc4a5d9abae94a06fca77e02ac001" args="" -->RQ_PHASE_COMPLETE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga0e456f0c28b52cad4b543eec9efa656aabec81f203879e57981756845de1d8831"></a><!-- doxytag: member="RQ_PHASE_UNREGISTERING" ref="gga0e456f0c28b52cad4b543eec9efa656aabec81f203879e57981756845de1d8831" args="" -->RQ_PHASE_UNREGISTERING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga0e456f0c28b52cad4b543eec9efa656aa8a4d9594e7b1144a3f674112580e4401"></a><!-- doxytag: member="RQ_PHASE_UNDEFINED" ref="gga0e456f0c28b52cad4b543eec9efa656aa8a4d9594e7b1144a3f674112580e4401" args="" -->RQ_PHASE_UNDEFINED</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l00716">716</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga83197c087490e096e36a4397091d0c3f"></a><!-- doxytag: member="lustre_net.h::timeout_event" ref="ga83197c087490e096e36a4397091d0c3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__net.html#ga83197c087490e096e36a4397091d0c3f">timeout_event</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pinger API (client side only). </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga83197c087490e096e36a4397091d0c3facb5f259729035601652a1d3046585fcd"></a><!-- doxytag: member="TIMEOUT_GRANT" ref="gga83197c087490e096e36a4397091d0c3facb5f259729035601652a1d3046585fcd" args="" -->TIMEOUT_GRANT</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02619">2619</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga0868ef692f15726090390fd3a1ae258d"></a><!-- doxytag: member="lustre_net.h::__lustre_unpack_msg" ref="ga0868ef692f15726090390fd3a1ae258d" args="(struct lustre_msg *m, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __lustre_unpack_msg </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00574">574</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l01047">lustre_msg</a>, <a class="el" href="pack__generic_8c_source.html#l00524">lustre_unpack_msg_v2()</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01021">do_cli_unwrap_reply()</a>, <a class="el" href="sec__gss_8c_source.html#l00980">gss_cli_ctx_unseal()</a>, <a class="el" href="sec__gss_8c_source.html#l02195">gss_svc_unseal_request()</a>, <a class="el" href="pack__generic_8c_source.html#l00611">ptlrpc_unpack_rep_msg()</a>, <a class="el" href="pack__generic_8c_source.html#l00600">ptlrpc_unpack_req_msg()</a>, and <a class="el" href="sec_8c_source.html#l02070">sptlrpc_svc_unwrap_request()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaf3d6df55675560574b76a41836bdb2e"></a><!-- doxytag: member="lustre_net.h::__ptlrpc_prep_bulk_page" ref="gaaf3d6df55675560574b76a41836bdb2e" args="(struct ptlrpc_bulk_desc *desc, struct page *page, int pageoffset, int len, int pin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ptlrpc_prep_bulk_page </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pageoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pin</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l00205">205</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01485">BD_GET_KIOV</a>, <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="lustre__net_8h_source.html#l01454">ptlrpc_bulk_desc::bd_max_iov</a>, <a class="el" href="lustre__net_8h_source.html#l01455">ptlrpc_bulk_desc::bd_nob</a>, <a class="el" href="lustre__net_8h_source.html#l01442">ptlrpc_bulk_desc::bd_type</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00488">lnet_kiov_t::kiov_len</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00494">lnet_kiov_t::kiov_offset</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00486">lnet_kiov_t::kiov_page</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="lustre__net_8h_source.html#l01375">ptlrpc_is_bulk_desc_kiov()</a>.</p>

<p>Referenced by <a class="el" href="lustre__net_8h_source.html#l02151">ptlrpc_prep_bulk_page_nopin()</a>, and <a class="el" href="lustre__net_8h_source.html#l02144">ptlrpc_prep_bulk_page_pin()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa7acffec98d1468d2ef76654aaccade4"></a><!-- doxytag: member="lustre_net.h::_debug_req" ref="gaa7acffec98d1468d2ef76654aaccade4" args="(struct ptlrpc_request *req, struct libcfs_debug_msg_data *data, const char *fmt,...) __attribute__((format(printf" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _debug_req </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlibcfs__debug__msg__data.html">libcfs_debug_msg_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="gab3a1ba2f0cd4eab3b1a50cb7edbaf172"></a><!-- doxytag: member="lustre_net.h::client_bulk_callback" ref="gab3a1ba2f0cd4eab3b1a50cb7edbaf172" args="(lnet_event_t *ev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void client_bulk_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__event__t.html">lnet_event_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="events_8c_source.html#l00181">181</a> of file <a class="el" href="events_8c_source.html">events.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01434">ptlrpc_bulk_desc::bd_failure</a>, <a class="el" href="lustre__net_8h_source.html#l01438">ptlrpc_bulk_desc::bd_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01462">ptlrpc_bulk_desc::bd_md_count</a>, <a class="el" href="lustre__net_8h_source.html#l01456">ptlrpc_bulk_desc::bd_nob_transferred</a>, <a class="el" href="lustre__net_8h_source.html#l01450">ptlrpc_bulk_desc::bd_req</a>, <a class="el" href="lustre__net_8h_source.html#l01461">ptlrpc_bulk_desc::bd_sender</a>, <a class="el" href="lustre__net_8h_source.html#l01442">ptlrpc_bulk_desc::bd_type</a>, <a class="el" href="lustre__net_8h_source.html#l00635">ptlrpc_cb_id::cbid_arg</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__fail_8h_source.html#l00118">CFS_FAIL_CHECK_ORSET</a>, <a class="el" href="libcfs__fail_8h_source.html#l00066">CFS_FAIL_ONCE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00506">LNET_EVENT_GET</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00512">LNET_EVENT_PUT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00539">LNET_EVENT_UNLINK</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00586">lnet_event_t::md</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00575">lnet_event_t::mlength</a>, <a class="el" href="obd__support_8h_source.html#l00402">OBD_FAIL_PTLRPC_CLIENT_BULK_CB</a>, <a class="el" href="obd__support_8h_source.html#l00413">OBD_FAIL_PTLRPC_CLIENT_BULK_CB2</a>, <a class="el" href="lustre__net_8h_source.html#l02502">ptlrpc_client_wake_req()</a>, <a class="el" href="lustre__net_8h_source.html#l01349">ptlrpc_is_bulk_get_source()</a>, <a class="el" href="lustre__net_8h_source.html#l01354">ptlrpc_is_bulk_put_sink()</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_net_err</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00559">lnet_event_t::sender</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00596">lnet_event_t::status</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00561">lnet_event_t::type</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00603">lnet_event_t::unlinked</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00433">lnet_md_t::user_ptr</a>.</p>

<p>Referenced by <a class="el" href="events_8c_source.html#l00480">ptlrpc_master_callback()</a>, <a class="el" href="client_8c_source.html#l00174">ptlrpc_prep_bulk_imp()</a>, and <a class="el" href="niobuf_8c_source.html#l00301">ptlrpc_register_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="gab66008e96b57e399aaf8e48a351478f8"></a><!-- doxytag: member="lustre_net.h::client_connect_import" ref="gab66008e96b57e399aaf8e48a351478f8" args="(const struct lu_env *env, struct obd_export **exp, struct obd_device *obd, struct obd_uuid *cluuid, struct obd_connect_data *, void *localdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int client_connect_import </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> **&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>cluuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__connect__data.html">obd_connect_data</a> *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>localdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ldlm__lib_8c_source.html#l00527">527</a> of file <a class="el" href="ldlm__lib_8c_source.html">ldlm_lib.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00163">client_obd::cl_conn_count</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00160">client_obd::cl_sem</a>, <a class="el" href="genops_8c_source.html#l00708">class_conn2export()</a>, <a class="el" href="genops_8c_source.html#l01150">class_connect()</a>, <a class="el" href="genops_8c_source.html#l01220">class_disconnect()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00217">obd_export::exp_connection</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="lustre__import_8h_source.html#l00317">obd_import::imp_connect_flags_orig</a>, <a class="el" href="lustre__import_8h_source.html#l00168">obd_import::imp_dlm_handle</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00230">obd_import::imp_state</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lustre__import_8h_source.html#l00100">LUSTRE_IMP_DISCON</a>, <a class="el" href="obd_8h_source.html#l00460">LUSTRE_MDC_NAME</a>, <a class="el" href="lustre__idl_8h_source.html#l01244">OBD_CONNECT_MULTIMODRPCS</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="obd_8h_source.html#l00592">obd_device::obd_type</a>, <a class="el" href="lustre__idl_8h_source.html#l01336">obd_connect_data::ocd_connect_flags</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, <a class="el" href="import_8c_source.html#l00123">ptlrpc_init_import()</a>, <a class="el" href="pinger_8c_source.html#l00405">ptlrpc_pinger_add_import()</a>, <a class="el" href="obd_8h_source.html#l00111">obd_type::typ_name</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

</div>
</div>
<a class="anchor" id="ga0e64772578519b8f2ed8c0bd50b0a3a1"></a><!-- doxytag: member="lustre_net.h::client_destroy_import" ref="ga0e64772578519b8f2ed8c0bd50b0a3a1" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void client_destroy_import </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ldlm__lib_8c_source.html#l00220">220</a> of file <a class="el" href="ldlm__lib_8c_source.html">ldlm_lib.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l01091">class_destroy_import()</a>, <a class="el" href="genops_8c_source.html#l01005">class_import_get()</a>, <a class="el" href="genops_8c_source.html#l01015">class_import_put()</a>, and <a class="el" href="sec_8c_source.html#l01530">sptlrpc_import_sec_put()</a>.</p>

<p>Referenced by <a class="el" href="obd__class_8h_source.html#l00647">obd_cleanup_client_import()</a>.</p>

</div>
</div>
<a class="anchor" id="gab8ecd3b16250a80c377e9c9f7bfebfb8"></a><!-- doxytag: member="lustre_net.h::client_disconnect_export" ref="gab8ecd3b16250a80c377e9c9f7bfebfb8" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int client_disconnect_export </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ldlm__lib_8c_source.html#l00604">604</a> of file <a class="el" href="ldlm__lib_8c_source.html">ldlm_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00163">client_obd::cl_conn_count</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00160">client_obd::cl_sem</a>, <a class="el" href="genops_8c_source.html#l01220">class_disconnect()</a>, <a class="el" href="genops_8c_source.html#l00729">class_exp2obd()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00175">obd_export::exp_handle</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__handles_8h_source.html#l00067">portals_handle::h_cookie</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_deactive</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__dlm_8h_source.html#l00617">LCF_LOCAL</a>, <a class="el" href="ldlm__request_8c_source.html#l02029">ldlm_cli_cancel_unused()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00966">ldlm_namespace_free_prior()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_force</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="import_8c_source.html#l01550">ptlrpc_disconnect_import()</a>, <a class="el" href="import_8c_source.html#l00286">ptlrpc_invalidate_import()</a>, <a class="el" href="pinger_8c_source.html#l00428">ptlrpc_pinger_del_import()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02573">osc_disconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="gace2253d15c74ffe28cf60ed3518258b2"></a><!-- doxytag: member="lustre_net.h::client_import_add_conn" ref="gace2253d15c74ffe28cf60ed3518258b2" args="(struct obd_import *imp, struct obd_uuid *uuid, int priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int client_import_add_conn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ldlm__lib_8c_source.html#l00133">133</a> of file <a class="el" href="ldlm__lib_8c_source.html">ldlm_lib.c</a>.</p>

<p>References <a class="el" href="ldlm__lib_8c_source.html#l00058">import_set_conn()</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00261">client_obd_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga770f58b91f82d4b373b35f2b11cdf5d0"></a><!-- doxytag: member="lustre_net.h::client_import_del_conn" ref="ga770f58b91f82d4b373b35f2b11cdf5d0" args="(struct obd_import *imp, struct obd_uuid *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int client_import_del_conn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ldlm__lib_8c_source.html#l00140">140</a> of file <a class="el" href="ldlm__lib_8c_source.html">ldlm_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="genops_8c_source.html#l00708">class_conn2export()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00217">obd_export::exp_connection</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00271">obd_import::imp_conn_current</a>, <a class="el" href="lustre__import_8h_source.html#l00267">obd_import::imp_conn_list</a>, <a class="el" href="lustre__import_8h_source.html#l00170">obd_import::imp_connection</a>, <a class="el" href="lustre__import_8h_source.html#l00168">obd_import::imp_dlm_handle</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00230">obd_import::imp_state</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__import_8h_source.html#l00098">LUSTRE_IMP_CLOSED</a>, <a class="el" href="lustre__import_8h_source.html#l00100">LUSTRE_IMP_DISCON</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__user_8h_source.html#l00495">obd_uuid_equals()</a>, <a class="el" href="lustre__import_8h_source.html#l00143">obd_import_conn::oic_conn</a>, <a class="el" href="lustre__import_8h_source.html#l00141">obd_import_conn::oic_item</a>, <a class="el" href="lustre__import_8h_source.html#l00145">obd_import_conn::oic_uuid</a>, <a class="el" href="connection_8c_source.html#l00091">ptlrpc_connection_put()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

</div>
</div>
<a class="anchor" id="ga0d66e2da6f0da4bb948be01b9719af5c"></a><!-- doxytag: member="lustre_net.h::client_import_find_conn" ref="ga0d66e2da6f0da4bb948be01b9719af5c" args="(struct obd_import *imp, lnet_nid_t peer, struct obd_uuid *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int client_import_find_conn </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find conn UUID by peer NID. </p>
<p><em>peer</em> is a server NID. This function is used to find a conn uuid of <em>imp</em> which can reach <em>peer</em>. </p>

<p>Definition at line <a class="el" href="ldlm__lib_8c_source.html#l00199">199</a> of file <a class="el" href="ldlm__lib_8c_source.html">ldlm_lib.c</a>.</p>

<p>References <a class="el" href="lustre__peer_8c_source.html#l00190">class_check_uuid()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00267">obd_import::imp_conn_list</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__import_8h_source.html#l00141">obd_import_conn::oic_item</a>, <a class="el" href="lustre__import_8h_source.html#l00145">obd_import_conn::oic_uuid</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01329">mgc_apply_recover_logs()</a>.</p>

</div>
</div>
<a class="anchor" id="ga41252167a852a9399752defcf029083a"></a><!-- doxytag: member="lustre_net.h::client_obd_cleanup" ref="ga41252167a852a9399752defcf029083a" args="(struct obd_device *obddev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int client_obd_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obddev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ldlm__lib_8c_source.html#l00504">504</a> of file <a class="el" href="ldlm__lib_8c_source.html">ldlm_lib.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00301">client_obd::cl_mod_tag_bitmap</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__resource_8c_source.html#l01007">ldlm_namespace_free_post()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02798">ldlm_put_ref()</a>, <a class="el" href="obd__class_8h_source.html#l00647">obd_cleanup_client_import()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd_8h_source.html#l00134">OBD_MAX_RIF_MAX</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="lwp__dev_8c_source.html#l00358">lwp_device_fini()</a>, <a class="el" href="lwp__dev_8c_source.html#l00078">lwp_setup()</a>, <a class="el" href="mdc__request_8c_source.html#l02720">mdc_cleanup()</a>, <a class="el" href="mgc__request_8c_source.html#l00873">mgc_cleanup()</a>, <a class="el" href="mgc__request_8c_source.html#l00891">mgc_setup()</a>, <a class="el" href="osc__request_8c_source.html#l02874">osc_cleanup()</a>, <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>, <a class="el" href="osp__dev_8c_source.html#l01319">osp_device_fini()</a>, and <a class="el" href="osp__dev_8c_source.html#l00996">osp_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="gabcdaa31fdbdb87a69a06d19c43bbcda0"></a><!-- doxytag: member="lustre_net.h::client_obd_setup" ref="gabcdaa31fdbdb87a69a06d19c43bbcda0" args="(struct obd_device *obddev, struct lustre_cfg *lcfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int client_obd_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obddev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>lcfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Target client logic. </p>

<p>Definition at line <a class="el" href="ldlm__lib_8c_source.html#l00261">261</a> of file <a class="el" href="ldlm__lib_8c_source.html">ldlm_lib.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00193">client_obd::cl_avail_grant</a>, <a class="el" href="obd_8h_source.html#l00203">client_obd::cl_cache_waiters</a>, <a class="el" href="obd_8h_source.html#l00312">client_obd::cl_checksum</a>, <a class="el" href="obd_8h_source.html#l00210">client_obd::cl_chunkbits</a>, <a class="el" href="obd_8h_source.html#l00316">client_obd::cl_cksum_type</a>, <a class="el" href="obd_8h_source.html#l00299">client_obd::cl_close_rpcs_in_flight</a>, <a class="el" href="obd_8h_source.html#l00163">client_obd::cl_conn_count</a>, <a class="el" href="obd_8h_source.html#l00289">client_obd::cl_destroy_in_flight</a>, <a class="el" href="obd_8h_source.html#l00290">client_obd::cl_destroy_waitq</a>, <a class="el" href="obd_8h_source.html#l00190">client_obd::cl_dirty_pages</a>, <a class="el" href="obd_8h_source.html#l00187">client_obd::cl_flvr_mgc</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00236">client_obd::cl_loi_hp_ready_list</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="obd_8h_source.html#l00238">client_obd::cl_loi_read_list</a>, <a class="el" href="obd_8h_source.html#l00235">client_obd::cl_loi_ready_list</a>, <a class="el" href="obd_8h_source.html#l00237">client_obd::cl_loi_write_list</a>, <a class="el" href="obd_8h_source.html#l00264">client_obd::cl_lru_busy</a>, <a class="el" href="obd_8h_source.html#l00266">client_obd::cl_lru_in_list</a>, <a class="el" href="obd_8h_source.html#l00278">client_obd::cl_lru_list</a>, <a class="el" href="obd_8h_source.html#l00280">client_obd::cl_lru_list_lock</a>, <a class="el" href="obd_8h_source.html#l00256">client_obd::cl_lru_osc</a>, <a class="el" href="obd_8h_source.html#l00269">client_obd::cl_lru_shrinkers</a>, <a class="el" href="obd_8h_source.html#l00183">client_obd::cl_max_mds_easize</a>, <a class="el" href="obd_8h_source.html#l00297">client_obd::cl_max_mod_rpcs_in_flight</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="obd_8h_source.html#l00245">client_obd::cl_max_rpcs_in_flight</a>, <a class="el" href="obd_8h_source.html#l00305">client_obd::cl_mgc_mutex</a>, <a class="el" href="obd_8h_source.html#l00302">client_obd::cl_mod_rpcs_hist</a>, <a class="el" href="obd_8h_source.html#l00298">client_obd::cl_mod_rpcs_in_flight</a>, <a class="el" href="obd_8h_source.html#l00296">client_obd::cl_mod_rpcs_lock</a>, <a class="el" href="obd_8h_source.html#l00300">client_obd::cl_mod_rpcs_waitq</a>, <a class="el" href="obd_8h_source.html#l00301">client_obd::cl_mod_tag_bitmap</a>, <a class="el" href="obd_8h_source.html#l00243">client_obd::cl_pending_r_pages</a>, <a class="el" href="obd_8h_source.html#l00242">client_obd::cl_pending_w_pages</a>, <a class="el" href="obd_8h_source.html#l00239">client_obd::cl_r_in_flight</a>, <a class="el" href="obd_8h_source.html#l00250">client_obd::cl_read_offset_hist</a>, <a class="el" href="obd_8h_source.html#l00248">client_obd::cl_read_page_hist</a>, <a class="el" href="obd_8h_source.html#l00246">client_obd::cl_read_rpc_hist</a>, <a class="el" href="obd_8h_source.html#l00324">client_obd::cl_resends</a>, <a class="el" href="obd_8h_source.html#l00160">client_obd::cl_sem</a>, <a class="el" href="obd_8h_source.html#l00286">client_obd::cl_shrink_list</a>, <a class="el" href="obd_8h_source.html#l00185">client_obd::cl_sp_me</a>, <a class="el" href="obd_8h_source.html#l00186">client_obd::cl_sp_to</a>, <a class="el" href="obd_8h_source.html#l00314">client_obd::cl_supp_cksum_types</a>, <a class="el" href="obd_8h_source.html#l00161">client_obd::cl_target_uuid</a>, <a class="el" href="obd_8h_source.html#l00284">client_obd::cl_unstable_count</a>, <a class="el" href="obd_8h_source.html#l00240">client_obd::cl_w_in_flight</a>, <a class="el" href="obd_8h_source.html#l00251">client_obd::cl_write_offset_hist</a>, <a class="el" href="obd_8h_source.html#l00249">client_obd::cl_write_page_hist</a>, <a class="el" href="obd_8h_source.html#l00247">client_obd::cl_write_rpc_hist</a>, <a class="el" href="genops_8c_source.html#l01091">class_destroy_import()</a>, <a class="el" href="genops_8c_source.html#l01015">class_import_put()</a>, <a class="el" href="genops_8c_source.html#l01049">class_new_import()</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, <a class="el" href="obd_8h_source.html#l01215">client_adjust_max_dirty()</a>, <a class="el" href="ldlm__lib_8c_source.html#l00133">client_import_add_conn()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00172">obd_import::imp_client</a>, <a class="el" href="lustre__import_8h_source.html#l00315">obd_import::imp_connect_op</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_deactive</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="obd_8h_source.html#l00478">is_lwp_on_mdt()</a>, <a class="el" href="obd_8h_source.html#l00504">is_lwp_on_ost()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02783">ldlm_get_ref()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00096">LDLM_NAMESPACE_CLIENT</a>, <a class="el" href="lustre__dlm_8h_source.html#l00305">LDLM_NAMESPACE_GREEDY</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00340">LDLM_NS_TYPE_MDC</a>, <a class="el" href="lustre__dlm_8h_source.html#l00344">LDLM_NS_TYPE_MGC</a>, <a class="el" href="lustre__dlm_8h_source.html#l00342">LDLM_NS_TYPE_OSC</a>, <a class="el" href="lustre__dlm_8h_source.html#l00339">LDLM_NS_TYPE_UNKNOWN</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02798">ldlm_put_ref()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00182">lustre_cfg_buf()</a>, <a class="el" href="lustre__cfg_8h_source.html#l00146">LUSTRE_CFG_BUFLEN</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="obd_8h_source.html#l00454">LUSTRE_LWP_NAME</a>, <a class="el" href="obd_8h_source.html#l00460">LUSTRE_MDC_NAME</a>, <a class="el" href="obd_8h_source.html#l00466">LUSTRE_MGC_NAME</a>, <a class="el" href="obd_8h_source.html#l00463">LUSTRE_OSC_NAME</a>, <a class="el" href="obd_8h_source.html#l00453">LUSTRE_OSP_NAME</a>, <a class="el" href="lustre__sec_8h_source.html#l00316">LUSTRE_SP_CLI</a>, <a class="el" href="lustre__sec_8h_source.html#l00317">LUSTRE_SP_MDT</a>, <a class="el" href="lustre__sec_8h_source.html#l00319">LUSTRE_SP_MGC</a>, <a class="el" href="lustre__sec_8h_source.html#l00320">LUSTRE_SP_MGS</a>, <a class="el" href="lustre__sec_8h_source.html#l00318">LUSTRE_SP_OST</a>, <a class="el" href="lustre__idl_8h_source.html#l00100">MDC_REPLY_PORTAL</a>, <a class="el" href="packet-lustre_8c_source.html#l00206">MDS_CONNECT</a>, <a class="el" href="lustre__idl_8h_source.html#l00102">MDS_REQUEST_PORTAL</a>, <a class="el" href="lustre__idl_8h_source.html#l00115">MGC_REPLY_PORTAL</a>, <a class="el" href="packet-lustre_8c_source.html#l00309">MGS_CONNECT</a>, <a class="el" href="lustre__idl_8h_source.html#l00116">MGS_REQUEST_PORTAL</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="lustre__idl_8h_source.html#l01389">OBD_CKSUM_CRC32</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd_8h_source.html#l00642">obd_device::obd_ldlm_client</a>, <a class="el" href="obd_8h_source.html#l00133">OBD_MAX_RIF_DEFAULT</a>, <a class="el" href="obd_8h_source.html#l00134">OBD_MAX_RIF_MAX</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="obd_8h_source.html#l00592">obd_device::obd_type</a>, <a class="el" href="lprocfs__status_8h_source.html#l00066">obd_histogram::oh_lock</a>, <a class="el" href="obd_8h_source.html#l00138">OSC_DEFAULT_RESENDS</a>, <a class="el" href="ldlm__lib_8c_source.html#l00240">osc_on_mdt()</a>, <a class="el" href="lustre__idl_8h_source.html#l00094">OSC_REPLY_PORTAL</a>, <a class="el" href="packet-lustre_8c_source.html#l00171">OST_CONNECT</a>, <a class="el" href="lustre__idl_8h_source.html#l00118">OST_REQUEST_PORTAL</a>, <a class="el" href="lustre__idl_8h_source.html#l00114">OUT_PORTAL</a>, <a class="el" href="client_8c_source.html#l00074">ptlrpc_init_client()</a>, <a class="el" href="lustre__net_8h_source.html#l00105">PTLRPC_MAX_BRW_PAGES</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__sec_8h_source.html#l00292">sptlrpc_flavor::sf_rpc</a>, <a class="el" href="lustre__sec_8h_source.html#l00250">SPTLRPC_FLVR_INVALID</a>, <a class="el" href="obd_8h_source.html#l00111">obd_type::typ_name</a>, <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="lwp__dev_8c_source.html#l00078">lwp_setup()</a>, <a class="el" href="mdc__request_8c_source.html#l02642">mdc_setup()</a>, <a class="el" href="mgc__request_8c_source.html#l00891">mgc_setup()</a>, <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>, and <a class="el" href="osp__dev_8c_source.html#l00996">osp_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7c5dee1feb43474335f9a79fa06e173f"></a><!-- doxytag: member="lustre_net.h::deuuidify" ref="ga7c5dee1feb43474335f9a79fa06e173f" args="(char *uuid, const char *prefix, char **uuid_start, int *uuid_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deuuidify </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>uuid_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>uuid_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="import_8c_source.html#l00137">137</a> of file <a class="el" href="import_8c_source.html">import.c</a>.</p>

<p>References <a class="el" href="import_8c_source.html#l00136">UUID_STR</a>.</p>

<p>Referenced by <a class="el" href="import_8c_source.html#l00503">import_select_connection()</a>, <a class="el" href="import_8c_source.html#l01449">ptlrpc_import_recovery_state_machine()</a>, and <a class="el" href="import_8c_source.html#l00163">ptlrpc_set_import_discon()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7f7cd84c38bd70963730d1338076a21d"></a><!-- doxytag: member="lustre_net.h::import_set_conn_priority" ref="ga7f7cd84c38bd70963730d1338076a21d" args="(struct obd_import *imp, struct obd_uuid *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int import_set_conn_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ldlm__lib_8c_source.html#l00128">128</a> of file <a class="el" href="ldlm__lib_8c_source.html">ldlm_lib.c</a>.</p>

<p>References <a class="el" href="ldlm__lib_8c_source.html#l00058">import_set_conn()</a>.</p>

<p>Referenced by <a class="el" href="recover_8c_source.html#l00333">ptlrpc_recover_import()</a>.</p>

</div>
</div>
<a class="anchor" id="ga90dec4ae9fc60a0730d7675e6618229b"></a><!-- doxytag: member="lustre_net.h::liblustre_check_services" ref="ga90dec4ae9fc60a0730d7675e6618229b" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int liblustre_check_services </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="gac9b02b599f8ac342b03f25da53bcb168"></a><!-- doxytag: member="lustre_net.h::ll_opcode2str" ref="gac9b02b599f8ac342b03f25da53bcb168" args="(__u32 opcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ll_opcode2str </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>opcode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>procfs output related functions </p>

<p>Definition at line <a class="el" href="lproc__ptlrpc_8c_source.html#l00163">163</a> of file <a class="el" href="lproc__ptlrpc_8c_source.html">lproc_ptlrpc.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lproc__ptlrpc_8c.html#a8dc0a9cf731c077780f5e302cd0c7ddc">ll_rpc_opcode_table</a>, <a class="el" href="lprocfs__status_8h_source.html#l00314">LUSTRE_MAX_OPCODES</a>, <a class="el" href="lprocfs__status_8h_source.html#l00204">opcode_offset()</a>, and <a class="el" href="lproc__ptlrpc_8c_source.html#l00050">ll_rpc_opcode::opname</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01219">ptlrpc_check_status()</a>.</p>

</div>
</div>
<a class="anchor" id="ga34e330a518ed1972949561b4df491aeb"></a><!-- doxytag: member="lustre_net.h::llog_origin_handle_close" ref="ga34e330a518ed1972949561b4df491aeb" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_origin_handle_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__server_8c_source.html#l00332">332</a> of file <a class="el" href="llog__server_8c_source.html">llog_server.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02153">ldlm_callback_handler()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01467">tgt_llog_close()</a>.</p>

</div>
</div>
<a class="anchor" id="ga355d1b7adee0199650bd610106fb01f1"></a><!-- doxytag: member="lustre_net.h::llog_origin_handle_destroy" ref="ga355d1b7adee0199650bd610106fb01f1" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_origin_handle_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__server_8c_source.html#l00118">118</a> of file <a class="el" href="llog__server_8c_source.html">llog_server.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00139">D_WARNING</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lustre__idl_8h_source.html#l03367">llogd_body::lgd_ctxt_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03368">llogd_body::lgd_llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__idl_8h_source.html#l03064">llog_logid::lgl_oi</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="llog_8c_source.html#l01014">llog_erase()</a>, <a class="el" href="packet-lustre_8c_source.html#l00357">LLOG_F_IS_PLAIN</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__idl_8h_source.html#l03059">LLOG_MAX_CTXTS</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__idl_8h_source.html#l00546">ostid_id()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="tgt__handler_8c_source.html#l01480">tgt_llog_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="ga99484c789b25c3cb5c04ea01bd738704"></a><!-- doxytag: member="lustre_net.h::llog_origin_handle_next_block" ref="ga99484c789b25c3cb5c04ea01bd738704" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_origin_handle_next_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__server_8c_source.html#l00157">157</a> of file <a class="el" href="llog__server_8c_source.html">llog_server.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00139">D_WARNING</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l03367">llogd_body::lgd_ctxt_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03372">llogd_body::lgd_cur_offset</a>, <a class="el" href="lustre__idl_8h_source.html#l03369">llogd_body::lgd_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03368">llogd_body::lgd_llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__idl_8h_source.html#l03370">llogd_body::lgd_saved_index</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="lustre__idl_8h_source.html#l03059">LLOG_MAX_CTXTS</a>, <a class="el" href="lustre__idl_8h_source.html#l03300">LLOG_MIN_CHUNK_SIZE</a>, <a class="el" href="lustre__log_8h_source.html#l00447">llog_next_block()</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog__server_8c_source.html#l00050">llog_origin_close()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02153">ldlm_callback_handler()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01503">tgt_llog_next_block()</a>.</p>

</div>
</div>
<a class="anchor" id="ga483f32cf35c540381bf42ad5d39996dd"></a><!-- doxytag: member="lustre_net.h::llog_origin_handle_open" ref="ga483f32cf35c540381bf42ad5d39996dd" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_origin_handle_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__server_8c_source.html#l00059">59</a> of file <a class="el" href="llog__server_8c_source.html">llog_server.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00139">D_WARNING</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l03367">llogd_body::lgd_ctxt_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__log_8h_source.html#l00265">llog_handle::lgh_id</a>, <a class="el" href="lustre__idl_8h_source.html#l03064">llog_logid::lgl_oi</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="lustre__idl_8h_source.html#l03059">LLOG_MAX_CTXTS</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog__server_8c_source.html#l00050">llog_origin_close()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00651">obd_device::obd_olg</a>, <a class="el" href="lustre__idl_8h_source.html#l00546">ostid_id()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02396">req_capsule_field_present()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="layout_8c_source.html#l00978">RMF_NAME</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02153">ldlm_callback_handler()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01455">tgt_llog_open()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8502b96b5f278d5bab2bfc3332c6d062"></a><!-- doxytag: member="lustre_net.h::llog_origin_handle_prev_block" ref="ga8502b96b5f278d5bab2bfc3332c6d062" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_origin_handle_prev_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__server_8c_source.html#l00218">218</a> of file <a class="el" href="llog__server_8c_source.html">llog_server.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00139">D_WARNING</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l03367">llogd_body::lgd_ctxt_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03369">llogd_body::lgd_index</a>, <a class="el" href="lustre__idl_8h_source.html#l03368">llogd_body::lgd_llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="lustre__idl_8h_source.html#l03059">LLOG_MAX_CTXTS</a>, <a class="el" href="lustre__idl_8h_source.html#l03300">LLOG_MIN_CHUNK_SIZE</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog__server_8c_source.html#l00050">llog_origin_close()</a>, <a class="el" href="lustre__log_8h_source.html#l00468">llog_prev_block()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="tgt__handler_8c_source.html#l01515">tgt_llog_prev_block()</a>.</p>

</div>
</div>
<a class="anchor" id="gacb61cb1b7710780fff85d3f0279428c5"></a><!-- doxytag: member="lustre_net.h::llog_origin_handle_read_header" ref="gacb61cb1b7710780fff85d3f0279428c5" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int llog_origin_handle_read_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__server_8c_source.html#l00278">278</a> of file <a class="el" href="llog__server_8c_source.html">llog_server.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00139">D_WARNING</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__idl_8h_source.html#l03367">llogd_body::lgd_ctxt_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03368">llogd_body::lgd_llh_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03366">llogd_body::lgd_logid</a>, <a class="el" href="lustre__log_8h_source.html#l00266">llog_handle::lgh_hdr</a>, <a class="el" href="lustre__idl_8h_source.html#l03312">llog_log_hdr::llh_flags</a>, <a class="el" href="lustre__log_8h_source.html#l00375">llog_ctxt_put()</a>, <a class="el" href="lustre__log_8h_source.html#l00431">llog_get_context()</a>, <a class="el" href="llog_8c_source.html#l00345">llog_init_handle()</a>, <a class="el" href="lustre__idl_8h_source.html#l03059">LLOG_MAX_CTXTS</a>, <a class="el" href="llog_8c_source.html#l01083">llog_open()</a>, <a class="el" href="lustre__log_8h_source.html#l00064">LLOG_OPEN_EXISTS</a>, <a class="el" href="llog__server_8c_source.html#l00050">llog_origin_close()</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01005">RMF_LLOG_LOG_HDR</a>, <a class="el" href="layout_8c_source.html#l01000">RMF_LLOGD_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02153">ldlm_callback_handler()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01491">tgt_llog_read_header()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3f4bc7c975ca5f3f346d7869bb3f4091"></a><!-- doxytag: member="lustre_net.h::lustre_free_reply_state" ref="ga3f4bc7c975ca5f3f346d7869bb3f4091" args="(struct ptlrpc_reply_state *rs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_free_reply_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *&nbsp;</td>
          <td class="paramname"> <em>rs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00508">508</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="pack__generic_8c_source.html#l00279">PTLRPC_RS_DEBUG_LRU_DEL</a>, <a class="el" href="lustre__net_8h_source.html#l00664">ptlrpc_reply_state::rs_difficult</a>, <a class="el" href="lustre__net_8h_source.html#l00655">ptlrpc_reply_state::rs_exp_list</a>, <a class="el" href="lustre__net_8h_source.html#l00687">ptlrpc_reply_state::rs_export</a>, <a class="el" href="lustre__net_8h_source.html#l00669">ptlrpc_reply_state::rs_handled</a>, <a class="el" href="lustre__net_8h_source.html#l00677">ptlrpc_reply_state::rs_nlocks</a>, <a class="el" href="lustre__net_8h_source.html#l00657">ptlrpc_reply_state::rs_obd_list</a>, <a class="el" href="lustre__net_8h_source.html#l00670">ptlrpc_reply_state::rs_on_net</a>, <a class="el" href="lustre__net_8h_source.html#l00675">ptlrpc_reply_state::rs_refcount</a>, <a class="el" href="lustre__net_8h_source.html#l00667">ptlrpc_reply_state::rs_scheduled</a>, and <a class="el" href="sec_8c_source.html#l02201">sptlrpc_svc_free_rs()</a>.</p>

<p>Referenced by <a class="el" href="lustre__net_8h_source.html#l02518">ptlrpc_rs_decref()</a>.</p>

</div>
</div>
<a class="anchor" id="ga675f94ce12272868d6f12b98ee1def0d"></a><!-- doxytag: member="lustre_net.h::lustre_init_msg_v2" ref="ga675f94ce12272868d6f12b98ee1def0d" args="(struct lustre_msg_v2 *msg, int count, __u32 *lens, char **bufs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_init_msg_v2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__msg__v2.html">lustre_msg_v2</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>lens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>bufs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00192">192</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01051">lustre_msg_v2::lm_bufcount</a>, <a class="el" href="lustre__idl_8h_source.html#l01059">lustre_msg_v2::lm_buflens</a>, <a class="el" href="lustre__idl_8h_source.html#l01053">lustre_msg_v2::lm_magic</a>, <a class="el" href="libcfs__private_8h_source.html#l00482">LOGL</a>, <a class="el" href="pack__generic_8c_source.html#l00060">lustre_msg_hdr_size_v2()</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01253">gss_alloc_reqbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01335">gss_alloc_reqbuf_priv()</a>, <a class="el" href="sec__gss_8c_source.html#l00881">gss_cli_ctx_seal()</a>, <a class="el" href="sec__gss_8c_source.html#l02517">gss_svc_alloc_rs()</a>, <a class="el" href="sec__gss_8c_source.html#l02637">gss_svc_seal()</a>, <a class="el" href="pack__generic_8c_source.html#l00329">lustre_pack_reply_v2()</a>, <a class="el" href="pack__generic_8c_source.html#l00216">lustre_pack_request_v2()</a>, <a class="el" href="sec__plain_8c_source.html#l00552">plain_alloc_reqbuf()</a>, and <a class="el" href="sec__plain_8c_source.html#l00803">plain_alloc_rs()</a>.</p>

</div>
</div>
<a class="anchor" id="ga680b03200ebe0b9e31464e5d5999091a"></a><!-- doxytag: member="lustre_net.h::lustre_msg_add_flags" ref="ga680b03200ebe0b9e31464e5d5999091a" args="(struct lustre_msg *msg, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_add_flags </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00848">848</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l00101">mdc_get_root()</a>, <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="recover_8c_source.html#l00072">ptlrpc_replay_next()</a>, <a class="el" href="client_8c_source.html#l02769">ptlrpc_retain_replayable_request()</a>, and <a class="el" href="import_8c_source.html#l01368">signal_completed_replay()</a>.</p>

</div>
</div>
<a class="anchor" id="ga936d750268a27c353fdd2ac940ab20c8"></a><!-- doxytag: member="lustre_net.h::lustre_msg_add_op_flags" ref="ga936d750268a27c353fdd2ac940ab20c8" args="(struct lustre_msg *msg, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_add_op_flags </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00908">908</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00056">mgs_connect()</a>, and <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>.</p>

</div>
</div>
<a class="anchor" id="ga066a801c595cf650dd7538bf3e8f773a"></a><!-- doxytag: member="lustre_net.h::lustre_msg_add_version" ref="ga066a801c595cf650dd7538bf3e8f773a" args="(struct lustre_msg *msg, __u32 version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_add_version </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00975">975</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00329">lustre_pack_reply_v2()</a>, <a class="el" href="pack__generic_8c_source.html#l00216">lustre_pack_request_v2()</a>, and <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf86387935cc1ebf32b6befd3c486f9d1"></a><!-- doxytag: member="lustre_net.h::lustre_msg_buf" ref="gaf86387935cc1ebf32b6befd3c486f9d1" args="(struct lustre_msg *m, __u32 n, __u32 minlen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* lustre_msg_buf </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>minlen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00436">436</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="pack__generic_8c_source.html#l00408">lustre_msg_buf_v2()</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="layout_8c_source.html#l01995">__req_capsule_get()</a>, <a class="el" href="sec_8c_source.html#l01631">_sptlrpc_enlarge_msg_inplace()</a>, <a class="el" href="sec__bulk_8c_source.html#l00879">bulk_sec_desc_unpack()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00066">ctx_init_pack_request()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00146">ctx_init_parse_reply()</a>, <a class="el" href="sec__gss_8c_source.html#l01253">gss_alloc_reqbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01335">gss_alloc_reqbuf_priv()</a>, <a class="el" href="sec__gss_8c_source.html#l00881">gss_cli_ctx_seal()</a>, <a class="el" href="sec__gss_8c_source.html#l00980">gss_cli_ctx_unseal()</a>, <a class="el" href="gss__bulk_8c_source.html#l00168">gss_cli_ctx_unwrap_bulk()</a>, <a class="el" href="sec__gss_8c_source.html#l00757">gss_cli_ctx_verify()</a>, <a class="el" href="gss__bulk_8c_source.html#l00062">gss_cli_ctx_wrap_bulk()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00376">gss_do_ctx_fini_rpc()</a>, <a class="el" href="sec__gss_8c_source.html#l01642">gss_enlarge_reqbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01733">gss_enlarge_reqbuf_priv()</a>, <a class="el" href="sec__gss_8c_source.html#l01955">gss_pack_err_notify()</a>, <a class="el" href="sec__gss_8c_source.html#l00177">gss_sign_msg()</a>, <a class="el" href="sec__gss_8c_source.html#l02517">gss_svc_alloc_rs()</a>, <a class="el" href="sec__gss_8c_source.html#l02318">gss_svc_handle_destroy()</a>, <a class="el" href="sec__gss_8c_source.html#l01996">gss_svc_handle_init()</a>, <a class="el" href="sec__gss_8c_source.html#l02637">gss_svc_seal()</a>, <a class="el" href="sec__gss_8c_source.html#l01913">gss_svc_sign()</a>, <a class="el" href="sec__gss_8c_source.html#l02195">gss_svc_unseal_request()</a>, <a class="el" href="gss__svc__upcall_8c_source.html#l00908">gss_svc_upcall_handle_init()</a>, <a class="el" href="sec__gss_8c_source.html#l02114">gss_svc_verify_request()</a>, <a class="el" href="sec__gss_8c_source.html#l00107">gss_swab_header()</a>, <a class="el" href="sec__gss_8c_source.html#l00275">gss_unseal_msg()</a>, <a class="el" href="sec__gss_8c_source.html#l00239">gss_verify_msg()</a>, <a class="el" href="ofd__dlm_8c_source.html#l00129">ofd_intent_policy()</a>, <a class="el" href="sec__plain_8c_source.html#l00731">plain_accept()</a>, <a class="el" href="sec__plain_8c_source.html#l00552">plain_alloc_reqbuf()</a>, <a class="el" href="sec__plain_8c_source.html#l00859">plain_authorize()</a>, <a class="el" href="sec__plain_8c_source.html#l00337">plain_cli_unwrap_bulk()</a>, <a class="el" href="sec__plain_8c_source.html#l00294">plain_cli_wrap_bulk()</a>, <a class="el" href="sec__plain_8c_source.html#l00195">plain_ctx_sign()</a>, <a class="el" href="sec__plain_8c_source.html#l00220">plain_ctx_verify()</a>, <a class="el" href="sec__plain_8c_source.html#l00654">plain_enlarge_reqbuf()</a>, <a class="el" href="sec__plain_8c_source.html#l00907">plain_svc_unwrap_bulk()</a>, <a class="el" href="sec__plain_8c_source.html#l00941">plain_svc_wrap_bulk()</a>, <a class="el" href="sec__plain_8c_source.html#l00101">plain_unpack_bsd()</a>, <a class="el" href="layout_8c_source.html#l02448">req_capsule_server_grow()</a>, <a class="el" href="sec_8c_source.html#l02444">sptlrpc_pack_user_desc()</a>, and <a class="el" href="sec_8c_source.html#l02468">sptlrpc_unpack_user_desc()</a>.</p>

</div>
</div>
<a class="anchor" id="gac7dfe0f3f8a3973f5b2c2853454dcde6"></a><!-- doxytag: member="lustre_net.h::lustre_msg_buf_v2" ref="gac7dfe0f3f8a3973f5b2c2853454dcde6" args="(struct lustre_msg_v2 *m, __u32 n, __u32 min_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* lustre_msg_buf_v2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__msg__v2.html">lustre_msg_v2</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>min_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00408">408</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l01051">lustre_msg_v2::lm_bufcount</a>, <a class="el" href="lustre__idl_8h_source.html#l01059">lustre_msg_v2::lm_buflens</a>, <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="pack__generic_8c_source.html#l00060">lustre_msg_hdr_size_v2()</a>, <a class="el" href="lustre__idl_8h_source.html#l01125">MSG_PTLRPC_BODY_OFF</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00779">__lustre_swab_buf()</a>, <a class="el" href="pack__generic_8c_source.html#l00436">lustre_msg_buf()</a>, <a class="el" href="pack__generic_8c_source.html#l01251">lustre_msg_get_jobid()</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, <a class="el" href="pack__generic_8c_source.html#l01496">lustre_msg_set_jobid()</a>, <a class="el" href="pack__generic_8c_source.html#l00733">lustre_msg_string()</a>, <a class="el" href="pack__generic_8c_source.html#l00449">lustre_shrink_msg_v2()</a>, <a class="el" href="pack__generic_8c_source.html#l00622">lustre_unpack_ptlrpc_body_v2()</a>, and <a class="el" href="sec__plain_8c_source.html#l00803">plain_alloc_rs()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6f44a8677c4acf578c772774ba0cf93e"></a><!-- doxytag: member="lustre_net.h::lustre_msg_bufcount" ref="ga6f44a8677c4acf578c772774ba0cf93e" args="(struct lustre_msg *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_bufcount </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>m</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00722">722</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="layout_8c_source.html#l01995">__req_capsule_get()</a>, and <a class="el" href="layout_8c_source.html#l02396">req_capsule_field_present()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8ddfe4bfdb34b2159b8281fb3c6e09a4"></a><!-- doxytag: member="lustre_net.h::lustre_msg_buflen" ref="ga8ddfe4bfdb34b2159b8281fb3c6e09a4" args="(struct lustre_msg *m, __u32 n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_buflen </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>n</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>lustre_msg_buflen - return the length of buffer <em>n</em> in message <em>m</em> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>lustre_msg (request or reply) to look at </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>message index (base 0)</td></tr>
  </table>
  </dd>
</dl>
<p>returns zero for non-existent message indices </p>

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00688">688</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="pack__generic_8c_source.html#l00673">lustre_msg_buflen_v2()</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="layout_8c_source.html#l01995">__req_capsule_get()</a>, <a class="el" href="sec__gss_8c_source.html#l00881">gss_cli_ctx_seal()</a>, <a class="el" href="gss__bulk_8c_source.html#l00168">gss_cli_ctx_unwrap_bulk()</a>, <a class="el" href="sec__gss_8c_source.html#l00757">gss_cli_ctx_verify()</a>, <a class="el" href="gss__bulk_8c_source.html#l00062">gss_cli_ctx_wrap_bulk()</a>, <a class="el" href="sec__gss_8c_source.html#l02517">gss_svc_alloc_rs()</a>, <a class="el" href="sec__gss_8c_source.html#l01996">gss_svc_handle_init()</a>, <a class="el" href="sec__gss_8c_source.html#l02637">gss_svc_seal()</a>, <a class="el" href="sec__gss_8c_source.html#l01913">gss_svc_sign()</a>, <a class="el" href="sec__gss_8c_source.html#l02195">gss_svc_unseal_request()</a>, <a class="el" href="sec__gss_8c_source.html#l02114">gss_svc_verify_request()</a>, <a class="el" href="sec__gss_8c_source.html#l00275">gss_unseal_msg()</a>, <a class="el" href="pack__generic_8c_source.html#l01298">lustre_msg_calc_cksum()</a>, <a class="el" href="sec__plain_8c_source.html#l00859">plain_authorize()</a>, <a class="el" href="sec__plain_8c_source.html#l00220">plain_ctx_verify()</a>, <a class="el" href="sec__plain_8c_source.html#l00101">plain_unpack_bsd()</a>, <a class="el" href="layout_8c_source.html#l02263">req_capsule_get_size()</a>, and <a class="el" href="layout_8c_source.html#l02416">req_capsule_shrink()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1f3e7b2437b921cd4173cc356084583b"></a><!-- doxytag: member="lustre_net.h::lustre_msg_calc_cksum" ref="ga1f3e7b2437b921cd4173cc356084583b" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_calc_cksum </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01298">1298</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-crypto_8c_source.html#l00152">cfs_crypto_hash_digest()</a>, <a class="el" href="libcfs__crypto_8h_source.html#l00044">CFS_HASH_ALG_CRC32</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="pack__generic_8c_source.html#l00688">lustre_msg_buflen()</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, <a class="el" href="lustre__idl_8h_source.html#l01125">MSG_PTLRPC_BODY_OFF</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="sec__null_8c_source.html#l00351">null_authorize()</a>, and <a class="el" href="sec__null_8c_source.html#l00095">null_ctx_verify()</a>.</p>

</div>
</div>
<a class="anchor" id="gac7a9b2c131fb724a634b28295311e90d"></a><!-- doxytag: member="lustre_net.h::lustre_msg_check_version" ref="gac7a9b2c131fb724a634b28295311e90d" args="(struct lustre_msg *msg, __u32 version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_msg_check_version </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00104">104</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="pack__generic_8c_source.html#l00097">lustre_msg_check_version_v2()</a>, <a class="el" href="packet-lustre_8c_source.html#l00047">LUSTRE_MSG_MAGIC_V1</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="tgt__handler_8c_source.html#l00653">tgt_request_handle()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4407c10c8d31d9a5c3e6bedee6e1bde0"></a><!-- doxytag: member="lustre_net.h::lustre_msg_clear_flags" ref="ga4407c10c8d31d9a5c3e6bedee6e1bde0" args="(struct lustre_msg *msg, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_clear_flags </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00877">877</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, <a class="el" href="lustre__idl_8h_source.html#l01151">MSG_GEN_FLAG_MASK</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03215">mdt_intent_fixup_resent()</a>, and <a class="el" href="client_8c_source.html#l02769">ptlrpc_retain_replayable_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0ec5cd43001c5914c7921da08598ba0c"></a><!-- doxytag: member="lustre_net.h::lustre_msg_early_size" ref="ga0ec5cd43001c5914c7921da08598ba0c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_early_size </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00121">121</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00158">lustre_msg_size()</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l02854">gss_init_at_reply_offset()</a>, <a class="el" href="sec__null_8c_source.html#l00199">null_alloc_repbuf()</a>, <a class="el" href="sec__null_8c_source.html#l00351">null_authorize()</a>, and <a class="el" href="sec__plain_8c_source.html#l01017">sptlrpc_plain_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gab1fab96e53cfbe27a7634cde2fd6146e"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_cksum" ref="gab1fab96e53cfbe27a7634cde2fd6146e" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_cksum </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01270">1270</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="sec__null_8c_source.html#l00095">null_ctx_verify()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8a5b544ffbfafa4fb89c592e719ac9e5"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_conn_cnt" ref="ga8a5b544ffbfafa4fb89c592e719ac9e5" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_conn_cnt </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01188">1188</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="mgs__handler_8c_source.html#l00056">mgs_connect()</a>, <a class="el" href="ofd__dev_8c_source.html#l01553">ofd_create_hdl()</a>, <a class="el" href="service_8c_source.html#l01117">ptlrpc_check_req()</a>, <a class="el" href="client_8c_source.html#l02050">ptlrpc_expire_one_request()</a>, and <a class="el" href="recover_8c_source.html#l00249">ptlrpc_request_handle_notconn()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7039633508af55679f204cff967f1879"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_flags" ref="ga7039633508af55679f204cff967f1879" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_flags </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00829">829</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l02392">_debug_req()</a>, <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="mdt__internal_8h_source.html#l00921">mdt_check_resent()</a>, <a class="el" href="mdt__handler_8c_source.html#l02396">mdt_check_resent_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l00500">mdt_finish_open()</a>, <a class="el" href="mdt__handler_8c_source.html#l01366">mdt_getattr_name_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l03215">mdt_intent_fixup_resent()</a>, <a class="el" href="mdt__handler_8c_source.html#l03121">mdt_intent_lock_replace()</a>, <a class="el" href="mdt__open_8c_source.html#l00777">mdt_object_open_lock()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, <a class="el" href="mdt__reint_8c_source.html#l00871">mdt_reint_unlink()</a>, <a class="el" href="ofd__dev_8c_source.html#l01553">ofd_create_hdl()</a>, <a class="el" href="out__handler_8c_source.html#l00060">out_check_resent()</a>, <a class="el" href="tgt__handler_8c_source.html#l00607">process_req_last_xid()</a>, <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="client_8c_source.html#l00357">ptlrpc_at_adj_net_latency()</a>, <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>, <a class="el" href="niobuf_8c_source.html#l00477">ptlrpc_at_set_reply()</a>, <a class="el" href="service_8c_source.html#l01117">ptlrpc_check_req()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, <a class="el" href="client_8c_source.html#l01254">ptlrpc_save_versions()</a>, <a class="el" href="service_8c_source.html#l01522">ptlrpc_server_check_resend_in_progress()</a>, <a class="el" href="events_8c_source.html#l00091">reply_in_callback()</a>, <a class="el" href="lu__target_8h_source.html#l00345">req_is_replay()</a>, <a class="el" href="fid__handler_8c_source.html#l00400">seq_handler()</a>, <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>, <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>, <a class="el" href="tgt__handler_8c_source.html#l00514">tgt_handle_recovery()</a>, and <a class="el" href="ofd__internal_8h_source.html#l00527">tsi2ofd_info()</a>.</p>

</div>
</div>
<a class="anchor" id="gad75d2dc265242a98676033489842e8c1"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_handle" ref="gad75d2dc265242a98676033489842e8c1" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlustre__handle.html">lustre_handle</a>* lustre_msg_get_handle </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00923">923</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>, <a class="el" href="import_8c_source.html#l00984">ptlrpc_connect_interpret()</a>, and <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>.</p>

</div>
</div>
<a class="anchor" id="ga31246dd9883e11558349659fa4d34162"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_jobid" ref="ga31246dd9883e11558349659fa4d34162" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* lustre_msg_get_jobid </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01251">1251</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="pack__generic_8c_source.html#l00408">lustre_msg_buf_v2()</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="lustre__idl_8h_source.html#l01125">MSG_PTLRPC_BODY_OFF</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="mdt__lproc_8c_source.html#l00929">mdt_counter_incr()</a>, <a class="el" href="mdt__internal_8h_source.html#l01056">mdt_req_get_jobid()</a>, and <a class="el" href="tgt__handler_8c_source.html#l00653">tgt_request_handle()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4ac5547cd6b69a63dd6232cf44428f11"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_last_committed" ref="ga4ac5547cd6b69a63dd6232cf44428f11" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> lustre_msg_get_last_committed </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01044">1044</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="mdc__request_8c_source.html#l00101">mdc_get_root()</a>, <a class="el" href="osp__trans_8c_source.html#l01019">osp_request_commit_cb()</a>, and <a class="el" href="import_8c_source.html#l00984">ptlrpc_connect_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="gae1e0c34642d37fbb79ad0decc534a802"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_last_xid" ref="gae1e0c34642d37fbb79ad0decc534a802" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> lustre_msg_get_last_xid </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01008">1008</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="tgt__handler_8c_source.html#l00607">process_req_last_xid()</a>.</p>

</div>
</div>
<a class="anchor" id="gaee4ba63f57ed3b69dfa3d34d31c56fcb"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_limit" ref="gaee4ba63f57ed3b69dfa3d34d31c56fcb" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_limit </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01152">1152</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l01294">ldlm_cli_update_pool()</a>.</p>

</div>
</div>
<a class="anchor" id="ga01eb6e83d9ebdde883ab568eb3f8dc27"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_magic" ref="ga01eb6e83d9ebdde883ab568eb3f8dc27" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_magic </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01206">1206</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="lustre__net_8h_source.html#l02535">lustre_request_magic()</a>, and <a class="el" href="niobuf_8c_source.html#l00477">ptlrpc_at_set_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga88b6efce1585cbc6a60b84006e486678"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_mbits" ref="ga88b6efce1585cbc6a60b84006e486678" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> lustre_msg_get_mbits </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01281">1281</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

</div>
</div>
<a class="anchor" id="ga6b9caf652e934e32217574de70f0ee18"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_op_flags" ref="ga6b9caf652e934e32217574de70f0ee18" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_op_flags </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00892">892</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="import_8c_source.html#l00984">ptlrpc_connect_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5889b19f527897c102df244998c9de02"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_opc" ref="ga5889b19f527897c102df244998c9de02" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_opc </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00989">989</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l02392">_debug_req()</a>, <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="ldlm__lockd_8c_source.html#l02153">ldlm_callback_handler()</a>, <a class="el" href="pack__generic_8c_source.html#l00408">lustre_msg_buf_v2()</a>, <a class="el" href="pack__generic_8c_source.html#l01496">lustre_msg_set_jobid()</a>, <a class="el" href="lustre__mdc_8h_source.html#l00168">mdc_get_mod_rpc_slot()</a>, <a class="el" href="lustre__mdc_8h_source.html#l00180">mdc_put_mod_rpc_slot()</a>, <a class="el" href="mdc__request_8c_source.html#l00574">mdc_replay_open()</a>, <a class="el" href="mdt__open_8c_source.html#l00197">mdt_empty_transno()</a>, <a class="el" href="mdt__handler_8c_source.html#l01136">mdt_getattr()</a>, <a class="el" href="mdt__handler_8c_source.html#l00905">mdt_getattr_internal()</a>, <a class="el" href="mdt__idmap_8c_source.html#l00135">mdt_handle_idmap()</a>, <a class="el" href="mdt__handler_8c_source.html#l02170">mdt_sec_ctx_handle()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00130">mdt_steal_ack_locks()</a>, <a class="el" href="ofd__dev_8c_source.html#l02422">ofd_rw_hpreq_lock_match()</a>, <a class="el" href="osc__request_8c_source.html#l01369">osc_brw_fini_request()</a>, <a class="el" href="osc__request_8c_source.html#l01518">osc_brw_redo_request()</a>, <a class="el" href="osc__lock_8c_source.html#l00582">osc_ldlm_glimpse_ast()</a>, <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="client_8c_source.html#l01219">ptlrpc_check_status()</a>, <a class="el" href="client_8c_source.html#l01187">ptlrpc_console_allow()</a>, <a class="el" href="service_8c_source.html#l01620">ptlrpc_hpreq_handler()</a>, <a class="el" href="client_8c_source.html#l01120">ptlrpc_import_delay_req()</a>, <a class="el" href="nrs_8c_source.html#l00861">ptlrpc_nrs_hpreq_add_nolock()</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00396">ptlrpc_req_is_connect()</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00406">ptlrpc_req_is_disconnect()</a>, <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>, <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>, <a class="el" href="service_8c_source.html#l01999">ptlrpc_server_handle_request()</a>, <a class="el" href="qsd__lock_8c_source.html#l00135">qsd_common_glimpse_ast()</a>, <a class="el" href="tgt__handler_8c_source.html#l02310">req_can_reconstruct()</a>, <a class="el" href="ldlm__lib_8c_source.html#l02860">target_send_reply()</a>, <a class="el" href="ldlm__lib_8c_source.html#l02835">target_send_reply_msg()</a>, <a class="el" href="tgt__handler_8c_source.html#l00471">tgt_filter_recovery_request()</a>, <a class="el" href="tgt__handler_8c_source.html#l00514">tgt_handle_recovery()</a>, <a class="el" href="tgt__handler_8c_source.html#l00371">tgt_handle_request0()</a>, <a class="el" href="tgt__handler_8c_source.html#l00570">tgt_handler_find_check()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01130">tgt_last_rcvd_update()</a>, <a class="el" href="tgt__handler_8c_source.html#l00653">tgt_request_handle()</a>, and <a class="el" href="tgt__handler_8c_source.html#l00300">tgt_request_preprocess()</a>.</p>

</div>
</div>
<a class="anchor" id="gace5ea0242057ff28a144714e38029efe"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_service_time" ref="gace5ea0242057ff28a144714e38029efe" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_service_time </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01234">1234</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="client_8c_source.html#l00421">ptlrpc_at_recv_early_reply()</a>, and <a class="el" href="import_8c_source.html#l00984">ptlrpc_connect_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="ga75b1983d0a0620bce67698d9c74606ce"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_slv" ref="ga75b1983d0a0620bce67698d9c74606ce" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> lustre_msg_get_slv </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01116">1116</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l01294">ldlm_cli_update_pool()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaa6ef42a52d75cf87cb0b7834606093b"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_status" ref="gaaa6ef42a52d75cf87cb0b7834606093b" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_msg_get_status </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01098">1098</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l02392">_debug_req()</a>, <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="mdc__request_8c_source.html#l00757">mdc_close()</a>, <a class="el" href="mdt__open_8c_source.html#l02047">mdt_close()</a>, <a class="el" href="mdt__handler_8c_source.html#l01806">mdt_reint_internal()</a>, <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="client_8c_source.html#l01219">ptlrpc_check_status()</a>, <a class="el" href="client_8c_source.html#l01187">ptlrpc_console_allow()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, <a class="el" href="client_8c_source.html#l03006">ptlrpc_replay_req()</a>, <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>, and <a class="el" href="service_8c_source.html#l01999">ptlrpc_server_handle_request()</a>.</p>

</div>
</div>
<a class="anchor" id="gad697a66b5792cd2cd75bcf95f87d012b"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_tag" ref="gad697a66b5792cd2cd75bcf95f87d012b" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u16 lustre_msg_get_tag </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01026">1026</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="lustre__mdc_8h_source.html#l00180">mdc_put_mod_rpc_slot()</a>, <a class="el" href="tgt__handler_8c_source.html#l00607">process_req_last_xid()</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l01130">tgt_last_rcvd_update()</a>.</p>

</div>
</div>
<a class="anchor" id="gac8ece5ff148e7b332a8408646971193c"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_timeout" ref="gac8ece5ff148e7b332a8408646971193c" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_timeout </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01217">1217</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="client_8c_source.html#l00421">ptlrpc_at_recv_early_reply()</a>, and <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9bedef213e170e969899bfab36bb8fb0"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_transno" ref="ga9bedef213e170e969899bfab36bb8fb0" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> lustre_msg_get_transno </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01080">1080</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l02392">_debug_req()</a>, <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="mdt__open_8c_source.html#l00197">mdt_empty_transno()</a>, <a class="el" href="mdt__open_8c_source.html#l00623">mdt_reconstruct_open()</a>, <a class="el" href="mdt__handler_8c_source.html#l02910">mdt_thread_info_init()</a>, <a class="el" href="osc__request_8c_source.html#l00366">osc_create()</a>, <a class="el" href="service_8c_source.html#l01117">ptlrpc_check_req()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, <a class="el" href="service_8c_source.html#l01999">ptlrpc_server_handle_request()</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l01130">tgt_last_rcvd_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ga01d33f66f8a27c313cd4db66ea0bdbc6"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_type" ref="ga01d33f66f8a27c313cd4db66ea0bdbc6" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_type </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00940">940</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, <a class="el" href="packet-lustre_8c_source.html#l00360">PTL_RPC_MSG_ERR</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="mdc__request_8c_source.html#l00757">mdc_close()</a>, <a class="el" href="client_8c_source.html#l01219">ptlrpc_check_status()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, and <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>.</p>

</div>
</div>
<a class="anchor" id="ga89d53cb5a8d4f00ed4c92a25969c444d"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_version" ref="ga89d53cb5a8d4f00ed4c92a25969c444d" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_get_version </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00958">958</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00097">lustre_msg_check_version_v2()</a>, and <a class="el" href="tgt__handler_8c_source.html#l00653">tgt_request_handle()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf4f241bad6b8f2477c2d1176835fa44f"></a><!-- doxytag: member="lustre_net.h::lustre_msg_get_versions" ref="gaf4f241bad6b8f2477c2d1176835fa44f" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>* lustre_msg_get_versions </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01062">1062</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="mdt__open_8c_source.html#l00197">mdt_empty_transno()</a>, <a class="el" href="mdt__reint_8c_source.html#l00083">mdt_version_check()</a>, <a class="el" href="mdt__reint_8c_source.html#l00116">mdt_version_save()</a>, <a class="el" href="client_8c_source.html#l01254">ptlrpc_save_versions()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l01130">tgt_last_rcvd_update()</a>, and <a class="el" href="ofd__internal_8h_source.html#l00527">tsi2ofd_info()</a>.</p>

</div>
</div>
<a class="anchor" id="gaff9112552bf89bd375921061a1dd2b85"></a><!-- doxytag: member="lustre_net.h::lustre_msg_hdr_size" ref="gaff9112552bf89bd375921061a1dd2b85" args="(__u32 magic, __u32 count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_hdr_size </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00066">66</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="pack__generic_8c_source.html#l00060">lustre_msg_hdr_size_v2()</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="layout_8c_source.html#l02296">req_capsule_fmt_size()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa079849f1357fc2699237871d0531258"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_buflen" ref="gaa079849f1357fc2699237871d0531258" args="(struct lustre_msg *m, __u32 n, __u32 len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_buflen </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00709">709</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, and <a class="el" href="pack__generic_8c_source.html#l00701">lustre_msg_set_buflen_v2()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2da3c742415b9c88d9b8ad49211a0bfd"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_cksum" ref="ga2da3c742415b9c88d9b8ad49211a0bfd" args="(struct lustre_msg *msg, __u32 cksum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_cksum </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>cksum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01525">1525</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="sec__null_8c_source.html#l00351">null_authorize()</a>.</p>

</div>
</div>
<a class="anchor" id="ga53b3384718936bcef0bce14187a7c379"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_conn_cnt" ref="ga53b3384718936bcef0bce14187a7c379" args="(struct lustre_msg *msg, __u32 conn_cnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_conn_cnt </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>conn_cnt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01454">1454</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l00622">ctx_refresh_timeout()</a>, and <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gada3542d777501a1faceed38b584aacf0"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_flags" ref="gada3542d777501a1faceed38b584aacf0" args="(struct lustre_msg *msg, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_flags </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00863">863</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l02226">replay_one_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9661a4e2ee3f8bb75a5512d9070903cd"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_handle" ref="ga9661a4e2ee3f8bb75a5512d9070903cd" args="(struct lustre_msg *msg, struct lustre_handle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_handle </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01320">1320</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, and <a class="el" href="client_8c_source.html#l02717">ptlrpc_resend_req()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1c7457d1600c44342f8be69cb25a2646"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_jobid" ref="ga1c7457d1600c44342f8be69cb25a2646" args="(struct lustre_msg *msg, char *jobid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_jobid </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>jobid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01496">1496</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00287">LDLM_BL_CALLBACK</a>, <a class="el" href="packet-lustre_8c_source.html#l00288">LDLM_CP_CALLBACK</a>, <a class="el" href="packet-lustre_8c_source.html#l00289">LDLM_GL_CALLBACK</a>, <a class="el" href="class__obd_8c_source.html#l00130">lustre_get_jobid()</a>, <a class="el" href="lustre__user_8h_source.html#l00854">LUSTRE_JOBID_SIZE</a>, <a class="el" href="pack__generic_8c_source.html#l00408">lustre_msg_buf_v2()</a>, <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="lustre__idl_8h_source.html#l01125">MSG_PTLRPC_BODY_OFF</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="client_8c_source.html#l01050">ptlrpc_set_add_req()</a>, and <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3c3a3ba4abbddaf007796fa6532a91ee"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_last_committed" ref="ga3c3a3ba4abbddaf007796fa6532a91ee" args="(struct lustre_msg *msg, __u64 last_committed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_last_committed </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>last_committed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01392">1392</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

</div>
</div>
<a class="anchor" id="gad22d60ce1da1272ccbdb640de0c4ab38"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_last_xid" ref="gad22d60ce1da1272ccbdb640de0c4ab38" args="(struct lustre_msg *msg, __u64 last_xid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_last_xid </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>last_xid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01362">1362</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, and <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>.</p>

</div>
</div>
<a class="anchor" id="gaac6d72b5cde5803459955f9b39480b73"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_limit" ref="gaac6d72b5cde5803459955f9b39480b73" args="(struct lustre_msg *msg, __u64 limit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_limit </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>limit</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01170">1170</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l02810">target_pack_pool_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga682a6cac8b98c3a8ad2122b3c887ca15"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_mbits" ref="ga682a6cac8b98c3a8ad2122b3c887ca15" args="(struct lustre_msg *msg, __u64 mbits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_mbits </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>mbits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01536">1536</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga340f5c94b8d8274c155dd269283a3bb5"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_opc" ref="ga340f5c94b8d8274c155dd269283a3bb5" args="(struct lustre_msg *msg, __u32 opc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_opc </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>opc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01348">1348</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>, and <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4e3c3687a2b470bfea8a0093067e26f5"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_service_time" ref="ga4e3c3687a2b470bfea8a0093067e26f5" args="(struct lustre_msg *msg, __u32 service_time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_service_time </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>service_time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01482">1482</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00477">ptlrpc_at_set_reply()</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, and <a class="el" href="client_8c_source.html#l03006">ptlrpc_replay_req()</a>.</p>

</div>
</div>
<a class="anchor" id="gab04cac335854c3ed32f2d61d7ea8f20d"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_slv" ref="gab04cac335854c3ed32f2d61d7ea8f20d" args="(struct lustre_msg *msg, __u64 slv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_slv </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>slv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01134">1134</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l02810">target_pack_pool_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7f9de05092069e96b6ec4932bcd138d1"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_status" ref="ga7f9de05092069e96b6ec4932bcd138d1" args="(struct lustre_msg *msg, __u32 status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_status </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01439">1439</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="mdt__open_8c_source.html#l00623">mdt_reconstruct_open()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00180">mdt_req_from_lrd()</a>, <a class="el" href="out__handler_8c_source.html#l00060">out_check_resent()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>, and <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga49511c8ab44ce45f0cb42052399a6a00"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_tag" ref="ga49511c8ab44ce45f0cb42052399a6a00" args="(struct lustre_msg *msg, __u16 tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_tag </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u16&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01377">1377</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="lustre__mdc_8h_source.html#l00168">mdc_get_mod_rpc_slot()</a>.</p>

</div>
</div>
<a class="anchor" id="gaeaac365936d81c960708510421690066"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_timeout" ref="gaeaac365936d81c960708510421690066" args="(struct lustre_msg *msg, __u32 timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_timeout </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01468">1468</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00421">ptlrpc_at_recv_early_reply()</a>, <a class="el" href="niobuf_8c_source.html#l00477">ptlrpc_at_set_reply()</a>, <a class="el" href="client_8c_source.html#l00293">ptlrpc_at_set_req_timeout()</a>, and <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3866ca9b0ab811a58b005c6459519b3a"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_transno" ref="ga3866ca9b0ab811a58b005c6459519b3a" args="(struct lustre_msg *msg, __u64 transno)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_transno </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>transno</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01424">1424</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="mdt__open_8c_source.html#l00197">mdt_empty_transno()</a>, <a class="el" href="mdt__open_8c_source.html#l00500">mdt_finish_open()</a>, <a class="el" href="mdt__lib_8c_source.html#l00689">mdt_fix_reply()</a>, <a class="el" href="mdt__open_8c_source.html#l01180">mdt_reint_open()</a>, <a class="el" href="mdt__recovery_8c_source.html#l00180">mdt_req_from_lrd()</a>, <a class="el" href="out__handler_8c_source.html#l00060">out_check_resent()</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l01130">tgt_last_rcvd_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ga69bbda1293ed3ddb76113eda09cd7e05"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_type" ref="ga69bbda1293ed3ddb76113eda09cd7e05" args="(struct lustre_msg *msg, __u32 type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_type </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01334">1334</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, and <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3ae7fb0ee2a942e263d0b35929530d79"></a><!-- doxytag: member="lustre_net.h::lustre_msg_set_versions" ref="ga3ae7fb0ee2a942e263d0b35929530d79" args="(struct lustre_msg *msg, __u64 *versions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msg_set_versions </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>versions</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01406">1406</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00799">lustre_msg_ptlrpc_body()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="mdt__recovery_8c_source.html#l00180">mdt_req_from_lrd()</a>, and <a class="el" href="client_8c_source.html#l01254">ptlrpc_save_versions()</a>.</p>

</div>
</div>
<a class="anchor" id="ga32c4986e896273a264d87bbc5d28bc70"></a><!-- doxytag: member="lustre_net.h::lustre_msg_size" ref="ga32c4986e896273a264d87bbc5d28bc70" args="(__u32 magic, int count, __u32 *lengths)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_size </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>lengths</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00158">158</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00139">lustre_msg_size_v2()</a>, <a class="el" href="lustre__idl_8h_source.html#l01125">MSG_PTLRPC_BODY_OFF</a>, <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00121">lustre_msg_early_size()</a>, <a class="el" href="pack__generic_8c_source.html#l00372">lustre_pack_reply_flags()</a>, <a class="el" href="pack__generic_8c_source.html#l01562">ptlrpc_req_set_repsize()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, and <a class="el" href="layout_8c_source.html#l02281">req_capsule_msg_size()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4a6268b0e3e950415cc3d4900b744f5d"></a><!-- doxytag: member="lustre_net.h::lustre_msg_size_v2" ref="ga4a6268b0e3e950415cc3d4900b744f5d" args="(int count, __u32 *lengths)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msg_size_v2 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>lengths</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00139">139</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="lustre__user_8h_source.html#l01295">cfs_size_round()</a>, <a class="el" href="pack__generic_8c_source.html#l00060">lustre_msg_hdr_size_v2()</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01631">_sptlrpc_enlarge_msg_inplace()</a>, <a class="el" href="sec__gss_8c_source.html#l01606">get_enlarged_msgsize()</a>, <a class="el" href="sec__gss_8c_source.html#l01621">get_enlarged_msgsize2()</a>, <a class="el" href="sec__gss_8c_source.html#l01488">gss_alloc_repbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01541">gss_alloc_repbuf_priv()</a>, <a class="el" href="sec__gss_8c_source.html#l01253">gss_alloc_reqbuf_intg()</a>, <a class="el" href="sec__gss_8c_source.html#l01335">gss_alloc_reqbuf_priv()</a>, <a class="el" href="sec__gss_8c_source.html#l00881">gss_cli_ctx_seal()</a>, <a class="el" href="sec__gss_8c_source.html#l01733">gss_enlarge_reqbuf_priv()</a>, <a class="el" href="sec__gss_8c_source.html#l02854">gss_init_at_reply_offset()</a>, <a class="el" href="sec__gss_8c_source.html#l01955">gss_pack_err_notify()</a>, <a class="el" href="sec__gss_8c_source.html#l00177">gss_sign_msg()</a>, <a class="el" href="sec__gss_8c_source.html#l02517">gss_svc_alloc_rs()</a>, <a class="el" href="sec__gss_8c_source.html#l02637">gss_svc_seal()</a>, <a class="el" href="pack__generic_8c_source.html#l00158">lustre_msg_size()</a>, <a class="el" href="pack__generic_8c_source.html#l00329">lustre_pack_reply_v2()</a>, <a class="el" href="pack__generic_8c_source.html#l00216">lustre_pack_request_v2()</a>, <a class="el" href="pack__generic_8c_source.html#l00181">lustre_packed_msg_size()</a>, <a class="el" href="pack__generic_8c_source.html#l00449">lustre_shrink_msg_v2()</a>, <a class="el" href="sec__plain_8c_source.html#l00611">plain_alloc_repbuf()</a>, <a class="el" href="sec__plain_8c_source.html#l00552">plain_alloc_reqbuf()</a>, <a class="el" href="sec__plain_8c_source.html#l00803">plain_alloc_rs()</a>, <a class="el" href="sec__plain_8c_source.html#l00859">plain_authorize()</a>, <a class="el" href="sec__plain_8c_source.html#l00195">plain_ctx_sign()</a>, <a class="el" href="sec__plain_8c_source.html#l00654">plain_enlarge_reqbuf()</a>, and <a class="el" href="sec__plain_8c_source.html#l01017">sptlrpc_plain_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga330ed85a023a0002340a4ba73a1e808d"></a><!-- doxytag: member="lustre_net.h::lustre_msg_string" ref="ga330ed85a023a0002340a4ba73a1e808d" args="(struct lustre_msg *m, __u32 n, __u32 max_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* lustre_msg_string </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>max_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00733">733</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="pack__generic_8c_source.html#l00408">lustre_msg_buf_v2()</a>, <a class="el" href="pack__generic_8c_source.html#l00673">lustre_msg_buflen_v2()</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, and <a class="el" href="lnet_2utils_2wirecheck_8c_source.html#l00051">strnlen</a>.</p>

<p>Referenced by <a class="el" href="layout_8c_source.html#l01995">__req_capsule_get()</a>.</p>

</div>
</div>
<a class="anchor" id="gafa52f54de41c43cabe289cdaa7fedc1b"></a><!-- doxytag: member="lustre_net.h::lustre_msghdr_get_flags" ref="gafa52f54de41c43cabe289cdaa7fedc1b" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_msghdr_get_flags </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00805">805</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l02637">gss_svc_seal()</a>, <a class="el" href="sec__gss_8c_source.html#l01913">gss_svc_sign()</a>, <a class="el" href="sec__null_8c_source.html#l00351">null_authorize()</a>, <a class="el" href="sec__plain_8c_source.html#l00859">plain_authorize()</a>, <a class="el" href="service_8c_source.html#l01182">ptlrpc_at_add_timed()</a>, <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>, <a class="el" href="niobuf_8c_source.html#l00477">ptlrpc_at_set_reply()</a>, <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>, <a class="el" href="events_8c_source.html#l00091">reply_in_callback()</a>, and <a class="el" href="sec_8c_source.html#l01090">sptlrpc_cli_unwrap_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga641c3578b5bba1f589b31f8b05a635bf"></a><!-- doxytag: member="lustre_net.h::lustre_msghdr_set_flags" ref="ga641c3578b5bba1f589b31f8b05a635bf" args="(struct lustre_msg *msg, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lustre_msghdr_set_flags </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00818">818</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, and <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga931e9c4b5f584f4101c94dfcd3462c5f"></a><!-- doxytag: member="lustre_net.h::lustre_pack_reply" ref="ga931e9c4b5f584f4101c94dfcd3462c5f" args="(struct ptlrpc_request *, int count, __u32 *lens, char **bufs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_pack_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>lens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>bufs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00401">401</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="pack__generic_8c_source.html#l00372">lustre_pack_reply_flags()</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l01966">ldlm_callback_reply()</a>, <a class="el" href="ofd__dlm_8c_source.html#l00129">ofd_intent_policy()</a>, <a class="el" href="osc__lock_8c_source.html#l00582">osc_ldlm_glimpse_ast()</a>, <a class="el" href="niobuf_8c_source.html#l00626">ptlrpc_send_error()</a>, and <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>.</p>

</div>
</div>
<a class="anchor" id="ga59c89b28811f4f38f28b2b7d339797f6"></a><!-- doxytag: member="lustre_net.h::lustre_pack_reply_flags" ref="ga59c89b28811f4f38f28b2b7d339797f6" args="(struct ptlrpc_request *, int count, __u32 *lens, char **bufs, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_pack_reply_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>lens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>bufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00372">372</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00158">lustre_msg_size()</a>, <a class="el" href="pack__generic_8c_source.html#l00329">lustre_pack_reply_v2()</a>, <a class="el" href="lustre__idl_8h_source.html#l01125">MSG_PTLRPC_BODY_OFF</a>, <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00401">lustre_pack_reply()</a>, and <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga33e4ff610e2b182cd78c74131c847cb0"></a><!-- doxytag: member="lustre_net.h::lustre_pack_reply_v2" ref="ga33e4ff610e2b182cd78c74131c847cb0" args="(struct ptlrpc_request *req, int count, __u32 *lens, char **bufs, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_pack_reply_v2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>lens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>bufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00329">329</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00635">ptlrpc_cb_id::cbid_arg</a>, <a class="el" href="structptlrpc__cb__id.html#a58f3b9cf321abbbda3162af4e35c310e">ptlrpc_cb_id::cbid_fn</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__net_8h_source.html#l02316">LPRFL_EARLY_REPLY</a>, <a class="el" href="pack__generic_8c_source.html#l00192">lustre_init_msg_v2()</a>, <a class="el" href="pack__generic_8c_source.html#l00975">lustre_msg_add_version()</a>, <a class="el" href="pack__generic_8c_source.html#l00139">lustre_msg_size_v2()</a>, <a class="el" href="lustre__idl_8h_source.html#l00138">PTLRPC_MSG_VERSION</a>, <a class="el" href="pack__generic_8c_source.html#l00278">PTLRPC_RS_DEBUG_LRU_ADD</a>, <a class="el" href="events_8c_source.html#l00390">reply_out_callback()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01003">ptlrpc_request::rq_packed_final</a>, <a class="el" href="lustre__net_8h_source.html#l01026">ptlrpc_request::rq_replen</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00651">ptlrpc_reply_state::rs_cb_id</a>, <a class="el" href="lustre__net_8h_source.html#l00655">ptlrpc_reply_state::rs_exp_list</a>, <a class="el" href="lustre__net_8h_source.html#l00653">ptlrpc_reply_state::rs_list</a>, <a class="el" href="lustre__net_8h_source.html#l00662">ptlrpc_reply_state::rs_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00705">ptlrpc_reply_state::rs_msg</a>, <a class="el" href="lustre__net_8h_source.html#l00657">ptlrpc_reply_state::rs_obd_list</a>, <a class="el" href="lustre__net_8h_source.html#l00675">ptlrpc_reply_state::rs_refcount</a>, <a class="el" href="lustre__net_8h_source.html#l00688">ptlrpc_reply_state::rs_svcpt</a>, and <a class="el" href="sec_8c_source.html#l02130">sptlrpc_svc_alloc_rs()</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l01955">gss_pack_err_notify()</a>, <a class="el" href="gss__svc__upcall_8c_source.html#l00908">gss_svc_upcall_handle_init()</a>, and <a class="el" href="pack__generic_8c_source.html#l00372">lustre_pack_reply_flags()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaf9e68de9b741fc678c0427fd15a9763"></a><!-- doxytag: member="lustre_net.h::lustre_pack_request" ref="gaaf9e68de9b741fc678c0427fd15a9763" args="(struct ptlrpc_request *, __u32 magic, int count, __u32 *lens, char **bufs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_pack_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>lens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>bufs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00234">234</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00216">lustre_pack_request_v2()</a>, <a class="el" href="lustre__idl_8h_source.html#l01125">MSG_PTLRPC_BODY_OFF</a>, and <a class="el" href="lustre__idl_8h_source.html#l01092">ptlrpc_body</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>.</p>

</div>
</div>
<a class="anchor" id="ga39c3c778d0a57ae7fa1d99ca0b9650f1"></a><!-- doxytag: member="lustre_net.h::lustre_packed_msg_size" ref="ga39c3c778d0a57ae7fa1d99ca0b9650f1" args="(struct lustre_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u32 lustre_packed_msg_size </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00181">181</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, and <a class="el" href="pack__generic_8c_source.html#l00139">lustre_msg_size_v2()</a>.</p>

<p>Referenced by <a class="el" href="sec__null_8c_source.html#l00228">null_enlarge_reqbuf()</a>, and <a class="el" href="layout_8c_source.html#l02448">req_capsule_server_grow()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5f979a04012e6bbb25233e7580676f92"></a><!-- doxytag: member="lustre_net.h::lustre_rep_swabbed" ref="ga5f979a04012e6bbb25233e7580676f92" args="(struct ptlrpc_request *req, size_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lustre_rep_swabbed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns 1 if request reply buffer at offset <em>index</em> was already swabbed. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01181">1181</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="lustre__net_8h_source.html#l01097">ptlrpc_request::rq_rep_swab_mask</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00086">ptlrpc_buf_need_swab()</a>, <a class="el" href="lustre__net_8h_source.html#l01198">ptlrpc_rep_need_swab()</a>, and <a class="el" href="pack__generic_8c_source.html#l02379">rep_ptlrpc_body_swabbed()</a>.</p>

</div>
</div>
<a class="anchor" id="ga97210df2b7b859cbbab53473e6cfec93"></a><!-- doxytag: member="lustre_net.h::lustre_req_swabbed" ref="ga97210df2b7b859cbbab53473e6cfec93" args="(struct ptlrpc_request *req, size_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lustre_req_swabbed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns 1 if request buffer at offset <em>index</em> was already swabbed. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01172">1172</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="lustre__net_8h_source.html#l01096">ptlrpc_request::rq_req_swab_mask</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00086">ptlrpc_buf_need_swab()</a>, <a class="el" href="lustre__net_8h_source.html#l01190">ptlrpc_req_need_swab()</a>, and <a class="el" href="pack__generic_8c_source.html#l02365">req_ptlrpc_body_swabbed()</a>.</p>

</div>
</div>
<a class="anchor" id="gae80ca605f79ff4bac197ebb2b3fa91e0"></a><!-- doxytag: member="lustre_net.h::lustre_request_magic" ref="gae80ca605f79ff4bac197ebb2b3fa91e0" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static __u32 lustre_request_magic </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02535">2535</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="pack__generic_8c_source.html#l01206">lustre_msg_get_magic()</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

</div>
</div>
<a class="anchor" id="gad4b6df694791481d94ff9f1ad1ea539b"></a><!-- doxytag: member="lustre_net.h::lustre_set_rep_swabbed" ref="gad4b6df694791481d94ff9f1ad1ea539b" args="(struct ptlrpc_request *req, size_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lustre_set_rep_swabbed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mark request reply buffer at offset <em>index</em> that it was already swabbed. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01217">1217</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="lustre__net_8h_source.html#l01097">ptlrpc_request::rq_rep_swab_mask</a>.</p>

<p>Referenced by <a class="el" href="sec_8c_source.html#l01021">do_cli_unwrap_reply()</a>, <a class="el" href="pack__generic_8c_source.html#l00077">ptlrpc_buf_set_swabbed()</a>, and <a class="el" href="pack__generic_8c_source.html#l00611">ptlrpc_unpack_rep_msg()</a>.</p>

</div>
</div>
<a class="anchor" id="ga22d3ca15bd8e1bb881b078fd04381ab0"></a><!-- doxytag: member="lustre_net.h::lustre_set_req_swabbed" ref="ga22d3ca15bd8e1bb881b078fd04381ab0" args="(struct ptlrpc_request *req, size_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lustre_set_req_swabbed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mark request buffer at offset <em>index</em> that it was already swabbed. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01206">1206</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="lustre__net_8h_source.html#l01096">ptlrpc_request::rq_req_swab_mask</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00077">ptlrpc_buf_set_swabbed()</a>, <a class="el" href="pack__generic_8c_source.html#l00600">ptlrpc_unpack_req_msg()</a>, and <a class="el" href="sec_8c_source.html#l02070">sptlrpc_svc_unwrap_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2e757694495c0c01d68d49b78c586125"></a><!-- doxytag: member="lustre_net.h::lustre_shrink_msg" ref="ga2e757694495c0c01d68d49b78c586125" args="(struct lustre_msg *msg, int segment, unsigned int newlen, int move_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lustre_shrink_msg </td>
          <td>(</td>
          <td class="paramtype">struct lustre_msg *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>segment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>newlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>move_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00496">496</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, and <a class="el" href="pack__generic_8c_source.html#l00449">lustre_shrink_msg_v2()</a>.</p>

<p>Referenced by <a class="el" href="gss__cli__upcall_8c_source.html#l00066">ctx_init_pack_request()</a>, <a class="el" href="sec__gss_8c_source.html#l00881">gss_cli_ctx_seal()</a>, <a class="el" href="sec__gss_8c_source.html#l00177">gss_sign_msg()</a>, <a class="el" href="sec__gss_8c_source.html#l02637">gss_svc_seal()</a>, <a class="el" href="sec__gss_8c_source.html#l01913">gss_svc_sign()</a>, <a class="el" href="gss__svc__upcall_8c_source.html#l00908">gss_svc_upcall_handle_init()</a>, <a class="el" href="lustre__net_8h_source.html#l02384">lustre_shrink_reply()</a>, <a class="el" href="sec__plain_8c_source.html#l00859">plain_authorize()</a>, <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, and <a class="el" href="layout_8c_source.html#l02416">req_capsule_shrink()</a>.</p>

</div>
</div>
<a class="anchor" id="gac23b208e1210b2c91962b7616663569f"></a><!-- doxytag: member="lustre_net.h::lustre_shrink_reply" ref="gac23b208e1210b2c91962b7616663569f" args="(struct ptlrpc_request *req, int segment, unsigned int newlen, int move_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lustre_shrink_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>segment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>newlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>move_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02384">2384</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="pack__generic_8c_source.html#l00496">lustre_shrink_msg()</a>, <a class="el" href="lustre__net_8h_source.html#l01026">ptlrpc_request::rq_replen</a>, and <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>.</p>

</div>
</div>
<a class="anchor" id="ga0d288501654fddca2fd757799fffd4cb"></a><!-- doxytag: member="lustre_net.h::ping_evictor_start" ref="ga0d288501654fddca2fd757799fffd4cb" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ping_evictor_start </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00686">686</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="pinger_8c_source.html#l00580">pet_list</a>, <a class="el" href="pinger_8c_source.html#l00577">pet_refcount</a>, <a class="el" href="pinger_8c_source.html#l00579">pet_waitq</a>, and <a class="el" href="pinger_8c_source.html#l00605">ping_evictor_main()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, and <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga599f2b96469b266065b3fd2fbe423ee1"></a><!-- doxytag: member="lustre_net.h::ping_evictor_stop" ref="ga599f2b96469b266065b3fd2fbe423ee1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ping_evictor_stop </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00705">705</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="pinger_8c_source.html#l00577">pet_refcount</a>, <a class="el" href="pinger_8c_source.html#l00578">pet_state</a>, <a class="el" href="pinger_8c_source.html#l00575">PET_TERMINATE</a>, and <a class="el" href="pinger_8c_source.html#l00579">pet_waitq</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l04447">mdt_fini()</a>, <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, and <a class="el" href="ost__handler_8c_source.html#l00356">ost_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga823ffa6488c25750f836f7c5ccdac8f0"></a><!-- doxytag: member="lustre_net.h::ptl_get_pid" ref="ga823ffa6488c25750f836f7c5ccdac8f0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__lnet__addr.html#gafa13bf627f3dbcdec22141de051a61cd">lnet_pid_t</a> ptl_get_pid </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="events_8c_source.html#l00578">578</a> of file <a class="el" href="events_8c_source.html">events.c</a>.</p>

<p>References <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00078">LNET_PID_LUSTRE</a>.</p>

<p>Referenced by <a class="el" href="events_8c_source.html#l00583">ptlrpc_ni_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga52f0aef010b62759e4c2f9e6ef6aea3d"></a><!-- doxytag: member="lustre_net.h::ptl_send_rpc" ref="ga52f0aef010b62759e4c2f9e6ef6aea3d" args="(struct ptlrpc_request *request, int noreply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptl_send_rpc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>noreply</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send request <em>request</em>. </p>
<p>if <em>noreply</em> is set, don't expect any reply back and don't set up reply buffers. Returns 0 on success or error code. </p>

<p><p>For enabled AT all request should have AT_SUPPORT in the FULL import state when OBD_CONNECT_AT is set </p>
</p>

<p>Definition at line <a class="el" href="niobuf_8c_source.html#l00660">660</a> of file <a class="el" href="niobuf_8c_source.html">niobuf.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lustre__import_8h_source.html#l00379">AT_OFF</a>, <a class="el" href="lustre__net_8h_source.html#l00521">ptlrpc_connection::c_peer</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__prim_8h_source.html#l00083">cfs_memory_pressure_get_and_set()</a>, <a class="el" href="libcfs__prim_8h_source.html#l00092">cfs_memory_pressure_restore()</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00440">lnet_md_t::eq_handle</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00239">obd_import::imp_conn_cnt</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="lustre__import_8h_source.html#l00170">obd_import::imp_connection</a>, <a class="el" href="lustre__import_8h_source.html#l00220">obd_import::imp_inflight</a>, <a class="el" href="lustre__import_8h_source.html#l00202">obd_import::imp_known_replied_xid</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00321">obd_import::imp_msghdr_flags</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00260">obd_import::imp_remote_handle</a>, <a class="el" href="lustre__import_8h_source.html#l00230">obd_import::imp_state</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00370">lnet_md_t::length</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00333">LNET_INS_AFTER</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00459">LNET_MD_MANAGE_REMOTE</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00455">LNET_MD_OP_PUT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00476">LNET_MD_THRESH_INF</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00462">LNET_MD_TRUNCATE</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00647">LNET_NOACK_REQ</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00318">LNET_RETAIN</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00319">LNET_UNLINK</a>, <a class="el" href="lib-md_8c_source.html#l00263">LNetMDAttach()</a>, <a class="el" href="lib-me_8c_source.html#l00076">LNetMEAttach()</a>, <a class="el" href="lib-me_8c_source.html#l00227">LNetMEUnlink()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00866">lprocfs_counter_add()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__import_8h_source.html#l00106">LUSTRE_IMP_FULL</a>, <a class="el" href="pack__generic_8c_source.html#l00848">lustre_msg_add_flags()</a>, <a class="el" href="pack__generic_8c_source.html#l00829">lustre_msg_get_flags()</a>, <a class="el" href="pack__generic_8c_source.html#l01454">lustre_msg_set_conn_cnt()</a>, <a class="el" href="pack__generic_8c_source.html#l01320">lustre_msg_set_handle()</a>, <a class="el" href="pack__generic_8c_source.html#l01362">lustre_msg_set_last_xid()</a>, <a class="el" href="pack__generic_8c_source.html#l01536">lustre_msg_set_mbits()</a>, <a class="el" href="pack__generic_8c_source.html#l01334">lustre_msg_set_type()</a>, <a class="el" href="pack__generic_8c_source.html#l00818">lustre_msghdr_set_flags()</a>, <a class="el" href="lustre__idl_8h_source.html#l01154">MSG_REPLAY</a>, <a class="el" href="lustre__idl_8h_source.html#l01153">MSG_RESENT</a>, <a class="el" href="lustre__idl_8h_source.html#l01044">MSGHDR_AT_SUPPORT</a>, <a class="el" href="lustre__idl_8h_source.html#l01207">OBD_CONNECT_AT</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_fail</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00400">OBD_FAIL_PTLRPC_DELAY_SEND</a>, <a class="el" href="obd__support_8h_source.html#l00399">OBD_FAIL_PTLRPC_DROP_RPC</a>, <a class="el" href="obd__support_8h_source.html#l00624">OBD_FAIL_TIMEOUT</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00715">obd_device::obd_svc_stats</a>, <a class="el" href="lustre__idl_8h_source.html#l01336">obd_connect_data::ocd_connect_flags</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00426">lnet_md_t::options</a>, <a class="el" href="packet-lustre_8c_source.html#l00359">PTL_RPC_MSG_REQUEST</a>, <a class="el" href="niobuf_8c_source.html#l00050">ptl_send_buf()</a>, <a class="el" href="client_8c_source.html#l00681">ptlrpc_assign_next_xid_nolock()</a>, <a class="el" href="client_8c_source.html#l00351">ptlrpc_at_get_net_latency()</a>, <a class="el" href="events_8c_source.html#l00046">ptlrpc_eq_h</a>, <a class="el" href="client_8c_source.html#l01272">ptlrpc_known_replied_xid()</a>, <a class="el" href="lustre__net_8h_source.html#l00073">PTLRPC_MD_OPTIONS</a>, <a class="el" href="pinger_8c_source.html#l00385">ptlrpc_pinger_sending_on_import()</a>, <a class="el" href="niobuf_8c_source.html#l00301">ptlrpc_register_bulk()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00333">PTLRPC_REQACTIVE_CNTR</a>, <a class="el" href="client_8c_source.html#l02757">ptlrpc_request_addref()</a>, <a class="el" href="client_8c_source.html#l03196">ptlrpc_set_bulk_mbits()</a>, <a class="el" href="niobuf_8c_source.html#l00420">ptlrpc_unregister_bulk()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01119">ptlrpc_request::rq_deadline</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_err</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01038">ptlrpc_request::rq_mbits</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_memalloc</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_net_err</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_receiving_reply</a>, <a class="el" href="lustre__net_8h_source.html#l01080">ptlrpc_request::rq_repbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01086">ptlrpc_request::rq_repbuf_len</a>, <a class="el" href="lustre__net_8h_source.html#l01081">ptlrpc_request::rq_repdata</a>, <a class="el" href="lustre__net_8h_source.html#l01026">ptlrpc_request::rq_replen</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_replied</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_reply_truncated</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_reply_unlinked</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_req_unlinked</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01085">ptlrpc_request::rq_reqdata_len</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_resend</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_restart</a>, <a class="el" href="lustre__net_8h_source.html#l01117">ptlrpc_request::rq_sent</a>, <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_timedout</a>, <a class="el" href="lustre__net_8h_source.html#l01113">ptlrpc_request::rq_timeout</a>, <a class="el" href="lustre__net_8h_source.html#l00955">ptlrpc_request::rq_type</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_wait_ctx</a>, <a class="el" href="lustre__net_8h_source.html#l01036">ptlrpc_request::rq_xid</a>, <a class="el" href="sec_8c_source.html#l01707">sptlrpc_cli_alloc_repbuf()</a>, <a class="el" href="sec_8c_source.html#l00978">sptlrpc_cli_wrap_request()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00369">lnet_md_t::start</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00381">lnet_md_t::threshold</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00433">lnet_md_t::user_ptr</a>.</p>

<p>Referenced by <a class="el" href="gss__cli__upcall_8c_source.html#l00376">gss_do_ctx_fini_rpc()</a>, <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, and <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>.</p>

</div>
</div>
<a class="anchor" id="gaebf74d120543fbad3a68316dc1a5c97c"></a><!-- doxytag: member="lustre_net.h::ptlrpc_abort_inflight" ref="gaebf74d120543fbad3a68316dc1a5c97c" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_abort_inflight </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Aborts all in-flight request on import <em>imp</em> sending and delayed lists. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l03045">3045</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__import_8h_source.html#l00185">obd_import::imp_delayed_list</a>, <a class="el" href="lustre__import_8h_source.html#l00237">obd_import::imp_generation</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_replayable</a>, <a class="el" href="lustre__import_8h_source.html#l00184">obd_import::imp_sending_list</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="lustre__net_8h_source.html#l02502">ptlrpc_client_wake_req()</a>, <a class="el" href="client_8c_source.html#l02626">ptlrpc_free_committed()</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_err</a>, <a class="el" href="lustre__net_8h_source.html#l00962">ptlrpc_request::rq_list</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, and <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>.</p>

<p>Referenced by <a class="el" href="import_8c_source.html#l01642">ptlrpc_cleanup_imp()</a>, and <a class="el" href="import_8c_source.html#l00213">ptlrpc_deactivate_and_unlock_import()</a>.</p>

</div>
</div>
<a class="anchor" id="gacf9a01538061117dbbb8787fb7b81b77"></a><!-- doxytag: member="lustre_net.h::ptlrpc_abort_set" ref="gacf9a01538061117dbbb8787fb7b81b77" args="(struct ptlrpc_request_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_abort_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Abort all uncompleted requests in request set <em>set</em>. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l03104">3104</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="lustre__net_8h_source.html#l02502">ptlrpc_client_wake_req()</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_err</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00718">RQ_PHASE_RPC</a>, <a class="el" href="lustre__net_8h_source.html#l00861">rq_set_chain</a>, and <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>.</p>

<p>Referenced by <a class="el" href="ptlrpcd_8c_source.html#l00427">ptlrpcd()</a>.</p>

</div>
</div>
<a class="anchor" id="ga07d19311543ebd57e6514926b08ddd08"></a><!-- doxytag: member="lustre_net.h::ptlrpc_add_rqs_to_pool" ref="ga07d19311543ebd57e6514926b08ddd08" args="(struct ptlrpc_request_pool *pool, int num_rq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_add_rqs_to_pool </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_rq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocates, initializes and adds <em>num_rq</em> requests to the pool <em>pool</em>. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00533">533</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__idl_8h_source.html#l01047">lustre_msg</a>, <a class="el" href="multiop_8c_source.html#l00063">msg</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="lustre__net_8h_source.html#l00742">ptlrpc_request_pool::prp_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00744">ptlrpc_request_pool::prp_req_list</a>, <a class="el" href="lustre__net_8h_source.html#l00746">ptlrpc_request_pool::prp_rq_size</a>, <a class="el" href="client_8c_source.html#l00492">ptlrpc_request_cache_alloc()</a>, <a class="el" href="client_8c_source.html#l00500">ptlrpc_request_cache_free()</a>, <a class="el" href="lustre__net_8h_source.html#l00962">ptlrpc_request::rq_list</a>, <a class="el" href="lustre__net_8h_source.html#l01028">ptlrpc_request::rq_pool</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01084">ptlrpc_request::rq_reqbuf_len</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>, and <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gaafd0e5c4122b455302d4c8a8a67467bb"></a><!-- doxytag: member="lustre_net.h::ptlrpc_add_timeout_client" ref="gaafd0e5c4122b455302d4c8a8a67467bb" args="(int time, enum timeout_event event, timeout_cb_t cb, void *data, struct list_head *obd_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_add_timeout_client </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__net.html#ga83197c087490e096e36a4397091d0c3f">timeout_event</a>&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net.html#gaad82b5875e63992cfb2e05f9b94fbc71">timeout_cb_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>obd_list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00504">504</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="pinger_8c_source.html#l00052">pinger_mutex</a>, <a class="el" href="pinger_8c_source.html#l00476">ptlrpc_pinger_register_timeout()</a>, and <a class="el" href="obd_8h_source.html#l00129">timeout_item::ti_obd_list</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l00884">osc_add_shrink_grant()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa4ddbc1d6aa868710ab5c137a2e029e2"></a><!-- doxytag: member="lustre_net.h::ptlrpc_at_get_net_latency" ref="gaa4ddbc1d6aa868710ab5c137a2e029e2" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_at_get_net_latency </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l00351">351</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00373">at_get()</a>, <a class="el" href="lustre__import_8h_source.html#l00379">AT_OFF</a>, <a class="el" href="lustre__import_8h_source.html#l00089">imp_at::iat_net_latency</a>, <a class="el" href="lustre__import_8h_source.html#l00323">obd_import::imp_at</a>, and <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="client_8c_source.html#l00421">ptlrpc_at_recv_early_reply()</a>, and <a class="el" href="client_8c_source.html#l03006">ptlrpc_replay_req()</a>.</p>

</div>
</div>
<a class="anchor" id="ga476170376a6f1bb9bb7f85ade4c774f7"></a><!-- doxytag: member="lustre_net.h::ptlrpc_at_set_req_timeout" ref="ga476170376a6f1bb9bb7f85ade4c774f7" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_at_set_req_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set server timelimit for this req, i.e. </p>
<p>how long are we willing to wait for reply before timing out this request. </p>

<p><p><em>imp_server_timeout</em> means this is reverse import and we send (currently only) ASTs to the client and cannot afford to wait too long for the reply, otherwise the other client (because of which we are sending this request) would timeout waiting for us</p>
</p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00293">293</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00328">at_est2timeout()</a>, <a class="el" href="lustre__import_8h_source.html#l00373">at_get()</a>, <a class="el" href="lustre__import_8h_source.html#l00379">AT_OFF</a>, <a class="el" href="lustre__import_8h_source.html#l00090">imp_at::iat_service_estimate</a>, <a class="el" href="lustre__import_8h_source.html#l00323">obd_import::imp_at</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_server_timeout</a>, <a class="el" href="import_8c_source.html#l01742">import_at_get_index()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="pack__generic_8c_source.html#l01468">lustre_msg_set_timeout()</a>, <a class="el" href="class__obd_8c_source.html#l00083">obd_timeout</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, and <a class="el" href="lustre__net_8h_source.html#l01113">ptlrpc_request::rq_timeout</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="fld__request_8c_source.html#l00358">fld_client_rpc()</a>, <a class="el" href="ldlm__request_8c_source.html#l01185">ldlm_cli_cancel_req()</a>, <a class="el" href="mdc__request_8c_source.html#l00757">mdc_close()</a>, <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mdc__request_8c_source.html#l01971">mdc_quotactl()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osc__request_8c_source.html#l00606">osc_destroy()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__quota_8c_source.html#l00248">osc_quotactl()</a>, <a class="el" href="osc__request_8c_source.html#l02321">osc_statfs()</a>, <a class="el" href="osc__request_8c_source.html#l02277">osc_statfs_async()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__dev_8c_source.html#l01503">osp_obd_statfs()</a>, <a class="el" href="osp__precreate_8c_source.html#l01454">osp_object_truncate()</a>, <a class="el" href="osp__precreate_8c_source.html#l00175">osp_statfs_update()</a>, <a class="el" href="client_8c_source.html#l03006">ptlrpc_replay_req()</a>, <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>, <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>, and <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa22239843a54a1577998de2a44fd8af7"></a><!-- doxytag: member="lustre_net.h::ptlrpc_buf_need_swab" ref="gaa22239843a54a1577998de2a44fd8af7" args="(struct ptlrpc_request *req, const int inout, __u32 index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_buf_need_swab </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>inout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ptlrpc msg buffer and swab interface </p>

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00086">86</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01181">lustre_rep_swabbed()</a>, <a class="el" href="lustre__net_8h_source.html#l01172">lustre_req_swabbed()</a>, <a class="el" href="lustre__net_8h_source.html#l01198">ptlrpc_rep_need_swab()</a>, and <a class="el" href="lustre__net_8h_source.html#l01190">ptlrpc_req_need_swab()</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00622">lustre_unpack_ptlrpc_body_v2()</a>, and <a class="el" href="layout_8c_source.html#l01916">swabber_dumper_helper()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6920d79557ab62c16abd7c03d5f27ed7"></a><!-- doxytag: member="lustre_net.h::ptlrpc_buf_set_swabbed" ref="ga6920d79557ab62c16abd7c03d5f27ed7" args="(struct ptlrpc_request *req, const int inout, __u32 index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_buf_set_swabbed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>inout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00077">77</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01217">lustre_set_rep_swabbed()</a>, and <a class="el" href="lustre__net_8h_source.html#l01206">lustre_set_req_swabbed()</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00622">lustre_unpack_ptlrpc_body_v2()</a>, and <a class="el" href="layout_8c_source.html#l01916">swabber_dumper_helper()</a>.</p>

</div>
</div>
<a class="anchor" id="ga63613680c8953223c8efc4331656b11a"></a><!-- doxytag: member="lustre_net.h::ptlrpc_check_set" ref="ga63613680c8953223c8efc4331656b11a" args="(const struct lu_env *env, struct ptlrpc_request_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_check_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>this sends any unsent RPCs in <em>set</em> and returns 1 if all are sent and no more replies are expected. </p>
<p>(it is possible to get less replies than requests sent e.g. due to timed out requests or requests that we had trouble to send out)</p>
<p>NOTE: This function contains a potential schedule point (cond_resched()). </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l01644">1644</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="lustre__net_8h_source.html#l00521">ptlrpc_connection::c_peer</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="linux_2libcfs_8h_source.html#l00146">current_comm</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00170">obd_import::imp_connection</a>, <a class="el" href="lustre__import_8h_source.html#l00185">obd_import::imp_delayed_list</a>, <a class="el" href="lustre__import_8h_source.html#l00220">obd_import::imp_inflight</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00217">obd_import::imp_recovery_waitq</a>, <a class="el" href="lustre__import_8h_source.html#l00184">obd_import::imp_sending_list</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="list_8h_source.html#l00206">list_splice()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="pack__generic_8c_source.html#l01098">lustre_msg_get_status()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00621">OBD_FAIL_CHECK_ORSET</a>, <a class="el" href="obd__support_8h_source.html#l00628">OBD_FAIL_ONCE</a>, <a class="el" href="obd__support_8h_source.html#l00408">OBD_FAIL_PTLRPC_LONG_BULK_UNLINK</a>, <a class="el" href="obd__support_8h_source.html#l00407">OBD_FAIL_PTLRPC_LONG_REPL_UNLINK</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="client_8c_source.html#l00421">ptlrpc_at_recv_early_reply()</a>, <a class="el" href="lustre__net_8h_source.html#l02044">ptlrpc_client_bulk_active()</a>, <a class="el" href="lustre__net_8h_source.html#l02454">ptlrpc_client_early()</a>, <a class="el" href="lustre__net_8h_source.html#l02476">ptlrpc_client_recv()</a>, <a class="el" href="lustre__net_8h_source.html#l02485">ptlrpc_client_recv_or_unlink()</a>, <a class="el" href="lustre__net_8h_source.html#l02466">ptlrpc_client_replied()</a>, <a class="el" href="client_8c_source.html#l02050">ptlrpc_expire_one_request()</a>, <a class="el" href="client_8c_source.html#l01120">ptlrpc_import_delay_req()</a>, <a class="el" href="lustre__net_8h_source.html#l02563">ptlrpc_no_resend()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="lustre__net_8h_source.html#l01128">ptlrpc_req_interpret()</a>, <a class="el" href="lustre__net_8h_source.html#l02428">ptlrpc_rqphase_move()</a>, <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>, <a class="el" href="client_8c_source.html#l01612">ptlrpc_set_producer()</a>, <a class="el" href="niobuf_8c_source.html#l00420">ptlrpc_unregister_bulk()</a>, <a class="el" href="client_8c_source.html#l02512">ptlrpc_unregister_reply()</a>, <a class="el" href="client_8c_source.html#l03307">ptlrpcd_check_work()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_allow_intr</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_err</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_intr</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_invalid_rqset</a>, <a class="el" href="lustre__net_8h_source.html#l00962">ptlrpc_request::rq_list</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_net_err</a>, <a class="el" href="lustre__net_8h_source.html#l01011">ptlrpc_request::rq_next_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_resend</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00719">RQ_PHASE_BULK</a>, <a class="el" href="lustre__net_8h_source.html#l00721">RQ_PHASE_COMPLETE</a>, <a class="el" href="lustre__net_8h_source.html#l00720">RQ_PHASE_INTERPRET</a>, <a class="el" href="lustre__net_8h_source.html#l00717">RQ_PHASE_NEW</a>, <a class="el" href="lustre__net_8h_source.html#l00718">RQ_PHASE_RPC</a>, <a class="el" href="lustre__net_8h_source.html#l00723">RQ_PHASE_UNDEFINED</a>, <a class="el" href="lustre__net_8h_source.html#l00722">RQ_PHASE_UNREGISTERING</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_receiving_reply</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_replied</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_resend</a>, <a class="el" href="lustre__net_8h_source.html#l01117">ptlrpc_request::rq_sent</a>, <a class="el" href="lustre__net_8h_source.html#l00861">rq_set_chain</a>, <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_timedout</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_wait_ctx</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_waiting</a>, <a class="el" href="lustre__net_8h_source.html#l01036">ptlrpc_request::rq_xid</a>, <a class="el" href="sec_8c_source.html#l00675">sptlrpc_req_refresh_ctx()</a>, <a class="el" href="lustre__rsync_8c_source.html#l00187">status</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l01574">do_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osp__dev_8c_source.html#l01746">osp_obd_set_info_async()</a>, <a class="el" href="client_8c_source.html#l02260">ptlrpc_set_wait()</a>, and <a class="el" href="ptlrpcd_8c_source.html#l00316">ptlrpcd_check()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1b758fc8a90798b7f3f82ad51ed8b518"></a><!-- doxytag: member="lustre_net.h::ptlrpc_cleanup_client" ref="ga1b758fc8a90798b7f3f82ad51ed8b518" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_cleanup_client </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l02705">2705</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, and <a class="el" href="flock_8c_source.html#l00090">EXIT</a>.</p>

</div>
</div>
<a class="anchor" id="ga01a4895dc2c01104ef9b4b6998d76729"></a><!-- doxytag: member="lustre_net.h::ptlrpc_cleanup_imp" ref="ga01a4895dc2c01104ef9b4b6998d76729" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_cleanup_imp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="import_8c_source.html#l01642">1642</a> of file <a class="el" href="import_8c_source.html">import.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__import_8h_source.html#l00237">obd_import::imp_generation</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="import_8c_source.html#l00088">IMPORT_SET_STATE_NOLOCK</a>, <a class="el" href="lustre__import_8h_source.html#l00098">LUSTRE_IMP_CLOSED</a>, and <a class="el" href="client_8c_source.html#l03045">ptlrpc_abort_inflight()</a>.</p>

</div>
</div>
<a class="anchor" id="gabcc13aef8651264f012464de2f2f8161"></a><!-- doxytag: member="lustre_net.h::ptlrpc_client_bulk_active" ref="gabcc13aef8651264f012464de2f2f8161" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_client_bulk_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02044">2044</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01438">ptlrpc_bulk_desc::bd_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01462">ptlrpc_bulk_desc::bd_md_count</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, and <a class="el" href="obd__support_8h_source.html#l00408">OBD_FAIL_PTLRPC_LONG_BULK_UNLINK</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, and <a class="el" href="niobuf_8c_source.html#l00420">ptlrpc_unregister_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="ga566a3831c8fac00ba67275322fbf11c2"></a><!-- doxytag: member="lustre_net.h::ptlrpc_client_early" ref="ga566a3831c8fac00ba67275322fbf11c2" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_client_early </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if request <em>req</em> got early reply and hard deadline is not met. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02454">2454</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00407">OBD_FAIL_PTLRPC_LONG_REPL_UNLINK</a>, and <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_early</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa52dc72f7f0533062c66aa6da0d7ff81"></a><!-- doxytag: member="lustre_net.h::ptlrpc_client_recv" ref="gaa52dc72f7f0533062c66aa6da0d7ff81" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_client_recv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if request <em>req</em> is in process of receiving server reply. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02476">2476</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00407">OBD_FAIL_PTLRPC_LONG_REPL_UNLINK</a>, and <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_receiving_reply</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>.</p>

</div>
</div>
<a class="anchor" id="gafb46c479ceada632e63d592ec030c6c4"></a><!-- doxytag: member="lustre_net.h::ptlrpc_client_recv_or_unlink" ref="gafb46c479ceada632e63d592ec030c6c4" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_client_recv_or_unlink </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02485">2485</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00407">OBD_FAIL_PTLRPC_LONG_REPL_UNLINK</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_receiving_reply</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_reply_unlinked</a>, and <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_req_unlinked</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, and <a class="el" href="client_8c_source.html#l02512">ptlrpc_unregister_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga44aa63d34a500e80f33f66745e63f05d"></a><!-- doxytag: member="lustre_net.h::ptlrpc_client_replied" ref="ga44aa63d34a500e80f33f66745e63f05d" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_client_replied </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if we got real reply from server for this request. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02466">2466</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00407">OBD_FAIL_PTLRPC_LONG_REPL_UNLINK</a>, and <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_replied</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, and <a class="el" href="client_8c_source.html#l02717">ptlrpc_resend_req()</a>.</p>

</div>
</div>
<a class="anchor" id="gab914b9c1947f78f4640f248c2f58aa70"></a><!-- doxytag: member="lustre_net.h::ptlrpc_client_wake_req" ref="gab914b9c1947f78f4640f248c2f58aa70" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_client_wake_req </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02502">2502</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="events_8c_source.html#l00181">client_bulk_callback()</a>, <a class="el" href="client_8c_source.html#l03045">ptlrpc_abort_inflight()</a>, <a class="el" href="client_8c_source.html#l03104">ptlrpc_abort_set()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, <a class="el" href="client_8c_source.html#l02742">ptlrpc_restart_req()</a>, <a class="el" href="recover_8c_source.html#l00234">ptlrpc_wake_delayed()</a>, <a class="el" href="events_8c_source.html#l00091">reply_in_callback()</a>, <a class="el" href="events_8c_source.html#l00051">request_out_callback()</a>, and <a class="el" href="sec_8c_source.html#l00333">sptlrpc_cli_ctx_wakeup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1c4d3548ace7c49c820adf3d6610f7a8"></a><!-- doxytag: member="lustre_net.h::ptlrpc_commit_replies" ref="ga1c4d3548ace7c49c820adf3d6610f7a8" args="(struct obd_export *exp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_commit_replies </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="service_8c_source.html#l00408">408</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="service_8c_source.html#l00362">DECLARE_RS_BATCH</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00231">obd_export::exp_last_committed</a>, <a class="el" href="lustre__export_8h_source.html#l00228">obd_export::exp_uncommitted_replies</a>, <a class="el" href="lustre__export_8h_source.html#l00229">obd_export::exp_uncommitted_replies_lock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="service_8c_source.html#l00324">rs_batch_add()</a>, <a class="el" href="service_8c_source.html#l00354">rs_batch_fini()</a>, <a class="el" href="service_8c_source.html#l00264">rs_batch_init()</a>, <a class="el" href="lustre__net_8h_source.html#l00664">ptlrpc_reply_state::rs_difficult</a>, <a class="el" href="lustre__net_8h_source.html#l00687">ptlrpc_reply_state::rs_export</a>, <a class="el" href="lustre__net_8h_source.html#l00657">ptlrpc_reply_state::rs_obd_list</a>, and <a class="el" href="lustre__net_8h_source.html#l00684">ptlrpc_reply_state::rs_transno</a>.</p>

<p>Referenced by <a class="el" href="tgt__lastrcvd_8c_source.html#l00761">tgt_cb_last_committed()</a>.</p>

</div>
</div>
<a class="anchor" id="gae524031a54066bf23dda2ad572bbcfdf"></a><!-- doxytag: member="lustre_net.h::ptlrpc_connect_import" ref="gae524031a54066bf23dda2ad572bbcfdf" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_connect_import </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Import API. </p>
<p>Import API.</p>
<p>This includes all preparations, initializing CONNECT RPC request and passing it to <a class="el" href="structptlrpcd.html">ptlrpcd</a> for actual sending. Returns 0 on success or error code. </p>

<p>Definition at line <a class="el" href="import_8c_source.html#l00648">648</a> of file <a class="el" href="import_8c_source.html">import.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lustre__import_8h_source.html#l00334">at_timeout2est()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00239">obd_import::imp_conn_cnt</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="lustre__import_8h_source.html#l00317">obd_import::imp_connect_flags_orig</a>, <a class="el" href="lustre__import_8h_source.html#l00315">obd_import::imp_connect_op</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_connected</a>, <a class="el" href="lustre__import_8h_source.html#l00168">obd_import::imp_dlm_handle</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00321">obd_import::imp_msghdr_flags</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00248">obd_import::imp_peer_committed_transno</a>, <a class="el" href="lustre__import_8h_source.html#l00260">obd_import::imp_remote_handle</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_replayable</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_resend_replay</a>, <a class="el" href="lustre__import_8h_source.html#l00230">obd_import::imp_state</a>, <a class="el" href="import_8c_source.html#l00503">import_select_connection()</a>, <a class="el" href="import_8c_source.html#l00099">IMPORT_SET_STATE</a>, <a class="el" href="import_8c_source.html#l00088">IMPORT_SET_STATE_NOLOCK</a>, <a class="el" href="obd__support_8h_source.html#l00140">INITIAL_CONNECT_TIMEOUT</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="lustre__import_8h_source.html#l00098">LUSTRE_IMP_CLOSED</a>, <a class="el" href="lustre__import_8h_source.html#l00101">LUSTRE_IMP_CONNECTING</a>, <a class="el" href="lustre__import_8h_source.html#l00100">LUSTRE_IMP_DISCON</a>, <a class="el" href="lustre__import_8h_source.html#l00106">LUSTRE_IMP_FULL</a>, <a class="el" href="pack__generic_8c_source.html#l00908">lustre_msg_add_op_flags()</a>, <a class="el" href="pack__generic_8c_source.html#l01482">lustre_msg_set_service_time()</a>, <a class="el" href="pack__generic_8c_source.html#l01468">lustre_msg_set_timeout()</a>, <a class="el" href="packet-lustre_8c_source.html#l00076">LUSTRE_OBD_VERSION</a>, <a class="el" href="lustre__ver_8h_source.html#l00023">LUSTRE_VERSION_CODE</a>, <a class="el" href="lustre__idl_8h_source.html#l01173">MSG_CONNECT_INITIAL</a>, <a class="el" href="lustre__idl_8h_source.html#l01176">MSG_CONNECT_TRANSNO</a>, <a class="el" href="lustre__idl_8h_source.html#l01044">MSGHDR_AT_SUPPORT</a>, <a class="el" href="lustre__idl_8h_source.html#l01045">MSGHDR_CKSUM_INCOMPAT18</a>, <a class="el" href="obd_8h_source.html#l00332">obd2cli_tgt</a>, <a class="el" href="obd__class_8h_source.html#l00818">obd_reconnect()</a>, <a class="el" href="obd_8h_source.html#l00655">obd_device::obd_self_export</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="lustre__idl_8h_source.html#l01336">obd_connect_data::ocd_connect_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l01346">obd_connect_data::ocd_transno</a>, <a class="el" href="lustre__idl_8h_source.html#l01337">obd_connect_data::ocd_version</a>, <a class="el" href="import_8c_source.html#l00057">ptlrpc_connect_async_args::pcaa_initial_connect</a>, <a class="el" href="import_8c_source.html#l00056">ptlrpc_connect_async_args::pcaa_peer_committed</a>, <a class="el" href="import_8c_source.html#l00984">ptlrpc_connect_interpret()</a>, <a class="el" href="import_8c_source.html#l00612">ptlrpc_first_transno()</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01026">RMF_CONNECT_DATA</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_delay</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_resend</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l01113">ptlrpc_request::rq_timeout</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00170">RQF_MDS_CONNECT</a>, <a class="el" href="sec_8c_source.html#l01438">sptlrpc_import_sec_adapt()</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00527">client_connect_import()</a>, <a class="el" href="import_8c_source.html#l01338">completed_replay_interpret()</a>, <a class="el" href="lwp__dev_8c_source.html#l00476">lwp_obd_connect()</a>, <a class="el" href="osp__dev_8c_source.html#l01398">osp_obd_connect()</a>, <a class="el" href="import_8c_source.html#l00984">ptlrpc_connect_interpret()</a>, <a class="el" href="recover_8c_source.html#l00058">ptlrpc_initiate_recovery()</a>, <a class="el" href="recover_8c_source.html#l00333">ptlrpc_recover_import()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, <a class="el" href="recover_8c_source.html#l00249">ptlrpc_request_handle_notconn()</a>, and <a class="el" href="ldlm__request_8c_source.html#l02175">replay_lock_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaa3230083ef959e91b7c71227975e373"></a><!-- doxytag: member="lustre_net.h::ptlrpc_connection_addref" ref="gaaa3230083ef959e91b7c71227975e373" args="(struct ptlrpc_connection *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a>* ptlrpc_connection_addref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a> *&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="connection_8c_source.html#l00128">128</a> of file <a class="el" href="connection_8c_source.html">connection.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00521">ptlrpc_connection::c_peer</a>, <a class="el" href="lustre__net_8h_source.html#l00525">ptlrpc_connection::c_refcount</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="import_8c_source.html#l00503">import_select_connection()</a>, and <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga964f70e236fc46e71a001e138761c6a0"></a><!-- doxytag: member="lustre_net.h::ptlrpc_connection_fini" ref="ga964f70e236fc46e71a001e138761c6a0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_connection_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="connection_8c_source.html#l00157">157</a> of file <a class="el" href="connection_8c_source.html">connection.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01148">cfs_hash_putref()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, and <a class="el" href="flock_8c_source.html#l00090">EXIT</a>.</p>

<p>Referenced by <a class="el" href="ptlrpc__module_8c_source.html#l00138">ptlrpc_exit()</a>, and <a class="el" href="ptlrpc__module_8c_source.html#l00052">ptlrpc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1cbaf87598b1c623226f8771cf7e82d6"></a><!-- doxytag: member="lustre_net.h::ptlrpc_connection_get" ref="ga1cbaf87598b1c623226f8771cf7e82d6" args="(lnet_process_id_t peer, lnet_nid_t self, struct obd_uuid *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a>* ptlrpc_connection_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__process__id__t.html">lnet_process_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a>&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="connection_8c_source.html#l00048">48</a> of file <a class="el" href="connection_8c_source.html">connection.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00517">ptlrpc_connection::c_hash</a>, <a class="el" href="lustre__net_8h_source.html#l00521">ptlrpc_connection::c_peer</a>, <a class="el" href="lustre__net_8h_source.html#l00525">ptlrpc_connection::c_refcount</a>, <a class="el" href="lustre__net_8h_source.html#l00523">ptlrpc_connection::c_remote_uuid</a>, <a class="el" href="lustre__net_8h_source.html#l00519">ptlrpc_connection::c_self</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="hash_8c_source.html#l01274">cfs_hash_findadd_unique()</a>, <a class="el" href="hash_8c_source.html#l01346">cfs_hash_lookup()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00316">INIT_HLIST_NODE</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__user_8h_source.html#l00506">obd_str2uuid()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, and <a class="el" href="client_8c_source.html#l00086">ptlrpc_uuid_to_connection()</a>.</p>

</div>
</div>
<a class="anchor" id="ga06134970ba769bb2fd1f9bdb0c367b6f"></a><!-- doxytag: member="lustre_net.h::ptlrpc_connection_init" ref="ga06134970ba769bb2fd1f9bdb0c367b6f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_connection_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="connection_8c_source.html#l00140">140</a> of file <a class="el" href="connection_8c_source.html">connection.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l01003">cfs_hash_create()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00165">CFS_HASH_DEFAULT</a>, <a class="el" href="libcfs__hash_8h_source.html#l00775">CFS_HASH_MAX_THETA</a>, <a class="el" href="libcfs__hash_8h_source.html#l00774">CFS_HASH_MIN_THETA</a>, <a class="el" href="connection_8c_source.html#l00045">conn_hash_ops</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="obd__support_8h_source.html#l00099">HASH_CONN_BKT_BITS</a>, <a class="el" href="obd__support_8h_source.html#l00100">HASH_CONN_CUR_BITS</a>, <a class="el" href="obd__support_8h_source.html#l00101">HASH_CONN_MAX_BITS</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="ptlrpc__module_8c_source.html#l00052">ptlrpc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa3b5c9b0468396b8667672dd0704bb8c"></a><!-- doxytag: member="lustre_net.h::ptlrpc_connection_put" ref="gaa3b5c9b0468396b8667672dd0704bb8c" args="(struct ptlrpc_connection *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_connection_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="connection_8c_source.html#l00091">91</a> of file <a class="el" href="connection_8c_source.html">connection.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00521">ptlrpc_connection::c_peer</a>, <a class="el" href="lustre__net_8h_source.html#l00525">ptlrpc_connection::c_refcount</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00140">client_import_del_conn()</a>, <a class="el" href="import_8c_source.html#l00503">import_select_connection()</a>, <a class="el" href="ldlm__lib_8c_source.html#l00058">import_set_conn()</a>, <a class="el" href="ptlrpc__module_8c_source.html#l00052">ptlrpc_init()</a>, and <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga04c970ca262e5df3786559bd7927b319"></a><!-- doxytag: member="lustre_net.h::ptlrpc_daemonize" ref="ga04c970ca262e5df3786559bd7927b319" args="(char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_daemonize </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga43e79605481156aa499fd539a3e1265c"></a><!-- doxytag: member="lustre_net.h::ptlrpc_del_timeout_client" ref="ga43e79605481156aa499fd539a3e1265c" args="(struct list_head *obd_list, enum timeout_event event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_del_timeout_client </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>obd_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__net.html#ga83197c087490e096e36a4397091d0c3f">timeout_event</a>&nbsp;</td>
          <td class="paramname"> <em>event</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>If there are no obd attached to the timeout event list, remove this timeout event from the pinger</p>
</p>

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00522">522</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="pinger_8c_source.html#l00052">pinger_mutex</a>, <a class="el" href="obd_8h_source.html#l00130">timeout_item::ti_chain</a>, and <a class="el" href="obd_8h_source.html#l00129">timeout_item::ti_obd_list</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l00901">osc_del_shrink_grant()</a>.</p>

</div>
</div>
<a class="anchor" id="gab498b6deeff2988de567a762bcb6e9ad"></a><!-- doxytag: member="lustre_net.h::ptlrpc_disconnect_import" ref="gab498b6deeff2988de567a762bcb6e9ad" args="(struct obd_import *imp, int noclose)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_disconnect_import </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>noclose</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="import_8c_source.html#l01550">1550</a> of file <a class="el" href="import_8c_source.html">import.c</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00373">at_get()</a>, <a class="el" href="lustre__import_8h_source.html#l00379">AT_OFF</a>, <a class="el" href="lustre__lib_8h_source.html#l00154">back_to_sleep()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__time_8h_source.html#l00117">cfs_timeout_cap()</a>, <a class="el" href="lustre__net_8h_source.html#l00531">ptlrpc_client::cli_request_portal</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00090">imp_at::iat_service_estimate</a>, <a class="el" href="lustre__import_8h_source.html#l00323">obd_import::imp_at</a>, <a class="el" href="lustre__import_8h_source.html#l00172">obd_import::imp_client</a>, <a class="el" href="lustre__import_8h_source.html#l00315">obd_import::imp_connect_op</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00217">obd_import::imp_recovery_waitq</a>, <a class="el" href="lustre__import_8h_source.html#l00260">obd_import::imp_remote_handle</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_server_timeout</a>, <a class="el" href="lustre__import_8h_source.html#l00230">obd_import::imp_state</a>, <a class="el" href="import_8c_source.html#l01742">import_at_get_index()</a>, <a class="el" href="import_8c_source.html#l00099">IMPORT_SET_STATE</a>, <a class="el" href="import_8c_source.html#l00088">IMPORT_SET_STATE_NOLOCK</a>, <a class="el" href="obd__support_8h_source.html#l00140">INITIAL_CONNECT_TIMEOUT</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lustre__import_8h_source.html#l00098">LUSTRE_IMP_CLOSED</a>, <a class="el" href="lustre__import_8h_source.html#l00101">LUSTRE_IMP_CONNECTING</a>, <a class="el" href="lustre__import_8h_source.html#l00100">LUSTRE_IMP_DISCON</a>, <a class="el" href="lustre__import_8h_source.html#l00106">LUSTRE_IMP_FULL</a>, <a class="el" href="packet-lustre_8c_source.html#l00076">LUSTRE_OBD_VERSION</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="lustre__lib_8h_source.html#l00189">LWI_TIMEOUT_INTR</a>, <a class="el" href="packet-lustre_8c_source.html#l00206">MDS_CONNECT</a>, <a class="el" href="packet-lustre_8c_source.html#l00207">MDS_DISCONNECT</a>, <a class="el" href="packet-lustre_8c_source.html#l00309">MGS_CONNECT</a>, <a class="el" href="packet-lustre_8c_source.html#l00310">MGS_DISCONNECT</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="obd_8h_source.html#l00332">obd2cli_tgt</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_force</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="class__obd_8c_source.html#l00083">obd_timeout</a>, <a class="el" href="packet-lustre_8c_source.html#l00171">OST_CONNECT</a>, <a class="el" href="packet-lustre_8c_source.html#l00172">OST_DISCONNECT</a>, <a class="el" href="recover_8c_source.html#l00393">ptlrpc_import_in_recovery()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_resend</a>, <a class="el" href="lustre__net_8h_source.html#l01113">ptlrpc_request::rq_timeout</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00171">RQF_MDS_DISCONNECT</a>, and <a class="el" href="gnilnd__modparams_8c_source.html#l00052">timeout</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00604">client_disconnect_export()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00966">ldlm_namespace_free_prior()</a>, <a class="el" href="lwp__dev_8c_source.html#l00156">lwp_disconnect()</a>, <a class="el" href="osp__dev_8c_source.html#l00456">osp_disconnect()</a>, and <a class="el" href="import_8c_source.html#l00450">ptlrpc_reconnect_import()</a>.</p>

</div>
</div>
<a class="anchor" id="gac133162c229195f6e9479dd79aac6473"></a><!-- doxytag: member="lustre_net.h::ptlrpc_dispatch_difficult_reply" ref="gac133162c229195f6e9479dd79aac6473" args="(struct ptlrpc_reply_state *rs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_dispatch_difficult_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *&nbsp;</td>
          <td class="paramname"> <em>rs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put reply state into a queue for processing because we received ACK from the client. </p>

<p>Definition at line <a class="el" href="service_8c_source.html#l00369">369</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="service_8c_source.html#l00209">ptlrpc_hr_thread::hrt_lock</a>, <a class="el" href="service_8c_source.html#l00211">ptlrpc_hr_thread::hrt_queue</a>, <a class="el" href="service_8c_source.html#l00210">ptlrpc_hr_thread::hrt_waitq</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="service_8c_source.html#l00274">ptlrpc_hr_select()</a>, <a class="el" href="lustre__net_8h_source.html#l00653">ptlrpc_reply_state::rs_list</a>, and <a class="el" href="lustre__net_8h_source.html#l00688">ptlrpc_reply_state::rs_svcpt</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l00387">ptlrpc_schedule_difficult_reply()</a>, and <a class="el" href="ldlm__lib_8c_source.html#l02860">target_send_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="gab9ee87b413f0ce1ea5589d233011a30c"></a><!-- doxytag: member="lustre_net.h::ptlrpc_error" ref="gab9ee87b413f0ce1ea5589d233011a30c" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_error </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="niobuf_8c_source.html#l00649">649</a> of file <a class="el" href="niobuf_8c_source.html">niobuf.c</a>.</p>

<p>References <a class="el" href="niobuf_8c_source.html#l00626">ptlrpc_send_error()</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l01928">ldlm_handle_gl_callback()</a>, <a class="el" href="service_8c_source.html#l01117">ptlrpc_check_req()</a>, <a class="el" href="tgt__handler_8c_source.html#l00514">tgt_handle_recovery()</a>, and <a class="el" href="tgt__handler_8c_source.html#l00653">tgt_request_handle()</a>.</p>

</div>
</div>
<a class="anchor" id="ga157357acf9f2b447ca5e49b108986e6c"></a><!-- doxytag: member="lustre_net.h::ptlrpc_free_bulk" ref="ga157357acf9f2b447ca5e49b108986e6c" args="(struct ptlrpc_bulk_desc *bulk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_free_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>bulk</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l00257">257</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01446">ptlrpc_bulk_desc::bd_export</a>, <a class="el" href="lustre__net_8h_source.html#l01451">ptlrpc_bulk_desc::bd_frag_ops</a>, <a class="el" href="lustre__net_8h_source.html#l01448">ptlrpc_bulk_desc::bd_import</a>, <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="lustre__net_8h_source.html#l01454">ptlrpc_bulk_desc::bd_max_iov</a>, <a class="el" href="lustre__net_8h_source.html#l01462">ptlrpc_bulk_desc::bd_md_count</a>, <a class="el" href="lustre__net_8h_source.html#l01442">ptlrpc_bulk_desc::bd_type</a>, <a class="el" href="genops_8c_source.html#l00812">class_export_put()</a>, <a class="el" href="genops_8c_source.html#l01015">class_import_put()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__net_8h_source.html#l01484">GET_KIOV</a>, <a class="el" href="lustre__net_8h_source.html#l01488">GET_KVEC</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__net_8h_source.html#l01375">ptlrpc_is_bulk_desc_kiov()</a>, <a class="el" href="structptlrpc__bulk__frag__ops.html#a2604b1837635c96693183c071925fd15">ptlrpc_bulk_frag_ops::release_frags</a>, and <a class="el" href="sec__bulk_8c_source.html#l00678">sptlrpc_enc_pool_put_pages()</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l02389">__ptlrpc_free_req()</a>, <a class="el" href="mgs__nids_8c_source.html#l00598">mgs_get_ir_logs()</a>, <a class="el" href="out__handler_8c_source.html#l00894">out_handle()</a>, <a class="el" href="tgt__handler_8c_source.html#l01837">tgt_brw_read()</a>, <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>, <a class="el" href="tgt__handler_8c_source.html#l01112">tgt_send_buffer()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01141">tgt_sendpage()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1b3e3fff15de45e0042c071e5bb806f4"></a><!-- doxytag: member="lustre_net.h::ptlrpc_free_rq_pool" ref="ga1b3e3fff15de45e0042c071e5bb806f4" args="(struct ptlrpc_request_pool *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_free_rq_pool </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wind down request pool <em>pool</em>. </p>
<p>Frees all requests from the pool too </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00509">509</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="lustre__net_8h_source.html#l00742">ptlrpc_request_pool::prp_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00744">ptlrpc_request_pool::prp_req_list</a>, <a class="el" href="lustre__net_8h_source.html#l00746">ptlrpc_request_pool::prp_rq_size</a>, <a class="el" href="client_8c_source.html#l00500">ptlrpc_request_cache_free()</a>, <a class="el" href="lustre__net_8h_source.html#l00962">ptlrpc_request::rq_list</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, and <a class="el" href="lustre__net_8h_source.html#l01084">ptlrpc_request::rq_reqbuf_len</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l03024">osc_exit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6539e422ce487ae5c6cdeb3855ffdc96"></a><!-- doxytag: member="lustre_net.h::ptlrpc_hpreq_handler" ref="ga6539e422ce487ae5c6cdeb3855ffdc96" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_hpreq_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="service_8c_source.html#l01620">1620</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="packet-lustre_8c_source.html#l00206">MDS_CONNECT</a>, <a class="el" href="packet-lustre_8c_source.html#l00303">OBD_PING</a>, <a class="el" href="packet-lustre_8c_source.html#l00171">OST_CONNECT</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>, and <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga48bcd41298dc75aed55d30b850d28c26"></a><!-- doxytag: member="lustre_net.h::ptlrpc_hr_fini" ref="ga48bcd41298dc75aed55d30b850d28c26" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_hr_fini </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="service_8c_source.html#l02943">2943</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="libcfs__cpu_8h_source.html#l00213">cfs_percpt_for_each</a>, <a class="el" href="libcfs__mem_8c_source.html#l00049">cfs_percpt_free()</a>, <a class="el" href="service_8c_source.html#l00242">ptlrpc_hr_service::hr_partitions</a>, <a class="el" href="service_8c_source.html#l00225">ptlrpc_hr_partition::hrp_nthrs</a>, <a class="el" href="service_8c_source.html#l00227">ptlrpc_hr_partition::hrp_thrs</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="service_8c_source.html#l00252">ptlrpc_hr</a>, and <a class="el" href="service_8c_source.html#l02620">ptlrpc_stop_hr_threads()</a>.</p>

<p>Referenced by <a class="el" href="ptlrpc__module_8c_source.html#l00138">ptlrpc_exit()</a>, <a class="el" href="service_8c_source.html#l02888">ptlrpc_hr_init()</a>, and <a class="el" href="ptlrpc__module_8c_source.html#l00052">ptlrpc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga47eab7558ff3a05ad0bd51901e737849"></a><!-- doxytag: member="lustre_net.h::ptlrpc_hr_init" ref="ga47eab7558ff3a05ad0bd51901e737849" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_hr_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="service_8c_source.html#l02888">2888</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="libcfs__cpu_8c_source.html#l00100">cfs_cpt_weight()</a>, <a class="el" href="libcfs__cpu_8c_source.html#l00186">cfs_cpu_ht_nsiblings()</a>, <a class="el" href="libcfs__mem_8c_source.html#l00078">cfs_percpt_alloc()</a>, <a class="el" href="libcfs__cpu_8h_source.html#l00213">cfs_percpt_for_each</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="service_8c_source.html#l00235">ptlrpc_hr_service::hr_cpt_table</a>, <a class="el" href="service_8c_source.html#l00242">ptlrpc_hr_service::hr_partitions</a>, <a class="el" href="service_8c_source.html#l00237">ptlrpc_hr_service::hr_waitq</a>, <a class="el" href="service_8c_source.html#l00221">ptlrpc_hr_partition::hrp_cpt</a>, <a class="el" href="service_8c_source.html#l00217">ptlrpc_hr_partition::hrp_nstarted</a>, <a class="el" href="service_8c_source.html#l00219">ptlrpc_hr_partition::hrp_nstopped</a>, <a class="el" href="service_8c_source.html#l00225">ptlrpc_hr_partition::hrp_nthrs</a>, <a class="el" href="service_8c_source.html#l00227">ptlrpc_hr_partition::hrp_thrs</a>, <a class="el" href="service_8c_source.html#l00208">ptlrpc_hr_thread::hrt_id</a>, <a class="el" href="service_8c_source.html#l00209">ptlrpc_hr_thread::hrt_lock</a>, <a class="el" href="service_8c_source.html#l00212">ptlrpc_hr_thread::hrt_partition</a>, <a class="el" href="service_8c_source.html#l00211">ptlrpc_hr_thread::hrt_queue</a>, <a class="el" href="service_8c_source.html#l00210">ptlrpc_hr_thread::hrt_waitq</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00716">OBD_CPT_ALLOC</a>, <a class="el" href="service_8c_source.html#l00252">ptlrpc_hr</a>, <a class="el" href="service_8c_source.html#l02943">ptlrpc_hr_fini()</a>, <a class="el" href="service_8c_source.html#l02644">ptlrpc_start_hr_threads()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="ptlrpc__module_8c_source.html#l00052">ptlrpc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6ad1e58ff4d334ea76093692cc976932"></a><!-- doxytag: member="lustre_net.h::ptlrpc_import_enter_resend" ref="ga6ad1e58ff4d334ea76093692cc976932" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_import_enter_resend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="import_8c_source.html#l00106">106</a> of file <a class="el" href="import_8c_source.html">import.c</a>.</p>

<p>References <a class="el" href="import_8c_source.html#l00099">IMPORT_SET_STATE</a>, and <a class="el" href="lustre__import_8h_source.html#l00105">LUSTRE_IMP_RECOVER</a>.</p>

</div>
</div>
<a class="anchor" id="gae24ff0ea3f19794b41cb4da94ffa9ce2"></a><!-- doxytag: member="lustre_net.h::ptlrpc_import_recovery_state_machine" ref="gae24ff0ea3f19794b41cb4da94ffa9ce2" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_import_recovery_state_machine </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the state machine for client-side recovery on import. </p>
<p>Typicaly we have two possibly paths. If we came to server and it is not in recovery, we just enter IMP_EVICTED state, invalidate our import state and reconnect from scratch. If we came to server that is in recovery, we enter IMP_REPLAY import state. We go through our list of requests to replay and send them to server one by one. After sending all request from the list we change import state to IMP_REPLAY_LOCKS and re-request all the locks we believe we have from server and also all the locks we don't yet have and wait for server to grant us. After that we send a special "replay completed" request and change import state to IMP_REPLAY_WAIT. Upon receiving reply to that "replay completed" RPC we enter IMP_RECOVER state and resend all requests from sending list. After that we promote import to FULL state and send all delayed requests and import is fully operational after that. </p>

<p>Definition at line <a class="el" href="import_8c_source.html#l01449">1449</a> of file <a class="el" href="import_8c_source.html">import.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00521">ptlrpc_connection::c_peer</a>, <a class="el" href="lustre__net_8h_source.html#l00523">ptlrpc_connection::c_remote_uuid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="genops_8c_source.html#l01005">class_import_get()</a>, <a class="el" href="genops_8c_source.html#l01015">class_import_put()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="import_8c_source.html#l00137">deuuidify()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00170">obd_import::imp_connection</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00217">obd_import::imp_recovery_waitq</a>, <a class="el" href="lustre__import_8h_source.html#l00224">obd_import::imp_replay_inflight</a>, <a class="el" href="lustre__import_8h_source.html#l00230">obd_import::imp_state</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_vbr_failed</a>, <a class="el" href="import_8c_source.html#l00099">IMPORT_SET_STATE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00285">LCONSOLE_ERROR_MSG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00283">LCONSOLE_INFO</a>, <a class="el" href="ldlm__request_8c_source.html#l02338">ldlm_replay_locks()</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lustre__import_8h_source.html#l00107">LUSTRE_IMP_EVICTED</a>, <a class="el" href="lustre__import_8h_source.html#l00106">LUSTRE_IMP_FULL</a>, <a class="el" href="lustre__import_8h_source.html#l00105">LUSTRE_IMP_RECOVER</a>, <a class="el" href="lustre__import_8h_source.html#l00102">LUSTRE_IMP_REPLAY</a>, <a class="el" href="lustre__import_8h_source.html#l00103">LUSTRE_IMP_REPLAY_LOCKS</a>, <a class="el" href="lustre__import_8h_source.html#l00104">LUSTRE_IMP_REPLAY_WAIT</a>, <a class="el" href="obd_8h_source.html#l00466">LUSTRE_MGC_NAME</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, <a class="el" href="obd_8h_source.html#l00332">obd2cli_tgt</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00592">obd_device::obd_type</a>, <a class="el" href="lustre__user_8h_source.html#l00513">obd_uuid2str()</a>, <a class="el" href="import_8c_source.html#l00399">ptlrpc_activate_import()</a>, <a class="el" href="import_8c_source.html#l01403">ptlrpc_invalidate_import_thread()</a>, <a class="el" href="recover_8c_source.html#l00072">ptlrpc_replay_next()</a>, <a class="el" href="recover_8c_source.html#l00196">ptlrpc_resend()</a>, <a class="el" href="recover_8c_source.html#l00234">ptlrpc_wake_delayed()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="import_8c_source.html#l01368">signal_completed_replay()</a>, <a class="el" href="obd_8h_source.html#l00111">obd_type::typ_name</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="import_8c_source.html#l01338">completed_replay_interpret()</a>, <a class="el" href="import_8c_source.html#l00984">ptlrpc_connect_interpret()</a>, <a class="el" href="import_8c_source.html#l01403">ptlrpc_invalidate_import_thread()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, and <a class="el" href="ldlm__request_8c_source.html#l02175">replay_lock_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8274d1c6229aa8679c30551cc4768778"></a><!-- doxytag: member="lustre_net.h::ptlrpc_init_client" ref="ga8274d1c6229aa8679c30551cc4768778" args="(int req_portal, int rep_portal, char *name, struct ptlrpc_client *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_init_client </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>req_portal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rep_portal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__client.html">ptlrpc_client</a> *&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize passed in client structure <em>cl</em>. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00074">74</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00535">ptlrpc_client::cli_name</a>, <a class="el" href="lustre__net_8h_source.html#l00533">ptlrpc_client::cli_reply_portal</a>, and <a class="el" href="lustre__net_8h_source.html#l00531">ptlrpc_client::cli_request_portal</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00261">client_obd_setup()</a>, <a class="el" href="echo_8c_source.html#l00548">echo_setup()</a>, <a class="el" href="mdt__handler_8c_source.html#l04511">mdt_init0()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, and <a class="el" href="ofd__dev_8c_source.html#l02814">ofd_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4197d19954bc0ced2fd5063ce62b9373"></a><!-- doxytag: member="lustre_net.h::ptlrpc_init_import" ref="ga4197d19954bc0ced2fd5063ce62b9373" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_init_import </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="import_8c_source.html#l00123">123</a> of file <a class="el" href="import_8c_source.html">import.c</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00237">obd_import::imp_generation</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00230">obd_import::imp_state</a>, and <a class="el" href="lustre__import_8h_source.html#l00099">LUSTRE_IMP_NEW</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00527">client_connect_import()</a>, <a class="el" href="lwp__dev_8c_source.html#l00476">lwp_obd_connect()</a>, <a class="el" href="lwp__dev_8c_source.html#l00078">lwp_setup()</a>, and <a class="el" href="osp__dev_8c_source.html#l00996">osp_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga297dfeefaa23e0c6265ca8c0ad81e818"></a><!-- doxytag: member="lustre_net.h::ptlrpc_init_rq_pool" ref="ga297dfeefaa23e0c6265ca8c0ad81e818" args="(int, int, int(*populate_pool)(struct ptlrpc_request_pool *, int))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a>* ptlrpc_init_rq_pool </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *, int)&nbsp;</td>
          <td class="paramname"> <em>populate_pool</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create and initialize new request pool with given attributes: <em>num_rq</em> - initial number of requests to create for the pool <em>msgsize</em> - maximum message size possible for requests in thid pool <em>populate_pool</em> - function to be called when more requests need to be added to the pool Returns pointer to newly created pool or NULL on error. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00581">581</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="lustre__net_8h_source.html#l00742">ptlrpc_request_pool::prp_lock</a>, <a class="el" href="structptlrpc__request__pool.html#a666162961622baf799216fcae4f4dede">ptlrpc_request_pool::prp_populate</a>, <a class="el" href="lustre__net_8h_source.html#l00744">ptlrpc_request_pool::prp_req_list</a>, <a class="el" href="lustre__net_8h_source.html#l00746">ptlrpc_request_pool::prp_rq_size</a>, and <a class="el" href="lustre__sec_8h_source.html#l00388">SPTLRPC_MAX_PAYLOAD</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gac67f44a3e69d1a64ba820b67100f2163"></a><!-- doxytag: member="lustre_net.h::ptlrpc_is_bulk_desc_kiov" ref="gac67f44a3e69d1a64ba820b67100f2163" args="(enum ptlrpc_bulk_op_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ptlrpc_is_bulk_desc_kiov </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01375">1375</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01337">PTLRPC_BULK_BUF_KIOV</a>, and <a class="el" href="lustre__net_8h_source.html#l01336">PTLRPC_BULK_BUF_KVEC</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00205">__ptlrpc_prep_bulk_page()</a>, <a class="el" href="sec__plain_8c_source.html#l00157">corrupt_bulk_data()</a>, <a class="el" href="gss__bulk_8c_source.html#l00168">gss_cli_ctx_unwrap_bulk()</a>, <a class="el" href="gss__bulk_8c_source.html#l00062">gss_cli_ctx_wrap_bulk()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01486">gss_prep_bulk_kerberos()</a>, <a class="el" href="gss__bulk_8c_source.html#l00374">gss_svc_unwrap_bulk()</a>, <a class="el" href="gss__bulk_8c_source.html#l00451">gss_svc_wrap_bulk()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01801">gss_unwrap_bulk_kerberos()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01522">gss_wrap_bulk_kerberos()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01174">krb5_decrypt_bulk()</a>, <a class="el" href="gss__krb5__mech_8c_source.html#l01054">krb5_encrypt_bulk()</a>, <a class="el" href="sec__plain_8c_source.html#l00337">plain_cli_unwrap_bulk()</a>, <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>, <a class="el" href="client_8c_source.html#l00257">ptlrpc_free_bulk()</a>, <a class="el" href="client_8c_source.html#l00117">ptlrpc_new_bulk()</a>, <a class="el" href="sec__bulk_8c_source.html#l00546">sptlrpc_enc_pool_get_pages()</a>, <a class="el" href="sec__bulk_8c_source.html#l00678">sptlrpc_enc_pool_put_pages()</a>, <a class="el" href="sec__bulk_8c_source.html#l00923">sptlrpc_get_bulk_checksum()</a>, <a class="el" href="tgt__handler_8c_source.html#l01757">tgt_checksum_bulk()</a>, and <a class="el" href="osc__page_8c_source.html#l00990">unstable_page_accounting()</a>.</p>

</div>
</div>
<a class="anchor" id="ga798de649e619bbf6847e2d33c49d2027"></a><!-- doxytag: member="lustre_net.h::ptlrpc_is_bulk_desc_kvec" ref="ga798de649e619bbf6847e2d33c49d2027" args="(enum ptlrpc_bulk_op_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ptlrpc_is_bulk_desc_kvec </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01369">1369</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01337">PTLRPC_BULK_BUF_KIOV</a>, and <a class="el" href="lustre__net_8h_source.html#l01336">PTLRPC_BULK_BUF_KVEC</a>.</p>

<p>Referenced by <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>, <a class="el" href="client_8c_source.html#l00117">ptlrpc_new_bulk()</a>, and <a class="el" href="client_8c_source.html#l00233">ptlrpc_prep_bulk_frag()</a>.</p>

</div>
</div>
<a class="anchor" id="ga012118bc6aa8fbd8c9522fc13c3a4226"></a><!-- doxytag: member="lustre_net.h::ptlrpc_is_bulk_get_sink" ref="ga012118bc6aa8fbd8c9522fc13c3a4226" args="(enum ptlrpc_bulk_op_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ptlrpc_is_bulk_get_sink </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01359">1359</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01340">PTLRPC_BULK_GET_SINK</a>.</p>

</div>
</div>
<a class="anchor" id="gaa52d8a2d413867d8d6af5e54a1935696"></a><!-- doxytag: member="lustre_net.h::ptlrpc_is_bulk_get_source" ref="gaa52d8a2d413867d8d6af5e54a1935696" args="(enum ptlrpc_bulk_op_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ptlrpc_is_bulk_get_source </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01349">1349</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01338">PTLRPC_BULK_GET_SOURCE</a>.</p>

<p>Referenced by <a class="el" href="events_8c_source.html#l00181">client_bulk_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8622ec2ae2d3c659f5b7895599837417"></a><!-- doxytag: member="lustre_net.h::ptlrpc_is_bulk_op_active" ref="ga8622ec2ae2d3c659f5b7895599837417" args="(enum ptlrpc_bulk_op_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ptlrpc_is_bulk_op_active </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01381">1381</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01332">PTLRPC_BULK_OP_ACTIVE</a>, and <a class="el" href="lustre__net_8h_source.html#l01333">PTLRPC_BULK_OP_PASSIVE</a>.</p>

</div>
</div>
<a class="anchor" id="gaebe452a5424fa03e2e932e8ec7b16d3f"></a><!-- doxytag: member="lustre_net.h::ptlrpc_is_bulk_op_get" ref="gaebe452a5424fa03e2e932e8ec7b16d3f" args="(enum ptlrpc_bulk_op_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ptlrpc_is_bulk_op_get </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01344">1344</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01335">PTLRPC_BULK_OP_GET</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00301">ptlrpc_register_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf49e1df90922c10b78a13cbe23915123"></a><!-- doxytag: member="lustre_net.h::ptlrpc_is_bulk_op_passive" ref="gaf49e1df90922c10b78a13cbe23915123" args="(enum ptlrpc_bulk_op_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ptlrpc_is_bulk_op_passive </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01388">1388</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01332">PTLRPC_BULK_OP_ACTIVE</a>, and <a class="el" href="lustre__net_8h_source.html#l01333">PTLRPC_BULK_OP_PASSIVE</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00174">ptlrpc_prep_bulk_imp()</a>, and <a class="el" href="niobuf_8c_source.html#l00301">ptlrpc_register_bulk()</a>.</p>

</div>
</div>
<a class="anchor" id="gad0ac3e31bd9d66116562aad8d05e4929"></a><!-- doxytag: member="lustre_net.h::ptlrpc_is_bulk_put_sink" ref="gad0ac3e31bd9d66116562aad8d05e4929" args="(enum ptlrpc_bulk_op_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ptlrpc_is_bulk_put_sink </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01354">1354</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01339">PTLRPC_BULK_PUT_SINK</a>.</p>

<p>Referenced by <a class="el" href="events_8c_source.html#l00181">client_bulk_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="ga12fbac472b5ecb9aff8424d57d670420"></a><!-- doxytag: member="lustre_net.h::ptlrpc_is_bulk_put_source" ref="ga12fbac472b5ecb9aff8424d57d670420" args="(enum ptlrpc_bulk_op_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ptlrpc_is_bulk_put_source </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#gaa3f75b2ff04d1cf65bcbbe7ab0ea1bef">ptlrpc_bulk_op_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01364">1364</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01341">PTLRPC_BULK_PUT_SOURCE</a>.</p>

</div>
</div>
<a class="anchor" id="ga63caf1283071c28280ef2909aed2924f"></a><!-- doxytag: member="lustre_net.h::ptlrpc_lprocfs_brw" ref="ga63caf1283071c28280ef2909aed2924f" args="(struct ptlrpc_request *req, int bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_lprocfs_brw </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02662">2662</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="tgt__handler_8c_source.html#l01837">tgt_brw_read()</a>, and <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2388f0ff66507905fb3c0ac36c35f6c1"></a><!-- doxytag: member="lustre_net.h::ptlrpc_lprocfs_register_obd" ref="ga2388f0ff66507905fb3c0ac36c35f6c1" args="(struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_lprocfs_register_obd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02660">2660</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="lwp__dev_8c_source.html#l00245">lwp_init0()</a>, <a class="el" href="mdc__request_8c_source.html#l02642">mdc_setup()</a>, and <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3208c43b8f4b193e51ae286d291c26b7"></a><!-- doxytag: member="lustre_net.h::ptlrpc_lprocfs_unregister_obd" ref="ga3208c43b8f4b193e51ae286d291c26b7" args="(struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_lprocfs_unregister_obd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02661">2661</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>Referenced by <a class="el" href="lwp__dev_8c_source.html#l00358">lwp_device_fini()</a>, <a class="el" href="mdc__request_8c_source.html#l02704">mdc_precleanup()</a>, <a class="el" href="osc__request_8c_source.html#l02843">osc_precleanup()</a>, <a class="el" href="osp__dev_8c_source.html#l01319">osp_device_fini()</a>, and <a class="el" href="osp__dev_8c_source.html#l00996">osp_init0()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf50ebcc46ea5f7316c23362915fd5ce7"></a><!-- doxytag: member="lustre_net.h::ptlrpc_mark_interrupted" ref="gaf50ebcc46ea5f7316c23362915fd5ce7" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_mark_interrupted </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets rq_intr flag in <em>req</em> under spinlock. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l02168">2168</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_intr</a>, and <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, and <a class="el" href="client_8c_source.html#l02180">ptlrpc_interrupted_set()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf2442fe17f822101d45881701da27f40"></a><!-- doxytag: member="lustre_net.h::ptlrpc_next_xid" ref="gaf2442fe17f822101d45881701da27f40" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ptlrpc_next_xid </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Increase xid and returns resulting new value to the caller. </p>
<p>Multi-bulk BRW RPCs consume multiple XIDs for each bulk transfer, starting at the returned xid, up to xid + PTLRPC_BULK_OPS_COUNT - 1. The BRW RPC itself uses the last bulk xid needed, so the server can determine the the number of bulk transfers from the RPC XID and a bitmask. The starting xid must align to a power-of-two value.</p>
<p>This is assumed to be true due to the initial ptlrpc_last_xid value also being initialized to a power-of-two value. LU-1431 </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l03177">3177</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, and <a class="el" href="lustre__net_8h_source.html#l00086">PTLRPC_BULK_OPS_COUNT</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00681">ptlrpc_assign_next_xid_nolock()</a>, <a class="el" href="client_8c_source.html#l03196">ptlrpc_set_bulk_mbits()</a>, and <a class="el" href="client_8c_source.html#l03270">ptlrpcd_add_work_req()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6b5f5d7d0db25db9657ed6604d5f4e77"></a><!-- doxytag: member="lustre_net.h::ptlrpc_no_resend" ref="ga6b5f5d7d0db25db9657ed6604d5f4e77" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_no_resend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02563">2563</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l02552">ptlrpc_send_limit_expired()</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, and <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_resend</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01297">after_reply()</a>, <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="client_8c_source.html#l02050">ptlrpc_expire_one_request()</a>, and <a class="el" href="recover_8c_source.html#l00196">ptlrpc_resend()</a>.</p>

</div>
</div>
<a class="anchor" id="gace9ff93f7cc36086c18cea009c16fc25"></a><!-- doxytag: member="lustre_net.h::ptlrpc_obd_ping" ref="gace9ff93f7cc36086c18cea009c16fc25" args="(struct obd_device *obd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_obd_ping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>obd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00078">78</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00106">LUSTRE_IMP_FULL</a>, <a class="el" href="pinger_8c_source.html#l00065">ptlrpc_prep_ping()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l02064">mdc_iocontrol()</a>, <a class="el" href="osc__request_8c_source.html#l02385">osc_iocontrol()</a>, and <a class="el" href="osp__dev_8c_source.html#l01660">osp_iocontrol()</a>.</p>

</div>
</div>
<a class="anchor" id="ga53dd8d5d7bc91b056abbd7318609976e"></a><!-- doxytag: member="lustre_net.h::ptlrpc_phase2str" ref="ga53dd8d5d7bc91b056abbd7318609976e" args="(enum rq_phase phase)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* ptlrpc_phase2str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__net.html#ga0e456f0c28b52cad4b543eec9efa656a">rq_phase</a>&nbsp;</td>
          <td class="paramname"> <em>phase</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert numerical request phase value <em>phase</em> into text string description. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01229">1229</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00719">RQ_PHASE_BULK</a>, <a class="el" href="lustre__net_8h_source.html#l00721">RQ_PHASE_COMPLETE</a>, <a class="el" href="lustre__net_8h_source.html#l00720">RQ_PHASE_INTERPRET</a>, <a class="el" href="lustre__net_8h_source.html#l00717">RQ_PHASE_NEW</a>, <a class="el" href="lustre__net_8h_source.html#l00718">RQ_PHASE_RPC</a>, and <a class="el" href="lustre__net_8h_source.html#l00722">RQ_PHASE_UNREGISTERING</a>.</p>

<p>Referenced by <a class="el" href="import_8c_source.html#l00286">ptlrpc_invalidate_import()</a>, <a class="el" href="lustre__net_8h_source.html#l01254">ptlrpc_rqphase2str()</a>, and <a class="el" href="lustre__net_8h_source.html#l02428">ptlrpc_rqphase_move()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf4e44a48c2d9f37024987ae16f570ecc"></a><!-- doxytag: member="lustre_net.h::ptlrpc_pinger_add_import" ref="gaf4e44a48c2d9f37024987ae16f570ecc" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_pinger_add_import </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00405">405</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="genops_8c_source.html#l01005">class_import_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00174">obd_import::imp_pinger_chain</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="obd_8h_source.html#l00332">obd2cli_tgt</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_no_recov</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="pinger_8c_source.html#l00052">pinger_mutex</a>, <a class="el" href="pinger_8c_source.html#l00565">ptlrpc_pinger_wake_up()</a>, <a class="el" href="pinger_8c_source.html#l00118">ptlrpc_update_next_ping()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00527">client_connect_import()</a>, <a class="el" href="lwp__dev_8c_source.html#l00476">lwp_obd_connect()</a>, and <a class="el" href="osp__dev_8c_source.html#l01398">osp_obd_connect()</a>.</p>

</div>
</div>
<a class="anchor" id="ga156e93f4ea3bc9fe2e6388558583b755"></a><!-- doxytag: member="lustre_net.h::ptlrpc_pinger_del_import" ref="ga156e93f4ea3bc9fe2e6388558583b755" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_pinger_del_import </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00428">428</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="genops_8c_source.html#l01015">class_import_put()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00174">obd_import::imp_pinger_chain</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="obd_8h_source.html#l00332">obd2cli_tgt</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_no_recov</a>, <a class="el" href="obd_8h_source.html#l00598">obd_device::obd_uuid</a>, <a class="el" href="pinger_8c_source.html#l00052">pinger_mutex</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00604">client_disconnect_export()</a>, <a class="el" href="lwp__dev_8c_source.html#l00156">lwp_disconnect()</a>, and <a class="el" href="osp__dev_8c_source.html#l00456">osp_disconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4b518fe4579064b2464f4bb8c4c59f33"></a><!-- doxytag: member="lustre_net.h::ptlrpc_pinger_ir_down" ref="ga4b518fe4579064b2464f4bb8c4c59f33" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_pinger_ir_down </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00180">180</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, and <a class="el" href="pinger_8c_source.html#l00171">ir_up</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01282">mgc_import_event()</a>.</p>

</div>
</div>
<a class="anchor" id="ga62624c86802cf22df46e02590dd55951"></a><!-- doxytag: member="lustre_net.h::ptlrpc_pinger_ir_up" ref="ga62624c86802cf22df46e02590dd55951" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_pinger_ir_up </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00173">173</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, and <a class="el" href="pinger_8c_source.html#l00171">ir_up</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01282">mgc_import_event()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaad7581ae130c00088e4d7c3f8df6d91"></a><!-- doxytag: member="lustre_net.h::ptlrpc_pinger_suppress_pings" ref="gaaad7581ae130c00088e4d7c3f8df6d91" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_pinger_suppress_pings </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00058">58</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="pinger_8c_source.html#l00048">suppress_pings</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l05018">mdt_connect_internal()</a>, and <a class="el" href="ofd__obd_8c_source.html#l00137">ofd_parse_connect_data()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2ce5ef3b8b47e511c659611f9535f1f7"></a><!-- doxytag: member="lustre_net.h::ptlrpc_prep_bulk_frag" ref="ga2ce5ef3b8b47e511c659611f9535f1f7" args="(struct ptlrpc_bulk_desc *desc, void *frag, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_prep_bulk_frag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>frag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l00233">233</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01489">BD_GET_KVEC</a>, <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="lustre__net_8h_source.html#l01454">ptlrpc_bulk_desc::bd_max_iov</a>, <a class="el" href="lustre__net_8h_source.html#l01455">ptlrpc_bulk_desc::bd_nob</a>, <a class="el" href="lustre__net_8h_source.html#l01442">ptlrpc_bulk_desc::bd_type</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__net_8h_source.html#l01369">ptlrpc_is_bulk_desc_kvec()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ga42ea756e2d84491e4b6ea2e53616d7cb"></a><!-- doxytag: member="lustre_net.h::ptlrpc_prep_bulk_imp" ref="ga42ea756e2d84491e4b6ea2e53616d7cb" args="(struct ptlrpc_request *req, unsigned nfrags, unsigned max_brw, unsigned int type, unsigned portal, const struct ptlrpc_bulk_frag_ops *ops)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a>* ptlrpc_prep_bulk_imp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>nfrags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>max_brw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>portal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structptlrpc__bulk__frag__ops.html">ptlrpc_bulk_frag_ops</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prepare bulk descriptor for specified outgoing request <em>req</em> that can fit <em>nfrags</em> * pages. </p>
<p><em>type</em> is bulk type. <em>portal</em> is where the bulk to be sent. Used on client-side. Returns pointer to newly allocatrd initialized bulk descriptor or NULL on error. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00174">174</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01460">ptlrpc_bulk_desc::bd_cbid</a>, <a class="el" href="lustre__net_8h_source.html#l01448">ptlrpc_bulk_desc::bd_import</a>, <a class="el" href="lustre__net_8h_source.html#l01440">ptlrpc_bulk_desc::bd_import_generation</a>, <a class="el" href="lustre__net_8h_source.html#l01450">ptlrpc_bulk_desc::bd_req</a>, <a class="el" href="lustre__net_8h_source.html#l00635">ptlrpc_cb_id::cbid_arg</a>, <a class="el" href="structptlrpc__cb__id.html#a58f3b9cf321abbbda3162af4e35c310e">ptlrpc_cb_id::cbid_fn</a>, <a class="el" href="genops_8c_source.html#l01005">class_import_get()</a>, <a class="el" href="events_8c_source.html#l00181">client_bulk_callback()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__net_8h_source.html#l01388">ptlrpc_is_bulk_op_passive()</a>, <a class="el" href="client_8c_source.html#l00117">ptlrpc_new_bulk()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__md__object_8c_source.html#l01126">osp_md_read()</a>, <a class="el" href="osp__trans_8c_source.html#l00314">osp_prep_update_req()</a>, and <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>.</p>

</div>
</div>
<a class="anchor" id="gafd7d61cb543a40b625f20f0171772a1a"></a><!-- doxytag: member="lustre_net.h::ptlrpc_prep_bulk_page_nopin" ref="gafd7d61cb543a40b625f20f0171772a1a" args="(struct ptlrpc_bulk_desc *desc, struct page *page, int pageoffset, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_prep_bulk_page_nopin </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pageoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02151">2151</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l00205">__ptlrpc_prep_bulk_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ga34ac4dc2715f14d4891010e33629b9fb"></a><!-- doxytag: member="lustre_net.h::ptlrpc_prep_bulk_page_pin" ref="ga34ac4dc2715f14d4891010e33629b9fb" args="(struct ptlrpc_bulk_desc *desc, struct page *page, int pageoffset, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_prep_bulk_page_pin </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pageoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02144">2144</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l00205">__ptlrpc_prep_bulk_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2d9ff5fa185af154f37c364df7b5c4cc"></a><!-- doxytag: member="lustre_net.h::ptlrpc_prep_fcset" ref="ga2d9ff5fa185af154f37c364df7b5c4cc" args="(int max, set_producer_func func, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a>* ptlrpc_prep_fcset </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net.html#ga17aa5caeef85aa78f71add31bf7afbe1">set_producer_func</a>&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate and initialize new request set structure with flow control extension. </p>
<p>This extension allows to control the number of requests in-flight for the whole set. A callback function to generate requests must be provided and the request set will keep the number of requests sent over the wire to . Returns a pointer to the newly allocated set structure or NULL on error. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00948">948</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l00913">ptlrpc_prep_set()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lock_8c_source.html#l02050">ldlm_run_ast_work()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa72b6cce8215496489a8e7e1a88b6c70"></a><!-- doxytag: member="lustre_net.h::ptlrpc_prep_ping" ref="gaa72b6cce8215496489a8e7e1a88b6c70" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* ptlrpc_prep_ping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pinger_8c_source.html#l00065">65</a> of file <a class="el" href="pinger_8c_source.html">pinger.c</a>.</p>

<p>References <a class="el" href="packet-lustre_8c_source.html#l00076">LUSTRE_OBD_VERSION</a>, <a class="el" href="packet-lustre_8c_source.html#l00303">OBD_PING</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_delay</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_resend</a>, and <a class="el" href="layout_8c_source.html#l01270">RQF_OBD_PING</a>.</p>

<p>Referenced by <a class="el" href="pinger_8c_source.html#l00078">ptlrpc_obd_ping()</a>, and <a class="el" href="pinger_8c_source.html#l00098">ptlrpc_ping()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7e29af1c85aba7368cea369f091d09b4"></a><!-- doxytag: member="lustre_net.h::ptlrpc_prep_set" ref="ga7e29af1c85aba7368cea369f091d09b4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a>* ptlrpc_prep_set </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate and initialize new request set structure on the current CPT. </p>
<p>Returns a pointer to the newly allocated set structure or NULL on error. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00913">913</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="libcfs__cpu_8c_source.html#l00193">cfs_cpt_current()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="obd__support_8h_source.html#l00716">OBD_CPT_ALLOC</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lfsck__engine_8c_source.html#l01248">lfsck_assistant_notify_others()</a>, <a class="el" href="lfsck__engine_8c_source.html#l01131">lfsck_assistant_query_others()</a>, <a class="el" href="lfsck__layout_8c_source.html#l00250">lfsck_layout_assistant_sync_failures()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03628">lfsck_layout_slave_notify_master()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03555">lfsck_layout_slave_query_master()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06245">lfsck_namespace_assistant_sync_failures()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02420">lfsck_query_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02848">lfsck_start_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02778">lfsck_stop_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02259">lfsck_stop_notify()</a>, <a class="el" href="lod__dev_8c_source.html#l01876">lod_obd_set_info_async()</a>, <a class="el" href="lov__obd_8c_source.html#l01304">lov_set_info_async()</a>, <a class="el" href="lov__obd_8c_source.html#l01055">lov_statfs()</a>, <a class="el" href="obd__class_8h_source.html#l01033">obd_statfs_rqset()</a>, <a class="el" href="client_8c_source.html#l00948">ptlrpc_prep_fcset()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, and <a class="el" href="ptlrpcd_8c_source.html#l00427">ptlrpcd()</a>.</p>

</div>
</div>
<a class="anchor" id="ga003cd2f0c09fd578821500e8084f8c48"></a><!-- doxytag: member="lustre_net.h::ptlrpc_queue_wait" ref="ga003cd2f0c09fd578821500e8084f8c48" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_queue_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send request and wait until it completes. </p>
<p>Returns request processing status. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l02829">2829</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux_2libcfs_8h_source.html#l00145">current_pid</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="pack__generic_8c_source.html#l01439">lustre_msg_set_status()</a>, <a class="el" href="client_8c_source.html#l00913">ptlrpc_prep_set()</a>, <a class="el" href="client_8c_source.html#l02757">ptlrpc_request_addref()</a>, <a class="el" href="client_8c_source.html#l01050">ptlrpc_set_add_req()</a>, <a class="el" href="client_8c_source.html#l00973">ptlrpc_set_destroy()</a>, <a class="el" href="client_8c_source.html#l02260">ptlrpc_set_wait()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_receiving_reply</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l01574">do_set_info_async()</a>, <a class="el" href="fld__request_8c_source.html#l00358">fld_client_rpc()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00233">gss_do_ctx_init_rpc()</a>, <a class="el" href="ldlm__request_8c_source.html#l01185">ldlm_cli_cancel_req()</a>, <a class="el" href="ldlm__request_8c_source.html#l01029">ldlm_cli_convert()</a>, <a class="el" href="ldlm__request_8c_source.html#l00869">ldlm_cli_enqueue()</a>, <a class="el" href="lfsck__layout_8c_source.html#l01900">lfsck_layout_master_conditional_destroy()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03789">lfsck_layout_slave_check_pairs()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01197">lfsck_namespace_notify_lmv_remote()</a>, <a class="el" href="llog__client_8c_source.html#l00143">llog_client_destroy()</a>, <a class="el" href="llog__client_8c_source.html#l00178">llog_client_next_block()</a>, <a class="el" href="llog__client_8c_source.html#l00079">llog_client_open()</a>, <a class="el" href="llog__client_8c_source.html#l00233">llog_client_prev_block()</a>, <a class="el" href="llog__client_8c_source.html#l00282">llog_client_read_header()</a>, <a class="el" href="mdc__request_8c_source.html#l00757">mdc_close()</a>, <a class="el" href="mdc__request_8c_source.html#l02480">mdc_fsync()</a>, <a class="el" href="mdc__request_8c_source.html#l02196">mdc_get_info_rpc()</a>, <a class="el" href="mdc__request_8c_source.html#l02736">mdc_get_remote_perm()</a>, <a class="el" href="mdc__request_8c_source.html#l00101">mdc_get_root()</a>, <a class="el" href="mdc__request_8c_source.html#l00165">mdc_getattr_common()</a>, <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mdc__request_8c_source.html#l01527">mdc_ioc_hsm_progress()</a>, <a class="el" href="mdc__request_8c_source.html#l01742">mdc_ioc_hsm_request()</a>, <a class="el" href="mdc__request_8c_source.html#l01701">mdc_ioc_hsm_state_set()</a>, <a class="el" href="mdc__request_8c_source.html#l02008">mdc_ioc_swap_layouts()</a>, <a class="el" href="mdc__request_8c_source.html#l00069">mdc_queue_wait()</a>, <a class="el" href="mdc__request_8c_source.html#l01971">mdc_quotactl()</a>, <a class="el" href="mdc__reint_8c_source.html#l00047">mdc_reint()</a>, <a class="el" href="mdc__request_8c_source.html#l01421">mdc_statfs()</a>, <a class="el" href="mdc__request_8c_source.html#l00294">mdc_xattr_common()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="mgc__request_8c_source.html#l01012">mgc_set_mgs_param()</a>, <a class="el" href="mgc__request_8c_source.html#l01119">mgc_target_register()</a>, <a class="el" href="osc__request_8c_source.html#l00366">osc_create()</a>, <a class="el" href="osc__request_8c_source.html#l00126">osc_getattr()</a>, <a class="el" href="osc__object_8c_source.html#l00225">osc_object_fiemap()</a>, <a class="el" href="osc__quota_8c_source.html#l00248">osc_quotactl()</a>, <a class="el" href="osc__request_8c_source.html#l00169">osc_setattr()</a>, <a class="el" href="osc__request_8c_source.html#l02321">osc_statfs()</a>, <a class="el" href="osp__precreate_8c_source.html#l00680">osp_get_lastfid_from_ost()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__md__object_8c_source.html#l01126">osp_md_read()</a>, <a class="el" href="osp__dev_8c_source.html#l01503">osp_obd_statfs()</a>, <a class="el" href="osp__precreate_8c_source.html#l01454">osp_object_truncate()</a>, <a class="el" href="osp__precreate_8c_source.html#l00768">osp_precreate_cleanup_orphans()</a>, <a class="el" href="osp__precreate_8c_source.html#l00543">osp_precreate_send()</a>, <a class="el" href="osp__trans_8c_source.html#l00442">osp_remote_sync()</a>, <a class="el" href="osp__trans_8c_source.html#l01104">osp_send_update_req()</a>, <a class="el" href="import_8c_source.html#l01550">ptlrpc_disconnect_import()</a>, <a class="el" href="pinger_8c_source.html#l00078">ptlrpc_obd_ping()</a>, <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>, <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>, <a class="el" href="qsd__request_8c_source.html#l00091">qsd_send_dqacq()</a>, and <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8143184eaf22d5624ea42473dd4e8acc"></a><!-- doxytag: member="lustre_net.h::ptlrpc_reconnect_import" ref="ga8143184eaf22d5624ea42473dd4e8acc" args="(struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_reconnect_import </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="import_8c_source.html#l00450">450</a> of file <a class="el" href="import_8c_source.html">import.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="lustre__import_8h_source.html#l00226">obd_import::imp_inval_count</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="lustre__import_8h_source.html#l00217">obd_import::imp_recovery_waitq</a>, <a class="el" href="lustre__import_8h_source.html#l00230">obd_import::imp_state</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="lustre__lib_8h_source.html#l00209">LWI_INTR</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="lustre__lib_8h_source.html#l00171">LWI_TIMEOUT</a>, <a class="el" href="obd_8h_source.html#l00332">obd2cli_tgt</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_no_recov</a>, <a class="el" href="class__obd_8c_source.html#l00083">obd_timeout</a>, <a class="el" href="import_8c_source.html#l00399">ptlrpc_activate_import()</a>, <a class="el" href="import_8c_source.html#l01550">ptlrpc_disconnect_import()</a>, <a class="el" href="recover_8c_source.html#l00393">ptlrpc_import_in_recovery()</a>, <a class="el" href="lustre__import_8h_source.html#l00111">ptlrpc_import_state_name()</a>, <a class="el" href="import_8c_source.html#l00286">ptlrpc_invalidate_import()</a>, <a class="el" href="import_8c_source.html#l00415">ptlrpc_pinger_force()</a>, <a class="el" href="recover_8c_source.html#l00333">ptlrpc_recover_import()</a>, and <a class="el" href="import_8c_source.html#l00163">ptlrpc_set_import_discon()</a>.</p>

<p>Referenced by <a class="el" href="mgc__request_8c_source.html#l01158">mgc_set_info_async()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa1cf14602e33836d92101141c3a0d67d"></a><!-- doxytag: member="lustre_net.h::ptlrpc_register_bulk" ref="gaa1cf14602e33836d92101141c3a0d67d" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_register_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Actual interfacing with LNet to put/get/register/unregister stuff. </p>
<p>Actual interfacing with LNet to put/get/register/unregister stuff.</p>
<p>Returns 0 on success or error code. </p>

<p>Definition at line <a class="el" href="niobuf_8c_source.html#l00301">301</a> of file <a class="el" href="niobuf_8c_source.html">niobuf.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lustre__net_8h_source.html#l01460">ptlrpc_bulk_desc::bd_cbid</a>, <a class="el" href="lustre__net_8h_source.html#l01434">ptlrpc_bulk_desc::bd_failure</a>, <a class="el" href="lustre__net_8h_source.html#l01448">ptlrpc_bulk_desc::bd_import</a>, <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="lustre__net_8h_source.html#l01458">ptlrpc_bulk_desc::bd_last_mbits</a>, <a class="el" href="lustre__net_8h_source.html#l01438">ptlrpc_bulk_desc::bd_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01462">ptlrpc_bulk_desc::bd_md_count</a>, <a class="el" href="lustre__net_8h_source.html#l01463">ptlrpc_bulk_desc::bd_md_max_brw</a>, <a class="el" href="lustre__net_8h_source.html#l01465">ptlrpc_bulk_desc::bd_mds</a>, <a class="el" href="lustre__net_8h_source.html#l01455">ptlrpc_bulk_desc::bd_nob</a>, <a class="el" href="lustre__net_8h_source.html#l01456">ptlrpc_bulk_desc::bd_nob_transferred</a>, <a class="el" href="lustre__net_8h_source.html#l01444">ptlrpc_bulk_desc::bd_portal</a>, <a class="el" href="lustre__net_8h_source.html#l01436">ptlrpc_bulk_desc::bd_registered</a>, <a class="el" href="lustre__net_8h_source.html#l01450">ptlrpc_bulk_desc::bd_req</a>, <a class="el" href="lustre__net_8h_source.html#l01442">ptlrpc_bulk_desc::bd_type</a>, <a class="el" href="lustre__net_8h_source.html#l00521">ptlrpc_connection::c_peer</a>, <a class="el" href="lustre__net_8h_source.html#l00635">ptlrpc_cb_id::cbid_arg</a>, <a class="el" href="structptlrpc__cb__id.html#a58f3b9cf321abbbda3162af4e35c310e">ptlrpc_cb_id::cbid_fn</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="events_8c_source.html#l00181">client_bulk_callback()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00440">lnet_md_t::eq_handle</a>, <a class="el" href="lustre__import_8h_source.html#l00170">obd_import::imp_connection</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01236">libcfs_id2str()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00333">LNET_INS_AFTER</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00450">LNET_MAX_IOV</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00457">LNET_MD_OP_GET</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00455">LNET_MD_OP_PUT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00319">LNET_UNLINK</a>, <a class="el" href="lib-md_8c_source.html#l00263">LNetMDAttach()</a>, <a class="el" href="lib-me_8c_source.html#l00076">LNetMEAttach()</a>, <a class="el" href="lib-me_8c_source.html#l00227">LNetMEUnlink()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lustre__import_8h_source.html#l00102">LUSTRE_IMP_REPLAY</a>, <a class="el" href="niobuf_8c_source.html#l00101">mdunlink_iterate_helper()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00397">OBD_FAIL_PTLRPC_BULK_GET_NET</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00426">lnet_md_t::options</a>, <a class="el" href="lustre__net_8h_source.html#l00086">PTLRPC_BULK_OPS_COUNT</a>, <a class="el" href="lustre__net_8h_source.html#l00094">PTLRPC_BULK_OPS_MASK</a>, <a class="el" href="events_8c_source.html#l00046">ptlrpc_eq_h</a>, <a class="el" href="pers_8c_source.html#l00048">ptlrpc_fill_bulk_md()</a>, <a class="el" href="lustre__net_8h_source.html#l01344">ptlrpc_is_bulk_op_get()</a>, <a class="el" href="lustre__net_8h_source.html#l01388">ptlrpc_is_bulk_op_passive()</a>, <a class="el" href="lustre__net_8h_source.html#l00105">PTLRPC_MAX_BRW_PAGES</a>, <a class="el" href="lustre__net_8h_source.html#l00073">PTLRPC_MD_OPTIONS</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01038">ptlrpc_request::rq_mbits</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_resend</a>, <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00381">lnet_md_t::threshold</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00433">lnet_md_t::user_ptr</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf7557fc8aa34bbf889ee11612ece2315"></a><!-- doxytag: member="lustre_net.h::ptlrpc_register_rqbd" ref="gaf7557fc8aa34bbf889ee11612ece2315" args="(struct ptlrpc_request_buffer_desc *rqbd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_register_rqbd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__buffer__desc.html">ptlrpc_request_buffer_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>rqbd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register request buffer descriptor for request receiving. </p>

<p>Definition at line <a class="el" href="niobuf_8c_source.html#l00900">900</a> of file <a class="el" href="niobuf_8c_source.html">niobuf.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00440">lnet_md_t::eq_handle</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00370">lnet_md_t::length</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00333">LNET_INS_AFTER</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00335">LNET_INS_LOCAL</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00468">LNET_MD_MAX_SIZE</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00455">LNET_MD_OP_PUT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00476">LNET_MD_THRESH_INF</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00074">LNET_PID_ANY</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00319">LNET_UNLINK</a>, <a class="el" href="lib-md_8c_source.html#l00263">LNetMDAttach()</a>, <a class="el" href="lib-me_8c_source.html#l00076">LNetMEAttach()</a>, <a class="el" href="lib-me_8c_source.html#l00227">LNetMEUnlink()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00389">lnet_md_t::max_size</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00396">OBD_FAIL_PTLRPC_RQBD</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00426">lnet_md_t::options</a>, <a class="el" href="events_8c_source.html#l00046">ptlrpc_eq_h</a>, <a class="el" href="lustre__net_8h_source.html#l00073">PTLRPC_MD_OPTIONS</a>, <a class="el" href="lustre__net_8h_source.html#l01615">ptlrpc_request_buffer_desc::rqbd_buffer</a>, <a class="el" href="lustre__net_8h_source.html#l01616">ptlrpc_request_buffer_desc::rqbd_cbid</a>, <a class="el" href="lustre__net_8h_source.html#l01612">ptlrpc_request_buffer_desc::rqbd_md_h</a>, <a class="el" href="lustre__net_8h_source.html#l01613">ptlrpc_request_buffer_desc::rqbd_refcount</a>, <a class="el" href="lustre__net_8h_source.html#l01610">ptlrpc_request_buffer_desc::rqbd_svcpt</a>, <a class="el" href="lustre__net_8h_source.html#l01753">ptlrpc_service_part::scp_cpt</a>, <a class="el" href="o2iblnd__modparams_8c_source.html#l00043">service</a>, <a class="el" href="lustre__net_8h_source.html#l01698">ptlrpc_service::srv_buf_size</a>, <a class="el" href="lustre__net_8h_source.html#l01694">ptlrpc_service::srv_max_req_size</a>, <a class="el" href="lustre__net_8h_source.html#l01702">ptlrpc_service::srv_req_portal</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00369">lnet_md_t::start</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00381">lnet_md_t::threshold</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00433">lnet_md_t::user_ptr</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l00436">ptlrpc_server_post_idle_rqbds()</a>.</p>

</div>
</div>
<a class="anchor" id="ga13835bf69545de9744051ff7ef02a4c3"></a><!-- doxytag: member="lustre_net.h::ptlrpc_register_service" ref="ga13835bf69545de9744051ff7ef02a4c3" args="(struct ptlrpc_service_conf *conf, struct proc_dir_entry *proc_entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a>* ptlrpc_register_service </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__service__conf.html">ptlrpc_service_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct proc_dir_entry *&nbsp;</td>
          <td class="paramname"> <em>proc_entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize service on a given portal. </p>
<p>This includes starting serving threads , allocating and posting rqbds and so on. </p>

<p>Definition at line <a class="el" href="service_8c_source.html#l00690">690</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l02189">ptlrpc_service_buf_conf::bc_buf_size</a>, <a class="el" href="lustre__net_8h_source.html#l02187">ptlrpc_service_buf_conf::bc_nbufs</a>, <a class="el" href="lustre__net_8h_source.html#l02197">ptlrpc_service_buf_conf::bc_rep_max_size</a>, <a class="el" href="lustre__net_8h_source.html#l02193">ptlrpc_service_buf_conf::bc_rep_portal</a>, <a class="el" href="lustre__net_8h_source.html#l02195">ptlrpc_service_buf_conf::bc_req_max_size</a>, <a class="el" href="lustre__net_8h_source.html#l02191">ptlrpc_service_buf_conf::bc_req_portal</a>, <a class="el" href="lustre__net_8h_source.html#l02226">ptlrpc_service_cpt_conf::cc_cptable</a>, <a class="el" href="lustre__net_8h_source.html#l02228">ptlrpc_service_cpt_conf::cc_pattern</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__cpu_8h_source.html#l00095">CFS_CPT_ANY</a>, <a class="el" href="libcfs__cpu_8c_source.html#l00093">cfs_cpt_number()</a>, <a class="el" href="libcfs__string_8c_source.html#l00493">cfs_expr_list_free()</a>, <a class="el" href="libcfs__string_8c_source.html#l00515">cfs_expr_list_parse()</a>, <a class="el" href="libcfs__string_8c_source.html#l00447">cfs_expr_list_values()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="lib-ptl_8c_source.html#l00896">LNetSetLazyPortal()</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00716">OBD_CPT_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="lustre__net_8h_source.html#l02237">ptlrpc_service_conf::psc_buf</a>, <a class="el" href="lustre__net_8h_source.html#l02241">ptlrpc_service_conf::psc_cpt</a>, <a class="el" href="lustre__net_8h_source.html#l02233">ptlrpc_service_conf::psc_name</a>, <a class="el" href="lustre__net_8h_source.html#l02243">ptlrpc_service_conf::psc_ops</a>, <a class="el" href="lustre__net_8h_source.html#l02239">ptlrpc_service_conf::psc_thr</a>, <a class="el" href="lustre__net_8h_source.html#l02235">ptlrpc_service_conf::psc_watchdog_factor</a>, <a class="el" href="service_8c_source.html#l00068">ptlrpc_all_services</a>, <a class="el" href="service_8c_source.html#l00070">ptlrpc_all_services_mutex</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00119">ptlrpc_lprocfs_register_service</a>, <a class="el" href="service_8c_source.html#l00494">ptlrpc_server_nthreads_check()</a>, <a class="el" href="nrs_8c_source.html#l01390">ptlrpc_service_nrs_setup()</a>, <a class="el" href="service_8c_source.html#l00599">ptlrpc_service_part_init()</a>, <a class="el" href="service_8c_source.html#l02751">ptlrpc_start_threads()</a>, <a class="el" href="lustre__net_8h_source.html#l01661">PTLRPC_SVC_HP_RATIO</a>, <a class="el" href="service_8c_source.html#l03160">ptlrpc_unregister_service()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="o2iblnd__modparams_8c_source.html#l00043">service</a>, <a class="el" href="lustre__sec_8h_source.html#l00388">SPTLRPC_MAX_PAYLOAD</a>, <a class="el" href="lustre__net_8h_source.html#l01698">ptlrpc_service::srv_buf_size</a>, <a class="el" href="lustre__net_8h_source.html#l01722">ptlrpc_service::srv_cpt_bits</a>, <a class="el" href="lustre__net_8h_source.html#l01724">ptlrpc_service::srv_cptable</a>, <a class="el" href="lustre__net_8h_source.html#l01720">ptlrpc_service::srv_cpts</a>, <a class="el" href="lustre__net_8h_source.html#l01709">ptlrpc_service::srv_ctx_tags</a>, <a class="el" href="lustre__net_8h_source.html#l01692">ptlrpc_service::srv_hpreq_ratio</a>, <a class="el" href="lustre__net_8h_source.html#l01674">ptlrpc_service::srv_list</a>, <a class="el" href="lustre__net_8h_source.html#l01671">ptlrpc_service::srv_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01696">ptlrpc_service::srv_max_reply_size</a>, <a class="el" href="lustre__net_8h_source.html#l01694">ptlrpc_service::srv_max_req_size</a>, <a class="el" href="lustre__net_8h_source.html#l01678">ptlrpc_service::srv_name</a>, <a class="el" href="lustre__net_8h_source.html#l01700">ptlrpc_service::srv_nbuf_per_group</a>, <a class="el" href="lustre__net_8h_source.html#l01718">ptlrpc_service::srv_ncpts</a>, <a class="el" href="lustre__net_8h_source.html#l01676">ptlrpc_service::srv_ops</a>, <a class="el" href="lustre__net_8h_source.html#l01728">ptlrpc_service::srv_parts</a>, <a class="el" href="lustre__net_8h_source.html#l01704">ptlrpc_service::srv_rep_portal</a>, <a class="el" href="lustre__net_8h_source.html#l01702">ptlrpc_service::srv_req_portal</a>, <a class="el" href="lustre__net_8h_source.html#l01680">ptlrpc_service::srv_thread_name</a>, <a class="el" href="lustre__net_8h_source.html#l01711">ptlrpc_service::srv_watchdog_factor</a>, <a class="el" href="lustre__net_8h_source.html#l02220">ptlrpc_service_thr_conf::tc_cpu_affinity</a>, <a class="el" href="lustre__net_8h_source.html#l02222">ptlrpc_service_thr_conf::tc_ctx_tags</a>, <a class="el" href="lustre__net_8h_source.html#l02202">ptlrpc_service_thr_conf::tc_thr_name</a>, and <a class="el" href="service_8c_source.html#l00047">test_req_buffer_pressure</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l02924">ldlm_setup()</a>, <a class="el" href="mdt__mds_8c_source.html#l00141">mds_start_ptlrpc_service()</a>, <a class="el" href="mgs__handler_8c_source.html#l01094">mgs_init0()</a>, and <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gab19a6a79b4d2b930671c35573be3d37a"></a><!-- doxytag: member="lustre_net.h::ptlrpc_release_bulk_noop" ref="gab19a6a79b4d2b930671c35573be3d37a" args="(struct ptlrpc_bulk_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_release_bulk_noop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02168">2168</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5e4203913d1d352c1a08cce1a3d6ab22"></a><!-- doxytag: member="lustre_net.h::ptlrpc_release_bulk_page_pin" ref="ga5e4203913d1d352c1a08cce1a3d6ab22" args="(struct ptlrpc_bulk_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_release_bulk_page_pin </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02160">2160</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01485">BD_GET_KIOV</a>, and <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b3a5500b0280eeb94b4ff22212350b6"></a><!-- doxytag: member="lustre_net.h::ptlrpc_rep_need_swab" ref="ga0b3a5500b0280eeb94b4ff22212350b6" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_rep_need_swab </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns 1 if request reply needs to be swabbed into local cpu byteorder. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01198">1198</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01181">lustre_rep_swabbed()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01144">MSG_PTLRPC_HEADER_OFF</a>.</p>

<p>Referenced by <a class="el" href="sec__gss_8c_source.html#l00980">gss_cli_ctx_unseal()</a>, <a class="el" href="sec__gss_8c_source.html#l00757">gss_cli_ctx_verify()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00233">gss_do_ctx_init_rpc()</a>, <a class="el" href="mdc__request_8c_source.html#l02196">mdc_get_info_rpc()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__md__object_8c_source.html#l00480">osp_md_index_lookup()</a>, <a class="el" href="sec__plain_8c_source.html#l00220">plain_ctx_verify()</a>, <a class="el" href="pack__generic_8c_source.html#l00086">ptlrpc_buf_need_swab()</a>, and <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>.</p>

</div>
</div>
<a class="anchor" id="gafd4a53f20e90893d5ae03f1996ecb2fc"></a><!-- doxytag: member="lustre_net.h::ptlrpc_replay_req" ref="gafd4a53f20e90893d5ae03f1996ecb2fc" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_replay_req </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prepares and queues request for replay. </p>
<p>Adds it to <a class="el" href="structptlrpcd.html">ptlrpcd</a> queue for actual sending. Returns 0 on success. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l03006">3006</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00224">obd_import::imp_replay_inflight</a>, <a class="el" href="lustre__import_8h_source.html#l00230">obd_import::imp_state</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__import_8h_source.html#l00102">LUSTRE_IMP_REPLAY</a>, <a class="el" href="pack__generic_8c_source.html#l01098">lustre_msg_get_status()</a>, <a class="el" href="pack__generic_8c_source.html#l01482">lustre_msg_set_service_time()</a>, <a class="el" href="lustre__net_8h_source.html#l00508">ptlrpc_replay_async_args::praa_old_state</a>, <a class="el" href="lustre__net_8h_source.html#l00509">ptlrpc_replay_async_args::praa_old_status</a>, <a class="el" href="client_8c_source.html#l00351">ptlrpc_at_get_net_latency()</a>, <a class="el" href="client_8c_source.html#l00293">ptlrpc_at_set_req_timeout()</a>, <a class="el" href="client_8c_source.html#l02862">ptlrpc_replay_interpret()</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l02757">ptlrpc_request_addref()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01011">ptlrpc_request::rq_next_phase</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00717">RQ_PHASE_NEW</a>, <a class="el" href="lustre__net_8h_source.html#l00723">RQ_PHASE_UNDEFINED</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, and <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>.</p>

<p>Referenced by <a class="el" href="recover_8c_source.html#l00072">ptlrpc_replay_next()</a>.</p>

</div>
</div>
<a class="anchor" id="gad40cbc28d0a901fa44135d66e595602d"></a><!-- doxytag: member="lustre_net.h::ptlrpc_reply" ref="gad40cbc28d0a901fa44135d66e595602d" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="niobuf_8c_source.html#l00614">614</a> of file <a class="el" href="niobuf_8c_source.html">niobuf.c</a>.</p>

<p>References <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, and <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_no_reply</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l01966">ldlm_callback_reply()</a>, and <a class="el" href="ldlm__lockd_8c_source.html#l01928">ldlm_handle_gl_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5ac91405a334f1027a50a6c5229a7637"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req2svc" ref="ga5ac91405a334f1027a50a6c5229a7637" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a>* ptlrpc_req2svc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02583">2583</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="mdt__reint_8c_source.html#l02235">mdt_reint_rec()</a>, <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, <a class="el" href="tgt__handler_8c_source.html#l01837">tgt_brw_read()</a>, and <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaaac1ad8119782fe41d9f0a5cccec394"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req_drop_rs" ref="gaaaac1ad8119782fe41d9f0a5cccec394" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_req_drop_rs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02526">2526</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l02518">ptlrpc_rs_decref()</a>, and <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>, <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, <a class="el" href="service_8c_source.html#l00836">ptlrpc_server_free_request()</a>, <a class="el" href="tgt__handler_8c_source.html#l01837">tgt_brw_read()</a>, and <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf16bb640b9f0c667d79b7254ac965288"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req_finished" ref="gaf16bb640b9f0c667d79b7254ac965288" args="(struct ptlrpc_request *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_req_finished </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drops one reference count for a request. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l02490">2490</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l02463">__ptlrpc_req_finished()</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03324">__ll_inode_revalidate()</a>, <a class="el" href="llite__lib_8c_source.html#l00164">client_common_fill_super()</a>, <a class="el" href="pack__generic_8c_source.html#l01574">do_set_info_async()</a>, <a class="el" href="fld__request_8c_source.html#l00358">fld_client_rpc()</a>, <a class="el" href="fld__handler_8c_source.html#l00128">fld_update_from_controller()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00376">gss_do_ctx_fini_rpc()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00233">gss_do_ctx_init_rpc()</a>, <a class="el" href="ldlm__request_8c_source.html#l01185">ldlm_cli_cancel_req()</a>, <a class="el" href="ldlm__request_8c_source.html#l01029">ldlm_cli_convert()</a>, <a class="el" href="ldlm__request_8c_source.html#l00869">ldlm_cli_enqueue()</a>, <a class="el" href="lfsck__layout_8c_source.html#l01900">lfsck_layout_master_conditional_destroy()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03789">lfsck_layout_slave_check_pairs()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01197">lfsck_namespace_notify_lmv_remote()</a>, <a class="el" href="file_8c_source.html#l00130">ll_close_inode_openhandle()</a>, <a class="el" href="namei_8c_source.html#l00854">ll_create_node()</a>, <a class="el" href="llite__nfs_8c_source.html#l00287">ll_dir_get_parent_fid()</a>, <a class="el" href="dir_8c_source.html#l01097">ll_dir_ioctl()</a>, <a class="el" href="dir_8c_source.html#l00449">ll_dir_setdirstripe()</a>, <a class="el" href="dir_8c_source.html#l00514">ll_dir_setstripe()</a>, <a class="el" href="file_8c_source.html#l00491">ll_file_open()</a>, <a class="el" href="symlink_8c_source.html#l00159">ll_follow_link()</a>, <a class="el" href="file_8c_source.html#l02846">ll_fsync()</a>, <a class="el" href="file_8c_source.html#l03049">ll_get_fid_by_name()</a>, <a class="el" href="xattr_8c_source.html#l00357">ll_getxattr_common()</a>, <a class="el" href="xattr_8c_source.html#l00521">ll_getxattr_lov()</a>, <a class="el" href="file_8c_source.html#l00369">ll_intent_file_open()</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="llite__lib_8c_source.html#l02064">ll_iocontrol()</a>, <a class="el" href="file_8c_source.html#l03925">ll_layout_fetch()</a>, <a class="el" href="file_8c_source.html#l04076">ll_layout_refresh_locked()</a>, <a class="el" href="file_8c_source.html#l00700">ll_lease_open()</a>, <a class="el" href="namei_8c_source.html#l01152">ll_link()</a>, <a class="el" href="namei_8c_source.html#l00551">ll_lookup_it()</a>, <a class="el" href="llite__lib_8c_source.html#l01501">ll_md_setattr()</a>, <a class="el" href="file_8c_source.html#l03083">ll_migrate()</a>, <a class="el" href="namei_8c_source.html#l00946">ll_new_node()</a>, <a class="el" href="llite__lib_8c_source.html#l02256">ll_open_cleanup()</a>, <a class="el" href="symlink_8c_source.html#l00187">ll_put_link()</a>, <a class="el" href="file_8c_source.html#l01719">ll_release_openhandle()</a>, <a class="el" href="namei_8c_source.html#l01312">ll_rename()</a>, <a class="el" href="namei_8c_source.html#l01206">ll_rmdir()</a>, <a class="el" href="namei_8c_source.html#l01243">ll_rmdir_entry()</a>, <a class="el" href="xattr_8c_source.html#l00115">ll_setxattr_common()</a>, <a class="el" href="namei_8c_source.html#l01273">ll_unlink()</a>, <a class="el" href="xattr__cache_8c_source.html#l00385">ll_xattr_cache_refill()</a>, <a class="el" href="llog__client_8c_source.html#l00143">llog_client_destroy()</a>, <a class="el" href="llog__client_8c_source.html#l00178">llog_client_next_block()</a>, <a class="el" href="llog__client_8c_source.html#l00079">llog_client_open()</a>, <a class="el" href="llog__client_8c_source.html#l00233">llog_client_prev_block()</a>, <a class="el" href="llog__client_8c_source.html#l00282">llog_client_read_header()</a>, <a class="el" href="lmv__obd_8c_source.html#l01837">lmv_getattr_name()</a>, <a class="el" href="lmv__intent_8c_source.html#l00354">lmv_intent_lookup()</a>, <a class="el" href="lmv__intent_8c_source.html#l00058">lmv_intent_remote()</a>, <a class="el" href="lmv__obd_8c_source.html#l01989">lmv_rename()</a>, <a class="el" href="lmv__intent_8c_source.html#l00155">lmv_revalidate_slaves()</a>, <a class="el" href="lmv__obd_8c_source.html#l02551">lmv_unlink()</a>, <a class="el" href="remote__perm_8c_source.html#l00256">lustre_check_remote_perm()</a>, <a class="el" href="mdc__reint_8c_source.html#l00155">mdc_create()</a>, <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>, <a class="el" href="mdc__request_8c_source.html#l02480">mdc_fsync()</a>, <a class="el" href="mdc__request_8c_source.html#l02196">mdc_get_info_rpc()</a>, <a class="el" href="mdc__request_8c_source.html#l02736">mdc_get_remote_perm()</a>, <a class="el" href="mdc__request_8c_source.html#l00101">mdc_get_root()</a>, <a class="el" href="mdc__request_8c_source.html#l00207">mdc_getattr()</a>, <a class="el" href="mdc__request_8c_source.html#l00250">mdc_getattr_name()</a>, <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mdc__locks_8c_source.html#l01181">mdc_intent_getattr_async()</a>, <a class="el" href="mdc__request_8c_source.html#l01563">mdc_ioc_hsm_ct_register()</a>, <a class="el" href="mdc__request_8c_source.html#l01637">mdc_ioc_hsm_ct_unregister()</a>, <a class="el" href="mdc__request_8c_source.html#l01595">mdc_ioc_hsm_current_action()</a>, <a class="el" href="mdc__request_8c_source.html#l01527">mdc_ioc_hsm_progress()</a>, <a class="el" href="mdc__request_8c_source.html#l01742">mdc_ioc_hsm_request()</a>, <a class="el" href="mdc__request_8c_source.html#l01660">mdc_ioc_hsm_state_get()</a>, <a class="el" href="mdc__request_8c_source.html#l01701">mdc_ioc_hsm_state_set()</a>, <a class="el" href="mdc__request_8c_source.html#l02008">mdc_ioc_swap_layouts()</a>, <a class="el" href="mdc__request_8c_source.html#l01971">mdc_quotactl()</a>, <a class="el" href="mdc__request_8c_source.html#l01286">mdc_read_page()</a>, <a class="el" href="mdc__request_8c_source.html#l01174">mdc_read_page_remote()</a>, <a class="el" href="mdc__request_8c_source.html#l01421">mdc_statfs()</a>, <a class="el" href="mdc__request_8c_source.html#l00294">mdc_xattr_common()</a>, <a class="el" href="mgc__request_8c_source.html#l01049">mgc_enqueue()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="mgc__request_8c_source.html#l01012">mgc_set_mgs_param()</a>, <a class="el" href="mgc__request_8c_source.html#l01119">mgc_target_register()</a>, <a class="el" href="osc__cache_8c_source.html#l01845">osc_ap_completion()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osc__request_8c_source.html#l01518">osc_brw_redo_request()</a>, <a class="el" href="osc__request_8c_source.html#l00366">osc_create()</a>, <a class="el" href="osc__request_8c_source.html#l02052">osc_enqueue_base()</a>, <a class="el" href="osc__request_8c_source.html#l00126">osc_getattr()</a>, <a class="el" href="osc__object_8c_source.html#l00225">osc_object_fiemap()</a>, <a class="el" href="osc__quota_8c_source.html#l00248">osc_quotactl()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l00169">osc_setattr()</a>, <a class="el" href="osc__request_8c_source.html#l02321">osc_statfs()</a>, <a class="el" href="osp__object_8c_source.html#l00542">osp_attr_get()</a>, <a class="el" href="osp__precreate_8c_source.html#l00680">osp_get_lastfid_from_ost()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__md__object_8c_source.html#l00480">osp_md_index_lookup()</a>, <a class="el" href="osp__md__object_8c_source.html#l00880">osp_md_object_lock()</a>, <a class="el" href="osp__md__object_8c_source.html#l01126">osp_md_read()</a>, <a class="el" href="osp__dev_8c_source.html#l01503">osp_obd_statfs()</a>, <a class="el" href="osp__precreate_8c_source.html#l01454">osp_object_truncate()</a>, <a class="el" href="osp__precreate_8c_source.html#l00768">osp_precreate_cleanup_orphans()</a>, <a class="el" href="osp__precreate_8c_source.html#l00543">osp_precreate_send()</a>, <a class="el" href="osp__trans_8c_source.html#l00314">osp_prep_update_req()</a>, <a class="el" href="osp__trans_8c_source.html#l00442">osp_remote_sync()</a>, <a class="el" href="osp__trans_8c_source.html#l01104">osp_send_update_req()</a>, <a class="el" href="osp__sync_8c_source.html#l00637">osp_sync_new_job()</a>, <a class="el" href="osp__sync_8c_source.html#l00966">osp_sync_process_committed()</a>, <a class="el" href="osp__object_8c_source.html#l00916">osp_xattr_get()</a>, <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="import_8c_source.html#l01550">ptlrpc_disconnect_import()</a>, <a class="el" href="pinger_8c_source.html#l00078">ptlrpc_obd_ping()</a>, <a class="el" href="client_8c_source.html#l00973">ptlrpc_set_destroy()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00316">ptlrpcd_check()</a>, <a class="el" href="client_8c_source.html#l03353">ptlrpcd_destroy_work()</a>, <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>, <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>, <a class="el" href="qsd__request_8c_source.html#l00091">qsd_send_dqacq()</a>, <a class="el" href="events_8c_source.html#l00051">request_out_callback()</a>, <a class="el" href="statahead_8c_source.html#l00342">sa_make_ready()</a>, <a class="el" href="llite__nfs_8c_source.html#l00060">search_inode_for_lustre()</a>, and <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gac030d75f1b39211b69e4974fc328669d"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req_finished_with_imp_lock" ref="gac030d75f1b39211b69e4974fc328669d" args="(struct ptlrpc_request *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_req_finished_with_imp_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drop one request reference. </p>
<p>Must be called with import imp_lock held. When reference count drops to zero, request is freed. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l02451">2451</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l02463">__ptlrpc_req_finished()</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, and <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>.</p>

</div>
</div>
<a class="anchor" id="gae2f154336695905f3de7e74930d6fbb5"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req_get_repsize" ref="gae2f154336695905f3de7e74930d6fbb5" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_req_get_repsize </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02540">2540</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

</div>
</div>
<a class="anchor" id="ga64e833ef4ab5caaba3b4f829efa84635"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req_interpret" ref="ga64e833ef4ab5caaba3b4f829efa84635" args="(const struct lu_env *env, struct ptlrpc_request *req, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_req_interpret </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Call completion handler for rpc if any, return it's status or original rc if there was no handler defined for this request. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01128">1128</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, and <a class="el" href="client_8c_source.html#l00973">ptlrpc_set_destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="ga63e57d4ee82cc1841fd1206a8aa2c911"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req_need_swab" ref="ga63e57d4ee82cc1841fd1206a8aa2c911" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_req_need_swab </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns 1 if request needs to be swabbed into local cpu byteorder. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01190">1190</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01172">lustre_req_swabbed()</a>, and <a class="el" href="lustre__idl_8h_source.html#l01144">MSG_PTLRPC_HEADER_OFF</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l02392">_debug_req()</a>, <a class="el" href="sec__gss_8c_source.html#l02366">gss_svc_accept()</a>, <a class="el" href="sec__gss_8c_source.html#l02318">gss_svc_handle_destroy()</a>, <a class="el" href="sec__gss_8c_source.html#l01996">gss_svc_handle_init()</a>, <a class="el" href="sec__gss_8c_source.html#l02114">gss_svc_verify_request()</a>, <a class="el" href="mdt__handler_8c_source.html#l05696">mdt_rpc_fid2path()</a>, <a class="el" href="mdt__handler_8c_source.html#l01675">mdt_set_info()</a>, <a class="el" href="osp__object_8c_source.html#l00400">osp_get_attr_from_reply()</a>, <a class="el" href="out__handler_8c_source.html#l00151">out_attr_set()</a>, <a class="el" href="out__handler_8c_source.html#l00096">out_create()</a>, <a class="el" href="out__handler_8c_source.html#l00894">out_handle()</a>, <a class="el" href="out__handler_8c_source.html#l00451">out_index_insert()</a>, <a class="el" href="out__handler_8c_source.html#l00560">out_write()</a>, <a class="el" href="out__handler_8c_source.html#l00344">out_xattr_set()</a>, <a class="el" href="sec__plain_8c_source.html#l00731">plain_accept()</a>, and <a class="el" href="pack__generic_8c_source.html#l00086">ptlrpc_buf_need_swab()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9ce11af085c01fdcf0a2f251b955eb47"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req_set_repsize" ref="ga9ce11af085c01fdcf0a2f251b955eb47" args="(struct ptlrpc_request *req, int count, __u32 *sizes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_req_set_repsize </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&nbsp;</td>
          <td class="paramname"> <em>sizes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01562">1562</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00158">lustre_msg_size()</a>, <a class="el" href="lustre__net_8h_source.html#l01026">ptlrpc_request::rq_replen</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

</div>
</div>
<a class="anchor" id="ga283d8a396288df3e34efd571d9d30018"></a><!-- doxytag: member="lustre_net.h::ptlrpc_req_xid" ref="ga283d8a396288df3e34efd571d9d30018" args="(struct ptlrpc_request *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ptlrpc_req_xid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns xid of a <em>request</em>. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l02499">2499</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01036">ptlrpc_request::rq_xid</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01845">osc_ap_completion()</a>.</p>

</div>
</div>
<a class="anchor" id="ga60499b3efd5caf2e7bc59c308332aff3"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_addref" ref="ga60499b3efd5caf2e7bc59c308332aff3" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* ptlrpc_request_addref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Grab additional reference on a request <em>req</em>. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l02757">2757</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="lustre__net_8h_source.html#l01016">ptlrpc_request::rq_refcount</a>.</p>

<p>Referenced by <a class="el" href="statahead_8c_source.html#l00653">ll_statahead_interpret()</a>, <a class="el" href="mdc__request_8c_source.html#l00624">mdc_commit_open()</a>, <a class="el" href="mdc__locks_8c_source.html#l00890">mdc_finish_intent_lock()</a>, <a class="el" href="osc__request_8c_source.html#l01518">osc_brw_redo_request()</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="osp__sync_8c_source.html#l00515">osp_sync_interpret()</a>, <a class="el" href="osp__sync_8c_source.html#l00470">osp_sync_request_commit_cb()</a>, <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l03006">ptlrpc_replay_req()</a>, and <a class="el" href="client_8c_source.html#l02769">ptlrpc_retain_replayable_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2bf080a905f488f676248838514e264a"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_alloc" ref="ga2bf080a905f488f676248838514e264a" args="(struct obd_import *imp, const struct req_format *format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* ptlrpc_request_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structreq__format.html">req_format</a> *&nbsp;</td>
          <td class="paramname"> <em>format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate new request structure for import <em>imp</em> and initialize its buffer structure according to capsule template <em>format</em>. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00852">852</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l00833">ptlrpc_request_alloc_internal()</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l01574">do_set_info_async()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00376">gss_do_ctx_fini_rpc()</a>, <a class="el" href="ldlm__request_8c_source.html#l01185">ldlm_cli_cancel_req()</a>, <a class="el" href="ldlm__request_8c_source.html#l00837">ldlm_enqueue_pack()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03525">lfsck_layout_async_notify()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03487">lfsck_layout_async_query()</a>, <a class="el" href="lfsck__layout_8c_source.html#l01900">lfsck_layout_master_conditional_destroy()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03789">lfsck_layout_slave_check_pairs()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01197">lfsck_namespace_notify_lmv_remote()</a>, <a class="el" href="llog__client_8c_source.html#l00079">llog_client_open()</a>, <a class="el" href="mdc__request_8c_source.html#l00757">mdc_close()</a>, <a class="el" href="mdc__reint_8c_source.html#l00155">mdc_create()</a>, <a class="el" href="mdc__locks_8c_source.html#l00502">mdc_enqueue_pack()</a>, <a class="el" href="mdc__request_8c_source.html#l02480">mdc_fsync()</a>, <a class="el" href="mdc__request_8c_source.html#l02196">mdc_get_info_rpc()</a>, <a class="el" href="mdc__request_8c_source.html#l02736">mdc_get_remote_perm()</a>, <a class="el" href="mdc__request_8c_source.html#l00101">mdc_get_root()</a>, <a class="el" href="mdc__request_8c_source.html#l00207">mdc_getattr()</a>, <a class="el" href="mdc__request_8c_source.html#l00250">mdc_getattr_name()</a>, <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mdc__locks_8c_source.html#l00412">mdc_intent_getattr_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00328">mdc_intent_getxattr_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00462">mdc_intent_layout_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00238">mdc_intent_open_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00375">mdc_intent_unlink_pack()</a>, <a class="el" href="mdc__request_8c_source.html#l01595">mdc_ioc_hsm_current_action()</a>, <a class="el" href="mdc__request_8c_source.html#l01742">mdc_ioc_hsm_request()</a>, <a class="el" href="mdc__request_8c_source.html#l01660">mdc_ioc_hsm_state_get()</a>, <a class="el" href="mdc__request_8c_source.html#l01701">mdc_ioc_hsm_state_set()</a>, <a class="el" href="mdc__request_8c_source.html#l02008">mdc_ioc_swap_layouts()</a>, <a class="el" href="mdc__reint_8c_source.html#l00305">mdc_link()</a>, <a class="el" href="mdc__reint_8c_source.html#l00350">mdc_rename()</a>, <a class="el" href="mdc__reint_8c_source.html#l00102">mdc_setattr()</a>, <a class="el" href="mdc__reint_8c_source.html#l00254">mdc_unlink()</a>, <a class="el" href="mdc__request_8c_source.html#l00294">mdc_xattr_common()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osc__request_8c_source.html#l00366">osc_create()</a>, <a class="el" href="osc__request_8c_source.html#l00606">osc_destroy()</a>, <a class="el" href="osc__request_8c_source.html#l02052">osc_enqueue_base()</a>, <a class="el" href="osc__request_8c_source.html#l00126">osc_getattr()</a>, <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__object_8c_source.html#l00225">osc_object_fiemap()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l00169">osc_setattr()</a>, <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>, <a class="el" href="osc__request_8c_source.html#l02321">osc_statfs()</a>, <a class="el" href="osc__request_8c_source.html#l02277">osc_statfs_async()</a>, <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>, <a class="el" href="osp__precreate_8c_source.html#l00680">osp_get_lastfid_from_ost()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__dev_8c_source.html#l01746">osp_obd_set_info_async()</a>, <a class="el" href="osp__dev_8c_source.html#l01503">osp_obd_statfs()</a>, <a class="el" href="osp__precreate_8c_source.html#l01454">osp_object_truncate()</a>, <a class="el" href="osp__precreate_8c_source.html#l00768">osp_precreate_cleanup_orphans()</a>, <a class="el" href="osp__precreate_8c_source.html#l00543">osp_precreate_send()</a>, <a class="el" href="osp__trans_8c_source.html#l00314">osp_prep_update_req()</a>, <a class="el" href="osp__precreate_8c_source.html#l00175">osp_statfs_update()</a>, <a class="el" href="osp__sync_8c_source.html#l00637">osp_sync_new_job()</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>, <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>, and <a class="el" href="qsd__request_8c_source.html#l00091">qsd_send_dqacq()</a>.</p>

</div>
</div>
<a class="anchor" id="gac578ffdc47c9c2141c34c4798a55cce4"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_alloc_pack" ref="gac578ffdc47c9c2141c34c4798a55cce4" args="(struct obd_import *imp, const struct req_format *format, __u32 version, int opcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* ptlrpc_request_alloc_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structreq__format.html">req_format</a> *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>opcode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate new request for operatione <em>opcode</em> and immediatelly pack it for <a class="el" href="structnetwork.html">network</a> transfer. </p>
<p>Only used for simple requests like OBD_PING where the only important part of the request is operation itself. Returns allocated request or NULL on error. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00891">891</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, and <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>.</p>

<p>Referenced by <a class="el" href="fld__request_8c_source.html#l00358">fld_client_rpc()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00233">gss_do_ctx_init_rpc()</a>, <a class="el" href="ldlm__request_8c_source.html#l01029">ldlm_cli_convert()</a>, <a class="el" href="ldlm__request_8c_source.html#l00869">ldlm_cli_enqueue()</a>, <a class="el" href="llog__client_8c_source.html#l00143">llog_client_destroy()</a>, <a class="el" href="llog__client_8c_source.html#l00178">llog_client_next_block()</a>, <a class="el" href="llog__client_8c_source.html#l00233">llog_client_prev_block()</a>, <a class="el" href="llog__client_8c_source.html#l00282">llog_client_read_header()</a>, <a class="el" href="mdc__request_8c_source.html#l01563">mdc_ioc_hsm_ct_register()</a>, <a class="el" href="mdc__request_8c_source.html#l01637">mdc_ioc_hsm_ct_unregister()</a>, <a class="el" href="mdc__request_8c_source.html#l01527">mdc_ioc_hsm_progress()</a>, <a class="el" href="mdc__request_8c_source.html#l01971">mdc_quotactl()</a>, <a class="el" href="mdc__request_8c_source.html#l01421">mdc_statfs()</a>, <a class="el" href="mgc__request_8c_source.html#l01049">mgc_enqueue()</a>, <a class="el" href="mgc__request_8c_source.html#l01012">mgc_set_mgs_param()</a>, <a class="el" href="mgc__request_8c_source.html#l01119">mgc_target_register()</a>, <a class="el" href="osc__quota_8c_source.html#l00248">osc_quotactl()</a>, <a class="el" href="import_8c_source.html#l01550">ptlrpc_disconnect_import()</a>, <a class="el" href="pinger_8c_source.html#l00065">ptlrpc_prep_ping()</a>, <a class="el" href="ldlm__request_8c_source.html#l02226">replay_one_lock()</a>, <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>, and <a class="el" href="import_8c_source.html#l01368">signal_completed_replay()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0aa209ecf9cb734df89fec89a61d00a1"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_alloc_pool" ref="ga0aa209ecf9cb734df89fec89a61d00a1" args="(struct obd_import *imp, struct ptlrpc_request_pool *, const struct req_format *format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a>* ptlrpc_request_alloc_pool </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__pool.html">ptlrpc_request_pool</a> *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structreq__format.html">req_format</a> *&nbsp;</td>
          <td class="paramname"> <em>format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate new request structure for import <em>imp</em> from pool <em>pool</em> and initialize its buffer structure according to capsule template <em>format</em>. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00863">863</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l00833">ptlrpc_request_alloc_internal()</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>.</p>

</div>
</div>
<a class="anchor" id="gae057f78231e03c194800fb70734b7ad2"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_bufs_pack" ref="gae057f78231e03c194800fb70734b7ad2" args="(struct ptlrpc_request *request, __u32 version, int opcode, char **bufs, struct ptlrpc_cli_ctx *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_request_bufs_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>opcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>bufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__cli__ctx.html">ptlrpc_cli_ctx</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l00694">694</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l01015">class_import_put()</a>, <a class="el" href="lustre__net_8h_source.html#l00533">ptlrpc_client::cli_reply_portal</a>, <a class="el" href="lustre__net_8h_source.html#l00531">ptlrpc_client::cli_request_portal</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00172">obd_import::imp_client</a>, <a class="el" href="lustre__import_8h_source.html#l00320">obd_import::imp_msg_magic</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__import_8h_source.html#l00106">LUSTRE_IMP_FULL</a>, <a class="el" href="pack__generic_8c_source.html#l00975">lustre_msg_add_version()</a>, <a class="el" href="pack__generic_8c_source.html#l01348">lustre_msg_set_opc()</a>, <a class="el" href="pack__generic_8c_source.html#l00234">lustre_pack_request()</a>, <a class="el" href="packet-lustre_8c_source.html#l00359">PTL_RPC_MSG_REQUEST</a>, <a class="el" href="client_8c_source.html#l00687">ptlrpc_assign_next_xid()</a>, <a class="el" href="client_8c_source.html#l00293">ptlrpc_at_set_req_timeout()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00070">req_capsule::rc_area</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="events_8c_source.html#l00091">reply_in_callback()</a>, <a class="el" href="layout_8c_source.html#l01833">req_capsule_filled_sizes()</a>, <a class="el" href="events_8c_source.html#l00051">request_out_callback()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01011">ptlrpc_request::rq_next_phase</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00717">RQ_PHASE_NEW</a>, <a class="el" href="lustre__net_8h_source.html#l00723">RQ_PHASE_UNDEFINED</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01028">ptlrpc_request::rq_pool</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00955">ptlrpc_request::rq_type</a>, <a class="el" href="sec_8c_source.html#l00296">sptlrpc_cli_ctx_get()</a>, <a class="el" href="sec_8c_source.html#l00303">sptlrpc_cli_ctx_put()</a>, <a class="el" href="sec_8c_source.html#l00425">sptlrpc_req_get_ctx()</a>, and <a class="el" href="sec_8c_source.html#l00845">sptlrpc_req_set_flavor()</a>.</p>

<p>Referenced by <a class="el" href="gss__cli__upcall_8c_source.html#l00376">gss_do_ctx_fini_rpc()</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, and <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>.</p>

</div>
</div>
<a class="anchor" id="gaedae07eef44eef7ce7d1b0cfe437804f"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_change_export" ref="gaedae07eef44eef7ce7d1b0cfe437804f" args="(struct ptlrpc_request *req, struct obd_export *export)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_request_change_export </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>export</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change request export and move hp request from old export to new. </p>

<p>Definition at line <a class="el" href="service_8c_source.html#l00967">967</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00803">class_export_get()</a>, <a class="el" href="genops_8c_source.html#l00812">class_export_put()</a>, <a class="el" href="obd__class_8h_source.html#l00246">class_export_rpc_dec</a>, <a class="el" href="obd__class_8h_source.html#l00239">class_export_rpc_inc</a>, <a class="el" href="lustre__export_8h_source.html#l00270">obd_export::exp_hp_rpcs</a>, <a class="el" href="lustre__export_8h_source.html#l00271">obd_export::exp_reg_rpcs</a>, <a class="el" href="lustre__export_8h_source.html#l00269">obd_export::exp_rpc_lock</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, and <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>.</p>

</div>
</div>
<a class="anchor" id="gacab48d448ba12ade8093383e054814cc"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_committed" ref="gacab48d448ba12ade8093383e054814cc" args="(struct ptlrpc_request *req, int force)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_request_committed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>force</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Client-side portals API. </p>
<p>Everything to send requests, receive replies, request queues, request management, etc. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l02601">2601</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00248">obd_import::imp_peer_committed_transno</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="client_8c_source.html#l02585">ptlrpc_free_request()</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01045">ptlrpc_request::rq_replay_list</a>, and <a class="el" href="lustre__net_8h_source.html#l01034">ptlrpc_request::rq_transno</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l00716">mdc_free_open()</a>.</p>

</div>
</div>
<a class="anchor" id="ga35e91945e5dfe7314c1b31519907929f"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_free" ref="ga35e91945e5dfe7314c1b31519907929f" args="(struct ptlrpc_request *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_request_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For requests not from pool, free memory of the request structure. </p>
<p>For requests obtained from a pool earlier, return request back to pool. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00875">875</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l00647">__ptlrpc_free_req_to_pool()</a>, <a class="el" href="client_8c_source.html#l00500">ptlrpc_request_cache_free()</a>, and <a class="el" href="lustre__net_8h_source.html#l01028">ptlrpc_request::rq_pool</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l01574">do_set_info_async()</a>, <a class="el" href="ldlm__request_8c_source.html#l01185">ldlm_cli_cancel_req()</a>, <a class="el" href="ldlm__request_8c_source.html#l00837">ldlm_enqueue_pack()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03525">lfsck_layout_async_notify()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03487">lfsck_layout_async_query()</a>, <a class="el" href="lfsck__layout_8c_source.html#l01900">lfsck_layout_master_conditional_destroy()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03789">lfsck_layout_slave_check_pairs()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01197">lfsck_namespace_notify_lmv_remote()</a>, <a class="el" href="llog__client_8c_source.html#l00079">llog_client_open()</a>, <a class="el" href="mdc__request_8c_source.html#l00757">mdc_close()</a>, <a class="el" href="mdc__reint_8c_source.html#l00155">mdc_create()</a>, <a class="el" href="mdc__locks_8c_source.html#l00502">mdc_enqueue_pack()</a>, <a class="el" href="mdc__request_8c_source.html#l02480">mdc_fsync()</a>, <a class="el" href="mdc__request_8c_source.html#l02196">mdc_get_info_rpc()</a>, <a class="el" href="mdc__request_8c_source.html#l02736">mdc_get_remote_perm()</a>, <a class="el" href="mdc__request_8c_source.html#l00101">mdc_get_root()</a>, <a class="el" href="mdc__request_8c_source.html#l00207">mdc_getattr()</a>, <a class="el" href="mdc__request_8c_source.html#l00250">mdc_getattr_name()</a>, <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mdc__locks_8c_source.html#l00412">mdc_intent_getattr_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00328">mdc_intent_getxattr_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00462">mdc_intent_layout_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00238">mdc_intent_open_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00375">mdc_intent_unlink_pack()</a>, <a class="el" href="mdc__request_8c_source.html#l01595">mdc_ioc_hsm_current_action()</a>, <a class="el" href="mdc__request_8c_source.html#l01742">mdc_ioc_hsm_request()</a>, <a class="el" href="mdc__request_8c_source.html#l01660">mdc_ioc_hsm_state_get()</a>, <a class="el" href="mdc__request_8c_source.html#l01701">mdc_ioc_hsm_state_set()</a>, <a class="el" href="mdc__request_8c_source.html#l02008">mdc_ioc_swap_layouts()</a>, <a class="el" href="mdc__reint_8c_source.html#l00305">mdc_link()</a>, <a class="el" href="mdc__reint_8c_source.html#l00350">mdc_rename()</a>, <a class="el" href="mdc__reint_8c_source.html#l00102">mdc_setattr()</a>, <a class="el" href="mdc__reint_8c_source.html#l00254">mdc_unlink()</a>, <a class="el" href="mdc__request_8c_source.html#l00294">mdc_xattr_common()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osc__request_8c_source.html#l00366">osc_create()</a>, <a class="el" href="osc__request_8c_source.html#l00606">osc_destroy()</a>, <a class="el" href="osc__request_8c_source.html#l02052">osc_enqueue_base()</a>, <a class="el" href="osc__request_8c_source.html#l00126">osc_getattr()</a>, <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__object_8c_source.html#l00225">osc_object_fiemap()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l00169">osc_setattr()</a>, <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>, <a class="el" href="osc__request_8c_source.html#l02321">osc_statfs()</a>, <a class="el" href="osc__request_8c_source.html#l02277">osc_statfs_async()</a>, <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>, <a class="el" href="osp__precreate_8c_source.html#l00680">osp_get_lastfid_from_ost()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__dev_8c_source.html#l01746">osp_obd_set_info_async()</a>, <a class="el" href="osp__dev_8c_source.html#l01503">osp_obd_statfs()</a>, <a class="el" href="osp__precreate_8c_source.html#l01454">osp_object_truncate()</a>, <a class="el" href="osp__precreate_8c_source.html#l00768">osp_precreate_cleanup_orphans()</a>, <a class="el" href="osp__precreate_8c_source.html#l00543">osp_precreate_send()</a>, <a class="el" href="osp__precreate_8c_source.html#l00175">osp_statfs_update()</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>, <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>, and <a class="el" href="qsd__request_8c_source.html#l00091">qsd_send_dqacq()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa1d6f5834629cf755c8f1f0b1a4349de"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_pack" ref="gaa1d6f5834629cf755c8f1f0b1a4349de" args="(struct ptlrpc_request *request, __u32 version, int opcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_request_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>opcode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pack request buffers for <a class="el" href="structnetwork.html">network</a> transfer, performing necessary encryption steps if necessary. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00762">762</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="packet-lustre_8c_source.html#l00287">LDLM_BL_CALLBACK</a>, <a class="el" href="packet-lustre_8c_source.html#l00288">LDLM_CP_CALLBACK</a>, <a class="el" href="packet-lustre_8c_source.html#l00289">LDLM_GL_CALLBACK</a>, <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="layout_8c_source.html#l02416">req_capsule_shrink()</a>, <a class="el" href="layout_8c_source.html#l00959">RMF_PTLRPC_BODY</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l01574">do_set_info_async()</a>, <a class="el" href="ldlm__request_8c_source.html#l01185">ldlm_cli_cancel_req()</a>, <a class="el" href="ldlm__request_8c_source.html#l00762">ldlm_prep_elc_req()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03525">lfsck_layout_async_notify()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03487">lfsck_layout_async_query()</a>, <a class="el" href="lfsck__layout_8c_source.html#l01900">lfsck_layout_master_conditional_destroy()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03789">lfsck_layout_slave_check_pairs()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01197">lfsck_namespace_notify_lmv_remote()</a>, <a class="el" href="llog__client_8c_source.html#l00079">llog_client_open()</a>, <a class="el" href="mdc__request_8c_source.html#l00757">mdc_close()</a>, <a class="el" href="mdc__request_8c_source.html#l02480">mdc_fsync()</a>, <a class="el" href="mdc__request_8c_source.html#l02196">mdc_get_info_rpc()</a>, <a class="el" href="mdc__request_8c_source.html#l02736">mdc_get_remote_perm()</a>, <a class="el" href="mdc__request_8c_source.html#l00101">mdc_get_root()</a>, <a class="el" href="mdc__request_8c_source.html#l00207">mdc_getattr()</a>, <a class="el" href="mdc__request_8c_source.html#l00250">mdc_getattr_name()</a>, <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mdc__request_8c_source.html#l01595">mdc_ioc_hsm_current_action()</a>, <a class="el" href="mdc__request_8c_source.html#l01742">mdc_ioc_hsm_request()</a>, <a class="el" href="mdc__request_8c_source.html#l01660">mdc_ioc_hsm_state_get()</a>, <a class="el" href="mdc__request_8c_source.html#l01701">mdc_ioc_hsm_state_set()</a>, <a class="el" href="mdc__request_8c_source.html#l00294">mdc_xattr_common()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osc__request_8c_source.html#l00366">osc_create()</a>, <a class="el" href="osc__request_8c_source.html#l00126">osc_getattr()</a>, <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__object_8c_source.html#l00225">osc_object_fiemap()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l00169">osc_setattr()</a>, <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>, <a class="el" href="osc__request_8c_source.html#l02321">osc_statfs()</a>, <a class="el" href="osc__request_8c_source.html#l02277">osc_statfs_async()</a>, <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>, <a class="el" href="osp__precreate_8c_source.html#l00680">osp_get_lastfid_from_ost()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__dev_8c_source.html#l01746">osp_obd_set_info_async()</a>, <a class="el" href="osp__dev_8c_source.html#l01503">osp_obd_statfs()</a>, <a class="el" href="osp__precreate_8c_source.html#l01454">osp_object_truncate()</a>, <a class="el" href="osp__precreate_8c_source.html#l00768">osp_precreate_cleanup_orphans()</a>, <a class="el" href="osp__precreate_8c_source.html#l00543">osp_precreate_send()</a>, <a class="el" href="osp__trans_8c_source.html#l00262">osp_prep_inline_update_req()</a>, <a class="el" href="osp__trans_8c_source.html#l00314">osp_prep_update_req()</a>, <a class="el" href="osp__precreate_8c_source.html#l00175">osp_statfs_update()</a>, <a class="el" href="osp__sync_8c_source.html#l00637">osp_sync_new_job()</a>, <a class="el" href="client_8c_source.html#l00891">ptlrpc_request_alloc_pack()</a>, <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>, and <a class="el" href="qsd__request_8c_source.html#l00091">qsd_send_dqacq()</a>.</p>

</div>
</div>
<a class="anchor" id="gad6590c2ad5fda846f88583c0b8b3db24"></a><!-- doxytag: member="lustre_net.h::ptlrpc_request_set_replen" ref="gad6590c2ad5fda846f88583c0b8b3db24" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_request_set_replen </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l01551">1551</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="packet-lustre_8c_source.html#l00048">LUSTRE_MSG_MAGIC_V2</a>, <a class="el" href="pack__generic_8c_source.html#l00158">lustre_msg_size()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00070">req_capsule::rc_area</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l01833">req_capsule_filled_sizes()</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01026">ptlrpc_request::rq_replen</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l01574">do_set_info_async()</a>, <a class="el" href="fld__request_8c_source.html#l00358">fld_client_rpc()</a>, <a class="el" href="gss__cli__upcall_8c_source.html#l00233">gss_do_ctx_init_rpc()</a>, <a class="el" href="ldlm__request_8c_source.html#l01185">ldlm_cli_cancel_req()</a>, <a class="el" href="ldlm__request_8c_source.html#l01029">ldlm_cli_convert()</a>, <a class="el" href="ldlm__request_8c_source.html#l00869">ldlm_cli_enqueue()</a>, <a class="el" href="ldlm__request_8c_source.html#l00837">ldlm_enqueue_pack()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03525">lfsck_layout_async_notify()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03487">lfsck_layout_async_query()</a>, <a class="el" href="lfsck__layout_8c_source.html#l01900">lfsck_layout_master_conditional_destroy()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03789">lfsck_layout_slave_check_pairs()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01197">lfsck_namespace_notify_lmv_remote()</a>, <a class="el" href="llog__client_8c_source.html#l00143">llog_client_destroy()</a>, <a class="el" href="llog__client_8c_source.html#l00178">llog_client_next_block()</a>, <a class="el" href="llog__client_8c_source.html#l00079">llog_client_open()</a>, <a class="el" href="llog__client_8c_source.html#l00233">llog_client_prev_block()</a>, <a class="el" href="llog__client_8c_source.html#l00282">llog_client_read_header()</a>, <a class="el" href="mdc__request_8c_source.html#l00757">mdc_close()</a>, <a class="el" href="mdc__reint_8c_source.html#l00155">mdc_create()</a>, <a class="el" href="mdc__locks_8c_source.html#l00502">mdc_enqueue_pack()</a>, <a class="el" href="mdc__request_8c_source.html#l02480">mdc_fsync()</a>, <a class="el" href="mdc__request_8c_source.html#l02196">mdc_get_info_rpc()</a>, <a class="el" href="mdc__request_8c_source.html#l02736">mdc_get_remote_perm()</a>, <a class="el" href="mdc__request_8c_source.html#l00101">mdc_get_root()</a>, <a class="el" href="mdc__request_8c_source.html#l00207">mdc_getattr()</a>, <a class="el" href="mdc__request_8c_source.html#l00250">mdc_getattr_name()</a>, <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mdc__locks_8c_source.html#l00412">mdc_intent_getattr_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00328">mdc_intent_getxattr_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00462">mdc_intent_layout_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00238">mdc_intent_open_pack()</a>, <a class="el" href="mdc__locks_8c_source.html#l00375">mdc_intent_unlink_pack()</a>, <a class="el" href="mdc__request_8c_source.html#l01563">mdc_ioc_hsm_ct_register()</a>, <a class="el" href="mdc__request_8c_source.html#l01637">mdc_ioc_hsm_ct_unregister()</a>, <a class="el" href="mdc__request_8c_source.html#l01595">mdc_ioc_hsm_current_action()</a>, <a class="el" href="mdc__request_8c_source.html#l01527">mdc_ioc_hsm_progress()</a>, <a class="el" href="mdc__request_8c_source.html#l01742">mdc_ioc_hsm_request()</a>, <a class="el" href="mdc__request_8c_source.html#l01660">mdc_ioc_hsm_state_get()</a>, <a class="el" href="mdc__request_8c_source.html#l01701">mdc_ioc_hsm_state_set()</a>, <a class="el" href="mdc__request_8c_source.html#l02008">mdc_ioc_swap_layouts()</a>, <a class="el" href="mdc__reint_8c_source.html#l00305">mdc_link()</a>, <a class="el" href="mdc__request_8c_source.html#l01971">mdc_quotactl()</a>, <a class="el" href="mdc__reint_8c_source.html#l00350">mdc_rename()</a>, <a class="el" href="mdc__reint_8c_source.html#l00102">mdc_setattr()</a>, <a class="el" href="mdc__request_8c_source.html#l01421">mdc_statfs()</a>, <a class="el" href="mdc__reint_8c_source.html#l00254">mdc_unlink()</a>, <a class="el" href="mdc__request_8c_source.html#l00294">mdc_xattr_common()</a>, <a class="el" href="mgc__request_8c_source.html#l01049">mgc_enqueue()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="mgc__request_8c_source.html#l01012">mgc_set_mgs_param()</a>, <a class="el" href="mgc__request_8c_source.html#l01119">mgc_target_register()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osc__request_8c_source.html#l00366">osc_create()</a>, <a class="el" href="osc__request_8c_source.html#l00606">osc_destroy()</a>, <a class="el" href="osc__request_8c_source.html#l02052">osc_enqueue_base()</a>, <a class="el" href="osc__request_8c_source.html#l00126">osc_getattr()</a>, <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__object_8c_source.html#l00225">osc_object_fiemap()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__quota_8c_source.html#l00248">osc_quotactl()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l00169">osc_setattr()</a>, <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>, <a class="el" href="osc__request_8c_source.html#l02321">osc_statfs()</a>, <a class="el" href="osc__request_8c_source.html#l02277">osc_statfs_async()</a>, <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>, <a class="el" href="osp__precreate_8c_source.html#l00680">osp_get_lastfid_from_ost()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="osp__dev_8c_source.html#l01746">osp_obd_set_info_async()</a>, <a class="el" href="osp__dev_8c_source.html#l01503">osp_obd_statfs()</a>, <a class="el" href="osp__precreate_8c_source.html#l01454">osp_object_truncate()</a>, <a class="el" href="osp__precreate_8c_source.html#l00768">osp_precreate_cleanup_orphans()</a>, <a class="el" href="osp__precreate_8c_source.html#l00543">osp_precreate_send()</a>, <a class="el" href="osp__trans_8c_source.html#l00262">osp_prep_inline_update_req()</a>, <a class="el" href="osp__trans_8c_source.html#l00314">osp_prep_update_req()</a>, <a class="el" href="osp__precreate_8c_source.html#l00175">osp_statfs_update()</a>, <a class="el" href="osp__sync_8c_source.html#l00637">osp_sync_new_job()</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, <a class="el" href="import_8c_source.html#l01550">ptlrpc_disconnect_import()</a>, <a class="el" href="pinger_8c_source.html#l00065">ptlrpc_prep_ping()</a>, <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>, <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>, <a class="el" href="qsd__request_8c_source.html#l00091">qsd_send_dqacq()</a>, <a class="el" href="ldlm__request_8c_source.html#l02226">replay_one_lock()</a>, <a class="el" href="fid__request_8c_source.html#l00055">seq_client_rpc()</a>, and <a class="el" href="import_8c_source.html#l01368">signal_completed_replay()</a>.</p>

</div>
</div>
<a class="anchor" id="ga469a6dc4c139ecc1ab2fd3562c693986"></a><!-- doxytag: member="lustre_net.h::ptlrpc_restart_req" ref="ga469a6dc4c139ecc1ab2fd3562c693986" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_restart_req </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l02742">2742</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="lustre__net_8h_source.html#l02502">ptlrpc_client_wake_req()</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_restart</a>, <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>, and <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_timedout</a>.</p>

</div>
</div>
<a class="anchor" id="ga74e4777d34c1f5305c03de9d365a6268"></a><!-- doxytag: member="lustre_net.h::ptlrpc_retain_replayable_request" ref="ga74e4777d34c1f5305c03de9d365a6268" args="(struct ptlrpc_request *req, struct obd_import *imp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_retain_replayable_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a request to import replay_list. </p>
<p>Must be called under imp_lock </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l02769">2769</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00147">D_EMERG</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="lustre__import_8h_source.html#l00183">obd_import::imp_replay_list</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_replayable</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00449">list_for_each_prev</a>, <a class="el" href="pack__generic_8c_source.html#l00848">lustre_msg_add_flags()</a>, <a class="el" href="pack__generic_8c_source.html#l00877">lustre_msg_clear_flags()</a>, <a class="el" href="lustre__idl_8h_source.html#l01154">MSG_REPLAY</a>, <a class="el" href="lustre__idl_8h_source.html#l01153">MSG_RESENT</a>, <a class="el" href="client_8c_source.html#l02757">ptlrpc_request_addref()</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01045">ptlrpc_request::rq_replay_list</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_resend</a>, <a class="el" href="lustre__net_8h_source.html#l01034">ptlrpc_request::rq_transno</a>, and <a class="el" href="lustre__net_8h_source.html#l01036">ptlrpc_request::rq_xid</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01297">after_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5cc1d131e275c54814e06c044f44755e"></a><!-- doxytag: member="lustre_net.h::ptlrpc_rqphase2str" ref="ga5cc1d131e275c54814e06c044f44755e" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* ptlrpc_rqphase2str </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert numerical request phase of the request <em>req</em> into text stringi description. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01254">1254</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01229">ptlrpc_phase2str()</a>, and <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>.</p>

<p>Referenced by <a class="el" href="lustre__net_8h_source.html#l02428">ptlrpc_rqphase_move()</a>.</p>

</div>
</div>
<a class="anchor" id="gacfc7db95b5c34170599725b0f098bc5c"></a><!-- doxytag: member="lustre_net.h::ptlrpc_rqphase_move" ref="gacfc7db95b5c34170599725b0f098bc5c" args="(struct ptlrpc_request *req, enum rq_phase new_phase)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_rqphase_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__net.html#ga0e456f0c28b52cad4b543eec9efa656a">rq_phase</a>&nbsp;</td>
          <td class="paramname"> <em>new_phase</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change request phase of <em>req</em> to <em>new_phase</em>. </p>

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02428">2428</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="lustre__import_8h_source.html#l00222">obd_import::imp_unregistering</a>, <a class="el" href="lustre__net_8h_source.html#l01229">ptlrpc_phase2str()</a>, <a class="el" href="lustre__net_8h_source.html#l01254">ptlrpc_rqphase2str()</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01011">ptlrpc_request::rq_next_phase</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, and <a class="el" href="lustre__net_8h_source.html#l00722">RQ_PHASE_UNREGISTERING</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>, <a class="el" href="service_8c_source.html#l01999">ptlrpc_server_handle_request()</a>, <a class="el" href="niobuf_8c_source.html#l00420">ptlrpc_unregister_bulk()</a>, and <a class="el" href="client_8c_source.html#l02512">ptlrpc_unregister_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga11a71176bed4a89e1fe277cb40762b3d"></a><!-- doxytag: member="lustre_net.h::ptlrpc_rs_addref" ref="ga11a71176bed4a89e1fe277cb40762b3d" args="(struct ptlrpc_reply_state *rs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_rs_addref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *&nbsp;</td>
          <td class="paramname"> <em>rs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02511">2511</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="lustre__net_8h_source.html#l00675">ptlrpc_reply_state::rs_refcount</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, and <a class="el" href="ldlm__lib_8c_source.html#l02860">target_send_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="gab1e93aadb37e3874a19d1ac7c582eacf"></a><!-- doxytag: member="lustre_net.h::ptlrpc_rs_decref" ref="gab1e93aadb37e3874a19d1ac7c582eacf" args="(struct ptlrpc_reply_state *rs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ptlrpc_rs_decref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *&nbsp;</td>
          <td class="paramname"> <em>rs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02518">2518</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="pack__generic_8c_source.html#l00508">lustre_free_reply_state()</a>, and <a class="el" href="lustre__net_8h_source.html#l00675">ptlrpc_reply_state::rs_refcount</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l02149">ptlrpc_handle_rs()</a>, <a class="el" href="lustre__net_8h_source.html#l02526">ptlrpc_req_drop_rs()</a>, <a class="el" href="events_8c_source.html#l00390">reply_out_callback()</a>, and <a class="el" href="layout_8c_source.html#l02448">req_capsule_server_grow()</a>.</p>

</div>
</div>
<a class="anchor" id="gac08edd7ffd185c9f01d010fa5da16fd3"></a><!-- doxytag: member="lustre_net.h::ptlrpc_sample_next_xid" ref="gac08edd7ffd185c9f01d010fa5da16fd3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> ptlrpc_sample_next_xid </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a glimpse at what next xid value might have been. </p>
<p>Returns possible next xid. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l03230">3230</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, and <a class="el" href="lustre__net_8h_source.html#l00086">PTLRPC_BULK_OPS_COUNT</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01826">osc_process_ar()</a>.</p>

</div>
</div>
<a class="anchor" id="ga686ce1d3f4b5ce9b59e59136cb6b265c"></a><!-- doxytag: member="lustre_net.h::ptlrpc_save_lock" ref="ga686ce1d3f4b5ce9b59e59136cb6b265c" args="(struct ptlrpc_request *req, struct lustre_handle *lock, int mode, int no_ack)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_save_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>no_ack</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Server-side services API. </p>
<p>Register/unregister service, request state management, service thread management</p>
<p>Server-side services API.</p>
<p>Puts a lock and its mode into reply state assotiated to request reply. </p>

<p>Definition at line <a class="el" href="service_8c_source.html#l00183">183</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="lustre__export_8h_source.html#l00245">obd_export::exp_disconnected</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="lustre__net_8h_source.html#l00664">ptlrpc_reply_state::rs_difficult</a>, <a class="el" href="lustre__net_8h_source.html#l00708">ptlrpc_reply_state::rs_locks</a>, <a class="el" href="lustre__net_8h_source.html#l00639">RS_MAX_LOCKS</a>, <a class="el" href="lustre__net_8h_source.html#l00710">ptlrpc_reply_state::rs_modes</a>, <a class="el" href="lustre__net_8h_source.html#l00677">ptlrpc_reply_state::rs_nlocks</a>, and <a class="el" href="lustre__net_8h_source.html#l00665">ptlrpc_reply_state::rs_no_ack</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l02675">mdt_save_lock()</a>, and <a class="el" href="mdt__recovery_8c_source.html#l00130">mdt_steal_ack_locks()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9ab523a4b395599275d00e72079b51f9"></a><!-- doxytag: member="lustre_net.h::ptlrpc_schedule_difficult_reply" ref="ga9ab523a4b395599275d00e72079b51f9" args="(struct ptlrpc_reply_state *rs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_schedule_difficult_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__reply__state.html">ptlrpc_reply_state</a> *&nbsp;</td>
          <td class="paramname"> <em>rs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="service_8c_source.html#l00387">387</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="service_8c_source.html#l00369">ptlrpc_dispatch_difficult_reply()</a>, <a class="el" href="lustre__net_8h_source.html#l00664">ptlrpc_reply_state::rs_difficult</a>, <a class="el" href="lustre__net_8h_source.html#l00653">ptlrpc_reply_state::rs_list</a>, <a class="el" href="lustre__net_8h_source.html#l00662">ptlrpc_reply_state::rs_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00667">ptlrpc_reply_state::rs_scheduled</a>, <a class="el" href="lustre__net_8h_source.html#l00668">ptlrpc_reply_state::rs_scheduled_ever</a>, and <a class="el" href="lustre__net_8h_source.html#l00688">ptlrpc_reply_state::rs_svcpt</a>.</p>

<p>Referenced by <a class="el" href="mdt__recovery_8c_source.html#l00130">mdt_steal_ack_locks()</a>, <a class="el" href="service_8c_source.html#l03055">ptlrpc_service_purge_all()</a>, and <a class="el" href="events_8c_source.html#l00390">reply_out_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="gac2a8de93c376592370228d10fd94761d"></a><!-- doxytag: member="lustre_net.h::ptlrpc_send_error" ref="gac2a8de93c376592370228d10fd94761d" args="(struct ptlrpc_request *req, int difficult)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_send_error </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>may_be_difficult</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For request <em>req</em> send an error reply back. </p>
<p>Create empty reply buffers if necessary. </p>

<p>Definition at line <a class="el" href="niobuf_8c_source.html#l00626">626</a> of file <a class="el" href="niobuf_8c_source.html">niobuf.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="pack__generic_8c_source.html#l00401">lustre_pack_reply()</a>, <a class="el" href="packet-lustre_8c_source.html#l00360">PTL_RPC_MSG_ERR</a>, <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_no_reply</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>, and <a class="el" href="lustre__net_8h_source.html#l00955">ptlrpc_request::rq_type</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00649">ptlrpc_error()</a>, and <a class="el" href="ldlm__lib_8c_source.html#l02835">target_send_reply_msg()</a>.</p>

</div>
</div>
<a class="anchor" id="ga19306b7aa0236edbf80934e6ea3daca9"></a><!-- doxytag: member="lustre_net.h::ptlrpc_send_limit_expired" ref="ga19306b7aa0236edbf80934e6ea3daca9" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_send_limit_expired </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02552">2552</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="libcfs__time_8h_source.html#l00046">cfs_time_add()</a>, <a class="el" href="linux-time_8h_source.html#l00142">cfs_time_before()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, and <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l01120">ptlrpc_import_delay_req()</a>, and <a class="el" href="lustre__net_8h_source.html#l02563">ptlrpc_no_resend()</a>.</p>

</div>
</div>
<a class="anchor" id="ga563a5d436790759334ba2a51f0dce12e"></a><!-- doxytag: member="lustre_net.h::ptlrpc_send_reply" ref="ga563a5d436790759334ba2a51f0dce12e" args="(struct ptlrpc_request *req, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_send_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send request reply from request <em>req</em> reply buffer. </p>
<p><em>flags</em> defines reply types Returns 0 on success or error code </p>

<p>Definition at line <a class="el" href="niobuf_8c_source.html#l00528">528</a> of file <a class="el" href="niobuf_8c_source.html">niobuf.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00635">ptlrpc_cb_id::cbid_arg</a>, <a class="el" href="structptlrpc__cb__id.html#a58f3b9cf321abbbda3162af4e35c310e">ptlrpc_cb_id::cbid_fn</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="lustre__export_8h_source.html#l00217">obd_export::exp_connection</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00645">LNET_ACK_REQ</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00647">LNET_NOACK_REQ</a>, <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="pack__generic_8c_source.html#l01348">lustre_msg_set_opc()</a>, <a class="el" href="pack__generic_8c_source.html#l01439">lustre_msg_set_status()</a>, <a class="el" href="pack__generic_8c_source.html#l01334">lustre_msg_set_type()</a>, <a class="el" href="pack__generic_8c_source.html#l00496">lustre_shrink_msg()</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_fail</a>, <a class="el" href="obd_8h_source.html#l00594">obd_device::obd_minor</a>, <a class="el" href="packet-lustre_8c_source.html#l00360">PTL_RPC_MSG_ERR</a>, <a class="el" href="packet-lustre_8c_source.html#l00361">PTL_RPC_MSG_REPLY</a>, <a class="el" href="niobuf_8c_source.html#l00050">ptl_send_buf()</a>, <a class="el" href="niobuf_8c_source.html#l00477">ptlrpc_at_set_reply()</a>, <a class="el" href="connection_8c_source.html#l00128">ptlrpc_connection_addref()</a>, <a class="el" href="connection_8c_source.html#l00048">ptlrpc_connection_get()</a>, <a class="el" href="connection_8c_source.html#l00091">ptlrpc_connection_put()</a>, <a class="el" href="lustre__net_8h_source.html#l02065">PTLRPC_REPLY_MAYBE_DIFFICULT</a>, <a class="el" href="lustre__net_8h_source.html#l02583">ptlrpc_req2svc()</a>, <a class="el" href="lustre__net_8h_source.html#l02526">ptlrpc_req_drop_rs()</a>, <a class="el" href="lustre__net_8h_source.html#l02511">ptlrpc_rs_addref()</a>, <a class="el" href="lustre__net_8h_source.html#l02395">ptlrpc_status_hton()</a>, <a class="el" href="events_8c_source.html#l00390">reply_out_callback()</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="lustre__net_8h_source.html#l01059">ptlrpc_request::rq_no_reply</a>, <a class="el" href="lustre__net_8h_source.html#l01108">ptlrpc_request::rq_peer</a>, <a class="el" href="lustre__net_8h_source.html#l01026">ptlrpc_request::rq_replen</a>, <a class="el" href="lustre__net_8h_source.html#l01092">ptlrpc_request::rq_reply_off</a>, <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l01106">ptlrpc_request::rq_self</a>, <a class="el" href="lustre__net_8h_source.html#l01117">ptlrpc_request::rq_sent</a>, <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>, <a class="el" href="lustre__net_8h_source.html#l00955">ptlrpc_request::rq_type</a>, <a class="el" href="lustre__net_8h_source.html#l01036">ptlrpc_request::rq_xid</a>, <a class="el" href="lustre__net_8h_source.html#l00651">ptlrpc_reply_state::rs_cb_id</a>, <a class="el" href="lustre__net_8h_source.html#l00664">ptlrpc_reply_state::rs_difficult</a>, <a class="el" href="lustre__net_8h_source.html#l00690">ptlrpc_reply_state::rs_md_h</a>, <a class="el" href="lustre__net_8h_source.html#l00705">ptlrpc_reply_state::rs_msg</a>, <a class="el" href="lustre__net_8h_source.html#l00665">ptlrpc_reply_state::rs_no_ack</a>, <a class="el" href="lustre__net_8h_source.html#l00695">ptlrpc_reply_state::rs_repbuf</a>, <a class="el" href="lustre__net_8h_source.html#l00699">ptlrpc_reply_state::rs_repdata_len</a>, <a class="el" href="sec_8c_source.html#l02180">sptlrpc_svc_wrap_reply()</a>, <a class="el" href="ldlm__lib_8c_source.html#l02810">target_pack_pool_reply()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01259">ptlrpc_at_send_early_reply()</a>, <a class="el" href="niobuf_8c_source.html#l00614">ptlrpc_reply()</a>, <a class="el" href="niobuf_8c_source.html#l00626">ptlrpc_send_error()</a>, and <a class="el" href="ldlm__lib_8c_source.html#l02835">target_send_reply_msg()</a>.</p>

</div>
</div>
<a class="anchor" id="ga45bbc99a8cb3940b830d5ac581cd2f10"></a><!-- doxytag: member="lustre_net.h::ptlrpc_server_drop_request" ref="ga45bbc99a8cb3940b830d5ac581cd2f10" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_server_drop_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>drop a reference count of the request. </p>
<p>if it reaches 0, we either put it into history list, or free it immediately. </p>

<p>Definition at line <a class="el" href="service_8c_source.html#l00859">859</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="genops_8c_source.html#l00812">class_export_put()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00921">LCS_ENTERED</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00116">list_del()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="lu__object_8c_source.html#l01786">lu_context_exit()</a>, <a class="el" href="lu__object_8c_source.html#l01755">lu_context_fini()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="service_8c_source.html#l01237">ptlrpc_at_remove_timed()</a>, <a class="el" href="service_8c_source.html#l00836">ptlrpc_server_free_request()</a>, <a class="el" href="lustre__net_8h_source.html#l01003">ptlrpc_request::rq_at_linked</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="lustre__net_8h_source.html#l00962">ptlrpc_request::rq_list</a>, <a class="el" href="lustre__net_8h_source.html#l01016">ptlrpc_request::rq_refcount</a>, <a class="el" href="lustre__net_8h_source.html#l01606">ptlrpc_request_buffer_desc::rqbd_list</a>, <a class="el" href="lustre__net_8h_source.html#l01613">ptlrpc_request_buffer_desc::rqbd_refcount</a>, <a class="el" href="lustre__net_8h_source.html#l01621">ptlrpc_request_buffer_desc::rqbd_req</a>, <a class="el" href="lustre__net_8h_source.html#l01608">ptlrpc_request_buffer_desc::rqbd_reqs</a>, <a class="el" href="lustre__net_8h_source.html#l01610">ptlrpc_request_buffer_desc::rqbd_svcpt</a>, <a class="el" href="lustre__net_8h_source.html#l01798">ptlrpc_service_part::scp_hist_nrqbds</a>, <a class="el" href="lustre__net_8h_source.html#l01796">ptlrpc_service_part::scp_hist_rqbds</a>, <a class="el" href="lustre__net_8h_source.html#l01802">ptlrpc_service_part::scp_hist_seq_culled</a>, <a class="el" href="lustre__net_8h_source.html#l01780">ptlrpc_service_part::scp_rqbd_idle</a>, and <a class="el" href="lustre__net_8h_source.html#l01716">ptlrpc_service::srv_hist_nrqbds_cpt_max</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01416">ptlrpc_at_check_timed()</a>, and <a class="el" href="service_8c_source.html#l01001">ptlrpc_server_finish_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6a27be8ed69a65dcb3c872cf7ee4f4f9"></a><!-- doxytag: member="lustre_net.h::ptlrpc_server_get_timeout" ref="ga6a27be8ed69a65dcb3c872cf7ee4f4f9" args="(struct ptlrpc_service_part *svcpt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_server_get_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__service__part.html">ptlrpc_service_part</a> *&nbsp;</td>
          <td class="paramname"> <em>svcpt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02574">2574</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__import_8h_source.html#l00373">at_get()</a>, <a class="el" href="lustre__import_8h_source.html#l00379">AT_OFF</a>, <a class="el" href="class__obd_8c_source.html#l00083">obd_timeout</a>, and <a class="el" href="lustre__net_8h_source.html#l01831">ptlrpc_service_part::scp_at_estimate</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l02345">__attribute__()</a>, and <a class="el" href="service_8c_source.html#l02378">ptlrpc_main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7bc966179d16fa5e27e45a95523b0386"></a><!-- doxytag: member="lustre_net.h::ptlrpc_service_health_check" ref="ga7bc966179d16fa5e27e45a95523b0386" args="(struct ptlrpc_service *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_service_health_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="service_8c_source.html#l03227">3227</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01857">ptlrpc_service_for_each_part</a>, and <a class="el" href="service_8c_source.html#l03193">ptlrpc_svcpt_health_check()</a>.</p>

<p>Referenced by <a class="el" href="mdt__mds_8c_source.html#l00543">mds_health_check()</a>, <a class="el" href="mgs__handler_8c_source.html#l01539">mgs_health_check()</a>, and <a class="el" href="ost__handler_8c_source.html#l00392">ost_health_check()</a>.</p>

</div>
</div>
<a class="anchor" id="gad92b893a7fb440c2f0eed3ce0e79f6af"></a><!-- doxytag: member="lustre_net.h::ptlrpc_set_add_cb" ref="gad92b893a7fb440c2f0eed3ce0e79f6af" args="(struct ptlrpc_request_set *set, set_interpreter_func fn, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_set_add_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net.html#ga8ba8258387b636ab4e5695917aa2847d">set_interpreter_func</a>&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a callback function <em>fn</em> to the set. </p>
<p>This function would be called when all requests on this set are completed. The function will be passed <em>data</em> argument. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l01030">1030</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="lustre__net_8h_source.html#l00623">ptlrpc_set_cbdata::psc_data</a>, <a class="el" href="lustre__net_8h_source.html#l00621">ptlrpc_set_cbdata::psc_interpret</a>, <a class="el" href="lustre__net_8h_source.html#l00619">ptlrpc_set_cbdata::psc_item</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ga5da56461932d974b4c2487f179d8e6d8"></a><!-- doxytag: member="lustre_net.h::ptlrpc_set_add_req" ref="ga5da56461932d974b4c2487f179d8e6d8" args="(struct ptlrpc_request_set *, struct ptlrpc_request *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_set_add_req </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a new request to the general purpose request set. </p>
<p>Assumes request reference from the caller. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l01050">1050</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="pack__generic_8c_source.html#l01496">lustre_msg_set_jobid()</a>, <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_allow_intr</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l01574">do_set_info_async()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02369">lfsck_async_request()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03525">lfsck_layout_async_notify()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03487">lfsck_layout_async_query()</a>, <a class="el" href="osc__request_8c_source.html#l02052">osc_enqueue_base()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>, <a class="el" href="osc__request_8c_source.html#l02277">osc_statfs_async()</a>, <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>, <a class="el" href="osp__dev_8c_source.html#l01746">osp_obd_set_info_async()</a>, and <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>.</p>

</div>
</div>
<a class="anchor" id="ga862d0349489e1b216f7b1be96ac3baf8"></a><!-- doxytag: member="lustre_net.h::ptlrpc_set_destroy" ref="ga862d0349489e1b216f7b1be96ac3baf8" args="(struct ptlrpc_request_set *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_set_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wind down and free request set structure previously allocated with ptlrpc_prep_set. </p>
<p>Ensures that all requests on the set have completed and removes all requests from the request list in a set. If any unsent request happen to be on the list, pretends that they got an error in flight and calls their completion handler. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00973">973</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="lustre__net_8h_source.html#l01128">ptlrpc_req_interpret()</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00352">ptlrpc_reqset_put()</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_invalid_rqset</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00721">RQ_PHASE_COMPLETE</a>, <a class="el" href="lustre__net_8h_source.html#l00717">RQ_PHASE_NEW</a>, and <a class="el" href="lustre__net_8h_source.html#l00861">rq_set_chain</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lock_8c_source.html#l02050">ldlm_run_ast_work()</a>, <a class="el" href="lfsck__engine_8c_source.html#l01248">lfsck_assistant_notify_others()</a>, <a class="el" href="lfsck__engine_8c_source.html#l01131">lfsck_assistant_query_others()</a>, <a class="el" href="lfsck__layout_8c_source.html#l00250">lfsck_layout_assistant_sync_failures()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03628">lfsck_layout_slave_notify_master()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03555">lfsck_layout_slave_query_master()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06245">lfsck_namespace_assistant_sync_failures()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02420">lfsck_query_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02848">lfsck_start_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02778">lfsck_stop_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02259">lfsck_stop_notify()</a>, <a class="el" href="lod__dev_8c_source.html#l01876">lod_obd_set_info_async()</a>, <a class="el" href="lov__obd_8c_source.html#l01304">lov_set_info_async()</a>, <a class="el" href="lov__obd_8c_source.html#l01055">lov_statfs()</a>, <a class="el" href="obd__class_8h_source.html#l01033">obd_statfs_rqset()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00666">ptlrpcd_free()</a>, and <a class="el" href="ptlrpcd_8c_source.html#l00598">ptlrpcd_start()</a>.</p>

</div>
</div>
<a class="anchor" id="gac072432ff0e3366be99c8456895e28d1"></a><!-- doxytag: member="lustre_net.h::ptlrpc_set_wait" ref="gac072432ff0e3366be99c8456895e28d1" args="(struct ptlrpc_request_set *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_set_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send all unset request from the set and then wait untill all requests in the set complete (either get a reply, timeout, get an error or otherwise be interrupted). </p>
<p>Returns 0 on success or error code otherwise. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l02260">2260</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-prim_8c_source.html#l00117">cfs_block_sigsinv()</a>, <a class="el" href="linux-prim_8c_source.html#l00132">cfs_restore_sigs()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00253">list_for_each</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lustre__lib_8h_source.html#l00211">LUSTRE_FATAL_SIGS</a>, <a class="el" href="lustre__lib_8h_source.html#l00164">l_wait_info::lwi_allow_intr</a>, <a class="el" href="lustre__lib_8h_source.html#l00171">LWI_TIMEOUT</a>, <a class="el" href="lustre__lib_8h_source.html#l00199">LWI_TIMEOUT_INTR_ALL</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, <a class="el" href="lustre__net_8h_source.html#l00623">ptlrpc_set_cbdata::psc_data</a>, <a class="el" href="lustre__net_8h_source.html#l00621">ptlrpc_set_cbdata::psc_interpret</a>, <a class="el" href="lustre__net_8h_source.html#l00619">ptlrpc_set_cbdata::psc_item</a>, <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, <a class="el" href="client_8c_source.html#l02121">ptlrpc_expired_set()</a>, <a class="el" href="client_8c_source.html#l02180">ptlrpc_interrupted_set()</a>, <a class="el" href="client_8c_source.html#l01494">ptlrpc_send_new_req()</a>, <a class="el" href="client_8c_source.html#l02207">ptlrpc_set_next_timeout()</a>, <a class="el" href="client_8c_source.html#l01612">ptlrpc_set_producer()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_invalid_rqset</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00721">RQ_PHASE_COMPLETE</a>, <a class="el" href="lustre__net_8h_source.html#l00717">RQ_PHASE_NEW</a>, <a class="el" href="lustre__net_8h_source.html#l00861">rq_set_chain</a>, <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>, and <a class="el" href="gnilnd__modparams_8c_source.html#l00052">timeout</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lock_8c_source.html#l02050">ldlm_run_ast_work()</a>, <a class="el" href="lfsck__engine_8c_source.html#l01248">lfsck_assistant_notify_others()</a>, <a class="el" href="lfsck__engine_8c_source.html#l01131">lfsck_assistant_query_others()</a>, <a class="el" href="lfsck__layout_8c_source.html#l00250">lfsck_layout_assistant_sync_failures()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03628">lfsck_layout_slave_notify_master()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03555">lfsck_layout_slave_query_master()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l06245">lfsck_namespace_assistant_sync_failures()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02420">lfsck_query_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02848">lfsck_start_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02778">lfsck_stop_all()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02259">lfsck_stop_notify()</a>, <a class="el" href="lod__dev_8c_source.html#l01876">lod_obd_set_info_async()</a>, <a class="el" href="lov__obd_8c_source.html#l01304">lov_set_info_async()</a>, <a class="el" href="lov__obd_8c_source.html#l01055">lov_statfs()</a>, <a class="el" href="obd__class_8h_source.html#l01033">obd_statfs_rqset()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, and <a class="el" href="ptlrpcd_8c_source.html#l00427">ptlrpcd()</a>.</p>

</div>
</div>
<a class="anchor" id="gae98dcdbb3ab34d8e067f6caf336c9d31"></a><!-- doxytag: member="lustre_net.h::ptlrpc_start_threads" ref="gae98dcdbb3ab34d8e067f6caf336c9d31" args="(struct ptlrpc_service *svc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_start_threads </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *&nbsp;</td>
          <td class="paramname"> <em>svc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="service_8c_source.html#l02751">2751</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__net_8h_source.html#l00128">PTLRPC_NTHRS_INIT</a>, <a class="el" href="service_8c_source.html#l02782">ptlrpc_start_thread()</a>, <a class="el" href="service_8c_source.html#l02737">ptlrpc_stop_all_threads()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01718">ptlrpc_service::srv_ncpts</a>, <a class="el" href="lustre__net_8h_source.html#l01684">ptlrpc_service::srv_nthrs_cpt_init</a>, <a class="el" href="lustre__net_8h_source.html#l01728">ptlrpc_service::srv_parts</a>, and <a class="el" href="lustre__net_8h_source.html#l01680">ptlrpc_service::srv_thread_name</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l00690">ptlrpc_register_service()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf0a9d5804f5a6e154f8b10fe3136feea"></a><!-- doxytag: member="lustre_net.h::ptlrpc_status_hton" ref="gaf0a9d5804f5a6e154f8b10fe3136feea" args="(int h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_status_hton </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02395">2395</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="errno_8c_source.html#l00337">lustre_errno_hton()</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03554">mdt_intent_opc()</a>, <a class="el" href="lustre__update_8h_source.html#l00219">object_update_result_insert()</a>, <a class="el" href="ofd__dlm_8c_source.html#l00129">ofd_intent_policy()</a>, <a class="el" href="out__handler_8c_source.html#l00601">out_read()</a>, <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l00468">tgt_client_data_write()</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l00246">tgt_reply_data_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga82d561dae83ac80f5c8b1d2ba27c40b3"></a><!-- doxytag: member="lustre_net.h::ptlrpc_status_ntoh" ref="ga82d561dae83ac80f5c8b1d2ba27c40b3" args="(int n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ptlrpc_status_ntoh </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l02407">2407</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="errno_8c_source.html#l00360">lustre_errno_ntoh()</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00622">lustre_unpack_ptlrpc_body_v2()</a>, <a class="el" href="mdc__locks_8c_source.html#l00724">mdc_enqueue()</a>, <a class="el" href="mdc__locks_8c_source.html#l01131">mdc_intent_getattr_async_interpret()</a>, <a class="el" href="lustre__update_8h_source.html#l00243">object_update_result_data_get()</a>, <a class="el" href="osc__request_8c_source.html#l01952">osc_enqueue_fini()</a>, <a class="el" href="tgt__lastrcvd_8c_source.html#l00441">tgt_client_data_read()</a>, and <a class="el" href="tgt__lastrcvd_8c_source.html#l00246">tgt_reply_data_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga59db7fb30a02fd79e28791330f99fb3c"></a><!-- doxytag: member="lustre_net.h::ptlrpc_stop_all_threads" ref="ga59db7fb30a02fd79e28791330f99fb3c" args="(struct ptlrpc_service *svc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_stop_all_threads </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *&nbsp;</td>
          <td class="paramname"> <em>svc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stops all threads of a particular service <em>svc</em>. </p>

<p>Definition at line <a class="el" href="service_8c_source.html#l02737">2737</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__net_8h_source.html#l01857">ptlrpc_service_for_each_part</a>, and <a class="el" href="service_8c_source.html#l02683">ptlrpc_svcpt_stop_threads()</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l02751">ptlrpc_start_threads()</a>, and <a class="el" href="service_8c_source.html#l03160">ptlrpc_unregister_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga39ce8a4b0728469e0174c3aa68fd381e"></a><!-- doxytag: member="lustre_net.h::ptlrpc_unpack_rep_msg" ref="ga39ce8a4b0728469e0174c3aa68fd381e" args="(struct ptlrpc_request *req, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_unpack_rep_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00611">611</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="pack__generic_8c_source.html#l00574">__lustre_unpack_msg()</a>, <a class="el" href="lustre__net_8h_source.html#l01217">lustre_set_rep_swabbed()</a>, <a class="el" href="lustre__idl_8h_source.html#l01144">MSG_PTLRPC_HEADER_OFF</a>, and <a class="el" href="lustre__net_8h_source.html#l01032">ptlrpc_request::rq_repmsg</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00397">unpack_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="ga880aa3ea008857e45135398b11077193"></a><!-- doxytag: member="lustre_net.h::ptlrpc_unpack_req_msg" ref="ga880aa3ea008857e45135398b11077193" args="(struct ptlrpc_request *req, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_unpack_req_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pack__generic_8c_source.html#l00600">600</a> of file <a class="el" href="pack__generic_8c_source.html">pack_generic.c</a>.</p>

<p>References <a class="el" href="pack__generic_8c_source.html#l00574">__lustre_unpack_msg()</a>, <a class="el" href="lustre__net_8h_source.html#l01206">lustre_set_req_swabbed()</a>, <a class="el" href="lustre__idl_8h_source.html#l01144">MSG_PTLRPC_HEADER_OFF</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>.</p>

</div>
</div>
<a class="anchor" id="gaea9a5e62d5d55ace491db905c9a474f7"></a><!-- doxytag: member="lustre_net.h::ptlrpc_unregister_bulk" ref="gaea9a5e62d5d55ace491db905c9a474f7" args="(struct ptlrpc_request *req, int async)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_unregister_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>async</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disconnect a bulk desc from the <a class="el" href="structnetwork.html">network</a>. </p>
<p>Idempotent. Not thread-safe (i.e. only interlocks with completion callback). Returns 1 on success or 0 if <a class="el" href="structnetwork.html">network</a> unregistration failed for whatever reason. </p>

<p>Definition at line <a class="el" href="niobuf_8c_source.html#l00420">420</a> of file <a class="el" href="niobuf_8c_source.html">niobuf.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01463">ptlrpc_bulk_desc::bd_md_max_brw</a>, <a class="el" href="lustre__net_8h_source.html#l01465">ptlrpc_bulk_desc::bd_mds</a>, <a class="el" href="lustre__net_8h_source.html#l01450">ptlrpc_bulk_desc::bd_req</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00139">D_WARNING</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00151">LONG_UNLINK</a>, <a class="el" href="lustre__lib_8h_source.html#l00180">LWI_TIMEOUT_INTERVAL</a>, <a class="el" href="niobuf_8c_source.html#l00101">mdunlink_iterate_helper()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00408">OBD_FAIL_PTLRPC_LONG_BULK_UNLINK</a>, <a class="el" href="lustre__net_8h_source.html#l02044">ptlrpc_client_bulk_active()</a>, <a class="el" href="lustre__net_8h_source.html#l02428">ptlrpc_rqphase_move()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01011">ptlrpc_request::rq_next_phase</a>, and <a class="el" href="lustre__net_8h_source.html#l00722">RQ_PHASE_UNREGISTERING</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="client_8c_source.html#l01644">ptlrpc_check_set()</a>, and <a class="el" href="client_8c_source.html#l02050">ptlrpc_expire_one_request()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2f7edc9d9d00fa395262051c0f9fc855"></a><!-- doxytag: member="lustre_net.h::ptlrpc_unregister_service" ref="ga2f7edc9d9d00fa395262051c0f9fc855" args="(struct ptlrpc_service *service)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_unregister_service </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__service.html">ptlrpc_service</a> *&nbsp;</td>
          <td class="paramname"> <em>service</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="service_8c_source.html#l03160">3160</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="service_8c_source.html#l00070">ptlrpc_all_services_mutex</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00120">ptlrpc_lprocfs_unregister_service</a>, <a class="el" href="service_8c_source.html#l02985">ptlrpc_service_del_atimer()</a>, <a class="el" href="service_8c_source.html#l03123">ptlrpc_service_free()</a>, <a class="el" href="nrs_8c_source.html#l01435">ptlrpc_service_nrs_cleanup()</a>, <a class="el" href="service_8c_source.html#l03055">ptlrpc_service_purge_all()</a>, <a class="el" href="service_8c_source.html#l02998">ptlrpc_service_unlink_rqbd()</a>, <a class="el" href="service_8c_source.html#l02737">ptlrpc_stop_all_threads()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01713">ptlrpc_service::srv_is_stopping</a>, <a class="el" href="lustre__net_8h_source.html#l01674">ptlrpc_service::srv_list</a>, and <a class="el" href="lustre__net_8h_source.html#l01678">ptlrpc_service::srv_name</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lockd_8c_source.html#l03096">ldlm_cleanup()</a>, <a class="el" href="mdt__mds_8c_source.html#l00103">mds_stop_ptlrpc_service()</a>, <a class="el" href="mgs__handler_8c_source.html#l01382">mgs_device_fini()</a>, <a class="el" href="ost__handler_8c_source.html#l00356">ost_cleanup()</a>, <a class="el" href="ost__handler_8c_source.html#l00089">ost_setup()</a>, and <a class="el" href="service_8c_source.html#l00690">ptlrpc_register_service()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b962a1b6e534a49a4848336555d1d89"></a><!-- doxytag: member="lustre_net.h::ptlrpc_update_export_timer" ref="ga3b962a1b6e534a49a4848336555d1d89" args="(struct obd_export *exp, long extra_delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpc_update_export_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td>
          <td class="paramname"> <em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>extra_delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function makes sure dead exports are evicted in a timely manner. </p>
<p>This function is only called when some export receives a message (i.e., the <a class="el" href="structnetwork.html">network</a> is up.) </p>

<p>Definition at line <a class="el" href="service_8c_source.html#l01037">1037</a> of file <a class="el" href="service_8c_source.html">service.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="linux-time_8h_source.html#l00262">CFS_TIME_T</a>, <a class="el" href="libcfs__debug_8h_source.html#l00148">D_HA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00233">obd_export::exp_last_request_time</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="lustre__export_8h_source.html#l00207">obd_export::exp_obd_chain_timed</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="obd_8h_source.html#l00644">obd_device::obd_dev_lock</a>, <a class="el" href="obd_8h_source.html#l00659">obd_device::obd_eviction_timer</a>, <a class="el" href="genops_8c_source.html#l01433">obd_export_nid2str()</a>, <a class="el" href="obd_8h_source.html#l00658">obd_device::obd_exports_timed</a>, <a class="el" href="obd_8h_source.html#l00599">obd_device::obd_name</a>, <a class="el" href="obd_8h_source.html#l00603">obd_device::obd_recovering</a>, <a class="el" href="obd__support_8h_source.html#l00129">PING_EVICT_TIMEOUT</a>, <a class="el" href="pinger_8c_source.html#l00583">ping_evictor_wake()</a>, <a class="el" href="obd__support_8h_source.html#l00121">PING_INTERVAL</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l01835">ptlrpc_server_handle_req_in()</a>, and <a class="el" href="service_8c_source.html#l01999">ptlrpc_server_handle_request()</a>.</p>

</div>
</div>
<a class="anchor" id="gac16251a340153c3059c8727b8b39d400"></a><!-- doxytag: member="lustre_net.h::ptlrpc_uuid_to_connection" ref="gac16251a340153c3059c8727b8b39d400" args="(struct obd_uuid *uuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__connection.html">ptlrpc_connection</a>* ptlrpc_uuid_to_connection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return PortalRPC connection for remore uud <em>uuid</em>. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l00086">86</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00523">ptlrpc_connection::c_remote_uuid</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00279">CNETERR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="connection_8c_source.html#l00048">ptlrpc_connection_get()</a>, <a class="el" href="events_8c_source.html#l00500">ptlrpc_uuid_to_peer()</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="ldlm__lib_8c_source.html#l00058">import_set_conn()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1907465565bda3ff642311e407d9be83"></a><!-- doxytag: member="lustre_net.h::ptlrpc_uuid_to_peer" ref="ga1907465565bda3ff642311e407d9be83" args="(struct obd_uuid *uuid, lnet_process_id_t *peer, lnet_nid_t *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpc_uuid_to_peer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__uuid.html">obd_uuid</a> *&nbsp;</td>
          <td class="paramname"> <em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlnet__process__id__t.html">lnet_process_id_t</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lnet__addr.html#ga0d47ef2c4f1002efbdd050547f80a312">lnet_nid_t</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="events_8c_source.html#l00500">500</a> of file <a class="el" href="events_8c_source.html">events.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01236">libcfs_id2str()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00110">LNET_MKNET()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00095">LNET_MKNID()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00078">LNET_PID_LUSTRE</a>, <a class="el" href="lib-move_8c_source.html#l02460">LNetDist()</a>, <a class="el" href="nidstr_8h_source.html#l00046">LOLND</a>, <a class="el" href="lustre__peer_8c_source.html#l00072">lustre_uuid_to_peer()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, <a class="el" href="mdsrate_8c_source.html#l00137">order</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00306">lnet_process_id_t::pid</a>, and <a class="el" href="lustre__user_8h_source.html#l00492">obd_uuid::uuid</a>.</p>

<p>Referenced by <a class="el" href="client_8c_source.html#l00086">ptlrpc_uuid_to_connection()</a>.</p>

</div>
</div>
<a class="anchor" id="gad8a1fd19f62cb6e52ee2b145c63f5dd1"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_add_req" ref="gad8a1fd19f62cb6e52ee2b145c63f5dd1" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpcd_add_req </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Requests that are added to the <a class="el" href="structptlrpcd.html">ptlrpcd</a> queue are sent via ptlrpcd_check-&gt;<a class="el" href="group__net.html#ga63613680c8953223c8efc4331656b11a" title="this sends any unsent RPCs in set and returns 1 if all are sent and no more replies...">ptlrpc_check_set()</a>. </p>

<p>Definition at line <a class="el" href="ptlrpcd_8c_source.html#l00268">268</a> of file <a class="el" href="ptlrpcd_8c_source.html">ptlrpcd.c</a>.</p>

<p>References <a class="el" href="lustre__lib_8h_source.html#l00154">back_to_sleep()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__import_8h_source.html#l00102">LUSTRE_IMP_REPLAY</a>, <a class="el" href="pack__generic_8c_source.html#l01496">lustre_msg_set_jobid()</a>, <a class="el" href="lustre__lib_8h_source.html#l00171">LWI_TIMEOUT</a>, <a class="el" href="lustre__net_8h_source.html#l01902">ptlrpcd_ctl::pc_index</a>, <a class="el" href="lustre__net_8h_source.html#l01890">ptlrpcd_ctl::pc_name</a>, <a class="el" href="client_8c_source.html#l01079">ptlrpc_set_add_new_req()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00171">ptlrpcd_select_pc()</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_invalid_rqset</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00717">RQ_PHASE_NEW</a>, and <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l01185">ldlm_cli_cancel_req()</a>, <a class="el" href="mdc__locks_8c_source.html#l01181">mdc_intent_getattr_async()</a>, <a class="el" href="osc__request_8c_source.html#l01518">osc_brw_redo_request()</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="osc__request_8c_source.html#l00606">osc_destroy()</a>, <a class="el" href="osc__request_8c_source.html#l02052">osc_enqueue_base()</a>, <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>, <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>, <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>, <a class="el" href="osp__trans_8c_source.html#l01104">osp_send_update_req()</a>, <a class="el" href="osp__precreate_8c_source.html#l00175">osp_statfs_update()</a>, <a class="el" href="osp__sync_8c_source.html#l00602">osp_sync_send_new_rpc()</a>, <a class="el" href="osp__trans_8c_source.html#l00714">osp_unplug_async_request()</a>, <a class="el" href="import_8c_source.html#l00648">ptlrpc_connect_import()</a>, <a class="el" href="pinger_8c_source.html#l00098">ptlrpc_ping()</a>, <a class="el" href="client_8c_source.html#l03006">ptlrpc_replay_req()</a>, <a class="el" href="client_8c_source.html#l03270">ptlrpcd_add_work_req()</a>, <a class="el" href="qsd__request_8c_source.html#l00205">qsd_intent_lock()</a>, <a class="el" href="qsd__request_8c_source.html#l00091">qsd_send_dqacq()</a>, <a class="el" href="ldlm__request_8c_source.html#l02226">replay_one_lock()</a>, and <a class="el" href="import_8c_source.html#l01368">signal_completed_replay()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8786798db7200aeedbfe4cd0a855232f"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_add_rqset" ref="ga8786798db7200aeedbfe4cd0a855232f" args="(struct ptlrpc_request_set *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpcd_add_rqset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request__set.html">ptlrpc_request_set</a> *&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move all request from an existing request set to the <a class="el" href="structptlrpcd.html">ptlrpcd</a> queue. </p>
<p>All requests from the set must be in phase RQ_PHASE_NEW. </p>

<p>Definition at line <a class="el" href="ptlrpcd_8c_source.html#l00200">200</a> of file <a class="el" href="ptlrpcd_8c_source.html">ptlrpcd.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="list_8h_source.html#l00227">list_splice_init()</a>, <a class="el" href="lustre__net_8h_source.html#l01910">ptlrpcd_ctl::pc_npartners</a>, <a class="el" href="lustre__net_8h_source.html#l01906">ptlrpcd_ctl::pc_partners</a>, <a class="el" href="lustre__net_8h_source.html#l01886">ptlrpcd_ctl::pc_set</a>, <a class="el" href="ptlrpcd_8c_source.html#l00171">ptlrpcd_select_pc()</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00717">RQ_PHASE_NEW</a>, <a class="el" href="lustre__net_8h_source.html#l00861">rq_set_chain</a>, and <a class="el" href="lustre__net_8h_source.html#l00579">ptlrpc_request_set::set_waitq</a>.</p>

</div>
</div>
<a class="anchor" id="ga2b4cdaf9bce76784e8efa1f9bda8c58b"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_addref" ref="ga2b4cdaf9bce76784e8efa1f9bda8c58b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpcd_addref </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ptlrpcd_8c_source.html#l00955">955</a> of file <a class="el" href="ptlrpcd_8c_source.html">ptlrpcd.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="ptlrpcd_8c_source.html#l00735">ptlrpcd_init()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00158">ptlrpcd_mutex</a>, <a class="el" href="ptlrpcd_8c_source.html#l00159">ptlrpcd_users</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lwp__dev_8c_source.html#l00245">lwp_init0()</a>, <a class="el" href="mdc__request_8c_source.html#l02642">mdc_setup()</a>, <a class="el" href="mgc__request_8c_source.html#l00891">mgc_setup()</a>, <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>, <a class="el" href="osp__dev_8c_source.html#l00996">osp_init0()</a>, and <a class="el" href="events_8c_source.html#l00615">ptlrpc_init_portals()</a>.</p>

</div>
</div>
<a class="anchor" id="ga56ad09ae5c5df58c7555e7299dc02108"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_alloc_work" ref="ga56ad09ae5c5df58c7555e7299dc02108" args="(struct obd_import *imp, int(*cb)(const struct lu_env *, void *), void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ptlrpcd_alloc_work </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td>
          <td class="paramname"> <em>imp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const struct <a class="el" href="structlu__env.html">lu_env</a> *, void *)&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a work for ptlrpc. </p>

<p>Definition at line <a class="el" href="client_8c_source.html#l03315">3315</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="structptlrpc__work__async__args.html#a305080bc302e39bc0c74ef07bf94dd89">ptlrpc_work_async_args::cb</a>, <a class="el" href="it__test_8c_source.html#l00081">cb()</a>, <a class="el" href="client_8c_source.html#l03267">ptlrpc_work_async_args::cbdata</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="genops_8c_source.html#l01005">class_import_get()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00106">LUSTRE_IMP_FULL</a>, <a class="el" href="packet-lustre_8c_source.html#l00359">PTL_RPC_MSG_REQUEST</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00368">ptlrpc_cli_req_init()</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l00492">ptlrpc_request_cache_alloc()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00068">req_capsule::rc_fmt</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_delay</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_no_resend</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l00955">ptlrpc_request::rq_type</a>, and <a class="el" href="client_8c_source.html#l03285">work_interpreter()</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga54a4bcf408e22400c741b530bbb8ec06"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_decref" ref="ga54a4bcf408e22400c741b530bbb8ec06" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpcd_decref </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ptlrpcd_8c_source.html#l00971">971</a> of file <a class="el" href="ptlrpcd_8c_source.html">ptlrpcd.c</a>.</p>

<p>References <a class="el" href="ptlrpcd_8c_source.html#l00701">ptlrpcd_fini()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00158">ptlrpcd_mutex</a>, and <a class="el" href="ptlrpcd_8c_source.html#l00159">ptlrpcd_users</a>.</p>

<p>Referenced by <a class="el" href="lwp__dev_8c_source.html#l00358">lwp_device_fini()</a>, <a class="el" href="lwp__dev_8c_source.html#l00245">lwp_init0()</a>, <a class="el" href="mdc__request_8c_source.html#l02720">mdc_cleanup()</a>, <a class="el" href="mdc__request_8c_source.html#l02642">mdc_setup()</a>, <a class="el" href="mgc__request_8c_source.html#l00873">mgc_cleanup()</a>, <a class="el" href="mgc__request_8c_source.html#l00891">mgc_setup()</a>, <a class="el" href="osc__request_8c_source.html#l02874">osc_cleanup()</a>, <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>, <a class="el" href="osp__dev_8c_source.html#l01319">osp_device_fini()</a>, <a class="el" href="osp__dev_8c_source.html#l00996">osp_init0()</a>, and <a class="el" href="events_8c_source.html#l00632">ptlrpc_exit_portals()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4f31480e3a6bf61fb70da03169ffef2c"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_destroy_work" ref="ga4f31480e3a6bf61fb70da03169ffef2c" args="(void *handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpcd_destroy_work </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>handler</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l03353">3353</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02843">osc_precleanup()</a>, and <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gad8ef02e8c2a1c0621b003d24cd5975c4"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_free" ref="gad8ef02e8c2a1c0621b003d24cd5975c4" args="(struct ptlrpcd_ctl *pc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpcd_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpcd__ctl.html">ptlrpcd_ctl</a> *&nbsp;</td>
          <td class="paramname"> <em>pc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ptlrpcd_8c_source.html#l00666">666</a> of file <a class="el" href="ptlrpcd_8c_source.html">ptlrpcd.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="lustre__net_8h_source.html#l01936">LIOD_FORCE</a>, <a class="el" href="lustre__net_8h_source.html#l01926">LIOD_START</a>, <a class="el" href="lustre__net_8h_source.html#l01930">LIOD_STOP</a>, <a class="el" href="lu__object_8c_source.html#l01755">lu_context_fini()</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="lustre__net_8h_source.html#l01894">ptlrpcd_ctl::pc_env</a>, <a class="el" href="lustre__net_8h_source.html#l01918">ptlrpcd_ctl::pc_error</a>, <a class="el" href="lustre__net_8h_source.html#l01882">ptlrpcd_ctl::pc_finishing</a>, <a class="el" href="lustre__net_8h_source.html#l01870">ptlrpcd_ctl::pc_flags</a>, <a class="el" href="lustre__net_8h_source.html#l01874">ptlrpcd_ctl::pc_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01910">ptlrpcd_ctl::pc_npartners</a>, <a class="el" href="lustre__net_8h_source.html#l01906">ptlrpcd_ctl::pc_partners</a>, <a class="el" href="lustre__net_8h_source.html#l01886">ptlrpcd_ctl::pc_set</a>, and <a class="el" href="client_8c_source.html#l00973">ptlrpc_set_destroy()</a>.</p>

<p>Referenced by <a class="el" href="ptlrpcd_8c_source.html#l00701">ptlrpcd_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ga796a1313cf9a7e633831e831a6f217da"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_queue_work" ref="ga796a1313cf9a7e633831e831a6f217da" args="(void *handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptlrpcd_queue_work </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>handler</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l03362">3362</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="client_8c_source.html#l03270">ptlrpcd_add_work_req()</a>, and <a class="el" href="lustre__net_8h_source.html#l01016">ptlrpc_request::rq_refcount</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00521">lru_queue_work()</a>, <a class="el" href="osc__page_8c_source.html#l01041">osc_dec_unstable_pages()</a>, <a class="el" href="osc__cache_8c_source.html#l02234">osc_io_unplug0()</a>, <a class="el" href="osc__page_8c_source.html#l00542">osc_lru_add_batch()</a>, <a class="el" href="osc__page_8c_source.html#l00583">osc_lru_del()</a>, <a class="el" href="osc__page_8c_source.html#l00808">osc_lru_reclaim()</a>, and <a class="el" href="osc__page_8c_source.html#l00936">osc_lru_reserve()</a>.</p>

</div>
</div>
<a class="anchor" id="gadf6c0a253a44e1a561d3650cafa0aeab"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_stop" ref="gadf6c0a253a44e1a561d3650cafa0aeab" args="(struct ptlrpcd_ctl *pc, int force)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpcd_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpcd__ctl.html">ptlrpcd_ctl</a> *&nbsp;</td>
          <td class="paramname"> <em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>force</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ptlrpcd_8c_source.html#l00648">648</a> of file <a class="el" href="ptlrpcd_8c_source.html">ptlrpcd.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__net_8h_source.html#l01936">LIOD_FORCE</a>, <a class="el" href="lustre__net_8h_source.html#l01926">LIOD_START</a>, <a class="el" href="lustre__net_8h_source.html#l01930">LIOD_STOP</a>, <a class="el" href="lustre__net_8h_source.html#l01870">ptlrpcd_ctl::pc_flags</a>, <a class="el" href="lustre__net_8h_source.html#l01886">ptlrpcd_ctl::pc_set</a>, and <a class="el" href="lustre__net_8h_source.html#l00579">ptlrpc_request_set::set_waitq</a>.</p>

<p>Referenced by <a class="el" href="ptlrpcd_8c_source.html#l00701">ptlrpcd_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2acfae9e6349420190608a611125bb78"></a><!-- doxytag: member="lustre_net.h::ptlrpcd_wake" ref="ga2acfae9e6349420190608a611125bb78" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptlrpcd_wake </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ptlrpcd_8c_source.html#l00161">161</a> of file <a class="el" href="ptlrpcd_8c_source.html">ptlrpcd.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

</div>
</div>
<a class="anchor" id="ga447473f788164a63797ffd70d471499a"></a><!-- doxytag: member="lustre_net.h::reply_in_callback" ref="ga447473f788164a63797ffd70d471499a" args="(lnet_event_t *ev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reply_in_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__event__t.html">lnet_event_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="events_8c_source.html#l00091">91</a> of file <a class="el" href="events_8c_source.html">events.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00635">ptlrpc_cb_id::cbid_arg</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="lustre__import_8h_source.html#l00059">D_ADAPTTO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__import_8h_source.html#l00324">obd_import::imp_last_reply_time</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00512">LNET_EVENT_PUT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00539">LNET_EVENT_UNLINK</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00459">LNET_MD_MANAGE_REMOTE</a>, <a class="el" href="pack__generic_8c_source.html#l00829">lustre_msg_get_flags()</a>, <a class="el" href="pack__generic_8c_source.html#l00805">lustre_msghdr_get_flags()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00586">lnet_event_t::md</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00575">lnet_event_t::mlength</a>, <a class="el" href="lustre__idl_8h_source.html#l01044">MSGHDR_AT_SUPPORT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00610">lnet_event_t::offset</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00426">lnet_md_t::options</a>, <a class="el" href="lustre__net_8h_source.html#l02502">ptlrpc_client_wake_req()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00567">lnet_event_t::rlength</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_early</a>, <a class="el" href="lustre__net_8h_source.html#l01100">ptlrpc_request::rq_early_count</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l01022">ptlrpc_request::rq_nob_received</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_receiving_reply</a>, <a class="el" href="lustre__net_8h_source.html#l01097">ptlrpc_request::rq_rep_swab_mask</a>, <a class="el" href="lustre__net_8h_source.html#l01080">ptlrpc_request::rq_repbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01086">ptlrpc_request::rq_repbuf_len</a>, <a class="el" href="lustre__net_8h_source.html#l01026">ptlrpc_request::rq_replen</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_replied</a>, <a class="el" href="lustre__net_8h_source.html#l01092">ptlrpc_request::rq_reply_off</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_reply_truncated</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_reply_unlinked</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_resend</a>, <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00369">lnet_md_t::start</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00596">lnet_event_t::status</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00561">lnet_event_t::type</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00603">lnet_event_t::unlinked</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00433">lnet_md_t::user_ptr</a>.</p>

<p>Referenced by <a class="el" href="events_8c_source.html#l00480">ptlrpc_master_callback()</a>, and <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>.</p>

</div>
</div>
<a class="anchor" id="gac80d5dea22a333f5aa859f2b57e84a8f"></a><!-- doxytag: member="lustre_net.h::reply_out_callback" ref="gac80d5dea22a333f5aa859f2b57e84a8f" args="(lnet_event_t *ev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reply_out_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__event__t.html">lnet_event_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="events_8c_source.html#l00390">390</a> of file <a class="el" href="events_8c_source.html">events.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00635">ptlrpc_cb_id::cbid_arg</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00519">LNET_EVENT_ACK</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00533">LNET_EVENT_SEND</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00539">LNET_EVENT_UNLINK</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00586">lnet_event_t::md</a>, <a class="el" href="obd_8h_source.html#l00648">obd_device::obd_last_committed</a>, <a class="el" href="lustre__net_8h_source.html#l02518">ptlrpc_rs_decref()</a>, <a class="el" href="service_8c_source.html#l00387">ptlrpc_schedule_difficult_reply()</a>, <a class="el" href="lustre__net_8h_source.html#l00664">ptlrpc_reply_state::rs_difficult</a>, <a class="el" href="lustre__net_8h_source.html#l00687">ptlrpc_reply_state::rs_export</a>, <a class="el" href="lustre__net_8h_source.html#l00662">ptlrpc_reply_state::rs_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00665">ptlrpc_reply_state::rs_no_ack</a>, <a class="el" href="lustre__net_8h_source.html#l00670">ptlrpc_reply_state::rs_on_net</a>, <a class="el" href="lustre__net_8h_source.html#l00688">ptlrpc_reply_state::rs_svcpt</a>, <a class="el" href="lustre__net_8h_source.html#l00684">ptlrpc_reply_state::rs_transno</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00561">lnet_event_t::type</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00603">lnet_event_t::unlinked</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00433">lnet_md_t::user_ptr</a>.</p>

<p>Referenced by <a class="el" href="pack__generic_8c_source.html#l00329">lustre_pack_reply_v2()</a>, <a class="el" href="events_8c_source.html#l00480">ptlrpc_master_callback()</a>, and <a class="el" href="niobuf_8c_source.html#l00528">ptlrpc_send_reply()</a>.</p>

</div>
</div>
<a class="anchor" id="gabc74b903a7097918d144a762599c02cb"></a><!-- doxytag: member="lustre_net.h::request_in_callback" ref="gabc74b903a7097918d144a762599c02cb" args="(lnet_event_t *ev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void request_in_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__event__t.html">lnet_event_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="events_8c_source.html#l00291">291</a> of file <a class="el" href="events_8c_source.html">events.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00635">ptlrpc_cb_id::cbid_arg</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="libcfs__debug_8h_source.html#l00149">D_RPCTRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00553">lnet_event_t::initiator</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01236">libcfs_id2str()</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00512">LNET_EVENT_PUT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00539">LNET_EVENT_UNLINK</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00565">lnet_event_t::match_bits</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00586">lnet_event_t::md</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00575">lnet_event_t::mlength</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00610">lnet_event_t::offset</a>, <a class="el" href="events_8c_source.html#l00254">ptlrpc_req_add_history()</a>, <a class="el" href="client_8c_source.html#l00492">ptlrpc_request_cache_alloc()</a>, <a class="el" href="ptlrpc__internal_8h_source.html#l00385">ptlrpc_srv_req_init()</a>, <a class="el" href="lustre__net_8h_source.html#l00962">ptlrpc_request::rq_list</a>, <a class="el" href="lustre__net_8h_source.html#l01108">ptlrpc_request::rq_peer</a>, <a class="el" href="lustre__net_8h_source.html#l01009">ptlrpc_request::rq_phase</a>, <a class="el" href="lustre__net_8h_source.html#l00717">RQ_PHASE_NEW</a>, <a class="el" href="lustre__net_8h_source.html#l01079">ptlrpc_request::rq_reqbuf</a>, <a class="el" href="lustre__net_8h_source.html#l01085">ptlrpc_request::rq_reqdata_len</a>, <a class="el" href="lustre__net_8h_source.html#l01106">ptlrpc_request::rq_self</a>, <a class="el" href="lustre__net_8h_source.html#l01036">ptlrpc_request::rq_xid</a>, <a class="el" href="lustre__net_8h_source.html#l01615">ptlrpc_request_buffer_desc::rqbd_buffer</a>, <a class="el" href="lustre__net_8h_source.html#l01613">ptlrpc_request_buffer_desc::rqbd_refcount</a>, <a class="el" href="lustre__net_8h_source.html#l01621">ptlrpc_request_buffer_desc::rqbd_req</a>, <a class="el" href="lustre__net_8h_source.html#l01610">ptlrpc_request_buffer_desc::rqbd_svcpt</a>, <a class="el" href="lustre__net_8h_source.html#l01778">ptlrpc_service_part::scp_nreqs_incoming</a>, <a class="el" href="lustre__net_8h_source.html#l01774">ptlrpc_service_part::scp_nrqbds_posted</a>, <a class="el" href="lustre__net_8h_source.html#l01784">ptlrpc_service_part::scp_req_incoming</a>, <a class="el" href="lustre__net_8h_source.html#l01791">ptlrpc_service_part::scp_waitq</a>, <a class="el" href="o2iblnd__modparams_8c_source.html#l00043">service</a>, <a class="el" href="lustre__net_8h_source.html#l01698">ptlrpc_service::srv_buf_size</a>, <a class="el" href="lustre__net_8h_source.html#l01678">ptlrpc_service::srv_name</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00369">lnet_md_t::start</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00596">lnet_event_t::status</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00551">lnet_event_t::target</a>, <a class="el" href="service_8c_source.html#l00047">test_req_buffer_pressure</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00561">lnet_event_t::type</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00603">lnet_event_t::unlinked</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00433">lnet_md_t::user_ptr</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l00073">ptlrpc_alloc_rqbd()</a>, and <a class="el" href="events_8c_source.html#l00480">ptlrpc_master_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="ga888caf60135e2eecdef05fce1b2de9b6"></a><!-- doxytag: member="lustre_net.h::request_out_callback" ref="ga888caf60135e2eecdef05fce1b2de9b6" args="(lnet_event_t *ev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void request_out_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlnet__event__t.html">lnet_event_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>These callbacks are invoked by LNet when something happened to underlying buffer. </p>

<p>Definition at line <a class="el" href="events_8c_source.html#l00051">51</a> of file <a class="el" href="events_8c_source.html">events.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l00635">ptlrpc_cb_id::cbid_arg</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00138">D_NET</a>, <a class="el" href="lustre__net_8h_source.html#l01302">DEBUG_REQ</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00533">LNET_EVENT_SEND</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00539">LNET_EVENT_UNLINK</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00586">lnet_event_t::md</a>, <a class="el" href="lustre__net_8h_source.html#l02502">ptlrpc_client_wake_req()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_net_err</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_reply_unlinked</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_req_unlinked</a>, <a class="el" href="sec_8c_source.html#l00907">sptlrpc_request_out_callback()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00596">lnet_event_t::status</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00561">lnet_event_t::type</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00603">lnet_event_t::unlinked</a>, and <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00433">lnet_md_t::user_ptr</a>.</p>

<p>Referenced by <a class="el" href="events_8c_source.html#l00480">ptlrpc_master_callback()</a>, and <a class="el" href="client_8c_source.html#l00694">ptlrpc_request_bufs_pack()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8a23b28e06b7f07c966d3e1b3eb321ba"></a><!-- doxytag: member="lustre_net.h::thread_add_flags" ref="ga8a23b28e06b7f07c966d3e1b3eb321ba" args="(struct ptlrpc_thread *thread, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void thread_add_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01582">1582</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l02378">ptlrpc_main()</a>, <a class="el" href="pinger_8c_source.html#l00565">ptlrpc_pinger_wake_up()</a>, <a class="el" href="service_8c_source.html#l02782">ptlrpc_start_thread()</a>, <a class="el" href="service_8c_source.html#l02683">ptlrpc_svcpt_stop_threads()</a>, and <a class="el" href="sec__gc_8c_source.html#l00105">sptlrpc_gc_add_ctx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga17ef66e44dcebdbce9887a789d7d49a5"></a><!-- doxytag: member="lustre_net.h::thread_clear_flags" ref="ga17ef66e44dcebdbce9887a789d7d49a5" args="(struct ptlrpc_thread *thread, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void thread_clear_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01572">1572</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l02378">ptlrpc_main()</a>, and <a class="el" href="sec__gc_8c_source.html#l00163">sec_gc_main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga576c24af9f4ee9148ea07a61188b0eae"></a><!-- doxytag: member="lustre_net.h::thread_is_event" ref="ga576c24af9f4ee9148ea07a61188b0eae" args="(struct ptlrpc_thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_is_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01562">1562</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01498">SVC_EVENT</a>, and <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="pinger_8c_source.html#l00245">ptlrpc_pinger_main()</a>.</p>

</div>
</div>
<a class="anchor" id="gaec8b465b4bb6d97b87d597afe2ba0b03"></a><!-- doxytag: member="lustre_net.h::thread_is_init" ref="gaec8b465b4bb6d97b87d597afe2ba0b03" args="(struct ptlrpc_thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_is_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01537">1537</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02455">do_osd_scrub_stop()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01613">lfsck_instance_cleanup()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05023">lfsck_layout_master_data_release()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05087">lfsck_layout_master_quit()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04406">lfsck_namespace_data_release()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04443">lfsck_namespace_quit()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02613">lfsck_quit_generic()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03213">lfsck_stop()</a>, <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>, <a class="el" href="ofd__io_8c_source.html#l00288">ofd_stop_inconsistency_verification_thread()</a>, <a class="el" href="pinger_8c_source.html#l00322">ptlrpc_start_pinger()</a>, and <a class="el" href="pinger_8c_source.html#l00363">ptlrpc_stop_pinger()</a>.</p>

</div>
</div>
<a class="anchor" id="gaffc015271d06f10519beec5a816506dc"></a><!-- doxytag: member="lustre_net.h::thread_is_running" ref="gaffc015271d06f10519beec5a816506dc" args="(struct ptlrpc_thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_is_running </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01557">1557</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01497">SVC_RUNNING</a>, and <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02377">do_osd_scrub_start()</a>, <a class="el" href="lfsck__engine_8c_source.html#l01543">lfsck_assistant_engine()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02531">lfsck_checkpoint_generic()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01857">lfsck_control_speed()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01874">lfsck_control_speed_by_self()</a>, <a class="el" href="lfsck__layout_8c_source.html#l03390">lfsck_layout_assistant_handler_p2()</a>, <a class="el" href="lfsck__layout_8c_source.html#l01222">lfsck_layout_lastid_load()</a>, <a class="el" href="lfsck__layout_8c_source.html#l02511">lfsck_layout_scan_orphan()</a>, <a class="el" href="lfsck__layout_8c_source.html#l04159">lfsck_layout_scan_stripes()</a>, <a class="el" href="lfsck__layout_8c_source.html#l04950">lfsck_layout_slave_double_scan()</a>, <a class="el" href="lfsck__layout_8c_source.html#l04504">lfsck_layout_slave_exec_oit()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05459">lfsck_layout_slave_join()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00678">lfsck_master_dir_engine()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00996">lfsck_master_engine()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00811">lfsck_master_oit_engine()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05977">lfsck_namespace_double_scan_one_trace_file()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04094">lfsck_namespace_exec_dir()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05869">lfsck_namespace_rescan_striped_dir()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l05699">lfsck_namespace_scan_local_lpf()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01545">lfsck_namespace_scan_shard()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00570">lfsck_post()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02484">lfsck_start_assistant()</a>, <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, <a class="el" href="statahead_8c_source.html#l01220">ll_deauthorize_statahead()</a>, <a class="el" href="statahead_8c_source.html#l00940">ll_start_agl()</a>, <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>, <a class="el" href="lwp__dev_8c_source.html#l00427">lwp_notify_users()</a>, <a class="el" href="ofd__io_8c_source.html#l00154">ofd_inconsistency_verification_main()</a>, <a class="el" href="ofd__io_8c_source.html#l00247">ofd_start_inconsistency_verification_thread()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">osd_consistency_check()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>, <a class="el" href="osd__scrub_8c_source.html#l01259">osd_inode_iteration()</a>, <a class="el" href="osd__scrub_8c_source.html#l02935">osd_oii_insert()</a>, <a class="el" href="osd__scrub_8c_source.html#l02779">osd_otable_it_next()</a>, <a class="el" href="osd__scrub_8c_source.html#l02765">osd_otable_it_wakeup()</a>, <a class="el" href="osd__scrub_8c_source.html#l01056">osd_preload_next()</a>, <a class="el" href="osd__scrub_8c_source.html#l03071">osd_scrub_dump()</a>, <a class="el" href="osd__scrub_8c_source.html#l01471">osd_scrub_main()</a>, <a class="el" href="osd__scrub_8c_source.html#l00989">osd_scrub_next()</a>, <a class="el" href="osd__scrub_8c_source.html#l01086">osd_scrub_wakeup()</a>, <a class="el" href="pinger_8c_source.html#l00322">ptlrpc_start_pinger()</a>, <a class="el" href="service_8c_source.html#l02782">ptlrpc_start_thread()</a>, <a class="el" href="qmt__lock_8c_source.html#l00710">qmt_reba_thread()</a>, <a class="el" href="qmt__lock_8c_source.html#l00766">qmt_start_reba_thread()</a>, <a class="el" href="qsd__reint_8c_source.html#l00407">qsd_reint_main()</a>, <a class="el" href="qsd__reint_8c_source.html#l00624">qsd_start_reint_thread()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00493">qsd_start_upd_thread()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00410">qsd_upd_thread()</a>, <a class="el" href="sec__gc_8c_source.html#l00220">sptlrpc_gc_init()</a>, and <a class="el" href="statahead_8c_source.html#l01534">start_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2cce4149adf853d96f7b49bb3c4109ff"></a><!-- doxytag: member="lustre_net.h::thread_is_signal" ref="ga2cce4149adf853d96f7b49bb3c4109ff" args="(struct ptlrpc_thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_is_signal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01567">1567</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01499">SVC_SIGNAL</a>, and <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="sec__gc_8c_source.html#l00163">sec_gc_main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga31c68adf3489642e7bf76bb5b4abfbdd"></a><!-- doxytag: member="lustre_net.h::thread_is_starting" ref="ga31c68adf3489642e7bf76bb5b4abfbdd" args="(struct ptlrpc_thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_is_starting </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01552">1552</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01496">SVC_STARTING</a>, and <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l02378">ptlrpc_main()</a>.</p>

</div>
</div>
<a class="anchor" id="gac107250eb869d663ca69b6d55e82f88a"></a><!-- doxytag: member="lustre_net.h::thread_is_stopped" ref="gac107250eb869d663ca69b6d55e82f88a" args="(struct ptlrpc_thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_is_stopped </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01542">1542</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01494">SVC_STOPPED</a>, and <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02377">do_osd_scrub_start()</a>, <a class="el" href="osd__scrub_8c_source.html#l02455">do_osd_scrub_stop()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02531">lfsck_checkpoint_generic()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02580">lfsck_double_scan_generic()</a>, <a class="el" href="lfsck__lib_8c_source.html#l01613">lfsck_instance_cleanup()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05023">lfsck_layout_master_data_release()</a>, <a class="el" href="lfsck__layout_8c_source.html#l04912">lfsck_layout_master_double_scan()</a>, <a class="el" href="lfsck__layout_8c_source.html#l05087">lfsck_layout_master_quit()</a>, <a class="el" href="lfsck__layout_8c_source.html#l04159">lfsck_layout_scan_stripes()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04406">lfsck_namespace_data_release()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04380">lfsck_namespace_double_scan()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04094">lfsck_namespace_exec_dir()</a>, <a class="el" href="lfsck__namespace_8c_source.html#l04443">lfsck_namespace_quit()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02551">lfsck_post_generic()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02613">lfsck_quit_generic()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02484">lfsck_start_assistant()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03213">lfsck_stop()</a>, <a class="el" href="statahead_8c_source.html#l00468">ll_sai_put()</a>, <a class="el" href="statahead_8c_source.html#l00940">ll_start_agl()</a>, <a class="el" href="statahead_8c_source.html#l00653">ll_statahead_interpret()</a>, <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>, <a class="el" href="lwp__dev_8c_source.html#l00358">lwp_device_fini()</a>, <a class="el" href="lwp__dev_8c_source.html#l00427">lwp_notify_users()</a>, <a class="el" href="ofd__io_8c_source.html#l00247">ofd_start_inconsistency_verification_thread()</a>, <a class="el" href="ofd__io_8c_source.html#l00288">ofd_stop_inconsistency_verification_thread()</a>, <a class="el" href="pinger_8c_source.html#l00322">ptlrpc_start_pinger()</a>, <a class="el" href="service_8c_source.html#l02782">ptlrpc_start_thread()</a>, <a class="el" href="pinger_8c_source.html#l00363">ptlrpc_stop_pinger()</a>, <a class="el" href="service_8c_source.html#l02683">ptlrpc_svcpt_stop_threads()</a>, <a class="el" href="qmt__lock_8c_source.html#l00766">qmt_start_reba_thread()</a>, <a class="el" href="qmt__lock_8c_source.html#l00792">qmt_stop_reba_thread()</a>, <a class="el" href="qsd__reint_8c_source.html#l00624">qsd_start_reint_thread()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00493">qsd_start_upd_thread()</a>, <a class="el" href="qsd__reint_8c_source.html#l00544">qsd_stop_reint_thread()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00563">qsd_stop_upd_thread()</a>, <a class="el" href="sec__gc_8c_source.html#l00247">sptlrpc_gc_fini()</a>, and <a class="el" href="statahead_8c_source.html#l01534">start_statahead_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="gab9dc73a42ff1dc50fe192daad32492bf"></a><!-- doxytag: member="lustre_net.h::thread_is_stopping" ref="gab9dc73a42ff1dc50fe192daad32492bf" args="(struct ptlrpc_thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_is_stopping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01547">1547</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01495">SVC_STOPPING</a>, and <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02377">do_osd_scrub_start()</a>, <a class="el" href="pinger_8c_source.html#l00245">ptlrpc_pinger_main()</a>, <a class="el" href="service_8c_source.html#l02782">ptlrpc_start_thread()</a>, <a class="el" href="service_8c_source.html#l02315">ptlrpc_thread_stopping()</a>, and <a class="el" href="sec__gc_8c_source.html#l00163">sec_gc_main()</a>.</p>

</div>
</div>
<a class="anchor" id="gac9155681f0a7c308f32b1ad731fbfbab"></a><!-- doxytag: member="lustre_net.h::thread_set_flags" ref="gac9155681f0a7c308f32b1ad731fbfbab" args="(struct ptlrpc_thread *thread, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void thread_set_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01577">1577</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l02377">do_osd_scrub_start()</a>, <a class="el" href="osd__scrub_8c_source.html#l02455">do_osd_scrub_stop()</a>, <a class="el" href="lfsck__engine_8c_source.html#l01543">lfsck_assistant_engine()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00678">lfsck_master_dir_engine()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00996">lfsck_master_engine()</a>, <a class="el" href="lfsck__engine_8c_source.html#l00811">lfsck_master_oit_engine()</a>, <a class="el" href="lfsck__striped__dir_8c_source.html#l01545">lfsck_namespace_scan_shard()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02937">lfsck_start()</a>, <a class="el" href="lfsck__lib_8c_source.html#l02484">lfsck_start_assistant()</a>, <a class="el" href="lfsck__lib_8c_source.html#l03213">lfsck_stop()</a>, <a class="el" href="statahead_8c_source.html#l00868">ll_agl_thread()</a>, <a class="el" href="statahead_8c_source.html#l01220">ll_deauthorize_statahead()</a>, <a class="el" href="statahead_8c_source.html#l00940">ll_start_agl()</a>, <a class="el" href="statahead_8c_source.html#l00967">ll_statahead_thread()</a>, <a class="el" href="lwp__dev_8c_source.html#l00402">lwp_notify_main()</a>, <a class="el" href="lwp__dev_8c_source.html#l00427">lwp_notify_users()</a>, <a class="el" href="lwp__dev_8c_source.html#l00078">lwp_setup()</a>, <a class="el" href="ofd__io_8c_source.html#l00154">ofd_inconsistency_verification_main()</a>, <a class="el" href="ofd__io_8c_source.html#l00247">ofd_start_inconsistency_verification_thread()</a>, <a class="el" href="ofd__io_8c_source.html#l00288">ofd_stop_inconsistency_verification_thread()</a>, <a class="el" href="osd__scrub_8c_source.html#l01471">osd_scrub_main()</a>, <a class="el" href="osd__scrub_8c_source.html#l00989">osd_scrub_next()</a>, <a class="el" href="osd__scrub_8c_source.html#l00751">osd_scrub_post()</a>, <a class="el" href="osd__scrub_8c_source.html#l00649">osd_scrub_prep()</a>, <a class="el" href="pinger_8c_source.html#l00245">ptlrpc_pinger_main()</a>, <a class="el" href="pinger_8c_source.html#l00363">ptlrpc_stop_pinger()</a>, <a class="el" href="qmt__dev_8c_source.html#l00199">qmt_device_init0()</a>, <a class="el" href="qmt__lock_8c_source.html#l00710">qmt_reba_thread()</a>, <a class="el" href="qmt__lock_8c_source.html#l00766">qmt_start_reba_thread()</a>, <a class="el" href="qmt__lock_8c_source.html#l00792">qmt_stop_reba_thread()</a>, <a class="el" href="qsd__lib_8c_source.html#l00557">qsd_init()</a>, <a class="el" href="qsd__lib_8c_source.html#l00360">qsd_qtype_init()</a>, <a class="el" href="qsd__reint_8c_source.html#l00407">qsd_reint_main()</a>, <a class="el" href="qsd__reint_8c_source.html#l00624">qsd_start_reint_thread()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00493">qsd_start_upd_thread()</a>, <a class="el" href="qsd__reint_8c_source.html#l00544">qsd_stop_reint_thread()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00563">qsd_stop_upd_thread()</a>, <a class="el" href="qsd__writeback_8c_source.html#l00410">qsd_upd_thread()</a>, <a class="el" href="sec__gc_8c_source.html#l00163">sec_gc_main()</a>, and <a class="el" href="sec__gc_8c_source.html#l00247">sptlrpc_gc_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6680441202a3c1ee5af2af17249953ca"></a><!-- doxytag: member="lustre_net.h::thread_test_and_clear_flags" ref="ga6680441202a3c1ee5af2af17249953ca" args="(struct ptlrpc_thread *thread, __u32 flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_test_and_clear_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__thread.html">ptlrpc_thread</a> *&nbsp;</td>
          <td class="paramname"> <em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lustre__net_8h_source.html#l01587">1587</a> of file <a class="el" href="lustre__net_8h_source.html">lustre_net.h</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01515">ptlrpc_thread::t_flags</a>.</p>

<p>Referenced by <a class="el" href="service_8c_source.html#l02378">ptlrpc_main()</a>, <a class="el" href="pinger_8c_source.html#l00245">ptlrpc_pinger_main()</a>, and <a class="el" href="sec__gc_8c_source.html#l00163">sec_gc_main()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ga1ec29710aa0674b084aad4f32e96d428"></a><!-- doxytag: member="lustre_net.h::llog_client_ops" ref="ga1ec29710aa0674b084aad4f32e96d428" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structllog__operations.html">llog_operations</a> <a class="el" href="group__net.html#ga1ec29710aa0674b084aad4f32e96d428">llog_client_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="llog__client_8c_source.html#l00355">355</a> of file <a class="el" href="llog__client_8c_source.html">llog_client.c</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l02609">mdc_llog_init()</a>, and <a class="el" href="mgc__request_8c_source.html#l00804">mgc_llog_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga687589e95f98270c665ebde62a874d03"></a><!-- doxytag: member="lustre_net.h::ptlrpc_bulk_kiov_nopin_ops" ref="ga687589e95f98270c665ebde62a874d03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__bulk__frag__ops.html">ptlrpc_bulk_frag_ops</a> <a class="el" href="group__net.html#ga687589e95f98270c665ebde62a874d03">ptlrpc_bulk_kiov_nopin_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l00056">56</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>Referenced by <a class="el" href="tgt__handler_8c_source.html#l01837">tgt_brw_read()</a>, and <a class="el" href="tgt__handler_8c_source.html#l02073">tgt_brw_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1194825a0870adce9de4d05b19500152"></a><!-- doxytag: member="lustre_net.h::ptlrpc_bulk_kiov_pin_ops" ref="ga1194825a0870adce9de4d05b19500152" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__bulk__frag__ops.html">ptlrpc_bulk_frag_ops</a> <a class="el" href="group__net.html#ga1194825a0870adce9de4d05b19500152">ptlrpc_bulk_kiov_pin_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l00050">50</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>Referenced by <a class="el" href="mdc__request_8c_source.html#l00874">mdc_getpage()</a>, <a class="el" href="mgc__request_8c_source.html#l01537">mgc_process_recover_log()</a>, <a class="el" href="mgs__nids_8c_source.html#l00598">mgs_get_ir_logs()</a>, <a class="el" href="osc__request_8c_source.html#l01120">osc_brw_prep_request()</a>, <a class="el" href="osp__object_8c_source.html#l01695">osp_it_fetch()</a>, <a class="el" href="qsd__request_8c_source.html#l00351">qsd_fetch_index()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01141">tgt_sendpage()</a>.</p>

</div>
</div>
<a class="anchor" id="ga72925c5dcb81674f2d733fc975dc4748"></a><!-- doxytag: member="lustre_net.h::ptlrpc_bulk_kvec_ops" ref="ga72925c5dcb81674f2d733fc975dc4748" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__bulk__frag__ops.html">ptlrpc_bulk_frag_ops</a> <a class="el" href="group__net.html#ga72925c5dcb81674f2d733fc975dc4748">ptlrpc_bulk_kvec_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="client_8c_source.html#l00062">62</a> of file <a class="el" href="client_8c_source.html">client.c</a>.</p>

<p>Referenced by <a class="el" href="osp__md__object_8c_source.html#l01126">osp_md_read()</a>, <a class="el" href="osp__trans_8c_source.html#l00314">osp_prep_update_req()</a>, <a class="el" href="out__handler_8c_source.html#l00894">out_handle()</a>, and <a class="el" href="tgt__handler_8c_source.html#l01112">tgt_send_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="ga43d00a48fde2ab8cfdaf5417683e63c9"></a><!-- doxytag: member="lustre_net.h::ptlrpc_eq_h" ref="ga43d00a48fde2ab8cfdaf5417683e63c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlnet__handle__any__t.html">lnet_handle_eq_t</a> <a class="el" href="group__net.html#ga43d00a48fde2ab8cfdaf5417683e63c9">ptlrpc_eq_h</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="events_8c_source.html#l00046">46</a> of file <a class="el" href="events_8c_source.html">events.c</a>.</p>

<p>Referenced by <a class="el" href="niobuf_8c_source.html#l00050">ptl_send_buf()</a>, <a class="el" href="niobuf_8c_source.html#l00660">ptl_send_rpc()</a>, <a class="el" href="niobuf_8c_source.html#l00301">ptlrpc_register_bulk()</a>, and <a class="el" href="niobuf_8c_source.html#l00900">ptlrpc_register_rqbd()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:52 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
