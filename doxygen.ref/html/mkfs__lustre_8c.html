<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/utils/mkfs_lustre.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/utils/mkfs_lustre.c File Reference</h1><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;mntent.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/mount.h&gt;</code><br/>
<code>#include &lt;sys/utsname.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br/>
<code>#include &lt;getopt.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="nidstr_8h_source.html">lnet/nidstr.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__disk_8h_source.html">lustre_disk.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__param_8h_source.html">lustre_param.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lnetctl_8h_source.html">lnet/lnetctl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__ver_8h_source.html">lustre_ver.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="mount__utils_8h_source.html">mount_utils.h</a>&quot;</code><br/>

<p><a href="mkfs__lustre_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a8b390baad1cb5be4842029b88acbf28e">FSLIST_LDISKFS</a>&nbsp;&nbsp;&nbsp;&quot;&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a3abaacdf4f600fde4231d4d699632679">FSLIST_ZFS</a>&nbsp;&nbsp;&nbsp;&quot;&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a1e411daa563ed72dbf71003e9016cee4">FSLIST</a>&nbsp;&nbsp;&nbsp;FSLIST_LDISKFS FSLIST_ZFS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#aa0790592871cbdd879ba6ab27edd1dac">MAXNIDSTR</a>&nbsp;&nbsp;&nbsp;1024</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#aa1a55ef30662df80a5a728f98aeaed14">usage</a> (FILE *out)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a69093b5a526391e76b77fb9554f9d463">print_ldd</a> (char *str, struct <a class="el" href="structlustre__disk__data.html">lustre_disk_data</a> *ldd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a3fd230ffb3b7a578f9d89194972a1aa8">set_defaults</a> (struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *mop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a6be4573d67165fbe85c0543c1a172902">badopt</a> (const char *<a class="el" href="lhsmtool__posix_8c.html#acccb472724f310e3c072ccc533af3b80">opt</a>, char *type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a57c970529c92d56b8ff805e2eae27539">convert_hostnames</a> (char *s1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a4de392f82e1e6c09dcfd84e6316df31e">parse_opts</a> (int argc, char *const argv[], struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *mop, char **mountopts)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#af3ed9c200de85b53c94cd18764b246a2">main</a> (int argc, char *const argv[])</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#aad880fc4455c253781e8968f2239d56f">version</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkfs__lustre_8c.html#a8b6ef70ecc8817b7e6c6c918deae6a90">print_only</a> = 0</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a1e411daa563ed72dbf71003e9016cee4"></a><!-- doxytag: member="mkfs_lustre.c::FSLIST" ref="a1e411daa563ed72dbf71003e9016cee4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSLIST&nbsp;&nbsp;&nbsp;FSLIST_LDISKFS FSLIST_ZFS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00101">101</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>Referenced by <a class="el" href="mkfs__lustre_8c_source.html#l00103">usage()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b390baad1cb5be4842029b88acbf28e"></a><!-- doxytag: member="mkfs_lustre.c::FSLIST_LDISKFS" ref="a8b390baad1cb5be4842029b88acbf28e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSLIST_LDISKFS&nbsp;&nbsp;&nbsp;&quot;&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00084">84</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3abaacdf4f600fde4231d4d699632679"></a><!-- doxytag: member="mkfs_lustre.c::FSLIST_ZFS" ref="a3abaacdf4f600fde4231d4d699632679" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSLIST_ZFS&nbsp;&nbsp;&nbsp;&quot;&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00094">94</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa0790592871cbdd879ba6ab27edd1dac"></a><!-- doxytag: member="mkfs_lustre.c::MAXNIDSTR" ref="aa0790592871cbdd879ba6ab27edd1dac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXNIDSTR&nbsp;&nbsp;&nbsp;1024</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00232">232</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>Referenced by <a class="el" href="mkfs__lustre_8c_source.html#l00233">convert_hostnames()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6be4573d67165fbe85c0543c1a172902"></a><!-- doxytag: member="mkfs_lustre.c::badopt" ref="a6be4573d67165fbe85c0543c1a172902" args="(const char *opt, char *type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void badopt </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00223">223</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>References <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, and <a class="el" href="mmap__cat_8c_source.html#l00045">usage</a>.</p>

<p>Referenced by <a class="el" href="mkfs__lustre_8c_source.html#l00601">main()</a>, and <a class="el" href="mkfs__lustre_8c_source.html#l00278">parse_opts()</a>.</p>

</div>
</div>
<a class="anchor" id="a57c970529c92d56b8ff805e2eae27539"></a><!-- doxytag: member="mkfs_lustre.c::convert_hostnames" ref="a57c970529c92d56b8ff805e2eae27539" args="(char *s1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* convert_hostnames </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s1</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00233">233</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>References <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="nidstr_8h_source.html#l00077">libcfs_nid2str()</a>, <a class="el" href="lnet_2lnet_2nidstrings_8c_source.html#l01210">libcfs_str2nid()</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00072">LNET_NID_ANY</a>, <a class="el" href="mkfs__lustre_8c_source.html#l00232">MAXNIDSTR</a>, and <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>.</p>

<p>Referenced by <a class="el" href="mkfs__lustre_8c_source.html#l00278">parse_opts()</a>.</p>

</div>
</div>
<a class="anchor" id="af3ed9c200de85b53c94cd18764b246a2"></a><!-- doxytag: member="mkfs_lustre.c::main" ref="af3ed9c200de85b53c94cd18764b246a2" args="(int argc, char *const argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *const &nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00601">601</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>References <a class="el" href="mkfs__lustre_8c_source.html#l00223">badopt()</a>, <a class="el" href="mount__utils_8c_source.html#l00350">check_mountfsoptions()</a>, <a class="el" href="mount__utils_8c_source.html#l00208">check_mtab_entry()</a>, <a class="el" href="mdsrate_8c_source.html#l00208">fatal()</a>, <a class="el" href="mount__utils_8h_source.html#l00079">INDEX_UNASSIGNED</a>, <a class="el" href="lustre__disk_8h_source.html#l00185">IS_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00187">IS_MGS</a>, <a class="el" href="lustre__disk_8h_source.html#l00186">IS_OST</a>, <a class="el" href="lustre__disk_8h_source.html#l00088">LDD_F_NEED_INDEX</a>, <a class="el" href="lustre__disk_8h_source.html#l00098">LDD_F_UPGRADE14</a>, <a class="el" href="lustre__disk_8h_source.html#l00090">LDD_F_VIRGIN</a>, <a class="el" href="lustre__disk_8h_source.html#l00096">LDD_F_WRITECONF</a>, <a class="el" href="lustre__disk_8h_source.html#l00169">lustre_disk_data::ldd_flags</a>, <a class="el" href="lustre__disk_8h_source.html#l00173">lustre_disk_data::ldd_fsname</a>, <a class="el" href="lustre__disk_8h_source.html#l00180">lustre_disk_data::ldd_mount_opts</a>, <a class="el" href="lustre__disk_8h_source.html#l00172">lustre_disk_data::ldd_mount_type</a>, <a class="el" href="lustre__disk_8h_source.html#l00181">lustre_disk_data::ldd_params</a>, <a class="el" href="lustre__disk_8h_source.html#l00170">lustre_disk_data::ldd_svindex</a>, <a class="el" href="lustre__disk_8h_source.html#l00175">lustre_disk_data::ldd_svname</a>, <a class="el" href="mount__utils_8c_source.html#l00465">loop_cleanup()</a>, <a class="el" href="mount__utils_8c_source.html#l00488">loop_format()</a>, <a class="el" href="mount__utils_8c_source.html#l00395">loop_setup()</a>, <a class="el" href="mount__utils_8h_source.html#l00084">mkfs_opts::mo_device</a>, <a class="el" href="mount__utils_8h_source.html#l00091">mkfs_opts::mo_flags</a>, <a class="el" href="mount__utils_8h_source.html#l00073">MO_FORCEFORMAT</a>, <a class="el" href="mount__utils_8h_source.html#l00072">MO_IS_LOOP</a>, <a class="el" href="mount__utils_8h_source.html#l00097">mount_opts::mo_ldd</a>, <a class="el" href="mount__utils_8h_source.html#l00083">mkfs_opts::mo_ldd</a>, <a class="el" href="mount__utils_8h_source.html#l00092">mkfs_opts::mo_mgs_failnodes</a>, <a class="el" href="mount__utils_8h_source.html#l00076">MO_QUOTA</a>, <a class="el" href="mount__utils_8h_source.html#l00100">mount_opts::mo_source</a>, <a class="el" href="mount__utils_8c_source.html#l00751">osd_enable_quota()</a>, <a class="el" href="mount__utils_8c_source.html#l00784">osd_fini()</a>, <a class="el" href="mount__utils_8c_source.html#l00710">osd_fix_mountopts()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06748">osd_init()</a>, <a class="el" href="mount__utils_8c_source.html#l00663">osd_is_lustre()</a>, <a class="el" href="mount__utils_8c_source.html#l00737">osd_label_lustre()</a>, <a class="el" href="mount__utils_8c_source.html#l00682">osd_make_lustre()</a>, <a class="el" href="mount__utils_8c_source.html#l00695">osd_prepare_lustre()</a>, <a class="el" href="mount__utils_8c_source.html#l00650">osd_read_ldd()</a>, <a class="el" href="mount__utils_8c_source.html#l00636">osd_write_ldd()</a>, <a class="el" href="lustre__param_8h_source.html#l00098">PARAM_MGSNODE</a>, <a class="el" href="mkfs__lustre_8c_source.html#l00278">parse_opts()</a>, <a class="el" href="mkfs__lustre_8c_source.html#l00177">print_ldd()</a>, <a class="el" href="mkfs__lustre_8c_source.html#l00078">print_only</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>, <a class="el" href="lustre__disk_8h_source.html#l00193">server_make_name()</a>, <a class="el" href="mkfs__lustre_8c_source.html#l00207">set_defaults()</a>, <a class="el" href="mount__utils_8c_source.html#l00202">strscpy()</a>, <a class="el" href="mount__utils_8c_source.html#l00374">trim_mountfsoptions()</a>, <a class="el" href="mmap__cat_8c_source.html#l00045">usage</a>, <a class="el" href="lp__utils_8c_source.html#l00057">verbose</a>, <a class="el" href="mount__utils_8c_source.html#l00063">verrprint</a>, and <a class="el" href="packet-lnet_8c_source.html#l00255">version</a>.</p>

</div>
</div>
<a class="anchor" id="a4de392f82e1e6c09dcfd84e6316df31e"></a><!-- doxytag: member="mkfs_lustre.c::parse_opts" ref="a4de392f82e1e6c09dcfd84e6316df31e" args="(int argc, char *const argv[], struct mkfs_opts *mop, char **mountopts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_opts </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *const &nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>mountopts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00278">278</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>References <a class="el" href="mgs__llog_8c_source.html#l01519">add_param()</a>, <a class="el" href="mount__utils_8c_source.html#l00154">append_param()</a>, <a class="el" href="mkfs__lustre_8c_source.html#l00223">badopt()</a>, <a class="el" href="mkfs__lustre_8c_source.html#l00233">convert_hostnames()</a>, <a class="el" href="mdsrate_8c_source.html#l00208">fatal()</a>, <a class="el" href="mount__utils_8h_source.html#l00079">INDEX_UNASSIGNED</a>, <a class="el" href="lustre__disk_8h_source.html#l00185">IS_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00186">IS_OST</a>, <a class="el" href="lustre__disk_8h_source.html#l00088">LDD_F_NEED_INDEX</a>, <a class="el" href="lustre__disk_8h_source.html#l00102">LDD_F_NO_PRIMNODE</a>, <a class="el" href="lustre__disk_8h_source.html#l00080">LDD_F_SV_TYPE_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00082">LDD_F_SV_TYPE_MGS</a>, <a class="el" href="lustre__disk_8h_source.html#l00081">LDD_F_SV_TYPE_OST</a>, <a class="el" href="lustre__disk_8h_source.html#l00092">LDD_F_UPDATE</a>, <a class="el" href="lustre__disk_8h_source.html#l00098">LDD_F_UPGRADE14</a>, <a class="el" href="lustre__disk_8h_source.html#l00090">LDD_F_VIRGIN</a>, <a class="el" href="lustre__disk_8h_source.html#l00096">LDD_F_WRITECONF</a>, <a class="el" href="lustre__disk_8h_source.html#l00169">lustre_disk_data::ldd_flags</a>, <a class="el" href="lustre__disk_8h_source.html#l00173">lustre_disk_data::ldd_fsname</a>, <a class="el" href="lustre__disk_8h_source.html#l00172">lustre_disk_data::ldd_mount_type</a>, <a class="el" href="lustre__disk_8h_source.html#l00127">LDD_MT_LAST</a>, <a class="el" href="lustre__disk_8h_source.html#l00181">lustre_disk_data::ldd_params</a>, <a class="el" href="lustre__disk_8h_source.html#l00170">lustre_disk_data::ldd_svindex</a>, <a class="el" href="lustre__disk_8h_source.html#l00178">lustre_disk_data::ldd_userdata</a>, <a class="el" href="lustre__param_8h_source.html#l00176">lustre_is_fsname_valid()</a>, <a class="el" href="lustre__param_8h_source.html#l00126">LUSTRE_MAXFSNAME</a>, <a class="el" href="mount__utils_8h_source.html#l00084">mkfs_opts::mo_device</a>, <a class="el" href="mount__utils_8h_source.html#l00089">mkfs_opts::mo_device_kb</a>, <a class="el" href="mount__utils_8h_source.html#l00074">MO_FAILOVER</a>, <a class="el" href="mount__utils_8h_source.html#l00091">mkfs_opts::mo_flags</a>, <a class="el" href="mount__utils_8h_source.html#l00073">MO_FORCEFORMAT</a>, <a class="el" href="mount__utils_8h_source.html#l00083">mkfs_opts::mo_ldd</a>, <a class="el" href="mount__utils_8h_source.html#l00092">mkfs_opts::mo_mgs_failnodes</a>, <a class="el" href="mount__utils_8h_source.html#l00087">mkfs_opts::mo_mkfsopts</a>, <a class="el" href="mount__utils_8h_source.html#l00088">mkfs_opts::mo_mountopts</a>, <a class="el" href="mount__utils_8h_source.html#l00085">mkfs_opts::mo_pool_vdevs</a>, <a class="el" href="mount__utils_8h_source.html#l00076">MO_QUOTA</a>, <a class="el" href="mount__utils_8h_source.html#l00090">mkfs_opts::mo_stripe_count</a>, <a class="el" href="lustre__disk_8h_source.html#l00130">mt_str()</a>, <a class="el" href="mdt__coordinator_8c_source.html#l01693">name</a>, <a class="el" href="lhsmtool__posix_8c_source.html#l00105">opt</a>, <a class="el" href="rename__many_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>, <a class="el" href="rename__many_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a>, <a class="el" href="lustre__param_8h_source.html#l00099">PARAM_FAILNODE</a>, <a class="el" href="lustre__param_8h_source.html#l00098">PARAM_MGSNODE</a>, <a class="el" href="lustre__param_8h_source.html#l00102">PARAM_NETWORK</a>, <a class="el" href="mkfs__lustre_8c_source.html#l00078">print_only</a>, <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>, <a class="el" href="mount__utils_8c_source.html#l00202">strscpy()</a>, <a class="el" href="mmap__cat_8c_source.html#l00045">usage</a>, <a class="el" href="lp__utils_8c_source.html#l00057">verbose</a>, and <a class="el" href="packet-lnet_8c_source.html#l00255">version</a>.</p>

<p>Referenced by <a class="el" href="mkfs__lustre_8c_source.html#l00601">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a69093b5a526391e76b77fb9554f9d463"></a><!-- doxytag: member="mkfs_lustre.c::print_ldd" ref="a69093b5a526391e76b77fb9554f9d463" args="(char *str, struct lustre_disk_data *ldd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_ldd </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__disk__data.html">lustre_disk_data</a> *&nbsp;</td>
          <td class="paramname"> <em>ldd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00177">177</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>References <a class="el" href="mount__utils_8h_source.html#l00079">INDEX_UNASSIGNED</a>, <a class="el" href="lustre__disk_8h_source.html#l00185">IS_MDT</a>, <a class="el" href="lustre__disk_8h_source.html#l00187">IS_MGS</a>, <a class="el" href="lustre__disk_8h_source.html#l00186">IS_OST</a>, <a class="el" href="lustre__disk_8h_source.html#l00088">LDD_F_NEED_INDEX</a>, <a class="el" href="lustre__disk_8h_source.html#l00102">LDD_F_NO_PRIMNODE</a>, <a class="el" href="lustre__disk_8h_source.html#l00092">LDD_F_UPDATE</a>, <a class="el" href="lustre__disk_8h_source.html#l00098">LDD_F_UPGRADE14</a>, <a class="el" href="lustre__disk_8h_source.html#l00090">LDD_F_VIRGIN</a>, <a class="el" href="lustre__disk_8h_source.html#l00096">LDD_F_WRITECONF</a>, <a class="el" href="lustre__disk_8h_source.html#l00169">lustre_disk_data::ldd_flags</a>, <a class="el" href="lustre__disk_8h_source.html#l00173">lustre_disk_data::ldd_fsname</a>, <a class="el" href="lustre__disk_8h_source.html#l00180">lustre_disk_data::ldd_mount_opts</a>, <a class="el" href="lustre__disk_8h_source.html#l00181">lustre_disk_data::ldd_params</a>, <a class="el" href="lustre__disk_8h_source.html#l00170">lustre_disk_data::ldd_svindex</a>, <a class="el" href="lustre__disk_8h_source.html#l00175">lustre_disk_data::ldd_svname</a>, <a class="el" href="lustre__disk_8h_source.html#l00178">lustre_disk_data::ldd_userdata</a>, <a class="el" href="lustre__disk_8h_source.html#l00176">lustre_disk_data::ldd_uuid</a>, and <a class="el" href="lustre__disk_8h_source.html#l00190">MT_STR</a>.</p>

<p>Referenced by <a class="el" href="mkfs__lustre_8c_source.html#l00601">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a3fd230ffb3b7a578f9d89194972a1aa8"></a><!-- doxytag: member="mkfs_lustre.c::set_defaults" ref="a3fd230ffb3b7a578f9d89194972a1aa8" args="(struct mkfs_opts *mop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_defaults </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmkfs__opts.html">mkfs_opts</a> *&nbsp;</td>
          <td class="paramname"> <em>mop</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00207">207</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>References <a class="el" href="mount__utils_8h_source.html#l00079">INDEX_UNASSIGNED</a>, <a class="el" href="lustre__disk_8h_source.html#l00168">lustre_disk_data::ldd_config_ver</a>, <a class="el" href="lustre__disk_8h_source.html#l00088">LDD_F_NEED_INDEX</a>, <a class="el" href="lustre__disk_8h_source.html#l00092">LDD_F_UPDATE</a>, <a class="el" href="lustre__disk_8h_source.html#l00090">LDD_F_VIRGIN</a>, <a class="el" href="lustre__disk_8h_source.html#l00169">lustre_disk_data::ldd_flags</a>, <a class="el" href="lustre__disk_8h_source.html#l00159">LDD_MAGIC</a>, <a class="el" href="lustre__disk_8h_source.html#l00163">lustre_disk_data::ldd_magic</a>, <a class="el" href="lustre__disk_8h_source.html#l00172">lustre_disk_data::ldd_mount_type</a>, <a class="el" href="lustre__disk_8h_source.html#l00122">LDD_MT_LDISKFS</a>, <a class="el" href="lustre__disk_8h_source.html#l00126">LDD_MT_ZFS</a>, <a class="el" href="lustre__disk_8h_source.html#l00170">lustre_disk_data::ldd_svindex</a>, <a class="el" href="mount__utils_8h_source.html#l00083">mkfs_opts::mo_ldd</a>, <a class="el" href="mount__utils_8h_source.html#l00092">mkfs_opts::mo_mgs_failnodes</a>, <a class="el" href="mount__utils_8h_source.html#l00085">mkfs_opts::mo_pool_vdevs</a>, and <a class="el" href="mount__utils_8h_source.html#l00090">mkfs_opts::mo_stripe_count</a>.</p>

<p>Referenced by <a class="el" href="mkfs__lustre_8c_source.html#l00601">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1a55ef30662df80a5a728f98aeaed14"></a><!-- doxytag: member="mkfs_lustre.c::usage" ref="aa1a55ef30662df80a5a728f98aeaed14" args="(FILE *out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usage </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>out</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00103">103</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>References <a class="el" href="mkfs__lustre_8c_source.html#l00101">FSLIST</a>, and <a class="el" href="l__getidentity_8c_source.html#l00075">progname</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a8b6ef70ecc8817b7e6c6c918deae6a90"></a><!-- doxytag: member="mkfs_lustre.c::print_only" ref="a8b6ef70ecc8817b7e6c6c918deae6a90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="mkfs__lustre_8c.html#a8b6ef70ecc8817b7e6c6c918deae6a90">print_only</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00078">78</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

<p>Referenced by <a class="el" href="mkfs__lustre_8c_source.html#l00601">main()</a>, and <a class="el" href="mkfs__lustre_8c_source.html#l00278">parse_opts()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9e1449fd00c98428516f0b41eddcb10"></a><!-- doxytag: member="mkfs_lustre.c::progname" ref="ab9e1449fd00c98428516f0b41eddcb10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="mount__utils__ldiskfs_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00075">75</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0b2caeb4b6f130be43e5a2f0267dd453"></a><!-- doxytag: member="mkfs_lustre.c::verbose" ref="a0b2caeb4b6f130be43e5a2f0267dd453" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="mount__utils_8h.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00076">76</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

</div>
</div>
<a class="anchor" id="aad880fc4455c253781e8968f2239d56f"></a><!-- doxytag: member="mkfs_lustre.c::version" ref="aad880fc4455c253781e8968f2239d56f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="mount__lustre_8c.html#aad880fc4455c253781e8968f2239d56f">version</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mkfs__lustre_8c_source.html#l00077">77</a> of file <a class="el" href="mkfs__lustre_8c_source.html">mkfs_lustre.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:51 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
