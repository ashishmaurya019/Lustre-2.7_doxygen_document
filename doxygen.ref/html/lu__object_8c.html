<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/obdclass/lu_object.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/obdclass/lu_object.c File Reference</h1><code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;linux/module.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="libcfs__hash_8h_source.html">libcfs/libcfs_hash.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__disk_8h_source.html">lustre_disk.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__fid_8h_source.html">lustre_fid.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lu__object_8h_source.html">lu_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lu__ref_8h_source.html">lu_ref.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="list_8h_source.html">libcfs/list.h</a>&gt;</code><br/>

<p><a href="lu__object_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__cdebug__data.html">lu_cdebug_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__site__print__arg.html">lu_site_print_arg</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlu__site__stats.html">lu_site_stats</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_CLASS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a1db9f2fab22c56df70052f7e4d54d4d8">LU_CACHE_NR_MAX_ADJUST</a>&nbsp;&nbsp;&nbsp;128</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#aabd4366b30af2c15100a0f31cd989e43">LU_CACHE_NR_UNLIMITED</a>&nbsp;&nbsp;&nbsp;-1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a9b5f2448febd8f7cd83e486d5952757e">LU_CACHE_NR_DEFAULT</a>&nbsp;&nbsp;&nbsp;LU_CACHE_NR_UNLIMITED</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a6e3a025d6a48088168219e791e78c9c3">LU_CACHE_NR_LDISKFS_LIMIT</a>&nbsp;&nbsp;&nbsp;LU_CACHE_NR_UNLIMITED</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#afd4fdbde99685a388c417b4fd2e5344d">LU_CACHE_NR_ZFS_LIMIT</a>&nbsp;&nbsp;&nbsp;10240</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is set to roughly (20 * OSS_NTHRS_MAX) to prevent thrashing.  <a href="#afd4fdbde99685a388c417b4fd2e5344d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a66442b896a1f7cbccff21681cd4b2ade">LU_SITE_BITS_MIN</a>&nbsp;&nbsp;&nbsp;12</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a62fd10a028257e17535c111687832bda">LU_SITE_BITS_MAX</a>&nbsp;&nbsp;&nbsp;24</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#ada7abd5f37eaa91e1781562152964eb7">LU_SITE_BITS_MAX_CL</a>&nbsp;&nbsp;&nbsp;19</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a05efe85c6a03e2b1caefaffe3622e253">LU_SITE_BKT_BITS</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">total 256 buckets, we don't want too many buckets because:</p>
<ul>
<li>consume too much memory</li>
<li>avoid unbalanced LRU list </li>
</ul>
 <a href="#a05efe85c6a03e2b1caefaffe3622e253"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structlu__site__stats.html">lu_site_stats</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a56d10e23b386ae97cb195c2fb2aa4088">lu_site_stats_t</a></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="lu__object_8c.html#a25e50be5c73e0b2fab54944e68dd48c2a1c513369e9d9ca1c30c0f81ce7fbb7b9">LU_CACHE_PERCENT_MAX</a> =  50, 
<a class="el" href="lu__object_8c.html#a25e50be5c73e0b2fab54944e68dd48c2a7de374ebe79ffeb70081bd17fd16fa9c">LU_CACHE_PERCENT_DEFAULT</a> =  20
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="lu__object_8c.html#a97f905ac94bfebd46e50e32c7389e6ebad471e308b922cc4ae7266b2b2f1c47f1">LU_CDEBUG_LINE</a> =  512
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="lu__object_8c.html#a9b29769343da78881f442e657eb62b6ea120e45a1ad241e67d5eb041d08819999">LU_CONTEXT_KEY_NR</a> =  40
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a4073baef52da15c0c1b17409288d54df">module_param</a> (<a class="el" href="lu__object_8c.html#ab6aa4e65b800e75a5ff3fcf815efb590">lu_cache_percent</a>, int, 0644)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a39b6adf6d34bd352d3dbc48d81efe7bb">MODULE_PARM_DESC</a> (<a class="el" href="lu__object_8c.html#ab6aa4e65b800e75a5ff3fcf815efb590">lu_cache_percent</a>,&quot;Percentage of memory to be used as <a class="el" href="structlu__object.html">lu_object</a> cache&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a368a0140e1a08473e93d1fae69ef308b">module_param</a> (<a class="el" href="lu__object_8c.html#a81dff9b58f880a0bc720c5cb63a146c1">lu_cache_nr</a>, long, 0644)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#ace93c5353eed6c6811b191ae7963fc29">MODULE_PARM_DESC</a> (<a class="el" href="lu__object_8c.html#a81dff9b58f880a0bc720c5cb63a146c1">lu_cache_nr</a>,&quot;Maximum number of objects in <a class="el" href="structlu__object.html">lu_object</a> cache&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a573ee16366494f0e5262467d00cf94e2">lu_object_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free an object.  <a href="#a573ee16366494f0e5262467d00cf94e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static __u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a64e6695b906009ef72990d4bb3517490">ls_stats_read</a> (struct <a class="el" href="structlprocfs__stats.html">lprocfs_stats</a> *stats, int idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga0d53e3777af7b81492a1178c75b872ea">lu_object_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decrease reference counter on object.  <a href="group__lu.html#ga0d53e3777af7b81492a1178c75b872ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga48ae307342778b2ffb56cae3dad5d012">lu_object_put_nocache</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put object and don't keep in cache.  <a href="group__lu.html#ga48ae307342778b2ffb56cae3dad5d012"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga5efa3dbe314fd74875195c5a5aeb791d">lu_object_unhash</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Kill the object and take it out of LRU cache.  <a href="group__lu.html#ga5efa3dbe314fd74875195c5a5aeb791d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#acfb33c7901c60e05b9561ef7c5f93f01">lu_object_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate new object.  <a href="#acfb33c7901c60e05b9561ef7c5f93f01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga00642c90cffacaa9db84e3bb03188f0d">lu_site_purge</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__site.html">lu_site</a> *s, int nr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free <em>nr</em> objects from the cold end of the site LRU list.  <a href="group__lu.html#ga00642c90cffacaa9db84e3bb03188f0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#ac01800ede0d01334f90d342f04adadfa">LU_KEY_INIT_FINI</a> (lu_global, struct <a class="el" href="structlu__cdebug__data.html">lu_cdebug_data</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaea04856d0829f02ff6e8b5b957cd8a52">lu_cdebug_printer</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, const char *format,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Printer function emitting messages through <a class="el" href="libcfs__debug_8h.html#a5235a496d6d927890d31b4b47a314077">libcfs_debug_msg()</a>.  <a href="group__lu.html#gaea04856d0829f02ff6e8b5b957cd8a52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gac087f3906c58d3f36fc8765c101be34c">lu_object_header_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> printer, const struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *hdr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print object header.  <a href="group__lu.html#gac087f3906c58d3f36fc8765c101be34c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gac48202c869a59a25988a89207f85ef7f">lu_object_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> printer, const struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print human readable representation of the <em>o</em> to the <em>printer</em>.  <a href="group__lu.html#gac48202c869a59a25988a89207f85ef7f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gacd5347c354cc994ca7eaf3ca7ade011b">lu_object_invariant</a> (const struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check object consistency.  <a href="group__lu.html#gacd5347c354cc994ca7eaf3ca7ade011b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a572a099678612d255531a571a88d98df">htable_lookup</a> (struct <a class="el" href="structlu__site.html">lu_site</a> *s, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f, wait_queue_t *waiter, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *<a class="el" href="mount__lustre_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga507da2d12daef52e3859b9b96d0ae591">lu_object_find</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search cache for an object with the fid <em>f</em>.  <a href="group__lu.html#ga507da2d12daef52e3859b9b96d0ae591"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a4ab0da6dd33e991f9b060819f1990bbb">lu_object_limit</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a67da74b8e08b439c36e24e10b7c98455">lu_object_new</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#aba72f1792bf74bd6d26e54c5343a852e">lu_object_find_try</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf, wait_queue_t *waiter)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Core logic of lu_object_find*() functions.  <a href="#aba72f1792bf74bd6d26e54c5343a852e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gad0df5edda743e3ab2a9165faecb8656b">lu_object_find_at</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Much like <a class="el" href="group__lu.html#ga507da2d12daef52e3859b9b96d0ae591" title="Search cache for an object with the fid f.">lu_object_find()</a>, but top level device of object is specifically <em>dev</em> rather than top level device of the site.  <a href="group__lu.html#gad0df5edda743e3ab2a9165faecb8656b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga54cb269068bb3767dde66b0bb58afb70">lu_object_find_slice</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *dev, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *f, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find object with given fid, and return its slice belonging to given device.  <a href="group__lu.html#ga54cb269068bb3767dde66b0bb58afb70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga45f56bf01601ed8840d9c1028ef88e43">lu_device_type_init</a> (struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *ldt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helpers to initialize and finalize device types.  <a href="group__lu.html#ga45f56bf01601ed8840d9c1028ef88e43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gabb614e4b36763f904780baf2678de990">lu_device_type_fini</a> (struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *ldt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#ad0af62fe229863bdd679e62e9a1e02ae">DEFINE_MUTEX</a> (lu_sites_guard)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a878129fe20075d7c702b1d03ee2dd7bd">lu_site_obj_print</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *bd, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga44c706297b0647e426dac54206a8b298">lu_site_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__site.html">lu_site</a> *s, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> printer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print all objects in <em>s</em>.  <a href="group__lu.html#ga44c706297b0647e426dac54206a8b298"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a5b7012b2ea909297e4dccdf78c01241c">lu_htable_order</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *top)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return desired hash table order.  <a href="#a5b7012b2ea909297e4dccdf78c01241c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a2f18cac1352a410cd9488130e465f4d5">lu_obj_hop_hash</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, const void *key, unsigned mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a62bbfa3efbeede0d778f2751c27eb811">lu_obj_hop_object</a> (struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a4b8369600d48498528180cefe8f5ecbe">lu_obj_hop_key</a> (struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a0bb043881855ce5c2405ae855e339557">lu_obj_hop_keycmp</a> (const void *key, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a94527a5cf430f704226cc17e258863e6">lu_obj_hop_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#ae0494e7a27ffd02026876b5f1abb3343">lu_obj_hop_put_locked</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, struct <a class="el" href="structhlist__node.html">hlist_node</a> *hnode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga35981a6d70370aee9bcd5ccf2e7dfe74">lu_dev_add_linkage</a> (struct <a class="el" href="structlu__site.html">lu_site</a> *s, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga2d344d146e4c4a172bf22d8b7d4f8627">lu_dev_del_linkage</a> (struct <a class="el" href="structlu__site.html">lu_site</a> *s, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga3776a9c76adcfa00202f6fe19751c96e">lu_site_init</a> (struct <a class="el" href="structlu__site.html">lu_site</a> *s, struct <a class="el" href="structlu__device.html">lu_device</a> *top)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize site <em>s</em>, with <em>d</em> as the top level device.  <a href="group__lu.html#ga3776a9c76adcfa00202f6fe19751c96e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga91afa048e05c24fbd176d46dbc676f61">lu_site_fini</a> (struct <a class="el" href="structlu__site.html">lu_site</a> *s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize <em>s</em> and release its resources.  <a href="group__lu.html#ga91afa048e05c24fbd176d46dbc676f61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga8f089514e7db6f839ca9cb259a1eab14">lu_site_init_finish</a> (struct <a class="el" href="structlu__site.html">lu_site</a> *s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when initialization of stack for this site is completed.  <a href="group__lu.html#ga8f089514e7db6f839ca9cb259a1eab14"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga29fe0250f218e64064069bcc3116e481">lu_device_get</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Acquire additional reference on device <em>d</em>.  <a href="group__lu.html#ga29fe0250f218e64064069bcc3116e481"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga2c86262bfddc5bac1777e7f6fefb35f0">lu_device_put</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release reference on device <em>d</em>.  <a href="group__lu.html#ga2c86262bfddc5bac1777e7f6fefb35f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gae86081b11fb167137740f999abf11b2c">lu_device_init</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *d, struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *t)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize device <em>d</em> of type <em>t</em>.  <a href="group__lu.html#gae86081b11fb167137740f999abf11b2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga7ed7dca0b6932c93db6be738aea16dff">lu_device_fini</a> (struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize device <em>d</em>.  <a href="group__lu.html#ga7ed7dca0b6932c93db6be738aea16dff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga2ca561880240b82371ba59795e8832a4">lu_object_init</a> (struct <a class="el" href="structlu__object.html">lu_object</a> *o, struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *h, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize object <em>o</em> that is part of compound object <em>h</em> and was created by device <em>d</em>.  <a href="group__lu.html#ga2ca561880240b82371ba59795e8832a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga0318f3c931fb2457b0cc4365c15611ca">lu_object_fini</a> (struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize object and release its resources.  <a href="group__lu.html#ga0318f3c931fb2457b0cc4365c15611ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaa83f38d5ed0268b449a3074d350c763d">lu_object_add_top</a> (struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *h, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add object <em>o</em> as first layer of compound object <em>h</em>.  <a href="group__lu.html#gaa83f38d5ed0268b449a3074d350c763d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaa0c00da42f82361409215468e0952e37">lu_object_add</a> (struct <a class="el" href="structlu__object.html">lu_object</a> *before, struct <a class="el" href="structlu__object.html">lu_object</a> *o)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add object <em>o</em> as a layer of compound object, going after <em>before</em>.  <a href="group__lu.html#gaa0c00da42f82361409215468e0952e37"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaa8106fbade6a4bdb30caea80d7daf11c">lu_object_header_init</a> (struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize compound object.  <a href="group__lu.html#gaa8106fbade6a4bdb30caea80d7daf11c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gad3c4db0a912275b2966df3ab46f01ca5">lu_object_header_fini</a> (struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize compound object.  <a href="group__lu.html#gad3c4db0a912275b2966df3ab46f01ca5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaee34b6396491c109bd66e4c055dd7189">lu_object_locate</a> (struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *h, const struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *dtype)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Given a compound object, find its slice, corresponding to the device type <em>dtype</em>.  <a href="group__lu.html#gaee34b6396491c109bd66e4c055dd7189"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gadaddcc81c2131ec1158c21f009cf1739">lu_stack_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *top)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize and free devices in the device stack.  <a href="group__lu.html#gadaddcc81c2131ec1158c21f009cf1739"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a64f3ab64b880f9ba4cdb7ea7ff8f0b0c">DEFINE_RWLOCK</a> (lu_keys_guard)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga1eef6b147da5ae4489576e136772d404">lu_context_key_register</a> (struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register new key.  <a href="group__lu.html#ga1eef6b147da5ae4489576e136772d404"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#ae41955676d22c729336f01fc6fff22e1">key_fini</a> (struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga6e069db37ac446fe47b8b211c3d721c5">lu_context_key_degister</a> (struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deregister key.  <a href="group__lu.html#ga6e069db37ac446fe47b8b211c3d721c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gabc82bcbb2d0d7e41ec7965f71878a606">lu_context_key_register_many</a> (struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *k,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a number of keys.  <a href="group__lu.html#gabc82bcbb2d0d7e41ec7965f71878a606"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga3826a7e5b3ea78a0a1be49390c5efe18">lu_context_key_degister_many</a> (struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *k,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">De-register a number of keys.  <a href="group__lu.html#ga3826a7e5b3ea78a0a1be49390c5efe18"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga4b7314b65026c1731f2384a0ac5242b4">lu_context_key_revive_many</a> (struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *k,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Revive a number of keys.  <a href="group__lu.html#ga4b7314b65026c1731f2384a0ac5242b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga48615706cf5edca3013bafd6f2f22059">lu_context_key_quiesce_many</a> (struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *k,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quiescent a number of keys.  <a href="group__lu.html#ga48615706cf5edca3013bafd6f2f22059"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga8fcebe57d8fb288a73a39144693074af">lu_context_key_get</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, const struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return value associated with key <em>key</em> in context <em>ctx</em>.  <a href="group__lu.html#ga8fcebe57d8fb288a73a39144693074af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga26d0d8d30e9702d38f9d2e372d48002e">lu_context_key_quiesce</a> (struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy <em>key</em> in all remembered contexts.  <a href="group__lu.html#ga26d0d8d30e9702d38f9d2e372d48002e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga828c06d45a01242d5533f4d20c04ece0">lu_context_key_revive</a> (struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a701ca81b1ff5ee1274f35a789e5379dd">keys_fini</a> (struct <a class="el" href="structlu__context.html">lu_context</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a455a5d9f8b3e6e4a28583134ca263084">keys_fill</a> (struct <a class="el" href="structlu__context.html">lu_context</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#ab4f275803f2197d62cca00b0f09efbb3">keys_init</a> (struct <a class="el" href="structlu__context.html">lu_context</a> *ctx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga952ae50ec5c4d109d2afecbb90c59a5c">lu_context_init</a> (struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, __u32 tags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize context data-structure.  <a href="group__lu.html#ga952ae50ec5c4d109d2afecbb90c59a5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga1d2df80dc90294622ca45338757e2693">lu_context_fini</a> (struct <a class="el" href="structlu__context.html">lu_context</a> *ctx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize context data-structure.  <a href="group__lu.html#ga1d2df80dc90294622ca45338757e2693"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaf86fb0a5bf6a1dadec88844694e2ad31">lu_context_enter</a> (struct <a class="el" href="structlu__context.html">lu_context</a> *ctx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called before entering context.  <a href="group__lu.html#gaf86fb0a5bf6a1dadec88844694e2ad31"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga85625901fefb6948280ff1e0d4778f61">lu_context_exit</a> (struct <a class="el" href="structlu__context.html">lu_context</a> *ctx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called after exiting from <em>ctx</em>.  <a href="group__lu.html#ga85625901fefb6948280ff1e0d4778f61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga00d029e31ae6e5f4edc94121d8bc4a45">lu_context_refill</a> (struct <a class="el" href="structlu__context.html">lu_context</a> *ctx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate for context all missing keys that were registered after context creation.  <a href="group__lu.html#ga00d029e31ae6e5f4edc94121d8bc4a45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gabd24006e112d8dd82dd65b26f0f76d80">lu_context_tags_update</a> (__u32 tags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gab468e750b29c0ee58c6f3b49871f45e2">lu_context_tags_clear</a> (__u32 tags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga0df2f1de98458c9cd5c381d30a630577">lu_session_tags_update</a> (__u32 tags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaba0180d4ce56629c1ebb8f981d43c6ea">lu_session_tags_clear</a> (__u32 tags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga72f58647251d2a508798b09afba9c70f">lu_env_init</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, __u32 tags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga9ead00ad92e122b8ad944ffeab3120b5">lu_env_fini</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga3149440dd27a5c2618f6f940fae4c806">lu_env_refill</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gae86c05e9998dce0a3860d0456394c559">lu_env_refill_by_tags</a> (struct <a class="el" href="structlu__env.html">lu_env</a> *env, __u32 ctags, __u32 stags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Currently, this API will only be used by echo client.  <a href="group__lu.html#gae86c05e9998dce0a3860d0456394c559"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a3f80543433a7dc9197bef1a92e2fff51">lu_site_stats_get</a> (struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *hs, <a class="el" href="structlu__site__stats.html">lu_site_stats_t</a> *stats, int populated)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#ad5ea01a07d45c851477a82d6034b228b">lu_cache_shrink_count</a> (struct shrinker *sk, struct <a class="el" href="structshrink__control.html">shrink_control</a> *sc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a181d9676b0fda7e82ae2fa9437c8a1e4">lu_cache_shrink_scan</a> (struct shrinker *sk, struct <a class="el" href="structshrink__control.html">shrink_control</a> *sc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a29c21548acd59c966689fe273fc85313">lu_cache_shrink</a> (SHRINKER_ARGS(sc, nr_to_scan, gfp_mask))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a92082169843d7ac6e7eb49ff73808845">lu_printk_printer</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *unused, const char *format,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debugging printer function using <a class="el" href="libcfs__private_8h.html#a92c0fd9bbafd520c7435afb41b1f1e65">printk()</a>.  <a href="#a92082169843d7ac6e7eb49ff73808845"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a30301cbd6cf68ad8bc3b436530dd3f67">lu_debugging_setup</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a453a3a546a3c72cfe44306feec8caca4">lu_context_keys_dump</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga25ead0509e25dab69f6c92ac1c465ce4">lu_global_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization of global lu_* data.  <a href="group__lu.html#ga25ead0509e25dab69f6c92ac1c465ce4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga342d9d23d96d691f49863e21af40bbcd">lu_global_fini</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dual to <a class="el" href="group__lu.html#ga25ead0509e25dab69f6c92ac1c465ce4" title="One-time initializers, called at obdclass module initialization, not exported.">lu_global_init()</a>.  <a href="group__lu.html#ga342d9d23d96d691f49863e21af40bbcd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaab0f4c7f840a5d798e5a4f23d68abacd">lu_site_stats_seq_print</a> (const struct <a class="el" href="structlu__site.html">lu_site</a> *s, struct seq_file *m)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Output site statistical counters into a buffer.  <a href="group__lu.html#gaab0f4c7f840a5d798e5a4f23d68abacd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga42de365ae8cbdaa97c604434937a4822">lu_kmem_init</a> (struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a> *caches)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to initialize a number of kmem slab caches at once.  <a href="group__lu.html#ga42de365ae8cbdaa97c604434937a4822"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gac3834e0d4bd35c8a02d1003bf0f4331e">lu_kmem_fini</a> (struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a> *caches)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to finalize a number of kmem slab cached at once.  <a href="group__lu.html#gac3834e0d4bd35c8a02d1003bf0f4331e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga4a39fd9c13b1d51b9382e40f327c626c">lu_object_assign_fid</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *o, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporary solution to be able to assign fid in -&gt;do_create() till we have fully-functional OST fids.  <a href="group__lu.html#ga4a39fd9c13b1d51b9382e40f327c626c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gad6ce21735ba52faf216eb2c67d5421d0">lu_object_anon</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *dev, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">allocates object with 0 (non-assiged) fid XXX: temporary solution to be able to assign fid in -&gt;do_create() till we have fully-functional OST fids  <a href="group__lu.html#gad6ce21735ba52faf216eb2c67d5421d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaf0da614115486ed4d3c86f78998c0a3a">lu_buf_free</a> (struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gad3dcfa560c2c09f18fe2ef139317d541">lu_buf_alloc</a> (struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, size_t <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga56534298d2cf8fb62d6d87c7ba76b848">lu_buf_realloc</a> (struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, size_t <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga5091d615af18058ea9cf77ec076fefc9">lu_buf_check_and_alloc</a> (struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga3943d5092fca7667ef0d3a48764f84aa">lu_buf_check_and_grow</a> (struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, size_t len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increase the size of the <em>buf</em>.  <a href="group__lu.html#ga3943d5092fca7667ef0d3a48764f84aa"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#ab6aa4e65b800e75a5ff3fcf815efb590">lu_cache_percent</a> = LU_CACHE_PERCENT_DEFAULT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a81dff9b58f880a0bc720c5cb63a146c1">lu_cache_nr</a> = LU_CACHE_NR_DEFAULT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__context__key.html">lu_context_key</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#aa586a3a0456dd64663d185ea4e6b1c13">lu_global_key</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Key, holding temporary buffer.  <a href="#aa586a3a0456dd64663d185ea4e6b1c13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a97546190d70c3d687ed4e949a0e9bd31">lu_device_types</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global list of all device types.  <a href="#a97546190d70c3d687ed4e949a0e9bd31"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a8205a91942a8ae6afda2ac8da0d78d74">lu_sites</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global list of all sites on this node.  <a href="#a8205a91942a8ae6afda2ac8da0d78d74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__env.html">lu_env</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a12f3ed0943a44dcb8bef90027b86393c">lu_shrink_env</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global environment used by site shrinker.  <a href="#a12f3ed0943a44dcb8bef90027b86393c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a87be3ff633da766c7aa5077c9922e3f9">lu_site_hash_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a170918949a715879bf44d2d40e795116">lu_keys</a> [LU_CONTEXT_KEY_NR] = { NULL, }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static atomic_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a77750f9648bef9513ffd2a2117cbc3ad">lu_key_initing_cnt</a> = ATOMIC_INIT(0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a213d0e3431a2ae52cc84ee54502fbfbe">key_set_version</a> = 0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global counter incremented whenever key is registered, unregistered, revived or quiesced.  <a href="#a213d0e3431a2ae52cc84ee54502fbfbe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a007601f38142689795f60af9c8ce2bc8">lu_context_remembered</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of remembered contexts.  <a href="#a007601f38142689795f60af9c8ce2bc8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#gaac7bd33ed56770c84e26b4553c6d0078">lu_context_tags_default</a> = 0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">lu_ctx_tags/lu_ses_tags will be updated if there are new types of obd being added.  <a href="group__lu.html#gaac7bd33ed56770c84e26b4553c6d0078"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga29ff903a940eb687fc01d4c01866ee86">lu_session_tags_default</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct shrinker *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a238d797d27acf349a12e7d83895300c6">lu_site_shrinker</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__env.html">lu_env</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lu__object_8c.html#a45e3935b09c98d54ef3539a88bb8a672">lu_debugging_env</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Environment to be used in debugger, contains all tags.  <a href="#a45e3935b09c98d54ef3539a88bb8a672"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__buf.html">lu_buf</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lu.html#ga3daaf59b14be927dc4227c6fc6635c6d">LU_BUF_NULL</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">null buffer  <a href="group__lu.html#ga3daaf59b14be927dc4227c6fc6635c6d"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="lu_object.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_CLASS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00045">45</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9b5f2448febd8f7cd83e486d5952757e"></a><!-- doxytag: member="lu_object.c::LU_CACHE_NR_DEFAULT" ref="a9b5f2448febd8f7cd83e486d5952757e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LU_CACHE_NR_DEFAULT&nbsp;&nbsp;&nbsp;LU_CACHE_NR_UNLIMITED</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00065">65</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6e3a025d6a48088168219e791e78c9c3"></a><!-- doxytag: member="lu_object.c::LU_CACHE_NR_LDISKFS_LIMIT" ref="a6e3a025d6a48088168219e791e78c9c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LU_CACHE_NR_LDISKFS_LIMIT&nbsp;&nbsp;&nbsp;LU_CACHE_NR_UNLIMITED</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00066">66</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1db9f2fab22c56df70052f7e4d54d4d8"></a><!-- doxytag: member="lu_object.c::LU_CACHE_NR_MAX_ADJUST" ref="a1db9f2fab22c56df70052f7e4d54d4d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LU_CACHE_NR_MAX_ADJUST&nbsp;&nbsp;&nbsp;128</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00063">63</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00658">lu_object_limit()</a>.</p>

</div>
</div>
<a class="anchor" id="aabd4366b30af2c15100a0f31cd989e43"></a><!-- doxytag: member="lu_object.c::LU_CACHE_NR_UNLIMITED" ref="aabd4366b30af2c15100a0f31cd989e43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LU_CACHE_NR_UNLIMITED&nbsp;&nbsp;&nbsp;-1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00064">64</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00658">lu_object_limit()</a>.</p>

</div>
</div>
<a class="anchor" id="afd4fdbde99685a388c417b4fd2e5344d"></a><!-- doxytag: member="lu_object.c::LU_CACHE_NR_ZFS_LIMIT" ref="afd4fdbde99685a388c417b4fd2e5344d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LU_CACHE_NR_ZFS_LIMIT&nbsp;&nbsp;&nbsp;10240</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is set to roughly (20 * OSS_NTHRS_MAX) to prevent thrashing. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00068">68</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00921">lu_htable_order()</a>.</p>

</div>
</div>
<a class="anchor" id="a62fd10a028257e17535c111687832bda"></a><!-- doxytag: member="lu_object.c::LU_SITE_BITS_MAX" ref="a62fd10a028257e17535c111687832bda" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LU_SITE_BITS_MAX&nbsp;&nbsp;&nbsp;24</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00071">71</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00921">lu_htable_order()</a>.</p>

</div>
</div>
<a class="anchor" id="ada7abd5f37eaa91e1781562152964eb7"></a><!-- doxytag: member="lu_object.c::LU_SITE_BITS_MAX_CL" ref="ada7abd5f37eaa91e1781562152964eb7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LU_SITE_BITS_MAX_CL&nbsp;&nbsp;&nbsp;19</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00072">72</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00921">lu_htable_order()</a>.</p>

</div>
</div>
<a class="anchor" id="a66442b896a1f7cbccff21681cd4b2ade"></a><!-- doxytag: member="lu_object.c::LU_SITE_BITS_MIN" ref="a66442b896a1f7cbccff21681cd4b2ade" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LU_SITE_BITS_MIN&nbsp;&nbsp;&nbsp;12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00070">70</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00921">lu_htable_order()</a>, and <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a05efe85c6a03e2b1caefaffe3622e253"></a><!-- doxytag: member="lu_object.c::LU_SITE_BKT_BITS" ref="a05efe85c6a03e2b1caefaffe3622e253" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LU_SITE_BKT_BITS&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>total 256 buckets, we don't want too many buckets because:</p>
<ul>
<li>consume too much memory</li>
<li>avoid unbalanced LRU list </li>
</ul>
</p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00078">78</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a56d10e23b386ae97cb195c2fb2aa4088"></a><!-- doxytag: member="lu_object.c::lu_site_stats_t" ref="a56d10e23b386ae97cb195c2fb2aa4088" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structlu__site__stats.html">lu_site_stats</a>  <a class="el" href="structlu__site__stats.html">lu_site_stats_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a25e50be5c73e0b2fab54944e68dd48c2"></a><!-- doxytag: member="lu_object.c::@132" ref="a25e50be5c73e0b2fab54944e68dd48c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a25e50be5c73e0b2fab54944e68dd48c2a1c513369e9d9ca1c30c0f81ce7fbb7b9"></a><!-- doxytag: member="LU_CACHE_PERCENT_MAX" ref="a25e50be5c73e0b2fab54944e68dd48c2a1c513369e9d9ca1c30c0f81ce7fbb7b9" args="" -->LU_CACHE_PERCENT_MAX</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a25e50be5c73e0b2fab54944e68dd48c2a7de374ebe79ffeb70081bd17fd16fa9c"></a><!-- doxytag: member="LU_CACHE_PERCENT_DEFAULT" ref="a25e50be5c73e0b2fab54944e68dd48c2a7de374ebe79ffeb70081bd17fd16fa9c" args="" -->LU_CACHE_PERCENT_DEFAULT</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00058">58</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a97f905ac94bfebd46e50e32c7389e6eb"></a><!-- doxytag: member="lu_object.c::@133" ref="a97f905ac94bfebd46e50e32c7389e6eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a97f905ac94bfebd46e50e32c7389e6ebad471e308b922cc4ae7266b2b2f1c47f1"></a><!-- doxytag: member="LU_CDEBUG_LINE" ref="a97f905ac94bfebd46e50e32c7389e6ebad471e308b922cc4ae7266b2b2f1c47f1" args="" -->LU_CDEBUG_LINE</em>&nbsp;</td><td>
<p>Maximal line size. </p>
<p>XXX overflow is not handled correctly. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00458">458</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9b29769343da78881f442e657eb62b6e"></a><!-- doxytag: member="lu_object.c::@134" ref="a9b29769343da78881f442e657eb62b6e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a9b29769343da78881f442e657eb62b6ea120e45a1ad241e67d5eb041d08819999"></a><!-- doxytag: member="LU_CONTEXT_KEY_NR" ref="a9b29769343da78881f442e657eb62b6ea120e45a1ad241e67d5eb041d08819999" args="" -->LU_CONTEXT_KEY_NR</em>&nbsp;</td><td>
<p>Maximal number of tld slots. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01378">1378</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ad0af62fe229863bdd679e62e9a1e02ae"></a><!-- doxytag: member="lu_object.c::DEFINE_MUTEX" ref="ad0af62fe229863bdd679e62e9a1e02ae" args="(lu_sites_guard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_MUTEX </td>
          <td>(</td>
          <td class="paramtype">lu_sites_guard&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a64f3ab64b880f9ba4cdb7ea7ff8f0b0c"></a><!-- doxytag: member="lu_object.c::DEFINE_RWLOCK" ref="a64f3ab64b880f9ba4cdb7ea7ff8f0b0c" args="(lu_keys_guard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_RWLOCK </td>
          <td>(</td>
          <td class="paramtype">lu_keys_guard&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a572a099678612d255531a571a88d98df"></a><!-- doxytag: member="lu_object.c::htable_lookup" ref="a572a099678612d255531a571a88d98df" args="(struct lu_site *s, struct cfs_hash_bd *bd, const struct lu_fid *f, wait_queue_t *waiter, __u64 *version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object.html">lu_object</a>* htable_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__site.html">lu_site</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wait_queue_t *&nbsp;</td>
          <td class="paramname"> <em>waiter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> *&nbsp;</td>
          <td class="paramname"> <em>version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00586">586</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__hash_8h_source.html#l00571">cfs_hash_bd_extra_get()</a>, <a class="el" href="hash_8c_source.html#l00676">cfs_hash_bd_peek_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00578">cfs_hash_bd_version_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00488">cfs_hash_get()</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lu__object_8h_source.html#l00547">lu_object_header::loh_lru</a>, <a class="el" href="lprocfs__status_8h_source.html#l00875">lprocfs_counter_decr()</a>, <a class="el" href="lprocfs__status_8h_source.html#l00869">lprocfs_counter_incr()</a>, <a class="el" href="lu__object_8h_source.html#l00611">lu_site::ls_obj_hash</a>, <a class="el" href="lu__object_8h_source.html#l00641">lu_site::ls_stats</a>, <a class="el" href="lu__object_8h_source.html#l00565">lu_site_bkt_data::lsb_lru_len</a>, <a class="el" href="lu__object_8h_source.html#l00583">lu_site_bkt_data::lsb_marche_funebre</a>, <a class="el" href="lu__object_8h_source.html#l00719">lu_object_is_dying()</a>, <a class="el" href="lu__object_8h_source.html#l00753">lu_object_top()</a>, <a class="el" href="lu__object_8h_source.html#l00591">LU_SS_CACHE_DEATH_RACE</a>, <a class="el" href="lu__object_8h_source.html#l00588">LU_SS_CACHE_HIT</a>, <a class="el" href="lu__object_8h_source.html#l00589">LU_SS_CACHE_MISS</a>, and <a class="el" href="lu__object_8h_source.html#l00593">LU_SS_LRU_LEN</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l02290">lu_object_assign_fid()</a>, and <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>.</p>

</div>
</div>
<a class="anchor" id="ae41955676d22c729336f01fc6fff22e1"></a><!-- doxytag: member="lu_object.c::key_fini" ref="ae41955676d22c729336f01fc6fff22e1" args="(struct lu_context *ctx, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void key_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01429">1429</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00958">lu_context::lc_tags</a>, <a class="el" href="lu__object_8h_source.html#l00969">lu_context::lc_value</a>, <a class="el" href="structlu__context__key.html#aaf04b1fb0608ed408ead318f6237fd05">lu_context_key::lct_fini</a>, <a class="el" href="lu__object_8h_source.html#l01039">LCT_NOREF</a>, <a class="el" href="lu__object_8h_source.html#l01128">lu_context_key::lct_owner</a>, <a class="el" href="lu__object_8h_source.html#l01132">lu_context_key::lct_reference</a>, <a class="el" href="lu__object_8h_source.html#l01124">lu_context_key::lct_used</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, and <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01639">keys_fini()</a>, <a class="el" href="lu__object_8c_source.html#l01455">lu_context_key_degister()</a>, and <a class="el" href="lu__object_8c_source.html#l01594">lu_context_key_quiesce()</a>.</p>

</div>
</div>
<a class="anchor" id="a455a5d9f8b3e6e4a28583134ca263084"></a><!-- doxytag: member="lu_object.c::keys_fill" ref="a455a5d9f8b3e6e4a28583134ca263084" args="(struct lu_context *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int keys_fill </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01653">1653</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00958">lu_context::lc_tags</a>, <a class="el" href="lu__object_8h_source.html#l00969">lu_context::lc_value</a>, <a class="el" href="lu__object_8h_source.html#l00980">lu_context::lc_version</a>, <a class="el" href="structlu__context__key.html#ad9470ad16ac47ced77c65d8c70b12e44">lu_context_key::lct_exit</a>, <a class="el" href="lu__object_8h_source.html#l01034">LCT_HAS_EXIT</a>, <a class="el" href="lu__object_8h_source.html#l01119">lu_context_key::lct_index</a>, <a class="el" href="structlu__context__key.html#a7f59b1993947e4bb87482fe2db59a0a2">lu_context_key::lct_init</a>, <a class="el" href="lu__object_8h_source.html#l01039">LCT_NOREF</a>, <a class="el" href="lu__object_8h_source.html#l01128">lu_context_key::lct_owner</a>, <a class="el" href="lu__object_8h_source.html#l01043">LCT_QUIESCENT</a>, <a class="el" href="lu__object_8h_source.html#l01132">lu_context_key::lct_reference</a>, <a class="el" href="lu__object_8h_source.html#l01094">lu_context_key::lct_tags</a>, <a class="el" href="lu__object_8h_source.html#l01124">lu_context_key::lct_used</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="lu__ref_8h_source.html#l00210">lu_ref_add_atomic()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01717">keys_init()</a>, and <a class="el" href="lu__object_8c_source.html#l01818">lu_context_refill()</a>.</p>

</div>
</div>
<a class="anchor" id="a701ca81b1ff5ee1274f35a789e5379dd"></a><!-- doxytag: member="lu_object.c::keys_fini" ref="a701ca81b1ff5ee1274f35a789e5379dd" args="(struct lu_context *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void keys_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01639">1639</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="lu__object_8c_source.html#l01429">key_fini()</a>, <a class="el" href="lu__object_8h_source.html#l00969">lu_context::lc_value</a>, and <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01755">lu_context_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4f275803f2197d62cca00b0f09efbb3"></a><!-- doxytag: member="lu_object.c::keys_init" ref="ab4f275803f2197d62cca00b0f09efbb3" args="(struct lu_context *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int keys_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01717">1717</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="lu__object_8c_source.html#l01653">keys_fill()</a>, <a class="el" href="lu__object_8h_source.html#l00969">lu_context::lc_value</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, and <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01729">lu_context_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a64e6695b906009ef72990d4bb3517490"></a><!-- doxytag: member="lu_object.c::ls_stats_read" ref="a64e6695b906009ef72990d4bb3517490" args="(struct lprocfs_stats *stats, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static __u32 ls_stats_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlprocfs__stats.html">lprocfs_stats</a> *&nbsp;</td>
          <td class="paramname"> <em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l02201">2201</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="lprocfs__status_8h_source.html#l00145">lprocfs_counter::lc_count</a>, <a class="el" href="lprocfs__status_8h_source.html#l01043">lprocfs_stats_collect()</a>, and <a class="el" href="lu__object_8h_source.html#l00593">LU_SS_LRU_LEN</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01980">lu_cache_shrink_count()</a>, and <a class="el" href="lu__object_8c_source.html#l02224">lu_site_stats_seq_print()</a>.</p>

</div>
</div>
<a class="anchor" id="a29c21548acd59c966689fe273fc85313"></a><!-- doxytag: member="lu_object.c::lu_cache_shrink" ref="a29c21548acd59c966689fe273fc85313" args="(SHRINKER_ARGS(sc, nr_to_scan, gfp_mask))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lu_cache_shrink </td>
          <td>(</td>
          <td class="paramtype">SHRINKER_ARGS(sc, nr_to_scan, gfp_mask)&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l02059">2059</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="linux-mem_8h_source.html#l00070">shrink_control::gfp_mask</a>, <a class="el" href="lu__object_8c_source.html#l01980">lu_cache_shrink_count()</a>, <a class="el" href="lu__object_8c_source.html#l02003">lu_cache_shrink_scan()</a>, <a class="el" href="linux-mem_8h_source.html#l00071">shrink_control::nr_to_scan</a>, and <a class="el" href="linux-mem_8h_source.html#l00083">shrink_param</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l02134">lu_global_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5ea01a07d45c851477a82d6034b228b"></a><!-- doxytag: member="lu_object.c::lu_cache_shrink_count" ref="ad5ea01a07d45c851477a82d6034b228b" args="(struct shrinker *sk, struct shrink_control *sc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long lu_cache_shrink_count </td>
          <td>(</td>
          <td class="paramtype">struct shrinker *&nbsp;</td>
          <td class="paramname"> <em>sk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structshrink__control.html">shrink_control</a> *&nbsp;</td>
          <td class="paramname"> <em>sc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01980">1980</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="linux-mem_8h_source.html#l00070">shrink_control::gfp_mask</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lu__object_8h_source.html#l00627">lu_site::ls_linkage</a>, <a class="el" href="lu__object_8h_source.html#l00641">lu_site::ls_stats</a>, <a class="el" href="lu__object_8c_source.html#l02201">ls_stats_read()</a>, <a class="el" href="lu__object_8c_source.html#l00867">lu_sites</a>, and <a class="el" href="lu__object_8h_source.html#l00593">LU_SS_LRU_LEN</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l02059">lu_cache_shrink()</a>, and <a class="el" href="lu__object_8c_source.html#l02134">lu_global_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a181d9676b0fda7e82ae2fa9437c8a1e4"></a><!-- doxytag: member="lu_object.c::lu_cache_shrink_scan" ref="a181d9676b0fda7e82ae2fa9437c8a1e4" args="(struct shrinker *sk, struct shrink_control *sc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long lu_cache_shrink_scan </td>
          <td>(</td>
          <td class="paramtype">struct shrinker *&nbsp;</td>
          <td class="paramname"> <em>sk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structshrink__control.html">shrink_control</a> *&nbsp;</td>
          <td class="paramname"> <em>sc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l02003">2003</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="linux-mem_8h_source.html#l00070">shrink_control::gfp_mask</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="nodemap__lproc_8c.html#a16b50f3e067967583e9d2bc2eeb7ff68">LIST_HEAD()</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="list_8h_source.html#l00206">list_splice()</a>, <a class="el" href="lu__object_8h_source.html#l00627">lu_site::ls_linkage</a>, <a class="el" href="lu__object_8c_source.html#l00873">lu_shrink_env</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, <a class="el" href="lu__object_8c_source.html#l00867">lu_sites</a>, <a class="el" href="linux-mem_8h_source.html#l00071">shrink_control::nr_to_scan</a>, <a class="el" href="list_8h_source.html#l00043">list_head::prev</a>, and <a class="el" href="linux-mem_8h_source.html#l00101">SHRINK_STOP</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l02059">lu_cache_shrink()</a>, and <a class="el" href="lu__object_8c_source.html#l02134">lu_global_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a453a3a546a3c72cfe44306feec8caca4"></a><!-- doxytag: member="lu_object.c::lu_context_keys_dump" ref="a453a3a546a3c72cfe44306feec8caca4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lu_context_keys_dump </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l02111">2111</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="lustreapi_8h_source.html#l00049">ARRAY_SIZE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="structlu__context__key.html#ad9470ad16ac47ced77c65d8c70b12e44">lu_context_key::lct_exit</a>, <a class="el" href="structlu__context__key.html#aaf04b1fb0608ed408ead318f6237fd05">lu_context_key::lct_fini</a>, <a class="el" href="lu__object_8h_source.html#l01119">lu_context_key::lct_index</a>, <a class="el" href="structlu__context__key.html#a7f59b1993947e4bb87482fe2db59a0a2">lu_context_key::lct_init</a>, <a class="el" href="lu__object_8h_source.html#l01128">lu_context_key::lct_owner</a>, <a class="el" href="lu__object_8h_source.html#l01132">lu_context_key::lct_reference</a>, <a class="el" href="lu__object_8h_source.html#l01094">lu_context_key::lct_tags</a>, <a class="el" href="lu__object_8h_source.html#l01124">lu_context_key::lct_used</a>, and <a class="el" href="lu__ref_8h_source.html#l00248">lu_ref_print()</a>.</p>

</div>
</div>
<a class="anchor" id="a30301cbd6cf68ad8bc3b436530dd3f67"></a><!-- doxytag: member="lu_object.c::lu_debugging_setup" ref="a30301cbd6cf68ad8bc3b436530dd3f67" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lu_debugging_setup </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l02106">2106</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="lu__object_8c_source.html#l02090">lu_debugging_env</a>, and <a class="el" href="lu__object_8c_source.html#l01869">lu_env_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b7012b2ea909297e4dccdf78c01241c"></a><!-- doxytag: member="lu_object.c::lu_htable_order" ref="a5b7012b2ea909297e4dccdf78c01241c" args="(struct lu_device *top)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long lu_htable_order </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>top</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return desired hash table order. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00921">921</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="lu__object_8h_source.html#l00275">lu_device::ld_type</a>, <a class="el" href="lu__object_8h_source.html#l00324">lu_device_type::ldt_name</a>, <a class="el" href="lu__object_8c_source.html#l00085">lu_cache_nr</a>, <a class="el" href="lu__object_8c_source.html#l00068">LU_CACHE_NR_ZFS_LIMIT</a>, <a class="el" href="lu__object_8c_source.html#l00081">lu_cache_percent</a>, <a class="el" href="lu__object_8c_source.html#l00060">LU_CACHE_PERCENT_DEFAULT</a>, <a class="el" href="lu__object_8c_source.html#l00059">LU_CACHE_PERCENT_MAX</a>, <a class="el" href="lu__object_8c_source.html#l00071">LU_SITE_BITS_MAX</a>, <a class="el" href="lu__object_8c_source.html#l00072">LU_SITE_BITS_MAX_CL</a>, <a class="el" href="lu__object_8c_source.html#l00070">LU_SITE_BITS_MIN</a>, <a class="el" href="obd_8h_source.html#l00448">LUSTRE_OSD_ZFS_NAME</a>, and <a class="el" href="obd_8h_source.html#l00449">LUSTRE_VVP_NAME</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01058">lu_site_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ac01800ede0d01334f90d342f04adadfa"></a><!-- doxytag: member="lu_object.c::LU_KEY_INIT_FINI" ref="ac01800ede0d01334f90d342f04adadfa" args="(lu_global, struct lu_cdebug_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_KEY_INIT_FINI </td>
          <td>(</td>
          <td class="paramtype">lu_global&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__cdebug__data.html">lu_cdebug_data</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a94527a5cf430f704226cc17e258863e6"></a><!-- doxytag: member="lu_object.c::lu_obj_hop_get" ref="a94527a5cf430f704226cc17e258863e6" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lu_obj_hop_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01016">1016</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, <a class="el" href="lu__object_8h_source.html#l00543">lu_object_header::loh_hash</a>, and <a class="el" href="lu__object_8h_source.html#l00534">lu_object_header::loh_ref</a>.</p>

</div>
</div>
<a class="anchor" id="a2f18cac1352a410cd9488130e465f4d5"></a><!-- doxytag: member="lu_object.c::lu_obj_hop_hash" ref="a2f18cac1352a410cd9488130e465f4d5" args="(struct cfs_hash *hs, const void *key, unsigned mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned lu_obj_hop_hash </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00976">976</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00320">CFS_HASH_NBKT</a>, <a class="el" href="lustre__fid_8h_source.html#l00719">fid_flatten32()</a>, <a class="el" href="lustre__idl_8h_source.html#l00249">fid_oid()</a>, and <a class="el" href="libcfs__hash_8h_source.html#l00238">cfs_hash::hs_bkt_bits</a>.</p>

</div>
</div>
<a class="anchor" id="a4b8369600d48498528180cefe8f5ecbe"></a><!-- doxytag: member="lu_object.c::lu_obj_hop_key" ref="a4b8369600d48498528180cefe8f5ecbe" args="(struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* lu_obj_hop_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01000">1000</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, <a class="el" href="lu__object_8h_source.html#l00525">lu_object_header::loh_fid</a>, and <a class="el" href="lu__object_8h_source.html#l00543">lu_object_header::loh_hash</a>.</p>

</div>
</div>
<a class="anchor" id="a0bb043881855ce5c2405ae855e339557"></a><!-- doxytag: member="lu_object.c::lu_obj_hop_keycmp" ref="a0bb043881855ce5c2405ae855e339557" args="(const void *key, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lu_obj_hop_keycmp </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01008">1008</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, <a class="el" href="lu__object_8h_source.html#l00525">lu_object_header::loh_fid</a>, <a class="el" href="lu__object_8h_source.html#l00543">lu_object_header::loh_hash</a>, and <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>.</p>

</div>
</div>
<a class="anchor" id="a62bbfa3efbeede0d778f2751c27eb811"></a><!-- doxytag: member="lu_object.c::lu_obj_hop_object" ref="a62bbfa3efbeede0d778f2751c27eb811" args="(struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* lu_obj_hop_object </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00995">995</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>.</p>

</div>
</div>
<a class="anchor" id="ae0494e7a27ffd02026876b5f1abb3343"></a><!-- doxytag: member="lu_object.c::lu_obj_hop_put_locked" ref="ae0494e7a27ffd02026876b5f1abb3343" args="(struct cfs_hash *hs, struct hlist_node *hnode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lu_obj_hop_put_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01024">1024</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>.</p>

</div>
</div>
<a class="anchor" id="acfb33c7901c60e05b9561ef7c5f93f01"></a><!-- doxytag: member="lu_object.c::lu_object_alloc" ref="acfb33c7901c60e05b9561ef7c5f93f01" args="(const struct lu_env *env, struct lu_device *dev, const struct lu_fid *f, const struct lu_object_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object.html">lu_object</a>* lu_object_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate new object. </p>
<p>This follows object creation protocol, described in the comment within struct <a class="el" href="structlu__device__operations.html" title="Operations common for data and meta-data devices.">lu_device_operations</a> definition. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00236">236</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="structlu__device__operations.html#a2d0d0803131da38c837d16ab6f979fb0">lu_device_operations::ldo_object_alloc</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="list_8h_source.html#l00472">list_for_each_entry_reverse</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00476">lu_object::lo_ops</a>, <a class="el" href="lu__object_8h_source.html#l00525">lu_object_header::loh_fid</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, <a class="el" href="structlu__object__operations.html#a15b69dd7ca43e31bee4023da49fbb8a8">lu_object_operations::loo_object_init</a>, <a class="el" href="structlu__object__operations.html#ab362623fe2d30118add2f4552b37b494">lu_object_operations::loo_object_start</a>, <a class="el" href="lprocfs__status_8h_source.html#l00869">lprocfs_counter_incr()</a>, <a class="el" href="lu__object_8h_source.html#l00641">lu_site::ls_stats</a>, <a class="el" href="lu__object_8c_source.html#l00306">lu_object_free()</a>, <a class="el" href="lu__object_8h_source.html#l00587">LU_SS_CREATED</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l02319">lu_object_anon()</a>, <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>, and <a class="el" href="lu__object_8c_source.html#l00675">lu_object_new()</a>.</p>

</div>
</div>
<a class="anchor" id="aba72f1792bf74bd6d26e54c5343a852e"></a><!-- doxytag: member="lu_object.c::lu_object_find_try" ref="aba72f1792bf74bd6d26e54c5343a852e" args="(const struct lu_env *env, struct lu_device *dev, const struct lu_fid *f, const struct lu_object_conf *conf, wait_queue_t *waiter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object.html">lu_object</a>* lu_object_find_try </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wait_queue_t *&nbsp;</td>
          <td class="paramname"> <em>waiter</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Core logic of lu_object_find*() functions. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00701">701</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00549">cfs_hash_bd_get_and_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="lu__object_8c_source.html#l00586">htable_lookup()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00171">LOC_F_NEW</a>, <a class="el" href="lu__object_8h_source.html#l00187">lu_object_conf::loc_flags</a>, <a class="el" href="lu__object_8h_source.html#l00543">lu_object_header::loh_hash</a>, <a class="el" href="lprocfs__status_8h_source.html#l00869">lprocfs_counter_incr()</a>, <a class="el" href="lu__object_8h_source.html#l00611">lu_site::ls_obj_hash</a>, <a class="el" href="lu__object_8h_source.html#l00641">lu_site::ls_stats</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="lu__object_8c_source.html#l00236">lu_object_alloc()</a>, <a class="el" href="lu__object_8h_source.html#l00770">lu_object_fid()</a>, <a class="el" href="lu__object_8c_source.html#l00306">lu_object_free()</a>, <a class="el" href="lu__object_8c_source.html#l00658">lu_object_limit()</a>, <a class="el" href="lu__object_8c_source.html#l00675">lu_object_new()</a>, <a class="el" href="lu__object_8h_source.html#l00590">LU_SS_CACHE_RACE</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, and <a class="el" href="packet-lnet_8c_source.html#l00255">version</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00778">lu_object_find_at()</a>.</p>

</div>
</div>
<a class="anchor" id="a573ee16366494f0e5262467d00cf94e2"></a><!-- doxytag: member="lu_object.c::lu_object_free" ref="a573ee16366494f0e5262467d00cf94e2" args="(const struct lu_env *env, struct lu_object *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lu_object_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>o</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free an object. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00306">306</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00472">list_for_each_entry_reverse</a>, <a class="el" href="list_8h_source.html#l00227">list_splice_init()</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="lu__object_8h_source.html#l00468">lu_object::lo_header</a>, <a class="el" href="lu__object_8h_source.html#l00480">lu_object::lo_linkage</a>, <a class="el" href="lu__object_8h_source.html#l00476">lu_object::lo_ops</a>, <a class="el" href="lu__object_8h_source.html#l00525">lu_object_header::loh_fid</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, <a class="el" href="structlu__object__operations.html#adb5e318c003ebd9cb6ccd83e1d22f695">lu_object_operations::loo_object_delete</a>, <a class="el" href="structlu__object__operations.html#a59cf8062ebe405ac01fdcab9d976eed3">lu_object_operations::loo_object_free</a>, <a class="el" href="lu__object_8h_source.html#l00583">lu_site_bkt_data::lsb_marche_funebre</a>, <a class="el" href="lu__object_8h_source.html#l00653">lu_site_bkt_from_fid()</a>, and <a class="el" href="list_8h_source.html#l00043">list_head::prev</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00236">lu_object_alloc()</a>, <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>, <a class="el" href="lu__object_8c_source.html#l00097">lu_object_put()</a>, and <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ab0da6dd33e991f9b060819f1990bbb"></a><!-- doxytag: member="lu_object.c::lu_object_limit" ref="a4ab0da6dd33e991f9b060819f1990bbb" args="(const struct lu_env *env, struct lu_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lu_object_limit </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00658">658</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="hash_8c_source.html#l01545">cfs_hash_size_get()</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lu__object_8h_source.html#l00611">lu_site::ls_obj_hash</a>, <a class="el" href="lu__object_8c_source.html#l00085">lu_cache_nr</a>, <a class="el" href="lu__object_8c_source.html#l00063">LU_CACHE_NR_MAX_ADJUST</a>, <a class="el" href="lu__object_8c_source.html#l00064">LU_CACHE_NR_UNLIMITED</a>, <a class="el" href="lu__object_8c_source.html#l00352">lu_site_purge()</a>, <a class="el" href="libcfs__private_8h_source.html#l00439">MIN</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>, and <a class="el" href="lu__object_8c_source.html#l00675">lu_object_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a67da74b8e08b439c36e24e10b7c98455"></a><!-- doxytag: member="lu_object.c::lu_object_new" ref="a67da74b8e08b439c36e24e10b7c98455" args="(const struct lu_env *env, struct lu_device *dev, const struct lu_fid *f, const struct lu_object_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object.html">lu_object</a>* lu_object_new </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00675">675</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="hash_8c_source.html#l00529">cfs_hash_bd_add_locked()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00549">cfs_hash_bd_get_and_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="lu__object_8h_source.html#l00283">lu_device::ld_site</a>, <a class="el" href="lu__object_8h_source.html#l00611">lu_site::ls_obj_hash</a>, <a class="el" href="lu__object_8c_source.html#l00236">lu_object_alloc()</a>, <a class="el" href="lu__object_8c_source.html#l00658">lu_object_limit()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00701">lu_object_find_try()</a>.</p>

</div>
</div>
<a class="anchor" id="a92082169843d7ac6e7eb49ff73808845"></a><!-- doxytag: member="lu_object.c::lu_printk_printer" ref="a92082169843d7ac6e7eb49ff73808845" args="(const struct lu_env *env, void *unused, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lu_printk_printer </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>unused</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Debugging printer function using <a class="el" href="libcfs__private_8h.html#a92c0fd9bbafd520c7435afb41b1f1e65">printk()</a>. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l02095">2095</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a878129fe20075d7c702b1d03ee2dd7bd"></a><!-- doxytag: member="lu_object.c::lu_site_obj_print" ref="a878129fe20075d7c702b1d03ee2dd7bd" args="(struct cfs_hash *hs, struct cfs_hash_bd *bd, struct hlist_node *hnode, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lu_site_obj_print </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash__bd.html">cfs_hash_bd</a> *&nbsp;</td>
          <td class="paramname"> <em>bd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhlist__node.html">hlist_node</a> *&nbsp;</td>
          <td class="paramname"> <em>hnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00882">882</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00382">hlist_entry</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lu__object_8h_source.html#l00543">lu_object_header::loh_hash</a>, <a class="el" href="lu__object_8h_source.html#l00552">lu_object_header::loh_layers</a>, <a class="el" href="lu__object_8c_source.html#l00877">lu_site_print_arg::lsp_cookie</a>, <a class="el" href="lu__object_8c_source.html#l00876">lu_site_print_arg::lsp_env</a>, <a class="el" href="lu__object_8c_source.html#l00878">lu_site_print_arg::lsp_printer</a>, <a class="el" href="lu__object_8c_source.html#l00525">lu_object_header_print()</a>, <a class="el" href="lu__object_8c_source.html#l00542">lu_object_print()</a>, and <a class="el" href="lu__object_8h_source.html#l00753">lu_object_top()</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00905">lu_site_print()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f80543433a7dc9197bef1a92e2fff51"></a><!-- doxytag: member="lu_object.c::lu_site_stats_get" ref="a3f80543433a7dc9197bef1a92e2fff51" args="(struct cfs_hash *hs, lu_site_stats_t *stats, int populated)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lu_site_stats_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td>
          <td class="paramname"> <em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlu__site__stats.html">lu_site_stats_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>populated</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01937">1937</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>References <a class="el" href="libcfs__hash_8h_source.html#l00585">cfs_hash_bd_count_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00592">cfs_hash_bd_depmax_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00571">cfs_hash_bd_extra_get()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00854">cfs_hash_bd_for_each_hlist</a>, <a class="el" href="libcfs__hash_8h_source.html#l00529">cfs_hash_bd_lock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00535">cfs_hash_bd_unlock()</a>, <a class="el" href="libcfs__hash_8h_source.html#l00848">cfs_hash_for_each_bucket</a>, <a class="el" href="list_8h_source.html#l00323">hlist_empty()</a>, <a class="el" href="lu__object_8h_source.html#l00565">lu_site_bkt_data::lsb_lru_len</a>, <a class="el" href="lu__object_8c_source.html#l01934">lu_site_stats::lss_busy</a>, <a class="el" href="lu__object_8c_source.html#l01932">lu_site_stats::lss_max_search</a>, <a class="el" href="lu__object_8c_source.html#l01931">lu_site_stats::lss_populated</a>, <a class="el" href="lu__object_8c_source.html#l01933">lu_site_stats::lss_total</a>, and <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l02224">lu_site_stats_seq_print()</a>.</p>

</div>
</div>
<a class="anchor" id="a368a0140e1a08473e93d1fae69ef308b"></a><!-- doxytag: member="lu_object.c::module_param" ref="a368a0140e1a08473e93d1fae69ef308b" args="(lu_cache_nr, long, 0644)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lu__object_8c.html#a81dff9b58f880a0bc720c5cb63a146c1">lu_cache_nr</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0644&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4073baef52da15c0c1b17409288d54df"></a><!-- doxytag: member="lu_object.c::module_param" ref="a4073baef52da15c0c1b17409288d54df" args="(lu_cache_percent, int, 0644)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lu__object_8c.html#ab6aa4e65b800e75a5ff3fcf815efb590">lu_cache_percent</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0644&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ace93c5353eed6c6811b191ae7963fc29"></a><!-- doxytag: member="lu_object.c::MODULE_PARM_DESC" ref="ace93c5353eed6c6811b191ae7963fc29" args="(lu_cache_nr,&quot;Maximum number of objects in lu_object cache&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lu__object_8c.html#a81dff9b58f880a0bc720c5cb63a146c1">lu_cache_nr</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Maximum number of objects in <a class="el" href="structlu__object.html">lu_object</a> cache&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a39b6adf6d34bd352d3dbc48d81efe7bb"></a><!-- doxytag: member="lu_object.c::MODULE_PARM_DESC" ref="a39b6adf6d34bd352d3dbc48d81efe7bb" args="(lu_cache_percent,&quot;Percentage of memory to be used as lu_object cache&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_PARM_DESC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lu__object_8c.html#ab6aa4e65b800e75a5ff3fcf815efb590">lu_cache_percent</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Percentage of memory to be used as <a class="el" href="structlu__object.html">lu_object</a> cache&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a213d0e3431a2ae52cc84ee54502fbfbe"></a><!-- doxytag: member="lu_object.c::key_set_version" ref="a213d0e3431a2ae52cc84ee54502fbfbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="lu__object_8c.html#a213d0e3431a2ae52cc84ee54502fbfbe">key_set_version</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Global counter incremented whenever key is registered, unregistered, revived or quiesced. </p>
<p>This is used to void unnecessary calls to <a class="el" href="group__lu.html#ga00d029e31ae6e5f4edc94121d8bc4a45" title="Allocate for context all missing keys that were registered after context creation...">lu_context_refill()</a>. No locking is provided, as initialization and shutdown are supposed to be externally serialized. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01396">1396</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a81dff9b58f880a0bc720c5cb63a146c1"></a><!-- doxytag: member="lu_object.c::lu_cache_nr" ref="a81dff9b58f880a0bc720c5cb63a146c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="lu__object_8c.html#a81dff9b58f880a0bc720c5cb63a146c1">lu_cache_nr</a> = LU_CACHE_NR_DEFAULT<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00085">85</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00921">lu_htable_order()</a>, and <a class="el" href="lu__object_8c_source.html#l00658">lu_object_limit()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6aa4e65b800e75a5ff3fcf815efb590"></a><!-- doxytag: member="lu_object.c::lu_cache_percent" ref="ab6aa4e65b800e75a5ff3fcf815efb590" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="lu__object_8c.html#ab6aa4e65b800e75a5ff3fcf815efb590">lu_cache_percent</a> = LU_CACHE_PERCENT_DEFAULT<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00081">81</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00921">lu_htable_order()</a>.</p>

</div>
</div>
<a class="anchor" id="a007601f38142689795f60af9c8ce2bc8"></a><!-- doxytag: member="lu_object.c::lu_context_remembered" ref="a007601f38142689795f60af9c8ce2bc8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="lu__object_8c.html#a007601f38142689795f60af9c8ce2bc8">lu_context_remembered</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of remembered contexts. </p>
<p>XXX document me. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01587">1587</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01729">lu_context_init()</a>, <a class="el" href="lu__object_8c_source.html#l01594">lu_context_key_quiesce()</a>, and <a class="el" href="lu__object_8c_source.html#l02134">lu_global_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a45e3935b09c98d54ef3539a88bb8a672"></a><!-- doxytag: member="lu_object.c::lu_debugging_env" ref="a45e3935b09c98d54ef3539a88bb8a672" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__env.html">lu_env</a> <a class="el" href="lu__object_8c.html#a45e3935b09c98d54ef3539a88bb8a672">lu_debugging_env</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Environment to be used in debugger, contains all tags. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l02090">2090</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l02106">lu_debugging_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a97546190d70c3d687ed4e949a0e9bd31"></a><!-- doxytag: member="lu_object.c::lu_device_types" ref="a97546190d70c3d687ed4e949a0e9bd31" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="lu__object_8c.html#a97546190d70c3d687ed4e949a0e9bd31">lu_device_types</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Global list of all device types. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00833">833</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l00835">lu_device_type_init()</a>, and <a class="el" href="lu__object_8c_source.html#l02134">lu_global_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa586a3a0456dd64663d185ea4e6b1c13"></a><!-- doxytag: member="lu_object.c::lu_global_key" ref="aa586a3a0456dd64663d185ea4e6b1c13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> <a class="el" href="lu__object_8c.html#aa586a3a0456dd64663d185ea4e6b1c13">lu_global_key</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .lct_tags = <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa51f264f8e3ea36a381cf8aaaa9672752" title="Thread on md server.">LCT_MD_THREAD</a> | <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa130ed4529679eed5a88d5dc63db1921f" title="Thread on dt server.">LCT_DT_THREAD</a> |
                    <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa582fa482375137187e808b1f5f8662d1" title="MGS device thread.">LCT_MG_THREAD</a> | <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa40dab32b35c819b558399c29e75bd57d" title="Thread on client.">LCT_CL_THREAD</a> | <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa87bf2c0c71c5af685cf15e809a7ed551" title="Context for local operations.">LCT_LOCAL</a>,
        .lct_init = lu_global_key_init,
        .lct_fini = lu_global_key_fini
}
</pre></div>
<p>Key, holding temporary buffer. </p>
<p>This key is registered very early by <a class="el" href="group__lu.html#ga25ead0509e25dab69f6c92ac1c465ce4" title="One-time initializers, called at obdclass module initialization, not exported.">lu_global_init()</a>. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00481">481</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a77750f9648bef9513ffd2a2117cbc3ad"></a><!-- doxytag: member="lu_object.c::lu_key_initing_cnt" ref="a77750f9648bef9513ffd2a2117cbc3ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t <a class="el" href="lu__object_8c.html#a77750f9648bef9513ffd2a2117cbc3ad">lu_key_initing_cnt</a> = ATOMIC_INIT(0)<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01388">1388</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a170918949a715879bf44d2d40e795116"></a><!-- doxytag: member="lu_object.c::lu_keys" ref="a170918949a715879bf44d2d40e795116" args="[LU_CONTEXT_KEY_NR]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__context__key.html">lu_context_key</a>* <a class="el" href="lu__object_8c.html#a170918949a715879bf44d2d40e795116">lu_keys</a>[LU_CONTEXT_KEY_NR] = { NULL, }<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01385">1385</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a12f3ed0943a44dcb8bef90027b86393c"></a><!-- doxytag: member="lu_object.c::lu_shrink_env" ref="a12f3ed0943a44dcb8bef90027b86393c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__env.html">lu_env</a> <a class="el" href="lu__object_8c.html#a12f3ed0943a44dcb8bef90027b86393c">lu_shrink_env</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Global environment used by site shrinker. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00873">873</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l02003">lu_cache_shrink_scan()</a>, <a class="el" href="lu__object_8c_source.html#l01455">lu_context_key_degister()</a>, <a class="el" href="lu__object_8c_source.html#l02181">lu_global_fini()</a>, <a class="el" href="lu__object_8c_source.html#l02134">lu_global_init()</a>, and <a class="el" href="lu__object_8c_source.html#l01166">lu_site_init_finish()</a>.</p>

</div>
</div>
<a class="anchor" id="a87be3ff633da766c7aa5077c9922e3f9"></a><!-- doxytag: member="lu_object.c::lu_site_hash_ops" ref="a87be3ff633da766c7aa5077c9922e3f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash__ops.html">cfs_hash_ops</a> <a class="el" href="lu__object_8c.html#a87be3ff633da766c7aa5077c9922e3f9">lu_site_hash_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .hs_hash        = <a class="code" href="lu__object_8c.html#a2f18cac1352a410cd9488130e465f4d5">lu_obj_hop_hash</a>,
        .hs_key         = <a class="code" href="lu__object_8c.html#a4b8369600d48498528180cefe8f5ecbe">lu_obj_hop_key</a>,
        .hs_keycmp      = <a class="code" href="lu__object_8c.html#a0bb043881855ce5c2405ae855e339557">lu_obj_hop_keycmp</a>,
        .hs_object      = <a class="code" href="lu__object_8c.html#a62bbfa3efbeede0d778f2751c27eb811">lu_obj_hop_object</a>,
        .hs_get         = <a class="code" href="lu__object_8c.html#a94527a5cf430f704226cc17e258863e6">lu_obj_hop_get</a>,
        .hs_put_locked  = <a class="code" href="lu__object_8c.html#ae0494e7a27ffd02026876b5f1abb3343">lu_obj_hop_put_locked</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01029">1029</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a238d797d27acf349a12e7d83895300c6"></a><!-- doxytag: member="lu_object.c::lu_site_shrinker" ref="a238d797d27acf349a12e7d83895300c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct shrinker* <a class="el" href="lu__object_8c.html#a238d797d27acf349a12e7d83895300c6">lu_site_shrinker</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l01928">1928</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8205a91942a8ae6afda2ac8da0d78d74"></a><!-- doxytag: member="lu_object.c::lu_sites" ref="a8205a91942a8ae6afda2ac8da0d78d74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="lu__object_8c.html#a8205a91942a8ae6afda2ac8da0d78d74">lu_sites</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Global list of all sites on this node. </p>

<p>Definition at line <a class="el" href="lu__object_8c_source.html#l00867">867</a> of file <a class="el" href="lu__object_8c_source.html">lu_object.c</a>.</p>

<p>Referenced by <a class="el" href="lu__object_8c_source.html#l01980">lu_cache_shrink_count()</a>, <a class="el" href="lu__object_8c_source.html#l02003">lu_cache_shrink_scan()</a>, <a class="el" href="lu__object_8c_source.html#l02134">lu_global_init()</a>, and <a class="el" href="lu__object_8c_source.html#l01166">lu_site_init_finish()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
