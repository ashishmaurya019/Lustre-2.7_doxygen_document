<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/llite/dcache.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/llite/dcache.c File Reference</h1><code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/sched.h&gt;</code><br/>
<code>#include &lt;linux/quotaops.h&gt;</code><br/>
<code>#include &lt;linux/kernel.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__support_8h_source.html">obd_support.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__idl_8h_source.html">lustre/lustre_idl.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="llite__internal_8h_source.html">llite_internal.h</a>&quot;</code><br/>

<p><a href="dcache_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_LLITE</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#ac17bc7d30db26d436c4401a0f3364695">free_dentry_data</a> (struct rcu_head *<a class="el" href="writemany_8c.html#af39400667a953a7c5c34e3964aa1ce9f">head</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#a19fba2ff7ef1502d68bcc1e8acc2ffdd">ll_release</a> (struct dentry *de)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#ae3dd03423f7c34e7330d37cdc08d035c">ll_dcompare</a> (struct dentry *parent, struct qstr *d_name, struct qstr *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#a99abe4abcbe114efc3e34e4d0cfa6455">ll_ddelete</a> (HAVE_D_DELETE_CONST struct dentry *de)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when last reference to a dentry is dropped and dcache wants to know whether or not it should cache it:</p>
<ul>
<li>return 1 to delete the dentry immediately</li>
<li>return 0 to cache the dentry Should NOT be called with the dcache lock, see fs/dcache.c. </li>
</ul>
 <a href="#a99abe4abcbe114efc3e34e4d0cfa6455"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#aa01eba068384399c49be7347a116595e">ll_d_init</a> (struct dentry *de)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#a69e35e19f520e51dc46bd97a7721ebf1">ll_intent_drop_lock</a> (struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#a9024654ab9e3ef7cf259744a2e242cb8">ll_intent_release</a> (struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#aa4c4fd6c24125ea068a32608646875f6">ll_invalidate_aliases</a> (struct inode *inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#a6620129f328a87c61d97bda32fed1013">ll_revalidate_it_finish</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *request, struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct dentry *de)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#a0f47424b8bfd9f83f2f383a9a991c751">ll_lookup_finish_locks</a> (struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *it, struct dentry *dentry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#acc21494eb9b1a2d009da29687953e826">ll_revalidate_dentry</a> (struct dentry *dentry, unsigned int lookup_flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#a7911ece228e9dde0ba280de521c5cfc4">ll_revalidate_nd</a> (struct dentry *dentry, struct nameidata *nd)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct dentry_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcache_8c.html#a519b233462b53aec180d34da236ca55a">ll_d_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="dcache.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_LLITE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00042">42</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac17bc7d30db26d436c4401a0f3364695"></a><!-- doxytag: member="dcache.c::free_dentry_data" ref="ac17bc7d30db26d436c4401a0f3364695" args="(struct rcu_head *head)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void free_dentry_data </td>
          <td>(</td>
          <td class="paramtype">struct rcu_head *&nbsp;</td>
          <td class="paramname"> <em>head</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00050">50</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l00084">ll_dentry_data::lld_rcu_head</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="dcache_8c_source.html#l00059">ll_release()</a>.</p>

</div>
</div>
<a class="anchor" id="aa01eba068384399c49be7347a116595e"></a><!-- doxytag: member="dcache.c::ll_d_init" ref="aa01eba068384399c49be7347a116595e" args="(struct dentry *de)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_d_init </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>de</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00169">169</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l01441">__d_lustre_invalidate()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00142">D_DENTRY</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="lustre__patchless__compat_8h_source.html#l00115">ll_d_count</a>, <a class="el" href="dcache_8c_source.html#l00394">ll_d_ops</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="namei_8c_source.html#l00431">ll_splice_alias()</a>.</p>

</div>
</div>
<a class="anchor" id="ae3dd03423f7c34e7330d37cdc08d035c"></a><!-- doxytag: member="dcache.c::ll_dcompare" ref="ae3dd03423f7c34e7330d37cdc08d035c" args="(struct dentry *parent, struct qstr *d_name, struct qstr *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_dcompare </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct qstr *&nbsp;</td>
          <td class="paramname"> <em>d_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct qstr *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00096">96</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00142">D_DENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l01434">d_lustre_invalid()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__patchless__compat_8h_source.html#l00115">ll_d_count</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a99abe4abcbe114efc3e34e4d0cfa6455"></a><!-- doxytag: member="dcache.c::ll_ddelete" ref="a99abe4abcbe114efc3e34e4d0cfa6455" args="(HAVE_D_DELETE_CONST struct dentry *de)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_ddelete </td>
          <td>(</td>
          <td class="paramtype">HAVE_D_DELETE_CONST struct dentry *&nbsp;</td>
          <td class="paramname"> <em>de</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when last reference to a dentry is dropped and dcache wants to know whether or not it should cache it:</p>
<ul>
<li>return 1 to delete the dentry immediately</li>
<li>return 0 to cache the dentry Should NOT be called with the dcache lock, see fs/dcache.c. </li>
</ul>
</p>

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00135">135</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00142">D_DENTRY</a>, <a class="el" href="llite__internal_8h_source.html#l01434">d_lustre_invalid()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__patchless__compat_8h_source.html#l00115">ll_d_count</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="a69e35e19f520e51dc46bd97a7721ebf1"></a><!-- doxytag: member="dcache.c::ll_intent_drop_lock" ref="a69e35e19f520e51dc46bd97a7721ebf1" args="(struct lookup_intent *it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_intent_drop_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00204">204</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs__debug_8h_source.html#l00145">D_DLMTRACE</a>, <a class="el" href="lustre__intent_8h_source.html#l00048">lookup_intent::it_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="lustre__intent_8h_source.html#l00052">lookup_intent::it_remote_lock_handle</a>, <a class="el" href="lustre__intent_8h_source.html#l00051">lookup_intent::it_remote_lock_mode</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, and <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00369">ll_intent_file_open()</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="file_8c_source.html#l04076">ll_layout_refresh_locked()</a>, <a class="el" href="dcache_8c_source.html#l00299">ll_lookup_finish_locks()</a>, <a class="el" href="statahead_8c_source.html#l00653">ll_statahead_interpret()</a>, and <a class="el" href="xattr__cache_8c_source.html#l00385">ll_xattr_cache_refill()</a>.</p>

</div>
</div>
<a class="anchor" id="a9024654ab9e3ef7cf259744a2e242cb8"></a><!-- doxytag: member="dcache.c::ll_intent_release" ref="a9024654ab9e3ef7cf259744a2e242cb8" args="(struct lookup_intent *it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_intent_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00230">230</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="lustre__idl_8h_source.html#l02069">DISP_ENQ_CREATE_REF</a>, <a class="el" href="lustre__idl_8h_source.html#l02068">DISP_ENQ_OPEN_REF</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__intent_8h_source.html#l00046">lookup_intent::it_disposition</a>, <a class="el" href="lustre__intent_8h_source.html#l00057">it_disposition()</a>, <a class="el" href="lustre__intent_8h_source.html#l00053">lookup_intent::it_request</a>, <a class="el" href="dcache_8c_source.html#l00204">ll_intent_drop_lock()</a>, and <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03324">__ll_inode_revalidate()</a>, <a class="el" href="namei_8c_source.html#l01090">ll_create_nd()</a>, <a class="el" href="file_8c_source.html#l00700">ll_lease_open()</a>, <a class="el" href="namei_8c_source.html#l00551">ll_lookup_it()</a>, <a class="el" href="namei_8c_source.html#l00461">ll_lookup_it_finish()</a>, <a class="el" href="namei_8c_source.html#l00784">ll_lookup_nd()</a>, <a class="el" href="file_8c_source.html#l01445">ll_lov_setstripe_ea_info()</a>, <a class="el" href="dcache_8c_source.html#l00059">ll_release()</a>, <a class="el" href="statahead_8c_source.html#l00653">ll_statahead_interpret()</a>, <a class="el" href="statahead_8c_source.html#l01394">revalidate_statahead_dentry()</a>, <a class="el" href="statahead_8c_source.html#l00342">sa_make_ready()</a>, and <a class="el" href="statahead_8c_source.html#l00787">sa_revalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4c4fd6c24125ea068a32608646875f6"></a><!-- doxytag: member="dcache.c::ll_invalidate_aliases" ref="aa4c4fd6c24125ea068a32608646875f6" args="(struct inode *inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_invalidate_aliases </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00248">248</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00142">D_DENTRY</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="llite__internal_8h_source.html#l01454">d_lustre_invalidate()</a>, <a class="el" href="lustre__compat_8h_source.html#l00239">DECLARE_LL_D_HLIST_NODE_PTR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00302">libcfs_debug_dumpstack</a>, <a class="el" href="lustre__compat_8h_source.html#l00236">ll_d_hlist_for_each_entry</a>, <a class="el" href="llite__lib_8c_source.html#l02583">ll_get_fsname()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="llite__internal_8h_source.html#l01416">ll_lock_dcache()</a>, <a class="el" href="llite__internal_8h_source.html#l01425">ll_unlock_dcache()</a>, <a class="el" href="llite__lib_8c_source.html#l00705">lustre_dump_dentry()</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="namei_8c_source.html#l00187">ll_md_blocking_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f47424b8bfd9f83f2f383a9a991c751"></a><!-- doxytag: member="dcache.c::ll_lookup_finish_locks" ref="a0f47424b8bfd9f83f2f383a9a991c751" args="(struct lookup_intent *it, struct dentry *dentry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ll_lookup_finish_locks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00299">299</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00145">D_DLMTRACE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="packet-lustre_8c_source.html#l00236">IT_GETATTR</a>, <a class="el" href="lustre__intent_8h_source.html#l00050">lookup_intent::it_lock_mode</a>, <a class="el" href="packet-lustre_8c_source.html#l00237">IT_LOOKUP</a>, <a class="el" href="lustre__intent_8h_source.html#l00043">lookup_intent::it_op</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l01090">ll_i2sbi()</a>, <a class="el" href="llite__internal_8h_source.html#l01105">ll_inode2fid()</a>, <a class="el" href="dcache_8c_source.html#l00204">ll_intent_drop_lock()</a>, <a class="el" href="llite__internal_8h_source.html#l00523">ll_sb_info::ll_md_exp</a>, <a class="el" href="llite__internal_8h_source.html#l01379">ll_set_lock_data()</a>, and <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03324">__ll_inode_revalidate()</a>, and <a class="el" href="namei_8c_source.html#l00551">ll_lookup_it()</a>.</p>

</div>
</div>
<a class="anchor" id="a19fba2ff7ef1502d68bcc1e8acc2ffdd"></a><!-- doxytag: member="dcache.c::ll_release" ref="a19fba2ff7ef1502d68bcc1e8acc2ffdd" args="(struct dentry *de)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_release </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>de</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00059">59</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="dcache_8c_source.html#l00050">free_dentry_data()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="llite__internal_8h_source.html#l00087">ll_d2d</a>, <a class="el" href="dcache_8c_source.html#l00230">ll_intent_release()</a>, <a class="el" href="llite__internal_8h_source.html#l00081">ll_dentry_data::lld_it</a>, <a class="el" href="llite__internal_8h_source.html#l00084">ll_dentry_data::lld_rcu_head</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

</div>
</div>
<a class="anchor" id="acc21494eb9b1a2d009da29687953e826"></a><!-- doxytag: member="dcache.c::ll_revalidate_dentry" ref="acc21494eb9b1a2d009da29687953e826" args="(struct dentry *dentry, unsigned int lookup_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_revalidate_dentry </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>lookup_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00322">322</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="llite__internal_8h_source.html#l01262">dentry_may_statahead()</a>, <a class="el" href="mmap__sanity_8c_source.html#l00053">dir</a>, <a class="el" href="statahead_8c_source.html#l01624">ll_statahead()</a>, and <a class="el" href="llite__internal_8h_source.html#l00067">LOOKUP_CONTINUE</a>.</p>

<p>Referenced by <a class="el" href="dcache_8c_source.html#l00374">ll_revalidate_nd()</a>.</p>

</div>
</div>
<a class="anchor" id="a6620129f328a87c61d97bda32fed1013"></a><!-- doxytag: member="dcache.c::ll_revalidate_it_finish" ref="a6620129f328a87c61d97bda32fed1013" args="(struct ptlrpc_request *request, struct lookup_intent *it, struct dentry *de)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ll_revalidate_it_finish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlookup__intent.html">lookup_intent</a> *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>de</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00281">281</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l02063">DISP_LOOKUP_NEG</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__intent_8h_source.html#l00057">it_disposition()</a>, <a class="el" href="llite__lib_8c_source.html#l02284">ll_prep_inode()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l03324">__ll_inode_revalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="a7911ece228e9dde0ba280de521c5cfc4"></a><!-- doxytag: member="dcache.c::ll_revalidate_nd" ref="a7911ece228e9dde0ba280de521c5cfc4" args="(struct dentry *dentry, struct nameidata *nd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ll_revalidate_nd </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&nbsp;</td>
          <td class="paramname"> <em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nameidata *&nbsp;</td>
          <td class="paramname"> <em>nd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dcache_8c_source.html#l00374">374</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00150">D_VFSTRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="dcache_8c_source.html#l00322">ll_revalidate_dentry()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a519b233462b53aec180d34da236ca55a"></a><!-- doxytag: member="dcache.c::ll_d_ops" ref="a519b233462b53aec180d34da236ca55a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct dentry_operations <a class="el" href="llite__internal_8h.html#a519b233462b53aec180d34da236ca55a">ll_d_ops</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .d_revalidate = <a class="code" href="dcache_8c.html#a7911ece228e9dde0ba280de521c5cfc4">ll_revalidate_nd</a>,
        .d_release = <a class="code" href="dcache_8c.html#a19fba2ff7ef1502d68bcc1e8acc2ffdd">ll_release</a>,
        .d_delete  = <a class="code" href="dcache_8c.html#a99abe4abcbe114efc3e34e4d0cfa6455" title="Called when last reference to a dentry is dropped and dcache wants to know whether...">ll_ddelete</a>,
        .d_compare = <a class="code" href="dcache_8c.html#ae3dd03423f7c34e7330d37cdc08d035c">ll_dcompare</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="dcache_8c_source.html#l00394">394</a> of file <a class="el" href="dcache_8c_source.html">dcache.c</a>.</p>

<p>Referenced by <a class="el" href="llite__lib_8c_source.html#l00164">client_common_fill_super()</a>, <a class="el" href="dcache_8c_source.html#l00169">ll_d_init()</a>, and <a class="el" href="llite__lib_8c_source.html#l00992">ll_fill_super()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:47 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
