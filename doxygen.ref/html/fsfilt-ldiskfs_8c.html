<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/lvfs/fsfilt-ldiskfs.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/lvfs/fsfilt-ldiskfs.c File Reference</h1><code>#include &lt;linux/init.h&gt;</code><br/>
<code>#include &lt;linux/module.h&gt;</code><br/>
<code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/slab.h&gt;</code><br/>
<code>#include &lt;linux/pagemap.h&gt;</code><br/>
<code>#include &lt;ldiskfs/ldiskfs.h&gt;</code><br/>
<code>#include &lt;ldiskfs/ldiskfs_jbd2.h&gt;</code><br/>
<code>#include &lt;linux/version.h&gt;</code><br/>
<code>#include &lt;linux/bitops.h&gt;</code><br/>
<code>#include &lt;linux/quota.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="libcfs_8h_source.html">libcfs/libcfs.h</a>&gt;</code><br/>
<code>#include &lt;lustre_fsfilt.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd_8h_source.html">obd.h</a>&gt;</code><br/>
<code>#include &lt;linux/lustre_compat25.h&gt;</code><br/>
<code>#include &lt;linux/lprocfs_status.h&gt;</code><br/>
<code>#include &lt;ldiskfs/ldiskfs_extents.h&gt;</code><br/>

<p><a href="fsfilt-ldiskfs_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbpointers.html">bpointers</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_FILTER</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a9b7351551b2102838b48937964dffb09">fsfilt_ldiskfs_ext_insert_extent</a>(handle, inode, <a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, newext, flag)&nbsp;&nbsp;&nbsp;ldiskfs_ext_insert_extent(handle, inode, <a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, newext, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a78f23b2fbb8461e7f2a6a3ea2eddd742">ldiskfs_mb_discard_inode_preallocations</a>(inode)&nbsp;&nbsp;&nbsp;ldiskfs_discard_preallocations(inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a3fbffc82b2c9761fe106badb9558e9d4">LDISKFS_EXTENTS_FL</a>&nbsp;&nbsp;&nbsp;0x00080000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a77ba1381aa50a40a4e3e16fd267d8d54">EXT_ASSERT</a>(cond)&nbsp;&nbsp;&nbsp;BUG_ON(!(cond))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a0547619d780fe17b49acc7eeba72123c">EXT_GENERATION</a>(inode)&nbsp;&nbsp;&nbsp;(LDISKFS_I(inode)-&gt;i_ext_generation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#ae081709352de4beaa7b70c632ce01245">ldiskfs_ext_base</a>&nbsp;&nbsp;&nbsp;inode</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a6e87e8094440f48d92922b1cd5d52c74">ldiskfs_ext_base2inode</a>(inode)&nbsp;&nbsp;&nbsp;(inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#ad24ce6da7fd8ef37b7cf157af553055c">EXT_DEPTH</a>(inode)&nbsp;&nbsp;&nbsp;ext_depth(inode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#aca5b91b7d22717cb6d8c7944e958985f">fsfilt_ldiskfs_ext_walk_space</a>(inode, block, num, cb, cbdata)&nbsp;&nbsp;&nbsp;ldiskfs_ext_walk_space(inode, block, num, cb, cbdata);</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#aa1c04cbd7b5b7afe7d3ba652e9aed0a0">ll_unmap_underlying_metadata</a>(sb, blocknr)&nbsp;&nbsp;&nbsp;unmap_underlying_metadata((sb)-&gt;s_bdev, blocknr)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#ad89fc28549f5059bcfdb3ac48a922b2b">ldiskfs_ext_find_goal</a> (struct inode *inode, struct ldiskfs_ext_path *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, unsigned long block, int *aflags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a1f1327471d66de2c86ee6f851b06c9de">new_blocks</a> (handle_t *handle, struct ldiskfs_ext_base *base, struct ldiskfs_ext_path *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, unsigned long block, unsigned long *count, int *err)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a0cabee4176dba6398f5fc9c8bd429f08">ldiskfs_ext_new_extent_cb</a> (struct ldiskfs_ext_base *base, struct ldiskfs_ext_path *<a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, struct ldiskfs_ext_cache *cex, void *cbdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a9c9b35f62f93f4fa7ec59f2e1761a832">fsfilt_map_nblocks</a> (struct inode *inode, unsigned long block, unsigned long num, unsigned long *blocks, int create)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a8c218c07e408ac950fabbf5bf6b6c1a8">fsfilt_ldiskfs_map_ext_inode_pages</a> (struct inode *inode, struct page **page, int pages, unsigned long *blocks, int create)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a5a34b6c30e27424f3c690016b4d141f4">fsfilt_ldiskfs_map_bm_inode_pages</a> (struct inode *inode, struct page **page, int pages, unsigned long *blocks, int create)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#ad06f8f7c54f28e10c9e41d4bb1d63490">fsfilt_ldiskfs_map_inode_pages</a> (struct inode *inode, struct page **page, int pages, unsigned long *blocks, int create, struct mutex *optional_mutex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int __init&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#ab23242cdb08e90fc9472d12c5a077e9c">fsfilt_ldiskfs_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void __exit&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#adfaf4a461121901c863d8a3213ae1987">fsfilt_ldiskfs_exit</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a735c4e1e9e73899ffd8931976c7cc2ac">module_init</a> (fsfilt_ldiskfs_init)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a9755fd51e2cf4fc81ba9dc4bc963d79c">module_exit</a> (fsfilt_ldiskfs_exit)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a8352146ed530d10d05520e84f4791d0c">MODULE_AUTHOR</a> (&quot;Sun Microsystems, Inc. &lt;http://www.lustre.org/&gt;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#aaf5fb4d598e63c507306b4d1756c444a">MODULE_DESCRIPTION</a> (&quot;Lustre ldiskfs Filesystem Helper v0.1&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#ad94b36675e7eb067ea3ce6ff9e244a44">MODULE_LICENSE</a> (&quot;GPL&quot;)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct fsfilt_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfilt-ldiskfs_8c.html#a5fa403953eaef79e6310bd13360dd4e2">fsfilt_ldiskfs_ops</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_FILTER</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00041">41</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a77ba1381aa50a40a4e3e16fd267d8d54"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::EXT_ASSERT" ref="a77ba1381aa50a40a4e3e16fd267d8d54" args="(cond)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXT_ASSERT</td>
          <td>(</td>
          <td class="paramtype">cond&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;BUG_ON(!(cond))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00078">78</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00176">ldiskfs_ext_new_extent_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="ad24ce6da7fd8ef37b7cf157af553055c"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::EXT_DEPTH" ref="ad24ce6da7fd8ef37b7cf157af553055c" args="(inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXT_DEPTH</td>
          <td>(</td>
          <td class="paramtype">inode&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ext_depth(inode)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00084">84</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0547619d780fe17b49acc7eeba72123c"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::EXT_GENERATION" ref="a0547619d780fe17b49acc7eeba72123c" args="(inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXT_GENERATION</td>
          <td>(</td>
          <td class="paramtype">inode&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(LDISKFS_I(inode)-&gt;i_ext_generation)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00081">81</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00176">ldiskfs_ext_new_extent_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b7351551b2102838b48937964dffb09"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::fsfilt_ldiskfs_ext_insert_extent" ref="a9b7351551b2102838b48937964dffb09" args="(handle, inode, path, newext, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fsfilt_ldiskfs_ext_insert_extent</td>
          <td>(</td>
          <td class="paramtype">handle, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">inode, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">newext, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ldiskfs_ext_insert_extent(handle, inode, <a class="el" href="mdsrate_8c.html#ae8592c5c8f37a4598973aaa27f45dc4c">path</a>, newext, flag)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00067">67</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00176">ldiskfs_ext_new_extent_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="aca5b91b7d22717cb6d8c7944e958985f"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::fsfilt_ldiskfs_ext_walk_space" ref="aca5b91b7d22717cb6d8c7944e958985f" args="(inode, block, num, cb, cbdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fsfilt_ldiskfs_ext_walk_space</td>
          <td>(</td>
          <td class="paramtype">inode, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">block, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">num, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cb, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cbdata&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ldiskfs_ext_walk_space(inode, block, num, cb, cbdata);</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00085">85</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00333">fsfilt_map_nblocks()</a>.</p>

</div>
</div>
<a class="anchor" id="ae081709352de4beaa7b70c632ce01245"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::ldiskfs_ext_base" ref="ae081709352de4beaa7b70c632ce01245" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ldiskfs_ext_base&nbsp;&nbsp;&nbsp;inode</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00082">82</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00333">fsfilt_map_nblocks()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e87e8094440f48d92922b1cd5d52c74"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::ldiskfs_ext_base2inode" ref="a6e87e8094440f48d92922b1cd5d52c74" args="(inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ldiskfs_ext_base2inode</td>
          <td>(</td>
          <td class="paramtype">inode&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(inode)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00083">83</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00176">ldiskfs_ext_new_extent_cb()</a>, and <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00130">new_blocks()</a>.</p>

</div>
</div>
<a class="anchor" id="a3fbffc82b2c9761fe106badb9558e9d4"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::LDISKFS_EXTENTS_FL" ref="a3fbffc82b2c9761fe106badb9558e9d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDISKFS_EXTENTS_FL&nbsp;&nbsp;&nbsp;0x00080000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00074">74</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00426">fsfilt_ldiskfs_map_inode_pages()</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01095">osd_declare_write_commit()</a>, <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l01478">osd_extents_enabled()</a>, and <a class="el" href="osd-ldiskfs_2osd__io_8c_source.html#l00862">osd_ldiskfs_map_inode_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="a78f23b2fbb8461e7f2a6a3ea2eddd742"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::ldiskfs_mb_discard_inode_preallocations" ref="a78f23b2fbb8461e7f2a6a3ea2eddd742" args="(inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ldiskfs_mb_discard_inode_preallocations</td>
          <td>(</td>
          <td class="paramtype">inode&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ldiskfs_discard_preallocations(inode)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00070">70</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00176">ldiskfs_ext_new_extent_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1c04cbd7b5b7afe7d3ba652e9aed0a0"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::ll_unmap_underlying_metadata" ref="aa1c04cbd7b5b7afe7d3ba652e9aed0a0" args="(sb, blocknr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ll_unmap_underlying_metadata</td>
          <td>(</td>
          <td class="paramtype">sb, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">blocknr&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;unmap_underlying_metadata((sb)-&gt;s_bdev, blocknr)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00126">126</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00176">ldiskfs_ext_new_extent_cb()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="adfaf4a461121901c863d8a3213ae1987"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::fsfilt_ldiskfs_exit" ref="adfaf4a461121901c863d8a3213ae1987" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __exit fsfilt_ldiskfs_exit </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00457">457</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab23242cdb08e90fc9472d12c5a077e9c"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::fsfilt_ldiskfs_init" ref="ab23242cdb08e90fc9472d12c5a077e9c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __init fsfilt_ldiskfs_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00452">452</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5a34b6c30e27424f3c690016b4d141f4"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::fsfilt_ldiskfs_map_bm_inode_pages" ref="a5a34b6c30e27424f3c690016b4d141f4" args="(struct inode *inode, struct page **page, int pages, unsigned long *blocks, int create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsfilt_ldiskfs_map_bm_inode_pages </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page **&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>create</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00405">405</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00426">fsfilt_ldiskfs_map_inode_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c218c07e408ac950fabbf5bf6b6c1a8"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::fsfilt_ldiskfs_map_ext_inode_pages" ref="a8c218c07e408ac950fabbf5bf6b6c1a8" args="(struct inode *inode, struct page **page, int pages, unsigned long *blocks, int create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsfilt_ldiskfs_map_ext_inode_pages </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page **&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>create</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00356">356</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="fsx_8c_source.html#l01082">cleanup()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00141">D_OTHER</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00333">fsfilt_map_nblocks()</a>, and <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00426">fsfilt_ldiskfs_map_inode_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="ad06f8f7c54f28e10c9e41d4bb1d63490"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::fsfilt_ldiskfs_map_inode_pages" ref="ad06f8f7c54f28e10c9e41d4bb1d63490" args="(struct inode *inode, struct page **page, int pages, unsigned long *blocks, int create, struct mutex *optional_mutex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsfilt_ldiskfs_map_inode_pages </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page **&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct mutex *&nbsp;</td>
          <td class="paramname"> <em>optional_mutex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00426">426</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>References <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00405">fsfilt_ldiskfs_map_bm_inode_pages()</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00356">fsfilt_ldiskfs_map_ext_inode_pages()</a>, and <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00074">LDISKFS_EXTENTS_FL</a>.</p>

</div>
</div>
<a class="anchor" id="a9c9b35f62f93f4fa7ec59f2e1761a832"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::fsfilt_map_nblocks" ref="a9c9b35f62f93f4fa7ec59f2e1761a832" args="(struct inode *inode, unsigned long block, unsigned long num, unsigned long *blocks, int create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsfilt_map_nblocks </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>create</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00333">333</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>References <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00089">bpointers::blocks</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00093">bpointers::create</a>, <a class="el" href="libcfs__debug_8h_source.html#l00141">D_OTHER</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00085">fsfilt_ldiskfs_ext_walk_space</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00092">bpointers::init_num</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00082">ldiskfs_ext_base</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00176">ldiskfs_ext_new_extent_cb()</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00091">bpointers::num</a>, and <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00090">bpointers::start</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00356">fsfilt_ldiskfs_map_ext_inode_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="ad89fc28549f5059bcfdb3ac48a922b2b"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::ldiskfs_ext_find_goal" ref="ad89fc28549f5059bcfdb3ac48a922b2b" args="(struct inode *inode, struct ldiskfs_ext_path *path, unsigned long block, int *aflags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static long ldiskfs_ext_find_goal </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ldiskfs_ext_path *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>aflags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00096">96</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00130">new_blocks()</a>.</p>

</div>
</div>
<a class="anchor" id="a0cabee4176dba6398f5fc9c8bd429f08"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::ldiskfs_ext_new_extent_cb" ref="a0cabee4176dba6398f5fc9c8bd429f08" args="(struct ldiskfs_ext_base *base, struct ldiskfs_ext_path *path, struct ldiskfs_ext_cache *cex, void *cbdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ldiskfs_ext_new_extent_cb </td>
          <td>(</td>
          <td class="paramtype">struct ldiskfs_ext_base *&nbsp;</td>
          <td class="paramname"> <em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ldiskfs_ext_path *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ldiskfs_ext_cache *&nbsp;</td>
          <td class="paramname"> <em>cex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cbdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00176">176</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>References <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00089">bpointers::blocks</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="byteorder_8h_source.html#l00055">cpu_to_le16</a>, <a class="el" href="byteorder_8h_source.html#l00057">cpu_to_le32</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00093">bpointers::create</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00078">EXT_ASSERT</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00081">EXT_GENERATION</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00067">fsfilt_ldiskfs_ext_insert_extent</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00092">bpointers::init_num</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00083">ldiskfs_ext_base2inode</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00070">ldiskfs_mb_discard_inode_preallocations</a>, <a class="el" href="byteorder_8h_source.html#l00054">le16_to_cpu</a>, <a class="el" href="byteorder_8h_source.html#l00056">le32_to_cpu</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00126">ll_unmap_underlying_metadata</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00130">new_blocks()</a>, <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00091">bpointers::num</a>, and <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00090">bpointers::start</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00333">fsfilt_map_nblocks()</a>.</p>

</div>
</div>
<a class="anchor" id="a8352146ed530d10d05520e84f4791d0c"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::MODULE_AUTHOR" ref="a8352146ed530d10d05520e84f4791d0c" args="(&quot;Sun Microsystems, Inc. &lt;http://www.lustre.org/&gt;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_AUTHOR </td>
          <td>(</td>
          <td class="paramtype">&quot;Sun &nbsp;</td>
          <td class="paramname"> <em>Microsystems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Inc.&lt; http://www.lustre.org/&gt;&quot;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aaf5fb4d598e63c507306b4d1756c444a"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::MODULE_DESCRIPTION" ref="aaf5fb4d598e63c507306b4d1756c444a" args="(&quot;Lustre ldiskfs Filesystem Helper v0.1&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_DESCRIPTION </td>
          <td>(</td>
          <td class="paramtype">&quot;Lustre ldiskfs Filesystem Helper v0.1&quot;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9755fd51e2cf4fc81ba9dc4bc963d79c"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::module_exit" ref="a9755fd51e2cf4fc81ba9dc4bc963d79c" args="(fsfilt_ldiskfs_exit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_exit </td>
          <td>(</td>
          <td class="paramtype">fsfilt_ldiskfs_exit&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a735c4e1e9e73899ffd8931976c7cc2ac"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::module_init" ref="a735c4e1e9e73899ffd8931976c7cc2ac" args="(fsfilt_ldiskfs_init)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_init </td>
          <td>(</td>
          <td class="paramtype">fsfilt_ldiskfs_init&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad94b36675e7eb067ea3ce6ff9e244a44"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::MODULE_LICENSE" ref="ad94b36675e7eb067ea3ce6ff9e244a44" args="(&quot;GPL&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_LICENSE </td>
          <td>(</td>
          <td class="paramtype">&quot;GPL&quot;&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1f1327471d66de2c86ee6f851b06c9de"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::new_blocks" ref="a1f1327471d66de2c86ee6f851b06c9de" args="(handle_t *handle, struct ldiskfs_ext_base *base, struct ldiskfs_ext_path *path, unsigned long block, unsigned long *count, int *err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long new_blocks </td>
          <td>(</td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ldiskfs_ext_base *&nbsp;</td>
          <td class="paramname"> <em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ldiskfs_ext_path *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>err</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00130">130</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

<p>References <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00083">ldiskfs_ext_base2inode</a>, and <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00096">ldiskfs_ext_find_goal()</a>.</p>

<p>Referenced by <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00176">ldiskfs_ext_new_extent_cb()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a5fa403953eaef79e6310bd13360dd4e2"></a><!-- doxytag: member="fsfilt&#45;ldiskfs.c::fsfilt_ldiskfs_ops" ref="a5fa403953eaef79e6310bd13360dd4e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fsfilt_operations <a class="el" href="fsfilt__ldiskfs_8c.html#a5fa403953eaef79e6310bd13360dd4e2">fsfilt_ldiskfs_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .fs_type                = <span class="stringliteral">&quot;ldiskfs&quot;</span>,
        .fs_owner               = THIS_MODULE,
        .fs_map_inode_pages     = <a class="code" href="fsfilt-ldiskfs_8c.html#ad06f8f7c54f28e10c9e41d4bb1d63490">fsfilt_ldiskfs_map_inode_pages</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="fsfilt-ldiskfs_8c_source.html#l00446">446</a> of file <a class="el" href="fsfilt-ldiskfs_8c_source.html">fsfilt-ldiskfs.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
