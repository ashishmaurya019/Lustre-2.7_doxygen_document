<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/utils/gss/svcgssd.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/utils/gss/svcgssd.h File Reference</h1><code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/queue.h&gt;</code><br/>
<code>#include &lt;gssapi/gssapi.h&gt;</code><br/>

<p><a href="svcgssd_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#a524ba59851f8c9b873a81b5a87d25fb7">GSSD_SERVICE_NAME</a>&nbsp;&nbsp;&nbsp;&quot;lustre&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#a7c5312a55c862f0f71b155dfa092d5d1">GSSD_SERVICE_MGS</a>&nbsp;&nbsp;&nbsp;&quot;lustre_mgs&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#a24b48cf63275595bb43b238008d081fc">GSSD_SERVICE_MDS</a>&nbsp;&nbsp;&nbsp;&quot;lustre_mds&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#a732c7093245aea0f013107747c90aad0">GSSD_SERVICE_OSS</a>&nbsp;&nbsp;&nbsp;&quot;lustre_oss&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#a052be938a43684628ecba66e82ce6ef5">LUSTRE_ROOT_NAME</a>&nbsp;&nbsp;&nbsp;&quot;lustre_root&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#a575e419847a413d3f502dd8ed01e3672">LUSTRE_ROOT_NAMELEN</a>&nbsp;&nbsp;&nbsp;11</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#aae017a0762382fcbc556052da9e4564b">handle_nullreq</a> (FILE *f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#a25891595eab41f2cb53bfea80552b15e">svcgssd_run</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#a066905cf95aa29df2e02b1905c9f20fd">gssd_prepare_creds</a> (int must_srv_mgs, int must_srv_mds, int must_srv_oss)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gss_cred_id_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#aa6cad3ecb6a03ce0cfee59bab36852b7">gssd_select_svc_cred</a> (int lustre_svc)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#aa5c2233271dea26ced50baeb89ac7a3f">mds_local_realm</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="svcgssd_8h.html#af4fd934ace7edec884ec3b69840f8dbd">oss_local_realm</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a24b48cf63275595bb43b238008d081fc"></a><!-- doxytag: member="svcgssd.h::GSSD_SERVICE_MDS" ref="a24b48cf63275595bb43b238008d081fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GSSD_SERVICE_MDS&nbsp;&nbsp;&nbsp;&quot;lustre_mds&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8h_source.html#l00050">50</a> of file <a class="el" href="svcgssd_8h_source.html">svcgssd.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7c5312a55c862f0f71b155dfa092d5d1"></a><!-- doxytag: member="svcgssd.h::GSSD_SERVICE_MGS" ref="a7c5312a55c862f0f71b155dfa092d5d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GSSD_SERVICE_MGS&nbsp;&nbsp;&nbsp;&quot;lustre_mgs&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8h_source.html#l00049">49</a> of file <a class="el" href="svcgssd_8h_source.html">svcgssd.h</a>.</p>

</div>
</div>
<a class="anchor" id="a524ba59851f8c9b873a81b5a87d25fb7"></a><!-- doxytag: member="svcgssd.h::GSSD_SERVICE_NAME" ref="a524ba59851f8c9b873a81b5a87d25fb7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GSSD_SERVICE_NAME&nbsp;&nbsp;&nbsp;&quot;lustre&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8h_source.html#l00046">46</a> of file <a class="el" href="svcgssd_8h_source.html">svcgssd.h</a>.</p>

</div>
</div>
<a class="anchor" id="a732c7093245aea0f013107747c90aad0"></a><!-- doxytag: member="svcgssd.h::GSSD_SERVICE_OSS" ref="a732c7093245aea0f013107747c90aad0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GSSD_SERVICE_OSS&nbsp;&nbsp;&nbsp;&quot;lustre_oss&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8h_source.html#l00051">51</a> of file <a class="el" href="svcgssd_8h_source.html">svcgssd.h</a>.</p>

</div>
</div>
<a class="anchor" id="a052be938a43684628ecba66e82ce6ef5"></a><!-- doxytag: member="svcgssd.h::LUSTRE_ROOT_NAME" ref="a052be938a43684628ecba66e82ce6ef5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LUSTRE_ROOT_NAME&nbsp;&nbsp;&nbsp;&quot;lustre_root&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8h_source.html#l00052">52</a> of file <a class="el" href="svcgssd_8h_source.html">svcgssd.h</a>.</p>

</div>
</div>
<a class="anchor" id="a575e419847a413d3f502dd8ed01e3672"></a><!-- doxytag: member="svcgssd.h::LUSTRE_ROOT_NAMELEN" ref="a575e419847a413d3f502dd8ed01e3672" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LUSTRE_ROOT_NAMELEN&nbsp;&nbsp;&nbsp;11</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd_8h_source.html#l00053">53</a> of file <a class="el" href="svcgssd_8h_source.html">svcgssd.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a066905cf95aa29df2e02b1905c9f20fd"></a><!-- doxytag: member="svcgssd.h::gssd_prepare_creds" ref="a066905cf95aa29df2e02b1905c9f20fd" args="(int must_srv_mgs, int must_srv_mds, int must_srv_oss)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gssd_prepare_creds </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>must_srv_mgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>must_srv_mds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>must_srv_oss</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__util_8c_source.html#l00281">281</a> of file <a class="el" href="gss__util_8c_source.html">gss_util.c</a>.</p>

<p>References <a class="el" href="gss__util_8c_source.html#l00225">gssd_acquire_cred()</a>, <a class="el" href="gss__util_8c_source.html#l00085">gssd_cred_mds</a>, <a class="el" href="gss__util_8c_source.html#l00088">gssd_cred_mds_valid</a>, <a class="el" href="gss__util_8c_source.html#l00084">gssd_cred_mgs</a>, <a class="el" href="gss__util_8c_source.html#l00087">gssd_cred_mgs_valid</a>, <a class="el" href="gss__util_8c_source.html#l00086">gssd_cred_oss</a>, <a class="el" href="gss__util_8c_source.html#l00089">gssd_cred_oss_valid</a>, <a class="el" href="gssd_8h_source.html#l00052">GSSD_SERVICE_MDS</a>, <a class="el" href="gssd_8h_source.html#l00051">GSSD_SERVICE_MGS</a>, <a class="el" href="gssd_8h_source.html#l00053">GSSD_SERVICE_OSS</a>, <a class="el" href="gss__util_8c_source.html#l00092">mds_local_realm</a>, <a class="el" href="gss__util_8c_source.html#l00091">mgs_local_realm</a>, <a class="el" href="gss__util_8c_source.html#l00093">oss_local_realm</a>, and <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

<p>Referenced by <a class="el" href="svcgssd_8c_source.html#l00187">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6cad3ecb6a03ce0cfee59bab36852b7"></a><!-- doxytag: member="svcgssd.h::gssd_select_svc_cred" ref="aa6cad3ecb6a03ce0cfee59bab36852b7" args="(int lustre_svc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gss_cred_id_t gssd_select_svc_cred </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lustre_svc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__util_8c_source.html#l00321">321</a> of file <a class="el" href="gss__util_8c_source.html">gss_util.c</a>.</p>

<p>References <a class="el" href="gss__util_8c_source.html#l00085">gssd_cred_mds</a>, <a class="el" href="gss__util_8c_source.html#l00088">gssd_cred_mds_valid</a>, <a class="el" href="gss__util_8c_source.html#l00084">gssd_cred_mgs</a>, <a class="el" href="gss__util_8c_source.html#l00087">gssd_cred_mgs_valid</a>, <a class="el" href="gss__util_8c_source.html#l00086">gssd_cred_oss</a>, <a class="el" href="gss__util_8c_source.html#l00089">gssd_cred_oss_valid</a>, <a class="el" href="lsupport_8h_source.html#l00056">LUSTRE_GSS_SVC_MDS</a>, <a class="el" href="lsupport_8h_source.html#l00055">LUSTRE_GSS_SVC_MGS</a>, <a class="el" href="lsupport_8h_source.html#l00057">LUSTRE_GSS_SVC_OSS</a>, and <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>.</p>

<p>Referenced by <a class="el" href="svcgssd__proc_8c_source.html#l00474">handle_nullreq()</a>.</p>

</div>
</div>
<a class="anchor" id="aae017a0762382fcbc556052da9e4564b"></a><!-- doxytag: member="svcgssd.h::handle_nullreq" ref="aae017a0762382fcbc556052da9e4564b" args="(FILE *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int handle_nullreq </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd__proc_8c_source.html#l00474">474</a> of file <a class="el" href="svcgssd__proc_8c_source.html">svcgssd_proc.c</a>.</p>

<p>References <a class="el" href="svcgssd__proc_8c_source.html#l00077">do_svc_downcall()</a>, <a class="el" href="svcgssd__proc_8c_source.html#l00306">get_ids()</a>, <a class="el" href="gss__api_8h_source.html#l00031">GSS_C_NO_CONTEXT</a>, <a class="el" href="gss__err_8h_source.html#l00137">GSS_S_BAD_NAME</a>, <a class="el" href="gss__err_8h_source.html#l00091">GSS_S_COMPLETE</a>, <a class="el" href="gss__err_8h_source.html#l00175">GSS_S_CONTINUE_NEEDED</a>, <a class="el" href="gss__err_8h_source.html#l00159">GSS_S_FAILURE</a>, <a class="el" href="gss__util_8c_source.html#l00321">gssd_select_svc_cred()</a>, <a class="el" href="out__handler_8c_source.html#l00894">out_handle()</a>, <a class="el" href="lgss__utils_8h_source.html#l00132">pgsserr</a>, <a class="el" href="err__util_8c_source.html#l00098">print_hexl()</a>, <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>, <a class="el" href="cacheio_8c_source.html#l00207">qword_get()</a>, <a class="el" href="cacheio_8c_source.html#l00272">readline()</a>, <a class="el" href="svcgssd__proc_8c_source.html#l00122">send_response()</a>, <a class="el" href="context_8c_source.html#l00047">serialize_context_for_kernel()</a>, and <a class="el" href="svcgssd__proc_8c_source.html#l00064">TOKEN_BUF_SIZE</a>.</p>

<p>Referenced by <a class="el" href="svcgssd__main__loop_8c_source.html#l00061">svcgssd_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a25891595eab41f2cb53bfea80552b15e"></a><!-- doxytag: member="svcgssd.h::svcgssd_run" ref="a25891595eab41f2cb53bfea80552b15e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void svcgssd_run </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="svcgssd__main__loop_8c_source.html#l00061">61</a> of file <a class="el" href="svcgssd__main__loop_8c_source.html">svcgssd_main_loop.c</a>.</p>

<p>References <a class="el" href="svcgssd__proc_8c_source.html#l00474">handle_nullreq()</a>, <a class="el" href="svcgssd__main__loop_8c.html#a9f5e9fe652c4fa243a2f126d75861058">NULLRPC_FILE</a>, <a class="el" href="lgss__utils_8h_source.html#l00129">printerr</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>.</p>

<p>Referenced by <a class="el" href="svcgssd_8c_source.html#l00187">main()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aa5c2233271dea26ced50baeb89ac7a3f"></a><!-- doxytag: member="svcgssd.h::mds_local_realm" ref="aa5c2233271dea26ced50baeb89ac7a3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="svcgssd_8h.html#aa5c2233271dea26ced50baeb89ac7a3f">mds_local_realm</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__util_8c_source.html#l00092">92</a> of file <a class="el" href="gss__util_8c_source.html">gss_util.c</a>.</p>

<p>Referenced by <a class="el" href="svcgssd__proc_8c_source.html#l00306">get_ids()</a>, and <a class="el" href="gss__util_8c_source.html#l00281">gssd_prepare_creds()</a>.</p>

</div>
</div>
<a class="anchor" id="af4fd934ace7edec884ec3b69840f8dbd"></a><!-- doxytag: member="svcgssd.h::oss_local_realm" ref="af4fd934ace7edec884ec3b69840f8dbd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="svcgssd_8h.html#af4fd934ace7edec884ec3b69840f8dbd">oss_local_realm</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gss__util_8c_source.html#l00093">93</a> of file <a class="el" href="gss__util_8c_source.html">gss_util.c</a>.</p>

<p>Referenced by <a class="el" href="gss__util_8c_source.html#l00281">gssd_prepare_creds()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:51 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
