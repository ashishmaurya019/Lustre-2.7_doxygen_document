<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/osd-ldiskfs/osd_oi.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/osd-ldiskfs/osd_oi.h File Reference</h1><code>#include &lt;linux/rwsem.h&gt;</code><br/>
<code>#include &lt;linux/jbd2.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__fid_8h_source.html">lustre_fid.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lu__object_8h_source.html">lu_object.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="md__object_8h_source.html">md_object.h</a>&gt;</code><br/>

<p><a href="osd__oi_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosd__inode__id.html">osd_inode_id</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosd__idmap__cache.html">osd_idmap_cache</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#ac8e15957f8974dbcc8dd86e9ca9ceb96">OSD_OI_FID_NR</a>&nbsp;&nbsp;&nbsp;(1UL &lt;&lt; OSD_OI_FID_OID_BITS)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#ad2befc7a16d7da61835dd6e7dc08be30">OSD_OI_FID_NR_MAX</a>&nbsp;&nbsp;&nbsp;(1UL &lt;&lt; OSD_OI_FID_OID_BITS_MAX)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#a7c5f5e5845306c552dc890802c3600db">OSD_OII_NOGEN</a>&nbsp;&nbsp;&nbsp;(0)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> { <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5a8c4a887baf0eebad6158e6d3e3ec94f3">OI_CHECK_FLD</a> =  0x00000001, 
<a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5a835c66ae9721a9af710bb1cce2f47f65">OI_KNOWN_ON_OST</a> =  0x00000002
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#a3c473436375b2bfba396839c9efd2b75">osd_id_pack</a> (struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *tgt, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *src)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#ad2f9818d1eaa97d4c5c8a48f123ce927">osd_id_unpack</a> (struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *tgt, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *src)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#af505edf3bcfb72b52d88f90f1ed748e3">osd_id_gen</a> (struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, __u32 ino, __u32 gen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#a313718322ec82dec7cbc3d44be720bc1">osd_id_to_inode</a> (struct inode *inode, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#a4941af92754949d9e8de2410a09f9d83">osd_id_eq</a> (const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id0, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#a802ae8cba11057de97caae5033b8cdb6">osd_id_eq_strict</a> (const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id0, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#a072be8df4344a42cda0a1b3ca99ed083">osd_oi_mod_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#a0a5a8a27b6a2cff32988c270f760c123">osd_oi_init</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, bool restored)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#a07ec73eaf18108800ca42eb6efb4a24f">osd_oi_fini</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#aaaf0b38579d87343582b55062afadbd2">osd_oi_lookup</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#a6ab8a2a773427896c921f0ee5a638841">osd_oi_insert</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#abfd71f5bd46d6b6255b2c087c7bcc52a">osd_oi_delete</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, handle_t *th, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#af6bdc345f3b320870d5c87351286ac54">osd_oi_update</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *id, handle_t *th, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="osd__oi_8h.html#aca991b15d5c1d39a064ea8395169a5ce">fid_is_on_ost</a> (struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *info, struct <a class="el" href="structosd__device.html">osd_device</a> *osd, const struct <a class="el" href="structlu__fid.html">lu_fid</a> *fid, enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a> flags)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ac8e15957f8974dbcc8dd86e9ca9ceb96"></a><!-- doxytag: member="osd_oi.h::OSD_OI_FID_NR" ref="ac8e15957f8974dbcc8dd86e9ca9ceb96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSD_OI_FID_NR&nbsp;&nbsp;&nbsp;(1UL &lt;&lt; OSD_OI_FID_OID_BITS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00060">60</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00826">osd_oi_mod_init()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00748">osd_options_init()</a>, and <a class="el" href="llog__reader_8c_source.html#l00140">print_log_path()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2befc7a16d7da61835dd6e7dc08be30"></a><!-- doxytag: member="osd_oi.h::OSD_OI_FID_NR_MAX" ref="ad2befc7a16d7da61835dd6e7dc08be30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSD_OI_FID_NR_MAX&nbsp;&nbsp;&nbsp;(1UL &lt;&lt; OSD_OI_FID_OID_BITS_MAX)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00061">61</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00496">osd_oi_fini()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">osd_oi_init()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00826">osd_oi_mod_init()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00581">osd_oi_probe()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00286">osd_oi_table_open()</a>, and <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00748">osd_options_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c5f5e5845306c552dc890802c3600db"></a><!-- doxytag: member="osd_oi.h::OSD_OII_NOGEN" ref="a7c5f5e5845306c552dc890802c3600db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSD_OII_NOGEN&nbsp;&nbsp;&nbsp;(0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00063">63</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00064">osd_acct_obj_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">osd_consistency_check()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">osd_dirent_check_repair()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02910">osd_ea_fid_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04483">osd_fail_fid_lookup()</a>, <a class="el" href="osd__oi_8h_source.html#l00121">osd_id_eq()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00510">osd_iget_check()</a>, <a class="el" href="osd__scrub_8c_source.html#l00940">osd_iit_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05862">osd_it_ea_rec()</a>, <a class="el" href="osd__compat_8c_source.html#l00311">osd_lookup_in_remote_parent()</a>, <a class="el" href="osd__compat_8c_source.html#l00911">osd_obj_map_lookup()</a>, <a class="el" href="osd__compat_8c_source.html#l00521">osd_obj_update_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00103">osd_oi_index_create_one()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03050">osd_process_scheduled_agent_removals()</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ae3da534ae80b290581a78dc7763c48e5"></a><!-- doxytag: member="osd_oi.h::oi_check_flags" ref="ae3da534ae80b290581a78dc7763c48e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ae3da534ae80b290581a78dc7763c48e5a8c4a887baf0eebad6158e6d3e3ec94f3"></a><!-- doxytag: member="OI_CHECK_FLD" ref="ae3da534ae80b290581a78dc7763c48e5a8c4a887baf0eebad6158e6d3e3ec94f3" args="" -->OI_CHECK_FLD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae3da534ae80b290581a78dc7763c48e5a835c66ae9721a9af710bb1cce2f47f65"></a><!-- doxytag: member="OI_KNOWN_ON_OST" ref="ae3da534ae80b290581a78dc7763c48e5a835c66ae9721a9af710bb1cce2f47f65" args="" -->OI_KNOWN_ON_OST</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00136">136</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aca991b15d5c1d39a064ea8395169a5ce"></a><!-- doxytag: member="osd_oi.h::fid_is_on_ost" ref="aca991b15d5c1d39a064ea8395169a5ce" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fid_is_on_ost </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">548</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l00462">fid_is_idif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00447">fid_is_igif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="lustre__idl_8h_source.html#l00467">fid_is_local_file()</a>, <a class="el" href="lustre__fid_8h_source.html#l00296">fid_is_name_llog()</a>, <a class="el" href="lustre__fid_8h_source.html#l00290">fid_is_quota()</a>, <a class="el" href="seq__range_8h_source.html#l00052">fld_range_is_ost()</a>, <a class="el" href="osd__oi_8h_source.html#l00137">OI_CHECK_FLD</a>, <a class="el" href="osd__oi_8h_source.html#l00138">OI_KNOWN_ON_OST</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02619">osd_fld_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00925">osd_name()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00920">osd_seq_site()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00516">osd_thread_info::oti_env</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00619">osd_thread_info::oti_seq_range</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00424">osd_get_name_n_idx()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03108">osd_object_ea_create()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00778">osd_oi_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00799">osd_oi_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a4941af92754949d9e8de2410a09f9d83"></a><!-- doxytag: member="osd_oi.h::osd_id_eq" ref="a4941af92754949d9e8de2410a09f9d83" args="(const struct osd_inode_id *id0, const struct osd_inode_id *id1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_id_eq </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00121">121</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

<p>References <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, and <a class="el" href="osd__oi_8h_source.html#l00063">OSD_OII_NOGEN</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">osd_consistency_check()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a802ae8cba11057de97caae5033b8cdb6"></a><!-- doxytag: member="osd_oi.h::osd_id_eq_strict" ref="a802ae8cba11057de97caae5033b8cdb6" args="(const struct osd_inode_id *id0, const struct osd_inode_id *id1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osd_id_eq_strict </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00130">130</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

<p>References <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, and <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>.</p>

</div>
</div>
<a class="anchor" id="af505edf3bcfb72b52d88f90f1ed748e3"></a><!-- doxytag: member="osd_oi.h::osd_id_gen" ref="af505edf3bcfb72b52d88f90f1ed748e3" args="(struct osd_inode_id *id, __u32 ino, __u32 gen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_id_gen </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>gen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00108">108</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02597">__osd_oi_insert()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05548">osd_dirent_check_repair()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02910">osd_ea_fid_get()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04603">osd_ea_lookup_rec()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04483">osd_fail_fid_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00510">osd_iget_check()</a>, <a class="el" href="osd__scrub_8c_source.html#l00940">osd_iit_iget()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l05862">osd_it_ea_rec()</a>, <a class="el" href="osd__compat_8c_source.html#l00311">osd_lookup_in_remote_parent()</a>, <a class="el" href="osd__compat_8c_source.html#l00911">osd_obj_map_lookup()</a>, <a class="el" href="osd__compat_8c_source.html#l01263">osd_obj_spec_lookup()</a>, <a class="el" href="osd__compat_8c_source.html#l00521">osd_obj_update_entry()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00103">osd_oi_index_create_one()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, and <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l03050">osd_process_scheduled_agent_removals()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c473436375b2bfba396839c9efd2b75"></a><!-- doxytag: member="osd_oi.h::osd_id_pack" ref="a3c473436375b2bfba396839c9efd2b75" args="(struct osd_inode_id *tgt, const struct osd_inode_id *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_id_pack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>tgt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00094">94</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00064">cpu_to_be32</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, and <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, and <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00799">osd_oi_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a313718322ec82dec7cbc3d44be720bc1"></a><!-- doxytag: member="osd_oi.h::osd_id_to_inode" ref="a313718322ec82dec7cbc3d44be720bc1" args="(struct inode *inode, const struct osd_inode_id *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_id_to_inode </td>
          <td>(</td>
          <td class="paramtype">struct inode *&nbsp;</td>
          <td class="paramname"> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00114">114</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

<p>Referenced by <a class="el" href="osd__compat_8c_source.html#l00696">osd_obj_add_entry()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2f9818d1eaa97d4c5c8a48f123ce927"></a><!-- doxytag: member="osd_oi.h::osd_id_unpack" ref="ad2f9818d1eaa97d4c5c8a48f123ce927" args="(struct osd_inode_id *tgt, struct osd_inode_id *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osd_id_unpack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>tgt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd__oi_8h_source.html#l00101">101</a> of file <a class="el" href="osd__oi_8h_source.html">osd_oi.h</a>.</p>

<p>References <a class="el" href="byteorder_8h_source.html#l00063">be32_to_cpu</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, and <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00586">__osd_oi_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="abfd71f5bd46d6b6255b2c087c7bcc52a"></a><!-- doxytag: member="osd_oi.h::osd_oi_delete" ref="abfd71f5bd46d6b6255b2c087c7bcc52a" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, handle_t *th, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00778">778</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00260">fid_zero()</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="osd__oi_8h_source.html#l00088">osd_idmap_cache::oic_fid</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00853">osd_fid2oi()</a>, <a class="el" href="osd__compat_8c_source.html#l01019">osd_obj_map_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00752">osd_oi_iam_delete()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00577">osd_thread_info::oti_cache</a>, and <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00536">osd_thread_info::oti_fid2</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02773">osd_object_destroy()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="a07ec73eaf18108800ca42eb6efb4a24f"></a><!-- doxytag: member="osd_oi.h::osd_oi_fini" ref="a07ec73eaf18108800ca42eb6efb4a24f" args="(struct osd_thread_info *info, struct osd_device *osd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osd_oi_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00496">496</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00246">osd_device::od_oi_count</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00244">osd_device::od_oi_table</a>, <a class="el" href="osd__oi_8h_source.html#l00061">OSD_OI_FID_NR_MAX</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00081">osd_oi_table_put()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-zfs_2osd__handler_8c_source.html#l01137">osd_device_fini()</a>, <a class="el" href="osd__scrub_8c_source.html#l02662">osd_scrub_cleanup()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a5a8a27b6a2cff32988c270f760c123"></a><!-- doxytag: member="osd_oi.h::osd_oi_init" ref="a0a5a8a27b6a2cff32988c270f760c123" args="(struct osd_thread_info *info, struct osd_device *osd, bool restored)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>restored</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00386">386</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd__support_8h_source.html#l00708">OBD_ALLOC</a>, <a class="el" href="obd__support_8h_source.html#l00776">OBD_FREE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00246">osd_device::od_oi_count</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00244">osd_device::od_oi_table</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00281">osd_device::od_scrub</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00070">oi_init_lock</a>, <a class="el" href="osd__scrub_8h_source.html#l00201">osd_scrub::os_file</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00065">osd_oi_count</a>, <a class="el" href="osd__oi_8h_source.html#l00061">OSD_OI_FID_NR_MAX</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00079">OSD_OI_NAME_BASE</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00215">osd_oi_open()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00286">osd_oi_table_open()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00081">osd_oi_table_put()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00357">osd_remove_ois()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd__scrub_8c_source.html#l00272">osd_scrub_file_reset()</a>, <a class="el" href="osd__scrub_8c_source.html#l00334">osd_scrub_file_store()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="osd__scrub_8h_source.html#l00040">SCRUB_OI_BITMAP_SIZE</a>, <a class="el" href="osd__scrub_8h_source.html#l00186">scrub_file::sf_oi_bitmap</a>, <a class="el" href="osd__scrub_8h_source.html#l00177">scrub_file::sf_oi_count</a>, <a class="el" href="osd__scrub_8h_source.html#l00069">SF_RECREATED</a>, <a class="el" href="osd__scrub_8h_source.html#l00174">scrub_file::sf_success_count</a>, and <a class="el" href="osd__scrub_8h_source.html#l00078">SF_UPGRADE</a>.</p>

<p>Referenced by <a class="el" href="osd-zfs_2osd__handler_8c_source.html#l00947">osd_mount()</a>, and <a class="el" href="osd__scrub_8c_source.html#l02489">osd_scrub_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ab8a2a773427896c921f0ee5a638841"></a><!-- doxytag: member="osd_oi.h::osd_oi_insert" ref="a6ab8a2a773427896c921f0ee5a638841" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, const struct osd_inode_id *id, handle_t *th, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">671</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>, <a class="el" href="lustre__user_8h_source.html#l00192">lustre_mdt_attrs::lma_compat</a>, <a class="el" href="lustre__user_8h_source.html#l00200">lustre_mdt_attrs::lma_self_fid</a>, <a class="el" href="lustre__idl_8h_source.html#l00183">LMAC_NOT_IN_OI</a>, <a class="el" href="lustre__idl_8h_source.html#l00801">lu_fid_eq()</a>, <a class="el" href="osd__oi_8h_source.html#l00083">osd_inode_id::oii_gen</a>, <a class="el" href="osd__oi_8h_source.html#l00082">osd_inode_id::oii_ino</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00853">osd_fid2oi()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00356">osd_get_lma()</a>, <a class="el" href="osd__oi_8h_source.html#l00121">osd_id_eq()</a>, <a class="el" href="osd__oi_8h_source.html#l00094">osd_id_pack()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00388">osd_iget()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00930">osd_is_ea_inode()</a>, <a class="el" href="osd__compat_8c_source.html#l00973">osd_obj_map_insert()</a>, <a class="el" href="osd__compat_8c_source.html#l01242">osd_obj_spec_insert()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00640">osd_oi_iam_refresh()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">osd_oi_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00536">osd_thread_info::oti_fid2</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00539">osd_thread_info::oti_id2</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00592">osd_thread_info::oti_mdt_attrs</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00520">osd_thread_info::oti_obj_dentry</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l02597">__osd_oi_insert()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="aaaf0b38579d87343582b55062afadbd2"></a><!-- doxytag: member="osd_oi.h::osd_oi_lookup" ref="aaaf0b38579d87343582b55062afadbd2" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, struct osd_inode_id *id, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00604">604</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00586">__osd_oi_lookup()</a>, <a class="el" href="lustre__fid_8h_source.html#l00283">fid_is_acct()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00508">fid_is_fs_root()</a>, <a class="el" href="lustre__idl_8h_source.html#l00447">fid_is_igif()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>, <a class="el" href="lustre__idl_8h_source.html#l00746">lu_igif_gen()</a>, <a class="el" href="lustre__idl_8h_source.html#l00736">lu_igif_ino()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00250">osd_device::od_igif_inoi</a>, <a class="el" href="osd-ldiskfs_2osd__quota_8c_source.html#l00064">osd_acct_obj_lookup()</a>, <a class="el" href="osd__oi_8h_source.html#l00108">osd_id_gen()</a>, <a class="el" href="osd__compat_8c_source.html#l00911">osd_obj_map_lookup()</a>, <a class="el" href="osd__compat_8c_source.html#l01263">osd_obj_spec_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00889">osd_sb()</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l04413">osd_consistency_check()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00769">osd_fid_lookup()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00251">osd_idc_find_or_init()</a>, <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l00510">osd_iget_check()</a>, <a class="el" href="osd__scrub_8c_source.html#l01813">osd_ios_scan_one()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00518">osd_oi_add_table()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00191">osd_oi_find_or_create()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00671">osd_oi_insert()</a>, <a class="el" href="osd-zfs_2osd__oi_8c_source.html#l00581">osd_oi_probe()</a>, and <a class="el" href="osd__scrub_8c_source.html#l00459">osd_scrub_check_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a072be8df4344a42cda0a1b3ca99ed083"></a><!-- doxytag: member="osd_oi.h::osd_oi_mod_init" ref="a072be8df4344a42cda0a1b3ca99ed083" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_mod_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00826">826</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00284">LCONSOLE_WARN</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00070">oi_init_lock</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00065">osd_oi_count</a>, <a class="el" href="osd__oi_8h_source.html#l00060">OSD_OI_FID_NR</a>, <a class="el" href="osd__oi_8h_source.html#l00061">OSD_OI_FID_NR_MAX</a>, and <a class="el" href="lustre__sec_8h_source.html#l00941">size_roundup_power2()</a>.</p>

<p>Referenced by <a class="el" href="osd-ldiskfs_2osd__handler_8c_source.html#l06748">osd_init()</a>.</p>

</div>
</div>
<a class="anchor" id="af6bdc345f3b320870d5c87351286ac54"></a><!-- doxytag: member="osd_oi.h::osd_oi_update" ref="af6bdc345f3b320870d5c87351286ac54" args="(struct osd_thread_info *info, struct osd_device *osd, const struct lu_fid *fid, const struct osd_inode_id *id, handle_t *th, enum oi_check_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osd_oi_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosd__thread__info.html">osd_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosd__device.html">osd_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__fid.html">lu_fid</a> *&nbsp;</td>
          <td class="paramname"> <em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosd__inode__id.html">osd_inode_id</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">handle_t *&nbsp;</td>
          <td class="paramname"> <em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osd__oi_8h.html#ae3da534ae80b290581a78dc7763c48e5">oi_check_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00799">799</a> of file <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html">osd_oi.c</a>.</p>

<p>References <a class="el" href="dt__object_8c_source.html#l00058">dt_key</a>, <a class="el" href="lustre__idl_8h_source.html#l00779">fid_cpu_to_be()</a>, <a class="el" href="lustre__idl_8h_source.html#l00725">fid_is_last_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00367">fid_is_llog()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00548">fid_is_on_ost()</a>, <a class="el" href="lustre__idl_8h_source.html#l00293">FID_SEQ_LOCAL_FILE</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00853">osd_fid2oi()</a>, <a class="el" href="osd__oi_8h_source.html#l00094">osd_id_pack()</a>, <a class="el" href="osd__compat_8c_source.html#l01050">osd_obj_map_update()</a>, <a class="el" href="osd__compat_8c_source.html#l01221">osd_obj_spec_update()</a>, <a class="el" href="osd-ldiskfs_2osd__oi_8c_source.html#l00640">osd_oi_iam_refresh()</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00536">osd_thread_info::oti_fid2</a>, <a class="el" href="osd-ldiskfs_2osd__internal_8h_source.html#l00539">osd_thread_info::oti_id2</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osd__scrub_8c_source.html#l00096">osd_scrub_refresh_mapping()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
