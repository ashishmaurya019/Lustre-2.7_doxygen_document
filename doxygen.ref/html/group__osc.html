<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: osc</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>osc</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__io.html">osc_io</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">State maintained by osc layer for each IO context.  <a href="structosc__io.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__session.html">osc_session</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">State maintained by osc layer for the duration of a system call.  <a href="structosc__session.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__thread__info.html">osc_thread_info</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__object.html">osc_object</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__lock.html">osc_lock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">osc-private state of <a class="el" href="structcl__lock.html" title="Layered client lock.">cl_lock</a>.  <a href="structosc__lock.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__page.html">osc_page</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Page state private for osc layer.  <a href="structosc__page.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__extent.html">osc_extent</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="structosc__extent.html" title="osc_extent data to manage dirty pages.">osc_extent</a> data to manage dirty pages.  <a href="structosc__extent.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__data__version__args.html">osc_data_version_args</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1657b98d6a7972886535b57344778282">EXTSTR</a>&nbsp;&nbsp;&nbsp;&quot;[%lu -&gt; %lu/%lu]&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab11189dcb9f88aed51615d8f5a706828">EXTPARA</a>(ext)&nbsp;&nbsp;&nbsp;(ext)-&gt;oe_start, (ext)-&gt;oe_end, (ext)-&gt;oe_max_end</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga46b53e57ffc4a110c0b2001d67ff96ba">OSC_EXTENT_DUMP</a>(lvl, extent, fmt,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga10bd82d5fe369dca952502d4b71804f6">EASSERTF</a>(expr, ext, fmt, args...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga546d404bb6139588eb80ad91b5066c65">EASSERT</a>(expr, ext)&nbsp;&nbsp;&nbsp;EASSERTF(expr, ext, &quot;\n&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga12967e90fecbca17fd2506b51fb8293d">sanity_check_nolock</a>(ext)&nbsp;&nbsp;&nbsp;osc_extent_sanity_check0(ext, __func__, __LINE__)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga393ccfc241a11b4a496b2a737d4b9896">sanity_check</a>(ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaccc33c0d71addd205fb0d9454a49508b">OSC_IO_DEBUG</a>(OSC, STR, args...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga498ae01e3e74412d04e4b5ca472f848b">OSC_DUMP_GRANT</a>(lvl, cli, fmt, args...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gadcea901783c395715ce961c8517df442">list_to_obj</a>(<a class="el" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>, item)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1060effa512bff483d71c38a0db5dda2">OTI_PVEC_SIZE</a>&nbsp;&nbsp;&nbsp;256</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga082e56b9502ea5417d9b5d53f8f84bcb">OSC_FLAGS</a>&nbsp;&nbsp;&nbsp;(ASYNC_URGENT|ASYNC_READY)</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga46b4a8ffae8b7ea1e45fd7884069fc34">osc_page_gang_cbt</a> )(const struct <a class="el" href="structlu__env.html">lu_env</a> *, struct <a class="el" href="structcl__io.html">cl_io</a> *, struct <a class="el" href="structosc__page.html">osc_page</a> *, void *)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa4f7ee68e4b3bb49dcf8c8f62ac36215">osc_lock_state</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__osc.html#ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a23081e5902c9447c703ecc678119d6e9">OLS_NEW</a>, 
<a class="el" href="group__osc.html#ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a776ca12c4ee51af431b067dea743f901">OLS_ENQUEUED</a>, 
<a class="el" href="group__osc.html#ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a5816097365b1593a67efc02f67f55037">OLS_UPCALL_RECEIVED</a>, 
<a class="el" href="group__osc.html#ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a2d25aac14431d41d5aaa8ae702e40705">OLS_GRANTED</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__osc.html#ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a0be13e08c2f9842b70f8f380a029ad49">OLS_CANCELLED</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6186b8ce09edf79ddb470068d980fa3d">osc_extent_state</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__osc.html#gga6186b8ce09edf79ddb470068d980fa3da0199e25a204afc184876e45345546348">OES_INV</a> =  0, 
<a class="el" href="group__osc.html#gga6186b8ce09edf79ddb470068d980fa3da57a171603bdbe9ce372e2c23f1b4fcb5">OES_ACTIVE</a> =  1, 
<a class="el" href="group__osc.html#gga6186b8ce09edf79ddb470068d980fa3da5fa3ea0f8426b29ae208cb22e435cf77">OES_CACHE</a> =  2, 
<a class="el" href="group__osc.html#gga6186b8ce09edf79ddb470068d980fa3da7558231f4c40076af91adcb4f605e3a3">OES_LOCKING</a> =  3, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__osc.html#gga6186b8ce09edf79ddb470068d980fa3da0cfb17d1d0abe58ee5a6e210ecd3b685">OES_LOCK_DONE</a> =  4, 
<a class="el" href="group__osc.html#gga6186b8ce09edf79ddb470068d980fa3da7ed8d9d8557c8185d7cd464ca6916303">OES_RPC</a> =  5, 
<a class="el" href="group__osc.html#gga6186b8ce09edf79ddb470068d980fa3daeac60d8c4aeeae580c118b4f08ea961c">OES_TRUNC</a> =  6, 
<a class="el" href="group__osc.html#gga6186b8ce09edf79ddb470068d980fa3dac862e82e76aa4803851aca25ad9fc532">OES_STATE_MAX</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gadd52d2cca2b0f55b2ce8a326657ffc69">ext_flags</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext, char *flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9b42994a0fc8e631862ad6e3f881ab07">list_empty_marker</a> (struct <a class="el" href="structlist__head.html">list_head</a> *<a class="el" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf06db43318fc6b57a09f36766f506222">rb_extent</a> (struct rb_node *n)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga57294c0c39c0cd8d3c463ab8c9f26db6">next_extent</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaaf7730302276bdecb8ab2974689d481b">prev_extent</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa8f882f79236804958090c6fe2323733">first_extent</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga50456f7efe9884400794e83b92490287">osc_extent_sanity_check0</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext, const char *func, const int line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga2230bc8d5cc15bc4ec8e081d1aa142be">osc_extent_is_overlapped</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sanity check - to make sure there is no overlapped extent in the tree.  <a href="#ga2230bc8d5cc15bc4ec8e081d1aa142be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8abfcfdf87b95d5a917fe056949136e6">osc_extent_state_set</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext, int <a class="el" href="fsx_8c.html#a5797ba50831ee71f60588abd75d2992e">state</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaabbb7ec605b2ed6f8686ea22a59eb995">osc_extent_alloc</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8a94d1446b76563cc6bacb1abd500ef3">osc_extent_free</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaef9a9965e5f1e3ea9172c7f046b2096f">osc_extent_get</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga81221fe1c27f39fc73ecb0abbf0e2325">osc_extent_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf16854c30f76ad48202915757c603934">osc_extent_put_trust</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="group__osc.html#gaf16854c30f76ad48202915757c603934" title="osc_extent_put_trust() is a special version of osc_extent_put() when it&#39;s known...">osc_extent_put_trust()</a> is a special version of <a class="el" href="group__osc.html#ga81221fe1c27f39fc73ecb0abbf0e2325">osc_extent_put()</a> when it's known that the caller is not the last user.  <a href="#gaf16854c30f76ad48202915757c603934"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1b7664e8774e3c11a008f31cc97c352e">osc_extent_search</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj, pgoff_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the extent which includes pgoff , or return the greatest previous extent in the tree.  <a href="#ga1b7664e8774e3c11a008f31cc97c352e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf546c701ec20dd19b3df0eda45233fc3">osc_extent_lookup</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj, pgoff_t index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf0012ee9770fae7479ba1fd45e285684">osc_extent_insert</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4907bee4b4059f995bebe7665f94c6a2">osc_extent_erase</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga04c217cbba2e512cb2cca052319e8814">osc_extent_hold</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga5ccbc0d5247e6a6d0471544880c05e32">__osc_extent_remove</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga372be26564ebb01c355e1f624ed89e02">osc_extent_remove</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gacb72c46f569c77c2065dd621064d6de2">osc_extent_merge</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__extent.html">osc_extent</a> *cur, struct <a class="el" href="structosc__extent.html">osc_extent</a> *victim)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is used to merge extents to get better performance.  <a href="#gacb72c46f569c77c2065dd621064d6de2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga06e75737c5c000e1e1b65419a81aef2e">osc_extent_release</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drop user count of <a class="el" href="structosc__extent.html" title="osc_extent data to manage dirty pages.">osc_extent</a>, and unplug IO asynchronously.  <a href="#ga06e75737c5c000e1e1b65419a81aef2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf06d0e82edd770600f4cae34a9fa9b9f">overlapped</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ex1, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ex2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga972097f1725c26a1c1f00bc239e80426">osc_extent_find</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, pgoff_t index, unsigned int *grants)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find or create an extent which includes , core function to manage extent tree.  <a href="#ga972097f1725c26a1c1f00bc239e80426"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf6b8a4d60ebeba7a3b97618165e566b3">osc_extent_finish</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext, int sent, int rc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when IO is finished to an extent.  <a href="#gaf6b8a4d60ebeba7a3b97618165e566b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0e460c215d7a369744809448c712b4c6">extent_wait_cb</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext, enum <a class="el" href="group__osc.html#ga6186b8ce09edf79ddb470068d980fa3d">osc_extent_state</a> <a class="el" href="fsx_8c.html#a5797ba50831ee71f60588abd75d2992e">state</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga26c68b4c7b2181cc066a783e7cb5de03">osc_extent_wait</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext, enum <a class="el" href="group__osc.html#ga6186b8ce09edf79ddb470068d980fa3d">osc_extent_state</a> <a class="el" href="fsx_8c.html#a5797ba50831ee71f60588abd75d2992e">state</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for the extent's state to become .  <a href="#ga26c68b4c7b2181cc066a783e7cb5de03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga76df2298615d7b671a4bbf69ed9f2b58">osc_extent_truncate</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext, pgoff_t trunc_index, bool partial)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Discard pages with index greater than .  <a href="#ga76df2298615d7b671a4bbf69ed9f2b58"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga87c1810f84b83263eb1597434bbf5d08">osc_extent_make_ready</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is used to make the extent prepared for transfer.  <a href="#ga87c1810f84b83263eb1597434bbf5d08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga66d89669e59af774ddaaeedcaac8af66">osc_extent_expand</a> (struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext, pgoff_t index, unsigned int *grants)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick and simple version of <a class="el" href="group__osc.html#ga972097f1725c26a1c1f00bc239e80426" title="Find or create an extent which includes , core function to manage extent tree.">osc_extent_find()</a>.  <a href="#ga66d89669e59af774ddaaeedcaac8af66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad26452c049d58c3c36a5719a1042f4f1">osc_extent_tree_dump0</a> (int level, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, const char *func, int line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga510dc87ec6399b002d883c976a61a5c9">osc_is_ready</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga73ec9eae0e3450dcc42a6f47cee04054">osc_make_ready</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gabd1fc2337b6246c9bf982cf542d0971a">osc_refresh_count</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7ee420b7a37f15e0f599b7f660753a92">osc_completion</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga472d2de9bba4167b53fa78e0990b307e">osc_consume_write_grant</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structbrw__page.html">brw_page</a> *pga)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga2db32fd723bca8374604714d9af6dd02">osc_release_write_grant</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structbrw__page.html">brw_page</a> *pga)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga99effe4ac12e816a5c4e6484ce7bb68a">osc_reserve_grant</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, unsigned int bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To avoid sleeping with object lock held, it's good for us allocate enough grants before entering into critical section.  <a href="#ga99effe4ac12e816a5c4e6484ce7bb68a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga347226f0570c6bbb9a75745b139db68c">__osc_unreserve_grant</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, unsigned int reserved, unsigned int unused)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6313fdde48b6ae532fe842bef6aa6eb8">osc_unreserve_grant</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, unsigned int reserved, unsigned int unused)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3298f2a1272d296b1382797b28653460">osc_free_grant</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, unsigned int nr_pages, unsigned int lost_grant, unsigned int dirty_grant)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free grant after IO is finished or canceled.  <a href="#ga3298f2a1272d296b1382797b28653460"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga418353e2b0d8741e25b8d99f703a1382">osc_exit_cache</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The companion to <a class="el" href="group__osc.html#ga6df555cfe6139bd0bd38aaca989e391e" title="The main entry to reserve dirty page accounting.">osc_enter_cache()</a>, called when  is no longer part of the dirty accounting due to error.  <a href="#ga418353e2b0d8741e25b8d99f703a1382"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4f9356c961ca246789809bcc452d149e">osc_enter_cache_try</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap, int bytes, int transient)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Non-blocking version of <a class="el" href="group__osc.html#ga6df555cfe6139bd0bd38aaca989e391e" title="The main entry to reserve dirty page accounting.">osc_enter_cache()</a> that consumes grant only when it is available.  <a href="#ga4f9356c961ca246789809bcc452d149e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga61cf4347961d2e3ebda874c6f5bed715">ocw_granted</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__cache__waiter.html">osc_cache_waiter</a> *ocw)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6df555cfe6139bd0bd38aaca989e391e">osc_enter_cache</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap, int bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The main entry to reserve dirty page accounting.  <a href="#ga6df555cfe6139bd0bd38aaca989e391e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6d219e813ad848aa526b59c3c304f025">osc_wake_cache_waiters</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8ede1f056f62a25764fd2e6852d8af2f">osc_max_rpc_in_flight</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga5e40467ee1f612b99dbf51aa76a6d23f">osc_makes_rpc</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__object.html">osc_object</a> *osc, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4efba2a78fd99c45e4e7ffc077bea3ec">osc_update_pending</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, int delta)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab3d5d57f126818792f1bb87847f3bb43">osc_makes_hprpc</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gacdd664f2acd4af2529496097b14442d5">on_list</a> (struct <a class="el" href="structlist__head.html">list_head</a> *item, struct <a class="el" href="structlist__head.html">list_head</a> *<a class="el" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>, int should_be_on)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1675fc8fce52fff3d8cc3bafd26fa0e0">__osc_list_maint</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1db234ac72e7e8158fa5daff912320c2">osc_list_maint</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae13b7782d89327586ac69bdccf2c1334">osc_process_ar</a> (struct <a class="el" href="structosc__async__rc.html">osc_async_rc</a> *ar, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> xid, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaefdb3e0c25e6c4ffa5f1343bbf8c1cf8">osc_ap_completion</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap, int sent, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga503da63dde2351cb2fb1eb3e5e7e531a">try_to_add_extent_for_io</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext, struct <a class="el" href="structlist__head.html">list_head</a> *rpclist, unsigned int *pc, unsigned int *max_pages)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Try to add extent to one RPC.  <a href="#ga503da63dde2351cb2fb1eb3e5e7e531a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7349c0038bdcd00aad3eb4040802f5e7">get_write_extents</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct <a class="el" href="structlist__head.html">list_head</a> *rpclist)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">In order to prevent multiple <a class="el" href="structptlrpcd.html">ptlrpcd</a> from breaking contiguous extents, get_write_extent() takes all appropriate extents in atomic.  <a href="#ga7349c0038bdcd00aad3eb4040802f5e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9b9361dd49058a25628a0b2c8094d8cc">osc_send_write_rpc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__object.html">osc_object</a> *osc) __must_hold(osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaaff5ece46aafdbc9d001ef8beaf6068a">osc_send_read_rpc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__object.html">osc_object</a> *osc) __must_hold(osc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">prepare pages for ASYNC io and put pages in send queue.  <a href="#gaaff5ece46aafdbc9d001ef8beaf6068a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae752e975e11a7c0954a125500d3b82d5">osc_next_obj</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3920099e7777aa39d535840123365111">osc_check_rpcs</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli) __must_hold(&amp;cli-&gt;cl_loi_list_lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga07291c2880f4a6b11b174c4cdb101df1">osc_io_unplug0</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__object.html">osc_object</a> *osc, int async)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9a07e0ca4fafc25506682fb90e7e870d">osc_io_unplug_async</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab1f9e06867823247b9cf968ba80a9bb3">osc_io_unplug</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad7357c1e41d1c62baf4fb61d51c2de71">osc_prep_async_page</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *osc, struct <a class="el" href="structosc__page.html">osc_page</a> *ops, struct page *page, loff_t offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa5ccfa774e02b3b82a4ef0ae1d9bc936">osc_queue_async_io</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__page.html">osc_page</a> *ops)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6ea34d6cb6b65bbd9ed9e7322b5589cd">osc_teardown_async_page</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct <a class="el" href="structosc__page.html">osc_page</a> *ops)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gacbca1d2858196fd14f5de2a27cb7c857">osc_flush_async_page</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__page.html">osc_page</a> *ops)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is called when a page is picked up by kernel to write out.  <a href="#gacbca1d2858196fd14f5de2a27cb7c857"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad22b15d739092f8a8d27214eff304e66">osc_cancel_async_page</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__page.html">osc_page</a> *ops)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">this is called when a sync waiter receives an interruption.  <a href="#gad22b15d739092f8a8d27214eff304e66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gac7b21c4ee69191fe5fe48df729410912">osc_queue_sync_pages</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct <a class="el" href="structlist__head.html">list_head</a> *<a class="el" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>, int <a class="el" href="mdsrate_8c.html#a7353cae57e2530c316ddacb27ef14932">cmd</a>, int brw_flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga50a5681d5c52a69e84bb265c202f3ecf">osc_cache_truncate_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, struct <a class="el" href="structosc__extent.html">osc_extent</a> **extp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by <a class="el" href="group__osc.html#ga3137874640ccea94761eec98e930fe90">osc_io_setattr_start()</a> to freeze and destroy covering extents.  <a href="#ga50a5681d5c52a69e84bb265c202f3ecf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga5d8bb46841ff73ab14ca09abac5d767c">osc_cache_truncate_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__extent.html">osc_extent</a> *ext)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called after osc_io_setattr_end to add oio-&gt;oi_trunc back to cache.  <a href="#ga5d8bb46841ff73ab14ca09abac5d767c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4c709e4df4c17373354b20238e863f2a">osc_cache_wait_range</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, pgoff_t end)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for extents in a specific range to be written out.  <a href="#ga4c709e4df4c17373354b20238e863f2a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga91e31015ca9c3df0750e008ebd5831cf">osc_cache_writeback_range</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, pgoff_t end, int hp, int discard)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to write out a range of osc object.  <a href="#ga91e31015ca9c3df0750e008ebd5831cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4ac00d525c8750fbccb312796dfb0542">osc_page_gang_lookup</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__object.html">osc_object</a> *osc, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, pgoff_t end, <a class="el" href="group__osc.html#ga46b4a8ffae8b7ea1e45fd7884069fc34">osc_page_gang_cbt</a> cb, void *cbdata)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a list of pages by a given [start, end] of <em>obj</em>.  <a href="#ga4ac00d525c8750fbccb312796dfb0542"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4b2199f11c42a1859d7e3036c261bf4b">check_and_discard_cb</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__page.html">osc_page</a> *ops, void *cbdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga38c5ab0265690211d6b7946ee24c83d8">discard_cb</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__page.html">osc_page</a> *ops, void *cbdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad86265cc2892261e7634f0d9a2050a6b">osc_lock_discard_pages</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *osc, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, pgoff_t end, enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Discard pages protected by the given lock.  <a href="#gad86265cc2892261e7634f0d9a2050a6b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa226508459c956ec3ff210b5e62f7b1d">osc_object_lock</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad3aef0c420050121f4710abb4e0a2caa">osc_object_trylock</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4d26224f8bd08f9ec2c92f622d957487">osc_object_unlock</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa48cf128c1c8f7aea48615438b5e3380">osc_object_is_locked</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gabd5ab860e2021ff6b4cd161a7392744a">osc_lock_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__lock.html">cl_lock</a> *lock, const struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga718b431e8195226a8bd635c9b0c3ed83">osc_io_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad941e20e17432e49a26fb19daf01d110">osc_object_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *hdr, struct <a class="el" href="structlu__device.html">lu_device</a> *dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga633c62b020126f225e1b0df1dc284251">osc_page_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__page.html">cl_page</a> *page, pgoff_t ind)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga5023e2c6d3427c41c4f8002c8845bcfe">osc_index2policy</a> (union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy, const struct <a class="el" href="structcl__object.html">cl_object</a> *obj, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, pgoff_t end)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6aa1f3c3c89042ae19f13680ff68cf89">osc_lvb_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> p, const struct <a class="el" href="structost__lvb.html">ost_lvb</a> *lvb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0665f963a72ace52377c0d51df2b2319">osc_lru_add_batch</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structlist__head.html">list_head</a> *<a class="el" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae4802860d91daed5d098a08f4ed45dea">osc_page_submit</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__page.html">osc_page</a> *opg, enum <a class="el" href="group__cl__page.html#ga419215a2ca4eeab85983de8ca5a16a02">cl_req_type</a> crt, int brw_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function called by <a class="el" href="group__osc.html#ga4eec18a3df58fcee1485aa867a6623d6" title="An implementation of cl_io_operations::cio_io_submit() method for osc layer.">osc_io_submit()</a> for every page in an immediate transfer (i.e., transferred synchronously).  <a href="#gae4802860d91daed5d098a08f4ed45dea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaeeebabba4671768419987298a91f77a2">osc_set_async_flags</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct <a class="el" href="structosc__page.html">osc_page</a> *opg, u32 <a class="el" href="osc__internal_8h.html#a36cf53ab9257aa954efdd53080c6c74d">async_flags</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga191a56f071d6752db73aed4510a49639">osc_page_cache_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *slice, struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab2c0eac927bf007a05676854f0f440fe">lru_queue_work</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga898abac02468e34cf3cc62075837b421">osc_object_set_contended</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6e489947271b7ff2af03b3686f2c0deb">osc_object_clear_contended</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gac2bf0d492fc8978c34d62dc408ead87d">osc_object_is_contended</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa565e6849b165c1b13f243a672677c99">osc_lock_is_lockless</a> (const struct <a class="el" href="structosc__lock.html">osc_lock</a> *olck)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__thread__info.html">osc_thread_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab36f866d45e03d542948442f19e29c41">osc_env_info</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__session.html">osc_session</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf9baf0bfeac957512006dbfe85783796">osc_env_session</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__io.html">osc_io</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga80a9df989eeced2c8854e2e74214ce40">osc_env_io</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga29a3ae4a96817fae8265f984097d9620">osc_is_object</a> (const struct <a class="el" href="structlu__object.html">lu_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__device.html">osc_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4c77a45f48bd470506805b983a8d48c7">lu2osc_dev</a> (const struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga62ec09b84963e0993a0c996837113edc">osc_export</a> (const struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae06087775e3f624877cb35cd9a0c80fe">osc_cli</a> (const struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3ad629bb969c0a039ba0a4dace92585a">cl2osc</a> (const struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gabeee966e59f8ff3f8a8c3cba94b63559">osc2cl</a> (const struct <a class="el" href="structosc__object.html">osc_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga10c33ef023f6e4826b12f531287ecb74">osc_cl_lock2ldlm</a> (enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaca9ddc217b81f518afa43dd690ff1108">osc_ldlm2cl_lock</a> (enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0b812b6becf5106791d5bd7c9126e7cf">cl2osc_page</a> (const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6b190682e1d972190a0083d422f973bc">oap2osc</a> (struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static pgoff_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad78c5a0ff4043426e5c4dd46336e9a07">osc_index</a> (struct <a class="el" href="structosc__page.html">osc_page</a> *opg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__page.html">cl_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3d6bb83879af76f36b36895fa63a02a4">oap2cl_page</a> (struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0d68fe46fc2f5ef1ed6def2b812c2c42">oap2osc_page</a> (struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *oap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1565d0b6a28a449b0fea8f85930af6e5">osc_cl_page_osc</a> (struct <a class="el" href="structcl__page.html">cl_page</a> *page, struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9858e598601602f25f65cd55b4e98c0e">cl2osc_lock</a> (const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga84a80676350de280c21124330f8509e0">osc_lock_at</a> (const struct <a class="el" href="structcl__lock.html">cl_lock</a> *lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga574c61fd176062ff468664693d241a06">osc_io_srvlock</a> (struct <a class="el" href="structosc__io.html">osc_io</a> *oio)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga2570050fe8c44faa7cb6e003be255b96">osc2lu_dev</a> (struct <a class="el" href="structosc__device.html">osc_device</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga14aa3ba819e05463c5e65bd31fbf17f3">osc_key_init</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8d344ea4e3d094aa259635b2859578ad">osc_key_fini</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga05d5cb27a664d73203b07f7911f5c022">osc_session_init</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gacf96398106ef396fa4a274a078b943c8">osc_session_fini</a> (const struct <a class="el" href="structlu__context.html">lu_context</a> *ctx, struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *key, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7375f630804fd120775f5d2d67470740">LU_TYPE_INIT_FINI</a> (osc,&amp;<a class="el" href="group__osc.html#gadaf1b8cc09a172dcf2739a03e5b0fa44">osc_key</a>,&amp;<a class="el" href="group__osc.html#ga2fdc1e11d4fac80fc5f4ea7daac25f5b">osc_session_key</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gac5d45cad463d497f4b417bf796006c26">osc_cl_process_config</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga00c99092b358b84c86404dbda544ac38">osc_device_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d, const char *<a class="el" href="mdt__coordinator_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, struct <a class="el" href="structlu__device.html">lu_device</a> *next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gadb884f12e918374792cbb55afd775ca9">osc_device_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7a4aff8813d0e11f962fe7750fea8a40">osc_device_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device.html">lu_device</a> *d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga482d0e89818c62ca39a8971061d90aec">osc_device_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *t, struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__io.html">osc_io</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga769cf4b2800ba0469f6507bcedbe9d5e">cl2osc_io</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaaf150cdcabd9d122b99368a05bedbc8c">osc_io_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga79f53296f735b0466c23c64307375100">osc_read_ahead_release</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cbdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gadcff636c5a584de175dc2d527e2a102a">osc_io_read_ahead</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, struct <a class="el" href="structcl__read__ahead.html">cl_read_ahead</a> *ra)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4eec18a3df58fcee1485aa867a6623d6">osc_io_submit</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios, enum <a class="el" href="group__cl__page.html#ga419215a2ca4eeab85983de8ca5a16a02">cl_req_type</a> crt, struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *queue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An implementation of cl_io_operations::cio_io_submit() method for osc layer.  <a href="#ga4eec18a3df58fcee1485aa867a6623d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaedb1205705add21337da6c2266fe34b0">osc_page_touch_at</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, pgoff_t idx, size_t to)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is called when a page is accessed within file in a way that creates new page, if one were missing (i.e., if there were a hole at that place in the file, or accessed page is beyond the current file size).  <a href="#gaedb1205705add21337da6c2266fe34b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga4b4e1d4cec8445eed959b07f9f012b2a">osc_io_commit_async</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *qin, int from, int to, <a class="el" href="group__cl__io.html#ga54c4de6c969138d0642ef59a1ff5e0b0">cl_commit_cbt</a> cb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad6193cbe8988b8402378b0b063843296">osc_io_iter_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga30de99761887dd8836683c58340b5eec">osc_io_write_iter_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3acd17fcfe4ed7a83de9aa28f5e3e20a">osc_io_iter_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9bf34b624ad4ddf923dabc76184f04f8">osc_io_write_iter_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa4145327912313a5c5255cd24bd9c823">osc_io_fault_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *ios)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga39cc6d35e76b7ce505d27c8e9e34df97">osc_async_upcall</a> (void *a, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga51ec23360ac835eb5c70a0590adb8897">trunc_check_cb</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__page.html">osc_page</a> *ops, void *cbdata)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks that there are no pages being written in the extent being truncated.  <a href="#ga51ec23360ac835eb5c70a0590adb8897"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaff8d3b2b93df35029fb016237ea7c833">osc_trunc_check</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__io.html">osc_io</a> *oio, <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> <a class="el" href="parallel__grouplock_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3137874640ccea94761eec98e930fe90">osc_io_setattr_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0d0749a3436a75c4a4c760918d8e0865">osc_io_setattr_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gadf59bb49a803aaaeedda81ba582d857c">osc_data_version_interpret</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req, void *arg, int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gac6d025dc0c8713f1adc877a6ce2e7a22">osc_io_data_version_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7566380261c93cfa1cd62e3ec9500380">osc_io_data_version_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1df91f753088c6882e6d323ab88c0f40">osc_io_read_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9430d1398babba26b11a5869dc088ef0">osc_io_write_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf5fb8c95682b42e8898c7c74d4b94e71">osc_fsync_ost</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct cl_fsync_io *fio)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3b51cf283c434dd7d3b6da6dd59d5c05">osc_io_fsync_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gabb2827cd9b303b439eecb491b0eff325">osc_io_fsync_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8363c6724449b371e1133d313f8b1883">osc_io_ladvise_start</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf16861c79402ae90a891cf789f4fcc48">osc_io_ladvise_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf3e21ef07ddfb378b4bfa4fa5a435f30">osc_io_end</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae950ceda261ffba5e5cfd891375e866d">osc_lock_to_lockless</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__lock.html">osc_lock</a> *ols, int force)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine if the lock should be converted into a lockless lock.  <a href="#gae950ceda261ffba5e5cfd891375e866d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga95f7cfb7218e8b72b11725001f63b02c">osc_handle_ptr</a> (struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a weak pointer to the ldlm lock identified by a handle.  <a href="#ga95f7cfb7218e8b72b11725001f63b02c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga54adc12953bce11081c44d696c8b147e">osc_lock_invariant</a> (struct <a class="el" href="structosc__lock.html">osc_lock</a> *ols)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Invariant that has to be true all of the time.  <a href="#ga54adc12953bce11081c44d696c8b147e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab6bded0dd5d3b8886cb39393501ee7e3">osc_lock_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa5a7b973cac7b99a2bd42990c4d5f368">osc_lock_build_policy</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__lock.html">cl_lock</a> *lock, union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *policy)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8dd2b15bab97b5408114762ab5c22c95">osc_enq2ldlm_flags</a> (__u32 enqflags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga18aaf7af10329193fd017482344c1fa7">osc_lock_lvb_update</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *osc, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *dlmlock, struct <a class="el" href="structost__lvb.html">ost_lvb</a> *lvb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates object attributes from a lock value block (lvb) received together with the DLM lock reply from the server.  <a href="#ga18aaf7af10329193fd017482344c1fa7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga5bd9e2d847a8448e23dcf09c6b73766f">osc_lock_granted</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__lock.html">osc_lock</a> *oscl, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, bool lvb_update)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga29f791d1abf24609d793f38771cc90b3">osc_lock_upcall</a> (void *cookie, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, int errcode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock upcall function that is executed either when a reply to ENQUEUE rpc is received from a server, or after <a class="el" href="osc__internal_8h.html#aad7a0f5242c750c4920c0b3f801ea07f">osc_enqueue_base()</a> matched a local DLM lock.  <a href="#ga29f791d1abf24609d793f38771cc90b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf9b0a5fcc4fbfa6437afc998a0b8657d">osc_lock_upcall_agl</a> (void *cookie, struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *lockh, int errcode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3a7f4b12063dd00ce41a418fb3818e39">osc_lock_flush</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *obj, pgoff_t <a class="el" href="rename__many_8c.html#ac452537b6646180ccdf7beba12c1b331">start</a>, pgoff_t end, enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, int discard)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa7b3a2727168eb22303066140b94eef4">osc_dlm_blocking_ast0</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *dlmlock, void *data, int flag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper for osc_dlm_blocking_ast() handling discrepancies between <a class="el" href="structcl__lock.html" title="Layered client lock.">cl_lock</a> and <a class="el" href="structldlm__lock.html" title="LDLM lock structure.">ldlm_lock</a> caches.  <a href="#gaa7b3a2727168eb22303066140b94eef4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3d96731374882d1b601e94dab8f92397">osc_ldlm_blocking_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *dlmlock, struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *new, void *data, int flag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Blocking ast invoked by ldlm when dlm lock is either blocking progress of some other lock, or is canceled.  <a href="#ga3d96731374882d1b601e94dab8f92397"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gabeb20790e130bf97ca7999f0832fba5f">osc_ldlm_glimpse_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *dlmlock, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3b7c17bc704a969f4148b6735fb9d7dc">weigh_cb</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structosc__page.html">osc_page</a> *ops, void *cbdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9325a913aeaac8dbe7867ac4a8e86a12">osc_lock_weight</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *oscobj, struct <a class="el" href="structldlm__extent.html">ldlm_extent</a> *extent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga35e11197afdf291ad1614fe6217d4108">osc_ldlm_weigh_ast</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *dlmlock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the weight of dlm lock for early cancellation.  <a href="#ga35e11197afdf291ad1614fe6217d4108"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf9d3972737301af659fe94269be36549">osc_lock_build_einfo</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__lock.html">cl_lock</a> *lock, struct <a class="el" href="structosc__object.html">osc_object</a> *osc, struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *einfo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab65f4d86251c42976f7a34615d12d7fb">osc_lock_compatible</a> (const struct <a class="el" href="structosc__lock.html">osc_lock</a> *qing, const struct <a class="el" href="structosc__lock.html">osc_lock</a> *qed)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga023dc78f4efa274e91d49f39aeb869f7">osc_lock_wake_waiters</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *osc, struct <a class="el" href="structosc__lock.html">osc_lock</a> *oscl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab799760ac0c7ccb8e4f6b7f109ad619e">osc_lock_enqueue_wait</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, struct <a class="el" href="structosc__lock.html">osc_lock</a> *oscl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7593097c6dc02fd995d0453038fbecd2">osc_lock_enqueue</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice, struct <a class="el" href="structcl__io.html">cl_io</a> *unused, struct <a class="el" href="structcl__sync__io.html">cl_sync_io</a> *anchor)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of <a class="el" href="structcl__lock__operations.html#ac662a1c9135cac8c084a7c95d6fc19d7" title="Attempts to enqueue the lock.">cl_lock_operations::clo_enqueue()</a> method for osc layer.  <a href="#ga7593097c6dc02fd995d0453038fbecd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0b1ea64f21458b5bb73af82b0feda0df">osc_lock_detach</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__lock.html">osc_lock</a> *olck)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Breaks a link between <a class="el" href="structosc__lock.html" title="osc-private state of cl_lock.">osc_lock</a> and dlm_lock.  <a href="#ga0b1ea64f21458b5bb73af82b0feda0df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gacc121e00f4060228eda6e7504a4cc1d0">osc_lock_cancel</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implements <a class="el" href="structcl__lock__operations.html#adac391a682e572a776b39e552fa6e931" title="Cancel a lock, release its DLM lock ref, while does not cancel the DLM lock.">cl_lock_operations::clo_cancel()</a> method for osc layer.  <a href="#gacc121e00f4060228eda6e7504a4cc1d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3448ad07c07772caeab7bc754ce00c9f">osc_lock_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> p, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf0377559340dde5b6d5c16cfabc67d64">osc_lock_lockless_cancel</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7e5994ba02ffc93e8e2ccc8d91c4b19e">osc_lock_set_writer</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structosc__lock.html">osc_lock</a> *oscl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8977a8e1e24c419f01c5a96f6fbf65a2">osc_dlmlock_at_pgoff</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *obj, pgoff_t index, enum <a class="el" href="osc__internal_8h.html#a89099d25428f6679c80d1b0bffc08660">osc_dap_flags</a> dap_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds an existing lock covering given index and optionally different from a given <em>except</em> lock.  <a href="#ga8977a8e1e24c419f01c5a96f6fbf65a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaac77ea40d5011261b2385b6fc501b699">osc2lu</a> (struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae023ced23562dfdcc48121e0270eabdb">lu2osc</a> (const struct <a class="el" href="structlu__object.html">lu_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae232d1c674c92569cb4b8157fc4d8714">osc_object_init</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *obj, const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1f4b92f7b7768a6aa398ac041fab00f4">osc_object_free</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structlu__object.html">lu_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad7e520c11b8db08e478bd09fc0a86d6b">osc_object_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> p, const struct <a class="el" href="structlu__object.html">lu_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6915838d1883383d72099042222c8611">osc_attr_get</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__attr.html">cl_attr</a> *attr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga753a3fd5a143734ba7146395a9e8854c">osc_attr_update</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, const struct <a class="el" href="structcl__attr.html">cl_attr</a> *attr, unsigned valid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaca46a87549c448a3ae45c55c08f92eaf">osc_object_glimpse</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structost__lvb.html">ost_lvb</a> *lvb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad1cda62925324aa9ccf3762bf525ee69">osc_object_ast_clear</a> (struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *lock, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab595ff48fd2bcc21f1160140c3ea2c72">osc_object_prune</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6bcfff8e5230b18b5624730cbd31d3a4">osc_object_fiemap</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structll__fiemap__info__key.html">ll_fiemap_info_key</a> *fmkey, struct fiemap *fiemap, size_t *buflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga012555c4e3901b02d2c59ff975fe1584">osc_req_attr_set</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__object.html">cl_object</a> *obj, struct <a class="el" href="structcl__req__attr.html">cl_req_attr</a> *attr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of struct <a class="el" href="structcl__object__operations.html#ac4285e5c1c552110704ba50cce4d326c" title="Set request attributes.">cl_object_operations::coo_req_attr_set()</a> for osc layer.  <a href="#ga012555c4e3901b02d2c59ff975fe1584"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6fff2cb3d86d8a7b0206286da8bbfc6b">osc_object_invalidate</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__object.html">osc_object</a> *osc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga347735e2bf147266c81506d8e32ab8f8">osc_page_protected</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structosc__page.html">osc_page</a> *opg, enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a> <a class="el" href="mdsrate_8c.html#a000e34997df38c2005a83d63e67d9282">mode</a>, int unref)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaef0e98d65a1cb06f7206f01a0096392b">osc_page_transfer_get</a> (struct <a class="el" href="structosc__page.html">osc_page</a> *opg, const char *label)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0471f9eae5fc88013c61d30a43ab6fb6">osc_page_transfer_put</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__page.html">osc_page</a> *opg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga925522309d1e870b6317c13595114a4b">osc_page_transfer_add</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structosc__page.html">osc_page</a> *opg, enum <a class="el" href="group__cl__page.html#ga419215a2ca4eeab85983de8ca5a16a02">cl_req_type</a> crt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is called once for every page when it is submitted for a transfer either opportunistic (<a class="el" href="group__osc.html#ga191a56f071d6752db73aed4510a49639">osc_page_cache_add()</a>), or immediate (<a class="el" href="group__osc.html#gae4802860d91daed5d098a08f4ed45dea" title="Helper function called by osc_io_submit() for every page in an immediate transfer...">osc_page_submit()</a>).  <a href="#ga925522309d1e870b6317c13595114a4b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae2afadc16f0731dc8bbf9e71f18a5835">osc_list</a> (struct <a class="el" href="structlist__head.html">list_head</a> *<a class="el" href="writemany_8c.html#af39400667a953a7c5c34e3964aa1ce9f">head</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga60696e19562a4a322b062b4ec96db649">osc_submit_duration</a> (struct <a class="el" href="structosc__page.html">osc_page</a> *opg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga588f41464fa8615c958a1691612f7579">osc_page_print</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *slice, void *cookie, <a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a> printer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga44b16168cf595ce24f67e0ff359f7a2d">osc_page_delete</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7ae4ea444477a2b8d430ca6b2581a20d">osc_page_clip</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *slice, int from, int to)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga5bcdf3c9bd3b0482012b4554a08c901d">osc_page_cancel</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *slice)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6beb7ac39754304f2c126c8f1efdbf8c">osc_page_flush</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *slice, struct <a class="el" href="structcl__io.html">cl_io</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga9c26ac1203cf98f4fd521d29ea813450">DECLARE_WAIT_QUEUE_HEAD</a> (osc_lru_waitq)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gabd0a23e469f86bf67e66f0f03ef1516b">lru_shrink_min</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">LRU pages are freed in batch mode.  <a href="#gabd0a23e469f86bf67e66f0f03ef1516b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1da4982cfdd0efe755fda53dfb16e77d">lru_shrink_max</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">free this number at most otherwise it will take too long time to finsih.  <a href="#ga1da4982cfdd0efe755fda53dfb16e77d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6d9a58c123f014c6f0cecc7a0d956935">osc_cache_too_much</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if we can free LRU slots from this OSC.  <a href="#ga6d9a58c123f014c6f0cecc7a0d956935"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gac72424c0edebefddd0674b7edf752181">__osc_lru_del</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__page.html">osc_page</a> *opg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3bfb464116e04404400ef71fa34298de">osc_lru_del</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__page.html">osc_page</a> *opg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Page is being destroyed.  <a href="#ga3bfb464116e04404400ef71fa34298de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf9beb39b2726984894d0264480dba48f">osc_lru_use</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__page.html">osc_page</a> *opg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete page from LRUlist for redirty.  <a href="#gaf9beb39b2726984894d0264480dba48f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gacdf15af72e5aa25503754ea2a064eead">discard_pagevec</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page.html">cl_page</a> **pvec, int max_index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6615eaa8ae63cc2317c51617f0dc7740">lru_page_busy</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a <a class="el" href="structcl__page.html" title="Fields are protected by the lock on struct page, except for atomics and immutables...">cl_page</a> can be released, i.e, it's not being used.  <a href="#ga6615eaa8ae63cc2317c51617f0dc7740"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gacad2bab69d5c52c6248c0b76fcf1e93a">osc_lru_shrink</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, long target, bool force)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drop  of pages from LRU at most.  <a href="#gacad2bab69d5c52c6248c0b76fcf1e93a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga31f63c117fc0131096df1cb21b556956">osc_lru_reclaim</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, unsigned long npages)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reclaim LRU pages by an IO thread.  <a href="#ga31f63c117fc0131096df1cb21b556956"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gad3d816668d6cfc8e6ff86c4bae42db4e">osc_lru_alloc</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, struct <a class="el" href="structosc__page.html">osc_page</a> *opg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="group__osc.html#gad3d816668d6cfc8e6ff86c4bae42db4e" title="osc_lru_alloc() is called to allocate an LRU slot for a cl_page.">osc_lru_alloc()</a> is called to allocate an LRU slot for a <a class="el" href="structcl__page.html" title="Fields are protected by the lock on struct page, except for atomics and immutables...">cl_page</a>.  <a href="#gad3d816668d6cfc8e6ff86c4bae42db4e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga6739eb4d14ea9d44005f4e5131ba8ade">osc_lru_reserve</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, unsigned long npages)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="group__osc.html#ga6739eb4d14ea9d44005f4e5131ba8ade" title="osc_lru_reserve() is called to reserve enough LRU slots for I/O.">osc_lru_reserve()</a> is called to reserve enough LRU slots for I/O.  <a href="#ga6739eb4d14ea9d44005f4e5131ba8ade"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaacf75a0c2b6ddc3e431b00b684de8eed">osc_lru_unreserve</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli, unsigned long npages)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="group__osc.html#gaacf75a0c2b6ddc3e431b00b684de8eed" title="osc_lru_unreserve() is called to unreserve LRU slots.">osc_lru_unreserve()</a> is called to unreserve LRU slots.  <a href="#gaacf75a0c2b6ddc3e431b00b684de8eed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gac60d62f7347eaa5a22e9de266175e6f0">unstable_page_accounting</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc, int factor)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Atomic operations are expensive.  <a href="#gac60d62f7347eaa5a22e9de266175e6f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga1ab701c739935fb717b4c582ef194439">add_unstable_page_accounting</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa52b271c3f6649fd384dfc59792115d7">dec_unstable_page_accounting</a> (struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga06cb0f9449c99e3cec373a61af41929a">osc_dec_unstable_pages</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Performs "unstable" page accounting.  <a href="#ga06cb0f9449c99e3cec373a61af41929a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaba135e313f6a93ebb5d5cc3a823116c4">osc_inc_unstable_pages</a> (struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">"unstable" page accounting.  <a href="#gaba135e313f6a93ebb5d5cc3a823116c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa2bc86b38907996c03e4debb5953688b">osc_over_unstable_soft_limit</a> (struct <a class="el" href="structclient__obd.html">client_obd</a> *cli)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if it piggybacks SOFT_SYNC flag to OST from this OSC.  <a href="#gaa2bc86b38907996c03e4debb5953688b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaec0dd919ecdfdb232dca4819b15617c5">osc_cache_shrink_count</a> (struct shrinker *sk, struct <a class="el" href="structshrink__control.html">shrink_control</a> *sc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return how many LRU pages in the cache of all OSC devices.  <a href="#gaec0dd919ecdfdb232dca4819b15617c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga084c788be8d116db87ebdd3c273d9a23">osc_cache_shrink_scan</a> (struct shrinker *sk, struct <a class="el" href="structshrink__control.html">shrink_control</a> *sc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scan and try to reclaim sc-&gt;nr_to_scan cached LRU pages.  <a href="#ga084c788be8d116db87ebdd3c273d9a23"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga8eacd9647843b915dfc257528333c988">oes_strings</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab64712a972a010e480fe937ff1382a55">osc_lock_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3eb040878c1bcbe41439a52e81ac568c">osc_object_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0ba94effca81566bb47feac75c05f552">osc_thread_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7e9be433a17470fa98b0ef4f3c7df031">osc_session_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaecbde970d2c1b138493f82a192098c84">osc_extent_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__device__type.html">lu_device_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga40d14c8c546010ba5c116bc0ee4fa598">osc_device_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__context__key.html">lu_context_key</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gadaf1b8cc09a172dcf2739a03e5b0fa44">osc_key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__context__key.html">lu_context_key</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga2fdc1e11d4fac80fc5f4ea7daac25f5b">osc_session_key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab64712a972a010e480fe937ff1382a55">osc_lock_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga3eb040878c1bcbe41439a52e81ac568c">osc_object_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0ba94effca81566bb47feac75c05f552">osc_thread_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga7e9be433a17470fa98b0ef4f3c7df031">osc_session_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaecbde970d2c1b138493f82a192098c84">osc_extent_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga70b280b4f8aa627b91e8b1ba485c9e6c">osc_quota_kmem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gac38b7ef212655bdc25df953d7917a0dc">osc_caches</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__context__key.html">lu_context_key</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gadaf1b8cc09a172dcf2739a03e5b0fa44">osc_key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__context__key.html">lu_context_key</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga2fdc1e11d4fac80fc5f4ea7daac25f5b">osc_session_key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga063e82361651c9b268400a3cc9197087">osc_lu_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <br class="typebreak"/>
<a class="el" href="structlu__device__type__operations.html">lu_device_type_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga0399ea34a79a01fa66d660aceac713fb">osc_device_type_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlu__device__type.html">lu_device_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#ga40d14c8c546010ba5c116bc0ee4fa598">osc_device_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__io__operations.html">cl_io_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaba5022d32fa0781e569372cb86ef93ff">osc_io_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__lock__operations.html">cl_lock_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaf69bf16bf23d5ce82362b480fcb0a331">osc_lock_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__lock__operations.html">cl_lock_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae177dc16a77b0406ec3645ad1725734d">osc_lock_lockless_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__object__operations.html">cl_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gae0e0353b169e0232f0baa16cf095f033">osc_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gab79f2a1943abc333ea2cfc2a594e4d4d">osc_lu_obj_ops</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcl__page__operations.html">cl_page_operations</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc.html#gaa294766b9587b701f2a57f07f8236c94">osc_page_ops</a></td></tr>
</table>


<h3><a class="anchor" id="is">covered by an extra lock or discard it.</a></h3><p>Check if page </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga546d404bb6139588eb80ad91b5066c65"></a><!-- doxytag: member="osc_cache.c::EASSERT" ref="ga546d404bb6139588eb80ad91b5066c65" args="(expr, ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASSERT</td>
          <td>(</td>
          <td class="paramtype">expr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ext&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;EASSERTF(expr, ext, &quot;\n&quot;)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00148">148</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01948">get_write_extents()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>, <a class="el" href="osc__cache_8c_source.html#l02086">osc_send_read_rpc()</a>, and <a class="el" href="osc__cache_8c_source.html#l01885">try_to_add_extent_for_io()</a>.</p>

</div>
</div>
<a class="anchor" id="ga10bd82d5fe369dca952502d4b71804f6"></a><!-- doxytag: member="osc_cache.c::EASSERTF" ref="ga10bd82d5fe369dca952502d4b71804f6" args="(expr, ext, fmt, args...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASSERTF</td>
          <td>(</td>
          <td class="paramtype">expr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ext, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">args...&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                            \
        <span class="keywordflow">if</span> (!(expr)) {                                                  \
                <a class="code" href="group__osc.html#ga46b53e57ffc4a110c0b2001d67ff96ba">OSC_EXTENT_DUMP</a>(<a class="code" href="libcfs__debug_8h.html#af25fefaf5c55ce92d41da370dc9399c2">D_ERROR</a>, (ext), fmt, ##args);           \
                <a class="code" href="osc__cache_8c.html#a0b4c97f3f6372712311782386e0d39c9">osc_extent_tree_dump</a>(<a class="code" href="libcfs__debug_8h.html#af25fefaf5c55ce92d41da370dc9399c2">D_ERROR</a>, (ext)-&gt;oe_obj);           \
                <a class="code" href="utils_2wirehdr_8c.html#a40eabc293a68a6404ce1de507c99c4b5">LASSERT</a>(expr);                                          \
        }                                                               \
} <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00139">139</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01161">osc_extent_expand()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__cache_8c_source.html#l00428">osc_extent_insert()</a>, and <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>.</p>

</div>
</div>
<a class="anchor" id="gab11189dcb9f88aed51615d8f5a706828"></a><!-- doxytag: member="osc_cache.c::EXTPARA" ref="gab11189dcb9f88aed51615d8f5a706828" args="(ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXTPARA</td>
          <td>(</td>
          <td class="paramtype">ext&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(ext)-&gt;oe_start, (ext)-&gt;oe_end, (ext)-&gt;oe_max_end</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00106">106</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, and <a class="el" href="osc__cache_8c_source.html#l00428">osc_extent_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1657b98d6a7972886535b57344778282"></a><!-- doxytag: member="osc_cache.c::EXTSTR" ref="ga1657b98d6a7972886535b57344778282" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXTSTR&nbsp;&nbsp;&nbsp;&quot;[%lu -&gt; %lu/%lu]&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00105">105</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, and <a class="el" href="osc__cache_8c_source.html#l00428">osc_extent_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="gadcea901783c395715ce961c8517df442"></a><!-- doxytag: member="osc_cache.c::list_to_obj" ref="gadcea901783c395715ce961c8517df442" args="(list, item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define list_to_obj</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">item&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">({                                            \
        <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a> *__tmp = (<a class="code" href="lnetctl_8c.html#ac75dee5cf9c8f0128e744b7d95db6767">list</a>)-&gt;<a class="code" href="structlist__head.html#ac3b0ff0dfb978a0cfbdad6b9d19cdcfe">next</a>;                               \
        <a class="code" href="list_8h.html#ae1cde0f50b85945cfff23be4fc1586f4" title="Remove an entry from the list it is currently in and reinitialize it.">list_del_init</a>(__tmp);                                         \
        <a class="code" href="list_8h.html#a26c976b7f654e70df318c1843e5094de" title="Get the container of a list.">list_entry</a>(__tmp, <span class="keyword">struct</span> <a class="code" href="structosc__object.html">osc_object</a>, oo_##item);                      \
})
</pre></div>
<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l02124">2124</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02132">osc_next_obj()</a>.</p>

</div>
</div>
<a class="anchor" id="ga498ae01e3e74412d04e4b5ca472f848b"></a><!-- doxytag: member="osc_cache.c::OSC_DUMP_GRANT" ref="ga498ae01e3e74412d04e4b5ca472f848b" args="(lvl, cli, fmt, args...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_DUMP_GRANT</td>
          <td>(</td>
          <td class="paramtype">lvl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cli, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">args...&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                    \
        <span class="keyword">struct </span><a class="code" href="structclient__obd.html">client_obd</a> *__tmp = (cli);                               \
        <a class="code" href="libcfs__debug_8h.html#a9253e2ada2b31c570a7c99d1bd6a6355">CDEBUG</a>(lvl, <span class="stringliteral">&quot;%s: grant { dirty: %ld/%ld dirty_pages: %ld/%lu &quot;</span>  \
               <span class="stringliteral">&quot;dropped: %ld avail: %ld, dirty_grant: %ld, &quot;</span>            \
               <span class="stringliteral">&quot;reserved: %ld, flight: %d } lru {in list: %ld, &quot;</span>        \
               <span class="stringliteral">&quot;left: %ld, waiters: %d }&quot;</span> fmt <span class="stringliteral">&quot;\n&quot;</span>,                     \
               <a class="code" href="osc__internal_8h.html#ab7e9270f77b23c30fb3e224636599297">cli_name</a>(__tmp),                                         \
               __tmp-&gt;<a class="code" href="structclient__obd.html#a099a0b3e3a52236fc126fe858fb4997e">cl_dirty_pages</a>, __tmp-&gt;<a class="code" href="structclient__obd.html#a474b579a4b2d805ee0217bffc7246607">cl_dirty_max_pages</a>,        \
               atomic_long_read(&amp;<a class="code" href="obd__support_8h.html#a9bc34b2c585dbf7072576459809deeba">obd_dirty_pages</a>), <a class="code" href="obd__support_8h.html#a074623ec458e7eb898f8714dbe86be67">obd_max_dirty_pages</a>, \
               __tmp-&gt;<a class="code" href="structclient__obd.html#a33d90767f0a3f1ee3b71a625f4149b60">cl_lost_grant</a>, __tmp-&gt;<a class="code" href="structclient__obd.html#a4dc7afcfe4ced702cff6034f78c79e42">cl_avail_grant</a>,             \
               __tmp-&gt;<a class="code" href="structclient__obd.html#ae6feb6dd584b7380588c1e3e0bbe2186">cl_dirty_grant</a>,                                   \
               __tmp-&gt;<a class="code" href="structclient__obd.html#ad4d9e33b8a49ad85d43f3dbcef54c537">cl_reserved_grant</a>, __tmp-&gt;<a class="code" href="structclient__obd.html#ad0503c92679f7b9827471f0ff62f5a87">cl_w_in_flight</a>,         \
               atomic_long_read(&amp;__tmp-&gt;<a class="code" href="structclient__obd.html#ac9f92301393a89d78fc95a70d3bfe390" title="# of LRU pages in the cache for this client_obd">cl_lru_in_list</a>),                \
               atomic_long_read(&amp;__tmp-&gt;<a class="code" href="structclient__obd.html#a2570ada40488ca5becf30dd69bd17add" title="# of busy LRU pages.">cl_lru_busy</a>),                   \
               atomic_read(&amp;__tmp-&gt;<a class="code" href="structclient__obd.html#a0f0b10f102c86214c6ace7570d19c1a8" title="# of threads are shrinking LRU cache.">cl_lru_shrinkers</a>), ##args);          \
} <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01358">1358</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01557">osc_enter_cache()</a>, and <a class="el" href="osc__cache_8c_source.html#l01513">osc_enter_cache_try()</a>.</p>

</div>
</div>
<a class="anchor" id="ga46b53e57ffc4a110c0b2001d67ff96ba"></a><!-- doxytag: member="osc_cache.c::OSC_EXTENT_DUMP" ref="ga46b53e57ffc4a110c0b2001d67ff96ba" args="(lvl, extent, fmt,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_EXTENT_DUMP</td>
          <td>(</td>
          <td class="paramtype">lvl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">extent, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"> <em>...</em>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                          \
        <span class="keyword">struct </span><a class="code" href="structosc__extent.html" title="osc_extent data to manage dirty pages.">osc_extent</a> *__ext = (extent);                                  \
        <span class="keywordtype">char</span> __buf[16];                                                       \
                                                                              \
        <a class="code" href="libcfs__debug_8h.html#a9253e2ada2b31c570a7c99d1bd6a6355">CDEBUG</a>(lvl,                                                           \
                <span class="stringliteral">&quot;extent %p@{&quot;</span> <a class="code" href="group__osc.html#ga1657b98d6a7972886535b57344778282">EXTSTR</a> <span class="stringliteral">&quot;, &quot;</span>                                     \
                <span class="stringliteral">&quot;[%d|%d|%c|%s|%s|%p], [%d|%d|%c|%c|%p|%u|%p]} &quot;</span> fmt,          \
                <span class="comment">/* ----- extent part 0 ----- */</span>                               \
                __ext, <a class="code" href="group__osc.html#gab11189dcb9f88aed51615d8f5a706828">EXTPARA</a>(__ext),                                        \
                <span class="comment">/* ----- part 1 ----- */</span>                                      \
                atomic_read(&amp;__ext-&gt;<a class="code" href="structosc__extent.html#a7f522192b2e730b2700372aa917ed70d" title="refcount, removed from red-black tree if reaches zero.">oe_refc</a>),                         \
                atomic_read(&amp;__ext-&gt;<a class="code" href="structosc__extent.html#ac28ac9cd6c7240ad0afaff28ff007f89" title="busy if non-zero">oe_users</a>),                        \
                <a class="code" href="group__osc.html#ga9b42994a0fc8e631862ad6e3f881ab07">list_empty_marker</a>(&amp;__ext-&gt;<a class="code" href="structosc__extent.html#aeaa3b4c221431f0522dee297a6bf8b7f" title="link list of osc_object&amp;#39;s oo_{hp|urgent|locking}_exts.">oe_link</a>),                           \
                <a class="code" href="group__osc.html#ga8eacd9647843b915dfc257528333c988">oes_strings</a>[__ext-&gt;<a class="code" href="structosc__extent.html#ab5924332afc7ba73b69e414e239afcb8" title="state of this extent">oe_state</a>], <a class="code" href="group__osc.html#gadd52d2cca2b0f55b2ce8a326657ffc69">ext_flags</a>(__ext, __buf),        \
                __ext-&gt;<a class="code" href="structosc__extent.html#ad9dab12e21e4e8231a81ecb8f170633a" title="osc_object of this extent">oe_obj</a>,                                                \
                <span class="comment">/* ----- part 2 ----- */</span>                                      \
                __ext-&gt;<a class="code" href="structosc__extent.html#a056f40e5f22d4f17f33f318930fcc56a" title="how many grants allocated for this extent.">oe_grants</a>, __ext-&gt;<a class="code" href="structosc__extent.html#a68938c4d75d133def3289025bf89553f" title="# of dirty pages in this extent">oe_nr_pages</a>,                         \
                <a class="code" href="group__osc.html#ga9b42994a0fc8e631862ad6e3f881ab07">list_empty_marker</a>(&amp;__ext-&gt;<a class="code" href="structosc__extent.html#a560c7ce178a0a9cdac244d3d6cccf5ab" title="list of pending oap pages.">oe_pages</a>),                          \
                waitqueue_active(&amp;__ext-&gt;<a class="code" href="structosc__extent.html#abd3aea75cbadc65687de172606fb2bac" title="waitqueue - for those who want to be notified if this extent&amp;#39;s state has changed...">oe_waitq</a>) ? <span class="charliteral">&apos;+&apos;</span> : <span class="charliteral">&apos;-&apos;</span>,               \
                __ext-&gt;<a class="code" href="structosc__extent.html#a1c38bc43de56c6c6b5b09ef9477d7a8c" title="lock covering this extent">oe_dlmlock</a>, __ext-&gt;<a class="code" href="structosc__extent.html#aaa171d17018dc34315f19e53a7df019e" title="max pages per rpc when this extent was created">oe_mppr</a>, __ext-&gt;<a class="code" href="structosc__extent.html#a78831d5d0e5db8c6c1a4e166784bca0e" title="terminator of this extent.">oe_owner</a>,           \
                <span class="comment">/* ----- part 4 ----- */</span>                                      \
                ## __VA_ARGS__);                                              \
        <span class="keywordflow">if</span> (lvl == <a class="code" href="libcfs__debug_8h.html#af25fefaf5c55ce92d41da370dc9399c2">D_ERROR</a> &amp;&amp; __ext-&gt;<a class="code" href="structosc__extent.html#a1c38bc43de56c6c6b5b09ef9477d7a8c" title="lock covering this extent">oe_dlmlock</a> != NULL)                      \
                <a class="code" href="group__LDLM.html#ga658466373582d350c15ffa570d598c35">LDLM_ERROR</a>(__ext-&gt;<a class="code" href="structosc__extent.html#a1c38bc43de56c6c6b5b09ef9477d7a8c" title="lock covering this extent">oe_dlmlock</a>, <span class="stringliteral">&quot;extent: %p&quot;</span>, __ext);           \
        <span class="keywordflow">else</span>                                                                  \
                <a class="code" href="group__LDLM.html#gad8d04218a1ba26d32ea36a1f5aebc505">LDLM_DEBUG</a>(__ext-&gt;<a class="code" href="structosc__extent.html#a1c38bc43de56c6c6b5b09ef9477d7a8c" title="lock covering this extent">oe_dlmlock</a>, <span class="stringliteral">&quot;extent: %p&quot;</span>, __ext);           \
} <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00110">110</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00482">__osc_extent_remove()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>, <a class="el" href="osc__cache_8c_source.html#l00505">osc_extent_merge()</a>, <a class="el" href="osc__cache_8c_source.html#l00182">osc_extent_sanity_check0()</a>, <a class="el" href="osc__cache_8c_source.html#l01213">osc_extent_tree_dump0()</a>, <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>, and <a class="el" href="osc__cache_8c_source.html#l01885">try_to_add_extent_for_io()</a>.</p>

</div>
</div>
<a class="anchor" id="ga082e56b9502ea5417d9b5d53f8f84bcb"></a><!-- doxytag: member="osc_cl_internal.h::OSC_FLAGS" ref="ga082e56b9502ea5417d9b5d53f8f84bcb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_FLAGS&nbsp;&nbsp;&nbsp;(ASYNC_URGENT|ASYNC_READY)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00385">385</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaccc33c0d71addd205fb0d9454a49508b"></a><!-- doxytag: member="osc_cache.c::OSC_IO_DEBUG" ref="gaccc33c0d71addd205fb0d9454a49508b" args="(OSC, STR, args...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_IO_DEBUG</td>
          <td>(</td>
          <td class="paramtype">OSC, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">STR, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">args...&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="libcfs__debug_8h.html#a9253e2ada2b31c570a7c99d1bd6a6355">CDEBUG</a>(<a class="code" href="libcfs__debug_8h.html#a82cd19c0939c99444c5bf1bc830df4ee">D_CACHE</a>, <span class="stringliteral">&quot;obj %p ready %d|%c|%c wr %d|%c|%c rd %d|%c &quot;</span> STR,     \
               (OSC), <a class="code" href="group__osc.html#ga510dc87ec6399b002d883c976a61a5c9">osc_is_ready</a>(OSC),                                       \
               <a class="code" href="group__osc.html#ga9b42994a0fc8e631862ad6e3f881ab07">list_empty_marker</a>(&amp;(OSC)-&gt;oo_hp_ready_item),                    \
               <a class="code" href="group__osc.html#ga9b42994a0fc8e631862ad6e3f881ab07">list_empty_marker</a>(&amp;(OSC)-&gt;oo_ready_item),                       \
               atomic_read(&amp;(OSC)-&gt;oo_nr_writes),                              \
               <a class="code" href="group__osc.html#ga9b42994a0fc8e631862ad6e3f881ab07">list_empty_marker</a>(&amp;(OSC)-&gt;oo_hp_exts),                          \
               <a class="code" href="group__osc.html#ga9b42994a0fc8e631862ad6e3f881ab07">list_empty_marker</a>(&amp;(OSC)-&gt;oo_urgent_exts),                      \
               atomic_read(&amp;(OSC)-&gt;oo_nr_reads),                               \
               <a class="code" href="group__osc.html#ga9b42994a0fc8e631862ad6e3f881ab07">list_empty_marker</a>(&amp;(OSC)-&gt;oo_reading_exts),                     \
               ##args)
</pre></div>
<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01249">1249</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, and <a class="el" href="osc__cache_8c_source.html#l01757">osc_update_pending()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1060effa512bff483d71c38a0db5dda2"></a><!-- doxytag: member="osc_cl_internal.h::OTI_PVEC_SIZE" ref="ga1060effa512bff483d71c38a0db5dda2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OTI_PVEC_SIZE&nbsp;&nbsp;&nbsp;256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00097">97</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>.</p>

</div>
</div>
<a class="anchor" id="ga393ccfc241a11b4a496b2a737d4b9896"></a><!-- doxytag: member="osc_cache.c::sanity_check" ref="ga393ccfc241a11b4a496b2a737d4b9896" args="(ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sanity_check</td>
          <td>(</td>
          <td class="paramtype">ext&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">({                                                   \
        <span class="keywordtype">int</span> __res;                                                             \
        <a class="code" href="group__osc.html#gaa226508459c956ec3ff210b5e62f7b1d">osc_object_lock</a>((ext)-&gt;<a class="code" href="structosc__extent.html#ad9dab12e21e4e8231a81ecb8f170633a" title="osc_object of this extent">oe_obj</a>);                                        \
        __res = <a class="code" href="group__osc.html#ga12967e90fecbca17fd2506b51fb8293d">sanity_check_nolock</a>(ext);                                      \
        <a class="code" href="group__osc.html#ga4d26224f8bd08f9ec2c92f622d957487">osc_object_unlock</a>((ext)-&gt;<a class="code" href="structosc__extent.html#ad9dab12e21e4e8231a81ecb8f170633a" title="osc_object of this extent">oe_obj</a>);                                      \
        __res;                                                                 \
})
</pre></div>
<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00276">276</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="packet-lustre_8c_source.html#l09540">lustre_dissect_struct_ptlrpc_body()</a>, <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>, and <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>.</p>

</div>
</div>
<a class="anchor" id="ga12967e90fecbca17fd2506b51fb8293d"></a><!-- doxytag: member="osc_cache.c::sanity_check_nolock" ref="ga12967e90fecbca17fd2506b51fb8293d" args="(ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sanity_check_nolock</td>
          <td>(</td>
          <td class="paramtype">ext&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;osc_extent_sanity_check0(ext, __func__, __LINE__)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00273">273</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01161">osc_extent_expand()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, and <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga46b4a8ffae8b7ea1e45fd7884069fc34"></a><!-- doxytag: member="osc_cl_internal.h::osc_page_gang_cbt" ref="ga46b4a8ffae8b7ea1e45fd7884069fc34" args=")(const struct lu_env *, struct cl_io *, struct osc_page *, void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="group__osc.html#ga46b4a8ffae8b7ea1e45fd7884069fc34">osc_page_gang_cbt</a>)(const struct <a class="el" href="structlu__env.html">lu_env</a> *, struct <a class="el" href="structcl__io.html">cl_io</a> *, struct <a class="el" href="structosc__page.html">osc_page</a> *, void *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00677">677</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga6186b8ce09edf79ddb470068d980fa3d"></a><!-- doxytag: member="osc_cl_internal.h::osc_extent_state" ref="ga6186b8ce09edf79ddb470068d980fa3d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__osc.html#ga6186b8ce09edf79ddb470068d980fa3d">osc_extent_state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga6186b8ce09edf79ddb470068d980fa3da0199e25a204afc184876e45345546348"></a><!-- doxytag: member="OES_INV" ref="gga6186b8ce09edf79ddb470068d980fa3da0199e25a204afc184876e45345546348" args="" -->OES_INV</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga6186b8ce09edf79ddb470068d980fa3da57a171603bdbe9ce372e2c23f1b4fcb5"></a><!-- doxytag: member="OES_ACTIVE" ref="gga6186b8ce09edf79ddb470068d980fa3da57a171603bdbe9ce372e2c23f1b4fcb5" args="" -->OES_ACTIVE</em>&nbsp;</td><td>
<p>extent is just initialized or destroyed </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga6186b8ce09edf79ddb470068d980fa3da5fa3ea0f8426b29ae208cb22e435cf77"></a><!-- doxytag: member="OES_CACHE" ref="gga6186b8ce09edf79ddb470068d980fa3da5fa3ea0f8426b29ae208cb22e435cf77" args="" -->OES_CACHE</em>&nbsp;</td><td>
<p>process is using this extent </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga6186b8ce09edf79ddb470068d980fa3da7558231f4c40076af91adcb4f605e3a3"></a><!-- doxytag: member="OES_LOCKING" ref="gga6186b8ce09edf79ddb470068d980fa3da7558231f4c40076af91adcb4f605e3a3" args="" -->OES_LOCKING</em>&nbsp;</td><td>
<p>extent is ready for IO </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga6186b8ce09edf79ddb470068d980fa3da0cfb17d1d0abe58ee5a6e210ecd3b685"></a><!-- doxytag: member="OES_LOCK_DONE" ref="gga6186b8ce09edf79ddb470068d980fa3da0cfb17d1d0abe58ee5a6e210ecd3b685" args="" -->OES_LOCK_DONE</em>&nbsp;</td><td>
<p>locking page to prepare IO </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga6186b8ce09edf79ddb470068d980fa3da7ed8d9d8557c8185d7cd464ca6916303"></a><!-- doxytag: member="OES_RPC" ref="gga6186b8ce09edf79ddb470068d980fa3da7ed8d9d8557c8185d7cd464ca6916303" args="" -->OES_RPC</em>&nbsp;</td><td>
<p>locking finished, ready to send </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga6186b8ce09edf79ddb470068d980fa3daeac60d8c4aeeae580c118b4f08ea961c"></a><!-- doxytag: member="OES_TRUNC" ref="gga6186b8ce09edf79ddb470068d980fa3daeac60d8c4aeeae580c118b4f08ea961c" args="" -->OES_TRUNC</em>&nbsp;</td><td>
<p>in RPC </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga6186b8ce09edf79ddb470068d980fa3dac862e82e76aa4803851aca25ad9fc532"></a><!-- doxytag: member="OES_STATE_MAX" ref="gga6186b8ce09edf79ddb470068d980fa3dac862e82e76aa4803851aca25ad9fc532" args="" -->OES_STATE_MAX</em>&nbsp;</td><td>
<p>being truncated </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00571">571</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa4f7ee68e4b3bb49dcf8c8f62ac36215"></a><!-- doxytag: member="osc_cl_internal.h::osc_lock_state" ref="gaa4f7ee68e4b3bb49dcf8c8f62ac36215" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__osc.html#gaa4f7ee68e4b3bb49dcf8c8f62ac36215">osc_lock_state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a23081e5902c9447c703ecc678119d6e9"></a><!-- doxytag: member="OLS_NEW" ref="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a23081e5902c9447c703ecc678119d6e9" args="" -->OLS_NEW</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a776ca12c4ee51af431b067dea743f901"></a><!-- doxytag: member="OLS_ENQUEUED" ref="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a776ca12c4ee51af431b067dea743f901" args="" -->OLS_ENQUEUED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a5816097365b1593a67efc02f67f55037"></a><!-- doxytag: member="OLS_UPCALL_RECEIVED" ref="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a5816097365b1593a67efc02f67f55037" args="" -->OLS_UPCALL_RECEIVED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a2d25aac14431d41d5aaa8ae702e40705"></a><!-- doxytag: member="OLS_GRANTED" ref="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a2d25aac14431d41d5aaa8ae702e40705" args="" -->OLS_GRANTED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a0be13e08c2f9842b70f8f380a029ad49"></a><!-- doxytag: member="OLS_CANCELLED" ref="ggaa4f7ee68e4b3bb49dcf8c8f62ac36215a0be13e08c2f9842b70f8f380a029ad49" args="" -->OLS_CANCELLED</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00210">210</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga5ccbc0d5247e6a6d0471544880c05e32"></a><!-- doxytag: member="osc_cache.c::__osc_extent_remove" ref="ga5ccbc0d5247e6a6d0471544880c05e32" args="(struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __osc_extent_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00482">482</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00642">osc_extent::oe_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00572">OES_INV</a>, <a class="el" href="osc__cache_8c_source.html#l00110">OSC_EXTENT_DUMP</a>, <a class="el" href="osc__cache_8c_source.html#l00455">osc_extent_erase()</a>, <a class="el" href="osc__cache_8c_source.html#l00308">osc_extent_state_set()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00505">osc_extent_merge()</a>, and <a class="el" href="osc__cache_8c_source.html#l00492">osc_extent_remove()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1675fc8fce52fff3d8cc3bafd26fa0e0"></a><!-- doxytag: member="osc_cache.c::__osc_list_maint" ref="ga1675fc8fce52fff3d8cc3bafd26fa0e0" args="(struct client_obd *cli, struct osc_object *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int __osc_list_maint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01788">1788</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00236">client_obd::cl_loi_hp_ready_list</a>, <a class="el" href="obd_8h_source.html#l00238">client_obd::cl_loi_read_list</a>, <a class="el" href="obd_8h_source.html#l00235">client_obd::cl_loi_ready_list</a>, <a class="el" href="obd_8h_source.html#l00237">client_obd::cl_loi_write_list</a>, <a class="el" href="lustre__idl_8h_source.html#l01746">OBD_BRW_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cache_8c_source.html#l01777">on_list()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00138">osc_object::oo_hp_ready_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00155">osc_object::oo_nr_reads</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00156">osc_object::oo_nr_writes</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00140">osc_object::oo_read_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00137">osc_object::oo_ready_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00139">osc_object::oo_write_item</a>, <a class="el" href="osc__cache_8c_source.html#l01243">osc_is_ready()</a>, <a class="el" href="osc__cache_8c_source.html#l01772">osc_makes_hprpc()</a>, and <a class="el" href="osc__cache_8c_source.html#l01704">osc_makes_rpc()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, and <a class="el" href="osc__cache_8c_source.html#l01810">osc_list_maint()</a>.</p>

</div>
</div>
<a class="anchor" id="gac72424c0edebefddd0674b7edf752181"></a><!-- doxytag: member="osc_page.c::__osc_lru_del" ref="gac72424c0edebefddd0674b7edf752181" args="(struct client_obd *cli, struct osc_page *opg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __osc_lru_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00572">572</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00266">client_obd::cl_lru_in_list</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00368">osc_page::ops_lru</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00583">osc_lru_del()</a>, <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>, and <a class="el" href="osc__page_8c_source.html#l00612">osc_lru_use()</a>.</p>

</div>
</div>
<a class="anchor" id="ga347226f0570c6bbb9a75745b139db68c"></a><!-- doxytag: member="osc_cache.c::__osc_unreserve_grant" ref="ga347226f0570c6bbb9a75745b139db68c" args="(struct client_obd *cli, unsigned int reserved, unsigned int unused)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __osc_unreserve_grant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>unused</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01431">1431</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00193">client_obd::cl_avail_grant</a>, <a class="el" href="obd_8h_source.html#l00196">client_obd::cl_dirty_grant</a>, <a class="el" href="obd_8h_source.html#l00194">client_obd::cl_lost_grant</a>, and <a class="el" href="obd_8h_source.html#l00202">client_obd::cl_reserved_grant</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01513">osc_enter_cache_try()</a>, and <a class="el" href="osc__cache_8c_source.html#l01449">osc_unreserve_grant()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1ab701c739935fb717b4c582ef194439"></a><!-- doxytag: member="osc_page.c::add_unstable_page_accounting" ref="ga1ab701c739935fb717b4c582ef194439" args="(struct ptlrpc_bulk_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void add_unstable_page_accounting </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l01020">1020</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__page_8c_source.html#l00990">unstable_page_accounting()</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l01068">osc_inc_unstable_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4b2199f11c42a1859d7e3036c261bf4b"></a><!-- doxytag: member="osc_cache.c::check_and_discard_cb" ref="ga4b2199f11c42a1859d7e3036c261bf4b" args="(const struct lu_env *env, struct cl_io *io, struct osc_page *ops, void *cbdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int check_and_discard_cb </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cbdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l03131">3131</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="cl__page_8c_source.html#l00732">cl_page_discard()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__object_8h_source.html#l00470">CL_PAGE_EOF</a>, <a class="el" href="cl__page_8c_source.html#l00623">cl_page_own()</a>, <a class="el" href="cl__object_8h_source.html#l02074">CLP_GANG_OKAY</a>, <a class="el" href="cl__object_8h_source.html#l00731">cl_page::cp_state</a>, <a class="el" href="cl__object_8h_source.html#l00759">cl_page_slice::cpl_page</a>, <a class="el" href="cl__object_8h_source.html#l00690">CPS_FREEING</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="lustre__idl_8h_source.html#l01767">OBD_OBJECT_EOF</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__internal_8h_source.html#l00231">OSC_DAP_FL_TEST_LOCK</a>, <a class="el" href="osc__lock_8c_source.html#l01210">osc_dlmlock_at_pgoff()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00111">osc_thread_info::oti_fn_index</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00110">osc_thread_info::oti_next_index</a>.</p>

</div>
</div>
<a class="anchor" id="ga3ad629bb969c0a039ba0a4dace92585a"></a><!-- doxytag: member="osc_cl_internal.h::cl2osc" ref="ga3ad629bb969c0a039ba0a4dace92585a" args="(const struct cl_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__object.html">osc_object</a>* cl2osc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00488">488</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00118">osc_object::oo_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00467">osc_is_object()</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="osc__object_8c_source.html#l00158">osc_attr_get()</a>, <a class="el" href="osc__object_8c_source.html#l00168">osc_attr_update()</a>, <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, <a class="el" href="osc__io_8c_source.html#l00265">osc_io_commit_async()</a>, <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>, <a class="el" href="osc__io_8c_source.html#l00821">osc_io_fsync_end()</a>, <a class="el" href="osc__io_8c_source.html#l00781">osc_io_fsync_start()</a>, <a class="el" href="osc__io_8c_source.html#l00379">osc_io_iter_fini()</a>, <a class="el" href="osc__io_8c_source.html#l00338">osc_io_iter_init()</a>, <a class="el" href="osc__io_8c_source.html#l00843">osc_io_ladvise_start()</a>, <a class="el" href="osc__io_8c_source.html#l00087">osc_io_read_ahead()</a>, <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, <a class="el" href="osc__io_8c_source.html#l00124">osc_io_submit()</a>, <a class="el" href="osc__io_8c_source.html#l00394">osc_io_write_iter_fini()</a>, <a class="el" href="osc__io_8c_source.html#l00358">osc_io_write_iter_init()</a>, <a class="el" href="osc__lock_8c_source.html#l01066">osc_lock_cancel()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, <a class="el" href="osc__lock_8c_source.html#l00243">osc_lock_granted()</a>, <a class="el" href="osc__lock_8c_source.html#l01162">osc_lock_init()</a>, <a class="el" href="osc__lock_8c_source.html#l01103">osc_lock_lockless_cancel()</a>, <a class="el" href="osc__lock_8c_source.html#l00768">osc_lock_to_lockless()</a>, <a class="el" href="osc__lock_8c_source.html#l00302">osc_lock_upcall()</a>, <a class="el" href="osc__object_8c_source.html#l00225">osc_object_fiemap()</a>, <a class="el" href="osc__object_8c_source.html#l00192">osc_object_glimpse()</a>, <a class="el" href="osc__object_8c_source.html#l00212">osc_object_prune()</a>, <a class="el" href="osc__page_8c_source.html#l00292">osc_page_delete()</a>, <a class="el" href="osc__page_8c_source.html#l00380">osc_page_init()</a>, <a class="el" href="osc__page_8c_source.html#l00243">osc_page_print()</a>, <a class="el" href="osc__io_8c_source.html#l00228">osc_page_touch_at()</a>, <a class="el" href="osc__page_8c_source.html#l00193">osc_page_transfer_add()</a>, <a class="el" href="osc__object_8c_source.html#l00353">osc_req_attr_set()</a>, and <a class="el" href="osc__io_8c_source.html#l00463">osc_trunc_check()</a>.</p>

</div>
</div>
<a class="anchor" id="ga769cf4b2800ba0469f6507bcedbe9d5e"></a><!-- doxytag: member="osc_io.c::cl2osc_io" ref="ga769cf4b2800ba0469f6507bcedbe9d5e" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__io.html">osc_io</a>* cl2osc_io </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00058">58</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00066">osc_io::oi_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00265">osc_io_commit_async()</a>, <a class="el" href="osc__io_8c_source.html#l00697">osc_io_data_version_end()</a>, <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>, <a class="el" href="osc__io_8c_source.html#l00913">osc_io_end()</a>, <a class="el" href="osc__io_8c_source.html#l00821">osc_io_fsync_end()</a>, <a class="el" href="osc__io_8c_source.html#l00897">osc_io_ladvise_end()</a>, <a class="el" href="osc__io_8c_source.html#l00843">osc_io_ladvise_start()</a>, <a class="el" href="osc__io_8c_source.html#l00582">osc_io_setattr_end()</a>, <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, and <a class="el" href="osc__io_8c_source.html#l00124">osc_io_submit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9858e598601602f25f65cd55b4e98c0e"></a><!-- doxytag: member="osc_cl_internal.h::cl2osc_lock" ref="ga9858e598601602f25f65cd55b4e98c0e" args="(const struct cl_lock_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__lock.html">osc_lock</a>* cl2osc_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00555">555</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01205">cl_lock_slice::cls_obj</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00467">osc_is_object()</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00561">osc_lock_at()</a>, <a class="el" href="osc__lock_8c_source.html#l01066">osc_lock_cancel()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, <a class="el" href="osc__lock_8c_source.html#l00141">osc_lock_fini()</a>, <a class="el" href="osc__lock_8c_source.html#l01103">osc_lock_lockless_cancel()</a>, and <a class="el" href="osc__lock_8c_source.html#l01084">osc_lock_print()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b812b6becf5106791d5bd7c9126e7cf"></a><!-- doxytag: member="osc_cl_internal.h::cl2osc_page" ref="ga0b812b6becf5106791d5bd7c9126e7cf" args="(const struct cl_page_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__page.html">osc_page</a>* cl2osc_page </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00519">519</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00765">cl_page_slice::cpl_obj</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00467">osc_is_object()</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00546">osc_cl_page_osc()</a>, <a class="el" href="osc__page_8c_source.html#l00203">osc_page_cache_add()</a>, <a class="el" href="osc__page_8c_source.html#l00344">osc_page_cancel()</a>, <a class="el" href="osc__page_8c_source.html#l00328">osc_page_clip()</a>, <a class="el" href="osc__page_8c_source.html#l00292">osc_page_delete()</a>, <a class="el" href="osc__page_8c_source.html#l00361">osc_page_flush()</a>, and <a class="el" href="osc__page_8c_source.html#l00243">osc_page_print()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa52b271c3f6649fd384dfc59792115d7"></a><!-- doxytag: member="osc_page.c::dec_unstable_page_accounting" ref="gaa52b271c3f6649fd384dfc59792115d7" args="(struct ptlrpc_bulk_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void dec_unstable_page_accounting </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l01025">1025</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__page_8c_source.html#l00990">unstable_page_accounting()</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l01041">osc_dec_unstable_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9c26ac1203cf98f4fd521d29ea813450"></a><!-- doxytag: member="osc_page.c::DECLARE_WAIT_QUEUE_HEAD" ref="ga9c26ac1203cf98f4fd521d29ea813450" args="(osc_lru_waitq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DECLARE_WAIT_QUEUE_HEAD </td>
          <td>(</td>
          <td class="paramtype">osc_lru_waitq&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga38c5ab0265690211d6b7946ee24c83d8"></a><!-- doxytag: member="osc_cache.c::discard_cb" ref="ga38c5ab0265690211d6b7946ee24c83d8" args="(const struct lu_env *env, struct cl_io *io, struct osc_page *ops, void *cbdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int discard_cb </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cbdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l03169">3169</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01005">CL_PAGE_DEBUG</a>, <a class="el" href="cl__page_8c_source.html#l00732">cl_page_discard()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__page_8c_source.html#l00623">cl_page_own()</a>, <a class="el" href="cl__object_8h_source.html#l01026">cl_page_vmpage()</a>, <a class="el" href="cl__object_8h_source.html#l02074">CLP_GANG_OKAY</a>, <a class="el" href="cl__object_8h_source.html#l00731">cl_page::cp_state</a>, <a class="el" href="cl__object_8h_source.html#l00736">cl_page::cp_type</a>, <a class="el" href="cl__object_8h_source.html#l00759">cl_page_slice::cpl_page</a>, <a class="el" href="cl__object_8h_source.html#l00690">CPS_FREEING</a>, <a class="el" href="cl__object_8h_source.html#l00697">CPT_CACHEABLE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00110">osc_thread_info::oti_next_index</a>.</p>

</div>
</div>
<a class="anchor" id="gacdf15af72e5aa25503754ea2a064eead"></a><!-- doxytag: member="osc_page.c::discard_pagevec" ref="gacdf15af72e5aa25503754ea2a064eead" args="(const struct lu_env *env, struct cl_io *io, struct cl_page **pvec, int max_index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void discard_pagevec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page.html">cl_page</a> **&nbsp;</td>
          <td class="paramname"> <em>pvec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00624">624</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="cl__page_8c_source.html#l00790">cl_page_delete()</a>, <a class="el" href="cl__page_8c_source.html#l00732">cl_page_discard()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__page_8c_source.html#l00555">cl_page_is_owned()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>.</p>

</div>
</div>
<a class="anchor" id="gadd52d2cca2b0f55b2ce8a326657ffc69"></a><!-- doxytag: member="osc_cache.c::ext_flags" ref="gadd52d2cca2b0f55b2ce8a326657ffc69" args="(struct osc_extent *ext, char *flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* ext_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00076">76</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_fsync_wait</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_hp</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_intree</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_memalloc</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_rw</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_srvlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_sync</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_trunc_pending</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_urgent</a>.</p>

</div>
</div>
<a class="anchor" id="ga0e460c215d7a369744809448c712b4c6"></a><!-- doxytag: member="osc_cache.c::extent_wait_cb" ref="ga0e460c215d7a369744809448c712b4c6" args="(struct osc_extent *ext, enum osc_extent_state state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int extent_wait_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__osc.html#ga6186b8ce09edf79ddb470068d980fa3d">osc_extent_state</a>&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00901">901</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>, and <a class="el" href="utils_2wirehdr_8c_source.html#l00047">ret</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa8f882f79236804958090c6fe2323733"></a><!-- doxytag: member="osc_cache.c::first_extent" ref="gaa8f882f79236804958090c6fe2323733" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* first_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00176">176</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00145">osc_object::oo_root</a>, and <a class="el" href="osc__cache_8c_source.html#l00150">rb_extent()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01948">get_write_extents()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__cache_8c_source.html#l00288">osc_extent_is_overlapped()</a>, and <a class="el" href="osc__cache_8c_source.html#l01213">osc_extent_tree_dump0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7349c0038bdcd00aad3eb4040802f5e7"></a><!-- doxytag: member="osc_cache.c::get_write_extents" ref="ga7349c0038bdcd00aad3eb4040802f5e7" args="(struct osc_object *obj, struct list_head *rpclist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int get_write_extents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>rpclist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>In order to prevent multiple <a class="el" href="structptlrpcd.html">ptlrpcd</a> from breaking contiguous extents, get_write_extent() takes all appropriate extents in atomic. </p>
<p>The following policy is used to collect extents for IO: 1. Add as many HP extents as possible; 2. Add the first urgent extent in urgent extent list and take it out of urgent list; 3. Add subsequent extents of this urgent extent; 4. If urgent list is not empty, goto 2; 5. Traverse the extent tree from the 1st extent; 6. Above steps exit if there is no space in this RPC. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01948">1948</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="osc__cache_8c_source.html#l00148">EASSERT</a>, <a class="el" href="osc__cache_8c_source.html#l00176">first_extent()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="osc__cache_8c_source.html#l00158">next_extent()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_intree</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00640">osc_extent::oe_nr_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00662">osc_extent::oe_owner</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00574">OES_CACHE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00149">osc_object::oo_hp_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00150">osc_object::oo_urgent_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>, and <a class="el" href="osc__cache_8c_source.html#l01885">try_to_add_extent_for_io()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9b42994a0fc8e631862ad6e3f881ab07"></a><!-- doxytag: member="osc_cache.c::list_empty_marker" ref="ga9b42994a0fc8e631862ad6e3f881ab07" args="(struct list_head *list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char list_empty_marker </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00100">100</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00161">list_empty()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6615eaa8ae63cc2317c51617f0dc7740"></a><!-- doxytag: member="osc_page.c::lru_page_busy" ref="ga6615eaa8ae63cc2317c51617f0dc7740" args="(struct client_obd *cli, struct cl_page *page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lru_page_busy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page.html">cl_page</a> *&nbsp;</td>
          <td class="paramname"> <em>page</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a <a class="el" href="structcl__page.html" title="Fields are protected by the lock on struct page, except for atomics and immutables...">cl_page</a> can be released, i.e, it's not being used. </p>
<p>If unstable account is turned on, bulk transfer may hold one refcount for recovery so we need to check vmpage refcount as well; otherwise, even we can destroy <a class="el" href="structcl__page.html" title="Fields are protected by the lock on struct page, except for atomics and immutables...">cl_page</a> but the corresponding vmpage can't be reused. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00649">649</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l02207">cl_client_cache::ccc_unstable_check</a>, <a class="el" href="obd_8h_source.html#l00254">client_obd::cl_cache</a>, <a class="el" href="cl__object_8h_source.html#l01050">cl_page_in_use_noref</a>, and <a class="el" href="cl__object_8h_source.html#l01026">cl_page_vmpage()</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>.</p>

</div>
</div>
<a class="anchor" id="gab2c0eac927bf007a05676854f0f440fe"></a><!-- doxytag: member="osc_cl_internal.h::lru_queue_work" ref="gab2c0eac927bf007a05676854f0f440fe" args="(const struct lu_env *env, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lru_queue_work </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00521">521</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00328">client_obd::cl_lru_work</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="osc__page_8c_source.html#l00494">osc_cache_too_much()</a>, <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>, <a class="el" href="client_8c_source.html#l03362">ptlrpcd_queue_work()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1da4982cfdd0efe755fda53dfb16e77d"></a><!-- doxytag: member="osc_page.c::lru_shrink_max" ref="ga1da4982cfdd0efe755fda53dfb16e77d" args="(struct client_obd *cli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lru_shrink_max </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>free this number at most otherwise it will take too long time to finsih. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00482">482</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, and <a class="el" href="obd_8h_source.html#l00245">client_obd::cl_max_rpcs_in_flight</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00494">osc_cache_too_much()</a>.</p>

</div>
</div>
<a class="anchor" id="gabd0a23e469f86bf67e66f0f03ef1516b"></a><!-- doxytag: member="osc_page.c::lru_shrink_min" ref="gabd0a23e469f86bf67e66f0f03ef1516b" args="(struct client_obd *cli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lru_shrink_min </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>LRU pages are freed in batch mode. </p>
<p>OSC should at least free this number of pages to avoid running out of LRU slots. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00474">474</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00494">osc_cache_too_much()</a>.</p>

</div>
</div>
<a class="anchor" id="gae023ced23562dfdcc48121e0270eabdb"></a><!-- doxytag: member="osc_object.c::lu2osc" ref="gae023ced23562dfdcc48121e0270eabdb" args="(const struct lu_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__object.html">osc_object</a>* lu2osc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00061">61</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00118">osc_object::oo_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00467">osc_is_object()</a>.</p>

<p>Referenced by <a class="el" href="osc__object_8c_source.html#l00108">osc_object_free()</a>, <a class="el" href="osc__object_8c_source.html#l00073">osc_object_init()</a>, and <a class="el" href="osc__object_8c_source.html#l00140">osc_object_print()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4c77a45f48bd470506805b983a8d48c7"></a><!-- doxytag: member="osc_cl_internal.h::lu2osc_dev" ref="ga4c77a45f48bd470506805b983a8d48c7" args="(const struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__device.html">osc_device</a>* lu2osc_dev </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00472">472</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00131">cl_device::cd_lu_dev</a>, <a class="el" href="lu__object_8h_source.html#l00275">lu_device::ld_type</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__internal_8h_source.html#l00182">osc_device::od_cl</a>, and <a class="el" href="osc__dev_8c_source.html#l00243">osc_device_type</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01309">osc_completion()</a>, <a class="el" href="osc__dev_8c_source.html#l00190">osc_device_free()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__io_8c_source.html#l00582">osc_io_setattr_end()</a>, <a class="el" href="osc__lock_8c_source.html#l00768">osc_lock_to_lockless()</a>, and <a class="el" href="osc__object_8c_source.html#l00322">osc_object_is_contended()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7375f630804fd120775f5d2d67470740"></a><!-- doxytag: member="osc_dev.c::LU_TYPE_INIT_FINI" ref="ga7375f630804fd120775f5d2d67470740" args="(osc,&amp;osc_key,&amp;osc_session_key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LU_TYPE_INIT_FINI </td>
          <td>(</td>
          <td class="paramtype">osc&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&nbsp;</td>
          <td class="paramname"> <em>osc_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&nbsp;</td>
          <td class="paramname"> <em>osc_session_key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga57294c0c39c0cd8d3c463ab8c9f26db6"></a><!-- doxytag: member="osc_cache.c::next_extent" ref="ga57294c0c39c0cd8d3c463ab8c9f26db6" args="(struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* next_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00158">158</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_intree</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00599">osc_extent::oe_node</a>, and <a class="el" href="osc__cache_8c_source.html#l00150">rb_extent()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01948">get_write_extents()</a>, <a class="el" href="osc__cache_8c_source.html#l01161">osc_extent_expand()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__cache_8c_source.html#l00288">osc_extent_is_overlapped()</a>, and <a class="el" href="osc__cache_8c_source.html#l01213">osc_extent_tree_dump0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3d6bb83879af76f36b36895fa63a02a4"></a><!-- doxytag: member="osc_cl_internal.h::oap2cl_page" ref="ga3d6bb83879af76f36b36895fa63a02a4" args="(struct osc_async_page *oap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcl__page.html">cl_page</a>* oap2cl_page </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00535">535</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00759">cl_page_slice::cpl_page</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00525">oap2osc()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="osc__cache_8c_source.html#l01309">osc_completion()</a>, <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>, <a class="el" href="osc__cache_8c_source.html#l01261">osc_make_ready()</a>, and <a class="el" href="osc__cache_8c_source.html#l01885">try_to_add_extent_for_io()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6b190682e1d972190a0083d422f973bc"></a><!-- doxytag: member="osc_cl_internal.h::oap2osc" ref="ga6b190682e1d972190a0083d422f973bc" args="(struct osc_async_page *oap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__page.html">osc_page</a>* oap2osc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00525">525</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00336">osc_page::ops_oap</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00535">oap2cl_page()</a>, <a class="el" href="osc__cache_8c_source.html#l00182">osc_extent_sanity_check0()</a>, <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>, and <a class="el" href="osc__cache_8c_source.html#l01277">osc_refresh_count()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0d68fe46fc2f5ef1ed6def2b812c2c42"></a><!-- doxytag: member="osc_cl_internal.h::oap2osc_page" ref="ga0d68fe46fc2f5ef1ed6def2b812c2c42" args="(struct osc_async_page *oap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__page.html">osc_page</a>* oap2osc_page </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00540">540</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00336">osc_page::ops_oap</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="osc__cache_8c_source.html#l01309">osc_completion()</a>, <a class="el" href="osc__page_8c_source.html#l00542">osc_lru_add_batch()</a>, <a class="el" href="osc__cache_8c_source.html#l01261">osc_make_ready()</a>, and <a class="el" href="osc__cache_8c_source.html#l01277">osc_refresh_count()</a>.</p>

</div>
</div>
<a class="anchor" id="ga61cf4347961d2e3ebda874c6f5bed715"></a><!-- doxytag: member="osc_cache.c::ocw_granted" ref="ga61cf4347961d2e3ebda874c6f5bed715" args="(struct client_obd *cli, struct osc_cache_waiter *ocw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ocw_granted </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__cache__waiter.html">osc_cache_waiter</a> *&nbsp;</td>
          <td class="paramname"> <em>ocw</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01541">1541</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, and <a class="el" href="osc__internal_8h_source.html#l00090">osc_cache_waiter::ocw_entry</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01557">osc_enter_cache()</a>.</p>

</div>
</div>
<a class="anchor" id="gacdd664f2acd4af2529496097b14442d5"></a><!-- doxytag: member="osc_cache.c::on_list" ref="gacdd664f2acd4af2529496097b14442d5" args="(struct list_head *item, struct list_head *list, int should_be_on)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void on_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>should_be_on</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01777">1777</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, and <a class="el" href="list_8h_source.html#l00161">list_empty()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01788">__osc_list_maint()</a>.</p>

</div>
</div>
<a class="anchor" id="gabeee966e59f8ff3f8a8c3cba94b63559"></a><!-- doxytag: member="osc_cl_internal.h::osc2cl" ref="gabeee966e59f8ff3f8a8c3cba94b63559" args="(const struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcl__object.html">cl_object</a>* osc2cl </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00494">494</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00118">osc_object::oo_cl</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="osc__cache_8c_source.html#l03131">check_and_discard_cb()</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, <a class="el" href="osc__lock_8c_source.html#l01210">osc_dlmlock_at_pgoff()</a>, <a class="el" href="osc__cache_8c_source.html#l00321">osc_extent_alloc()</a>, <a class="el" href="osc__cache_8c_source.html#l00355">osc_extent_put()</a>, <a class="el" href="osc__cache_8c_source.html#l00182">osc_extent_sanity_check0()</a>, <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>, <a class="el" href="osc__io_8c_source.html#l00265">osc_io_commit_async()</a>, <a class="el" href="osc__io_8c_source.html#l00087">osc_io_read_ahead()</a>, <a class="el" href="osc__lock_8c_source.html#l00582">osc_ldlm_glimpse_ast()</a>, <a class="el" href="osc__request_8c_source.html#l02601">osc_ldlm_resource_invalidate()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, <a class="el" href="osc__lock_8c_source.html#l00191">osc_lock_lvb_update()</a>, <a class="el" href="osc__lock_8c_source.html#l00357">osc_lock_upcall_agl()</a>, <a class="el" href="osc__object_8c_source.html#l00457">osc_object_invalidate()</a>, and <a class="el" href="osc__request_8c_source.html#l00459">osc_sync_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="gaac77ea40d5011261b2385b6fc501b699"></a><!-- doxytag: member="osc_object.c::osc2lu" ref="gaac77ea40d5011261b2385b6fc501b699" args="(struct osc_object *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__object.html">lu_object</a>* osc2lu </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00056">56</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00118">osc_object::oo_cl</a>.</p>

<p>Referenced by <a class="el" href="osc__object_8c_source.html#l00439">osc_object_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2570050fe8c44faa7cb6e003be255b96"></a><!-- doxytag: member="osc_dev.c::osc2lu_dev" ref="ga2570050fe8c44faa7cb6e003be255b96" args="(struct osc_device *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* osc2lu_dev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__device.html">osc_device</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00101">101</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00131">cl_device::cd_lu_dev</a>, and <a class="el" href="osc__internal_8h_source.html#l00182">osc_device::od_cl</a>.</p>

<p>Referenced by <a class="el" href="osc__dev_8c_source.html#l00200">osc_device_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="gaefdb3e0c25e6c4ffa5f1343bbf8c1cf8"></a><!-- doxytag: member="osc_cache.c::osc_ap_completion" ref="gaefdb3e0c25e6c4ffa5f1343bbf8c1cf8" args="(const struct lu_env *env, struct client_obd *cli, struct osc_async_page *oap, int sent, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_ap_completion </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01845">1845</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00319">client_obd::cl_ar</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="obd_8h_source.html#l00073">lov_oinfo::loi_ar</a>, <a class="el" href="osc__internal_8h_source.html#l00068">osc_async_page::oap_async_flags</a>, <a class="el" href="osc__internal_8h_source.html#l00060">osc_async_page::oap_cmd</a>, <a class="el" href="osc__internal_8h_source.html#l00061">osc_async_page::oap_interrupted</a>, <a class="el" href="osc__internal_8h_source.html#l00076">osc_async_page::oap_lock</a>, <a class="el" href="osc__internal_8h_source.html#l00074">osc_async_page::oap_obj</a>, <a class="el" href="osc__internal_8h_source.html#l00072">osc_async_page::oap_request</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cache_8c_source.html#l01309">osc_completion()</a>, <a class="el" href="osc__cache_8c_source.html#l01826">osc_process_ar()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, and <a class="el" href="client_8c_source.html#l02499">ptlrpc_req_xid()</a>.</p>

</div>
</div>
<a class="anchor" id="ga39cc6d35e76b7ce505d27c8e9e34df97"></a><!-- doxytag: member="osc_io.c::osc_async_upcall" ref="ga39cc6d35e76b7ce505d27c8e9e34df97" args="(void *a, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_async_upcall </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00431">431</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00754">osc_fsync_ost()</a>, <a class="el" href="osc__io_8c_source.html#l00843">osc_io_ladvise_start()</a>, and <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6915838d1883383d72099042222c8611"></a><!-- doxytag: member="osc_object.c::osc_attr_get" ref="ga6915838d1883383d72099042222c8611" args="(const struct lu_env *env, struct cl_object *obj, struct cl_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_attr_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__attr.html">cl_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00158">158</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00149">cl_attr::cat_kms</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8c_source.html#l01132">cl_lvb2attr()</a>, <a class="el" href="obd_8h_source.html#l00071">lov_oinfo::loi_kms</a>, <a class="el" href="obd_8h_source.html#l00070">lov_oinfo::loi_kms_valid</a>, <a class="el" href="obd_8h_source.html#l00072">lov_oinfo::loi_lvb</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>.</p>

</div>
</div>
<a class="anchor" id="ga753a3fd5a143734ba7146395a9e8854c"></a><!-- doxytag: member="osc_object.c::osc_attr_update" ref="ga753a3fd5a143734ba7146395a9e8854c" args="(const struct lu_env *env, struct cl_object *obj, const struct cl_attr *attr, unsigned valid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_attr_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__attr.html">cl_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>valid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00168">168</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l00153">cl_attr::cat_atime</a>, <a class="el" href="cl__object_8h_source.html#l00182">CAT_ATIME</a>, <a class="el" href="cl__object_8h_source.html#l00161">cl_attr::cat_blocks</a>, <a class="el" href="cl__object_8h_source.html#l00184">CAT_BLOCKS</a>, <a class="el" href="cl__object_8h_source.html#l00155">cl_attr::cat_ctime</a>, <a class="el" href="cl__object_8h_source.html#l00183">CAT_CTIME</a>, <a class="el" href="cl__object_8h_source.html#l00149">cl_attr::cat_kms</a>, <a class="el" href="cl__object_8h_source.html#l00180">CAT_KMS</a>, <a class="el" href="cl__object_8h_source.html#l00151">cl_attr::cat_mtime</a>, <a class="el" href="cl__object_8h_source.html#l00181">CAT_MTIME</a>, <a class="el" href="cl__object_8h_source.html#l00143">cl_attr::cat_size</a>, <a class="el" href="cl__object_8h_source.html#l00179">CAT_SIZE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="obd_8h_source.html#l00071">lov_oinfo::loi_kms</a>, <a class="el" href="obd_8h_source.html#l00076">loi_kms_set()</a>, <a class="el" href="obd_8h_source.html#l00072">lov_oinfo::loi_lvb</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__idl_8h_source.html#l01818">ost_lvb::lvb_atime</a>, <a class="el" href="lustre__idl_8h_source.html#l01820">ost_lvb::lvb_blocks</a>, <a class="el" href="lustre__idl_8h_source.html#l01819">ost_lvb::lvb_ctime</a>, <a class="el" href="lustre__idl_8h_source.html#l01817">ost_lvb::lvb_mtime</a>, <a class="el" href="lustre__idl_8h_source.html#l01816">ost_lvb::lvb_size</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>.</p>

</div>
</div>
<a class="anchor" id="gaec0dd919ecdfdb232dca4819b15617c5"></a><!-- doxytag: member="osc_page.c::osc_cache_shrink_count" ref="gaec0dd919ecdfdb232dca4819b15617c5" args="(struct shrinker *sk, struct shrink_control *sc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long osc_cache_shrink_count </td>
          <td>(</td>
          <td class="paramtype">struct shrinker *&nbsp;</td>
          <td class="paramname"> <em>sk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structshrink__control.html">shrink_control</a> *&nbsp;</td>
          <td class="paramname"> <em>sc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return how many LRU pages in the cache of all OSC devices. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>return</em>&nbsp;</td><td># of cached LRU pages times reclaimation tendency </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SHRINK_STOP</em>&nbsp;</td><td>if it cannot do any scanning in this time </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l01134">1134</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00266">client_obd::cl_lru_in_list</a>, <a class="el" href="obd_8h_source.html#l00286">client_obd::cl_shrink_list</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="osc__request_8c_source.html#l02940">osc_shrink_list</a>, and <a class="el" href="osc__internal_8h.html#a6b7e64f1fbdfc9ae9ec34c5d6d2a5a8a">osc_shrink_lock</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02944">osc_cache_shrink()</a>, and <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga084c788be8d116db87ebdd3c273d9a23"></a><!-- doxytag: member="osc_page.c::osc_cache_shrink_scan" ref="ga084c788be8d116db87ebdd3c273d9a23" args="(struct shrinker *sk, struct shrink_control *sc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long osc_cache_shrink_scan </td>
          <td>(</td>
          <td class="paramtype">struct shrinker *&nbsp;</td>
          <td class="paramname"> <em>sk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structshrink__control.html">shrink_control</a> *&nbsp;</td>
          <td class="paramname"> <em>sc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Scan and try to reclaim sc-&gt;nr_to_scan cached LRU pages. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>number</em>&nbsp;</td><td>of cached LRU pages reclaimed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SHRINK_STOP</em>&nbsp;</td><td>if it cannot do any scanning in this time</td></tr>
  </table>
  </dd>
</dl>
<p>Linux kernel will loop calling this shrinker scan routine with sc-&gt;nr_to_scan = SHRINK_BATCH(128 for now) until kernel got enough memory.</p>
<p>If sc-&gt;nr_to_scan is 0, the VM is querying the cache size, we don't need to scan and try to reclaim LRU pages, just return 0 and <a class="el" href="group__osc.html#gaec0dd919ecdfdb232dca4819b15617c5" title="Return how many LRU pages in the cache of all OSC devices.">osc_cache_shrink_count()</a> will report the LRU page number. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l01161">1161</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="obd_8h_source.html#l00286">client_obd::cl_shrink_list</a>, <a class="el" href="linux-mem_8h_source.html#l00070">shrink_control::gfp_mask</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="linux-mem_8h_source.html#l00071">shrink_control::nr_to_scan</a>, <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>, <a class="el" href="osc__request_8c_source.html#l02940">osc_shrink_list</a>, <a class="el" href="osc__internal_8h.html#a6b7e64f1fbdfc9ae9ec34c5d6d2a5a8a">osc_shrink_lock</a>, and <a class="el" href="linux-mem_8h_source.html#l00101">SHRINK_STOP</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02944">osc_cache_shrink()</a>, and <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6d9a58c123f014c6f0cecc7a0d956935"></a><!-- doxytag: member="osc_page.c::osc_cache_too_much" ref="ga6d9a58c123f014c6f0cecc7a0d956935" args="(struct client_obd *cli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_cache_too_much </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if we can free LRU slots from this OSC. </p>
<p>If there exists LRU waiters, we should free slots aggressively. In this way, slots are freed in a steady step to maintain fairness among OSCs.</p>
<p>Return how many LRU pages should be freed. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00494">494</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l02199">cl_client_cache::ccc_lru_max</a>, <a class="el" href="cl__object_8h_source.html#l02183">cl_client_cache::ccc_users</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="obd_8h_source.html#l00254">client_obd::cl_cache</a>, <a class="el" href="obd_8h_source.html#l00266">client_obd::cl_lru_in_list</a>, <a class="el" href="obd_8h_source.html#l00271">client_obd::cl_lru_last_used</a>, <a class="el" href="obd_8h_source.html#l00260">client_obd::cl_lru_left</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__page_8c_source.html#l00482">lru_shrink_max()</a>, and <a class="el" href="osc__page_8c_source.html#l00474">lru_shrink_min()</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00521">lru_queue_work()</a>, <a class="el" href="osc__page_8c_source.html#l00583">osc_lru_del()</a>, and <a class="el" href="osc__page_8c_source.html#l00808">osc_lru_reclaim()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5d8bb46841ff73ab14ca09abac5d767c"></a><!-- doxytag: member="osc_cache.c::osc_cache_truncate_end" ref="ga5d8bb46841ff73ab14ca09abac5d767c" args="(const struct lu_env *env, struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_cache_truncate_end </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called after osc_io_setattr_end to add oio-&gt;oi_trunc back to cache. </p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00582">osc_io_setattr_end()</a>.</p>

</div>
</div>
<a class="anchor" id="ga50a5681d5c52a69e84bb265c202f3ecf"></a><!-- doxytag: member="osc_cache.c::osc_cache_truncate_start" ref="ga50a5681d5c52a69e84bb265c202f3ecf" args="(const struct lu_env *env, struct osc_object *obj, __u64 size, struct osc_extent **extp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_cache_truncate_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> **&nbsp;</td>
          <td class="paramname"> <em>extp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called by <a class="el" href="group__osc.html#ga3137874640ccea94761eec98e930fe90">osc_io_setattr_start()</a> to freeze and destroy covering extents. </p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, and <a class="el" href="osc__object_8c_source.html#l00457">osc_object_invalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4c709e4df4c17373354b20238e863f2a"></a><!-- doxytag: member="osc_cache.c::osc_cache_wait_range" ref="ga4c709e4df4c17373354b20238e863f2a" args="(const struct lu_env *env, struct osc_object *obj, pgoff_t start, pgoff_t end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_cache_wait_range </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for extents in a specific range to be written out. </p>
<p>The caller must have called <a class="el" href="group__osc.html#ga91e31015ca9c3df0750e008ebd5831cf" title="Called to write out a range of osc object.">osc_cache_writeback_range()</a> to issue IO otherwise it will take a long time for this function to finish.</p>
<p>Caller must hold inode_mutex , or cancel exclusive dlm lock so that nobody else can dirty this range of file while we're waiting for extents to be written. </p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00821">osc_io_fsync_end()</a>, and <a class="el" href="osc__io_8c_source.html#l00781">osc_io_fsync_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ga91e31015ca9c3df0750e008ebd5831cf"></a><!-- doxytag: member="osc_cache.c::osc_cache_writeback_range" ref="ga91e31015ca9c3df0750e008ebd5831cf" args="(const struct lu_env *env, struct osc_object *obj, pgoff_t start, pgoff_t end, int hp, int discard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_cache_writeback_range </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>hp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>discard</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called to write out a range of osc object. </p>
<p>: should be set this is caused by lock cancel; : is set if dirty pages should be dropped - file will be deleted or truncated, this implies there is no partially discarding extents.</p>
<p>Return how many pages will be issued, or error code if error occurred. </p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00781">osc_io_fsync_start()</a>, and <a class="el" href="osc__lock_8c_source.html#l00393">osc_lock_flush()</a>.</p>

</div>
</div>
<a class="anchor" id="gad22b15d739092f8a8d27214eff304e66"></a><!-- doxytag: member="osc_cache.c::osc_cancel_async_page" ref="gad22b15d739092f8a8d27214eff304e66" args="(const struct lu_env *env, struct osc_page *ops)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_cancel_async_page </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>this is called when a sync waiter receives an interruption. </p>
<p>Its job is to get the caller woken as soon as possible. If its page hasn't been put in an rpc yet it can dequeue immediately. Otherwise it has to mark the rpc as desiring interruption which will forcefully complete the rpc once the rpc has timed out. </p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00344">osc_page_cancel()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3920099e7777aa39d535840123365111"></a><!-- doxytag: member="osc_cache.c::osc_check_rpcs" ref="ga3920099e7777aa39d535840123365111" args="(const struct lu_env *env, struct client_obd *cli) __must_hold(&amp;cli&#45;&gt;cl_loi_list_lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_check_rpcs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l02166">2166</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cache_8c_source.html#l01788">__osc_list_maint()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="cl__object_8c_source.html#l00134">cl_object_get()</a>, <a class="el" href="cl__object_8c_source.html#l00120">cl_object_put()</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00873">lu_object_ref_add_at()</a>, <a class="el" href="lu__object_8h_source.html#l00887">lu_object_ref_del_at()</a>, <a class="el" href="lustre__idl_8h_source.html#l01746">OBD_BRW_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__cache_8c_source.html#l01249">OSC_IO_DEBUG</a>, <a class="el" href="osc__cache_8c_source.html#l01810">osc_list_maint()</a>, <a class="el" href="osc__cache_8c_source.html#l01704">osc_makes_rpc()</a>, <a class="el" href="osc__cache_8c_source.html#l01695">osc_max_rpc_in_flight()</a>, <a class="el" href="osc__cache_8c_source.html#l02132">osc_next_obj()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>, <a class="el" href="osc__cache_8c_source.html#l02086">osc_send_read_rpc()</a>, <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>, and <a class="el" href="osc__internal_8h_source.html#l00166">rpcs_in_flight()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02234">osc_io_unplug0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga10c33ef023f6e4826b12f531287ecb74"></a><!-- doxytag: member="osc_cl_internal.h::osc_cl_lock2ldlm" ref="ga10c33ef023f6e4826b12f531287ecb74" args="(enum cl_lock_mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a> osc_cl_lock2ldlm </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00499">499</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00779">CLM_GROUP</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00297">LCK_GROUP</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, and <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00743">osc_lock_build_einfo()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1565d0b6a28a449b0fea8f85930af6e5"></a><!-- doxytag: member="osc_cl_internal.h::osc_cl_page_osc" ref="ga1565d0b6a28a449b0fea8f85930af6e5" args="(struct cl_page *page, struct osc_object *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__page.html">osc_page</a>* osc_cl_page_osc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcl__page.html">cl_page</a> *&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00546">546</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00519">cl2osc_page()</a>, <a class="el" href="cl__object_8h_source.html#l02054">cl_object_page_slice()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00118">osc_object::oo_cl</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00265">osc_io_commit_async()</a>, <a class="el" href="osc__io_8c_source.html#l00124">osc_io_submit()</a>, and <a class="el" href="osc__object_8c_source.html#l00353">osc_req_attr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="gac5d45cad463d497f4b417bf796006c26"></a><!-- doxytag: member="osc_dev.c::osc_cl_process_config" ref="gac5d45cad463d497f4b417bf796006c26" args="(const struct lu_env *env, struct lu_device *d, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_cl_process_config </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00165">165</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__object_8h_source.html#l00287">lu_device::ld_obd</a>, <a class="el" href="osc__request_8c_source.html#l02905">osc_process_config_base()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="gae06087775e3f624877cb35cd9a0c80fe"></a><!-- doxytag: member="osc_cl_internal.h::osc_cli" ref="gae06087775e3f624877cb35cd9a0c80fe" args="(const struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structclient__obd.html">client_obd</a>* osc_cli </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00483">483</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01948">get_write_extents()</a>, <a class="el" href="osc__cache_8c_source.html#l01161">osc_extent_expand()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__cache_8c_source.html#l00505">osc_extent_merge()</a>, <a class="el" href="osc__cache_8c_source.html#l01213">osc_extent_tree_dump0()</a>, <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>, <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>, <a class="el" href="osc__io_8c_source.html#l00338">osc_io_iter_init()</a>, <a class="el" href="osc__io_8c_source.html#l00087">osc_io_read_ahead()</a>, <a class="el" href="osc__io_8c_source.html#l00124">osc_io_submit()</a>, <a class="el" href="osc__io_8c_source.html#l00394">osc_io_write_iter_fini()</a>, <a class="el" href="osc__io_8c_source.html#l00358">osc_io_write_iter_init()</a>, <a class="el" href="osc__page_8c_source.html#l00292">osc_page_delete()</a>, <a class="el" href="osc__page_8c_source.html#l00380">osc_page_init()</a>, <a class="el" href="osc__page_8c_source.html#l00193">osc_page_transfer_add()</a>, and <a class="el" href="osc__cache_8c_source.html#l01757">osc_update_pending()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7ee420b7a37f15e0f599b7f660753a92"></a><!-- doxytag: member="osc_cache.c::osc_completion" ref="ga7ee420b7a37f15e0f599b7f660753a92" args="(const struct lu_env *env, struct osc_async_page *oap, int cmd, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_completion </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01309">1309</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="cl__page_8c_source.html#l00909">cl_page_completion()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="cl__object_8h_source.html#l00731">cl_page::cp_state</a>, <a class="el" href="cl__object_8h_source.html#l00765">cl_page_slice::cpl_obj</a>, <a class="el" href="cl__object_8h_source.html#l00680">CPS_PAGEIN</a>, <a class="el" href="cl__object_8h_source.html#l00668">CPS_PAGEOUT</a>, <a class="el" href="cl__object_8h_source.html#l00787">CRT_READ</a>, <a class="el" href="cl__object_8h_source.html#l00788">CRT_WRITE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00059">equi</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00472">lu2osc_dev()</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00535">oap2cl_page()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00540">oap2osc_page()</a>, <a class="el" href="lustre__idl_8h_source.html#l01756">OBD_BRW_NOQUOTA</a>, <a class="el" href="lustre__idl_8h_source.html#l01746">OBD_BRW_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l01757">OBD_BRW_SRVLOCK</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="structosc__device.html#a79710f8081a1c92f75840ca1407c5460">osc_device::od_stats</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00372">osc_page::ops_submit_time</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_transfer_pinned</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01845">osc_ap_completion()</a>.</p>

</div>
</div>
<a class="anchor" id="ga472d2de9bba4167b53fa78e0990b307e"></a><!-- doxytag: member="osc_cache.c::osc_consume_write_grant" ref="ga472d2de9bba4167b53fa78e0990b307e" args="(struct client_obd *cli, struct brw_page *pga)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_consume_write_grant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbrw__page.html">brw_page</a> *&nbsp;</td>
          <td class="paramname"> <em>pga</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01376">1376</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00190">client_obd::cl_dirty_pages</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="obd_8h_source.html#l00121">brw_page::flag</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l01753">OBD_BRW_FROM_GRANT</a>, <a class="el" href="class__obd_8c_source.html#l00081">obd_dirty_pages</a>, <a class="el" href="osc__request_8c_source.html#l00724">osc_update_next_shrink()</a>, and <a class="el" href="obd_8h_source.html#l00119">brw_page::pg</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01513">osc_enter_cache_try()</a>.</p>

</div>
</div>
<a class="anchor" id="gadf59bb49a803aaaeedda81ba582d857c"></a><!-- doxytag: member="osc_io.c::osc_data_version_interpret" ref="gadf59bb49a803aaaeedda81ba582d857c" args="(const struct lu_env *env, struct ptlrpc_request *req, void *arg, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_data_version_interpret </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00619">619</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="osc__io_8c_source.html#l00615">osc_data_version_args::dva_oio</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="lustre__obdo_8h_source.html#l00069">lustre_get_wire_obdo()</a>, <a class="el" href="lustre__idl_8h_source.html#l03486">ost_body::oa</a>, <a class="el" href="structosc__io.html#a4184ea162adabd628efd92008f85d711">osc_io::oi_cbarg</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00082">osc_io::oi_oa</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00085">osc_io::osc_async_cbargs::opc_rc</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00086">osc_io::osc_async_cbargs::opc_sync</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01105">RMF_OST_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, and <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ga06cb0f9449c99e3cec373a61af41929a"></a><!-- doxytag: member="osc_page.c::osc_dec_unstable_pages" ref="ga06cb0f9449c99e3cec373a61af41929a" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_dec_unstable_pages </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs "unstable" page accounting. </p>
<p>This function balances the increment operations performed in osc_inc_unstable_pages. It is registered as the RPC request callback, and is executed when the bulk RPC is committed on the server. Thus at this point, the pages involved in the bulk transfer are no longer considered unstable.</p>
<p>If this function is called, the request should have been committed or req:rq_unstable must have been set; it implies that the unstable statistic have been added. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l01041">1041</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="cl__object_8h_source.html#l02211">cl_client_cache::ccc_unstable_nr</a>, <a class="el" href="cl__object_8h_source.html#l02216">cl_client_cache::ccc_unstable_waitq</a>, <a class="el" href="obd_8h_source.html#l00254">client_obd::cl_cache</a>, <a class="el" href="obd_8h_source.html#l00328">client_obd::cl_lru_work</a>, <a class="el" href="obd_8h_source.html#l00284">client_obd::cl_unstable_count</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="osc__page_8c_source.html#l01025">dec_unstable_page_accounting()</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="client_8c_source.html#l03362">ptlrpcd_queue_work()</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01741">brw_commit()</a>, and <a class="el" href="osc__page_8c_source.html#l01068">osc_inc_unstable_pages()</a>.</p>

</div>
</div>
<a class="anchor" id="ga482d0e89818c62ca39a8971061d90aec"></a><!-- doxytag: member="osc_dev.c::osc_device_alloc" ref="ga482d0e89818c62ca39a8971061d90aec" args="(const struct lu_env *env, struct lu_device_type *t, struct lustre_cfg *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* osc_device_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device__type.html">lu_device_type</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00200">200</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01987">cl_device_init()</a>, <a class="el" href="genops_8c_source.html#l00429">class_name2obd()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00279">lu_device::ld_ops</a>, <a class="el" href="lustre__cfg_8h_source.html#l00210">lustre_cfg_string()</a>, <a class="el" href="obd__support_8h_source.html#l00710">OBD_ALLOC_PTR</a>, <a class="el" href="obd_8h_source.html#l00655">obd_device::obd_self_export</a>, <a class="el" href="osc__internal_8h_source.html#l00182">osc_device::od_cl</a>, <a class="el" href="osc__internal_8h_source.html#l00183">osc_device::od_exp</a>, <a class="el" href="osc__dev_8c_source.html#l00101">osc2lu_dev()</a>, <a class="el" href="osc__dev_8c_source.html#l00190">osc_device_free()</a>, <a class="el" href="osc__dev_8c_source.html#l00172">osc_lu_ops</a>, <a class="el" href="osc__request_8c_source.html#l02738">osc_setup()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="gadb884f12e918374792cbb55afd775ca9"></a><!-- doxytag: member="osc_dev.c::osc_device_fini" ref="gadb884f12e918374792cbb55afd775ca9" args="(const struct lu_env *env, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* osc_device_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00184">184</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7a4aff8813d0e11f962fe7750fea8a40"></a><!-- doxytag: member="osc_dev.c::osc_device_free" ref="ga7a4aff8813d0e11f962fe7750fea8a40" args="(const struct lu_env *env, struct lu_device *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlu__device.html">lu_device</a>* osc_device_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00190">190</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01992">cl_device_fini()</a>, <a class="el" href="cl__object_8h_source.html#l01943">lu2cl_dev()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00472">lu2osc_dev()</a>, and <a class="el" href="obd__support_8h_source.html#l00830">OBD_FREE_PTR</a>.</p>

<p>Referenced by <a class="el" href="osc__dev_8c_source.html#l00200">osc_device_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga00c99092b358b84c86404dbda544ac38"></a><!-- doxytag: member="osc_dev.c::osc_device_init" ref="ga00c99092b358b84c86404dbda544ac38" args="(const struct lu_env *env, struct lu_device *d, const char *name, struct lu_device *next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_device_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>next</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00178">178</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="gaa7b3a2727168eb22303066140b94eef4"></a><!-- doxytag: member="osc_lock.c::osc_dlm_blocking_ast0" ref="gaa7b3a2727168eb22303066140b94eef4" args="(const struct lu_env *env, struct ldlm_lock *dlmlock, void *data, int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_dlm_blocking_ast0 </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>dlmlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper for osc_dlm_blocking_ast() handling discrepancies between <a class="el" href="structcl__lock.html" title="Layered client lock.">cl_lock</a> and <a class="el" href="structldlm__lock.html" title="LDLM lock structure.">ldlm_lock</a> caches. </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00429">429</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l00180">CAT_KMS</a>, <a class="el" href="cl__object_8h_source.html#l00149">cl_attr::cat_kms</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="cl__object_8c_source.html#l00236">cl_object_attr_update()</a>, <a class="el" href="cl__object_8c_source.html#l00134">cl_object_get()</a>, <a class="el" href="cl__object_8c_source.html#l00120">cl_object_put()</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00822">ldlm_lock::l_ast_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="lustre__dlm_8h_source.html#l00728">ldlm_lock::l_granted_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00724">ldlm_lock::l_req_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00297">LCK_GROUP</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lustre__dlm_8h_source.html#l00104">LDLM_CB_CANCELING</a>, <a class="el" href="ldlm__extent_8c_source.html#l00802">ldlm_extent_shift_kms()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00095">ldlm_is_discard_data</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="obd_8h_source.html#l00071">lov_oinfo::loi_kms</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__lock_8c_source.html#l00393">osc_lock_flush()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00102">osc_thread_info::oti_attr</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l02822">ldlm_extent::start</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00534">osc_ldlm_blocking_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8977a8e1e24c419f01c5a96f6fbf65a2"></a><!-- doxytag: member="osc_lock.c::osc_dlmlock_at_pgoff" ref="ga8977a8e1e24c419f01c5a96f6fbf65a2" args="(const struct lu_env *env, struct osc_object *obj, pgoff_t index, enum osc_dap_flags dap_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a>* osc_dlmlock_at_pgoff </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="osc__internal_8h.html#a89099d25428f6679c80d1b0bffc08660">osc_dap_flags</a>&nbsp;</td>
          <td class="paramname"> <em>dap_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds an existing lock covering given index and optionally different from a given <em>except</em> lock. </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l01210">1210</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l02824">ldlm_extent::gid</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="packet-lustre_8c_source.html#l00297">LCK_GROUP</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="packet-lustre_8c_source.html#l00299">LDLM_EXTENT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00040">LDLM_FL_BLOCK_GRANTED</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00173">LDLM_FL_CBPENDING</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00114">LDLM_FL_TEST_LOCK</a>, <a class="el" href="lustre__dlm_8h_source.html#l00655">LDLM_GID_ANY</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__internal_8h_source.html#l00235">OSC_DAP_FL_CANCELING</a>, <a class="el" href="osc__internal_8h_source.html#l00231">OSC_DAP_FL_TEST_LOCK</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__page_8c_source.html#l00222">osc_index2policy()</a>, <a class="el" href="osc__internal_8h.html#af6ccff10ed40679babebb500c67e4930">osc_match_base()</a>, <a class="el" href="lustre__fid_8h_source.html#l00622">ostid_build_res_name()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00100">osc_thread_info::oti_policy</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00099">osc_thread_info::oti_resname</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l03131">check_and_discard_cb()</a>, <a class="el" href="osc__io_8c_source.html#l00087">osc_io_read_ahead()</a>, and <a class="el" href="osc__object_8c_source.html#l00353">osc_req_attr_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8dd2b15bab97b5408114762ab5c22c95"></a><!-- doxytag: member="osc_lock.c::osc_enq2ldlm_flags" ref="ga8dd2b15bab97b5408114762ab5c22c95" args="(__u32 enqflags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a> osc_enq2ldlm_flags </td>
          <td>(</td>
          <td class="paramtype">__u32&nbsp;</td>
          <td class="paramname"> <em>enqflags</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00162">162</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l01611">CEF_ASYNC</a>, <a class="el" href="cl__object_8h_source.html#l01617">CEF_DISCARD_DATA</a>, <a class="el" href="cl__object_8h_source.html#l01649">CEF_LOCK_MATCH</a>, <a class="el" href="cl__object_8h_source.html#l01653">CEF_MASK</a>, <a class="el" href="cl__object_8h_source.html#l01606">CEF_NONBLOCK</a>, <a class="el" href="cl__object_8h_source.html#l01644">CEF_PEEK</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00151">LDLM_FL_AST_DISCARD_DATA</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00108">LDLM_FL_BLOCK_NOWAIT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00082">LDLM_FL_HAS_INTENT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00120">LDLM_FL_MATCH_LOCK</a>, and <a class="el" href="lustre__dlm__flags_8h_source.html#l00114">LDLM_FL_TEST_LOCK</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01162">osc_lock_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6df555cfe6139bd0bd38aaca989e391e"></a><!-- doxytag: member="osc_cache.c::osc_enter_cache" ref="ga6df555cfe6139bd0bd38aaca989e391e" args="(const struct lu_env *env, struct client_obd *cli, struct osc_async_page *oap, int bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_enter_cache </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The main entry to reserve dirty page accounting. </p>
<p>Usually the grant reserved in this function will be freed in bulk in <a class="el" href="group__osc.html#ga3298f2a1272d296b1382797b28653460" title="Free grant after IO is finished or canceled.">osc_free_grant()</a> unless it fails to add osc cache, in that case, it will be freed in <a class="el" href="group__osc.html#ga418353e2b0d8741e25b8d99f703a1382" title="The companion to osc_enter_cache(), called when  is no longer part of the dirty accounting...">osc_exit_cache()</a>.</p>
<p>The process will be put into sleep if it's already run out of grant. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01557">1557</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00061">osc_async_rc::ar_force_sync</a>, <a class="el" href="class__obd_8c_source.html#l00097">at_max</a>, <a class="el" href="lustre__import_8h_source.html#l00379">AT_OFF</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="obd_8h_source.html#l00319">client_obd::cl_ar</a>, <a class="el" href="obd_8h_source.html#l00203">client_obd::cl_cache_waiters</a>, <a class="el" href="obd_8h_source.html#l00191">client_obd::cl_dirty_max_pages</a>, <a class="el" href="obd_8h_source.html#l00190">client_obd::cl_dirty_pages</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="obd_8h_source.html#l00240">client_obd::cl_w_in_flight</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="obd_8h_source.html#l00073">lov_oinfo::loi_ar</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="lustre__lib_8h_source.html#l00189">LWI_TIMEOUT_INTR</a>, <a class="el" href="osc__internal_8h_source.html#l00074">osc_async_page::oap_obj</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00390">OBD_FAIL_OSC_NO_GRANT</a>, <a class="el" href="class__obd_8c_source.html#l00083">obd_timeout</a>, <a class="el" href="osc__internal_8h_source.html#l00090">osc_cache_waiter::ocw_entry</a>, <a class="el" href="osc__internal_8h_source.html#l00093">osc_cache_waiter::ocw_grant</a>, <a class="el" href="osc__cache_8c_source.html#l01541">ocw_granted()</a>, <a class="el" href="osc__internal_8h_source.html#l00092">osc_cache_waiter::ocw_oap</a>, <a class="el" href="osc__internal_8h_source.html#l00094">osc_cache_waiter::ocw_rc</a>, <a class="el" href="osc__internal_8h_source.html#l00091">osc_cache_waiter::ocw_waitq</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cache_8c_source.html#l01358">OSC_DUMP_GRANT</a>, <a class="el" href="osc__cache_8c_source.html#l01513">osc_enter_cache_try()</a>, <a class="el" href="osc__cache_8c_source.html#l00065">osc_extent_tree_dump</a>, <a class="el" href="osc__cache_8c_source.html#l02254">osc_io_unplug_async()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ga4f9356c961ca246789809bcc452d149e"></a><!-- doxytag: member="osc_cache.c::osc_enter_cache_try" ref="ga4f9356c961ca246789809bcc452d149e" args="(struct client_obd *cli, struct osc_async_page *oap, int bytes, int transient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_enter_cache_try </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>transient</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Non-blocking version of <a class="el" href="group__osc.html#ga6df555cfe6139bd0bd38aaca989e391e" title="The main entry to reserve dirty page accounting.">osc_enter_cache()</a> that consumes grant only when it is available. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01513">1513</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cache_8c_source.html#l01431">__osc_unreserve_grant()</a>, <a class="el" href="obd_8h_source.html#l00191">client_obd::cl_dirty_max_pages</a>, <a class="el" href="obd_8h_source.html#l00190">client_obd::cl_dirty_pages</a>, <a class="el" href="obd_8h_source.html#l00192">client_obd::cl_dirty_transit</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="osc__internal_8h_source.html#l00070">osc_async_page::oap_brw_page</a>, <a class="el" href="lustre__idl_8h_source.html#l01755">OBD_BRW_NOCACHE</a>, <a class="el" href="class__obd_8c_source.html#l00081">obd_dirty_pages</a>, <a class="el" href="class__obd_8c_source.html#l00106">obd_dirty_transit_pages</a>, <a class="el" href="class__obd_8c_source.html#l00079">obd_max_dirty_pages</a>, <a class="el" href="osc__cache_8c_source.html#l01376">osc_consume_write_grant()</a>, <a class="el" href="osc__cache_8c_source.html#l01358">OSC_DUMP_GRANT</a>, and <a class="el" href="osc__cache_8c_source.html#l01419">osc_reserve_grant()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01557">osc_enter_cache()</a>, and <a class="el" href="osc__cache_8c_source.html#l01661">osc_wake_cache_waiters()</a>.</p>

</div>
</div>
<a class="anchor" id="gab36f866d45e03d542948442f19e29c41"></a><!-- doxytag: member="osc_cl_internal.h::osc_env_info" ref="gab36f866d45e03d542948442f19e29c41" args="(const struct lu_env *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__thread__info.html">osc_thread_info</a>* osc_env_info </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00444">444</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01273">lu_env::le_ctx</a>, <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>, and <a class="el" href="osc__dev_8c_source.html#l00132">osc_key</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="osc__cache_8c_source.html#l03131">check_and_discard_cb()</a>, <a class="el" href="osc__cache_8c_source.html#l03169">discard_cb()</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, <a class="el" href="osc__lock_8c_source.html#l01210">osc_dlmlock_at_pgoff()</a>, <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>, <a class="el" href="osc__io_8c_source.html#l00843">osc_io_ladvise_start()</a>, <a class="el" href="osc__io_8c_source.html#l00719">osc_io_read_start()</a>, <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, <a class="el" href="osc__io_8c_source.html#l00737">osc_io_write_start()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, <a class="el" href="osc__lock_8c_source.html#l00853">osc_lock_enqueue_wait()</a>, <a class="el" href="osc__lock_8c_source.html#l00191">osc_lock_lvb_update()</a>, <a class="el" href="osc__lock_8c_source.html#l00658">osc_lock_weight()</a>, <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>, <a class="el" href="osc__object_8c_source.html#l00212">osc_object_prune()</a>, <a class="el" href="osc__io_8c_source.html#l00228">osc_page_touch_at()</a>, <a class="el" href="osc__cache_8c_source.html#l01277">osc_refresh_count()</a>, <a class="el" href="osc__object_8c_source.html#l00353">osc_req_attr_set()</a>, and <a class="el" href="osc__request_8c_source.html#l00459">osc_sync_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="ga80a9df989eeced2c8854e2e74214ce40"></a><!-- doxytag: member="osc_cl_internal.h::osc_env_io" ref="ga80a9df989eeced2c8854e2e74214ce40" args="(const struct lu_env *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__io.html">osc_io</a>* osc_env_io </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00462">462</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00094">osc_session::os_io</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00453">osc_env_session()</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__io_8c_source.html#l00754">osc_fsync_ost()</a>, <a class="el" href="osc__io_8c_source.html#l00981">osc_io_init()</a>, <a class="el" href="osc__io_8c_source.html#l00379">osc_io_iter_fini()</a>, <a class="el" href="osc__io_8c_source.html#l00338">osc_io_iter_init()</a>, <a class="el" href="osc__io_8c_source.html#l00394">osc_io_write_iter_fini()</a>, <a class="el" href="osc__io_8c_source.html#l00358">osc_io_write_iter_init()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, <a class="el" href="osc__lock_8c_source.html#l01128">osc_lock_set_writer()</a>, <a class="el" href="osc__lock_8c_source.html#l00768">osc_lock_to_lockless()</a>, <a class="el" href="osc__page_8c_source.html#l00887">osc_lru_alloc()</a>, and <a class="el" href="osc__page_8c_source.html#l00380">osc_page_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf9baf0bfeac957512006dbfe85783796"></a><!-- doxytag: member="osc_cl_internal.h::osc_env_session" ref="gaf9baf0bfeac957512006dbfe85783796" args="(const struct lu_env *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__session.html">osc_session</a>* osc_env_session </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00453">453</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01277">lu_env::le_ses</a>, <a class="el" href="lu__object_8c_source.html#l01574">lu_context_key_get()</a>, and <a class="el" href="osc__dev_8c_source.html#l00156">osc_session_key</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>.</p>

</div>
</div>
<a class="anchor" id="ga418353e2b0d8741e25b8d99f703a1382"></a><!-- doxytag: member="osc_cache.c::osc_exit_cache" ref="ga418353e2b0d8741e25b8d99f703a1382" args="(struct client_obd *cli, struct osc_async_page *oap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_exit_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The companion to <a class="el" href="group__osc.html#ga6df555cfe6139bd0bd38aaca989e391e" title="The main entry to reserve dirty page accounting.">osc_enter_cache()</a>, called when  is no longer part of the dirty accounting due to error. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01502">1502</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="osc__internal_8h_source.html#l00070">osc_async_page::oap_brw_page</a>, and <a class="el" href="osc__cache_8c_source.html#l01391">osc_release_write_grant()</a>.</p>

</div>
</div>
<a class="anchor" id="ga62ec09b84963e0993a0c996837113edc"></a><!-- doxytag: member="osc_cl_internal.h::osc_export" ref="ga62ec09b84963e0993a0c996837113edc" args="(const struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structobd__export.html">obd_export</a>* osc_export </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00478">478</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00472">lu2osc_dev()</a>, <a class="el" href="osc__internal_8h_source.html#l00183">osc_device::od_exp</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00118">osc_object::oo_cl</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__lock_8c_source.html#l01210">osc_dlmlock_at_pgoff()</a>, <a class="el" href="osc__io_8c_source.html#l00644">osc_io_data_version_start()</a>, <a class="el" href="osc__io_8c_source.html#l00843">osc_io_ladvise_start()</a>, <a class="el" href="osc__io_8c_source.html#l00482">osc_io_setattr_start()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, <a class="el" href="osc__lock_8c_source.html#l00768">osc_lock_to_lockless()</a>, <a class="el" href="osc__object_8c_source.html#l00225">osc_object_fiemap()</a>, <a class="el" href="osc__object_8c_source.html#l00212">osc_object_prune()</a>, <a class="el" href="osc__page_8c_source.html#l00243">osc_page_print()</a>, <a class="el" href="osc__page_8c_source.html#l00427">osc_page_submit()</a>, <a class="el" href="osc__object_8c_source.html#l00353">osc_req_attr_set()</a>, and <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>.</p>

</div>
</div>
<a class="anchor" id="gaabbb7ec605b2ed6f8686ea22a59eb995"></a><!-- doxytag: member="osc_cache.c::osc_extent_alloc" ref="gaabbb7ec605b2ed6f8686ea22a59eb995" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* osc_extent_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00321">321</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00134">cl_object_get()</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00660">osc_extent::oe_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00599">osc_extent::oe_node</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00642">osc_extent::oe_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00603">osc_extent::oe_refc</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00605">osc_extent::oe_users</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00658">osc_extent::oe_waitq</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00572">OES_INV</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, and <a class="el" href="osc__dev_8c_source.html#l00056">osc_extent_kmem</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4907bee4b4059f995bebe7665f94c6a2"></a><!-- doxytag: member="osc_cache.c::osc_extent_erase" ref="ga4907bee4b4059f995bebe7665f94c6a2" args="(struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_extent_erase </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00455">455</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_intree</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00599">osc_extent::oe_node</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00145">osc_object::oo_root</a>, <a class="el" href="osc__cache_8c_source.html#l00380">osc_extent_put_trust()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00482">__osc_extent_remove()</a>.</p>

</div>
</div>
<a class="anchor" id="ga66d89669e59af774ddaaeedcaac8af66"></a><!-- doxytag: member="osc_cache.c::osc_extent_expand" ref="ga66d89669e59af774ddaaeedcaac8af66" args="(struct osc_extent *ext, pgoff_t index, unsigned int *grants)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_extent_expand </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>grants</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quick and simple version of <a class="el" href="group__osc.html#ga972097f1725c26a1c1f00bc239e80426" title="Find or create an extent which includes , core function to manage extent tree.">osc_extent_find()</a>. </p>
<p>This function is frequently called to expand the extent for the same IO. To expand the extent, the page index must be in the same or next chunk of ext-&gt;oe_end. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01161">1161</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00210">client_obd::cl_chunkbits</a>, <a class="el" href="obd_8h_source.html#l00215">client_obd::cl_max_extent_pages</a>, <a class="el" href="osc__cache_8c_source.html#l00139">EASSERTF</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cache_8c_source.html#l00158">next_extent()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00638">osc_extent::oe_grants</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00655">osc_extent::oe_max_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cache_8c_source.html#l00288">osc_extent_is_overlapped()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osc__cache_8c_source.html#l00273">sanity_check_nolock</a>.</p>

</div>
</div>
<a class="anchor" id="ga972097f1725c26a1c1f00bc239e80426"></a><!-- doxytag: member="osc_cache.c::osc_extent_find" ref="ga972097f1725c26a1c1f00bc239e80426" args="(const struct lu_env *env, struct osc_object *obj, pgoff_t index, unsigned int *grants)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* osc_extent_find </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>grants</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find or create an extent which includes , core function to manage extent tree. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00619">619</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00210">client_obd::cl_chunkbits</a>, <a class="el" href="obd_8h_source.html#l00213">client_obd::cl_grant_extent_tax</a>, <a class="el" href="obd_8h_source.html#l00215">client_obd::cl_max_extent_pages</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="cl__object_8h_source.html#l01167">cl_lock_descr::cld_end</a>, <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01165">cl_lock_descr::cld_start</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="cl__object_8h_source.html#l01202">cl_lock_slice::cls_lock</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="osc__cache_8c_source.html#l00148">EASSERT</a>, <a class="el" href="osc__cache_8c_source.html#l00139">EASSERTF</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="osc__cache_8c_source.html#l00106">EXTPARA</a>, <a class="el" href="osc__cache_8c_source.html#l00105">EXTSTR</a>, <a class="el" href="osc__cache_8c_source.html#l00176">first_extent()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__dlm_8h_source.html#l00885">ldlm_lock::l_reference</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__dlm_8h_source.html#l01344">LDLM_LOCK_GET</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="osc__internal_8h_source.html#l00177">min_t</a>, <a class="el" href="osc__cache_8c_source.html#l00158">next_extent()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00660">osc_extent::oe_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_fsync_wait</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00638">osc_extent::oe_grants</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00655">osc_extent::oe_max_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00667">osc_extent::oe_mppr</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00574">OES_CACHE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00572">OES_INV</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00081">osc_io::oi_write_osclock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00274">osc_lock::ols_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00214">OLS_GRANTED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_hold</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>, <a class="el" href="osc__cache_8c_source.html#l00321">osc_extent_alloc()</a>, <a class="el" href="osc__cache_8c_source.html#l00110">OSC_EXTENT_DUMP</a>, <a class="el" href="osc__cache_8c_source.html#l00348">osc_extent_get()</a>, <a class="el" href="osc__cache_8c_source.html#l00467">osc_extent_hold()</a>, <a class="el" href="osc__cache_8c_source.html#l00428">osc_extent_insert()</a>, <a class="el" href="osc__cache_8c_source.html#l00288">osc_extent_is_overlapped()</a>, <a class="el" href="osc__cache_8c_source.html#l00505">osc_extent_merge()</a>, <a class="el" href="osc__cache_8c_source.html#l00355">osc_extent_put()</a>, <a class="el" href="osc__cache_8c_source.html#l00391">osc_extent_search()</a>, <a class="el" href="osc__cache_8c_source.html#l00065">osc_extent_tree_dump</a>, <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>, <a class="el" href="osc__cache_8c_source.html#l00610">overlapped()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osc__cache_8c_source.html#l00273">sanity_check_nolock</a>.</p>

</div>
</div>
<a class="anchor" id="gaf6b8a4d60ebeba7a3b97618165e566b3"></a><!-- doxytag: member="osc_cache.c::osc_extent_finish" ref="gaf6b8a4d60ebeba7a3b97618165e566b3" args="(const struct lu_env *env, struct osc_extent *ext, int sent, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_extent_finish </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when IO is finished to an extent. </p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, and <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8a94d1446b76563cc6bacb1abd500ef3"></a><!-- doxytag: member="osc_cache.c::osc_extent_free" ref="ga8a94d1446b76563cc6bacb1abd500ef3" args="(struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_extent_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00343">343</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, and <a class="el" href="osc__dev_8c_source.html#l00056">osc_extent_kmem</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00355">osc_extent_put()</a>.</p>

</div>
</div>
<a class="anchor" id="gaef9a9965e5f1e3ea9172c7f046b2096f"></a><!-- doxytag: member="osc_cache.c::osc_extent_get" ref="gaef9a9965e5f1e3ea9172c7f046b2096f" args="(struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* osc_extent_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00348">348</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00603">osc_extent::oe_refc</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__cache_8c_source.html#l00467">osc_extent_hold()</a>, <a class="el" href="osc__cache_8c_source.html#l00428">osc_extent_insert()</a>, <a class="el" href="osc__cache_8c_source.html#l00416">osc_extent_lookup()</a>, <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>, and <a class="el" href="osc__cache_8c_source.html#l00505">osc_extent_merge()</a>.</p>

</div>
</div>
<a class="anchor" id="ga04c217cbba2e512cb2cca052319e8814"></a><!-- doxytag: member="osc_cache.c::osc_extent_hold" ref="ga04c217cbba2e512cb2cca052319e8814" args="(struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* osc_extent_hold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00467">467</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00640">osc_extent::oe_nr_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00605">osc_extent::oe_users</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00573">OES_ACTIVE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00574">OES_CACHE</a>, <a class="el" href="osc__cache_8c_source.html#l00348">osc_extent_get()</a>, <a class="el" href="osc__cache_8c_source.html#l00308">osc_extent_state_set()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>, and <a class="el" href="osc__cache_8c_source.html#l01757">osc_update_pending()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, and <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf0012ee9770fae7479ba1fd45e285684"></a><!-- doxytag: member="osc_cache.c::osc_extent_insert" ref="gaf0012ee9770fae7479ba1fd45e285684" args="(struct osc_object *obj, struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_extent_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00428">428</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cache_8c_source.html#l00139">EASSERTF</a>, <a class="el" href="osc__cache_8c_source.html#l00106">EXTPARA</a>, <a class="el" href="osc__cache_8c_source.html#l00105">EXTSTR</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_intree</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00599">osc_extent::oe_node</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00145">osc_object::oo_root</a>, <a class="el" href="osc__cache_8c_source.html#l00348">osc_extent_get()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>, and <a class="el" href="osc__cache_8c_source.html#l00150">rb_extent()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2230bc8d5cc15bc4ec8e081d1aa142be"></a><!-- doxytag: member="osc_cache.c::osc_extent_is_overlapped" ref="ga2230bc8d5cc15bc4ec8e081d1aa142be" args="(struct osc_object *obj, struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_extent_is_overlapped </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sanity check - to make sure there is no overlapped extent in the tree. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00288">288</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cache_8c_source.html#l00047">extent_debug</a>, <a class="el" href="osc__cache_8c_source.html#l00176">first_extent()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cache_8c_source.html#l00158">next_extent()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01161">osc_extent_expand()</a>, and <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf546c701ec20dd19b3df0eda45233fc3"></a><!-- doxytag: member="osc_cache.c::osc_extent_lookup" ref="gaf546c701ec20dd19b3df0eda45233fc3" args="(struct osc_object *obj, pgoff_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* osc_extent_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00416">416</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>, <a class="el" href="osc__cache_8c_source.html#l00348">osc_extent_get()</a>, and <a class="el" href="osc__cache_8c_source.html#l00391">osc_extent_search()</a>.</p>

</div>
</div>
<a class="anchor" id="ga87c1810f84b83263eb1597434bbf5d08"></a><!-- doxytag: member="osc_cache.c::osc_extent_make_ready" ref="ga87c1810f84b83263eb1597434bbf5d08" args="(const struct lu_env *env, struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_extent_make_ready </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is used to make the extent prepared for transfer. </p>
<p>A race with flusing page - <a class="el" href="llite__internal_8h.html#ab51b68b2e83fe6eaaa9671ab2ea6d99e">ll_writepage()</a> has to be handled cautiously. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01080">1080</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__internal_8h_source.html#l00052">ASYNC_COUNT_STABLE</a>, <a class="el" href="osc__internal_8h_source.html#l00049">ASYNC_READY</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="osc__cache_8c_source.html#l00148">EASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="osc__internal_8h_source.html#l00068">osc_async_page::oap_async_flags</a>, <a class="el" href="osc__internal_8h_source.html#l00076">osc_async_page::oap_lock</a>, <a class="el" href="osc__internal_8h_source.html#l00066">osc_async_page::oap_obj_off</a>, <a class="el" href="osc__internal_8h_source.html#l00067">osc_async_page::oap_page_off</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00640">osc_extent::oe_nr_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00662">osc_extent::oe_owner</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00642">osc_extent::oe_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00575">OES_LOCKING</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00577">OES_RPC</a>, <a class="el" href="osc__cache_8c_source.html#l00110">OSC_EXTENT_DUMP</a>, <a class="el" href="osc__cache_8c_source.html#l00348">osc_extent_get()</a>, <a class="el" href="osc__cache_8c_source.html#l00308">osc_extent_state_set()</a>, <a class="el" href="osc__cache_8c_source.html#l01261">osc_make_ready()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>, <a class="el" href="osc__cache_8c_source.html#l01277">osc_refresh_count()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osc__cache_8c_source.html#l00276">sanity_check</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gacb72c46f569c77c2065dd621064d6de2"></a><!-- doxytag: member="osc_cache.c::osc_extent_merge" ref="gacb72c46f569c77c2065dd621064d6de2" args="(const struct lu_env *env, struct osc_extent *cur, struct osc_extent *victim)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_extent_merge </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>victim</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function is used to merge extents to get better performance. </p>
<p>It checks if  and  are contiguous at block level. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00505">505</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cache_8c_source.html#l00482">__osc_extent_remove()</a>, <a class="el" href="obd_8h_source.html#l00210">client_obd::cl_chunkbits</a>, <a class="el" href="obd_8h_source.html#l00213">client_obd::cl_grant_extent_tax</a>, <a class="el" href="obd_8h_source.html#l00215">client_obd::cl_max_extent_pages</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00227">list_splice_init()</a>, <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00660">osc_extent::oe_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_fsync_wait</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00638">osc_extent::oe_grants</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00655">osc_extent::oe_max_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_memalloc</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00640">osc_extent::oe_nr_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00642">osc_extent::oe_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_urgent</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00574">OES_CACHE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cache_8c_source.html#l00110">OSC_EXTENT_DUMP</a>, <a class="el" href="osc__cache_8c_source.html#l00348">osc_extent_get()</a>, <a class="el" href="osc__cache_8c_source.html#l00355">osc_extent_put()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>.</p>

</div>
</div>
<a class="anchor" id="ga81221fe1c27f39fc73ecb0abbf0e2325"></a><!-- doxytag: member="osc_cache.c::osc_extent_put" ref="ga81221fe1c27f39fc73ecb0abbf0e2325" args="(const struct lu_env *env, struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_extent_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00355">355</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l00120">cl_object_put()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00885">ldlm_lock::l_reference</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00660">osc_extent::oe_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_intree</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00603">osc_extent::oe_refc</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00605">osc_extent::oe_users</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00572">OES_INV</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, and <a class="el" href="osc__cache_8c_source.html#l00343">osc_extent_free()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, and <a class="el" href="osc__cache_8c_source.html#l00505">osc_extent_merge()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf16854c30f76ad48202915757c603934"></a><!-- doxytag: member="osc_cache.c::osc_extent_put_trust" ref="gaf16854c30f76ad48202915757c603934" args="(struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_extent_put_trust </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="group__osc.html#gaf16854c30f76ad48202915757c603934" title="osc_extent_put_trust() is a special version of osc_extent_put() when it&#39;s known...">osc_extent_put_trust()</a> is a special version of <a class="el" href="group__osc.html#ga81221fe1c27f39fc73ecb0abbf0e2325">osc_extent_put()</a> when it's known that the caller is not the last user. </p>
<p>This is to address the problem of lacking of <a class="el" href="structlu__env.html" title="Environment.">lu_env</a> ;-). </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00380">380</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00603">osc_extent::oe_refc</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00455">osc_extent_erase()</a>.</p>

</div>
</div>
<a class="anchor" id="ga06e75737c5c000e1e1b65419a81aef2e"></a><!-- doxytag: member="osc_cache.c::osc_extent_release" ref="ga06e75737c5c000e1e1b65419a81aef2e" args="(const struct lu_env *env, struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_extent_release </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drop user count of <a class="el" href="structosc__extent.html" title="osc_extent data to manage dirty pages.">osc_extent</a>, and unplug IO asynchronously. </p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>, <a class="el" href="osc__io_8c_source.html#l00265">osc_io_commit_async()</a>, and <a class="el" href="osc__io_8c_source.html#l00913">osc_io_end()</a>.</p>

</div>
</div>
<a class="anchor" id="ga372be26564ebb01c355e1f624ed89e02"></a><!-- doxytag: member="osc_cache.c::osc_extent_remove" ref="ga372be26564ebb01c355e1f624ed89e02" args="(struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_extent_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00492">492</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cache_8c_source.html#l00482">__osc_extent_remove()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>.</p>

</div>
</div>
<a class="anchor" id="ga50456f7efe9884400794e83b92490287"></a><!-- doxytag: member="osc_cache.c::osc_extent_sanity_check0" ref="ga50456f7efe9884400794e83b92490287" args="(struct osc_extent *ext, const char *func, const int line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_extent_sanity_check0 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00182">182</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="cl__page_8c_source.html#l01050">cl_offset()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="osc__cache_8c_source.html#l00047">extent_debug</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="lustre__dlm_8h_source.html#l00728">ldlm_lock::l_granted_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="packet-lustre_8c_source.html#l00297">LCK_GROUP</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00198">ldlm_is_failed</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00525">oap2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00660">osc_extent::oe_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_fsync_wait</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00638">osc_extent::oe_grants</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_hp</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00655">osc_extent::oe_max_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00667">osc_extent::oe_mppr</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00640">osc_extent::oe_nr_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00642">osc_extent::oe_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00603">osc_extent::oe_refc</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_sync</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_urgent</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00605">osc_extent::oe_users</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00573">OES_ACTIVE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00574">OES_CACHE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00572">OES_INV</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00579">OES_STATE_MAX</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__cache_8c_source.html#l00110">OSC_EXTENT_DUMP</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>, and <a class="el" href="lustre__idl_8h_source.html#l02822">ldlm_extent::start</a>.</p>

</div>
</div>
<a class="anchor" id="ga1b7664e8774e3c11a008f31cc97c352e"></a><!-- doxytag: member="osc_cache.c::osc_extent_search" ref="ga1b7664e8774e3c11a008f31cc97c352e" args="(struct osc_object *obj, pgoff_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* osc_extent_search </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the extent which includes pgoff , or return the greatest previous extent in the tree. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00391">391</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00145">osc_object::oo_root</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>, and <a class="el" href="osc__cache_8c_source.html#l00150">rb_extent()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, and <a class="el" href="osc__cache_8c_source.html#l00416">osc_extent_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8abfcfdf87b95d5a917fe056949136e6"></a><!-- doxytag: member="osc_cache.c::osc_extent_state_set" ref="ga8abfcfdf87b95d5a917fe056949136e6" args="(struct osc_extent *ext, int state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_extent_state_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00308">308</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00658">osc_extent::oe_waitq</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00572">OES_INV</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00579">OES_STATE_MAX</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00482">__osc_extent_remove()</a>, <a class="el" href="osc__cache_8c_source.html#l00467">osc_extent_hold()</a>, <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>, <a class="el" href="osc__cache_8c_source.html#l02086">osc_send_read_rpc()</a>, and <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gad26452c049d58c3c36a5719a1042f4f1"></a><!-- doxytag: member="osc_cache.c::osc_extent_tree_dump0" ref="gad26452c049d58c3c36a5719a1042f4f1" args="(int level, struct osc_object *obj, const char *func, int line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_extent_tree_dump0 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01213">1213</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="osc__cache_8c_source.html#l00176">first_extent()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="osc__cache_8c_source.html#l00158">next_extent()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00149">osc_object::oo_hp_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00153">osc_object::oo_reading_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00150">osc_object::oo_urgent_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, and <a class="el" href="osc__cache_8c_source.html#l00110">OSC_EXTENT_DUMP</a>.</p>

</div>
</div>
<a class="anchor" id="ga76df2298615d7b671a4bbf69ed9f2b58"></a><!-- doxytag: member="osc_cache.c::osc_extent_truncate" ref="ga76df2298615d7b671a4bbf69ed9f2b58" args="(struct osc_extent *ext, pgoff_t trunc_index, bool partial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_extent_truncate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>trunc_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>partial</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Discard pages with index greater than . </p>
<p>If  is overlapped with , then partial truncate happens. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00961">961</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01397">CIT_MISC</a>, <a class="el" href="obd_8h_source.html#l00210">client_obd::cl_chunkbits</a>, <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="cl__io_8c_source.html#l00103">cl_io_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00211">cl_io_init()</a>, <a class="el" href="cl__object_8c_source.html#l00145">cl_object_top()</a>, <a class="el" href="cl__page_8c_source.html#l00732">cl_page_discard()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__page_8c_source.html#l00355">cl_page_get()</a>, <a class="el" href="cl__page_8c_source.html#l00623">cl_page_own()</a>, <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="cl__object_8h_source.html#l00731">cl_page::cp_state</a>, <a class="el" href="cl__object_8h_source.html#l00690">CPS_FREEING</a>, <a class="el" href="osc__cache_8c_source.html#l00139">EASSERTF</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00535">oap2cl_page()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00525">oap2osc()</a>, <a class="el" href="osc__internal_8h_source.html#l00063">osc_async_page::oap_pending_item</a>, <a class="el" href="osc__internal_8h_source.html#l00064">osc_async_page::oap_rpc_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00638">osc_extent::oe_grants</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00655">osc_extent::oe_max_end</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00640">osc_extent::oe_nr_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00642">osc_extent::oe_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_urgent</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00578">OES_TRUNC</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cache_8c_source.html#l01472">osc_free_grant()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00105">osc_thread_info::oti_io</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osc__cache_8c_source.html#l00276">sanity_check</a>.</p>

</div>
</div>
<a class="anchor" id="ga26c68b4c7b2181cc066a783e7cb5de03"></a><!-- doxytag: member="osc_cache.c::osc_extent_wait" ref="ga26c68b4c7b2181cc066a783e7cb5de03" args="(const struct lu_env *env, struct osc_extent *ext, enum osc_extent_state state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_extent_wait </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__osc.html#ga6186b8ce09edf79ddb470068d980fa3d">osc_extent_state</a>&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for the extent's state to become . </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00915">915</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osc__cache_8c_source.html#l00901">extent_wait_cb()</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__lib_8h_source.html#l00209">LWI_INTR</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="lustre__lib_8h_source.html#l00189">LWI_TIMEOUT_INTR</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_hp</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00601">osc_extent::oe_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00665">osc_extent::oe_rc</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_urgent</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00658">osc_extent::oe_waitq</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00573">OES_ACTIVE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00574">OES_CACHE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00572">OES_INV</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cache_8c_source.html#l00110">OSC_EXTENT_DUMP</a>, <a class="el" href="osc__cache_8c_source.html#l00467">osc_extent_hold()</a>, <a class="el" href="group__osc.html#ga06e75737c5c000e1e1b65419a81aef2e">osc_extent_release()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osc__cache_8c_source.html#l00273">sanity_check_nolock</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>.</p>

</div>
</div>
<a class="anchor" id="gacbca1d2858196fd14f5de2a27cb7c857"></a><!-- doxytag: member="osc_cache.c::osc_flush_async_page" ref="gacbca1d2858196fd14f5de2a27cb7c857" args="(const struct lu_env *env, struct cl_io *io, struct osc_page *ops)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_flush_async_page </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is called when a page is picked up by kernel to write out. </p>
<p>We should find out the corresponding extent and add the whole extent into urgent list. The extent may be being truncated or used, handle it carefully. </p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00361">osc_page_flush()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3298f2a1272d296b1382797b28653460"></a><!-- doxytag: member="osc_cache.c::osc_free_grant" ref="ga3298f2a1272d296b1382797b28653460" args="(struct client_obd *cli, unsigned int nr_pages, unsigned int lost_grant, unsigned int dirty_grant)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_free_grant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>nr_pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>lost_grant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>dirty_grant</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free grant after IO is finished or canceled. </p>
<p>is used to remember how many grants we have allocated but not used, we should return these grants to OST. There're two cases where grants can be lost: 1. truncate; 2. blocksize at OST is less than PAGE_CACHE_SIZE and a partial page was written. In this case OST may use less chunks to serve this partial write. OSTs don't actually know the page size on the client side. so clients have to calculate lost grant by the blocksize on the OST. See filter_grant_check() for details. </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01472">1472</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00193">client_obd::cl_avail_grant</a>, <a class="el" href="obd_8h_source.html#l00210">client_obd::cl_chunkbits</a>, <a class="el" href="obd_8h_source.html#l00196">client_obd::cl_dirty_grant</a>, <a class="el" href="obd_8h_source.html#l00190">client_obd::cl_dirty_pages</a>, <a class="el" href="obd_8h_source.html#l00213">client_obd::cl_grant_extent_tax</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="obd_8h_source.html#l00194">client_obd::cl_lost_grant</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="class__obd_8c_source.html#l00081">obd_dirty_pages</a>, and <a class="el" href="osc__cache_8c_source.html#l01661">osc_wake_cache_waiters()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf5fb8c95682b42e8898c7c74d4b94e71"></a><!-- doxytag: member="osc_io.c::osc_fsync_ost" ref="gaf5fb8c95682b42e8898c7c74d4b94e71" args="(const struct lu_env *env, struct osc_object *obj, struct cl_fsync_io *fio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_fsync_ost </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct cl_fsync_io *&nbsp;</td>
          <td class="paramname"> <em>fio</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00754">754</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03390">obdo::o_blocks</a>, <a class="el" href="lustre__idl_8h_source.html#l03384">obdo::o_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03386">obdo::o_size</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l01661">OBD_MD_FLBLOCKS</a>, <a class="el" href="lustre__idl_8h_source.html#l01679">OBD_MD_FLGROUP</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="lustre__idl_8h_source.html#l01660">OBD_MD_FLSIZE</a>, <a class="el" href="obdo_8c_source.html#l00052">obdo_set_parent_fid()</a>, <a class="el" href="structosc__io.html#a4184ea162adabd628efd92008f85d711">osc_io::oi_cbarg</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00082">osc_io::oi_oa</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__io_8c_source.html#l00431">osc_async_upcall()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>, <a class="el" href="osc__request_8c_source.html#l00498">osc_sync_base()</a>, <a class="el" href="osc__request_8c_source.html#l02043">PTLRPCD_SET</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00781">osc_io_fsync_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ga95f7cfb7218e8b72b11725001f63b02c"></a><!-- doxytag: member="osc_lock.c::osc_handle_ptr" ref="ga95f7cfb7218e8b72b11725001f63b02c" args="(struct lustre_handle *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structldlm__lock.html">ldlm_lock</a>* osc_handle_ptr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>handle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a weak pointer to the ldlm lock identified by a handle. </p>
<p>Returned pointer cannot be dereferenced, as lock is not protected from concurrent reclaim. This function is a helper for <a class="el" href="group__osc.html#ga54adc12953bce11081c44d696c8b147e" title="Invariant that has to be true all of the time.">osc_lock_invariant()</a>. </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00075">75</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, and <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00088">osc_lock_invariant()</a>.</p>

</div>
</div>
<a class="anchor" id="gaba135e313f6a93ebb5d5cc3a823116c4"></a><!-- doxytag: member="osc_page.c::osc_inc_unstable_pages" ref="gaba135e313f6a93ebb5d5cc3a823116c4" args="(struct ptlrpc_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_inc_unstable_pages </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__request.html">ptlrpc_request</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>"unstable" page accounting. </p>
<p>See: osc_dec_unstable_pages. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l01068">1068</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__page_8c_source.html#l01020">add_unstable_page_accounting()</a>, <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="cl__object_8h_source.html#l02207">cl_client_cache::ccc_unstable_check</a>, <a class="el" href="cl__object_8h_source.html#l02211">cl_client_cache::ccc_unstable_nr</a>, <a class="el" href="obd_8h_source.html#l00254">client_obd::cl_cache</a>, <a class="el" href="obd_8h_source.html#l00284">client_obd::cl_unstable_count</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="lustre__import_8h_source.html#l00205">obd_import::imp_obd</a>, <a class="el" href="osc__page_8c_source.html#l01041">osc_dec_unstable_pages()</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_committed</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l00966">ptlrpc_request::rq_lock</a>, <a class="el" href="lustre__net_8h_source.html#l00968">ptlrpc_request::rq_unstable</a>, <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>.</p>

</div>
</div>
<a class="anchor" id="gad78c5a0ff4043426e5c4dd46336e9a07"></a><!-- doxytag: member="osc_cl_internal.h::osc_index" ref="gad78c5a0ff4043426e5c4dd46336e9a07" args="(struct osc_page *opg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static pgoff_t osc_index </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00530">530</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00760">cl_page_slice::cpl_index</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l03131">check_and_discard_cb()</a>, <a class="el" href="osc__cache_8c_source.html#l03169">discard_cb()</a>, <a class="el" href="osc__cache_8c_source.html#l00182">osc_extent_sanity_check0()</a>, <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>, <a class="el" href="osc__io_8c_source.html#l00265">osc_io_commit_async()</a>, <a class="el" href="osc__page_8c_source.html#l00292">osc_page_delete()</a>, <a class="el" href="osc__page_8c_source.html#l00243">osc_page_print()</a>, <a class="el" href="osc__cache_8c_source.html#l01277">osc_refresh_count()</a>, <a class="el" href="osc__object_8c_source.html#l00353">osc_req_attr_set()</a>, <a class="el" href="osc__io_8c_source.html#l00443">trunc_check_cb()</a>, and <a class="el" href="osc__lock_8c_source.html#l00644">weigh_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5023e2c6d3427c41c4f8002c8845bcfe"></a><!-- doxytag: member="osc_cl_internal.h::osc_index2policy" ref="ga5023e2c6d3427c41c4f8002c8845bcfe" args="(union ldlm_policy_data *policy, const struct cl_object *obj, pgoff_t start, pgoff_t end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_index2policy </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00222">222</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="cl__page_8c_source.html#l01050">cl_offset()</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, and <a class="el" href="lustre__idl_8h_source.html#l02822">ldlm_extent::start</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01210">osc_dlmlock_at_pgoff()</a>, and <a class="el" href="osc__lock_8c_source.html#l00152">osc_lock_build_policy()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4b4e1d4cec8445eed959b07f9f012b2a"></a><!-- doxytag: member="osc_io.c::osc_io_commit_async" ref="ga4b4e1d4cec8445eed959b07f9f012b2a" args="(const struct lu_env *env, const struct cl_io_slice *ios, struct cl_page_list *qin, int from, int to, cl_commit_cbt cb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_commit_async </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *&nbsp;</td>
          <td class="paramname"> <em>qin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cl__io.html#ga54c4de6c969138d0642ef59a1ff5e0b0">cl_commit_cbt</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00265">265</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="cl__object_8h_source.html#l02290">cl_io_is_sync_write()</a>, <a class="el" href="cl__page_8c_source.html#l00995">cl_page_clip()</a>, <a class="el" href="cl__io_8c_source.html#l00886">cl_page_list_del()</a>, <a class="el" href="cl__object_8h_source.html#l02337">cl_page_list_first()</a>, <a class="el" href="cl__object_8h_source.html#l02331">cl_page_list_last()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="osc__internal_8h_source.html#l00063">osc_async_page::oap_pending_item</a>, <a class="el" href="osc__internal_8h_source.html#l00064">osc_async_page::oap_rpc_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00076">osc_io::oi_active</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00068">osc_io::oi_lockless</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00336">osc_page::ops_oap</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00546">osc_cl_page_osc()</a>, <a class="el" href="group__osc.html#ga06e75737c5c000e1e1b65419a81aef2e">osc_extent_release()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, <a class="el" href="osc__page_8c_source.html#l00203">osc_page_cache_add()</a>, <a class="el" href="osc__io_8c_source.html#l00228">osc_page_touch_at()</a>, <a class="el" href="cl__object_8h_source.html#l01292">cl_page_list::pl_nr</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ga7566380261c93cfa1cd62e3ec9500380"></a><!-- doxytag: member="osc_io.c::osc_io_data_version_end" ref="ga7566380261c93cfa1cd62e3ec9500380" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_io_data_version_end </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00697">697</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a10f9e99cde8891be535075974b4552f2">cl_io::ci_data_version</a>, <a class="el" href="cl__object_8h_source.html#l01819">cl_io::ci_result</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__idl_8h_source.html#l03414">obdo::o_data_version</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l01714">OBD_MD_FLDATAVERSION</a>, <a class="el" href="structosc__io.html#a4184ea162adabd628efd92008f85d711">osc_io::oi_cbarg</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00082">osc_io::oi_oa</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="gac6d025dc0c8713f1adc877a6ce2e7a22"></a><!-- doxytag: member="osc_io.c::osc_io_data_version_start" ref="gac6d025dc0c8713f1adc877a6ce2e7a22" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_data_version_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00644">644</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a10f9e99cde8891be535075974b4552f2">cl_io::ci_data_version</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="osd__iam_8h_source.html#l00054">CLASSERT</a>, <a class="el" href="osc__io_8c_source.html#l00615">osc_data_version_args::dva_oio</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="lustre__user_8h_source.html#l01028">LL_DV_RD_FLUSH</a>, <a class="el" href="lustre__user_8h_source.html#l01029">LL_DV_WR_FLUSH</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="packet-lustre_8c_source.html#l00078">LUSTRE_OST_VERSION</a>, <a class="el" href="lustre__obdo_8h_source.html#l00048">lustre_set_wire_obdo()</a>, <a class="el" href="lustre__idl_8h_source.html#l03398">obdo::o_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03384">obdo::o_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l03486">ost_body::oa</a>, <a class="el" href="lustre__idl_8h_source.html#l01447">OBD_FL_FLUSH</a>, <a class="el" href="lustre__idl_8h_source.html#l01435">OBD_FL_SRVLOCK</a>, <a class="el" href="lustre__idl_8h_source.html#l01667">OBD_MD_FLFLAGS</a>, <a class="el" href="lustre__idl_8h_source.html#l01679">OBD_MD_FLGROUP</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="structosc__io.html#a4184ea162adabd628efd92008f85d711">osc_io::oi_cbarg</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00082">osc_io::oi_oa</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__io_8c_source.html#l00619">osc_data_version_interpret()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="packet-lustre_8c_source.html#l00164">OST_GETATTR</a>, <a class="el" href="lustre__net_8h_source.html#l00505">ptlrpc_req_async_args</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="ptlrpcd_8c_source.html#l00268">ptlrpcd_add_req()</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01105">RMF_OST_BODY</a>, <a class="el" href="lustre__net_8h_source.html#l01104">ptlrpc_request::rq_import</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01614">RQF_OST_GETATTR</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="gaf3e21ef07ddfb378b4bfa4fa5a435f30"></a><!-- doxytag: member="osc_io.c::osc_io_end" ref="gaf3e21ef07ddfb378b4bfa4fa5a435f30" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_io_end </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00913">913</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00076">osc_io::oi_active</a>, and <a class="el" href="group__osc.html#ga06e75737c5c000e1e1b65419a81aef2e">osc_extent_release()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa4145327912313a5c5255cd24bd9c823"></a><!-- doxytag: member="osc_io.c::osc_io_fault_start" ref="gaa4145327912313a5c5255cd24bd9c823" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_fault_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00409">409</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="structcl__io.html#a1a7759183426a4d21ab676823e0a8a11">cl_io::ci_fault</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osc__io_8c_source.html#l00228">osc_page_touch_at()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="gaaf150cdcabd9d122b99368a05bedbc8c"></a><!-- doxytag: member="osc_io.c::osc_io_fini" ref="gaaf150cdcabd9d122b99368a05bedbc8c" args="(const struct lu_env *env, const struct cl_io_slice *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_io_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00072">72</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabb2827cd9b303b439eecb491b0eff325"></a><!-- doxytag: member="osc_io.c::osc_io_fsync_end" ref="gabb2827cd9b303b439eecb491b0eff325" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_io_fsync_end </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00821">821</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a2f7294640051b726b4ff0d1dbfb51298">cl_io::ci_fsync</a>, <a class="el" href="cl__object_8h_source.html#l01819">cl_io::ci_result</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="cl__object_8h_source.html#l01728">CL_FSYNC_ALL</a>, <a class="el" href="cl__object_8h_source.html#l01723">CL_FSYNC_LOCAL</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="structosc__io.html#a4184ea162adabd628efd92008f85d711">osc_io::oi_cbarg</a>, <a class="el" href="group__osc.html#ga4c709e4df4c17373354b20238e863f2a">osc_cache_wait_range()</a>, <a class="el" href="rename__many_8c_source.html#l00057">start</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b51cf283c434dd7d3b6da6dd59d5c05"></a><!-- doxytag: member="osc_io.c::osc_io_fsync_start" ref="ga3b51cf283c434dd7d3b6da6dd59d5c05" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_fsync_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00781">781</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a2f7294640051b726b4ff0d1dbfb51298">cl_io::ci_fsync</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8h_source.html#l01728">CL_FSYNC_ALL</a>, <a class="el" href="cl__object_8h_source.html#l01725">CL_FSYNC_DISCARD</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="cl__object_8h_source.html#l00470">CL_PAGE_EOF</a>, <a class="el" href="mdsrate_8c_source.html#l00132">end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__idl_8h_source.html#l01767">OBD_OBJECT_EOF</a>, <a class="el" href="group__osc.html#ga4c709e4df4c17373354b20238e863f2a">osc_cache_wait_range()</a>, <a class="el" href="group__osc.html#ga91e31015ca9c3df0750e008ebd5831cf">osc_cache_writeback_range()</a>, <a class="el" href="osc__io_8c_source.html#l00754">osc_fsync_ost()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="rename__many_8c_source.html#l00057">start</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="ga718b431e8195226a8bd635c9b0c3ed83"></a><!-- doxytag: member="osc_cl_internal.h::osc_io_init" ref="ga718b431e8195226a8bd635c9b0c3ed83" args="(const struct lu_env *env, struct cl_object *obj, struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_io_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00981">981</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="cl__io_8c_source.html#l00831">cl_io_slice_add()</a>, <a class="el" href="cl__object_8h_source.html#l02314">CL_IO_SLICE_CLEAN</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00066">osc_io::oi_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3acd17fcfe4ed7a83de9aa28f5e3e20a"></a><!-- doxytag: member="osc_io.c::osc_io_iter_fini" ref="ga3acd17fcfe4ed7a83de9aa28f5e3e20a" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_io_iter_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00379">379</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00068">osc_io::oi_is_active</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00175">osc_object::oo_io_waitq</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00174">osc_object::oo_nr_ios</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00394">osc_io_write_iter_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="gad6193cbe8988b8402378b0b063843296"></a><!-- doxytag: member="osc_io.c::osc_io_iter_init" ref="gad6193cbe8988b8402378b0b063843296" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_iter_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00338">338</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_invalid</a>, <a class="el" href="lustre__import_8h_source.html#l00274">obd_import::imp_lock</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00068">osc_io::oi_is_active</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00174">osc_object::oo_nr_ios</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00358">osc_io_write_iter_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf16861c79402ae90a891cf789f4fcc48"></a><!-- doxytag: member="osc_io.c::osc_io_ladvise_end" ref="gaf16861c79402ae90a891cf789f4fcc48" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_io_ladvise_end </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00897">897</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#abbad06003311557a8f2d3c825ae274f3">cl_io::ci_ladvise</a>, <a class="el" href="cl__object_8h_source.html#l01819">cl_io::ci_result</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="lustre__user_8h_source.html#l01408">LF_ASYNC</a>, <a class="el" href="structosc__io.html#a4184ea162adabd628efd92008f85d711">osc_io::oi_cbarg</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="ga8363c6724449b371e1133d313f8b1883"></a><!-- doxytag: member="osc_io.c::osc_io_ladvise_start" ref="ga8363c6724449b371e1133d313f8b1883" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_ladvise_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00843">843</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#abbad06003311557a8f2d3c825ae274f3">cl_io::ci_ladvise</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__user_8h_source.html#l01411">LADVISE_MAGIC</a>, <a class="el" href="lustre__user_8h_source.html#l01420">ladvise_hdr::lah_advise</a>, <a class="el" href="lustre__user_8h_source.html#l01416">ladvise_hdr::lah_count</a>, <a class="el" href="lustre__user_8h_source.html#l01417">ladvise_hdr::lah_flags</a>, <a class="el" href="lustre__user_8h_source.html#l01415">ladvise_hdr::lah_magic</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lustre__user_8h_source.html#l01408">LF_ASYNC</a>, <a class="el" href="lustre__user_8h_source.html#l01401">lu_ladvise::lla_advice</a>, <a class="el" href="lustre__user_8h_source.html#l01403">lu_ladvise::lla_end</a>, <a class="el" href="lustre__user_8h_source.html#l01402">lu_ladvise::lla_start</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="lu__object_8c_source.html#l02362">lu_buf_realloc()</a>, <a class="el" href="lustre__idl_8h_source.html#l03384">obdo::o_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="obdo_8c_source.html#l00052">obdo_set_parent_fid()</a>, <a class="el" href="lustre__user_8h_source.html#l01032">offsetof</a>, <a class="el" href="structosc__io.html#a4184ea162adabd628efd92008f85d711">osc_io::oi_cbarg</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00082">osc_io::oi_oa</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__io_8c_source.html#l00431">osc_async_upcall()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__request_8c_source.html#l00303">osc_ladvise_base()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00114">osc_thread_info::oti_ladvise_buf</a>, <a class="el" href="osc__request_8c_source.html#l02043">PTLRPCD_SET</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="gadcff636c5a584de175dc2d527e2a102a"></a><!-- doxytag: member="osc_io.c::osc_io_read_ahead" ref="gadcff636c5a584de175dc2d527e2a102a" args="(const struct lu_env *env, const struct cl_io_slice *ios, pgoff_t start, struct cl_read_ahead *ra)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_read_ahead </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__read__ahead.html">cl_read_ahead</a> *&nbsp;</td>
          <td class="paramname"> <em>ra</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00087">87</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="cl__object_8h_source.html#l01465">cl_read_ahead::cra_cbdata</a>, <a class="el" href="cl__object_8h_source.html#l01458">cl_read_ahead::cra_end</a>, <a class="el" href="structcl__read__ahead.html#a34949cd100be7cc45879d71c293d0356">cl_read_ahead::cra_release</a>, <a class="el" href="cl__object_8h_source.html#l01460">cl_read_ahead::cra_rpc_size</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00822">ldlm_lock::l_ast_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00724">ldlm_lock::l_req_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="ldlm__lock_8c_source.html#l00582">ldlm_lock2handle()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00717">ldlm_lock_addref()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__lock_8c_source.html#l01210">osc_dlmlock_at_pgoff()</a>, <a class="el" href="osc__io_8c_source.html#l00076">osc_read_ahead_release()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ga1df91f753088c6882e6d323ab88c0f40"></a><!-- doxytag: member="osc_io.c::osc_io_read_start" ref="ga1df91f753088c6882e6d323ab88c0f40" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_read_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00719">719</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00182">CAT_ATIME</a>, <a class="el" href="cl__object_8h_source.html#l00153">cl_attr::cat_atime</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_noatime</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="cl__object_8c_source.html#l00236">cl_object_attr_update()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__compat_8h_source.html#l00094">LTIME_S</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00102">osc_thread_info::oti_attr</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ga0d0749a3436a75c4a4c760918d8e0865"></a><!-- doxytag: member="osc_io.c::osc_io_setattr_end" ref="ga0d0749a3436a75c4a4c760918d8e0865" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_io_setattr_end </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00582">582</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l01819">cl_io::ci_result</a>, <a class="el" href="structcl__io.html#add969c0bdeb6aada0869a2e9c45b406a">cl_io::ci_setattr</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="cl__object_8h_source.html#l02303">cl_io_is_trunc()</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00472">lu2osc_dev()</a>, <a class="el" href="structosc__device.html#a79710f8081a1c92f75840ca1407c5460">osc_device::od_stats</a>, <a class="el" href="structosc__io.html#a4184ea162adabd628efd92008f85d711">osc_io::oi_cbarg</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00068">osc_io::oi_lockless</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00079">osc_io::oi_trunc</a>, <a class="el" href="osc__internal_8h_source.html#l00189">osc_device::osc_stats::os_lockless_truncates</a>, <a class="el" href="group__osc.html#ga5d8bb46841ff73ab14ca09abac5d767c">osc_cache_truncate_end()</a>, <a class="el" href="osc__io_8c_source.html#l00463">osc_trunc_check()</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="ga3137874640ccea94761eec98e930fe90"></a><!-- doxytag: member="osc_io.c::osc_io_setattr_start" ref="ga3137874640ccea94761eec98e930fe90" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_setattr_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00482">482</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="lustre__patchless__compat_8h_source.html#l00135">ATTR_CTIME_SET</a>, <a class="el" href="cl__object_8h_source.html#l00182">CAT_ATIME</a>, <a class="el" href="cl__object_8h_source.html#l00153">cl_attr::cat_atime</a>, <a class="el" href="cl__object_8h_source.html#l00183">CAT_CTIME</a>, <a class="el" href="cl__object_8h_source.html#l00155">cl_attr::cat_ctime</a>, <a class="el" href="cl__object_8h_source.html#l00180">CAT_KMS</a>, <a class="el" href="cl__object_8h_source.html#l00149">cl_attr::cat_kms</a>, <a class="el" href="cl__object_8h_source.html#l00181">CAT_MTIME</a>, <a class="el" href="cl__object_8h_source.html#l00151">cl_attr::cat_mtime</a>, <a class="el" href="cl__object_8h_source.html#l00179">CAT_SIZE</a>, <a class="el" href="cl__object_8h_source.html#l00143">cl_attr::cat_size</a>, <a class="el" href="structcl__io.html#add969c0bdeb6aada0869a2e9c45b406a">cl_io::ci_setattr</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="cl__object_8h_source.html#l02303">cl_io_is_trunc()</a>, <a class="el" href="cl__object_8c_source.html#l00204">cl_object_attr_get()</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="cl__object_8c_source.html#l00236">cl_object_attr_update()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l01818">ost_lvb::lvb_atime</a>, <a class="el" href="lustre__idl_8h_source.html#l01819">ost_lvb::lvb_ctime</a>, <a class="el" href="lustre__idl_8h_source.html#l01817">ost_lvb::lvb_mtime</a>, <a class="el" href="lustre__idl_8h_source.html#l03388">obdo::o_atime</a>, <a class="el" href="lustre__idl_8h_source.html#l03390">obdo::o_blocks</a>, <a class="el" href="lustre__idl_8h_source.html#l03389">obdo::o_ctime</a>, <a class="el" href="lustre__idl_8h_source.html#l03398">obdo::o_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03387">obdo::o_mtime</a>, <a class="el" href="lustre__idl_8h_source.html#l03384">obdo::o_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03386">obdo::o_size</a>, <a class="el" href="lustre__idl_8h_source.html#l03404">obdo::o_stripe_idx</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l01435">OBD_FL_SRVLOCK</a>, <a class="el" href="lustre__idl_8h_source.html#l01657">OBD_MD_FLATIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01661">OBD_MD_FLBLOCKS</a>, <a class="el" href="lustre__idl_8h_source.html#l01659">OBD_MD_FLCTIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01667">OBD_MD_FLFLAGS</a>, <a class="el" href="lustre__idl_8h_source.html#l01679">OBD_MD_FLGROUP</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="lustre__idl_8h_source.html#l01658">OBD_MD_FLMTIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01660">OBD_MD_FLSIZE</a>, <a class="el" href="lustre__idl_8h_source.html#l01767">OBD_OBJECT_EOF</a>, <a class="el" href="obdo_8c_source.html#l00052">obdo_set_parent_fid()</a>, <a class="el" href="structosc__io.html#a4184ea162adabd628efd92008f85d711">osc_io::oi_cbarg</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00068">osc_io::oi_lockless</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00082">osc_io::oi_oa</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00079">osc_io::oi_trunc</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__io_8c_source.html#l00431">osc_async_upcall()</a>, <a class="el" href="group__osc.html#ga50a5681d5c52a69e84bb265c202f3ecf">osc_cache_truncate_start()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__request_8c_source.html#l00417">osc_punch_base()</a>, <a class="el" href="osc__request_8c_source.html#l00231">osc_setattr_async()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00102">osc_thread_info::oti_attr</a>, <a class="el" href="osc__request_8c_source.html#l02043">PTLRPCD_SET</a>, <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="ga574c61fd176062ff468664693d241a06"></a><!-- doxytag: member="osc_cl_internal.h::osc_io_srvlock" ref="ga574c61fd176062ff468664693d241a06" args="(struct osc_io *oio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_srvlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__io.html">osc_io</a> *&nbsp;</td>
          <td class="paramname"> <em>oio</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00566">566</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_no_srvlock</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00066">osc_io::oi_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00068">osc_io::oi_lockless</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00124">osc_io_submit()</a>, and <a class="el" href="osc__page_8c_source.html#l00380">osc_page_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4eec18a3df58fcee1485aa867a6623d6"></a><!-- doxytag: member="osc_io.c::osc_io_submit" ref="ga4eec18a3df58fcee1485aa867a6623d6" args="(const struct lu_env *env, const struct cl_io_slice *ios, enum cl_req_type crt, struct cl_2queue *queue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_submit </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__page.html#ga419215a2ca4eeab85983de8ca5a16a02">cl_req_type</a>&nbsp;</td>
          <td class="paramname"> <em>crt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *&nbsp;</td>
          <td class="paramname"> <em>queue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An implementation of cl_io_operations::cio_io_submit() method for osc layer. </p>
<p>Iterates over pages in the in-queue, prepares each for io by calling <a class="el" href="group__cl__page.html#ga8216a843e48aa6d45d049b6aacb13744" title="Prepares page for immediate transfer.">cl_page_prep()</a> and then either submits them through osc_io_submit_page() or, if page is already submitted, changes osc flags through <a class="el" href="group__osc.html#gaeeebabba4671768419987298a91f77a2">osc_set_async_flags()</a>. </p>

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00124">124</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="osc__internal_8h_source.html#l00052">ASYNC_COUNT_STABLE</a>, <a class="el" href="osc__internal_8h_source.html#l00049">ASYNC_READY</a>, <a class="el" href="osc__internal_8h_source.html#l00051">ASYNC_URGENT</a>, <a class="el" href="cl__object_8h_source.html#l01302">cl_2queue::c2_qin</a>, <a class="el" href="cl__object_8h_source.html#l01303">cl_2queue::c2_qout</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__io_8c_source.html#l00058">cl2osc_io()</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="cl__io_8c_source.html#l00886">cl_page_list_del()</a>, <a class="el" href="cl__object_8h_source.html#l02352">cl_page_list_for_each_safe</a>, <a class="el" href="cl__io_8c_source.html#l00905">cl_page_list_move()</a>, <a class="el" href="cl__page_8c_source.html#l00866">cl_page_prep()</a>, <a class="el" href="mdsrate_8c_source.html#l00115">cmd</a>, <a class="el" href="cl__object_8h_source.html#l00742">cl_page::cp_owner</a>, <a class="el" href="cl__object_8h_source.html#l00750">cl_page::cp_sync_io</a>, <a class="el" href="cl__object_8h_source.html#l00788">CRT_WRITE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00151">D_READA</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="osc__internal_8h_source.html#l00068">osc_async_page::oap_async_flags</a>, <a class="el" href="osc__internal_8h_source.html#l00076">osc_async_page::oap_lock</a>, <a class="el" href="osc__internal_8h_source.html#l00074">osc_async_page::oap_obj</a>, <a class="el" href="osc__internal_8h_source.html#l00063">osc_async_page::oap_pending_item</a>, <a class="el" href="osc__internal_8h_source.html#l00064">osc_async_page::oap_rpc_item</a>, <a class="el" href="lustre__idl_8h_source.html#l01746">OBD_BRW_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l01757">OBD_BRW_SRVLOCK</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00336">osc_page::ops_oap</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00546">osc_cl_page_osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00566">osc_io_srvlock()</a>, <a class="el" href="osc__page_8c_source.html#l00427">osc_page_submit()</a>, <a class="el" href="group__osc.html#gac7b21c4ee69191fe5fe48df729410912">osc_queue_sync_pages()</a>, and <a class="el" href="cl__object_8h_source.html#l01292">cl_page_list::pl_nr</a>.</p>

</div>
</div>
<a class="anchor" id="gab1f9e06867823247b9cf968ba80a9bb3"></a><!-- doxytag: member="osc_cache.c::osc_io_unplug" ref="gab1f9e06867823247b9cf968ba80a9bb3" args="(const struct lu_env *env, struct client_obd *cli, struct osc_object *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_io_unplug </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="osc__request_8c_source.html#l02728">brw_queue_work()</a>, and <a class="el" href="osc__request_8c_source.html#l02632">osc_import_event()</a>.</p>

</div>
</div>
<a class="anchor" id="ga07291c2880f4a6b11b174c4cdb101df1"></a><!-- doxytag: member="osc_cache.c::osc_io_unplug0" ref="ga07291c2880f4a6b11b174c4cdb101df1" args="(const struct lu_env *env, struct client_obd *cli, struct osc_object *osc, int async)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_unplug0 </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>async</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l02234">2234</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="obd_8h_source.html#l00327">client_obd::cl_writeback_work</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, <a class="el" href="osc__cache_8c_source.html#l01810">osc_list_maint()</a>, and <a class="el" href="client_8c_source.html#l03362">ptlrpcd_queue_work()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02254">osc_io_unplug_async()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9a07e0ca4fafc25506682fb90e7e870d"></a><!-- doxytag: member="osc_cache.c::osc_io_unplug_async" ref="ga9a07e0ca4fafc25506682fb90e7e870d" args="(const struct lu_env *env, struct client_obd *cli, struct osc_object *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_unplug_async </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l02254">2254</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cache_8c_source.html#l02234">osc_io_unplug0()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01557">osc_enter_cache()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9bf34b624ad4ddf923dabc76184f04f8"></a><!-- doxytag: member="osc_io.c::osc_io_write_iter_fini" ref="ga9bf34b624ad4ddf923dabc76184f04f8" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_io_write_iter_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00394">394</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00072">osc_io::oi_lru_reserved</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00081">osc_io::oi_write_osclock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>, <a class="el" href="osc__io_8c_source.html#l00379">osc_io_iter_fini()</a>, and <a class="el" href="osc__page_8c_source.html#l00978">osc_lru_unreserve()</a>.</p>

</div>
</div>
<a class="anchor" id="ga30de99761887dd8836683c58340b5eec"></a><!-- doxytag: member="osc_io.c::osc_io_write_iter_init" ref="ga30de99761887dd8836683c58340b5eec" args="(const struct lu_env *env, const struct cl_io_slice *ios)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_write_iter_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>ios</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00358">358</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01773">cl_io::ci_rw</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8h_source.html#l02285">cl_io_is_append()</a>, <a class="el" href="cl__object_8h_source.html#l01733">cl_io_rw_common::crw_count</a>, <a class="el" href="cl__object_8h_source.html#l01732">cl_io_rw_common::crw_pos</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00072">osc_io::oi_lru_reserved</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>, <a class="el" href="osc__io_8c_source.html#l00338">osc_io_iter_init()</a>, <a class="el" href="osc__page_8c_source.html#l00936">osc_lru_reserve()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

</div>
</div>
<a class="anchor" id="ga9430d1398babba26b11a5869dc088ef0"></a><!-- doxytag: member="osc_io.c::osc_io_write_start" ref="ga9430d1398babba26b11a5869dc088ef0" args="(const struct lu_env *env, const struct cl_io_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_io_write_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00737">737</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00183">CAT_CTIME</a>, <a class="el" href="cl__object_8h_source.html#l00155">cl_attr::cat_ctime</a>, <a class="el" href="cl__object_8h_source.html#l00181">CAT_MTIME</a>, <a class="el" href="cl__object_8h_source.html#l00151">cl_attr::cat_mtime</a>, <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="cl__object_8c_source.html#l00236">cl_object_attr_update()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__compat_8h_source.html#l00094">LTIME_S</a>, <a class="el" href="obd__support_8h_source.html#l00391">OBD_FAIL_OSC_DELAY_SETTIME</a>, <a class="el" href="obd__support_8h_source.html#l00624">OBD_FAIL_TIMEOUT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00102">osc_thread_info::oti_attr</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ga29a3ae4a96817fae8265f984097d9620"></a><!-- doxytag: member="osc_cl_internal.h::osc_is_object" ref="ga29a3ae4a96817fae8265f984097d9620" args="(const struct lu_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_is_object </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00467">467</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="lu__object_8h_source.html#l00275">lu_device::ld_type</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, and <a class="el" href="osc__dev_8c_source.html#l00243">osc_device_type</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00555">cl2osc_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00519">cl2osc_page()</a>, and <a class="el" href="osc__object_8c_source.html#l00061">lu2osc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga510dc87ec6399b002d883c976a61a5c9"></a><!-- doxytag: member="osc_cache.c::osc_is_ready" ref="ga510dc87ec6399b002d883c976a61a5c9" args="(struct osc_object *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_is_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01243">1243</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00138">osc_object::oo_hp_ready_item</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00137">osc_object::oo_ready_item</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01788">__osc_list_maint()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8d344ea4e3d094aa259635b2859578ad"></a><!-- doxytag: member="osc_dev.c::osc_key_fini" ref="ga8d344ea4e3d094aa259635b2859578ad" args="(const struct lu_context *ctx, struct lu_context_key *key, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_key_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00123">123</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>References <a class="el" href="lu__object_8c_source.html#l02339">lu_buf_free()</a>, <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, <a class="el" href="osc__dev_8c_source.html#l00054">osc_thread_kmem</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00114">osc_thread_info::oti_ladvise_buf</a>.</p>

</div>
</div>
<a class="anchor" id="ga14aa3ba819e05463c5e65bd31fbf17f3"></a><!-- doxytag: member="osc_dev.c::osc_key_init" ref="ga14aa3ba819e05463c5e65bd31fbf17f3" args="(const struct lu_context *ctx, struct lu_context_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* osc_key_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00112">112</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>, and <a class="el" href="osc__dev_8c_source.html#l00054">osc_thread_kmem</a>.</p>

</div>
</div>
<a class="anchor" id="gaca9ddc217b81f518afa43dd690ff1108"></a><!-- doxytag: member="osc_cl_internal.h::osc_ldlm2cl_lock" ref="gaca9ddc217b81f518afa43dd690ff1108" args="(enum ldlm_mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a> osc_ldlm2cl_lock </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__lustreidl.html#ga78e7c1d7ad283002413a597e75aa7441">ldlm_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00509">509</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00779">CLM_GROUP</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00297">LCK_GROUP</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, and <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00243">osc_lock_granted()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3d96731374882d1b601e94dab8f92397"></a><!-- doxytag: member="osc_lock.c::osc_ldlm_blocking_ast" ref="ga3d96731374882d1b601e94dab8f92397" args="(struct ldlm_lock *dlmlock, struct ldlm_lock_desc *new, void *data, int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_ldlm_blocking_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>dlmlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock__desc.html">ldlm_lock_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Blocking ast invoked by ldlm when dlm lock is either blocking progress of some other lock, or is canceled. </p>
<p>This function is installed as a <a class="el" href="structldlm__lock.html#ac1baaa1cb6f8c57cd0e574dff1dcdfd8" title="Lock blocking AST handler pointer.">ldlm_lock::l_blocking_ast()</a> for client extent locks.</p>
<p>Control flow is tricky, because ldlm uses the same call-back (<a class="el" href="structldlm__lock.html#ac1baaa1cb6f8c57cd0e574dff1dcdfd8" title="Lock blocking AST handler pointer.">ldlm_lock::l_blocking_ast()</a>) for both blocking and cancellation ast's.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlmlock</em>&nbsp;</td><td>lock for which ast occurred.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>new</em>&nbsp;</td><td>description of a conflicting lock in case of blocking ast.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>value of dlmlock-&gt;l_ast_data</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flag</em>&nbsp;</td><td>LDLM_CB_BLOCKING or LDLM_CB_CANCELING. Used to distinguish cancellation and blocking ast's.</td></tr>
  </table>
  </dd>
</dl>
<p>Possible use cases:</p>
<ul>
<li>ldlm calls dlmlock-&gt;l_blocking_ast(..., LDLM_CB_CANCELING) to cancel lock due to lock lru pressure, or explicit user request to purge locks.</li>
</ul>
<ul>
<li>ldlm calls dlmlock-&gt;l_blocking_ast(..., LDLM_CB_BLOCKING) to notify us that dlmlock conflicts with another lock that some client is enqueuing. Lock is canceled.</li>
</ul>
<ul>
<li><a class="el" href="group__cl__lock.html#gaab3c1781a296023121c2641a117a57b1">cl_lock_cancel()</a> is called. <a class="el" href="group__osc.html#gacc121e00f4060228eda6e7504a4cc1d0" title="Implements cl_lock_operations::clo_cancel() method for osc layer.">osc_lock_cancel()</a> calls <a class="el" href="group__ldlm__cli__api.html#ga0237477d402999ab81f2b2447fceebc9" title="Client side lock cancel.">ldlm_cli_cancel()</a> that calls</li>
</ul>
<p>dlmlock-&gt;l_blocking_ast(..., LDLM_CB_CANCELING)</p>
<p>recursively entering <a class="el" href="group__osc.html#ga3d96731374882d1b601e94dab8f92397" title="Blocking ast invoked by ldlm when dlm lock is either blocking progress of some other...">osc_ldlm_blocking_ast()</a>.</p>
<ul>
<li>client cancels lock voluntary (e.g., as a part of early cancellation):</li>
</ul>
<p><a class="el" href="group__cl__lock.html#gaab3c1781a296023121c2641a117a57b1">cl_lock_cancel()</a>-&gt; <a class="el" href="group__osc.html#gacc121e00f4060228eda6e7504a4cc1d0" title="Implements cl_lock_operations::clo_cancel() method for osc layer.">osc_lock_cancel()</a>-&gt; <a class="el" href="group__ldlm__cli__api.html#ga0237477d402999ab81f2b2447fceebc9" title="Client side lock cancel.">ldlm_cli_cancel()</a>-&gt; dlmlock-&gt;l_blocking_ast(..., LDLM_CB_CANCELING) </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00534">534</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="lustre__dlm_8h_source.html#l00616">LCF_ASYNC</a>, <a class="el" href="lustre__dlm_8h_source.html#l00103">LDLM_CB_BLOCKING</a>, <a class="el" href="lustre__dlm_8h_source.html#l00104">LDLM_CB_CANCELING</a>, <a class="el" href="ldlm__request_8c_source.html#l01345">ldlm_cli_cancel()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00582">ldlm_lock2handle()</a>, <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00743">osc_lock_build_einfo()</a>.</p>

</div>
</div>
<a class="anchor" id="gabeb20790e130bf97ca7999f0832fba5f"></a><!-- doxytag: member="osc_lock.c::osc_ldlm_glimpse_ast" ref="gabeb20790e130bf97ca7999f0832fba5f" args="(struct ldlm_lock *dlmlock, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_ldlm_glimpse_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>dlmlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00582">582</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="cl__object_8c_source.html#l00134">cl_object_get()</a>, <a class="el" href="cl__object_8c_source.html#l00270">cl_object_glimpse()</a>, <a class="el" href="cl__object_8c_source.html#l00120">cl_object_put()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00080">ELDLM_NO_LOCK_DATA</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00382">exp_connect_lvb_type()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00822">ldlm_lock::l_ast_data</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00289">LDLM_GL_CALLBACK</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="pack__generic_8c_source.html#l00989">lustre_msg_get_opc()</a>, <a class="el" href="pack__generic_8c_source.html#l00401">lustre_pack_reply()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02339">req_capsule_extend()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="layout_8c_source.html#l02416">req_capsule_shrink()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01049">RMF_DLM_LVB</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="lustre__net_8h_source.html#l01030">ptlrpc_request::rq_reqmsg</a>, <a class="el" href="lustre__net_8h_source.html#l00957">ptlrpc_request::rq_status</a>, <a class="el" href="layout_8c_source.html#l01472">RQF_LDLM_GL_CALLBACK</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00743">osc_lock_build_einfo()</a>.</p>

</div>
</div>
<a class="anchor" id="ga35e11197afdf291ad1614fe6217d4108"></a><!-- doxytag: member="osc_lock.c::osc_ldlm_weigh_ast" ref="ga35e11197afdf291ad1614fe6217d4108" args="(struct ldlm_lock *dlmlock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long osc_ldlm_weigh_ast </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>dlmlock</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the weight of dlm lock for early cancellation. </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00693">693</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__dlm_8h_source.html#l00822">ldlm_lock::l_ast_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00694">ldlm_lock::l_resource</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="packet-lustre_8c_source.html#l00299">LDLM_EXTENT</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="lustre__dlm_8h_source.html#l00970">ldlm_resource::lr_type</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00274">osc_lock::ols_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00271">osc_lock::ols_nextlock_oscobj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00170">osc_object::oo_ol_list</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00171">osc_object::oo_ol_spin</a>, <a class="el" href="osc__lock_8c_source.html#l00658">osc_lock_weight()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02715">osc_cancel_weight()</a>.</p>

</div>
</div>
<a class="anchor" id="gae2afadc16f0731dc8bbf9e71f18a5835"></a><!-- doxytag: member="osc_page.c::osc_list" ref="gae2afadc16f0731dc8bbf9e71f18a5835" args="(struct list_head *head)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* osc_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>head</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00230">230</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00161">list_empty()</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00243">osc_page_print()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1db234ac72e7e8158fa5daff912320c2"></a><!-- doxytag: member="osc_cache.c::osc_list_maint" ref="ga1db234ac72e7e8158fa5daff912320c2" args="(struct client_obd *cli, struct osc_object *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_list_maint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01810">1810</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cache_8c_source.html#l01788">__osc_list_maint()</a>, and <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, and <a class="el" href="osc__cache_8c_source.html#l02234">osc_io_unplug0()</a>.</p>

</div>
</div>
<a class="anchor" id="ga84a80676350de280c21124330f8509e0"></a><!-- doxytag: member="osc_cl_internal.h::osc_lock_at" ref="ga84a80676350de280c21124330f8509e0" args="(const struct cl_lock *lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__lock.html">osc_lock</a>* osc_lock_at </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcl__lock.html">cl_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00561">561</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00555">cl2osc_lock()</a>, <a class="el" href="cl__lock_8c_source.html#l00134">cl_lock_at()</a>, and <a class="el" href="osc__dev_8c_source.html#l00243">osc_device_type</a>.</p>

</div>
</div>
<a class="anchor" id="gaf9d3972737301af659fe94269be36549"></a><!-- doxytag: member="osc_lock.c::osc_lock_build_einfo" ref="gaf9d3972737301af659fe94269be36549" args="(const struct lu_env *env, const struct cl_lock *lock, struct osc_object *osc, struct ldlm_enqueue_info *einfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_build_einfo </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__lock.html">cl_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__enqueue__info.html">ldlm_enqueue_info</a> *&nbsp;</td>
          <td class="paramname"> <em>einfo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00743">743</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="lustre__dlm_8h_source.html#l01099">ldlm_enqueue_info::ei_cb_bl</a>, <a class="el" href="lustre__dlm_8h_source.html#l01101">ldlm_enqueue_info::ei_cb_cp</a>, <a class="el" href="lustre__dlm_8h_source.html#l01102">ldlm_enqueue_info::ei_cb_gl</a>, <a class="el" href="lustre__dlm_8h_source.html#l01103">ldlm_enqueue_info::ei_cbdata</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l01097">ldlm_enqueue_info::ei_type</a>, <a class="el" href="ldlm__request_8c_source.html#l00230">ldlm_completion_ast()</a>, <a class="el" href="packet-lustre_8c_source.html#l00299">LDLM_EXTENT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00499">osc_cl_lock2ldlm()</a>, <a class="el" href="osc__lock_8c_source.html#l00534">osc_ldlm_blocking_ast()</a>, and <a class="el" href="osc__lock_8c_source.html#l00582">osc_ldlm_glimpse_ast()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01162">osc_lock_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa5a7b973cac7b99a2bd42990c4d5f368"></a><!-- doxytag: member="osc_lock.c::osc_lock_build_policy" ref="gaa5a7b973cac7b99a2bd42990c4d5f368" args="(const struct lu_env *env, const struct cl_lock *lock, union ldlm_policy_data *policy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_build_policy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__lock.html">cl_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionldlm__policy__data.html">ldlm_policy_data</a> *&nbsp;</td>
          <td class="paramname"> <em>policy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00152">152</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01167">cl_lock_descr::cld_end</a>, <a class="el" href="cl__object_8h_source.html#l01169">cl_lock_descr::cld_gid</a>, <a class="el" href="cl__object_8h_source.html#l01163">cl_lock_descr::cld_obj</a>, <a class="el" href="cl__object_8h_source.html#l01165">cl_lock_descr::cld_start</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="lustre__idl_8h_source.html#l02824">ldlm_extent::gid</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, and <a class="el" href="osc__page_8c_source.html#l00222">osc_index2policy()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="gacc121e00f4060228eda6e7504a4cc1d0"></a><!-- doxytag: member="osc_lock.c::osc_lock_cancel" ref="gacc121e00f4060228eda6e7504a4cc1d0" args="(const struct lu_env *env, const struct cl_lock_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_cancel </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="structcl__lock__operations.html#adac391a682e572a776b39e552fa6e931" title="Cancel a lock, release its DLM lock ref, while does not cancel the DLM lock.">cl_lock_operations::clo_cancel()</a> method for osc layer. </p>
<p>This is called (as part of <a class="el" href="group__cl__lock.html#gaab3c1781a296023121c2641a117a57b1">cl_lock_cancel()</a>) when lock is canceled either voluntary (LRU pressure, early cancellation, umount, etc.) or due to the conflict with some other lock some where in the cluster. This function does the following:</p>
<ul>
<li>invalidates all pages protected by this lock (after sending dirty ones to the server, as necessary);</li>
</ul>
<ul>
<li>decref's underlying ldlm lock;</li>
</ul>
<ul>
<li>cancels ldlm lock (<a class="el" href="group__ldlm__cli__api.html#ga0237477d402999ab81f2b2447fceebc9" title="Client side lock cancel.">ldlm_cli_cancel()</a>). </li>
</ul>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l01066">1066</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00555">cl2osc_lock()</a>, <a class="el" href="cl__object_8h_source.html#l01205">cl_lock_slice::cls_obj</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00226">LDLM_FL_LVB_READY</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00215">OLS_CANCELLED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00276">osc_lock::ols_flags</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>, <a class="el" href="osc__lock_8c_source.html#l01025">osc_lock_detach()</a>, <a class="el" href="osc__lock_8c_source.html#l00088">osc_lock_invariant()</a>, and <a class="el" href="osc__lock_8c_source.html#l00832">osc_lock_wake_waiters()</a>.</p>

</div>
</div>
<a class="anchor" id="gab65f4d86251c42976f7a34615d12d7fb"></a><!-- doxytag: member="osc_lock.c::osc_lock_compatible" ref="gab65f4d86251c42976f7a34615d12d7fb" args="(const struct osc_lock *qing, const struct osc_lock *qed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool osc_lock_compatible </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>qing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>qed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00809">809</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01167">cl_lock_descr::cld_end</a>, <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01165">cl_lock_descr::cld_start</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="cl__object_8h_source.html#l01202">cl_lock_slice::cls_lock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_glimpse</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00214">OLS_GRANTED</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00853">osc_lock_enqueue_wait()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b1ea64f21458b5bb73af82b0feda0df"></a><!-- doxytag: member="osc_lock.c::osc_lock_detach" ref="ga0b1ea64f21458b5bb73af82b0feda0df" args="(const struct lu_env *env, struct osc_lock *olck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_detach </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>olck</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Breaks a link between <a class="el" href="structosc__lock.html" title="osc-private state of cl_lock.">osc_lock</a> and dlm_lock. </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l01025">1025</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__dlm_8h_source.html#l00885">ldlm_lock::l_reference</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01338">LDLM_LOCK_RELEASE</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00274">osc_lock::ols_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00279">osc_lock::ols_einfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00278">osc_lock::ols_handle</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_has_ref</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_hold</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00358">RETURN_EXIT</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01066">osc_lock_cancel()</a>.</p>

</div>
</div>
<a class="anchor" id="gad86265cc2892261e7634f0d9a2050a6b"></a><!-- doxytag: member="osc_cache.c::osc_lock_discard_pages" ref="gad86265cc2892261e7634f0d9a2050a6b" args="(const struct lu_env *env, struct osc_object *osc, pgoff_t start, pgoff_t end, enum cl_lock_mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_lock_discard_pages </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Discard pages protected by the given lock. </p>
<p>This function traverses radix tree to find all covering pages and discard them. If a page is being covered by other locks, it should remain in cache.</p>
<p>If error happens on any step, the process continues anyway (the reasoning behind this being that lock cancellation cannot be delayed indefinitely). </p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00393">osc_lock_flush()</a>, and <a class="el" href="osc__object_8c_source.html#l00457">osc_object_invalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7593097c6dc02fd995d0453038fbecd2"></a><!-- doxytag: member="osc_lock.c::osc_lock_enqueue" ref="ga7593097c6dc02fd995d0453038fbecd2" args="(const struct lu_env *env, const struct cl_lock_slice *slice, struct cl_io *unused, struct cl_sync_io *anchor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_lock_enqueue </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>unused</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__sync__io.html">cl_sync_io</a> *&nbsp;</td>
          <td class="paramname"> <em>anchor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of <a class="el" href="structcl__lock__operations.html#ac662a1c9135cac8c084a7c95d6fc19d7" title="Attempts to enqueue the lock.">cl_lock_operations::clo_enqueue()</a> method for osc layer. </p>
<p>This initiates ldlm enqueue:</p>
<ul>
<li>cancels conflicting locks early (<a class="el" href="group__osc.html#gab799760ac0c7ccb8e4f6b7f109ad619e">osc_lock_enqueue_wait()</a>);</li>
</ul>
<ul>
<li>calls <a class="el" href="osc__internal_8h.html#aad7a0f5242c750c4920c0b3f801ea07f">osc_enqueue_base()</a> to do actual enqueue.</li>
</ul>
<p><a class="el" href="osc__internal_8h.html#aad7a0f5242c750c4920c0b3f801ea07f">osc_enqueue_base()</a> is supplied with an upcall function that is executed when lock is received either after a local cached ldlm lock is matched, or when a reply from the server is received.</p>
<p>This function does not wait for the <a class="el" href="structnetwork.html">network</a> communication to complete. </p>

<p><p>DLM lock's ast data must be <a class="el" href="structosc__object.html">osc_object</a>; if glimpse or AGL lock, async of <a class="el" href="osc__internal_8h.html#aad7a0f5242c750c4920c0b3f801ea07f">osc_enqueue_base()</a> must be true, DLM's enqueue callback set to <a class="el" href="group__osc.html#ga29f791d1abf24609d793f38771cc90b3" title="Lock upcall function that is executed either when a reply to ENQUEUE rpc is received...">osc_lock_upcall()</a> with cookie as <a class="el" href="structosc__lock.html" title="osc-private state of cl_lock.">osc_lock</a>.</p>
</p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00925">925</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00555">cl2osc_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00134">cl_object_get()</a>, <a class="el" href="cl__object_8c_source.html#l00120">cl_object_put()</a>, <a class="el" href="cl__io_8c_source.html#l01258">cl_sync_io_note()</a>, <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="cl__object_8h_source.html#l01202">cl_lock_slice::cls_lock</a>, <a class="el" href="cl__object_8h_source.html#l01205">cl_lock_slice::cls_obj</a>, <a class="el" href="cl__object_8h_source.html#l02402">cl_sync_io::csi_sync_nr</a>, <a class="el" href="lustre__dlm_8h_source.html#l01103">ldlm_enqueue_info::ei_cbdata</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00059">equi</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00114">LDLM_FL_TEST_LOCK</a>, <a class="el" href="obd_8h_source.html#l00070">lov_oinfo::loi_kms_valid</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00068">osc_io::oi_lockless</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_agl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00215">OLS_CANCELLED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00274">osc_lock::ols_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00279">osc_lock::ols_einfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00212">OLS_ENQUEUED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00276">osc_lock::ols_flags</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_glimpse</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00214">OLS_GRANTED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_hold</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00282">osc_lock::ols_lvb</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00265">osc_lock::ols_owner</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__request_8c_source.html#l02052">osc_enqueue_base()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__lock_8c_source.html#l00152">osc_lock_build_policy()</a>, <a class="el" href="osc__lock_8c_source.html#l00853">osc_lock_enqueue_wait()</a>, <a class="el" href="osc__lock_8c_source.html#l00065">osc_lock_is_lockless()</a>, <a class="el" href="osc__lock_8c_source.html#l00302">osc_lock_upcall()</a>, <a class="el" href="osc__lock_8c_source.html#l00357">osc_lock_upcall_agl()</a>, <a class="el" href="osc__lock_8c_source.html#l00832">osc_lock_wake_waiters()</a>, <a class="el" href="lustre__fid_8h_source.html#l00622">ostid_build_res_name()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00100">osc_thread_info::oti_policy</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00099">osc_thread_info::oti_resname</a>, <a class="el" href="osc__request_8c_source.html#l02043">PTLRPCD_SET</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="gab799760ac0c7ccb8e4f6b7f109ad619e"></a><!-- doxytag: member="osc_lock.c::osc_lock_enqueue_wait" ref="gab799760ac0c7ccb8e4f6b7f109ad619e" args="(const struct lu_env *env, struct osc_object *obj, struct osc_lock *oscl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_lock_enqueue_wait </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>oscl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00853">853</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__io_8c_source.html#l01190">cl_sync_io_end()</a>, <a class="el" href="cl__io_8c_source.html#l01202">cl_sync_io_init()</a>, <a class="el" href="cl__io_8c_source.html#l01221">cl_sync_io_wait()</a>, <a class="el" href="cl__object_8h_source.html#l01167">cl_lock_descr::cld_end</a>, <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01165">cl_lock_descr::cld_start</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="cl__object_8h_source.html#l00779">CLM_GROUP</a>, <a class="el" href="cl__object_8h_source.html#l01202">cl_lock_slice::cls_lock</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00090">list_add_tail()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00263">osc_lock::ols_lock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00271">osc_lock::ols_nextlock_oscobj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00265">osc_lock::ols_owner</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00269">osc_lock::ols_wait_entry</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00267">osc_lock::ols_waiting_list</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00170">osc_object::oo_ol_list</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00171">osc_object::oo_ol_spin</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__lock_8c_source.html#l00809">osc_lock_compatible()</a>, <a class="el" href="osc__lock_8c_source.html#l00065">osc_lock_is_lockless()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00112">osc_thread_info::oti_anchor</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="gab6bded0dd5d3b8886cb39393501ee7e3"></a><!-- doxytag: member="osc_lock.c::osc_lock_fini" ref="gab6bded0dd5d3b8886cb39393501ee7e3" args="(const struct lu_env *env, struct cl_lock_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00141">141</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00555">cl2osc_lock()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00274">osc_lock::ols_dlmlock</a>, <a class="el" href="osc__lock_8c_source.html#l00088">osc_lock_invariant()</a>, and <a class="el" href="osc__dev_8c_source.html#l00052">osc_lock_kmem</a>.</p>

</div>
</div>
<a class="anchor" id="ga3a7f4b12063dd00ce41a418fb3818e39"></a><!-- doxytag: member="osc_lock.c::osc_lock_flush" ref="ga3a7f4b12063dd00ce41a418fb3818e39" args="(struct osc_object *obj, pgoff_t start, pgoff_t end, enum cl_lock_mode mode, int discard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_lock_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>discard</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00393">393</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="group__osc.html#ga91e31015ca9c3df0750e008ebd5831cf">osc_cache_writeback_range()</a>, <a class="el" href="group__osc.html#gad86265cc2892261e7634f0d9a2050a6b">osc_lock_discard_pages()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00429">osc_dlm_blocking_ast0()</a>, and <a class="el" href="osc__lock_8c_source.html#l01103">osc_lock_lockless_cancel()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5bd9e2d847a8448e23dcf09c6b73766f"></a><!-- doxytag: member="osc_lock.c::osc_lock_granted" ref="ga5bd9e2d847a8448e23dcf09c6b73766f" args="(const struct lu_env *env, struct osc_lock *oscl, struct lustre_handle *lockh, bool lvb_update)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_granted </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>oscl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>lvb_update</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00243">243</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="cl__object_8h_source.html#l01167">cl_lock_descr::cld_end</a>, <a class="el" href="cl__object_8h_source.html#l01169">cl_lock_descr::cld_gid</a>, <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01163">cl_lock_descr::cld_obj</a>, <a class="el" href="cl__object_8h_source.html#l01165">cl_lock_descr::cld_start</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="cl__object_8h_source.html#l01202">cl_lock_slice::cls_lock</a>, <a class="el" href="cl__object_8h_source.html#l01205">cl_lock_slice::cls_obj</a>, <a class="el" href="lustre__dlm_8h_source.html#l01098">ldlm_enqueue_info::ei_mode</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="lustre__idl_8h_source.html#l02824">ldlm_extent::gid</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="lustre__dlm_8h_source.html#l00728">ldlm_lock::l_granted_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00885">ldlm_lock::l_reference</a>, <a class="el" href="lustre__dlm_8h_source.html#l00724">ldlm_lock::l_req_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00226">LDLM_FL_LVB_READY</a>, <a class="el" href="lustre__dlm_8h_source.html#l01282">ldlm_handle2lock_long()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00717">ldlm_lock_addref()</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="lu__ref_8h_source.html#l00204">lu_ref_add()</a>, <a class="el" href="lustre__idl_8h_source.html#l01032">lustre_handle_copy()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00274">osc_lock::ols_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00279">osc_lock::ols_einfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00276">osc_lock::ols_flags</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_glimpse</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00214">OLS_GRANTED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00278">osc_lock::ols_handle</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_has_ref</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_hold</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00509">osc_ldlm2cl_lock()</a>, <a class="el" href="osc__lock_8c_source.html#l00088">osc_lock_invariant()</a>, <a class="el" href="osc__lock_8c_source.html#l00191">osc_lock_lvb_update()</a>, <a class="el" href="lustre__idl_8h_source.html#l02822">ldlm_extent::start</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00302">osc_lock_upcall()</a>.</p>

</div>
</div>
<a class="anchor" id="gabd5ab860e2021ff6b4cd161a7392744a"></a><!-- doxytag: member="osc_cl_internal.h::osc_lock_init" ref="gabd5ab860e2021ff6b4cd161a7392744a" args="(const struct lu_env *env, struct cl_object *obj, struct cl_lock *lock, const struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_lock_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__lock.html">cl_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l01162">1162</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01640">CEF_AGL</a>, <a class="el" href="cl__object_8h_source.html#l01617">CEF_DISCARD_DATA</a>, <a class="el" href="cl__object_8h_source.html#l01625">CEF_MUST</a>, <a class="el" href="cl__object_8h_source.html#l01636">CEF_NEVER</a>, <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8h_source.html#l02295">cl_io_is_mkwrite()</a>, <a class="el" href="cl__lock_8c_source.html#l00072">cl_lock_slice_add()</a>, <a class="el" href="cl__object_8h_source.html#l01176">cl_lock_descr::cld_enq_flags</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="lustre__dlm_8h_source.html#l01122">LDLM_DEBUG_NOLOCK</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00040">LDLM_FL_BLOCK_GRANTED</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00108">LDLM_FL_BLOCK_NOWAIT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00143">LDLM_FL_DENY_ON_CONTENTION</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00082">LDLM_FL_HAS_INTENT</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_agl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00279">osc_lock::ols_einfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00276">osc_lock::ols_flags</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_glimpse</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00263">osc_lock::ols_lock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_locklessable</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00211">OLS_NEW</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00271">osc_lock::ols_nextlock_oscobj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00269">osc_lock::ols_wait_entry</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00267">osc_lock::ols_waiting_list</a>, <a class="el" href="osc__lock_8c_source.html#l00162">osc_enq2ldlm_flags()</a>, <a class="el" href="osc__lock_8c_source.html#l00743">osc_lock_build_einfo()</a>, <a class="el" href="osc__dev_8c_source.html#l00052">osc_lock_kmem</a>, <a class="el" href="osc__lock_8c_source.html#l01128">osc_lock_set_writer()</a>, and <a class="el" href="osc__lock_8c_source.html#l00768">osc_lock_to_lockless()</a>.</p>

</div>
</div>
<a class="anchor" id="ga54adc12953bce11081c44d696c8b147e"></a><!-- doxytag: member="osc_lock.c::osc_lock_invariant" ref="ga54adc12953bce11081c44d696c8b147e" args="(struct osc_lock *ols)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_lock_invariant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>ols</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Invariant that has to be true all of the time. </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00088">88</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="lustre__handles_8h_source.html#l00067">portals_handle::h_cookie</a>, <a class="el" href="lustre__dlm_8h_source.html#l00728">ldlm_lock::l_granted_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l00678">ldlm_lock::l_handle</a>, <a class="el" href="lustre__dlm_8h_source.html#l00724">ldlm_lock::l_req_mode</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00310">ldlm_is_destroyed</a>, <a class="el" href="lustre__idl_8h_source.html#l01021">lustre_handle_is_used()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00215">OLS_CANCELLED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00274">osc_lock::ols_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00214">OLS_GRANTED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00278">osc_lock::ols_handle</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_hold</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_locklessable</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>, <a class="el" href="osc__lock_8c_source.html#l00075">osc_handle_ptr()</a>, and <a class="el" href="osc__lock_8c_source.html#l00065">osc_lock_is_lockless()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01066">osc_lock_cancel()</a>, <a class="el" href="osc__lock_8c_source.html#l00141">osc_lock_fini()</a>, and <a class="el" href="osc__lock_8c_source.html#l00243">osc_lock_granted()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa565e6849b165c1b13f243a672677c99"></a><!-- doxytag: member="osc_cl_internal.h::osc_lock_is_lockless" ref="gaa565e6849b165c1b13f243a672677c99" args="(const struct osc_lock *olck)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_lock_is_lockless </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>olck</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00065">65</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01206">cl_lock_slice::cls_ops</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, and <a class="el" href="osc__lock_8c_source.html#l00061">osc_lock_lockless_ops</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, <a class="el" href="osc__lock_8c_source.html#l00853">osc_lock_enqueue_wait()</a>, <a class="el" href="osc__lock_8c_source.html#l00088">osc_lock_invariant()</a>, and <a class="el" href="osc__lock_8c_source.html#l00768">osc_lock_to_lockless()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf0377559340dde5b6d5c16cfabc67d64"></a><!-- doxytag: member="osc_lock.c::osc_lock_lockless_cancel" ref="gaf0377559340dde5b6d5c16cfabc67d64" args="(const struct lu_env *env, const struct cl_lock_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_lockless_cancel </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l01103">1103</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00555">cl2osc_lock()</a>, <a class="el" href="cl__object_8h_source.html#l01167">cl_lock_descr::cld_end</a>, <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01165">cl_lock_descr::cld_start</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="cl__object_8h_source.html#l01202">cl_lock_slice::cls_lock</a>, <a class="el" href="cl__object_8h_source.html#l01205">cl_lock_slice::cls_obj</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00274">osc_lock::ols_dlmlock</a>, <a class="el" href="osc__lock_8c_source.html#l00393">osc_lock_flush()</a>, and <a class="el" href="osc__lock_8c_source.html#l00832">osc_lock_wake_waiters()</a>.</p>

</div>
</div>
<a class="anchor" id="ga18aaf7af10329193fd017482344c1fa7"></a><!-- doxytag: member="osc_lock.c::osc_lock_lvb_update" ref="ga18aaf7af10329193fd017482344c1fa7" args="(const struct lu_env *env, struct osc_object *osc, struct ldlm_lock *dlmlock, struct ost_lvb *lvb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_lvb_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>dlmlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structost__lvb.html">ost_lvb</a> *&nbsp;</td>
          <td class="paramname"> <em>lvb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates object attributes from a lock value block (lvb) received together with the DLM lock reply from the server. </p>
<p>Copy of osc_update_enqueue() logic.</p>
<p>This can be optimized to not update attributes when lock is a result of a local match.</p>
<p>Called under lock and resource spin-locks. </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00191">191</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l00182">CAT_ATIME</a>, <a class="el" href="cl__object_8h_source.html#l00184">CAT_BLOCKS</a>, <a class="el" href="cl__object_8h_source.html#l00183">CAT_CTIME</a>, <a class="el" href="cl__object_8h_source.html#l00149">cl_attr::cat_kms</a>, <a class="el" href="cl__object_8h_source.html#l00180">CAT_KMS</a>, <a class="el" href="cl__object_8h_source.html#l00181">CAT_MTIME</a>, <a class="el" href="cl__object_8h_source.html#l00179">CAT_SIZE</a>, <a class="el" href="lustre__dlm_8h_source.html#l01556">check_res_locked()</a>, <a class="el" href="cl__object_8c_source.html#l01132">cl_lvb2attr()</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="cl__object_8c_source.html#l00236">cl_object_attr_update()</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="lustre__dlm_8h_source.html#l00819">ldlm_lock::l_lvb_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00772">ldlm_lock::l_policy_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l00694">ldlm_lock::l_resource</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01168">LDLM_DEBUG</a>, <a class="el" href="ldlm__lock_8c_source.html#l01321">ldlm_lock_allow_match_locked()</a>, <a class="el" href="obd_8h_source.html#l00071">lov_oinfo::loi_kms</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__idl_8h_source.html#l01816">ost_lvb::lvb_size</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00102">osc_thread_info::oti_attr</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00243">osc_lock_granted()</a>, <a class="el" href="osc__lock_8c_source.html#l00302">osc_lock_upcall()</a>, and <a class="el" href="osc__lock_8c_source.html#l00357">osc_lock_upcall_agl()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3448ad07c07772caeab7bc754ce00c9f"></a><!-- doxytag: member="osc_lock.c::osc_lock_print" ref="ga3448ad07c07772caeab7bc754ce00c9f" args="(const struct lu_env *env, void *cookie, lu_printer_t p, const struct cl_lock_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_lock_print </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__lock__slice.html">cl_lock_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l01084">1084</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00555">cl2osc_lock()</a>, <a class="el" href="lustre__idl_8h_source.html#l01017">lustre_handle::cookie</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00274">osc_lock::ols_dlmlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00276">osc_lock::ols_flags</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00278">osc_lock::ols_handle</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00282">osc_lock::ols_lvb</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00265">osc_lock::ols_owner</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>, and <a class="el" href="osc__object_8c_source.html#l00131">osc_lvb_print()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7e5994ba02ffc93e8e2ccc8d91c4b19e"></a><!-- doxytag: member="osc_lock.c::osc_lock_set_writer" ref="ga7e5994ba02ffc93e8e2ccc8d91c4b19e" args="(const struct lu_env *env, const struct cl_io *io, struct cl_object *obj, struct osc_lock *oscl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_set_writer </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>oscl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l01128">1128</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="structcl__io.html#a1a7759183426a4d21ab676823e0a8a11">cl_io::ci_fault</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01773">cl_io::ci_rw</a>, <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01364">CIT_WRITE</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="cl__object_8h_source.html#l02285">cl_io_is_append()</a>, <a class="el" href="cl__object_8h_source.html#l02295">cl_io_is_mkwrite()</a>, <a class="el" href="cl__object_8h_source.html#l02042">cl_object_same()</a>, <a class="el" href="cl__object_8h_source.html#l00470">CL_PAGE_EOF</a>, <a class="el" href="cl__object_8h_source.html#l01167">cl_lock_descr::cld_end</a>, <a class="el" href="cl__object_8h_source.html#l01171">cl_lock_descr::cld_mode</a>, <a class="el" href="cl__object_8h_source.html#l01165">cl_lock_descr::cld_start</a>, <a class="el" href="cl__object_8h_source.html#l01193">cl_lock::cll_descr</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="cl__object_8h_source.html#l01202">cl_lock_slice::cls_lock</a>, <a class="el" href="cl__object_8h_source.html#l01733">cl_io_rw_common::crw_count</a>, <a class="el" href="cl__object_8h_source.html#l01732">cl_io_rw_common::crw_pos</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00081">osc_io::oi_write_osclock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>, and <a class="el" href="structcl__io.html#a8b561db29f0b79fba4d14b66b9882530">cl_io::u</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01162">osc_lock_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gae950ceda261ffba5e5cfd891375e866d"></a><!-- doxytag: member="osc_lock.c::osc_lock_to_lockless" ref="gae950ceda261ffba5e5cfd891375e866d" args="(const struct lu_env *env, struct osc_lock *ols, int force)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_to_lockless </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>ols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>force</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine if the lock should be converted into a lockless lock. </p>
<p>Steps to check:</p>
<ul>
<li>if the lock has an explicite requirment for a non-lockless lock;</li>
<li>if the io lock request type ci_lockreq;</li>
<li>send the enqueue rpc to ost to make the further decision;</li>
<li>special treat to truncate lockless lock</li>
</ul>
<p>Additional policy can be implemented here, e.g., never do lockless-io for large extents. </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00768">768</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01763">cl_io::ci_lockreq</a>, <a class="el" href="cl__object_8h_source.html#l01748">cl_io::ci_type</a>, <a class="el" href="cl__object_8h_source.html#l01712">CILR_MANDATORY</a>, <a class="el" href="cl__object_8h_source.html#l01714">CILR_MAYBE</a>, <a class="el" href="cl__object_8h_source.html#l01716">CILR_NEVER</a>, <a class="el" href="cl__object_8h_source.html#l01439">cl_io_slice::cis_io</a>, <a class="el" href="cl__object_8h_source.html#l01366">CIT_SETATTR</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8h_source.html#l02303">cl_io_is_trunc()</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="cl__object_8h_source.html#l01205">cl_lock_slice::cls_obj</a>, <a class="el" href="cl__object_8h_source.html#l01206">cl_lock_slice::cls_ops</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="lustre__import_8h_source.html#l00316">obd_import::imp_connect_data</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00472">lu2osc_dev()</a>, <a class="el" href="lustre__idl_8h_source.html#l01183">OBD_CONNECT_SRVLOCK</a>, <a class="el" href="lustre__idl_8h_source.html#l01189">OBD_CONNECT_TRUNCLOCK</a>, <a class="el" href="lustre__idl_8h_source.html#l01336">obd_connect_data::ocd_connect_flags</a>, <a class="el" href="osc__internal_8h_source.html#l00194">osc_device::od_lockless_truncate</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00066">osc_io::oi_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_glimpse</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_locklessable</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00211">OLS_NEW</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00213">OLS_UPCALL_RECEIVED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__lock_8c_source.html#l00065">osc_lock_is_lockless()</a>, <a class="el" href="osc__lock_8c_source.html#l00061">osc_lock_lockless_ops</a>, and <a class="el" href="osc__object_8c_source.html#l00322">osc_object_is_contended()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01162">osc_lock_init()</a>, and <a class="el" href="osc__lock_8c_source.html#l00302">osc_lock_upcall()</a>.</p>

</div>
</div>
<a class="anchor" id="ga29f791d1abf24609d793f38771cc90b3"></a><!-- doxytag: member="osc_lock.c::osc_lock_upcall" ref="ga29f791d1abf24609d793f38771cc90b3" args="(void *cookie, struct lustre_handle *lockh, int errcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_lock_upcall </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>errcode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock upcall function that is executed either when a reply to ENQUEUE rpc is received from a server, or after <a class="el" href="osc__internal_8h.html#aad7a0f5242c750c4920c0b3f801ea07f">osc_enqueue_base()</a> matched a local DLM lock. </p>

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00302">302</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="cl__io_8c_source.html#l01258">cl_sync_io_note()</a>, <a class="el" href="cl__object_8h_source.html#l01205">cl_lock_slice::cls_obj</a>, <a class="el" href="cl__object_8h_source.html#l01206">cl_lock_slice::cls_ops</a>, <a class="el" href="lustre__dlm_8h_source.html#l00074">ELDLM_OK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="ldlm__lib_8c_source.html#l02967">ldlm_error2errno()</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00226">LDLM_FL_LVB_READY</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00215">OLS_CANCELLED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00261">osc_lock::ols_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00212">OLS_ENQUEUED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00276">osc_lock::ols_flags</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_glimpse</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00214">OLS_GRANTED</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00290">osc_lock::ols_locklessable</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00282">osc_lock::ols_lvb</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00265">osc_lock::ols_owner</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00280">osc_lock::ols_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00213">OLS_UPCALL_RECEIVED</a>, <a class="el" href="osc__lock_8c_source.html#l00243">osc_lock_granted()</a>, <a class="el" href="osc__lock_8c_source.html#l00191">osc_lock_lvb_update()</a>, <a class="el" href="osc__lock_8c_source.html#l00060">osc_lock_ops</a>, <a class="el" href="osc__lock_8c_source.html#l00768">osc_lock_to_lockless()</a>, <a class="el" href="osc__object_8c_source.html#l00310">osc_object_set_contended()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf9b0a5fcc4fbfa6437afc998a0b8657d"></a><!-- doxytag: member="osc_lock.c::osc_lock_upcall_agl" ref="gaf9b0a5fcc4fbfa6437afc998a0b8657d" args="(void *cookie, struct lustre_handle *lockh, int errcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_lock_upcall_agl </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>lockh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>errcode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00357">357</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="cl__object_8c_source.html#l00120">cl_object_put()</a>, <a class="el" href="lustre__dlm_8h_source.html#l00075">ELDLM_LOCK_MATCHED</a>, <a class="el" href="lustre__dlm_8h_source.html#l00074">ELDLM_OK</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__dlm_8h_source.html#l00728">ldlm_lock::l_granted_mode</a>, <a class="el" href="lustre__dlm_8h_source.html#l00724">ldlm_lock::l_req_mode</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="ldlm__lib_8c_source.html#l02967">ldlm_error2errno()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01273">ldlm_handle2lock()</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="l__lock_8c_source.html#l00051">lock_res_and_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="osc__lock_8c_source.html#l00191">osc_lock_lvb_update()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="l__lock_8c_source.html#l00067">unlock_res_and_lock()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="ga023dc78f4efa274e91d49f39aeb869f7"></a><!-- doxytag: member="osc_lock.c::osc_lock_wake_waiters" ref="ga023dc78f4efa274e91d49f39aeb869f7" args="(const struct lu_env *env, struct osc_object *osc, struct osc_lock *oscl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lock_wake_waiters </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>oscl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00832">832</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__io_8c_source.html#l01258">cl_sync_io_note()</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00263">osc_lock::ols_lock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00271">osc_lock::ols_nextlock_oscobj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00265">osc_lock::ols_owner</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00269">osc_lock::ols_wait_entry</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00267">osc_lock::ols_waiting_list</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00171">osc_object::oo_ol_spin</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01066">osc_lock_cancel()</a>, <a class="el" href="osc__lock_8c_source.html#l00925">osc_lock_enqueue()</a>, and <a class="el" href="osc__lock_8c_source.html#l01103">osc_lock_lockless_cancel()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9325a913aeaac8dbe7867ac4a8e86a12"></a><!-- doxytag: member="osc_lock.c::osc_lock_weight" ref="ga9325a913aeaac8dbe7867ac4a8e86a12" args="(const struct lu_env *env, struct osc_object *oscobj, struct ldlm_extent *extent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long osc_lock_weight </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>oscobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structldlm__extent.html">ldlm_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>extent</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00658">658</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_ignore_layout</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01397">CIT_MISC</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="cl__io_8c_source.html#l00103">cl_io_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00211">cl_io_init()</a>, <a class="el" href="cl__object_8c_source.html#l00145">cl_object_top()</a>, <a class="el" href="cl__object_8h_source.html#l02077">CLP_GANG_ABORT</a>, <a class="el" href="cl__object_8h_source.html#l02074">CLP_GANG_OKAY</a>, <a class="el" href="cl__object_8h_source.html#l02075">CLP_GANG_RESCHED</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00118">osc_object::oo_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="group__osc.html#ga4ac00d525c8750fbccb312796dfb0542">osc_page_gang_lookup()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00105">osc_thread_info::oti_io</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__idl_8h_source.html#l02822">ldlm_extent::start</a>, and <a class="el" href="osc__lock_8c_source.html#l00644">weigh_cb()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00693">osc_ldlm_weigh_ast()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0665f963a72ace52377c0d51df2b2319"></a><!-- doxytag: member="osc_cl_internal.h::osc_lru_add_batch" ref="ga0665f963a72ace52377c0d51df2b2319" args="(struct client_obd *cli, struct list_head *list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_lru_add_batch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00542">542</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="obd_8h_source.html#l00264">client_obd::cl_lru_busy</a>, <a class="el" href="obd_8h_source.html#l00266">client_obd::cl_lru_in_list</a>, <a class="el" href="obd_8h_source.html#l00271">client_obd::cl_lru_last_used</a>, <a class="el" href="obd_8h_source.html#l00278">client_obd::cl_lru_list</a>, <a class="el" href="obd_8h_source.html#l00280">client_obd::cl_lru_list_lock</a>, <a class="el" href="obd_8h_source.html#l00328">client_obd::cl_lru_work</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00076">list_add()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="list_8h_source.html#l00213">list_splice_tail()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00540">oap2osc_page()</a>, <a class="el" href="osc__internal_8h_source.html#l00063">osc_async_page::oap_pending_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_in_lru</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00368">osc_page::ops_lru</a>, and <a class="el" href="client_8c_source.html#l03362">ptlrpcd_queue_work()</a>.</p>

</div>
</div>
<a class="anchor" id="gad3d816668d6cfc8e6ff86c4bae42db4e"></a><!-- doxytag: member="osc_page.c::osc_lru_alloc" ref="gad3d816668d6cfc8e6ff86c4bae42db4e" args="(const struct lu_env *env, struct client_obd *cli, struct osc_page *opg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_lru_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="group__osc.html#gad3d816668d6cfc8e6ff86c4bae42db4e" title="osc_lru_alloc() is called to allocate an LRU slot for a cl_page.">osc_lru_alloc()</a> is called to allocate an LRU slot for a <a class="el" href="structcl__page.html" title="Fields are protected by the lock on struct page, except for atomics and immutables...">cl_page</a>. </p>
<p>Usually the LRU slots are reserved in osc_io_iter_rw_init(). Only in the case that the LRU slots are in extreme shortage, it should have reserved enough slots for an IO. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00887">887</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00254">client_obd::cl_cache</a>, <a class="el" href="obd_8h_source.html#l00264">client_obd::cl_lru_busy</a>, <a class="el" href="obd_8h_source.html#l00260">client_obd::cl_lru_left</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__lib_8h_source.html#l00209">LWI_INTR</a>, <a class="el" href="lustre__lib_8h_source.html#l00159">LWI_ON_SIGNAL_NOOP</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00072">osc_io::oi_lru_reserved</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_in_lru</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>, <a class="el" href="osc__page_8c_source.html#l00808">osc_lru_reclaim()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00380">osc_page_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3bfb464116e04404400ef71fa34298de"></a><!-- doxytag: member="osc_page.c::osc_lru_del" ref="ga3bfb464116e04404400ef71fa34298de" args="(struct client_obd *cli, struct osc_page *opg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lru_del </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Page is being destroyed. </p>
<p>The page may be not in LRU list, if the transfer has never finished(error occurred). </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00583">583</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__page_8c_source.html#l00572">__osc_lru_del()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00264">client_obd::cl_lru_busy</a>, <a class="el" href="obd_8h_source.html#l00260">client_obd::cl_lru_left</a>, <a class="el" href="obd_8h_source.html#l00280">client_obd::cl_lru_list_lock</a>, <a class="el" href="obd_8h_source.html#l00328">client_obd::cl_lru_work</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_in_lru</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00368">osc_page::ops_lru</a>, <a class="el" href="osc__page_8c_source.html#l00494">osc_cache_too_much()</a>, and <a class="el" href="client_8c_source.html#l03362">ptlrpcd_queue_work()</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00292">osc_page_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="ga31f63c117fc0131096df1cb21b556956"></a><!-- doxytag: member="osc_page.c::osc_lru_reclaim" ref="ga31f63c117fc0131096df1cb21b556956" args="(struct client_obd *cli, unsigned long npages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static long osc_lru_reclaim </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>npages</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reclaim LRU pages by an IO thread. </p>
<p>The caller wants to reclaim at least @npages of LRU slots. For performance consideration, it's better to drop LRU pages in batch. Therefore, the actual number is adjusted at least max_pages_per_rpc. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00808">808</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l02195">cl_client_cache::ccc_lru</a>, <a class="el" href="cl__object_8h_source.html#l02203">cl_client_cache::ccc_lru_lock</a>, <a class="el" href="cl__object_8h_source.html#l02187">cl_client_cache::ccc_lru_shrinkers</a>, <a class="el" href="cl__object_8h_source.html#l02183">cl_client_cache::ccc_users</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00254">client_obd::cl_cache</a>, <a class="el" href="cl__object_8c_source.html#l01079">cl_env_nested_get()</a>, <a class="el" href="cl__object_8c_source.html#l01104">cl_env_nested_put()</a>, <a class="el" href="obd_8h_source.html#l00264">client_obd::cl_lru_busy</a>, <a class="el" href="obd_8h_source.html#l00266">client_obd::cl_lru_in_list</a>, <a class="el" href="obd_8h_source.html#l00256">client_obd::cl_lru_osc</a>, <a class="el" href="obd_8h_source.html#l00328">client_obd::cl_lru_work</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="osc__page_8c_source.html#l00494">osc_cache_too_much()</a>, <a class="el" href="osc__page_8c_source.html#l00667">osc_lru_shrink()</a>, <a class="el" href="client_8c_source.html#l03362">ptlrpcd_queue_work()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00887">osc_lru_alloc()</a>, and <a class="el" href="osc__page_8c_source.html#l00936">osc_lru_reserve()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6739eb4d14ea9d44005f4e5131ba8ade"></a><!-- doxytag: member="osc_page.c::osc_lru_reserve" ref="ga6739eb4d14ea9d44005f4e5131ba8ade" args="(struct client_obd *cli, unsigned long npages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long osc_lru_reserve </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>npages</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="group__osc.html#ga6739eb4d14ea9d44005f4e5131ba8ade" title="osc_lru_reserve() is called to reserve enough LRU slots for I/O.">osc_lru_reserve()</a> is called to reserve enough LRU slots for I/O. </p>
<p>The benefit of doing this is to reduce contention against atomic counter cl_lru_left by changing it from per-page access to per-IO access. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00936">936</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00260">client_obd::cl_lru_left</a>, <a class="el" href="obd_8h_source.html#l00328">client_obd::cl_lru_work</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="obd_8h_source.html#l00245">client_obd::cl_max_rpcs_in_flight</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="osc__page_8c_source.html#l00808">osc_lru_reclaim()</a>, and <a class="el" href="client_8c_source.html#l03362">ptlrpcd_queue_work()</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00358">osc_io_write_iter_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gacad2bab69d5c52c6248c0b76fcf1e93a"></a><!-- doxytag: member="osc_page.c::osc_lru_shrink" ref="gacad2bab69d5c52c6248c0b76fcf1e93a" args="(const struct lu_env *env, struct client_obd *cli, long target, bool force)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long osc_lru_shrink </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>force</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drop  of pages from LRU at most. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00667">667</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__page_8c_source.html#l00572">__osc_lru_del()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01820">cl_io::ci_ignore_layout</a>, <a class="el" href="cl__object_8h_source.html#l01752">cl_io::ci_obj</a>, <a class="el" href="cl__object_8h_source.html#l01397">CIT_MISC</a>, <a class="el" href="cl__io_8c_source.html#l00103">cl_io_fini()</a>, <a class="el" href="cl__io_8c_source.html#l00211">cl_io_init()</a>, <a class="el" href="obd_8h_source.html#l00266">client_obd::cl_lru_in_list</a>, <a class="el" href="obd_8h_source.html#l00260">client_obd::cl_lru_left</a>, <a class="el" href="obd_8h_source.html#l00278">client_obd::cl_lru_list</a>, <a class="el" href="obd_8h_source.html#l00280">client_obd::cl_lru_list_lock</a>, <a class="el" href="obd_8h_source.html#l00276">client_obd::cl_lru_reclaim</a>, <a class="el" href="obd_8h_source.html#l00269">client_obd::cl_lru_shrinkers</a>, <a class="el" href="cl__object_8c_source.html#l00134">cl_object_get()</a>, <a class="el" href="cl__object_8c_source.html#l00120">cl_object_put()</a>, <a class="el" href="cl__page_8c_source.html#l00709">cl_page_disown()</a>, <a class="el" href="cl__page_8c_source.html#l00355">cl_page_get()</a>, <a class="el" href="cl__page_8c_source.html#l00634">cl_page_own_try()</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, <a class="el" href="cl__object_8h_source.html#l00720">cl_page::cp_obj</a>, <a class="el" href="cl__object_8h_source.html#l00759">cl_page_slice::cpl_page</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="osc__page_8c_source.html#l00624">discard_pagevec()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="osc__page_8c_source.html#l00649">lru_page_busy()</a>, <a class="el" href="list_8h_source.html#l00043">list_head::next</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_in_lru</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00368">osc_page::ops_lru</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00105">osc_thread_info::oti_io</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00106">osc_thread_info::oti_pvec</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00097">OTI_PVEC_SIZE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00521">lru_queue_work()</a>, <a class="el" href="osc__page_8c_source.html#l01161">osc_cache_shrink_scan()</a>, <a class="el" href="osc__page_8c_source.html#l00808">osc_lru_reclaim()</a>, and <a class="el" href="osc__request_8c_source.html#l02422">osc_set_info_async()</a>.</p>

</div>
</div>
<a class="anchor" id="gaacf75a0c2b6ddc3e431b00b684de8eed"></a><!-- doxytag: member="osc_page.c::osc_lru_unreserve" ref="gaacf75a0c2b6ddc3e431b00b684de8eed" args="(struct client_obd *cli, unsigned long npages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_lru_unreserve </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>npages</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="group__osc.html#gaacf75a0c2b6ddc3e431b00b684de8eed" title="osc_lru_unreserve() is called to unreserve LRU slots.">osc_lru_unreserve()</a> is called to unreserve LRU slots. </p>
<p>LRU slots reserved by <a class="el" href="group__osc.html#ga6739eb4d14ea9d44005f4e5131ba8ade" title="osc_lru_reserve() is called to reserve enough LRU slots for I/O.">osc_lru_reserve()</a> may have entries left due to several reasons such as page already existing or I/O error. Those reserved slots should be freed by calling this function. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00978">978</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00260">client_obd::cl_lru_left</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00394">osc_io_write_iter_fini()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf9beb39b2726984894d0264480dba48f"></a><!-- doxytag: member="osc_page.c::osc_lru_use" ref="gaf9beb39b2726984894d0264480dba48f" args="(struct client_obd *cli, struct osc_page *opg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_lru_use </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete page from LRUlist for redirty. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00612">612</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__page_8c_source.html#l00572">__osc_lru_del()</a>, <a class="el" href="obd_8h_source.html#l00264">client_obd::cl_lru_busy</a>, <a class="el" href="obd_8h_source.html#l00280">client_obd::cl_lru_list_lock</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_in_lru</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00368">osc_page::ops_lru</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00193">osc_page_transfer_add()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6aa1f3c3c89042ae19f13680ff68cf89"></a><!-- doxytag: member="osc_cl_internal.h::osc_lvb_print" ref="ga6aa1f3c3c89042ae19f13680ff68cf89" args="(const struct lu_env *env, void *cookie, lu_printer_t p, const struct ost_lvb *lvb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_lvb_print </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structost__lvb.html">ost_lvb</a> *&nbsp;</td>
          <td class="paramname"> <em>lvb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00131">131</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__idl_8h_source.html#l01818">ost_lvb::lvb_atime</a>, <a class="el" href="lustre__idl_8h_source.html#l01820">ost_lvb::lvb_blocks</a>, <a class="el" href="lustre__idl_8h_source.html#l01819">ost_lvb::lvb_ctime</a>, <a class="el" href="lustre__idl_8h_source.html#l01817">ost_lvb::lvb_mtime</a>, and <a class="el" href="lustre__idl_8h_source.html#l01816">ost_lvb::lvb_size</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l01084">osc_lock_print()</a>, and <a class="el" href="osc__object_8c_source.html#l00140">osc_object_print()</a>.</p>

</div>
</div>
<a class="anchor" id="ga73ec9eae0e3450dcc42a6f47cee04054"></a><!-- doxytag: member="osc_cache.c::osc_make_ready" ref="ga73ec9eae0e3450dcc42a6f47cee04054" args="(const struct lu_env *env, struct osc_async_page *oap, int cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_make_ready </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01261">1261</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="cl__page_8c_source.html#l00943">cl_page_make_ready()</a>, <a class="el" href="cl__object_8h_source.html#l00788">CRT_WRITE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00535">oap2cl_page()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00540">oap2osc_page()</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00372">osc_page::ops_submit_time</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>.</p>

</div>
</div>
<a class="anchor" id="gab3d5d57f126818792f1bb87847f3bb43"></a><!-- doxytag: member="osc_cache.c::osc_makes_hprpc" ref="gab3d5d57f126818792f1bb87847f3bb43" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_makes_hprpc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01772">1772</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00149">osc_object::oo_hp_exts</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01788">__osc_list_maint()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5e40467ee1f612b99dbf51aa76a6d23f"></a><!-- doxytag: member="osc_cache.c::osc_makes_rpc" ref="ga5e40467ee1f612b99dbf51aa76a6d23f" args="(struct client_obd *cli, struct osc_object *osc, int cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_makes_rpc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01704">1704</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00203">client_obd::cl_cache_waiters</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_invalid</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00149">osc_object::oo_hp_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00155">osc_object::oo_nr_reads</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00156">osc_object::oo_nr_writes</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00153">osc_object::oo_reading_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00150">osc_object::oo_urgent_exts</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01788">__osc_list_maint()</a>, and <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8ede1f056f62a25764fd2e6852d8af2f"></a><!-- doxytag: member="osc_cache.c::osc_max_rpc_in_flight" ref="ga8ede1f056f62a25764fd2e6852d8af2f" args="(struct client_obd *cli, struct osc_object *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_max_rpc_in_flight </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01695">1695</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00245">client_obd::cl_max_rpcs_in_flight</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00149">osc_object::oo_hp_exts</a>, and <a class="el" href="osc__internal_8h_source.html#l00166">rpcs_in_flight()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>.</p>

</div>
</div>
<a class="anchor" id="gae752e975e11a7c0954a125500d3b82d5"></a><!-- doxytag: member="osc_cache.c::osc_next_obj" ref="gae752e975e11a7c0954a125500d3b82d5" args="(struct client_obd *cli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__object.html">osc_object</a>* osc_next_obj </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l02132">2132</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00203">client_obd::cl_cache_waiters</a>, <a class="el" href="obd_8h_source.html#l00162">client_obd::cl_import</a>, <a class="el" href="obd_8h_source.html#l00236">client_obd::cl_loi_hp_ready_list</a>, <a class="el" href="obd_8h_source.html#l00238">client_obd::cl_loi_read_list</a>, <a class="el" href="obd_8h_source.html#l00235">client_obd::cl_loi_ready_list</a>, <a class="el" href="obd_8h_source.html#l00237">client_obd::cl_loi_write_list</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__import_8h_source.html#l00277">obd_import::imp_invalid</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="osc__cache_8c_source.html#l02124">list_to_obj</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>.</p>

</div>
</div>
<a class="anchor" id="gad941e20e17432e49a26fb19daf01d110"></a><!-- doxytag: member="osc_cl_internal.h::osc_object_alloc" ref="gad941e20e17432e49a26fb19daf01d110" args="(const struct lu_env *env, const struct lu_object_header *hdr, struct lu_device *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__object.html">lu_object</a> * osc_object_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__header.html">lu_object_header</a> *&nbsp;</td>
          <td class="paramname"> <em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__device.html">lu_device</a> *&nbsp;</td>
          <td class="paramname"> <em>dev</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00439">439</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00229">cl_object::co_ops</a>, <a class="el" href="lu__object_8h_source.html#l00476">lu_object::lo_ops</a>, <a class="el" href="lu__object_8c_source.html#l01242">lu_object_init()</a>, <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00118">osc_object::oo_cl</a>, <a class="el" href="osc__object_8c_source.html#l00056">osc2lu()</a>, and <a class="el" href="osc__dev_8c_source.html#l00053">osc_object_kmem</a>.</p>

</div>
</div>
<a class="anchor" id="gad1cda62925324aa9ccf3762bf525ee69"></a><!-- doxytag: member="osc_object.c::osc_object_ast_clear" ref="gad1cda62925324aa9ccf3762bf525ee69" args="(struct ldlm_lock *lock, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_object_ast_clear </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structldlm__lock.html">ldlm_lock</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00203">203</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__dlm_8h_source.html#l00822">ldlm_lock::l_ast_data</a>, <a class="el" href="lustre__dlm_8h_source.html#l01180">LDLM_ITER_CONTINUE</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__object_8c_source.html#l00212">osc_object_prune()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6e489947271b7ff2af03b3686f2c0deb"></a><!-- doxytag: member="osc_cl_internal.h::osc_object_clear_contended" ref="ga6e489947271b7ff2af03b3686f2c0deb" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_object_clear_contended </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00317">317</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00123">osc_object::oo_contended</a>.</p>

<p>Referenced by <a class="el" href="osc__object_8c_source.html#l00322">osc_object_is_contended()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6bcfff8e5230b18b5624730cbd31d3a4"></a><!-- doxytag: member="osc_object.c::osc_object_fiemap" ref="ga6bcfff8e5230b18b5624730cbd31d3a4" args="(const struct lu_env *env, struct cl_object *obj, struct ll_fiemap_info_key *fmkey, struct fiemap *fiemap, size_t *buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_object_fiemap </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structll__fiemap__info__key.html">ll_fiemap_info_key</a> *&nbsp;</td>
          <td class="paramname"> <em>fmkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fiemap *&nbsp;</td>
          <td class="paramname"> <em>fiemap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>buflen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00225">225</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="genops_8c_source.html#l00749">class_exp2cliimp()</a>, <a class="el" href="lustre__idl_8h_source.html#l02823">ldlm_extent::end</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lustre__dlm_8h_source.html#l00633">ldlm_policy_data::l_extent</a>, <a class="el" href="packet-lustre_8c_source.html#l00290">LCK_MINMODE</a>, <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="packet-lustre_8c_source.html#l00292">LCK_PW</a>, <a class="el" href="packet-lustre_8c_source.html#l00299">LDLM_EXTENT</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00040">LDLM_FL_BLOCK_GRANTED</a>, <a class="el" href="lustre__dlm__flags_8h_source.html#l00226">LDLM_FL_LVB_READY</a>, <a class="el" href="ldlm__lock_8c_source.html#l00717">ldlm_lock_addref()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, <a class="el" href="ldlm__lock_8c_source.html#l01370">ldlm_lock_match()</a>, <a class="el" href="lustre__idl_8h_source.html#l03493">ll_fiemap_info_key::lfik_fiemap</a>, <a class="el" href="lustre__idl_8h_source.html#l03492">ll_fiemap_info_key::lfik_oa</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="packet-lustre_8c_source.html#l00078">LUSTRE_OST_VERSION</a>, <a class="el" href="mdsrate_8c_source.html#l00114">mode</a>, <a class="el" href="lustre__idl_8h_source.html#l03398">obdo::o_flags</a>, <a class="el" href="lustre__idl_8h_source.html#l03384">obdo::o_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l01435">OBD_FL_SRVLOCK</a>, <a class="el" href="lustre__idl_8h_source.html#l01667">OBD_MD_FLFLAGS</a>, <a class="el" href="obd_8h_source.html#l00641">obd_device::obd_namespace</a>, <a class="el" href="lustre__idl_8h_source.html#l01767">OBD_OBJECT_EOF</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="packet-lustre_8c_source.html#l00170">OST_GET_INFO</a>, <a class="el" href="lustre__fid_8h_source.html#l00622">ostid_build_res_name()</a>, <a class="el" href="client_8c_source.html#l02829">ptlrpc_queue_wait()</a>, <a class="el" href="client_8c_source.html#l02490">ptlrpc_req_finished()</a>, <a class="el" href="client_8c_source.html#l00852">ptlrpc_request_alloc()</a>, <a class="el" href="client_8c_source.html#l00875">ptlrpc_request_free()</a>, <a class="el" href="client_8c_source.html#l00762">ptlrpc_request_pack()</a>, <a class="el" href="pack__generic_8c_source.html#l01551">ptlrpc_request_set_replen()</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00058">RCL_CLIENT</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01146">RMF_FIEMAP_KEY</a>, <a class="el" href="layout_8c_source.html#l01151">RMF_FIEMAP_VAL</a>, <a class="el" href="lustre__net_8h_source.html#l01121">ptlrpc_request::rq_pill</a>, <a class="el" href="layout_8c_source.html#l01675">RQF_OST_GET_INFO_FIEMAP</a>, and <a class="el" href="lustre__idl_8h_source.html#l02822">ldlm_extent::start</a>.</p>

</div>
</div>
<a class="anchor" id="ga1f4b92f7b7768a6aa398ac041fab00f4"></a><!-- doxytag: member="osc_object.c::osc_object_free" ref="ga1f4b92f7b7768a6aa398ac041fab00f4" args="(const struct lu_env *env, struct lu_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_object_free </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00108">108</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="osc__object_8c_source.html#l00061">lu2osc()</a>, <a class="el" href="lu__object_8c_source.html#l01259">lu_object_fini()</a>, <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00149">osc_object::oo_hp_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00138">osc_object::oo_hp_ready_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00174">osc_object::oo_nr_ios</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00155">osc_object::oo_nr_reads</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00156">osc_object::oo_nr_writes</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00170">osc_object::oo_ol_list</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00140">osc_object::oo_read_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00153">osc_object::oo_reading_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00137">osc_object::oo_ready_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00145">osc_object::oo_root</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00151">osc_object::oo_rpc_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00150">osc_object::oo_urgent_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00139">osc_object::oo_write_item</a>, and <a class="el" href="osc__dev_8c_source.html#l00053">osc_object_kmem</a>.</p>

</div>
</div>
<a class="anchor" id="gaca46a87549c448a3ae45c55c08f92eaf"></a><!-- doxytag: member="osc_object.c::osc_object_glimpse" ref="gaca46a87549c448a3ae45c55c08f92eaf" args="(const struct lu_env *env, const struct cl_object *obj, struct ost_lvb *lvb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_object_glimpse </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structost__lvb.html">ost_lvb</a> *&nbsp;</td>
          <td class="paramname"> <em>lvb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00192">192</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="obd_8h_source.html#l00071">lov_oinfo::loi_kms</a>, <a class="el" href="obd_8h_source.html#l00072">lov_oinfo::loi_lvb</a>, <a class="el" href="lustre__idl_8h_source.html#l01820">ost_lvb::lvb_blocks</a>, <a class="el" href="lustre__idl_8h_source.html#l01816">ost_lvb::lvb_size</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="gae232d1c674c92569cb4b8157fc4d8714"></a><!-- doxytag: member="osc_object.c::osc_object_init" ref="gae232d1c674c92569cb4b8157fc4d8714" args="(const struct lu_env *env, struct lu_object *obj, const struct lu_object_conf *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_object_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object__conf.html">lu_object_conf</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00073">73</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l02047">cl_object_page_init()</a>, <a class="el" href="cl__object_8h_source.html#l00251">cl_object_conf::coc_oinfo</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="cl__object_8h_source.html#l01954">lu2cl()</a>, <a class="el" href="cl__object_8h_source.html#l01961">lu2cl_conf()</a>, <a class="el" href="osc__object_8c_source.html#l00061">lu2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00149">osc_object::oo_hp_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00138">osc_object::oo_hp_ready_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00175">osc_object::oo_io_waitq</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00160">osc_object::oo_lock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00174">osc_object::oo_nr_ios</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00155">osc_object::oo_nr_reads</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00156">osc_object::oo_nr_writes</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00170">osc_object::oo_ol_list</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00171">osc_object::oo_ol_spin</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00140">osc_object::oo_read_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00153">osc_object::oo_reading_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00137">osc_object::oo_ready_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00145">osc_object::oo_root</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00151">osc_object::oo_rpc_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00165">osc_object::oo_tree_lock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00150">osc_object::oo_urgent_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00139">osc_object::oo_write_item</a>, and <a class="el" href="structcl__object__conf.html#a8a5ff5a6bba630aa3d7852da7a221c7c">cl_object_conf::u</a>.</p>

</div>
</div>
<a class="anchor" id="ga6fff2cb3d86d8a7b0206286da8bbfc6b"></a><!-- doxytag: member="osc_object.c::osc_object_invalidate" ref="ga6fff2cb3d86d8a7b0206286da8bbfc6b" args="(const struct lu_env *env, struct osc_object *osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_object_invalidate </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00457">457</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l00470">CL_PAGE_EOF</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__lib_8h_source.html#l00329">l_wait_event</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00175">osc_object::oo_io_waitq</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00174">osc_object::oo_nr_ios</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00494">osc2cl()</a>, <a class="el" href="group__osc.html#ga50a5681d5c52a69e84bb265c202f3ecf">osc_cache_truncate_start()</a>, <a class="el" href="group__osc.html#gad86265cc2892261e7634f0d9a2050a6b">osc_lock_discard_pages()</a>, <a class="el" href="osc__object_8c_source.html#l00212">osc_object_prune()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l02601">osc_ldlm_resource_invalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="gac2bf0d492fc8978c34d62dc408ead87d"></a><!-- doxytag: member="osc_cl_internal.h::osc_object_is_contended" ref="gac2bf0d492fc8978c34d62dc408ead87d" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_object_is_contended </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00322">322</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="libcfs__time_8h_source.html#l00046">cfs_time_add()</a>, <a class="el" href="libcfs__time_8h_source.html#l00056">cfs_time_after()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="linux-time_8h_source.html#l00182">cfs_time_seconds()</a>, <a class="el" href="cl__object_8h_source.html#l00227">cl_object::co_lu</a>, <a class="el" href="lu__object_8h_source.html#l00472">lu_object::lo_dev</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00472">lu2osc_dev()</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00387">OBD_FAIL_OSC_OBJECT_CONTENTION</a>, <a class="el" href="osc__internal_8h_source.html#l00193">osc_device::od_contention_time</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00118">osc_object::oo_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00123">osc_object::oo_contended</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00124">osc_object::oo_contention_time</a>, and <a class="el" href="osc__object_8c_source.html#l00317">osc_object_clear_contended()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00768">osc_lock_to_lockless()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa48cf128c1c8f7aea48615438b5e3380"></a><!-- doxytag: member="osc_cl_internal.h::osc_object_is_locked" ref="gaa48cf128c1c8f7aea48615438b5e3380" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_object_is_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00193">193</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00160">osc_object::oo_lock</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00482">__osc_extent_remove()</a>, <a class="el" href="osc__cache_8c_source.html#l01948">get_write_extents()</a>, <a class="el" href="osc__cache_8c_source.html#l00455">osc_extent_erase()</a>, <a class="el" href="osc__cache_8c_source.html#l00467">osc_extent_hold()</a>, <a class="el" href="osc__cache_8c_source.html#l00428">osc_extent_insert()</a>, <a class="el" href="osc__cache_8c_source.html#l00288">osc_extent_is_overlapped()</a>, <a class="el" href="osc__cache_8c_source.html#l00505">osc_extent_merge()</a>, <a class="el" href="osc__cache_8c_source.html#l00380">osc_extent_put_trust()</a>, <a class="el" href="osc__cache_8c_source.html#l00182">osc_extent_sanity_check0()</a>, <a class="el" href="osc__cache_8c_source.html#l00391">osc_extent_search()</a>, <a class="el" href="osc__cache_8c_source.html#l00308">osc_extent_state_set()</a>, <a class="el" href="osc__cache_8c_source.html#l02086">osc_send_read_rpc()</a>, and <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa226508459c956ec3ff210b5e62f7b1d"></a><!-- doxytag: member="osc_cl_internal.h::osc_object_lock" ref="gaa226508459c956ec3ff210b5e62f7b1d" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_object_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00178">178</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00160">osc_object::oo_lock</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00901">extent_wait_cb()</a>, <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, <a class="el" href="osc__cache_8c_source.html#l01161">osc_extent_expand()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>, <a class="el" href="osc__cache_8c_source.html#l00492">osc_extent_remove()</a>, <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>, <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>, <a class="el" href="osc__cache_8c_source.html#l02086">osc_send_read_rpc()</a>, and <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gad7e520c11b8db08e478bd09fc0a86d6b"></a><!-- doxytag: member="osc_object.c::osc_object_print" ref="gad7e520c11b8db08e478bd09fc0a86d6b" args="(const struct lu_env *env, void *cookie, lu_printer_t p, const struct lu_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_object_print </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structlu__object.html">lu_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00140">140</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00061">osc_async_rc::ar_force_sync</a>, <a class="el" href="obd_8h_source.html#l00062">osc_async_rc::ar_min_xid</a>, <a class="el" href="obd_8h_source.html#l00060">osc_async_rc::ar_rc</a>, <a class="el" href="lustre__user_8h_source.html#l00223">DOSTID</a>, <a class="el" href="obd_8h_source.html#l00073">lov_oinfo::loi_ar</a>, <a class="el" href="obd_8h_source.html#l00071">lov_oinfo::loi_kms</a>, <a class="el" href="obd_8h_source.html#l00070">lov_oinfo::loi_kms_valid</a>, <a class="el" href="obd_8h_source.html#l00072">lov_oinfo::loi_lvb</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="obd_8h_source.html#l00068">lov_oinfo::loi_ost_gen</a>, <a class="el" href="obd_8h_source.html#l00067">lov_oinfo::loi_ost_idx</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="osc__object_8c_source.html#l00061">lu2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__object_8c_source.html#l00131">osc_lvb_print()</a>, and <a class="el" href="lustre__user_8h_source.html#l00224">POSTID</a>.</p>

</div>
</div>
<a class="anchor" id="gab595ff48fd2bcc21f1160140c3ea2c72"></a><!-- doxytag: member="osc_object.c::osc_object_prune" ref="gab595ff48fd2bcc21f1160140c3ea2c72" args="(const struct lu_env *env, struct cl_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_object_prune </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00212">212</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="ldlm__request_8c_source.html#l02131">ldlm_resource_iterate()</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__object_8c_source.html#l00203">osc_object_ast_clear()</a>, <a class="el" href="lustre__fid_8h_source.html#l00622">ostid_build_res_name()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00099">osc_thread_info::oti_resname</a>.</p>

<p>Referenced by <a class="el" href="osc__object_8c_source.html#l00457">osc_object_invalidate()</a>.</p>

</div>
</div>
<a class="anchor" id="ga898abac02468e34cf3cc62075837b421"></a><!-- doxytag: member="osc_cl_internal.h::osc_object_set_contended" ref="ga898abac02468e34cf3cc62075837b421" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_object_set_contended </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00310">310</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00123">osc_object::oo_contended</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00124">osc_object::oo_contention_time</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00302">osc_lock_upcall()</a>.</p>

</div>
</div>
<a class="anchor" id="gad3aef0c420050121f4710abb4e0a2caa"></a><!-- doxytag: member="osc_cl_internal.h::osc_object_trylock" ref="gad3aef0c420050121f4710abb4e0a2caa" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_object_trylock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00183">183</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00160">osc_object::oo_lock</a>.</p>

</div>
</div>
<a class="anchor" id="ga4d26224f8bd08f9ec2c92f622d957487"></a><!-- doxytag: member="osc_cl_internal.h::osc_object_unlock" ref="ga4d26224f8bd08f9ec2c92f622d957487" args="(struct osc_object *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_object_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00188">188</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00160">osc_object::oo_lock</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00901">extent_wait_cb()</a>, <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>, <a class="el" href="osc__cache_8c_source.html#l01161">osc_extent_expand()</a>, <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>, <a class="el" href="osc__cache_8c_source.html#l00492">osc_extent_remove()</a>, <a class="el" href="osc__cache_8c_source.html#l00961">osc_extent_truncate()</a>, <a class="el" href="osc__cache_8c_source.html#l00915">osc_extent_wait()</a>, <a class="el" href="osc__cache_8c_source.html#l02086">osc_send_read_rpc()</a>, and <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa2bc86b38907996c03e4debb5953688b"></a><!-- doxytag: member="osc_page.c::osc_over_unstable_soft_limit" ref="gaa2bc86b38907996c03e4debb5953688b" args="(struct client_obd *cli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool osc_over_unstable_soft_limit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if it piggybacks SOFT_SYNC flag to OST from this OSC. </p>
<p>This function will be called by every BRW RPC so it's critical to make this function fast. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l01102">1102</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l02199">cl_client_cache::ccc_lru_max</a>, <a class="el" href="cl__object_8h_source.html#l02207">cl_client_cache::ccc_unstable_check</a>, <a class="el" href="cl__object_8h_source.html#l02211">cl_client_cache::ccc_unstable_nr</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00254">client_obd::cl_cache</a>, <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="obd_8h_source.html#l00245">client_obd::cl_max_rpcs_in_flight</a>, <a class="el" href="obd_8h_source.html#l00284">client_obd::cl_unstable_count</a>, <a class="el" href="osc__internal_8h_source.html#l00171">cli_name()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga191a56f071d6752db73aed4510a49639"></a><!-- doxytag: member="osc_cl_internal.h::osc_page_cache_add" ref="ga191a56f071d6752db73aed4510a49639" args="(const struct lu_env *env, const struct cl_page_slice *slice, struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_page_cache_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00203">203</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00519">cl2osc_page()</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="cl__object_8h_source.html#l00788">CRT_WRITE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__page_8c_source.html#l00153">osc_page_protected()</a>, <a class="el" href="osc__page_8c_source.html#l00193">osc_page_transfer_add()</a>, <a class="el" href="osc__page_8c_source.html#l00166">osc_page_transfer_get()</a>, <a class="el" href="osc__page_8c_source.html#l00176">osc_page_transfer_put()</a>, <a class="el" href="group__osc.html#gaa5ccfa774e02b3b82a4ef0ae1d9bc936">osc_queue_async_io()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00265">osc_io_commit_async()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5bcdf3c9bd3b0482012b4554a08c901d"></a><!-- doxytag: member="osc_page.c::osc_page_cancel" ref="ga5bcdf3c9bd3b0482012b4554a08c901d" args="(const struct lu_env *env, const struct cl_page_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_page_cancel </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00344">344</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00519">cl2osc_page()</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_transfer_pinned</a>, <a class="el" href="group__osc.html#gad22b15d739092f8a8d27214eff304e66">osc_cancel_async_page()</a>, and <a class="el" href="osc__page_8c_source.html#l00153">osc_page_protected()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7ae4ea444477a2b8d430ca6b2581a20d"></a><!-- doxytag: member="osc_page.c::osc_page_clip" ref="ga7ae4ea444477a2b8d430ca6b2581a20d" args="(const struct lu_env *env, const struct cl_page_slice *slice, int from, int to)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_page_clip </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>to</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00328">328</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__internal_8h_source.html#l00052">ASYNC_COUNT_STABLE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00519">cl2osc_page()</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__internal_8h_source.html#l00068">osc_async_page::oap_async_flags</a>, <a class="el" href="osc__internal_8h_source.html#l00076">osc_async_page::oap_lock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00341">osc_page::ops_from</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00336">osc_page::ops_oap</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00347">osc_page::ops_to</a>, and <a class="el" href="osc__page_8c_source.html#l00153">osc_page_protected()</a>.</p>

</div>
</div>
<a class="anchor" id="ga44b16168cf595ce24f67e0ff359f7a2d"></a><!-- doxytag: member="osc_page.c::osc_page_delete" ref="ga44b16168cf595ce24f67e0ff359f7a2d" args="(const struct lu_env *env, const struct cl_page_slice *slice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_page_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00292">292</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00519">cl2osc_page()</a>, <a class="el" href="cl__object_8h_source.html#l01005">CL_PAGE_DEBUG</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="cl__object_8h_source.html#l00736">cl_page::cp_type</a>, <a class="el" href="cl__object_8h_source.html#l00765">cl_page_slice::cpl_obj</a>, <a class="el" href="cl__object_8h_source.html#l00759">cl_page_slice::cpl_page</a>, <a class="el" href="cl__object_8h_source.html#l00697">CPT_CACHEABLE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00129">D_TRACE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00057">ergo</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00167">osc_object::oo_npages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00166">osc_object::oo_tree</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00165">osc_object::oo_tree_lock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_temp</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, <a class="el" href="osc__page_8c_source.html#l00583">osc_lru_del()</a>, <a class="el" href="osc__page_8c_source.html#l00153">osc_page_protected()</a>, <a class="el" href="osc__page_8c_source.html#l00176">osc_page_transfer_put()</a>, and <a class="el" href="group__osc.html#ga6ea34d6cb6b65bbd9ed9e7322b5589cd">osc_teardown_async_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6beb7ac39754304f2c126c8f1efdbf8c"></a><!-- doxytag: member="osc_page.c::osc_page_flush" ref="ga6beb7ac39754304f2c126c8f1efdbf8c" args="(const struct lu_env *env, const struct cl_page_slice *slice, struct cl_io *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_page_flush </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00361">361</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00519">cl2osc_page()</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="group__osc.html#gacbca1d2858196fd14f5de2a27cb7c857">osc_flush_async_page()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

</div>
</div>
<a class="anchor" id="ga4ac00d525c8750fbccb312796dfb0542"></a><!-- doxytag: member="osc_cache.c::osc_page_gang_lookup" ref="ga4ac00d525c8750fbccb312796dfb0542" args="(const struct lu_env *env, struct cl_io *io, struct osc_object *osc, pgoff_t start, pgoff_t end, osc_page_gang_cbt cb, void *cbdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_page_gang_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__osc.html#ga46b4a8ffae8b7ea1e45fd7884069fc34">osc_page_gang_cbt</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cbdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a list of pages by a given [start, end] of <em>obj</em>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>resched</em>&nbsp;</td><td>If not NULL, then we give up before hogging CPU for too long and set *resched = 1, in that case caller should implement a retry logic.</td></tr>
  </table>
  </dd>
</dl>
<p>Gang tree lookup (radix_tree_gang_lookup()) optimization is absolutely crucial in the face of [offset, EOF] locks.</p>
<p>Return at least one page in  unless there is no covered page. </p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00658">osc_lock_weight()</a>, and <a class="el" href="osc__io_8c_source.html#l00463">osc_trunc_check()</a>.</p>

</div>
</div>
<a class="anchor" id="ga633c62b020126f225e1b0df1dc284251"></a><!-- doxytag: member="osc_cl_internal.h::osc_page_init" ref="ga633c62b020126f225e1b0df1dc284251" args="(const struct lu_env *env, struct cl_object *obj, struct cl_page *page, pgoff_t ind)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_page_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__page.html">cl_page</a> *&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>ind</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00380">380</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8h_source.html#l02054">cl_object_page_slice()</a>, <a class="el" href="cl__page_8c_source.html#l01050">cl_offset()</a>, <a class="el" href="cl__page_8c_source.html#l01080">cl_page_slice_add()</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="cl__object_8h_source.html#l00736">cl_page::cp_type</a>, <a class="el" href="cl__object_8h_source.html#l00722">cl_page::cp_vmpage</a>, <a class="el" href="cl__object_8h_source.html#l00697">CPT_CACHEABLE</a>, <a class="el" href="list_8h_source.html#l00048">INIT_LIST_HEAD</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00167">osc_object::oo_npages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00166">osc_object::oo_tree</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00165">osc_object::oo_tree_lock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00341">osc_page::ops_from</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00368">osc_page::ops_lru</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_srvlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_temp</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00347">osc_page::ops_to</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00462">osc_env_io()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00566">osc_io_srvlock()</a>, <a class="el" href="osc__page_8c_source.html#l00887">osc_lru_alloc()</a>, <a class="el" href="osc__page_8c_source.html#l00153">osc_page_protected()</a>, and <a class="el" href="group__osc.html#gad7357c1e41d1c62baf4fb61d51c2de71">osc_prep_async_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ga588f41464fa8615c958a1691612f7579"></a><!-- doxytag: member="osc_page.c::osc_page_print" ref="ga588f41464fa8615c958a1691612f7579" args="(const struct lu_env *env, const struct cl_page_slice *slice, void *cookie, lu_printer_t printer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_page_print </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcl__page__slice.html">cl_page_slice</a> *&nbsp;</td>
          <td class="paramname"> <em>slice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lu.html#gac8ccca21472f6dc3ea91d73983740fdc">lu_printer_t</a>&nbsp;</td>
          <td class="paramname"> <em>printer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00243">243</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00519">cl2osc_page()</a>, <a class="el" href="obd_8h_source.html#l00193">client_obd::cl_avail_grant</a>, <a class="el" href="obd_8h_source.html#l00203">client_obd::cl_cache_waiters</a>, <a class="el" href="obd_8h_source.html#l00236">client_obd::cl_loi_hp_ready_list</a>, <a class="el" href="obd_8h_source.html#l00238">client_obd::cl_loi_read_list</a>, <a class="el" href="obd_8h_source.html#l00235">client_obd::cl_loi_ready_list</a>, <a class="el" href="obd_8h_source.html#l00237">client_obd::cl_loi_write_list</a>, <a class="el" href="obd_8h_source.html#l00245">client_obd::cl_max_rpcs_in_flight</a>, <a class="el" href="obd_8h_source.html#l00239">client_obd::cl_r_in_flight</a>, <a class="el" href="obd_8h_source.html#l00240">client_obd::cl_w_in_flight</a>, <a class="el" href="obd_8h_source.html#l00699">obd_device::cli</a>, <a class="el" href="cl__object_8h_source.html#l00765">cl_page_slice::cpl_obj</a>, <a class="el" href="lustre__export_8h_source.html#l00209">obd_export::exp_obd</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00046">LPD64</a>, <a class="el" href="obd_8h_source.html#l00463">LUSTRE_OSC_NAME</a>, <a class="el" href="osc__internal_8h_source.html#l00068">osc_async_page::oap_async_flags</a>, <a class="el" href="osc__internal_8h_source.html#l00073">osc_async_page::oap_cli</a>, <a class="el" href="osc__internal_8h_source.html#l00060">osc_async_page::oap_cmd</a>, <a class="el" href="osc__internal_8h_source.html#l00061">osc_async_page::oap_interrupted</a>, <a class="el" href="osc__internal_8h_source.html#l00059">osc_async_page::oap_magic</a>, <a class="el" href="osc__internal_8h_source.html#l00066">osc_async_page::oap_obj_off</a>, <a class="el" href="osc__internal_8h_source.html#l00067">osc_async_page::oap_page_off</a>, <a class="el" href="osc__internal_8h_source.html#l00063">osc_async_page::oap_pending_item</a>, <a class="el" href="osc__internal_8h_source.html#l00072">osc_async_page::oap_request</a>, <a class="el" href="osc__internal_8h_source.html#l00064">osc_async_page::oap_rpc_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00149">osc_object::oo_hp_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00138">osc_object::oo_hp_ready_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00155">osc_object::oo_nr_reads</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00156">osc_object::oo_nr_writes</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00140">osc_object::oo_read_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00153">osc_object::oo_reading_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00137">osc_object::oo_ready_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00150">osc_object::oo_urgent_exts</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00139">osc_object::oo_write_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00336">osc_page::ops_oap</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, <a class="el" href="osc__page_8c_source.html#l00230">osc_list()</a>, <a class="el" href="osc__page_8c_source.html#l00235">osc_submit_duration()</a>, and <a class="el" href="structobd__device.html#aebe227afed9945c803b5bda6794bb729">obd_device::u</a>.</p>

</div>
</div>
<a class="anchor" id="ga347735e2bf147266c81506d8e32ab8f8"></a><!-- doxytag: member="osc_page.c::osc_page_protected" ref="ga347735e2bf147266c81506d8e32ab8f8" args="(const struct lu_env *env, const struct osc_page *opg, enum cl_lock_mode mode, int unref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_page_protected </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__lock.html#ga85e741e93c4ba0b8fd87206425e347a1">cl_lock_mode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unref</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00153">153</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00203">osc_page_cache_add()</a>, <a class="el" href="osc__page_8c_source.html#l00344">osc_page_cancel()</a>, <a class="el" href="osc__page_8c_source.html#l00328">osc_page_clip()</a>, <a class="el" href="osc__page_8c_source.html#l00292">osc_page_delete()</a>, <a class="el" href="osc__page_8c_source.html#l00380">osc_page_init()</a>, and <a class="el" href="osc__page_8c_source.html#l00427">osc_page_submit()</a>.</p>

</div>
</div>
<a class="anchor" id="gae4802860d91daed5d098a08f4ed45dea"></a><!-- doxytag: member="osc_cl_internal.h::osc_page_submit" ref="gae4802860d91daed5d098a08f4ed45dea" args="(const struct lu_env *env, struct osc_page *opg, enum cl_req_type crt, int brw_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_page_submit </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__page.html#ga419215a2ca4eeab85983de8ca5a16a02">cl_req_type</a>&nbsp;</td>
          <td class="paramname"> <em>crt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>brw_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function called by <a class="el" href="group__osc.html#ga4eec18a3df58fcee1485aa867a6623d6" title="An implementation of cl_io_operations::cio_io_submit() method for osc layer.">osc_io_submit()</a> for every page in an immediate transfer (i.e., transferred synchronously). </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00427">427</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__internal_8h_source.html#l00052">ASYNC_COUNT_STABLE</a>, <a class="el" href="osc__internal_8h_source.html#l00049">ASYNC_READY</a>, <a class="el" href="curproc_8h_source.html#l00120">CFS_CAP_SYS_RESOURCE</a>, <a class="el" href="linux-curproc_8c_source.html#l00128">cfs_capable()</a>, <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, <a class="el" href="lustre__export_8h_source.html#l00348">client_is_remote()</a>, <a class="el" href="cl__object_8h_source.html#l00777">CLM_READ</a>, <a class="el" href="cl__object_8h_source.html#l00778">CLM_WRITE</a>, <a class="el" href="cl__object_8h_source.html#l00788">CRT_WRITE</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00045">LASSERTF</a>, <a class="el" href="libcfs__private_8h_source.html#l00282">LINVRNT</a>, <a class="el" href="osc__internal_8h_source.html#l00068">osc_async_page::oap_async_flags</a>, <a class="el" href="osc__internal_8h_source.html#l00060">osc_async_page::oap_cmd</a>, <a class="el" href="osc__internal_8h_source.html#l00040">OAP_MAGIC</a>, <a class="el" href="osc__internal_8h_source.html#l00059">osc_async_page::oap_magic</a>, <a class="el" href="osc__internal_8h_source.html#l00074">osc_async_page::oap_obj</a>, <a class="el" href="osc__internal_8h_source.html#l00067">osc_async_page::oap_page_off</a>, <a class="el" href="lustre__idl_8h_source.html#l01756">OBD_BRW_NOQUOTA</a>, <a class="el" href="lustre__idl_8h_source.html#l01746">OBD_BRW_READ</a>, <a class="el" href="lustre__idl_8h_source.html#l01749">OBD_BRW_SYNC</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00341">osc_page::ops_from</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00336">osc_page::ops_oap</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00372">osc_page::ops_submit_time</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00347">osc_page::ops_to</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__page_8c_source.html#l00153">osc_page_protected()</a>, <a class="el" href="osc__page_8c_source.html#l00193">osc_page_transfer_add()</a>, and <a class="el" href="osc__page_8c_source.html#l00166">osc_page_transfer_get()</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00124">osc_io_submit()</a>.</p>

</div>
</div>
<a class="anchor" id="gaedb1205705add21337da6c2266fe34b0"></a><!-- doxytag: member="osc_io.c::osc_page_touch_at" ref="gaedb1205705add21337da6c2266fe34b0" args="(const struct lu_env *env, struct cl_object *obj, pgoff_t idx, size_t to)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_page_touch_at </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&nbsp;</td>
          <td class="paramname"> <em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>to</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is called when a page is accessed within file in a way that creates new page, if one were missing (i.e., if there were a hole at that place in the file, or accessed page is beyond the current file size). </p>
<p>Expand stripe KMS if necessary. </p>

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00228">228</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="cl__object_8h_source.html#l00183">CAT_CTIME</a>, <a class="el" href="cl__object_8h_source.html#l00155">cl_attr::cat_ctime</a>, <a class="el" href="cl__object_8h_source.html#l00180">CAT_KMS</a>, <a class="el" href="cl__object_8h_source.html#l00149">cl_attr::cat_kms</a>, <a class="el" href="cl__object_8h_source.html#l00181">CAT_MTIME</a>, <a class="el" href="cl__object_8h_source.html#l00151">cl_attr::cat_mtime</a>, <a class="el" href="cl__object_8h_source.html#l00179">CAT_SIZE</a>, <a class="el" href="cl__object_8h_source.html#l00143">cl_attr::cat_size</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="cl__object_8c_source.html#l00236">cl_object_attr_update()</a>, <a class="el" href="cl__page_8c_source.html#l01050">cl_offset()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="obd_8h_source.html#l00071">lov_oinfo::loi_kms</a>, <a class="el" href="obd_8h_source.html#l00072">lov_oinfo::loi_lvb</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="lustre__compat_8h_source.html#l00094">LTIME_S</a>, <a class="el" href="lustre__idl_8h_source.html#l01816">ost_lvb::lvb_size</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00102">osc_thread_info::oti_attr</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00265">osc_io_commit_async()</a>, and <a class="el" href="osc__io_8c_source.html#l00409">osc_io_fault_start()</a>.</p>

</div>
</div>
<a class="anchor" id="ga925522309d1e870b6317c13595114a4b"></a><!-- doxytag: member="osc_page.c::osc_page_transfer_add" ref="ga925522309d1e870b6317c13595114a4b" args="(const struct lu_env *env, struct osc_page *opg, enum cl_req_type crt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_page_transfer_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__cl__page.html#ga419215a2ca4eeab85983de8ca5a16a02">cl_req_type</a>&nbsp;</td>
          <td class="paramname"> <em>crt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is called once for every page when it is submitted for a transfer either opportunistic (<a class="el" href="group__osc.html#ga191a56f071d6752db73aed4510a49639">osc_page_cache_add()</a>), or immediate (<a class="el" href="group__osc.html#gae4802860d91daed5d098a08f4ed45dea" title="Helper function called by osc_io_submit() for every page in an immediate transfer...">osc_page_submit()</a>). </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00193">193</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8h_source.html#l00765">cl_page_slice::cpl_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, and <a class="el" href="osc__page_8c_source.html#l00612">osc_lru_use()</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00203">osc_page_cache_add()</a>, and <a class="el" href="osc__page_8c_source.html#l00427">osc_page_submit()</a>.</p>

</div>
</div>
<a class="anchor" id="gaef0e98d65a1cb06f7206f01a0096392b"></a><!-- doxytag: member="osc_page.c::osc_page_transfer_get" ref="gaef0e98d65a1cb06f7206f01a0096392b" args="(struct osc_page *opg, const char *label)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_page_transfer_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>label</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00166">166</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="cl__page_8c_source.html#l00355">cl_page_get()</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="cl__object_8h_source.html#l00759">cl_page_slice::cpl_page</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__ref_8h_source.html#l00210">lu_ref_add_atomic()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_transfer_pinned</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00203">osc_page_cache_add()</a>, and <a class="el" href="osc__page_8c_source.html#l00427">osc_page_submit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0471f9eae5fc88013c61d30a43ab6fb6"></a><!-- doxytag: member="osc_page.c::osc_page_transfer_put" ref="ga0471f9eae5fc88013c61d30a43ab6fb6" args="(const struct lu_env *env, struct osc_page *opg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_page_transfer_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00176">176</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="cl__page_8c_source.html#l00372">cl_page_put()</a>, <a class="el" href="cl__object_8h_source.html#l00744">cl_page::cp_reference</a>, <a class="el" href="cl__object_8h_source.html#l00759">cl_page_slice::cpl_page</a>, <a class="el" href="lu__ref_8h_source.html#l00223">lu_ref_del()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_transfer_pinned</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00203">osc_page_cache_add()</a>, and <a class="el" href="osc__page_8c_source.html#l00292">osc_page_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="gad7357c1e41d1c62baf4fb61d51c2de71"></a><!-- doxytag: member="osc_cache.c::osc_prep_async_page" ref="gad7357c1e41d1c62baf4fb61d51c2de71" args="(struct osc_object *osc, struct osc_page *ops, struct page *page, loff_t offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_prep_async_page </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00380">osc_page_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gae13b7782d89327586ac69bdccf2c1334"></a><!-- doxytag: member="osc_cache.c::osc_process_ar" ref="gae13b7782d89327586ac69bdccf2c1334" args="(struct osc_async_rc *ar, __u64 xid, int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_process_ar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__async__rc.html">osc_async_rc</a> *&nbsp;</td>
          <td class="paramname"> <em>ar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01826">1826</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00061">osc_async_rc::ar_force_sync</a>, <a class="el" href="obd_8h_source.html#l00062">osc_async_rc::ar_min_xid</a>, <a class="el" href="obd_8h_source.html#l00060">osc_async_rc::ar_rc</a>, and <a class="el" href="client_8c_source.html#l03230">ptlrpc_sample_next_xid()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01845">osc_ap_completion()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa5ccfa774e02b3b82a4ef0ae1d9bc936"></a><!-- doxytag: member="osc_cache.c::osc_queue_async_io" ref="gaa5ccfa774e02b3b82a4ef0ae1d9bc936" args="(const struct lu_env *env, struct cl_io *io, struct osc_page *ops)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_queue_async_io </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00203">osc_page_cache_add()</a>.</p>

</div>
</div>
<a class="anchor" id="gac7b21c4ee69191fe5fe48df729410912"></a><!-- doxytag: member="osc_cache.c::osc_queue_sync_pages" ref="gac7b21c4ee69191fe5fe48df729410912" args="(const struct lu_env *env, struct osc_object *obj, struct list_head *list, int cmd, int brw_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_queue_sync_pages </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>brw_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00124">osc_io_submit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga79f53296f735b0466c23c64307375100"></a><!-- doxytag: member="osc_io.c::osc_read_ahead_release" ref="ga79f53296f735b0466c23c64307375100" args="(const struct lu_env *env, void *cbdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_read_ahead_release </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cbdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00076">76</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="packet-lustre_8c_source.html#l00293">LCK_PR</a>, <a class="el" href="ldlm__lock_8c_source.html#l00582">ldlm_lock2handle()</a>, <a class="el" href="ldlm__lock_8c_source.html#l00903">ldlm_lock_decref()</a>, and <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00087">osc_io_read_ahead()</a>.</p>

</div>
</div>
<a class="anchor" id="gabd1fc2337b6246c9bf982cf542d0971a"></a><!-- doxytag: member="osc_cache.c::osc_refresh_count" ref="gabd1fc2337b6246c9bf982cf542d0971a" args="(const struct lu_env *env, struct osc_async_page *oap, int cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_refresh_count </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__async__page.html">osc_async_page</a> *&nbsp;</td>
          <td class="paramname"> <em>oap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01277">1277</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l00149">cl_attr::cat_kms</a>, <a class="el" href="cl__object_8c_source.html#l00204">cl_object_attr_get()</a>, <a class="el" href="cl__object_8c_source.html#l00180">cl_object_attr_lock()</a>, <a class="el" href="cl__object_8c_source.html#l00190">cl_object_attr_unlock()</a>, <a class="el" href="cl__page_8c_source.html#l01050">cl_offset()</a>, <a class="el" href="cl__object_8h_source.html#l00765">cl_page_slice::cpl_obj</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00525">oap2osc()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00540">oap2osc_page()</a>, <a class="el" href="lustre__idl_8h_source.html#l01746">OBD_BRW_READ</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00102">osc_thread_info::oti_attr</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2db32fd723bca8374604714d9af6dd02"></a><!-- doxytag: member="osc_cache.c::osc_release_write_grant" ref="ga2db32fd723bca8374604714d9af6dd02" args="(struct client_obd *cli, struct brw_page *pga)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_release_write_grant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbrw__page.html">brw_page</a> *&nbsp;</td>
          <td class="paramname"> <em>pga</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01391">1391</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00190">client_obd::cl_dirty_pages</a>, <a class="el" href="obd_8h_source.html#l00192">client_obd::cl_dirty_transit</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="obd_8h_source.html#l00121">brw_page::flag</a>, <a class="el" href="lustre__idl_8h_source.html#l01753">OBD_BRW_FROM_GRANT</a>, <a class="el" href="lustre__idl_8h_source.html#l01755">OBD_BRW_NOCACHE</a>, <a class="el" href="class__obd_8c_source.html#l00081">obd_dirty_pages</a>, and <a class="el" href="class__obd_8c_source.html#l00106">obd_dirty_transit_pages</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01502">osc_exit_cache()</a>.</p>

</div>
</div>
<a class="anchor" id="ga012555c4e3901b02d2c59ff975fe1584"></a><!-- doxytag: member="osc_object.c::osc_req_attr_set" ref="ga012555c4e3901b02d2c59ff975fe1584" args="(const struct lu_env *env, struct cl_object *obj, struct cl_req_attr *attr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_req_attr_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__object.html">cl_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__req__attr.html">cl_req_attr</a> *&nbsp;</td>
          <td class="paramname"> <em>attr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implementation of struct <a class="el" href="structcl__object__operations.html#ac4285e5c1c552110704ba50cce4d326c" title="Set request attributes.">cl_object_operations::coo_req_attr_set()</a> for osc layer. </p>
<p>osc is responsible for struct obdo::o_id and struct obdo::o_seq fields. </p>

<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00353">353</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__object_8h_source.html#l01005">CL_PAGE_DEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01865">cl_req_attr::cra_flags</a>, <a class="el" href="cl__object_8h_source.html#l01868">cl_req_attr::cra_oa</a>, <a class="el" href="cl__object_8h_source.html#l01866">cl_req_attr::cra_page</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="lustre__dlm_8h_source.html#l00766">ldlm_lock::l_remote_handle</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="packet-lustre_8c_source.html#l00299">LDLM_EXTENT</a>, <a class="el" href="lustre__dlm_8h_source.html#l01327">LDLM_LOCK_PUT</a>, <a class="el" href="ldlm__resource_8c_source.html#l01448">ldlm_resource_dump()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>, <a class="el" href="libcfs__private_8h_source.html#l00302">libcfs_debug_dumpstack</a>, <a class="el" href="obd_8h_source.html#l00072">lov_oinfo::loi_lvb</a>, <a class="el" href="obd_8h_source.html#l00066">lov_oinfo::loi_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l01818">ost_lvb::lvb_atime</a>, <a class="el" href="lustre__idl_8h_source.html#l01819">ost_lvb::lvb_ctime</a>, <a class="el" href="lustre__idl_8h_source.html#l01817">ost_lvb::lvb_mtime</a>, <a class="el" href="lustre__idl_8h_source.html#l03388">obdo::o_atime</a>, <a class="el" href="lustre__idl_8h_source.html#l03389">obdo::o_ctime</a>, <a class="el" href="lustre__idl_8h_source.html#l03406">obdo::o_handle</a>, <a class="el" href="lustre__idl_8h_source.html#l03387">obdo::o_mtime</a>, <a class="el" href="lustre__idl_8h_source.html#l03384">obdo::o_oi</a>, <a class="el" href="lustre__idl_8h_source.html#l03383">obdo::o_valid</a>, <a class="el" href="lustre__idl_8h_source.html#l01657">OBD_MD_FLATIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01659">OBD_MD_FLCTIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01679">OBD_MD_FLGROUP</a>, <a class="el" href="lustre__idl_8h_source.html#l01674">OBD_MD_FLHANDLE</a>, <a class="el" href="lustre__idl_8h_source.html#l01656">OBD_MD_FLID</a>, <a class="el" href="lustre__idl_8h_source.html#l01658">OBD_MD_FLMTIME</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00119">osc_object::oo_oinfo</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00351">osc_page::ops_srvlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00546">osc_cl_page_osc()</a>, <a class="el" href="osc__internal_8h_source.html#l00235">OSC_DAP_FL_CANCELING</a>, <a class="el" href="osc__internal_8h_source.html#l00231">OSC_DAP_FL_TEST_LOCK</a>, <a class="el" href="osc__lock_8c_source.html#l01210">osc_dlmlock_at_pgoff()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00478">osc_export()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, <a class="el" href="lustre__fid_8h_source.html#l00622">ostid_build_res_name()</a>, <a class="el" href="lustre__idl_8h_source.html#l00546">ostid_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00531">ostid_seq()</a>, <a class="el" href="lustre__idl_8h_source.html#l00594">ostid_set_id()</a>, <a class="el" href="lustre__idl_8h_source.html#l00561">ostid_set_seq()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00099">osc_thread_info::oti_resname</a>.</p>

</div>
</div>
<a class="anchor" id="ga99effe4ac12e816a5c4e6484ce7bb68a"></a><!-- doxytag: member="osc_cache.c::osc_reserve_grant" ref="ga99effe4ac12e816a5c4e6484ce7bb68a" args="(struct client_obd *cli, unsigned int bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_reserve_grant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To avoid sleeping with object lock held, it's good for us allocate enough grants before entering into critical section. </p>
<p>client_obd_list_lock held by caller </p>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01419">1419</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00193">client_obd::cl_avail_grant</a>, and <a class="el" href="obd_8h_source.html#l00202">client_obd::cl_reserved_grant</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01513">osc_enter_cache_try()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaff5ece46aafdbc9d001ef8beaf6068a"></a><!-- doxytag: member="osc_cache.c::osc_send_read_rpc" ref="gaaff5ece46aafdbc9d001ef8beaf6068a" args="(const struct lu_env *env, struct client_obd *cli, struct osc_object *osc) __must_hold(osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_send_read_rpc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>prepare pages for ASYNC io and put pages in send queue. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>OBD_BRW_* macroses </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lop</em>&nbsp;</td><td>pending pages</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>zero if no page added to send queue. </dd>
<dd>
1 if pages successfully added to send queue. </dd>
<dd>
negative on errors. </dd></dl>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l02086">2086</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00244">client_obd::cl_max_pages_per_rpc</a>, <a class="el" href="osc__cache_8c_source.html#l00148">EASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="lustre__idl_8h_source.html#l01746">OBD_BRW_READ</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00640">osc_extent::oe_nr_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00576">OES_LOCK_DONE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00577">OES_RPC</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="osc__cache_8c_source.html#l00308">osc_extent_state_set()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>, <a class="el" href="osc__cache_8c_source.html#l01757">osc_update_pending()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="osc__cache_8c_source.html#l01885">try_to_add_extent_for_io()</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9b9361dd49058a25628a0b2c8094d8cc"></a><!-- doxytag: member="osc_cache.c::osc_send_write_rpc" ref="ga9b9361dd49058a25628a0b2c8094d8cc" args="(const struct lu_env *env, struct client_obd *cli, struct osc_object *osc) __must_hold(osc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int osc_send_write_rpc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>osc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l02012">2012</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="osd__iam_8h_source.html#l00059">equi</a>, <a class="el" href="osc__cache_8c_source.html#l01948">get_write_extents()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="list_8h_source.html#l00484">list_for_each_entry_safe</a>, <a class="el" href="list_8h_source.html#l00046">LIST_HEAD_INIT</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_srvlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00574">OES_CACHE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00576">OES_LOCK_DONE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00575">OES_LOCKING</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00577">OES_RPC</a>, <a class="el" href="osc__request_8c_source.html#l01764">osc_build_rpc()</a>, <a class="el" href="group__osc.html#gaf6b8a4d60ebeba7a3b97618165e566b3">osc_extent_finish()</a>, <a class="el" href="osc__cache_8c_source.html#l01080">osc_extent_make_ready()</a>, <a class="el" href="osc__cache_8c_source.html#l00308">osc_extent_state_set()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00193">osc_object_is_locked()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00178">osc_object_lock()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00188">osc_object_unlock()</a>, <a class="el" href="osc__cache_8c_source.html#l01757">osc_update_pending()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l02166">osc_check_rpcs()</a>.</p>

</div>
</div>
<a class="anchor" id="gacf96398106ef396fa4a274a078b943c8"></a><!-- doxytag: member="osc_dev.c::osc_session_fini" ref="gacf96398106ef396fa4a274a078b943c8" args="(const struct lu_context *ctx, struct lu_context_key *key, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_session_fini </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00149">149</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00857">OBD_SLAB_FREE_PTR</a>, and <a class="el" href="osc__dev_8c_source.html#l00055">osc_session_kmem</a>.</p>

</div>
</div>
<a class="anchor" id="ga05d5cb27a664d73203b07f7911f5c022"></a><!-- doxytag: member="osc_dev.c::osc_session_init" ref="ga05d5cb27a664d73203b07f7911f5c022" args="(const struct lu_context *ctx, struct lu_context_key *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* osc_session_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__context.html">lu_context</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00138">138</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>References <a class="el" href="obd__support_8h_source.html#l00851">OBD_SLAB_ALLOC_PTR_GFP</a>, and <a class="el" href="osc__dev_8c_source.html#l00055">osc_session_kmem</a>.</p>

</div>
</div>
<a class="anchor" id="gaeeebabba4671768419987298a91f77a2"></a><!-- doxytag: member="osc_cl_internal.h::osc_set_async_flags" ref="gaeeebabba4671768419987298a91f77a2" args="(struct osc_object *obj, struct osc_page *opg, u32 async_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_set_async_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>async_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga60696e19562a4a322b062b4ec96db649"></a><!-- doxytag: member="osc_page.c::osc_submit_duration" ref="ga60696e19562a4a322b062b4ec96db649" args="(struct osc_page *opg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="linux-time_8h.html#a0e81d053bc8d925f6574c760bbea5ac4">cfs_time_t</a> osc_submit_duration </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>opg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00235">235</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="linux-time_8h_source.html#l00152">cfs_time_current()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00372">osc_page::ops_submit_time</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00243">osc_page_print()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6ea34d6cb6b65bbd9ed9e7322b5589cd"></a><!-- doxytag: member="osc_cache.c::osc_teardown_async_page" ref="ga6ea34d6cb6b65bbd9ed9e7322b5589cd" args="(const struct lu_env *env, struct osc_object *obj, struct osc_page *ops)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osc_teardown_async_page </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l00292">osc_page_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="gaff8d3b2b93df35029fb016237ea7c833"></a><!-- doxytag: member="osc_io.c::osc_trunc_check" ref="gaff8d3b2b93df35029fb016237ea7c833" args="(const struct lu_env *env, struct cl_io *io, struct osc_io *oio, __u64 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_trunc_check </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__io.html">osc_io</a> *&nbsp;</td>
          <td class="paramname"> <em>oio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00463">463</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="cl__object_8h_source.html#l01441">cl_io_slice::cis_obj</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00488">cl2osc()</a>, <a class="el" href="cl__page_8c_source.html#l01059">cl_index()</a>, <a class="el" href="cl__page_8c_source.html#l01050">cl_offset()</a>, <a class="el" href="cl__object_8h_source.html#l00470">CL_PAGE_EOF</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00066">osc_io::oi_cl</a>, <a class="el" href="group__osc.html#ga4ac00d525c8750fbccb312796dfb0542">osc_page_gang_lookup()</a>, <a class="el" href="rename__many_8c_source.html#l00057">start</a>, and <a class="el" href="osc__io_8c_source.html#l00443">trunc_check_cb()</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00582">osc_io_setattr_end()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6313fdde48b6ae532fe842bef6aa6eb8"></a><!-- doxytag: member="osc_cache.c::osc_unreserve_grant" ref="ga6313fdde48b6ae532fe842bef6aa6eb8" args="(struct client_obd *cli, unsigned int reserved, unsigned int unused)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_unreserve_grant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>unused</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01449">1449</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cache_8c_source.html#l01431">__osc_unreserve_grant()</a>, <a class="el" href="obd_8h_source.html#l00234">client_obd::cl_loi_list_lock</a>, and <a class="el" href="osc__cache_8c_source.html#l01661">osc_wake_cache_waiters()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4efba2a78fd99c45e4e7ffc077bea3ec"></a><!-- doxytag: member="osc_cache.c::osc_update_pending" ref="ga4efba2a78fd99c45e4e7ffc077bea3ec" args="(struct osc_object *obj, int cmd, int delta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void osc_update_pending </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__object.html">osc_object</a> *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>delta</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01757">1757</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="obd_8h_source.html#l00243">client_obd::cl_pending_r_pages</a>, <a class="el" href="obd_8h_source.html#l00242">client_obd::cl_pending_w_pages</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00155">osc_object::oo_nr_reads</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00156">osc_object::oo_nr_writes</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00483">osc_cli()</a>, and <a class="el" href="osc__cache_8c_source.html#l01249">OSC_IO_DEBUG</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00467">osc_extent_hold()</a>, <a class="el" href="osc__cache_8c_source.html#l02086">osc_send_read_rpc()</a>, and <a class="el" href="osc__cache_8c_source.html#l02012">osc_send_write_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6d219e813ad848aa526b59c3c304f025"></a><!-- doxytag: member="osc_cache.c::osc_wake_cache_waiters" ref="ga6d219e813ad848aa526b59c3c304f025" args="(struct client_obd *cli)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osc_wake_cache_waiters </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01661">1661</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="obd_8h_source.html#l00193">client_obd::cl_avail_grant</a>, <a class="el" href="obd_8h_source.html#l00203">client_obd::cl_cache_waiters</a>, <a class="el" href="obd_8h_source.html#l00191">client_obd::cl_dirty_max_pages</a>, <a class="el" href="obd_8h_source.html#l00190">client_obd::cl_dirty_pages</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="list_8h_source.html#l00125">list_del_init()</a>, <a class="el" href="list_8h_source.html#l00242">list_entry</a>, <a class="el" href="list_8h_source.html#l00266">list_for_each_safe</a>, <a class="el" href="class__obd_8c_source.html#l00081">obd_dirty_pages</a>, <a class="el" href="class__obd_8c_source.html#l00079">obd_max_dirty_pages</a>, <a class="el" href="osc__internal_8h_source.html#l00090">osc_cache_waiter::ocw_entry</a>, <a class="el" href="osc__internal_8h_source.html#l00093">osc_cache_waiter::ocw_grant</a>, <a class="el" href="osc__internal_8h_source.html#l00092">osc_cache_waiter::ocw_oap</a>, <a class="el" href="osc__internal_8h_source.html#l00094">osc_cache_waiter::ocw_rc</a>, <a class="el" href="osc__internal_8h_source.html#l00091">osc_cache_waiter::ocw_waitq</a>, and <a class="el" href="osc__cache_8c_source.html#l01513">osc_enter_cache_try()</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l01624">brw_interpret()</a>, <a class="el" href="osc__cache_8c_source.html#l01472">osc_free_grant()</a>, and <a class="el" href="osc__cache_8c_source.html#l01449">osc_unreserve_grant()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf06d0e82edd770600f4cae34a9fa9b9f"></a><!-- doxytag: member="osc_cache.c::overlapped" ref="gaf06d0e82edd770600f4cae34a9fa9b9f" args="(struct osc_extent *ex1, struct osc_extent *ex2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int overlapped </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ex1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ex2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00610">610</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00652">osc_extent::oe_end</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00651">osc_extent::oe_start</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00619">osc_extent_find()</a>, and <a class="el" href="osc__cache_8c_source.html#l01885">try_to_add_extent_for_io()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaf7730302276bdecb8ab2974689d481b"></a><!-- doxytag: member="osc_cache.c::prev_extent" ref="gaaf7730302276bdecb8ab2974689d481b" args="(struct osc_extent *ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* prev_extent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00167">167</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_intree</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00599">osc_extent::oe_node</a>, and <a class="el" href="osc__cache_8c_source.html#l00150">rb_extent()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf06db43318fc6b57a09f36766f506222"></a><!-- doxytag: member="osc_cache.c::rb_extent" ref="gaf06db43318fc6b57a09f36766f506222" args="(struct rb_node *n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structosc__extent.html">osc_extent</a>* rb_extent </td>
          <td>(</td>
          <td class="paramtype">struct rb_node *&nbsp;</td>
          <td class="paramname"> <em>n</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00150">150</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="osc__cl__internal_8h_source.html#l00599">osc_extent::oe_node</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00176">first_extent()</a>, <a class="el" href="osc__cache_8c_source.html#l00158">next_extent()</a>, <a class="el" href="osc__cache_8c_source.html#l00428">osc_extent_insert()</a>, <a class="el" href="osc__cache_8c_source.html#l00391">osc_extent_search()</a>, and <a class="el" href="osc__cache_8c_source.html#l00167">prev_extent()</a>.</p>

</div>
</div>
<a class="anchor" id="ga51ec23360ac835eb5c70a0590adb8897"></a><!-- doxytag: member="osc_io.c::trunc_check_cb" ref="ga51ec23360ac835eb5c70a0590adb8897" args="(const struct lu_env *env, struct cl_io *io, struct osc_page *ops, void *cbdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int trunc_check_cb </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cbdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks that there are no pages being written in the extent being truncated. </p>

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00443">443</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="cl__object_8h_source.html#l01005">CL_PAGE_DEBUG</a>, <a class="el" href="cl__object_8h_source.html#l02074">CLP_GANG_OKAY</a>, <a class="el" href="cl__object_8h_source.html#l00722">cl_page::cp_vmpage</a>, <a class="el" href="cl__object_8h_source.html#l00759">cl_page_slice::cpl_page</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="list_8h_source.html#l00161">list_empty()</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="osc__internal_8h_source.html#l00060">osc_async_page::oap_cmd</a>, <a class="el" href="osc__internal_8h_source.html#l00063">osc_async_page::oap_pending_item</a>, <a class="el" href="lustre__idl_8h_source.html#l01748">OBD_BRW_RWMASK</a>, <a class="el" href="lustre__idl_8h_source.html#l01747">OBD_BRW_WRITE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00336">osc_page::ops_oap</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>, and <a class="el" href="rename__many_8c_source.html#l00057">start</a>.</p>

<p>Referenced by <a class="el" href="osc__io_8c_source.html#l00463">osc_trunc_check()</a>.</p>

</div>
</div>
<a class="anchor" id="ga503da63dde2351cb2fb1eb3e5e7e531a"></a><!-- doxytag: member="osc_cache.c::try_to_add_extent_for_io" ref="ga503da63dde2351cb2fb1eb3e5e7e531a" args="(struct client_obd *cli, struct osc_extent *ext, struct list_head *rpclist, unsigned int *pc, unsigned int *max_pages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int try_to_add_extent_for_io </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclient__obd.html">client_obd</a> *&nbsp;</td>
          <td class="paramname"> <em>cli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td>
          <td class="paramname"> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__head.html">list_head</a> *&nbsp;</td>
          <td class="paramname"> <em>rpclist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>max_pages</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try to add extent to one RPC. </p>
<p>We need to think about the following things:</p>
<ul>
<li># of pages must not be over max_pages_per_rpc</li>
<li>extent must be compatible with previous ones </li>
</ul>

<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l01885">1885</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00134">D_CACHE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00146">D_ERROR</a>, <a class="el" href="osc__cache_8c_source.html#l00148">EASSERT</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="list_8h_source.html#l00459">list_for_each_entry</a>, <a class="el" href="list_8h_source.html#l00150">list_move_tail()</a>, <a class="el" href="lnet_2utils_2debug_8c_source.html#l00068">max</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00535">oap2cl_page()</a>, <a class="el" href="osc__internal_8h_source.html#l00063">osc_async_page::oap_pending_item</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00638">osc_extent::oe_grants</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00607">osc_extent::oe_link</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00667">osc_extent::oe_mppr</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_no_merge</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00640">osc_extent::oe_nr_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00662">osc_extent::oe_owner</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00642">osc_extent::oe_pages</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00611">osc_extent::oe_srvlock</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00609">osc_extent::oe_state</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00574">OES_CACHE</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00576">OES_LOCK_DONE</a>, <a class="el" href="osc__cache_8c_source.html#l00110">OSC_EXTENT_DUMP</a>, <a class="el" href="osc__cache_8c_source.html#l00610">overlapped()</a>, and <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l01948">get_write_extents()</a>, and <a class="el" href="osc__cache_8c_source.html#l02086">osc_send_read_rpc()</a>.</p>

</div>
</div>
<a class="anchor" id="gac60d62f7347eaa5a22e9de266175e6f0"></a><!-- doxytag: member="osc_page.c::unstable_page_accounting" ref="gac60d62f7347eaa5a22e9de266175e6f0" args="(struct ptlrpc_bulk_desc *desc, int factor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void unstable_page_accounting </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptlrpc__bulk__desc.html">ptlrpc_bulk_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>factor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Atomic operations are expensive. </p>
<p>We accumulate the accounting for the same page zone to get better performance. In practice this can work pretty good because the pages in the same RPC are likely from the same page zone. </p>

<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00990">990</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

<p>References <a class="el" href="lustre__net_8h_source.html#l01485">BD_GET_KIOV</a>, <a class="el" href="lustre__net_8h_source.html#l01453">ptlrpc_bulk_desc::bd_iov_count</a>, <a class="el" href="lustre__net_8h_source.html#l01442">ptlrpc_bulk_desc::bd_type</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs__private_8h_source.html#l00309">likely</a>, and <a class="el" href="lustre__net_8h_source.html#l01375">ptlrpc_is_bulk_desc_kiov()</a>.</p>

<p>Referenced by <a class="el" href="osc__page_8c_source.html#l01020">add_unstable_page_accounting()</a>, and <a class="el" href="osc__page_8c_source.html#l01025">dec_unstable_page_accounting()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b7c17bc704a969f4148b6735fb9d7dc"></a><!-- doxytag: member="osc_lock.c::weigh_cb" ref="ga3b7c17bc704a969f4148b6735fb9d7dc" args="(const struct lu_env *env, struct cl_io *io, struct osc_page *ops, void *cbdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int weigh_cb </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlu__env.html">lu_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcl__io.html">cl_io</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structosc__page.html">osc_page</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cbdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00644">644</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>References <a class="el" href="cl__page_8c_source.html#l00821">cl_page_is_vmlocked()</a>, <a class="el" href="cl__object_8h_source.html#l02077">CLP_GANG_ABORT</a>, <a class="el" href="cl__object_8h_source.html#l02074">CLP_GANG_OKAY</a>, <a class="el" href="cl__object_8h_source.html#l00722">cl_page::cp_vmpage</a>, <a class="el" href="cl__object_8h_source.html#l00759">cl_page_slice::cpl_page</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00332">osc_page::ops_cl</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00530">osc_index()</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00658">osc_lock_weight()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ga8eacd9647843b915dfc257528333c988"></a><!-- doxytag: member="osc_cache.c::oes_strings" ref="ga8eacd9647843b915dfc257528333c988" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="group__osc.html#ga8eacd9647843b915dfc257528333c988">oes_strings</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        <span class="stringliteral">&quot;inv&quot;</span>, <span class="stringliteral">&quot;active&quot;</span>, <span class="stringliteral">&quot;cache&quot;</span>, <span class="stringliteral">&quot;locking&quot;</span>, <span class="stringliteral">&quot;lockdone&quot;</span>, <span class="stringliteral">&quot;rpc&quot;</span>, <span class="stringliteral">&quot;trunc&quot;</span>, NULL }
</pre></div>
<p>Definition at line <a class="el" href="osc__cache_8c_source.html#l00107">107</a> of file <a class="el" href="osc__cache_8c_source.html">osc_cache.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac38b7ef212655bdc25df953d7917a0dc"></a><!-- doxytag: member="osc_dev.c::osc_caches" ref="gac38b7ef212655bdc25df953d7917a0dc" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__kmem__descr.html">lu_kmem_descr</a> <a class="el" href="group__osc.html#gac38b7ef212655bdc25df953d7917a0dc">osc_caches</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00059">59</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__request_8c_source.html#l03024">osc_exit()</a>, and <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga40d14c8c546010ba5c116bc0ee4fa598"></a><!-- doxytag: member="osc_dev.c::osc_device_type" ref="ga40d14c8c546010ba5c116bc0ee4fa598" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__type.html">lu_device_type</a> <a class="el" href="group__osc.html#ga40d14c8c546010ba5c116bc0ee4fa598">osc_device_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ldt_tags     = <a class="code" href="group__lu.html#ggaa318f5b20c40de1d564f59dd72726345a6950d6daf539cb6aa3902679e6232783" title="data device in the client stack">LU_DEVICE_CL</a>,
        .ldt_name     = <a class="code" href="obd_8h.html#a2ae5b0d66c37e995d787f3ed67a050c0">LUSTRE_OSC_NAME</a>,
        .ldt_ops      = &amp;<a class="code" href="group__osc.html#ga0399ea34a79a01fa66d660aceac713fb">osc_device_type_ops</a>,
        .ldt_ctx_tags = <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa40dab32b35c819b558399c29e75bd57d" title="Thread on client.">LCT_CL_THREAD</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00243">243</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00472">lu2osc_dev()</a>, <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00467">osc_is_object()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00561">osc_lock_at()</a>.</p>

</div>
</div>
<a class="anchor" id="ga40d14c8c546010ba5c116bc0ee4fa598"></a><!-- doxytag: member="osc_cl_internal.h::osc_device_type" ref="ga40d14c8c546010ba5c116bc0ee4fa598" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__type.html">lu_device_type</a> <a class="el" href="group__osc.html#ga40d14c8c546010ba5c116bc0ee4fa598">osc_device_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00243">243</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00472">lu2osc_dev()</a>, <a class="el" href="osc__request_8c_source.html#l02960">osc_init()</a>, <a class="el" href="osc__cl__internal_8h_source.html#l00467">osc_is_object()</a>, and <a class="el" href="osc__cl__internal_8h_source.html#l00561">osc_lock_at()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0399ea34a79a01fa66d660aceac713fb"></a><!-- doxytag: member="osc_dev.c::osc_device_type_ops" ref="ga0399ea34a79a01fa66d660aceac713fb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__type__operations.html">lu_device_type_operations</a> <a class="el" href="group__osc.html#ga0399ea34a79a01fa66d660aceac713fb">osc_device_type_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ldto_init = osc_type_init,
        .ldto_fini = osc_type_fini,

        .ldto_start = osc_type_start,
        .ldto_stop  = osc_type_stop,

        .ldto_device_alloc = <a class="code" href="group__osc.html#ga482d0e89818c62ca39a8971061d90aec">osc_device_alloc</a>,
        .ldto_device_free  = <a class="code" href="group__osc.html#ga7a4aff8813d0e11f962fe7750fea8a40">osc_device_free</a>,

        .ldto_device_init    = <a class="code" href="group__osc.html#ga00c99092b358b84c86404dbda544ac38">osc_device_init</a>,
        .ldto_device_fini    = <a class="code" href="group__osc.html#gadb884f12e918374792cbb55afd775ca9">osc_device_fini</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00229">229</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaecbde970d2c1b138493f82a192098c84"></a><!-- doxytag: member="osc_dev.c::osc_extent_kmem" ref="gaecbde970d2c1b138493f82a192098c84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#gaecbde970d2c1b138493f82a192098c84">osc_extent_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00056">56</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00321">osc_extent_alloc()</a>, and <a class="el" href="osc__cache_8c_source.html#l00343">osc_extent_free()</a>.</p>

</div>
</div>
<a class="anchor" id="gaecbde970d2c1b138493f82a192098c84"></a><!-- doxytag: member="osc_cl_internal.h::osc_extent_kmem" ref="gaecbde970d2c1b138493f82a192098c84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#gaecbde970d2c1b138493f82a192098c84">osc_extent_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00056">56</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cache_8c_source.html#l00321">osc_extent_alloc()</a>, and <a class="el" href="osc__cache_8c_source.html#l00343">osc_extent_free()</a>.</p>

</div>
</div>
<a class="anchor" id="gaba5022d32fa0781e569372cb86ef93ff"></a><!-- doxytag: member="osc_io.c::osc_io_ops" ref="gaba5022d32fa0781e569372cb86ef93ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcl__io__operations.html">cl_io_operations</a> <a class="el" href="group__osc.html#gaba5022d32fa0781e569372cb86ef93ff">osc_io_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__io_8c_source.html#l00924">924</a> of file <a class="el" href="osc__io_8c_source.html">osc_io.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadaf1b8cc09a172dcf2739a03e5b0fa44"></a><!-- doxytag: member="osc_dev.c::osc_key" ref="gadaf1b8cc09a172dcf2739a03e5b0fa44" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> <a class="el" href="group__osc.html#gadaf1b8cc09a172dcf2739a03e5b0fa44">osc_key</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .lct_tags = <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa40dab32b35c819b558399c29e75bd57d" title="Thread on client.">LCT_CL_THREAD</a>,
        .lct_init = <a class="code" href="group__osc.html#ga14aa3ba819e05463c5e65bd31fbf17f3">osc_key_init</a>,
        .lct_fini = <a class="code" href="group__osc.html#ga8d344ea4e3d094aa259635b2859578ad">osc_key_fini</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00132">132</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>.</p>

</div>
</div>
<a class="anchor" id="gadaf1b8cc09a172dcf2739a03e5b0fa44"></a><!-- doxytag: member="osc_cl_internal.h::osc_key" ref="gadaf1b8cc09a172dcf2739a03e5b0fa44" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> <a class="el" href="group__osc.html#gadaf1b8cc09a172dcf2739a03e5b0fa44">osc_key</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00132">132</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00444">osc_env_info()</a>.</p>

</div>
</div>
<a class="anchor" id="gab64712a972a010e480fe937ff1382a55"></a><!-- doxytag: member="osc_dev.c::osc_lock_kmem" ref="gab64712a972a010e480fe937ff1382a55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#gab64712a972a010e480fe937ff1382a55">osc_lock_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00052">52</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00141">osc_lock_fini()</a>, and <a class="el" href="osc__lock_8c_source.html#l01162">osc_lock_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gab64712a972a010e480fe937ff1382a55"></a><!-- doxytag: member="osc_cl_internal.h::osc_lock_kmem" ref="gab64712a972a010e480fe937ff1382a55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#gab64712a972a010e480fe937ff1382a55">osc_lock_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00052">52</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00141">osc_lock_fini()</a>, and <a class="el" href="osc__lock_8c_source.html#l01162">osc_lock_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gae177dc16a77b0406ec3645ad1725734d"></a><!-- doxytag: member="osc_lock.c::osc_lock_lockless_ops" ref="gae177dc16a77b0406ec3645ad1725734d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcl__lock__operations.html">cl_lock_operations</a> <a class="el" href="group__osc.html#gae177dc16a77b0406ec3645ad1725734d">osc_lock_lockless_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .clo_fini      = <a class="code" href="group__osc.html#gab6bded0dd5d3b8886cb39393501ee7e3">osc_lock_fini</a>,
        .clo_enqueue   = <a class="code" href="group__osc.html#ga7593097c6dc02fd995d0453038fbecd2" title="Implementation of cl_lock_operations::clo_enqueue() method for osc layer.">osc_lock_enqueue</a>,
        .clo_cancel    = <a class="code" href="group__osc.html#gaf0377559340dde5b6d5c16cfabc67d64">osc_lock_lockless_cancel</a>,
        .clo_print     = <a class="code" href="group__osc.html#ga3448ad07c07772caeab7bc754ce00c9f">osc_lock_print</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00061">61</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00065">osc_lock_is_lockless()</a>, and <a class="el" href="osc__lock_8c_source.html#l00768">osc_lock_to_lockless()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf69bf16bf23d5ce82362b480fcb0a331"></a><!-- doxytag: member="osc_lock.c::osc_lock_ops" ref="gaf69bf16bf23d5ce82362b480fcb0a331" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcl__lock__operations.html">cl_lock_operations</a> <a class="el" href="group__osc.html#gaf69bf16bf23d5ce82362b480fcb0a331">osc_lock_ops</a><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .clo_fini    = <a class="code" href="group__osc.html#gab6bded0dd5d3b8886cb39393501ee7e3">osc_lock_fini</a>,
        .clo_enqueue = <a class="code" href="group__osc.html#ga7593097c6dc02fd995d0453038fbecd2" title="Implementation of cl_lock_operations::clo_enqueue() method for osc layer.">osc_lock_enqueue</a>,
        .clo_cancel  = <a class="code" href="group__osc.html#gacc121e00f4060228eda6e7504a4cc1d0" title="Implements cl_lock_operations::clo_cancel() method for osc layer.">osc_lock_cancel</a>,
        .clo_print   = <a class="code" href="group__osc.html#ga3448ad07c07772caeab7bc754ce00c9f">osc_lock_print</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="osc__lock_8c_source.html#l00060">60</a> of file <a class="el" href="osc__lock_8c_source.html">osc_lock.c</a>.</p>

<p>Referenced by <a class="el" href="osc__lock_8c_source.html#l00302">osc_lock_upcall()</a>.</p>

</div>
</div>
<a class="anchor" id="gab79f2a1943abc333ea2cfc2a594e4d4d"></a><!-- doxytag: member="osc_object.c::osc_lu_obj_ops" ref="gab79f2a1943abc333ea2cfc2a594e4d4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__object__operations.html">lu_object_operations</a> <a class="el" href="group__osc.html#gab79f2a1943abc333ea2cfc2a594e4d4d">osc_lu_obj_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .loo_object_init      = <a class="code" href="group__osc.html#gae232d1c674c92569cb4b8157fc4d8714">osc_object_init</a>,
        .loo_object_release   = NULL,
        .loo_object_free      = <a class="code" href="group__osc.html#ga1f4b92f7b7768a6aa398ac041fab00f4">osc_object_free</a>,
        .loo_object_print     = <a class="code" href="group__osc.html#gad7e520c11b8db08e478bd09fc0a86d6b">osc_object_print</a>,
        .loo_object_invariant = NULL
}
</pre></div>
<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00431">431</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga063e82361651c9b268400a3cc9197087"></a><!-- doxytag: member="osc_dev.c::osc_lu_ops" ref="ga063e82361651c9b268400a3cc9197087" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__device__operations.html">lu_device_operations</a> <a class="el" href="group__osc.html#ga063e82361651c9b268400a3cc9197087">osc_lu_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .ldo_object_alloc      = <a class="code" href="group__osc.html#gad941e20e17432e49a26fb19daf01d110">osc_object_alloc</a>,
        .ldo_process_config    = <a class="code" href="group__osc.html#gac5d45cad463d497f4b417bf796006c26">osc_cl_process_config</a>,
        .ldo_recovery_complete = NULL
}
</pre></div>
<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00172">172</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__dev_8c_source.html#l00200">osc_device_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3eb040878c1bcbe41439a52e81ac568c"></a><!-- doxytag: member="osc_dev.c::osc_object_kmem" ref="ga3eb040878c1bcbe41439a52e81ac568c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#ga3eb040878c1bcbe41439a52e81ac568c">osc_object_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00053">53</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__object_8c_source.html#l00439">osc_object_alloc()</a>, and <a class="el" href="osc__object_8c_source.html#l00108">osc_object_free()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3eb040878c1bcbe41439a52e81ac568c"></a><!-- doxytag: member="osc_cl_internal.h::osc_object_kmem" ref="ga3eb040878c1bcbe41439a52e81ac568c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#ga3eb040878c1bcbe41439a52e81ac568c">osc_object_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00053">53</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__object_8c_source.html#l00439">osc_object_alloc()</a>, and <a class="el" href="osc__object_8c_source.html#l00108">osc_object_free()</a>.</p>

</div>
</div>
<a class="anchor" id="gae0e0353b169e0232f0baa16cf095f033"></a><!-- doxytag: member="osc_object.c::osc_ops" ref="gae0e0353b169e0232f0baa16cf095f033" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcl__object__operations.html">cl_object_operations</a> <a class="el" href="group__osc.html#gae0e0353b169e0232f0baa16cf095f033">osc_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .coo_page_init    = <a class="code" href="group__osc.html#ga633c62b020126f225e1b0df1dc284251">osc_page_init</a>,
        .coo_lock_init    = <a class="code" href="group__osc.html#gabd5ab860e2021ff6b4cd161a7392744a">osc_lock_init</a>,
        .coo_io_init      = <a class="code" href="group__osc.html#ga718b431e8195226a8bd635c9b0c3ed83">osc_io_init</a>,
        .coo_attr_get     = <a class="code" href="group__osc.html#ga6915838d1883383d72099042222c8611">osc_attr_get</a>,
        .coo_attr_update  = <a class="code" href="group__osc.html#ga753a3fd5a143734ba7146395a9e8854c">osc_attr_update</a>,
        .coo_glimpse      = <a class="code" href="group__osc.html#gaca46a87549c448a3ae45c55c08f92eaf">osc_object_glimpse</a>,
        .coo_prune        = <a class="code" href="group__osc.html#gab595ff48fd2bcc21f1160140c3ea2c72">osc_object_prune</a>,
        .coo_fiemap       = <a class="code" href="group__osc.html#ga6bcfff8e5230b18b5624730cbd31d3a4">osc_object_fiemap</a>,
        .coo_req_attr_set = <a class="code" href="group__osc.html#ga012555c4e3901b02d2c59ff975fe1584" title="Implementation of struct cl_object_operations::coo_req_attr_set() for osc layer.">osc_req_attr_set</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osc__object_8c_source.html#l00419">419</a> of file <a class="el" href="osc__object_8c_source.html">osc_object.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa294766b9587b701f2a57f07f8236c94"></a><!-- doxytag: member="osc_page.c::osc_page_ops" ref="gaa294766b9587b701f2a57f07f8236c94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcl__page__operations.html">cl_page_operations</a> <a class="el" href="group__osc.html#gaa294766b9587b701f2a57f07f8236c94">osc_page_ops</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .cpo_print         = <a class="code" href="group__osc.html#ga588f41464fa8615c958a1691612f7579">osc_page_print</a>,
        .cpo_delete        = <a class="code" href="group__osc.html#ga44b16168cf595ce24f67e0ff359f7a2d">osc_page_delete</a>,
        .cpo_clip           = <a class="code" href="group__osc.html#ga7ae4ea444477a2b8d430ca6b2581a20d">osc_page_clip</a>,
        .cpo_cancel         = <a class="code" href="group__osc.html#ga5bcdf3c9bd3b0482012b4554a08c901d">osc_page_cancel</a>,
        .cpo_flush          = <a class="code" href="group__osc.html#ga6beb7ac39754304f2c126c8f1efdbf8c">osc_page_flush</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osc__page_8c_source.html#l00372">372</a> of file <a class="el" href="osc__page_8c_source.html">osc_page.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga70b280b4f8aa627b91e8b1ba485c9e6c"></a><!-- doxytag: member="osc_dev.c::osc_quota_kmem" ref="ga70b280b4f8aa627b91e8b1ba485c9e6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#ga70b280b4f8aa627b91e8b1ba485c9e6c">osc_quota_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00057">57</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__quota_8c_source.html#l00184">oqi_exit()</a>, <a class="el" href="osc__quota_8c_source.html#l00034">osc_oqi_alloc()</a>, and <a class="el" href="osc__quota_8c_source.html#l00074">osc_quota_setdq()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2fdc1e11d4fac80fc5f4ea7daac25f5b"></a><!-- doxytag: member="osc_dev.c::osc_session_key" ref="ga2fdc1e11d4fac80fc5f4ea7daac25f5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> <a class="el" href="group__osc.html#ga2fdc1e11d4fac80fc5f4ea7daac25f5b">osc_session_key</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .lct_tags = <a class="code" href="group__lu.html#ggad7e2d14b1b91480b0b25656f63169a0aa76aa3f8e745622ced47e2687d27c4b84" title="A per-request session on a server, and a per-system-call session on a client.">LCT_SESSION</a>,
        .lct_init = <a class="code" href="group__osc.html#ga05d5cb27a664d73203b07f7911f5c022">osc_session_init</a>,
        .lct_fini = <a class="code" href="group__osc.html#gacf96398106ef396fa4a274a078b943c8">osc_session_fini</a>
}
</pre></div>
<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00156">156</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00453">osc_env_session()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2fdc1e11d4fac80fc5f4ea7daac25f5b"></a><!-- doxytag: member="osc_cl_internal.h::osc_session_key" ref="ga2fdc1e11d4fac80fc5f4ea7daac25f5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlu__context__key.html">lu_context_key</a> <a class="el" href="group__osc.html#ga2fdc1e11d4fac80fc5f4ea7daac25f5b">osc_session_key</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00156">156</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__cl__internal_8h_source.html#l00453">osc_env_session()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7e9be433a17470fa98b0ef4f3c7df031"></a><!-- doxytag: member="osc_dev.c::osc_session_kmem" ref="ga7e9be433a17470fa98b0ef4f3c7df031" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#ga7e9be433a17470fa98b0ef4f3c7df031">osc_session_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00055">55</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__dev_8c_source.html#l00149">osc_session_fini()</a>, and <a class="el" href="osc__dev_8c_source.html#l00138">osc_session_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7e9be433a17470fa98b0ef4f3c7df031"></a><!-- doxytag: member="osc_cl_internal.h::osc_session_kmem" ref="ga7e9be433a17470fa98b0ef4f3c7df031" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#ga7e9be433a17470fa98b0ef4f3c7df031">osc_session_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00055">55</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__dev_8c_source.html#l00149">osc_session_fini()</a>, and <a class="el" href="osc__dev_8c_source.html#l00138">osc_session_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0ba94effca81566bb47feac75c05f552"></a><!-- doxytag: member="osc_dev.c::osc_thread_kmem" ref="ga0ba94effca81566bb47feac75c05f552" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#ga0ba94effca81566bb47feac75c05f552">osc_thread_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00054">54</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__dev_8c_source.html#l00123">osc_key_fini()</a>, and <a class="el" href="osc__dev_8c_source.html#l00112">osc_key_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0ba94effca81566bb47feac75c05f552"></a><!-- doxytag: member="osc_cl_internal.h::osc_thread_kmem" ref="ga0ba94effca81566bb47feac75c05f552" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* <a class="el" href="group__osc.html#ga0ba94effca81566bb47feac75c05f552">osc_thread_kmem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="osc__dev_8c_source.html#l00054">54</a> of file <a class="el" href="osc__dev_8c_source.html">osc_dev.c</a>.</p>

<p>Referenced by <a class="el" href="osc__dev_8c_source.html#l00123">osc_key_fini()</a>, and <a class="el" href="osc__dev_8c_source.html#l00112">osc_key_init()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:52 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
