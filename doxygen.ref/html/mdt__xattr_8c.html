<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lustre/mdt/mdt_xattr.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lustre/mdt/mdt_xattr.c File Reference</h1><code>#include &lt;linux/xattr.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="obd__class_8h_source.html">obd_class.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__nodemap_8h_source.html">lustre_nodemap.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lustre__acl_8h_source.html">lustre_acl.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="mdt__internal_8h_source.html">mdt_internal.h</a>&quot;</code><br/>

<p><a href="mdt__xattr_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__xattr_8c.html#abda60744d497fcfe370cfd6b2d65c7ed">DEBUG_SUBSYSTEM</a>&nbsp;&nbsp;&nbsp;S_MDS</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__xattr_8c.html#a321ef1c4a1e029eae72268acb2e78eab">mdt_getxattr_pack_reply</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__xattr_8c.html#a88c135add8f06740cc3b570ec546d102">mdt_getxattr_one</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, char *xattr_name, struct <a class="el" href="structmd__object.html">md_object</a> *next, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, struct <a class="el" href="structmdt__export__data.html">mdt_export_data</a> *med, struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *uc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__xattr_8c.html#a047d07bb87454a388d69ead78a455e59">mdt_getxattr_all</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__body.html">mdt_body</a> *reqbody, struct <a class="el" href="structmdt__body.html">mdt_body</a> *repbody, struct <a class="el" href="structlu__buf.html">lu_buf</a> *<a class="el" href="lnet_2utils_2debug_8c.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, struct <a class="el" href="structmd__object.html">md_object</a> *next)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__xattr_8c.html#ab192cb2c8527a2b4e21db9b76bd77a11">mdt_getxattr</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__xattr_8c.html#a6396feb4fbe5c5284c3ee8187d9e0cf5">mdt_rmtlsetfacl</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmd__object.html">md_object</a> *next, const char *xattr_name, ext_acl_xattr_header *<a class="el" href="it__test_8c.html#a65579ed4f1bdcc045f97e6ccee22e9a9">header</a>, <a class="el" href="structposix__acl__xattr__header.html">posix_acl_xattr_header</a> **out)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mdt__xattr_8c.html#abaf8b70a386a123a798bdc1bd3192f26">mdt_reint_setxattr</a> (struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *info, struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *unused)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abda60744d497fcfe370cfd6b2d65c7ed"></a><!-- doxytag: member="mdt_xattr.c::DEBUG_SUBSYSTEM" ref="abda60744d497fcfe370cfd6b2d65c7ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SUBSYSTEM&nbsp;&nbsp;&nbsp;S_MDS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__xattr_8c_source.html#l00046">46</a> of file <a class="el" href="mdt__xattr_8c_source.html">mdt_xattr.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ab192cb2c8527a2b4e21db9b76bd77a11"></a><!-- doxytag: member="mdt_xattr.c::mdt_getxattr" ref="ab192cb2c8527a2b4e21db9b76bd77a11" args="(struct mdt_thread_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_getxattr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__xattr_8c_source.html#l00227">227</a> of file <a class="el" href="mdt__xattr_8c_source.html">mdt_xattr.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idl_8h_source.html#l02239">CFS_RMTACL_PERM</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00342">exp_connect_rmtclient()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="libcfs__private_8h_source.html#l00281">LBUG</a>, <a class="el" href="mdt__internal_8h_source.html#l01020">LPROC_MDT_GETXATTR</a>, <a class="el" href="lu__object_8h_source.html#l00847">lu_object_assert_exists()</a>, <a class="el" href="lu__ucred_8c_source.html#l00065">lu_ucred()</a>, <a class="el" href="md__object_8h_source.html#l00102">MAY_RGETFACL</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02189">mdt_body::mbo_fid1</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="mdt__lproc_8c_source.html#l00929">mdt_counter_incr()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__xattr_8c_source.html#l00161">mdt_getxattr_all()</a>, <a class="el" href="mdt__xattr_8c_source.html#l00121">mdt_getxattr_one()</a>, <a class="el" href="mdt__xattr_8c_source.html#l00056">mdt_getxattr_pack_reply()</a>, <a class="el" href="mdt__identity_8c_source.html#l00248">mdt_identity_get_perm()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__lib_8c_source.html#l00596">mdt_init_ucred()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__internal_8h_source.html#l00909">mdt_req2med()</a>, <a class="el" href="md__object_8h_source.html#l00328">mo_permission()</a>, <a class="el" href="md__object_8h_source.html#l00397">mo_xattr_list()</a>, <a class="el" href="mdt__internal_8h_source.html#l00237">mdt_object::mot_obj</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00418">mdt_thread_info::mti_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, <a class="el" href="lustre__idl_8h_source.html#l01712">OBD_MD_FLRMTRGETFACL</a>, <a class="el" href="lustre__idl_8h_source.html#l01694">OBD_MD_FLXATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01726">OBD_MD_FLXATTRALL</a>, <a class="el" href="lustre__idl_8h_source.html#l01695">OBD_MD_FLXATTRLS</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l00938">RMF_MDT_BODY</a>, <a class="el" href="layout_8c_source.html#l00978">RMF_NAME</a>, <a class="el" href="lustre__net_8h_source.html#l01108">ptlrpc_request::rq_peer</a>, <a class="el" href="md__object_8h_source.html#l00597">lu_ucred::uc_identity</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__handler_8c_source.html#l03259">mdt_intent_getxattr()</a>, and <a class="el" href="mdt__handler_8c_source.html#l04329">mdt_tgt_getxattr()</a>.</p>

</div>
</div>
<a class="anchor" id="a047d07bb87454a388d69ead78a455e59"></a><!-- doxytag: member="mdt_xattr.c::mdt_getxattr_all" ref="a047d07bb87454a388d69ead78a455e59" args="(struct mdt_thread_info *info, struct mdt_body *reqbody, struct mdt_body *repbody, struct lu_buf *buf, struct md_object *next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_getxattr_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__body.html">mdt_body</a> *&nbsp;</td>
          <td class="paramname"> <em>reqbody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__body.html">mdt_body</a> *&nbsp;</td>
          <td class="paramname"> <em>repbody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>next</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__xattr_8c_source.html#l00161">161</a> of file <a class="el" href="mdt__xattr_8c_source.html">mdt_xattr.c</a>.</p>

<p>References <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lustre__idl_8h_source.html#l02214">mdt_body::mbo_aclsize</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02215">mdt_body::mbo_max_mdsize</a>, <a class="el" href="mdt__xattr_8c_source.html#l00121">mdt_getxattr_one()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00909">mdt_req2med()</a>, <a class="el" href="mdt__handler_8c_source.html#l06063">mdt_ucred()</a>, <a class="el" href="md__object_8h_source.html#l00397">mo_xattr_list()</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02158">req_capsule_server_get()</a>, <a class="el" href="layout_8c_source.html#l02416">req_capsule_shrink()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01072">RMF_EAVALS</a>, and <a class="el" href="layout_8c_source.html#l01126">RMF_EAVALS_LENS</a>.</p>

<p>Referenced by <a class="el" href="mdt__xattr_8c_source.html#l00227">mdt_getxattr()</a>.</p>

</div>
</div>
<a class="anchor" id="a88c135add8f06740cc3b570ec546d102"></a><!-- doxytag: member="mdt_xattr.c::mdt_getxattr_one" ref="a88c135add8f06740cc3b570ec546d102" args="(struct mdt_thread_info *info, char *xattr_name, struct md_object *next, struct lu_buf *buf, struct mdt_export_data *med, struct lu_ucred *uc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_getxattr_one </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>xattr_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__buf.html">lu_buf</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__export__data.html">mdt_export_data</a> *&nbsp;</td>
          <td class="paramname"> <em>med</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlu__ucred.html">lu_ucred</a> *&nbsp;</td>
          <td class="paramname"> <em>uc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__xattr_8c_source.html#l00121">121</a> of file <a class="el" href="mdt__xattr_8c_source.html">mdt_xattr.c</a>.</p>

<p>References <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="lustre__idmap_8h_source.html#l00059">CFS_IC_ALL</a>, <a class="el" href="lustre__idmap_8h_source.html#l00060">CFS_IC_MAPPED</a>, <a class="el" href="lustre__idmap_8h_source.html#l00058">CFS_IC_NOTHING</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00342">exp_connect_rmtclient()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="lustre__export_8h_source.html#l00098">mdt_export_data::med_idmap</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="lustre__idl_8h_source.html#l01710">OBD_MD_FLRMTLGETFACL</a>, <a class="el" href="lustre__idl_8h_source.html#l01709">OBD_MD_FLRMTLSETFACL</a>, <a class="el" href="lustre__idl_8h_source.html#l01712">OBD_MD_FLRMTRGETFACL</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__xattr_8c_source.html#l00227">mdt_getxattr()</a>, and <a class="el" href="mdt__xattr_8c_source.html#l00161">mdt_getxattr_all()</a>.</p>

</div>
</div>
<a class="anchor" id="a321ef1c4a1e029eae72268acb2e78eab"></a><!-- doxytag: member="mdt_xattr.c::mdt_getxattr_pack_reply" ref="a321ef1c4a1e029eae72268acb2e78eab" args="(struct mdt_thread_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_getxattr_pack_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__xattr_8c_source.html#l00056">56</a> of file <a class="el" href="mdt__xattr_8c_source.html">mdt_xattr.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="utils_2wirehdr_8c_source.html#l00044">LASSERT</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lu__object_8c_source.html#l02333">LU_BUF_NULL</a>, <a class="el" href="lustre__idl_8h_source.html#l02213">mdt_body::mbo_eadatasize</a>, <a class="el" href="lustre__idl_8h_source.html#l02192">mdt_body::mbo_valid</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="md__object_8h_source.html#l00397">mo_xattr_list()</a>, <a class="el" href="mdt__internal_8h_source.html#l00351">mdt_thread_info::mti_body</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00355">mdt_thread_info::mti_object</a>, <a class="el" href="mdt__internal_8h_source.html#l00320">mdt_thread_info::mti_pill</a>, <a class="el" href="lustre__idl_8h_source.html#l01187">OBD_CONNECT_XATTR</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00208">OBD_FAIL_MDS_GETXATTR_PACK</a>, <a class="el" href="lustre__idl_8h_source.html#l01694">OBD_MD_FLXATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01726">OBD_MD_FLXATTRALL</a>, <a class="el" href="lustre__idl_8h_source.html#l01695">OBD_MD_FLXATTRLS</a>, <a class="el" href="lustre__req__layout_8h_source.html#l00059">RCL_SERVER</a>, <a class="el" href="layout_8c_source.html#l02117">req_capsule_client_get()</a>, <a class="el" href="layout_8c_source.html#l01868">req_capsule_server_pack()</a>, <a class="el" href="layout_8c_source.html#l02226">req_capsule_set_size()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="layout_8c_source.html#l01068">RMF_EADATA</a>, <a class="el" href="layout_8c_source.html#l01072">RMF_EAVALS</a>, <a class="el" href="layout_8c_source.html#l01126">RMF_EAVALS_LENS</a>, <a class="el" href="layout_8c_source.html#l00978">RMF_NAME</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, and <a class="el" href="cascading__rw_8c_source.html#l00061">size</a>.</p>

<p>Referenced by <a class="el" href="mdt__xattr_8c_source.html#l00227">mdt_getxattr()</a>.</p>

</div>
</div>
<a class="anchor" id="abaf8b70a386a123a798bdc1bd3192f26"></a><!-- doxytag: member="mdt_xattr.c::mdt_reint_setxattr" ref="abaf8b70a386a123a798bdc1bd3192f26" args="(struct mdt_thread_info *info, struct mdt_lock_handle *unused)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdt_reint_setxattr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmdt__lock__handle.html">mdt_lock_handle</a> *&nbsp;</td>
          <td class="paramname"> <em>unused</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__xattr_8c_source.html#l00363">363</a> of file <a class="el" href="mdt__xattr_8c_source.html">mdt_xattr.c</a>.</p>

<p>References <a class="el" href="uapi__kernelcomm_8h.html#adc2adfee3162ec44eb82da5f869a806c">__u64</a>, <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00259">CDEBUG</a>, <a class="el" href="curproc_8h_source.html#l00118">CFS_CAP_SYS_ADMIN</a>, <a class="el" href="lustre__idl_8h_source.html#l02239">CFS_RMTACL_PERM</a>, <a class="el" href="linux-time_8h_source.html#l00157">cfs_time_current_sec()</a>, <a class="el" href="libcfs__debug_8h_source.html#l00277">CWARN</a>, <a class="el" href="libcfs__debug_8h_source.html#l00135">D_INFO</a>, <a class="el" href="libcfs__debug_8h_source.html#l00130">D_INODE</a>, <a class="el" href="lustre__user_8h_source.html#l00548">DFID</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="lu__target_8h_source.html#l00498">err_serious()</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="lustre__export_8h_source.html#l00304">exp_connect_flags()</a>, <a class="el" href="lustre__export_8h_source.html#l00342">exp_connect_rmtclient()</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l00446">LA_CTIME</a>, <a class="el" href="lu__object_8h_source.html#l00415">lu_attr::la_ctime</a>, <a class="el" href="lu__object_8h_source.html#l00425">lu_attr::la_flags</a>, <a class="el" href="lu__object_8h_source.html#l00439">lu_attr::la_valid</a>, <a class="el" href="lustre__import_8h_source.html#l00074">LATF_SKIP</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="packet-lustre_8c_source.html#l00291">LCK_EX</a>, <a class="el" href="lu__object_8h_source.html#l01297">lu_name::ln_name</a>, <a class="el" href="mdt__internal_8h_source.html#l01021">LPROC_MDT_SETXATTR</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00045">LPU64</a>, <a class="el" href="libcfs_2include_2libcfs_2types_8h_source.html#l00047">LPX64</a>, <a class="el" href="lu__ucred_8c_source.html#l00065">lu_ucred()</a>, <a class="el" href="lu__object_8h_source.html#l00910">LU_XATTR_CREATE</a>, <a class="el" href="lu__object_8h_source.html#l00909">LU_XATTR_REPLACE</a>, <a class="el" href="lustre__acl_8h_source.html#l00055">LUSTRE_POSIX_ACL_MAX_SIZE</a>, <a class="el" href="md__object_8h_source.html#l00119">md_attr::ma_attr</a>, <a class="el" href="md__object_8h_source.html#l00118">md_attr::ma_attr_flags</a>, <a class="el" href="md__object_8h_source.html#l00618">md_capable()</a>, <a class="el" href="lustre__idl_8h_source.html#l02076">MDS_INODELOCK_LOOKUP</a>, <a class="el" href="lustre__idl_8h_source.html#l02092">MDS_INODELOCK_PERM</a>, <a class="el" href="lustre__idl_8h_source.html#l02079">MDS_INODELOCK_UPDATE</a>, <a class="el" href="lustre__idl_8h_source.html#l02093">MDS_INODELOCK_XATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l02361">MDS_PERM_BYPASS</a>, <a class="el" href="mdt__internal_8h_source.html#l00168">mdt_device::mdt_bottom</a>, <a class="el" href="mdt__lproc_8c_source.html#l00929">mdt_counter_incr()</a>, <a class="el" href="mdt__lib_8c_source.html#l00065">mdt_exit_ucred()</a>, <a class="el" href="mdt__internal_8h_source.html#l00896">mdt_fail_write()</a>, <a class="el" href="mdt__identity_8c_source.html#l00248">mdt_identity_get_perm()</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__lib_8c_source.html#l00612">mdt_init_ucred_reint()</a>, <a class="el" href="mdt__internal_8h_source.html#l00269">MDT_LH_PARENT</a>, <a class="el" href="mdt__handler_8c_source.html#l00163">mdt_lock_reg_init()</a>, <a class="el" href="mdt__internal_8h_source.html#l01048">mdt_obd_name()</a>, <a class="el" href="mdt__internal_8h_source.html#l00760">mdt_obj2dt()</a>, <a class="el" href="mdt__internal_8h_source.html#l00500">mdt_object_child()</a>, <a class="el" href="mdt__handler_8c_source.html#l02783">mdt_object_find_lock()</a>, <a class="el" href="mdt__handler_8c_source.html#l02803">mdt_object_unlock_put()</a>, <a class="el" href="mdt__xattr_8c_source.html#l00316">mdt_rmtlsetfacl()</a>, <a class="el" href="mdt__handler_8c_source.html#l06063">mdt_ucred()</a>, <a class="el" href="mdt__reint_8c_source.html#l00176">mdt_version_get_check_save()</a>, <a class="el" href="md__object_8h_source.html#l00362">mo_attr_set()</a>, <a class="el" href="md__object_8h_source.html#l00379">mo_xattr_del()</a>, <a class="el" href="md__object_8h_source.html#l00387">mo_xattr_set()</a>, <a class="el" href="mdt__internal_8h_source.html#l00347">mdt_thread_info::mti_attr</a>, <a class="el" href="mdt__internal_8h_source.html#l00418">mdt_thread_info::mti_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00359">mdt_thread_info::mti_dlm_req</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="mdt__internal_8h_source.html#l00324">mdt_thread_info::mti_exp</a>, <a class="el" href="mdt__internal_8h_source.html#l00328">mdt_thread_info::mti_lh</a>, <a class="el" href="mdt__internal_8h_source.html#l00330">mdt_thread_info::mti_mdt</a>, <a class="el" href="mdt__internal_8h_source.html#l00380">mdt_thread_info::mti_rr</a>, <a class="el" href="lnet_2include_2lnet_2types_8h_source.html#l00304">lnet_process_id_t::nid</a>, <a class="el" href="lustre__nodemap_8h_source.html#l00048">NODEMAP_CLIENT_TO_FS</a>, <a class="el" href="nodemap__handler_8c_source.html#l00580">nodemap_map_acl()</a>, <a class="el" href="lustre__idl_8h_source.html#l01187">OBD_CONNECT_XATTR</a>, <a class="el" href="obd__support_8h_source.html#l00619">OBD_FAIL_CHECK</a>, <a class="el" href="obd__support_8h_source.html#l00210">OBD_FAIL_MDS_SETXATTR</a>, <a class="el" href="obd__support_8h_source.html#l00211">OBD_FAIL_MDS_SETXATTR_WRITE</a>, <a class="el" href="lustre__idl_8h_source.html#l01659">OBD_MD_FLCTIME</a>, <a class="el" href="lustre__idl_8h_source.html#l01709">OBD_MD_FLRMTLSETFACL</a>, <a class="el" href="lustre__idl_8h_source.html#l01711">OBD_MD_FLRMTRSETFACL</a>, <a class="el" href="lustre__idl_8h_source.html#l01694">OBD_MD_FLXATTR</a>, <a class="el" href="lustre__idl_8h_source.html#l01696">OBD_MD_FLXATTRRM</a>, <a class="el" href="lustre__user_8h_source.html#l00549">PFID</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, <a class="el" href="lustre__net_8h_source.html#l01102">ptlrpc_request::rq_export</a>, <a class="el" href="lustre__net_8h_source.html#l01108">ptlrpc_request::rq_peer</a>, <a class="el" href="mdt__internal_8h_source.html#l00298">mdt_reint_record::rr_eadata</a>, <a class="el" href="mdt__internal_8h_source.html#l00299">mdt_reint_record::rr_eadatalen</a>, <a class="el" href="mdt__internal_8h_source.html#l00294">mdt_reint_record::rr_fid1</a>, <a class="el" href="mdt__internal_8h_source.html#l00296">mdt_reint_record::rr_name</a>, <a class="el" href="lu__target_8h_source.html#l00245">tgt_vbr_obj_set()</a>, <a class="el" href="md__object_8h_source.html#l00597">lu_ucred::uc_identity</a>, <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>, <a class="el" href="lustre__idl_8h_source.html#l01588">XATTR_NAME_ACL_ACCESS</a>, <a class="el" href="lustre__idl_8h_source.html#l01589">XATTR_NAME_ACL_DEFAULT</a>, <a class="el" href="lustre__idl_8h_source.html#l01599">XATTR_NAME_FID</a>, <a class="el" href="lustre__idl_8h_source.html#l01602">XATTR_NAME_HSM</a>, <a class="el" href="lustre__idl_8h_source.html#l01606">XATTR_NAME_LFSCK_NAMESPACE</a>, <a class="el" href="lustre__idl_8h_source.html#l01598">XATTR_NAME_LINK</a>, <a class="el" href="lustre__idl_8h_source.html#l01595">XATTR_NAME_LMA</a>, <a class="el" href="lustre__idl_8h_source.html#l01596">XATTR_NAME_LMV</a>, <a class="el" href="lustre__idl_8h_source.html#l01594">XATTR_NAME_LOV</a>, <a class="el" href="lustre__idl_8h_source.html#l01601">XATTR_NAME_SOM</a>, <a class="el" href="lustre__idl_8h_source.html#l01600">XATTR_NAME_VERSION</a>, <a class="el" href="lustre__idl_8h_source.html#l01591">XATTR_TRUSTED_PREFIX</a>, and <a class="el" href="lustre__idl_8h_source.html#l01590">XATTR_USER_PREFIX</a>.</p>

</div>
</div>
<a class="anchor" id="a6396feb4fbe5c5284c3ee8187d9e0cf5"></a><!-- doxytag: member="mdt_xattr.c::mdt_rmtlsetfacl" ref="a6396feb4fbe5c5284c3ee8187d9e0cf5" args="(struct mdt_thread_info *info, struct md_object *next, const char *xattr_name, ext_acl_xattr_header *header, posix_acl_xattr_header **out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int mdt_rmtlsetfacl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmdt__thread__info.html">mdt_thread_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmd__object.html">md_object</a> *&nbsp;</td>
          <td class="paramname"> <em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>xattr_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ext_acl_xattr_header *&nbsp;</td>
          <td class="paramname"> <em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structposix__acl__xattr__header.html">posix_acl_xattr_header</a> **&nbsp;</td>
          <td class="paramname"> <em>out</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mdt__xattr_8c_source.html#l00316">316</a> of file <a class="el" href="mdt__xattr_8c_source.html">mdt_xattr.c</a>.</p>

<p>References <a class="el" href="parallel__grouplock_8c_source.html#l00078">buf</a>, <a class="el" href="libcfs__debug_8h_source.html#l00278">CERROR</a>, <a class="el" href="flock_8c_source.html#l00061">ENTRY</a>, <a class="el" href="flock_8c_source.html#l00090">EXIT</a>, <a class="el" href="small__write_8c_source.html#l00044">GOTO</a>, <a class="el" href="lu__object_8h_source.html#l01335">lu_buf::lb_buf</a>, <a class="el" href="lu__object_8h_source.html#l01336">lu_buf::lb_len</a>, <a class="el" href="lu__object_8c_source.html#l02333">LU_BUF_NULL</a>, <a class="el" href="mdt__internal_8h_source.html#l00506">mdt_info_req()</a>, <a class="el" href="mdt__internal_8h_source.html#l00909">mdt_req2med()</a>, <a class="el" href="mdt__handler_8c_source.html#l06063">mdt_ucred()</a>, <a class="el" href="lustre__export_8h_source.html#l00098">mdt_export_data::med_idmap</a>, <a class="el" href="md__object_8h_source.html#l00370">mo_xattr_get()</a>, <a class="el" href="mdt__internal_8h_source.html#l00418">mdt_thread_info::mti_buf</a>, <a class="el" href="mdt__internal_8h_source.html#l00331">mdt_thread_info::mti_env</a>, <a class="el" href="obd__support_8h_source.html#l00747">OBD_ALLOC_LARGE</a>, <a class="el" href="obd__support_8h_source.html#l00783">OBD_FREE_LARGE</a>, <a class="el" href="libcfs__debug_8h_source.html#l00352">RETURN</a>, and <a class="el" href="libcfs__private_8h_source.html#l00310">unlikely</a>.</p>

<p>Referenced by <a class="el" href="mdt__xattr_8c_source.html#l00363">mdt_reint_setxattr()</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:54:49 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
