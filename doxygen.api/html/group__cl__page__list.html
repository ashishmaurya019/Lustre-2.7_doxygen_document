<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: cl_page_list</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cl_page_list<br/>
<small>
[<a class="el" href="group__clio.html">clio</a>]</small>
</h1>
<p>Page list used to perform collective operations on a group of pages.  
<a href="#_details">More...</a></p>

<p><div class="dynheader">
Collaboration diagram for cl_page_list:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__cl__page__list.png" border="0" alt="" usemap="#group____cl____page____list_map"/>
<map name="group____cl____page____list_map" id="group____cl____page____list">
<area shape="rect" id="node1" href="group__clio.html" title="Client objects implement io operations and cache pages." alt="" coords="7,5,49,35"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__page__list.html">cl_page_list</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__2queue.html">cl_2queue</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A 2-queue of pages.  <a href="structcl__2queue.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga31a6630a381a5667594d699aa7269794"></a><!-- doxytag: member="cl_page_list::cl_page_list_for_each" ref="ga31a6630a381a5667594d699aa7269794" args="(page, list)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga31a6630a381a5667594d699aa7269794">cl_page_list_for_each</a>(page, list)&nbsp;&nbsp;&nbsp;list_for_each_entry((page), &amp;(list)-&gt;pl_pages, cp_batch)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterate over pages in a page list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae1b447b26c7ca703b2ef0fdfa82ca575"></a><!-- doxytag: member="cl_page_list::cl_page_list_for_each_safe" ref="gae1b447b26c7ca703b2ef0fdfa82ca575" args="(page, temp, list)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gae1b447b26c7ca703b2ef0fdfa82ca575">cl_page_list_for_each_safe</a>(page, temp, list)&nbsp;&nbsp;&nbsp;list_for_each_entry_safe((page), (temp), &amp;(list)-&gt;pl_pages, cp_batch)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterate over pages in a page list, taking possible removals into account. <br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga90ce1bc2aafa623ad024e213a05e00f0"></a><!-- doxytag: member="cl_page_list::cl_page_list_init" ref="ga90ce1bc2aafa623ad024e213a05e00f0" args="(struct cl_page_list *plist)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga90ce1bc2aafa623ad024e213a05e00f0">cl_page_list_init</a> (struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes page list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga78d782095ec6f5d72e432d0ef0b35b3a"></a><!-- doxytag: member="cl_page_list::cl_page_list_add" ref="ga78d782095ec6f5d72e432d0ef0b35b3a" args="(struct cl_page_list *plist, struct cl_page *page)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga78d782095ec6f5d72e432d0ef0b35b3a">cl_page_list_add</a> (struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a page to a page list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac81a19417ea58bb1b38001636f07cf8c"></a><!-- doxytag: member="cl_page_list::cl_page_list_move" ref="gac81a19417ea58bb1b38001636f07cf8c" args="(struct cl_page_list *dst, struct cl_page_list *src, struct cl_page *page)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gac81a19417ea58bb1b38001636f07cf8c">cl_page_list_move</a> (struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *dst, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *src, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Moves a page from one page list to another. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga06da834a47d10c42fdd688c728213d8c"></a><!-- doxytag: member="cl_page_list::cl_page_list_move_head" ref="ga06da834a47d10c42fdd688c728213d8c" args="(struct cl_page_list *dst, struct cl_page_list *src, struct cl_page *page)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga06da834a47d10c42fdd688c728213d8c">cl_page_list_move_head</a> (struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *dst, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *src, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Moves a page from one page list to the head of another list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac4c762cc3608863a8e5a766def8bf1c8"></a><!-- doxytag: member="cl_page_list::cl_page_list_splice" ref="gac4c762cc3608863a8e5a766def8bf1c8" args="(struct cl_page_list *list, struct cl_page_list *head)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gac4c762cc3608863a8e5a766def8bf1c8">cl_page_list_splice</a> (struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *list, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *head)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">splice the <a class="el" href="structcl__page__list.html">cl_page_list</a>, just as list head does <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga365b60118b6d1e7cf4ce21d58babf5b9"></a><!-- doxytag: member="cl_page_list::cl_page_list_del" ref="ga365b60118b6d1e7cf4ce21d58babf5b9" args="(const struct lu_env *env, struct cl_page_list *plist, struct cl_page *page)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga365b60118b6d1e7cf4ce21d58babf5b9">cl_page_list_del</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a page from a page list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6775317c52f6e2540b62563f559cfab6"></a><!-- doxytag: member="cl_page_list::cl_page_list_disown" ref="ga6775317c52f6e2540b62563f559cfab6" args="(const struct lu_env *env, struct cl_io *io, struct cl_page_list *plist)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga6775317c52f6e2540b62563f559cfab6">cl_page_list_disown</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disowns pages in a queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaddbba15e99055d90aba88ec1b282455a"></a><!-- doxytag: member="cl_page_list::cl_page_list_own" ref="gaddbba15e99055d90aba88ec1b282455a" args="(const struct lu_env *env, struct cl_io *io, struct cl_page_list *plist)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gaddbba15e99055d90aba88ec1b282455a">cl_page_list_own</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Owns all pages in a queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga321527c28a251fead1c4d8e7967da693"></a><!-- doxytag: member="cl_page_list::cl_page_list_assume" ref="ga321527c28a251fead1c4d8e7967da693" args="(const struct lu_env *env, struct cl_io *io, struct cl_page_list *plist)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga321527c28a251fead1c4d8e7967da693">cl_page_list_assume</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assumes all pages in a queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabe8fbe4bdda923be3d8ee245549230f8"></a><!-- doxytag: member="cl_page_list::cl_page_list_discard" ref="gabe8fbe4bdda923be3d8ee245549230f8" args="(const struct lu_env *env, struct cl_io *io, struct cl_page_list *plist)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gabe8fbe4bdda923be3d8ee245549230f8">cl_page_list_discard</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Discards all pages in a queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf77c34a166e78fa83a75ec296dc0d3fe"></a><!-- doxytag: member="cl_page_list::cl_page_list_fini" ref="gaf77c34a166e78fa83a75ec296dc0d3fe" args="(const struct lu_env *env, struct cl_page_list *plist)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gaf77c34a166e78fa83a75ec296dc0d3fe">cl_page_list_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__page__list.html">cl_page_list</a> *plist)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Releases pages from queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga395aaa5cb5dec21f83d8b07101b2aef0"></a><!-- doxytag: member="cl_page_list::cl_2queue_init" ref="ga395aaa5cb5dec21f83d8b07101b2aef0" args="(struct cl_2queue *queue)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga395aaa5cb5dec21f83d8b07101b2aef0">cl_2queue_init</a> (struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *queue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize dual page queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga55b5a5a4118185f0a7212299f2a65fac"></a><!-- doxytag: member="cl_page_list::cl_2queue_add" ref="ga55b5a5a4118185f0a7212299f2a65fac" args="(struct cl_2queue *queue, struct cl_page *page)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga55b5a5a4118185f0a7212299f2a65fac">cl_2queue_add</a> (struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *queue, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a page to the incoming page list of 2-queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga70c6911b231ec808fedc50b9e27e2699"></a><!-- doxytag: member="cl_page_list::cl_2queue_disown" ref="ga70c6911b231ec808fedc50b9e27e2699" args="(const struct lu_env *env, struct cl_io *io, struct cl_2queue *queue)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#ga70c6911b231ec808fedc50b9e27e2699">cl_2queue_disown</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *queue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disown pages in both lists of a 2-queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf1c12344f300cfdabbaabba9544db1da"></a><!-- doxytag: member="cl_page_list::cl_2queue_assume" ref="gaf1c12344f300cfdabbaabba9544db1da" args="(const struct lu_env *env, struct cl_io *io, struct cl_2queue *queue)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gaf1c12344f300cfdabbaabba9544db1da">cl_2queue_assume</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *queue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assume to own the pages in <a class="el" href="structcl__2queue.html" title="A 2-queue of pages.">cl_2queue</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab47261ab07f2e439b306dccb18a0980e"></a><!-- doxytag: member="cl_page_list::cl_2queue_discard" ref="gab47261ab07f2e439b306dccb18a0980e" args="(const struct lu_env *env, struct cl_io *io, struct cl_2queue *queue)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gab47261ab07f2e439b306dccb18a0980e">cl_2queue_discard</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__io.html">cl_io</a> *io, struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *queue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Discard (truncate) pages in both lists of a 2-queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafce330d7c8aa93047c5716cba8f4f379"></a><!-- doxytag: member="cl_page_list::cl_2queue_fini" ref="gafce330d7c8aa93047c5716cba8f4f379" args="(const struct lu_env *env, struct cl_2queue *queue)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gafce330d7c8aa93047c5716cba8f4f379">cl_2queue_fini</a> (const struct <a class="el" href="structlu__env.html">lu_env</a> *env, struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *queue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize both page lists of a 2-queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac54e35928bc036fca6e31c480285924c"></a><!-- doxytag: member="cl_page_list::cl_2queue_init_page" ref="gac54e35928bc036fca6e31c480285924c" args="(struct cl_2queue *queue, struct cl_page *page)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cl__page__list.html#gac54e35928bc036fca6e31c480285924c">cl_2queue_init_page</a> (struct <a class="el" href="structcl__2queue.html">cl_2queue</a> *queue, struct <a class="el" href="structcl__page.html">cl_page</a> *page)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a 2-queue to contain <em>page</em> in its incoming page list. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Page list used to perform collective operations on a group of pages. </p>
<p>Pages are added to the list one by one. <a class="el" href="structcl__page__list.html">cl_page_list</a> acquires a reference for every page in it. Page list is used to perform collective operations on pages:</p>
<ul>
<li>submit pages for an immediate transfer,</li>
</ul>
<ul>
<li>own pages on behalf of certain io (waiting for each page in turn),</li>
</ul>
<ul>
<li>discard pages.</li>
</ul>
<p>When list is finalized, it releases references on all pages it still has.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>XXX concurrency control.</dd></dl>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:55:38 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
