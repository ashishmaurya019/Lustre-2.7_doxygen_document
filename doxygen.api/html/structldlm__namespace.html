<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: ldlm_namespace Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ldlm_namespace Struct Reference<br/>
<small>
[<a class="el" href="group__LDLM.html">Lustre Distributed Lock Manager</a>]</small>
</h1><!-- doxytag: class="ldlm_namespace" -->
<p>LDLM Namespace.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ldlm_namespace:</div>
<div class="dynsection">
<div class="center"><img src="structldlm__namespace__coll__graph.png" border="0" usemap="#ldlm__namespace_coll__map" alt="Collaboration graph"/></div>
<map name="ldlm__namespace_coll__map" id="ldlm__namespace_coll__map">
<area shape="rect" id="node33" href="structobd__device.html" title="{obd_device\n|+ obd_type\l+ obd_magic\l+ obd_minor\l+ obd_lu_dev\l+ obd_uuid\l+ obd_name\l+ obd_attached\l+ obd_set_up\l+ obd_recovering\l+ obd_abort_recovery\l+ obd_version_recov\l+ obd_replayable\l+ obd_no_transno\l+ obd_no_recov\l+ obd_stopping\l+ obd_starting\l+ obd_force\l+ obd_fail\l+ obd_no_conn\l+ obd_inactive\l+ obd_no_ir\l+ obd_process_conf\l+ obd_uses_nid_stats\l+ obd_recovery_expired\l+ obd_uuid_hash\l+ obd_nid_hash\l+ obd_nid_stats_hash\l+ obd_gen_hash\l+ obd_nid_stats\l+ obd_exports\l+ obd_unlinked_exports\l+ obd_delayed_exports\l+ obd_lwp_list\l+ obd_refcount\l+ obd_num_exports\l+ obd_nid_lock\l+ obd_namespace\l+ obd_ldlm_client\l+ obd_dev_lock\l+ obd_osfs_lock\l+ obd_osfs\l+ obd_osfs_age\l+ obd_last_committed\l+ obd_dev_mutex\l+ obd_lvfs_ctxt\l+ obd_olg\l+ obd_observer\l+ obd_observer_link_sem\l+ obd_upcall\l+ obd_self_export\l+ obd_lwp_export\l+ obd_exports_timed\l+ obd_eviction_timer\l+ obd_max_recoverable_clients\l+ obd_connected_clients\l+ obd_stale_clients\l+ obd_recovery_task_lock\l+ obd_next_recovery_transno\l+ obd_replayed_requests\l+ obd_requests_queued_for_recovery\l+ obd_next_transno_waitq\l+ obd_recovery_timer\l+ obd_recovery_start\l+ obd_recovery_end\l+ obd_recovery_time_hard\l+ obd_recovery_timeout\l+ obd_recovery_ir_factor\l+ obd_replayed_locks\l+ obd_req_replay_clients\l+ obd_lock_replay_clients\l+ obd_recovery_data\l+ obd_req_replay_queue\l+ obd_lock_replay_queue\l+ obd_final_req_queue\l+ cli\l+ echo_client\l+ lov\l+ lmv\l+ u\l+ obd_stats\l+ obd_cntr_base\l+ obd_md_cntr_base\l+ obd_md_stats\l+ obd_proc_entry\l+ obd_proc_exports_entry\l+ obd_svc_procroot\l+ obd_svc_stats\l+ obd_vars\l+ obd_evict_inprogress\l+ obd_evict_inprogress_waitq\l+ obd_evict_list\l+ obd_pool_lock\l+ obd_pool_slv\l+ obd_pool_limit\l+ obd_conn_inprogress\l+ obd_reference\l|}" alt="" coords="1314,2601,1589,4333"/><area shape="rect" id="node2" href="structcfs__hash.html" title="cfs_hash is a hash&#45;table implementation for general purpose, it can support: ." alt="" coords="1589,1117,1751,1584"/><area shape="rect" id="node38" href="structobd__export.html" title="Export structure." alt="" coords="1877,5800,2119,6891"/><area shape="rect" id="node91" href="structclient__obd.html" title="{client_obd\n|+ cl_sem\l+ cl_target_uuid\l+ cl_import\l+ cl_conn_count\l+ cl_default_mds_easize\l+ cl_max_mds_easize\l+ cl_sp_me\l+ cl_sp_to\l+ cl_flvr_mgc\l+ cl_dirty_pages\l+ cl_dirty_max_pages\l+ cl_dirty_transit\l+ cl_avail_grant\l+ cl_lost_grant\l+ cl_dirty_grant\l+ cl_reserved_grant\l+ cl_cache_waiters\l+ cl_next_shrink_grant\l+ cl_grant_shrink_list\l+ cl_grant_shrink_interval\l+ cl_chunkbits\l+ cl_grant_extent_tax\l+ cl_max_extent_pages\l+ cl_loi_list_lock\l+ cl_loi_ready_list\l+ cl_loi_hp_ready_list\l+ cl_loi_write_list\l+ cl_loi_read_list\l+ cl_r_in_flight\l+ cl_w_in_flight\l+ cl_pending_w_pages\l+ cl_pending_r_pages\l+ cl_max_pages_per_rpc\l+ cl_max_rpcs_in_flight\l+ cl_read_rpc_hist\l+ cl_write_rpc_hist\l+ cl_read_page_hist\l+ cl_write_page_hist\l+ cl_read_offset_hist\l+ cl_write_offset_hist\l+ cl_cache\l+ cl_lru_osc\l+ cl_lru_left\l+ cl_lru_busy\l+ cl_lru_in_list\l+ cl_lru_shrinkers\l+ cl_lru_last_used\l+ cl_lru_reclaim\l+ cl_lru_list\l+ cl_lru_list_lock\l+ cl_unstable_count\l+ cl_shrink_list\l+ cl_destroy_in_flight\l+ cl_destroy_waitq\l+ cl_rpc_lock\l+ cl_mod_rpcs_lock\l+ cl_max_mod_rpcs_in_flight\l+ cl_mod_rpcs_in_flight\l+ cl_close_rpcs_in_flight\l+ cl_mod_rpcs_waitq\l+ cl_mod_tag_bitmap\l+ cl_mod_rpcs_hist\l+ cl_mgc_mutex\l+ cl_mgc_los\l+ cl_mgc_configs_dir\l+ cl_mgc_refcount\l+ cl_mgc_mgsexp\l+ cl_checksum\l+ cl_supp_cksum_types\l+ cl_cksum_type\l+ cl_ar\l+ cl_seq\l+ cl_resends\l+ cl_writeback_work\l+ cl_lru_work\l+ cl_quota_hash\l|}" alt="" coords="1651,7473,1865,8858"/><area shape="rect" id="node124" href="structlu__site.html" title="lu_site is a &quot;compartment&quot; within which objects are unique, and LRU discipline..." alt="" coords="2293,6216,2434,6475"/><area shape="rect" id="node133" href="structlov__obd.html" title="{lov_obd\n|+ desc\l+ lov_tgts\l+ lov_packed\l+ lov_lock\l+ lov_ocd\l+ targets_proc_entry\l+ lov_refcount\l+ lov_death_row\l+ lov_tgt_size\l+ lov_connects\l+ lov_pool_count\l+ lov_pools_hash_body\l+ lov_pool_list\l+ lov_pool_proc_entry\l+ lov_sp_me\l+ lov_cache\l+ lov_notify_lock\l|}" alt="" coords="1729,2041,1902,2404"/><area shape="rect" id="node4" href="unioncfs__hash__lock.html" title="{cfs_hash_lock\n|+ rw\l+ spin\l|}" alt="" coords="1029,235,1141,338"/><area shape="rect" id="node11" href="structcfs__hash__bucket.html" title="cfs_hash_bucket is a container of:lock, counter ." alt="" coords="1247,455,1381,627"/><area shape="rect" id="node6" href="structcfs__workitem.html" title="{cfs_workitem\n|+ wi_list\l+ wi_action\l+ wi_data\l+ wi_running\l+ wi_scheduled\l|}" alt="" coords="1893,464,2018,619"/><area shape="rect" id="node8" href="structlist__head.html" title="{list_head\n|+ next\l+ prev\l|}" alt="" coords="2242,235,2325,338"/><area shape="rect" id="node35" href="structecho__client__obd.html" title="{echo_client_obd\n|+ ec_exp\l+ ec_lock\l+ ec_objects\l+ ec_locks\l+ ec_unique\l|}" alt="" coords="2399,7060,2530,7215"/><area shape="rect" id="node40" href="structtg__export__data.html" title="Target&#45;specific export data." alt="" coords="2045,678,2237,954"/><area shape="rect" id="node45" href="structobd__import.html" title="Defintion of PortalRPC import structure." alt="" coords="1047,4401,1285,5717"/><area shape="rect" id="node58" href="structobd__type.html" title="{obd_type\n|+ typ_chain\l+ typ_dt_ops\l+ typ_md_ops\l+ typ_procroot\l+ typ_procsym\l+ typ_sym_filter\l+ typ_name\l+ typ_refcnt\l+ typ_lu\l+ obd_type_lock\l|}" alt="" coords="2791,2102,2925,2343"/><area shape="rect" id="node66" href="structlu__device__type.html" title="Type of device." alt="" coords="2786,3372,2911,3561"/><area shape="rect" id="node80" href="structlocal__oid__storage.html" title="{local_oid_storage\n|+ los_list\l+ los_refcount\l+ los_dev\l+ los_obj\l+ los_id_lock\l+ los_seq\l+ los_last_oid\l|}" alt="" coords="737,6251,873,6440"/><area shape="rect" id="node95" href="structcl__client__cache.html" title="Data structure managing a client&#39;s cached pages." alt="" coords="2573,1239,2743,1463"/><area shape="rect" id="node115" href="structlu__device.html" title="Device: a layer in the server side abstraction stacking." alt="" coords="2413,4955,2538,5162"/><area shape="rect" id="node14" href="structcfs__hash__hlist__ops.html" title="{cfs_hash_hlist_ops\n|+ hop_hhead\l+ hop_hhead_size\l+ hop_hnode_add\l+ hop_hnode_del\l|}" alt="" coords="1405,473,1549,610"/><area shape="rect" id="node16" href="structhlist__head.html" title="{hlist_head\n|+ first\l|}" alt="" coords="1431,244,1522,329"/><area shape="rect" id="node18" href="structcfs__hash__lock__ops.html" title="{cfs_hash_lock_ops\n|+ hs_lock\l+ hs_unlock\l+ hs_bkt_lock\l+ hs_bkt_unlock\l|}" alt="" coords="1573,473,1714,610"/><area shape="rect" id="node20" href="structcfs__hash__ops.html" title="{cfs_hash_ops\n|+ hs_hash\l+ hs_key\l+ hs_keycpy\l+ hs_keycmp\l+ hs_object\l+ hs_get\l+ hs_put\l+ hs_put_locked\l+ hs_exit\l|}" alt="" coords="1738,429,1869,653"/><area shape="rect" id="node23" href="structlprocfs__stats.html" title="{lprocfs_stats\n|+ ls_num\l+ ls_biggest_alloc_num\l+ ls_flags\l+ ls_lock\l+ ls_cnt_header\l+ ls_percpu\l|}" alt="" coords="611,455,787,627"/><area shape="rect" id="node147" href="structldlm__pool.html" title="LDLM pool structure to track granted locks." alt="" coords="782,1187,969,1515"/><area shape="rect" id="node25" href="structlprocfs__percpu.html" title="{lprocfs_percpu\n|+ lp_cntr\l|}" alt="" coords="665,244,782,329"/><area shape="rect" id="node27" href="structlprocfs__counter.html" title="{lprocfs_counter\n|+ lc_count\l+ lc_min\l+ lc_max\l+ lc_sumsquare\l+ lc_array_sum\l|}" alt="" coords="661,5,786,160"/><area shape="rect" id="node29" href="structlprocfs__counter__header.html" title="{lprocfs_counter_header\n|+ lc_config\l+ lc_name\l+ lc_units\l|}" alt="" coords="462,227,641,347"/><area shape="rect" id="node31" href="structldlm__valblock__ops.html" title="LVB operations." alt="" coords="1198,1273,1337,1428"/><area shape="rect" id="node77" href="structllog__ctxt.html" title="{llog_ctxt\n|+ loc_idx\l+ loc_obd\l+ loc_olg\l+ loc_exp\l+ loc_imp\l+ loc_logops\l+ loc_handle\l+ loc_mutex\l+ loc_refcount\l+ loc_flags\l+ loc_dir\l+ loc_los_nameless\l+ loc_los_named\l+ loc_chunk_size\l|}" alt="" coords="902,6982,1051,7293"/><area shape="rect" id="node103" href="structlu__client__seq.html" title="{lu_client_seq\n|+ lcs_exp\l+ lcs_mutex\l+ lcs_space\l+ lcs_proc_dir\l+ lcs_fid\l+ lcs_type\l+ lcs_name\l+ lcs_width\l+ lcs_srv\l+ lcs_waitq\l+ lcs_update\l|}" alt="" coords="2263,7008,2375,7267"/><area shape="rect" id="node143" href="structlmv__obd.html" title="{lmv_obd\n|+ refcount\l+ lmv_fld\l+ lmv_lock\l+ lmv_placement\l+ desc\l+ cluuid\l+ exp\l+ targets_proc_entry\l+ lmv_init_mutex\l+ connected\l+ max_easize\l+ max_def_easize\l+ tgts_size\l+ tgts\l+ conn_data\l|}" alt="" coords="1938,6973,2103,7301"/><area shape="rect" id="node49" href="structptlrpc__client.html" title="Client definition for PortalRPC." alt="" coords="218,2163,373,2283"/><area shape="rect" id="node51" href="structsptlrpc__flavor.html" title="Full description of flavors being used on a ptlrpc connection, include both regular..." alt="" coords="1501,4981,1613,5136"/><area shape="rect" id="node54" href="structobd__uuid.html" title="{obd_uuid\n|+ uuid\l|}" alt="" coords="2317,499,2397,584"/><area shape="rect" id="node63" href="structobd__ops.html" title="{obd_ops\n|+ o_owner\l+ o_iocontrol\l+ o_get_info\l+ o_set_info_async\l+ o_setup\l+ o_precleanup\l+ o_cleanup\l+ o_process_config\l+ o_postrecov\l+ o_add_conn\l+ o_del_conn\l+ o_connect\l+ o_reconnect\l+ o_disconnect\l+ o_fid_init\l+ o_fid_fini\l+ o_fid_alloc\l+ o_statfs\l+ o_statfs_async\l+ o_create\l+ o_destroy\l+ o_setattr\l+ o_getattr\l+ o_preprw\l+ o_commitrw\l+ o_init_export\l+ o_destroy_export\l+ o_import_event\l+ o_notify\l+ o_health_check\l+ o_get_uuid\l+ o_quotactl\l+ o_ping\l+ o_pool_new\l+ o_pool_del\l+ o_pool_add\l+ o_pool_rem\l+ o_getref\l+ o_putref\l|}" alt="" coords="2394,979,2549,1723"/><area shape="rect" id="node61" href="structmd__ops.html" title="{md_ops\n|+ m_close\l+ m_create\l+ m_enqueue\l+ m_getattr\l+ m_intent_lock\l+ m_link\l+ m_rename\l+ m_setattr\l+ m_fsync\l+ m_read_page\l+ m_unlink\l+ m_setxattr\l+ m_getxattr\l+ m_intent_getattr_async\l+ m_revalidate_lock\l+ m_get_root\l+ m_null_inode\l+ m_getattr_name\l+ m_init_ea_size\l+ m_get_lustre_md\l+ m_free_lustre_md\l+ m_merge_attr\l+ m_set_open_replay_data\l+ m_clear_open_replay_data\l+ m_set_lock_data\l+ m_lock_match\l+ m_cancel_unused\l+ m_get_remote_perm\l+ m_get_fid_from_lsm\l+ m_unpackmd\l|}" alt="" coords="2818,1057,3031,1645"/><area shape="rect" id="node71" href="structobd__notify__upcall.html" title="{obd_notify_upcall\n|+ onu_upcall\l+ onu_owner\l|}" alt="" coords="447,2171,583,2274"/><area shape="rect" id="node75" href="structobd__llog__group.html" title="{obd_llog_group\n|+ olg_ctxts\l+ olg_waitq\l+ olg_lock\l+ olg_cat_processing\l|}" alt="" coords="775,8097,938,8234"/><area shape="rect" id="node83" href="structdt__object.html" title="{dt_object\n|+ do_lu\l+ do_ops\l+ do_body_ops\l+ do_index_ops\l|}" alt="" coords="847,4990,973,5127"/><area shape="rect" id="node89" href="structlprocfs__vars.html" title="{lprocfs_vars\n|+ name\l+ fops\l+ data\l+ proc_mode\l|}" alt="" coords="607,2154,717,2291"/><area shape="rect" id="node98" href="structobd__histogram.html" title="{obd_histogram\n|+ oh_lock\l+ oh_buckets\l|}" alt="" coords="1486,7086,1606,7189"/><area shape="rect" id="node100" href="structosc__async__rc.html" title="{osc_async_rc\n|+ ar_rc\l+ ar_force_sync\l+ ar_min_xid\l|}" alt="" coords="1630,7077,1758,7197"/><area shape="rect" id="node108" href="structmdc__rpc__lock.html" title="Serializes in&#45;flight MDT&#45;modifying RPC requests to preserve idempotency." alt="" coords="2127,7077,2239,7197"/><area shape="rect" id="node113" href="structobd__statfs.html" title="{obd_statfs\n|+ os_type\l+ os_blocks\l+ os_bfree\l+ os_bavail\l+ os_files\l+ os_ffree\l+ os_fsid\l+ os_bsize\l+ os_namelen\l+ os_maxbytes\l+ os_state\l+ os_fprecreated\l+ os_spare2\l+ os_spare3\l+ os_spare4\l+ os_spare5\l+ os_spare6\l+ os_spare7\l+ os_spare8\l+ os_spare9\l|}" alt="" coords="741,2015,879,2430"/><area shape="rect" id="node119" href="structlu__ref.html" title="{lu_ref\n||}" alt="" coords="2078,2180,2137,2265"/><area shape="rect" id="node121" href="structlu__device__operations.html" title="Operations common for data and meta&#45;data devices." alt="" coords="2466,3398,2661,3535"/><area shape="rect" id="node138" href="structtarget__recovery__data.html" title="{target_recovery_data\n|+ trd_recovery_handler\l+ trd_processing_task\l+ trd_starting\l+ trd_finishing\l|}" alt="" coords="903,2154,1082,2291"/><area shape="rect" id="node140" href="structlvfs__run__ctxt.html" title="{lvfs_run_ctxt\n|+ pwdmnt\l+ pwd\l+ fs\l+ umask\l+ dt\l+ magic\l|}" alt="" coords="1106,2137,1215,2309"/><area shape="rect" id="node150" href="structldlm__pool__ops.html" title="Operations on LDLM pools." alt="" coords="819,481,931,601"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a861f213cc95d91ddc758f7619db49469">ns_obd</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Backward link to OBD, required for LDLM pool to store new SLV.  <a href="#a861f213cc95d91ddc758f7619db49469"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca43e10db23e506ba81318223e2fe0f1"></a><!-- doxytag: member="ldlm_namespace::ns_client" ref="aca43e10db23e506ba81318223e2fe0f1" args="" -->
enum <a class="el" href="group__LDLM.html#gac4b4584603b76e6cc86c82a64f59defd">ldlm_side</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#aca43e10db23e506ba81318223e2fe0f1">ns_client</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flag indicating if namespace is on client instead of server. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcfs__hash.html">cfs_hash</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#ab98b19e574d298fcacdc25f5badb919d">ns_rs_hash</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resource hash table for namespace.  <a href="#ab98b19e574d298fcacdc25f5badb919d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a034ee07f43b36accc62bc6675f482775"></a><!-- doxytag: member="ldlm_namespace::ns_lock" ref="a034ee07f43b36accc62bc6675f482775" args="" -->
spinlock_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a034ee07f43b36accc62bc6675f482775">ns_lock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">serialize <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af68b79de9de6a850ff2b37e76dc912a2"></a><!-- doxytag: member="ldlm_namespace::ns_bref" ref="af68b79de9de6a850ff2b37e76dc912a2" args="" -->
atomic_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#af68b79de9de6a850ff2b37e76dc912a2">ns_bref</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">big refcount (by bucket) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1efbbd32b149bd60a68ab1a83efbf9e1"></a><!-- doxytag: member="ldlm_namespace::ns_connect_flags" ref="a1efbbd32b149bd60a68ab1a83efbf9e1" args="" -->
__u64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a1efbbd32b149bd60a68ab1a83efbf9e1">ns_connect_flags</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Namespace connect flags supported by server (may be changed via /proc, LRU resize may be disabled/enabled). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__u64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a74faeaa0971d5791adbd547b56587e71">ns_orig_connect_flags</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Client side original connect flags supported by server.  <a href="#a74faeaa0971d5791adbd547b56587e71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89c5a0896aa52ccbfb56bb7774b696dd"></a><!-- doxytag: member="ldlm_namespace::ns_proc_dir_entry" ref="a89c5a0896aa52ccbfb56bb7774b696dd" args="" -->
struct proc_dir_entry *&nbsp;</td><td class="memItemRight" valign="bottom"><b>ns_proc_dir_entry</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c57114258d97d4cf01886c70d7d783e"></a><!-- doxytag: member="ldlm_namespace::ns_list_chain" ref="a8c57114258d97d4cf01886c70d7d783e" args="" -->
struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a8c57114258d97d4cf01886c70d7d783e">ns_list_chain</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Position in global namespace list linking all namespaces on the node. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlist__head.html">list_head</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a203e42ef1191d6bee7e44cf9a84f33b5">ns_unused_list</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of unused locks for this namespace.  <a href="#a203e42ef1191d6bee7e44cf9a84f33b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56c1d5c8f5cbe01e64cb7f7332b070b7"></a><!-- doxytag: member="ldlm_namespace::ns_nr_unused" ref="a56c1d5c8f5cbe01e64cb7f7332b070b7" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a56c1d5c8f5cbe01e64cb7f7332b070b7">ns_nr_unused</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of locks in the LRU list above. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a08c00f4038e8a7006e7b9f90925b35d8">ns_max_unused</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum number of locks permitted in the LRU.  <a href="#a08c00f4038e8a7006e7b9f90925b35d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af724ff88b3b153ab98f5d8810649c7a9"></a><!-- doxytag: member="ldlm_namespace::ns_max_age" ref="af724ff88b3b153ab98f5d8810649c7a9" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#af724ff88b3b153ab98f5d8810649c7a9">ns_max_age</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum allowed age (last used time) for locks in the LRU. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc7b7a0c4f178a005d87586c89aa795e"></a><!-- doxytag: member="ldlm_namespace::ns_timeouts" ref="adc7b7a0c4f178a005d87586c89aa795e" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#adc7b7a0c4f178a005d87586c89aa795e">ns_timeouts</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Server only: number of times we evicted clients due to lack of reply to ASTs. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a5f1eb6d28c1931a67d95431364d1bbb9">ns_ctime_age_limit</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of seconds since the file change time after which the MDT will return an UPDATE lock along with a LOOKUP lock.  <a href="#a5f1eb6d28c1931a67d95431364d1bbb9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cfs_time_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#ad65196442e16b2fe16ba78bd3cf099e0">ns_next_dump</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used to rate-limit ldlm_namespace_dump calls.  <a href="#ad65196442e16b2fe16ba78bd3cf099e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a926bc3bad4997f595bdde4644119dac2"></a><!-- doxytag: member="ldlm_namespace::ns_policy" ref="a926bc3bad4997f595bdde4644119dac2" args="" -->
ldlm_res_policy&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a926bc3bad4997f595bdde4644119dac2">ns_policy</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">"policy" function that does actual lock conflict determination <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structldlm__valblock__ops.html">ldlm_valblock_ops</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#ac6fc5806130bda67b8685acdb93ccf48">ns_lvbo</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">LVB operations for this namespace.  <a href="#ac6fc5806130bda67b8685acdb93ccf48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a32d408160b08443bb500ae49149c6026">ns_lvbp</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by filter code to store pointer to OBD of the service.  <a href="#a32d408160b08443bb500ae49149c6026"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">wait_queue_head_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#ae07ddb792934957b5f53441e78d6653c">ns_waitq</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait queue used by __ldlm_namespace_free.  <a href="#ae07ddb792934957b5f53441e78d6653c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7af6cd55b6e2bfa2b4cfc6134bb51e3"></a><!-- doxytag: member="ldlm_namespace::ns_pool" ref="aa7af6cd55b6e2bfa2b4cfc6134bb51e3" args="" -->
struct <a class="el" href="structldlm__pool.html">ldlm_pool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#aa7af6cd55b6e2bfa2b4cfc6134bb51e3">ns_pool</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">LDLM pool structure for this namespace. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a1c4127f625c55c2a7d4288690ec3b9"></a><!-- doxytag: member="ldlm_namespace::ns_appetite" ref="a8a1c4127f625c55c2a7d4288690ec3b9" args="" -->
enum <a class="el" href="group__LDLM.html#gafcd8eee315d3a7e1313596efd678d77e">ldlm_appetite</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a8a1c4127f625c55c2a7d4288690ec3b9">ns_appetite</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Definition of how eagerly unused locks will be released from LRU. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a622fd8d8e6a4cc60a0c158c25c15322a">ns_contended_locks</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If more than <em>ns_contended_locks</em> are found, the resource is considered to be contended.  <a href="#a622fd8d8e6a4cc60a0c158c25c15322a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98fd882dc7b49bba86b79efe3db05c77"></a><!-- doxytag: member="ldlm_namespace::ns_contention_time" ref="a98fd882dc7b49bba86b79efe3db05c77" args="" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a98fd882dc7b49bba86b79efe3db05c77">ns_contention_time</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The resources in this namespace remember contended state during <em>ns_contention_time</em>, in seconds. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#ab3fcbe9cd534ae1716b36a788a48c955">ns_max_nolock_size</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Limit size of contended extent locks, in bytes.  <a href="#ab3fcbe9cd534ae1716b36a788a48c955"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a26fcded328106ccb6693c3c66cc7a95d">ns_max_parallel_ast</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Limit of parallel AST RPC count.  <a href="#a26fcded328106ccb6693c3c66cc7a95d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f4c5e671459369ab9813cfda1ff69f1"></a><!-- doxytag: member="ldlm_namespace::ns_cancel" ref="a0f4c5e671459369ab9813cfda1ff69f1" args="" -->
ldlm_cancel_cbt&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a0f4c5e671459369ab9813cfda1ff69f1">ns_cancel</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback to check if a lock is good to be canceled by ELC or during recovery. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73e6656374075468f72ce93b58d84518"></a><!-- doxytag: member="ldlm_namespace::ns_stats" ref="a73e6656374075468f72ce93b58d84518" args="" -->
struct <a class="el" href="structlprocfs__stats.html">lprocfs_stats</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a73e6656374075468f72ce93b58d84518">ns_stats</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">LDLM lock stats. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#ab8fdfb8d21e09d1eb92b6efd68e5420e">ns_stopping</a>:1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flag to indicate namespace is being freed.  <a href="#ab8fdfb8d21e09d1eb92b6efd68e5420e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71d94a2dda3fbfe92f095fe589cddbb5"></a><!-- doxytag: member="ldlm_namespace::ns_reclaim_start" ref="a71d94a2dda3fbfe92f095fe589cddbb5" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structldlm__namespace.html#a71d94a2dda3fbfe92f095fe589cddbb5">ns_reclaim_start</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Which bucket should we start with the lock reclaim. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>LDLM Namespace. </p>
<p>Namespace serves to contain locks related to a particular service. There are two kinds of namespaces:</p>
<ul>
<li>Server namespace has knowledge of all locks and is therefore authoritative to make decisions like what locks could be granted and what conflicts exist during new lock enqueue.</li>
<li>Client namespace only has limited knowledge about locks in the namespace, only seeing locks held by the client.</li>
</ul>
<p>Every Lustre service has one server namespace present on the server serving that service. Every client connected to the service has a client namespace for it. Every lock obtained by client in that namespace is actually represented by two in-memory locks. One on the server and one on the client. The locks are linked by a special cookie by which one node can tell to the other which lock it actually means during communications. Such locks are called remote locks. The locks held by server only without any reference to a client are called local locks. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00369">369</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a622fd8d8e6a4cc60a0c158c25c15322a"></a><!-- doxytag: member="ldlm_namespace::ns_contended_locks" ref="a622fd8d8e6a4cc60a0c158c25c15322a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structldlm__namespace.html#a622fd8d8e6a4cc60a0c158c25c15322a">ldlm_namespace::ns_contended_locks</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If more than <em>ns_contended_locks</em> are found, the resource is considered to be contended. </p>
<p>Lock enqueues might specify that no contended locks should be granted </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00475">475</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f1eb6d28c1931a67d95431364d1bbb9"></a><!-- doxytag: member="ldlm_namespace::ns_ctime_age_limit" ref="a5f1eb6d28c1931a67d95431364d1bbb9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structldlm__namespace.html#a5f1eb6d28c1931a67d95431364d1bbb9">ldlm_namespace::ns_ctime_age_limit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of seconds since the file change time after which the MDT will return an UPDATE lock along with a LOOKUP lock. </p>
<p>This allows the client to start caching negative dentries for a directory and may save an RPC for a later stat. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00436">436</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6fc5806130bda67b8685acdb93ccf48"></a><!-- doxytag: member="ldlm_namespace::ns_lvbo" ref="ac6fc5806130bda67b8685acdb93ccf48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structldlm__valblock__ops.html">ldlm_valblock_ops</a>* <a class="el" href="structldlm__namespace.html#ac6fc5806130bda67b8685acdb93ccf48">ldlm_namespace::ns_lvbo</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>LVB operations for this namespace. </p>
<dl class="see"><dt><b>See also:</b></dt><dd>struct <a class="el" href="structldlm__valblock__ops.html" title="LVB operations.">ldlm_valblock_ops</a> </dd></dl>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00452">452</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

</div>
</div>
<a class="anchor" id="a32d408160b08443bb500ae49149c6026"></a><!-- doxytag: member="ldlm_namespace::ns_lvbp" ref="a32d408160b08443bb500ae49149c6026" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structldlm__namespace.html#a32d408160b08443bb500ae49149c6026">ldlm_namespace::ns_lvbp</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by filter code to store pointer to OBD of the service. </p>
<p>Should be dropped in favor of <em>ns_obd</em> </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00458">458</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab3fcbe9cd534ae1716b36a788a48c955"></a><!-- doxytag: member="ldlm_namespace::ns_max_nolock_size" ref="ab3fcbe9cd534ae1716b36a788a48c955" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structldlm__namespace.html#ab3fcbe9cd534ae1716b36a788a48c955">ldlm_namespace::ns_max_nolock_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Limit size of contended extent locks, in bytes. </p>
<p>If extended lock is requested for more then this many bytes and caller instructs us not to grant contended locks, we would disregard such a request. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00489">489</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a26fcded328106ccb6693c3c66cc7a95d"></a><!-- doxytag: member="ldlm_namespace::ns_max_parallel_ast" ref="a26fcded328106ccb6693c3c66cc7a95d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structldlm__namespace.html#a26fcded328106ccb6693c3c66cc7a95d">ldlm_namespace::ns_max_parallel_ast</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Limit of parallel AST RPC count. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00492">492</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a08c00f4038e8a7006e7b9f90925b35d8"></a><!-- doxytag: member="ldlm_namespace::ns_max_unused" ref="a08c00f4038e8a7006e7b9f90925b35d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structldlm__namespace.html#a08c00f4038e8a7006e7b9f90925b35d8">ldlm_namespace::ns_max_unused</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum number of locks permitted in the LRU. </p>
<p>If 0, means locks are managed by pools and there is no preset limit, rather it is all controlled by available memory on this client and on server. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00422">422</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<a class="anchor" id="ad65196442e16b2fe16ba78bd3cf099e0"></a><!-- doxytag: member="ldlm_namespace::ns_next_dump" ref="ad65196442e16b2fe16ba78bd3cf099e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cfs_time_t <a class="el" href="structldlm__namespace.html#ad65196442e16b2fe16ba78bd3cf099e0">ldlm_namespace::ns_next_dump</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used to rate-limit ldlm_namespace_dump calls. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__LDLM.html#ga72eedaa0c612fbc5daad8d622e0502f1" title="Print information about all locks in this namespace on this node to debug log.">ldlm_namespace_dump</a>. Increased by 10 seconds every time it is called. </dd></dl>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00443">443</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l01425">ldlm_namespace_dump()</a>.</p>

</div>
</div>
<a class="anchor" id="a861f213cc95d91ddc758f7619db49469"></a><!-- doxytag: member="ldlm_namespace::ns_obd" ref="a861f213cc95d91ddc758f7619db49469" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structobd__device.html">obd_device</a>* <a class="el" href="structldlm__namespace.html#a861f213cc95d91ddc758f7619db49469">ldlm_namespace::ns_obd</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Backward link to OBD, required for LDLM pool to store new SLV. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00371">371</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a74faeaa0971d5791adbd547b56587e71"></a><!-- doxytag: member="ldlm_namespace::ns_orig_connect_flags" ref="a74faeaa0971d5791adbd547b56587e71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u64 <a class="el" href="structldlm__namespace.html#a74faeaa0971d5791adbd547b56587e71">ldlm_namespace::ns_orig_connect_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Client side original connect flags supported by server. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00392">392</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<a class="anchor" id="ab98b19e574d298fcacdc25f5badb919d"></a><!-- doxytag: member="ldlm_namespace::ns_rs_hash" ref="ab98b19e574d298fcacdc25f5badb919d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcfs__hash.html">cfs_hash</a>* <a class="el" href="structldlm__namespace.html#ab98b19e574d298fcacdc25f5badb919d">ldlm_namespace::ns_rs_hash</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resource hash table for namespace. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00377">377</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__request_8c_source.html#l02029">ldlm_cli_cancel_unused()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00892">ldlm_namespace_cleanup()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01425">ldlm_namespace_dump()</a>, <a class="el" href="ldlm__resource_8c_source.html#l01007">ldlm_namespace_free_post()</a>, <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>, <a class="el" href="ldlm__lock_8c_source.html#l02128">ldlm_reprocess_all_ns()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l01179">ldlm_resource_get()</a>.</p>

</div>
</div>
<a class="anchor" id="ab8fdfb8d21e09d1eb92b6efd68e5420e"></a><!-- doxytag: member="ldlm_namespace::ns_stopping" ref="ab8fdfb8d21e09d1eb92b6efd68e5420e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structldlm__namespace.html#ab8fdfb8d21e09d1eb92b6efd68e5420e">ldlm_namespace::ns_stopping</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flag to indicate namespace is being freed. </p>
<p>Used to determine if recalculation of LDLM pool statistics should be skipped. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00507">507</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00966">ldlm_namespace_free_prior()</a>, and <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a203e42ef1191d6bee7e44cf9a84f33b5"></a><!-- doxytag: member="ldlm_namespace::ns_unused_list" ref="a203e42ef1191d6bee7e44cf9a84f33b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist__head.html">list_head</a> <a class="el" href="structldlm__namespace.html#a203e42ef1191d6bee7e44cf9a84f33b5">ldlm_namespace::ns_unused_list</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of unused locks for this namespace. </p>
<p>This list is also called LRU lock list. Unused locks are locks with zero reader/writer reference counts. This list is only used on clients for lock caching purposes. When we want to release some locks voluntarily or if server wants us to release some locks due to e.g. memory pressure, we take locks to release from the head of this list. Locks are linked via l_lru field in </p>
<dl class="see"><dt><b>See also:</b></dt><dd>struct <a class="el" href="structldlm__lock.html" title="LDLM lock structure.">ldlm_lock</a>. </dd></dl>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00413">413</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<a class="anchor" id="ae07ddb792934957b5f53441e78d6653c"></a><!-- doxytag: member="ldlm_namespace::ns_waitq" ref="ae07ddb792934957b5f53441e78d6653c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wait_queue_head_t <a class="el" href="structldlm__namespace.html#ae07ddb792934957b5f53441e78d6653c">ldlm_namespace::ns_waitq</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait queue used by __ldlm_namespace_free. </p>
<p>Gets woken up every time a resource is removed. </p>

<p>Definition at line <a class="el" href="lustre__dlm_8h_source.html#l00464">464</a> of file <a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a>.</p>

<p>Referenced by <a class="el" href="ldlm__resource_8c_source.html#l00661">ldlm_namespace_new()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="lustre__dlm_8h_source.html">lustre_dlm.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:58:07 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
