<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: osc_io Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>osc_io Struct Reference<br/>
<small>
[<a class="el" href="group__osc.html">osc</a>]</small>
</h1><!-- doxytag: class="osc_io" -->
<p>State maintained by osc layer for each IO context.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for osc_io:</div>
<div class="dynsection">
<div class="center"><img src="structosc__io__coll__graph.png" border="0" usemap="#osc__io_coll__map" alt="Collaboration graph"/></div>
<map name="osc__io_coll__map" id="osc__io_coll__map">
<area shape="rect" id="node2" href="structosc__lock.html" title="osc&#45;private state of cl_lock." alt="" coords="1917,5307,2085,5669"/><area shape="rect" id="node4" href="structlist__head.html" title="{list_head\n|+ next\l+ prev\l|}" alt="" coords="1529,66,1612,169"/><area shape="rect" id="node11" href="structcl__lock__slice.html" title="Per&#45;layer part of cl_lock." alt="" coords="1015,4065,1121,4202"/><area shape="rect" id="node18" href="structlu__object.html" title="Layer in the layered object." alt="" coords="660,381,764,536"/><area shape="rect" id="node21" href="structcl__lock.html" title="Layered client lock." alt="" coords="876,3246,972,3349"/><area shape="rect" id="node33" href="structldlm__lock.html" title="LDLM lock structure." alt="" coords="2589,4347,2749,5143"/><area shape="rect" id="node35" href="structportals__handle.html" title="{portals_handle\n|+ h_link\l+ h_cookie\l+ h_owner\l+ h_ops\l+ h_rcu\l+ h_lock\l+ h_size\l+ h_in\l|}" alt="" coords="2268,1027,2385,1234"/><area shape="rect" id="node44" href="structobd__export.html" title="Export structure." alt="" coords="2615,1552,2857,2643"/><area shape="rect" id="node46" href="structtg__export__data.html" title="Target&#45;specific export data." alt="" coords="2425,321,2617,597"/><area shape="rect" id="node52" href="structfilter__export__data.html" title="Filter (oss&#45;side) specific import data." alt="" coords="2564,1001,2740,1260"/><area shape="rect" id="node66" href="structldlm__interval.html" title="Interval node data for each LDLM_EXTENT lock." alt="" coords="3180,407,3287,510"/><area shape="rect" id="node78" href="structldlm__resource.html" title="LDLM resource description." alt="" coords="3235,1890,3397,2305"/><area shape="rect" id="node85" href="structosc__extent.html" title="osc_extent data to manage dirty pages." alt="" coords="248,5211,403,5765"/><area shape="rect" id="node88" href="structosc__page.html" title="Page state private for osc layer." alt="" coords="117,4625,288,4866"/><area shape="rect" id="node91" href="structcl__page__slice.html" title="Per&#45;layer part of cl_page." alt="" coords="692,3220,801,3375"/><area shape="rect" id="node95" href="structcl__page.html" title="Fields are protected by the lock on struct page, except for atomics and immutables..." alt="" coords="1639,1951,1764,2244"/><area shape="rect" id="node100" href="structcl__io.html" title="State for io." alt="" coords="1323,2795,1485,3799"/><area shape="rect" id="node111" href="structcl__lockset.html" title="Lock&#45;set represents a collection of locks, that io needs at a time." alt="" coords="1484,657,1577,759"/><area shape="rect" id="node117" href="structosc__async__page.html" title="{osc_async_page\n|+ oap_magic\l+ oap_cmd\l+ oap_interrupted\l+ oap_pending_item\l+ oap_rpc_item\l+ oap_obj_off\l+ oap_page_off\l+ oap_async_flags\l+ oap_brw_page\l+ oap_request\l+ oap_cli\l+ oap_obj\l+ oap_lock\l|}" alt="" coords="128,3987,285,4280"/><area shape="rect" id="node120" href="structosc__object.html" title="{osc_object\n|+ oo_cl\l+ oo_oinfo\l+ oo_contended\l+ oo_contention_time\l+ oo_ready_item\l+ oo_hp_ready_item\l+ oo_write_item\l+ oo_read_item\l+ oo_root\l+ oo_hp_exts\l+ oo_urgent_exts\l+ oo_rpc_exts\l+ oo_reading_exts\l+ oo_nr_reads\l+ oo_nr_writes\l+ oo_lock\l+ oo_tree_lock\l+ oo_tree\l+ oo_npages\l+ oo_ol_list\l+ oo_ol_spin\l+ oo_nr_ios\l+ oo_io_waitq\l|}" alt="" coords="263,3064,433,3531"/><area shape="rect" id="node134" href="structcl__io__slice.html" title="IO state private for a layer." alt="" coords="592,4065,699,4202"/><area shape="rect" id="node7" href="structldlm__enqueue__info.html" title="Common ldlm_enqueue parameters." alt="" coords="1867,4625,2013,4866"/><area shape="rect" id="node9" href="structcl__sync__io.html" title="Anchor for synchronous transfer." alt="" coords="1847,1053,1959,1208"/><area shape="rect" id="node14" href="structcl__object.html" title="Sub&#45;class of lu_object with methods common for objects on the client stacks." alt="" coords="731,1071,845,1191"/><area shape="rect" id="node24" href="structcl__lock__descr.html" title="Lock description." alt="" coords="825,2011,951,2183"/><area shape="rect" id="node16" href="structcl__object__operations.html" title="Operations implemented for each cl object layer." alt="" coords="788,312,951,605"/><area shape="rect" id="node27" href="structcl__lock__operations.html" title="{cl_lock_operations\n|+ clo_fini\l+ clo_print\l+ clo_enqueue\l+ clo_cancel\l|* clo_enqueue\l* clo_cancel\l}" alt="" coords="996,3220,1140,3375"/><area shape="rect" id="node29" href="structost__lvb.html" title="{ost_lvb\n|+ lvb_size\l+ lvb_mtime\l+ lvb_atime\l+ lvb_ctime\l+ lvb_blocks\l+ lvb_mtime_ns\l+ lvb_atime_ns\l+ lvb_ctime_ns\l+ lvb_padding\l|}" alt="" coords="1365,1019,1493,1243"/><area shape="rect" id="node124" href="structlov__oinfo.html" title="{lov_oinfo\n|+ loi_oi\l+ loi_ost_idx\l+ loi_ost_gen\l+ loi_kms_valid\l+ loi_kms\l+ loi_lvb\l+ loi_ar\l|}" alt="" coords="1788,2003,1908,2192"/><area shape="rect" id="node31" href="structlustre__handle.html" title="{lustre_handle\n|+ cookie\l|}" alt="" coords="3288,4091,3400,4176"/><area shape="rect" id="node141" href="structobdo.html" title="{obdo\n|+ o_valid\l+ o_oi\l+ o_parent_seq\l+ o_size\l+ o_mtime\l+ o_atime\l+ o_ctime\l+ o_blocks\l+ o_grant\l+ o_blksize\l+ o_mode\l+ o_uid\l+ o_gid\l+ o_flags\l+ o_nlink\l+ o_parent_oid\l+ o_misc\l+ o_ioepoch\l+ o_stripe_idx\l+ o_parent_ver\l+ o_handle\l+ o_lcookie\l+ o_uid_h\l+ o_gid_h\l+ o_data_version\l+ o_padding_4\l+ o_padding_5\l+ o_padding_6\l|}" alt="" coords="2109,4469,2245,5022"/><area shape="rect" id="node38" href="structportals__handle__ops.html" title="{portals_handle_ops\n|+ hop_addref\l+ hop_free\l|}" alt="" coords="2252,407,2401,510"/><area shape="rect" id="node40" href="unionldlm__policy__data.html" title="{ldlm_policy_data\n|+ l_extent\l+ l_flock\l+ l_inodebits\l|}" alt="" coords="2836,4073,2967,4193"/><area shape="rect" id="node42" href="structldlm__flock.html" title="{ldlm_flock\n|+ start\l+ end\l+ owner\l+ blocking_owner\l+ blocking_export\l+ blocking_refs\l+ pid\l|}" alt="" coords="2941,3203,3083,3392"/><area shape="rect" id="node49" href="structcfs__hash.html" title="cfs_hash is a hash&#45;table implementation for general purpose, it can support: ." alt="" coords="2764,897,2927,1364"/><area shape="rect" id="node57" href="structobd__connect__data.html" title="{obd_connect_data\n|+ ocd_connect_flags\l+ ocd_version\l+ ocd_grant\l+ ocd_index\l+ ocd_brw_size\l+ ocd_ibits_known\l+ ocd_grant_blkbits\l+ ocd_grant_inobits\l+ ocd_grant_tax_kb\l+ ocd_grant_max_blks\l+ ocd_transno\l+ ocd_group\l+ ocd_cksum_types\l+ ocd_max_easize\l+ ocd_instance\l+ ocd_maxbytes\l+ ocd_maxmodrpcs\l+ padding0\l+ padding1\l+ ocd_connect_flags2\l+ padding3\l+ padding4\l+ padding5\l+ padding6\l+ padding7\l+ padding8\l+ padding9\l+ paddingA\l+ paddingB\l+ paddingC\l+ paddingD\l+ paddingE\l+ paddingF\l|}" alt="" coords="2951,811,3121,1451"/><area shape="rect" id="node59" href="structhlist__node.html" title="{hlist_node\n|+ next\l+ pprev\l|}" alt="" coords="3289,1079,3380,1182"/><area shape="rect" id="node62" href="structldlm__extent.html" title="{ldlm_extent\n|+ start\l+ end\l+ gid\l|}" alt="" coords="2672,3237,2776,3357"/><area shape="rect" id="node64" href="structldlm__inodebits.html" title="{ldlm_inodebits\n|+ bits\l|}" alt="" coords="2800,3255,2917,3340"/><area shape="rect" id="node69" href="structinterval__node.html" title="{interval_node\n|+ in_left\l+ in_right\l+ in_parent\l+ in_color\l+ in_intree\l+ in_res1\l+ in_res2\l+ in_max_high\l+ in_extent\l|}" alt="" coords="3175,5,3292,229"/><area shape="rect" id="node74" href="structlu__ref.html" title="{lu_ref\n||}" alt="" coords="2185,1088,2244,1173"/><area shape="rect" id="node104" href="structcl__2queue.html" title="A 2&#45;queue of pages." alt="" coords="1163,2046,1253,2149"/><area shape="rect" id="node108" href="structlu__fid.html" title="File IDentifier." alt="" coords="1991,399,2063,519"/><area shape="rect" id="node127" href="structost__id.html" title="OST object IDentifier." alt="" coords="2033,1053,2111,1208"/><area shape="rect" id="node114" href="structcl__io__rw__common.html" title="{cl_io_rw_common\n|+ crw_pos\l+ crw_count\l+ crw_nonblock\l|}" alt="" coords="1425,2037,1564,2157"/><area shape="rect" id="node146" href="structllog__logid.html" title="Identifier for a single log object." alt="" coords="2163,2667,2253,2770"/><area shape="rect" id="node132" href="structosc__io_1_1osc__async__cbargs.html" title="{osc_io::osc_async_cbargs\n|+ opc_rpc_sent\l+ opc_rc\l+ opc_sync\l|}" alt="" coords="2192,5428,2384,5548"/><area shape="rect" id="node139" href="structcl__io__operations.html" title="Per&#45;layer io operations." alt="" coords="457,3151,617,3444"/><area shape="rect" id="node144" href="structllog__cookie.html" title="log cookies are used to reference a specific log file and a record therein" alt="" coords="2157,3825,2269,3962"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__io_1_1osc__async__cbargs.html">osc_async_cbargs</a></td></tr>
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ee5ca22311af0cd83adac47b95af6ca"></a><!-- doxytag: member="osc_io::oi_cl" ref="a7ee5ca22311af0cd83adac47b95af6ca" args="" -->
struct <a class="el" href="structcl__io__slice.html">cl_io_slice</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__io.html#a7ee5ca22311af0cd83adac47b95af6ca">oi_cl</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">super class <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__io.html#a8dc8c1963fac8b54b8e5953f22352b3e">oi_lockless</a>:1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">true if this io is lockless.  <a href="#a8dc8c1963fac8b54b8e5953f22352b3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5b395882729990a4693d2e816799b92"></a><!-- doxytag: member="osc_io::oi_is_active" ref="ab5b395882729990a4693d2e816799b92" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__io.html#ab5b395882729990a4693d2e816799b92">oi_is_active</a>:1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">true if this io is counted as active IO <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac05667bcd9ece4df269f92cb403a95b1"></a><!-- doxytag: member="osc_io::oi_lru_reserved" ref="ac05667bcd9ece4df269f92cb403a95b1" args="" -->
unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__io.html#ac05667bcd9ece4df269f92cb403a95b1">oi_lru_reserved</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">how many LRU pages are reserved for this IO <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a30e221731b68077ff9bbd54d983ba4d6"></a><!-- doxytag: member="osc_io::oi_active" ref="a30e221731b68077ff9bbd54d983ba4d6" args="" -->
struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__io.html#a30e221731b68077ff9bbd54d983ba4d6">oi_active</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">active extents, we know how many bytes is going to be written, so having an active extent will prevent it from being fragmented <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosc__extent.html">osc_extent</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__io.html#afc3d50aeec62c272067b4e5f923ac420">oi_trunc</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">partially truncated extent, we need to hold this extent to prevent page writeback from happening.  <a href="#afc3d50aeec62c272067b4e5f923ac420"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structosc__lock.html">osc_lock</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosc__io.html#a40f597a8aa0127c8b2db17502f0dcbea">oi_write_osclock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write <a class="el" href="structosc__lock.html" title="osc-private state of cl_lock.">osc_lock</a> for this IO, used by osc_extent_find().  <a href="#a40f597a8aa0127c8b2db17502f0dcbea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a911bcb4bcb503a126e56884e6cf690e2"></a><!-- doxytag: member="osc_io::oi_oa" ref="a911bcb4bcb503a126e56884e6cf690e2" args="" -->
struct <a class="el" href="structobdo.html">obdo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>oi_oa</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4184ea162adabd628efd92008f85d711"></a><!-- doxytag: member="osc_io::oi_cbarg" ref="a4184ea162adabd628efd92008f85d711" args="" -->
struct <a class="el" href="structosc__io_1_1osc__async__cbargs.html">osc_io::osc_async_cbargs</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>oi_cbarg</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>State maintained by osc layer for each IO context. </p>

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00064">64</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a8dc8c1963fac8b54b8e5953f22352b3e"></a><!-- doxytag: member="osc_io::oi_lockless" ref="a8dc8c1963fac8b54b8e5953f22352b3e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structosc__io.html#a8dc8c1963fac8b54b8e5953f22352b3e">osc_io::oi_lockless</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>true if this io is lockless. </p>

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00068">68</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc3d50aeec62c272067b4e5f923ac420"></a><!-- doxytag: member="osc_io::oi_trunc" ref="afc3d50aeec62c272067b4e5f923ac420" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structosc__extent.html">osc_extent</a>* <a class="el" href="structosc__io.html#afc3d50aeec62c272067b4e5f923ac420">osc_io::oi_trunc</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>partially truncated extent, we need to hold this extent to prevent page writeback from happening. </p>

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00079">79</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a40f597a8aa0127c8b2db17502f0dcbea"></a><!-- doxytag: member="osc_io::oi_write_osclock" ref="a40f597a8aa0127c8b2db17502f0dcbea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structosc__lock.html">osc_lock</a>* <a class="el" href="structosc__io.html#a40f597a8aa0127c8b2db17502f0dcbea">osc_io::oi_write_osclock</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>write <a class="el" href="structosc__lock.html" title="osc-private state of cl_lock.">osc_lock</a> for this IO, used by osc_extent_find(). </p>

<p>Definition at line <a class="el" href="osc__cl__internal_8h_source.html#l00081">81</a> of file <a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/osc/<a class="el" href="osc__cl__internal_8h_source.html">osc_cl_internal.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 21:04:48 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
