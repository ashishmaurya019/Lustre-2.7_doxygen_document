<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: export</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>export<br/>
<small>
[<a class="el" href="group__obd__export.html">PortalRPC export definitions</a>,&nbsp;<a class="el" href="group__obd__import.html">PtlRPC import definitions</a>]</small>
</h1>
<p><div class="dynheader">
Collaboration diagram for export:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__export.png" border="0" alt="" usemap="#group____export_map"/>
<map name="group____export_map" id="group____export">
<area shape="rect" id="node1" href="group__obd__import.html" title="Imports are client&#45;side representation of remote obd target." alt="" coords="17,5,207,35"/><area shape="rect" id="node3" href="group__obd__export.html" title="PortalRPC export definitions" alt="" coords="5,59,219,88"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtg__export__data.html">tg_export_data</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Target-specific export data.  <a href="structtg__export__data.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmdt__export__data.html">mdt_export_data</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MDT-specific export data.  <a href="structmdt__export__data.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structec__export__data.html">ec_export_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfilter__export__data.html">filter_export_data</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Filter (oss-side) specific import data.  <a href="structfilter__export__data.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmgs__export__data.html">mgs_export_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnid__stat.html">nid_stat</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">per-NID statistics structure.  <a href="structnid__stat.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structobd__export.html">obd_export</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Export structure.  <a href="structobd__export.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkkuc__ct__data.html">kkuc_ct_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadaptive__timeout.html">adaptive_timeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__at__array.html">ptlrpc_at_array</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structimp__at.html">imp_at</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structobd__import__conn.html">obd_import_conn</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Definition of import connection structure.  <a href="structobd__import__conn.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structimport__state__hist.html">import_state_hist</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structobd__import.html">obd_import</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defintion of PortalRPC import structure.  <a href="structobd__import.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>nidstat_getref</b>(nidstat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>nidstat_putref</b>(nidstat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf794b3b436e0f6e57074080df1dde4f3"></a><!-- doxytag: member="export::exp_target_data" ref="gaf794b3b436e0f6e57074080df1dde4f3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>exp_target_data</b>&nbsp;&nbsp;&nbsp;u.eu_target_data</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac68d240fa8a29a09a61eb5d6343af163"></a><!-- doxytag: member="export::exp_mdt_data" ref="gac68d240fa8a29a09a61eb5d6343af163" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>exp_mdt_data</b>&nbsp;&nbsp;&nbsp;u.eu_mdt_data</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7c5e315fe486919decfd42ec7e15b56e"></a><!-- doxytag: member="export::exp_filter_data" ref="ga7c5e315fe486919decfd42ec7e15b56e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>exp_filter_data</b>&nbsp;&nbsp;&nbsp;u.eu_filter_data</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5f17b186ad6ede52fd9adc6c9d8446c2"></a><!-- doxytag: member="export::exp_ec_data" ref="ga5f17b186ad6ede52fd9adc6c9d8446c2" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>exp_ec_data</b>&nbsp;&nbsp;&nbsp;u.eu_ec_data</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9669ae433048c093ff6fde5ce211b7c0"></a><!-- doxytag: member="export::KKUC_CT_DATA_MAGIC" ref="ga9669ae433048c093ff6fde5ce211b7c0" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>KKUC_CT_DATA_MAGIC</b>&nbsp;&nbsp;&nbsp;0x092013cea</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacf34f6a59a8c120eac011294f4bdb39f"></a><!-- doxytag: member="export::IMP_STATE_HIST_LEN" ref="gacf34f6a59a8c120eac011294f4bdb39f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>IMP_STATE_HIST_LEN</b>&nbsp;&nbsp;&nbsp;16</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8a5d48126ef884f74f2de78ef49ea61a"></a><!-- doxytag: member="export::AT_OFF" ref="ga8a5d48126ef884f74f2de78ef49ea61a" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>AT_OFF</b>&nbsp;&nbsp;&nbsp;(at_max == 0)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>obd_option</b> { <b>OBD_OPT_FORCE</b> =  0x0001, 
<b>OBD_OPT_FAILOVER</b> =  0x0002, 
<b>OBD_OPT_ABORT_RECOV</b> =  0x0004
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__export.html#ga342f8de0ae2ad4b6cb54d4072d7a97a0">lustre_imp_state</a> { <br/>
&nbsp;&nbsp;<b>LUSTRE_IMP_CLOSED</b> =  1, 
<b>LUSTRE_IMP_NEW</b> =  2, 
<b>LUSTRE_IMP_DISCON</b> =  3, 
<b>LUSTRE_IMP_CONNECTING</b> =  4, 
<br/>
&nbsp;&nbsp;<b>LUSTRE_IMP_REPLAY</b> =  5, 
<b>LUSTRE_IMP_REPLAY_LOCKS</b> =  6, 
<b>LUSTRE_IMP_REPLAY_WAIT</b> =  7, 
<b>LUSTRE_IMP_RECOVER</b> =  8, 
<br/>
&nbsp;&nbsp;<b>LUSTRE_IMP_FULL</b> =  9, 
<b>LUSTRE_IMP_EVICTED</b> =  10
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Possible import states. </p>
<br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__export.html#ga25e24f2ae3efcc8caa89c9e6c4c47d31">obd_import_event</a> { <br/>
&nbsp;&nbsp;<b>IMP_EVENT_DISCON</b> =  0x808001, 
<b>IMP_EVENT_INACTIVE</b> =  0x808002, 
<b>IMP_EVENT_INVALIDATE</b> =  0x808003, 
<b>IMP_EVENT_ACTIVE</b> =  0x808004, 
<br/>
&nbsp;&nbsp;<b>IMP_EVENT_OCD</b> =  0x808005, 
<b>IMP_EVENT_DEACTIVATE</b> =  0x808006, 
<b>IMP_EVENT_ACTIVATE</b> =  0x808007
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>List of import event types. </p>
<br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga81cdb4586b1839c76ecdd5abb1eabe49"></a><!-- doxytag: member="export::class_conn2export" ref="ga81cdb4586b1839c76ecdd5abb1eabe49" args="(struct lustre_handle *conn)" -->
struct <a class="el" href="structobd__export.html">obd_export</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>class_conn2export</b> (struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *conn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9eb9294b977993c3739e9dda107a198a"></a><!-- doxytag: member="export::class_conn2obd" ref="ga9eb9294b977993c3739e9dda107a198a" args="(struct lustre_handle *conn)" -->
struct <a class="el" href="structobd__device.html">obd_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>class_conn2obd</b> (struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *conn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7f701ef24e4393b42eb56ffc4777a1d8"></a><!-- doxytag: member="export::at_measured" ref="ga7f701ef24e4393b42eb56ffc4777a1d8" args="(struct adaptive_timeout *at, unsigned int val)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>at_measured</b> (struct <a class="el" href="structadaptive__timeout.html">adaptive_timeout</a> *at, unsigned int val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga10463580b3fccbe5eb64e6a26026612a"></a><!-- doxytag: member="export::import_at_get_index" ref="ga10463580b3fccbe5eb64e6a26026612a" args="(struct obd_import *imp, int portal)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>import_at_get_index</b> (struct <a class="el" href="structobd__import.html">obd_import</a> *imp, int portal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2d80493ea727d72caf23f5ef37b4b428"></a><!-- doxytag: member="export::class_exp2cliimp" ref="ga2d80493ea727d72caf23f5ef37b4b428" args="(struct obd_export *)" -->
struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>class_exp2cliimp</b> (struct <a class="el" href="structobd__export.html">obd_export</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaab9451565513d413256625621d049257"></a><!-- doxytag: member="export::class_conn2cliimp" ref="gaab9451565513d413256625621d049257" args="(struct lustre_handle *)" -->
struct <a class="el" href="structobd__import.html">obd_import</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>class_conn2cliimp</b> (struct <a class="el" href="structlustre__handle.html">lustre_handle</a> *)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac018b3cde737ca787e95380e27734ffd"></a><!-- doxytag: member="export::at_min" ref="gac018b3cde737ca787e95380e27734ffd" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>at_min</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad437939efbc33a157b6f386ac4a92ecb"></a><!-- doxytag: member="export::at_max" ref="gad437939efbc33a157b6f386ac4a92ecb" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>at_max</b></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>lustre_at_flags</b> { <b>LATF_SKIP</b> =  0x0, 
<b>LATF_STATS</b> =  0x1
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1e9af31f1c737a82f0c1fb7dac29a322"></a><!-- doxytag: member="export::D_ADAPTTO" ref="ga1e9af31f1c737a82f0c1fb7dac29a322" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__export.html#ga1e9af31f1c737a82f0c1fb7dac29a322">D_ADAPTTO</a>&nbsp;&nbsp;&nbsp;D_OTHER</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adaptive Timeout stuff. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga219e0b94e6fea506a08d4fc3ac6cb3e0"></a><!-- doxytag: member="export::AT_BINS" ref="ga219e0b94e6fea506a08d4fc3ac6cb3e0" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>AT_BINS</b>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9d576a6bc43d22e5a3e8ffc7a3e4b794"></a><!-- doxytag: member="export::AT_FLG_NOHIST" ref="ga9d576a6bc43d22e5a3e8ffc7a3e4b794" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>AT_FLG_NOHIST</b>&nbsp;&nbsp;&nbsp;0x1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga39e7696b77c272f1061303494beeeea5"></a><!-- doxytag: member="export::IMP_AT_MAX_PORTALS" ref="ga39e7696b77c272f1061303494beeeea5" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>IMP_AT_MAX_PORTALS</b>&nbsp;&nbsp;&nbsp;8</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga15249de430b8a3e9d41910110543aab5"></a><!-- doxytag: member="lustre_export.h::nidstat_getref" ref="ga15249de430b8a3e9d41910110543aab5" args="(nidstat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nidstat_getref</td>
          <td>(</td>
          <td class="paramtype">nidstat&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                                           \
        atomic_inc(&amp;(nidstat)-&gt;nid_exp_ref_count);                         \
} <span class="keywordflow">while</span>(0)
</pre></div>
<p>Definition at line <a class="el" href="lustre__export_8h_source.html#l00144">144</a> of file <a class="el" href="lustre__export_8h_source.html">lustre_export.h</a>.</p>

</div>
</div>
<a class="anchor" id="gafac1f8c41328de76a2caa1b0becd997a"></a><!-- doxytag: member="lustre_export.h::nidstat_putref" ref="gafac1f8c41328de76a2caa1b0becd997a" args="(nidstat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nidstat_putref</td>
          <td>(</td>
          <td class="paramtype">nidstat&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                                           \
        atomic_dec(&amp;(nidstat)-&gt;nid_exp_ref_count);                         \
        LASSERTF(atomic_read(&amp;(nidstat)-&gt;nid_exp_ref_count) &gt;= 0,          \
                 <span class="stringliteral">&quot;stat %p nid_exp_ref_count &lt; 0\n&quot;</span>, nidstat);                  \
} <span class="keywordflow">while</span>(0)
</pre></div>
<p>Definition at line <a class="el" href="lustre__export_8h_source.html#l00149">149</a> of file <a class="el" href="lustre__export_8h_source.html">lustre_export.h</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:55:43 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
