<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lnet/selftest/console.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>lnet/selftest/console.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * GPL HEADER START</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * This program is free software; you can redistribute it and/or modify</span>
<a name="l00007"></a>00007 <span class="comment"> * it under the terms of the GNU General Public License version 2 only,</span>
<a name="l00008"></a>00008 <span class="comment"> * as published by the Free Software Foundation.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * This program is distributed in the hope that it will be useful, but</span>
<a name="l00011"></a>00011 <span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00013"></a>00013 <span class="comment"> * General Public License version 2 for more details (a copy is included</span>
<a name="l00014"></a>00014 <span class="comment"> * in the LICENSE file that accompanied this code).</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment"> * version 2 along with this program; If not, see</span>
<a name="l00018"></a>00018 <span class="comment"> * http://www.sun.com/software/products/lustre/docs/GPLv2.pdf</span>
<a name="l00019"></a>00019 <span class="comment"> *</span>
<a name="l00020"></a>00020 <span class="comment"> * Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa Clara,</span>
<a name="l00021"></a>00021 <span class="comment"> * CA 95054 USA or visit www.sun.com if you need additional information or</span>
<a name="l00022"></a>00022 <span class="comment"> * have any questions.</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * GPL HEADER END</span>
<a name="l00025"></a>00025 <span class="comment"> */</span>
<a name="l00026"></a>00026 <span class="comment">/*</span>
<a name="l00027"></a>00027 <span class="comment"> * Copyright (c) 2007, 2010, Oracle and/or its affiliates. All rights reserved.</span>
<a name="l00028"></a>00028 <span class="comment"> * Use is subject to license terms.</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> * Copyright (c) 2012, 2013, Intel Corporation.</span>
<a name="l00031"></a>00031 <span class="comment"> */</span>
<a name="l00032"></a>00032 <span class="comment">/*</span>
<a name="l00033"></a>00033 <span class="comment"> * This file is part of Lustre, http://www.lustre.org/</span>
<a name="l00034"></a>00034 <span class="comment"> * Lustre is a trademark of Sun Microsystems, Inc.</span>
<a name="l00035"></a>00035 <span class="comment"> *</span>
<a name="l00036"></a>00036 <span class="comment"> * lnet/selftest/console.h</span>
<a name="l00037"></a>00037 <span class="comment"> *</span>
<a name="l00038"></a>00038 <span class="comment"> * kernel structure for LST console</span>
<a name="l00039"></a>00039 <span class="comment"> *</span>
<a name="l00040"></a>00040 <span class="comment"> * Author: Liang Zhen &lt;liangzhen@clusterfs.com&gt;</span>
<a name="l00041"></a>00041 <span class="comment"> */</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="preprocessor">#ifndef __LST_CONSOLE_H__</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span><span class="preprocessor">#define __LST_CONSOLE_H__</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;libcfs/libcfs.h&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;lnet/lnet.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;lnet/lib-types.h&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;lnet/lnetst.h&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;selftest.h&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;conrpc.h&quot;</span>
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="structlstcon__node.html">00054</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structlstcon__node.html">lstcon_node</a> {
<a name="l00055"></a>00055         <a class="code" href="structlnet__process__id__t.html" title="Global process ID.">lnet_process_id_t</a>    nd_id;          <span class="comment">/* id of the node */</span>
<a name="l00056"></a>00056         <span class="keywordtype">int</span>                  nd_ref;         <span class="comment">/* reference count */</span>
<a name="l00057"></a>00057         <span class="keywordtype">int</span>                  nd_state;       <span class="comment">/* state of the node */</span>
<a name="l00058"></a>00058         <span class="keywordtype">int</span>                  nd_timeout;     <span class="comment">/* session timeout */</span>
<a name="l00059"></a>00059         cfs_time_t           nd_stamp;       <span class="comment">/* timestamp of last replied RPC */</span>
<a name="l00060"></a>00060         <span class="keyword">struct </span><a class="code" href="structlstcon__rpc.html">lstcon_rpc</a>    nd_ping;        <span class="comment">/* ping rpc */</span>
<a name="l00061"></a>00061 } <a class="code" href="structlstcon__node.html">lstcon_node_t</a>;                                <span class="comment">/*** node descriptor */</span>
<a name="l00062"></a>00062 
<a name="l00063"></a><a class="code" href="structlstcon__ndlink__t.html">00063</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00064"></a>00064         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        ndl_link;       <span class="comment">/* chain on list */</span>
<a name="l00065"></a>00065         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        ndl_hlink;      <span class="comment">/* chain on hash */</span>
<a name="l00066"></a>00066         <a class="code" href="structlstcon__node.html">lstcon_node_t</a>           *ndl_node;      <span class="comment">/* pointer to node */</span>
<a name="l00067"></a>00067 } <a class="code" href="structlstcon__ndlink__t.html">lstcon_ndlink_t</a>;                              <span class="comment">/*** node link descriptor */</span>
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="structlstcon__group__t.html">00069</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00070"></a>00070         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        grp_link;       <span class="comment">/* chain on global group list */</span>
<a name="l00071"></a>00071         <span class="keywordtype">int</span>                     grp_ref;        <span class="comment">/* reference count */</span>
<a name="l00072"></a>00072         <span class="keywordtype">int</span>                     grp_userland;   <span class="comment">/* has userland nodes */</span>
<a name="l00073"></a>00073         <span class="keywordtype">int</span>                     grp_nnode;      <span class="comment">/* # of nodes */</span>
<a name="l00074"></a>00074         <span class="keywordtype">char</span>                    grp_name[LST_NAME_SIZE];        <span class="comment">/* group name */</span>
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        grp_trans_list; <span class="comment">/* transaction list */</span>
<a name="l00077"></a>00077         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        grp_ndl_list;   <span class="comment">/* nodes list */</span>
<a name="l00078"></a>00078         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        grp_ndl_hash[0];<span class="comment">/* hash table for nodes */</span>
<a name="l00079"></a>00079 } <a class="code" href="structlstcon__group__t.html">lstcon_group_t</a>;               <span class="comment">/*** (alias of nodes) group descriptor */</span>
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="preprocessor">#define LST_BATCH_IDLE          0xB0            </span><span class="comment">/* idle batch */</span>
<a name="l00082"></a>00082 <span class="preprocessor">#define LST_BATCH_RUNNING       0xB1            </span><span class="comment">/* running batch */</span>
<a name="l00083"></a>00083 
<a name="l00084"></a><a class="code" href="structlstcon__tsb__hdr.html">00084</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structlstcon__tsb__hdr.html">lstcon_tsb_hdr</a> {
<a name="l00085"></a>00085         <a class="code" href="structlst__bid__t.html">lst_bid_t</a>               tsb_id;         <span class="comment">/* batch ID */</span>
<a name="l00086"></a>00086         <span class="keywordtype">int</span>                     tsb_index;      <span class="comment">/* test index */</span>
<a name="l00087"></a>00087 } <a class="code" href="structlstcon__tsb__hdr.html">lstcon_tsb_hdr_t</a>;
<a name="l00088"></a>00088 
<a name="l00089"></a><a class="code" href="structlstcon__batch__t.html">00089</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00090"></a>00090         <span class="comment">/* test_batch header */</span>
<a name="l00091"></a>00091         <a class="code" href="structlstcon__tsb__hdr.html">lstcon_tsb_hdr_t</a>        bat_hdr;
<a name="l00092"></a>00092         <span class="comment">/* chain on session&apos;s batches list */</span>
<a name="l00093"></a>00093         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        bat_link;
<a name="l00094"></a>00094         <span class="comment">/* # of test */</span>
<a name="l00095"></a>00095         <span class="keywordtype">int</span>                     bat_ntest;
<a name="l00096"></a>00096         <span class="comment">/* state of the batch */</span>
<a name="l00097"></a>00097         <span class="keywordtype">int</span>                     bat_state;
<a name="l00098"></a>00098         <span class="comment">/* parameter for run|stop, timeout for run, force for stop */</span>
<a name="l00099"></a>00099         <span class="keywordtype">int</span>                     bat_arg;
<a name="l00100"></a>00100         <span class="comment">/* name of batch */</span>
<a name="l00101"></a>00101         <span class="keywordtype">char</span>                    bat_name[LST_NAME_SIZE];
<a name="l00102"></a>00102 
<a name="l00103"></a>00103         <span class="comment">/* list head of tests (lstcon_test_t) */</span>
<a name="l00104"></a>00104         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        bat_test_list;
<a name="l00105"></a>00105         <span class="comment">/* list head of transaction */</span>
<a name="l00106"></a>00106         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        bat_trans_list;
<a name="l00107"></a>00107         <span class="comment">/* list head of client nodes (lstcon_node_t) */</span>
<a name="l00108"></a>00108         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        bat_cli_list;
<a name="l00109"></a>00109         <span class="comment">/* hash table of client nodes */</span>
<a name="l00110"></a>00110         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        *bat_cli_hash;
<a name="l00111"></a>00111         <span class="comment">/* list head of server nodes */</span>
<a name="l00112"></a>00112         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        bat_srv_list;
<a name="l00113"></a>00113         <span class="comment">/* hash table of server nodes */</span>
<a name="l00114"></a>00114         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        *bat_srv_hash;
<a name="l00115"></a>00115 } <a class="code" href="structlstcon__batch__t.html">lstcon_batch_t</a>;               <span class="comment">/*** (tests ) batch descritptor */</span>
<a name="l00116"></a>00116 
<a name="l00117"></a><a class="code" href="structlstcon__test.html">00117</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structlstcon__test.html">lstcon_test</a> {
<a name="l00118"></a>00118         <span class="comment">/* test batch header */</span>
<a name="l00119"></a>00119         <a class="code" href="structlstcon__tsb__hdr.html">lstcon_tsb_hdr_t</a>        tes_hdr;
<a name="l00120"></a>00120         <span class="comment">/* chain on batch&apos;s tests list */</span>
<a name="l00121"></a>00121         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        tes_link;
<a name="l00122"></a>00122         <span class="comment">/* pointer to batch */</span>
<a name="l00123"></a>00123         <a class="code" href="structlstcon__batch__t.html">lstcon_batch_t</a>         *tes_batch;
<a name="l00124"></a>00124 
<a name="l00125"></a>00125         <span class="keywordtype">int</span>                   tes_type;       <span class="comment">/* type of the test, i.e: bulk, ping */</span>
<a name="l00126"></a>00126         <span class="keywordtype">int</span>                   tes_stop_onerr; <span class="comment">/* stop on error */</span>
<a name="l00127"></a>00127         <span class="keywordtype">int</span>                   tes_oneside;    <span class="comment">/* one-sided test */</span>
<a name="l00128"></a>00128         <span class="keywordtype">int</span>                   tes_concur;     <span class="comment">/* concurrency */</span>
<a name="l00129"></a>00129         <span class="keywordtype">int</span>                   tes_loop;       <span class="comment">/* loop count */</span>
<a name="l00130"></a>00130         <span class="keywordtype">int</span>                   tes_dist;       <span class="comment">/* nodes distribution of target group */</span>
<a name="l00131"></a>00131         <span class="keywordtype">int</span>                   tes_span;       <span class="comment">/* nodes span of target group */</span>
<a name="l00132"></a>00132         <span class="keywordtype">int</span>                   tes_cliidx;     <span class="comment">/* client index, used for RPC creating */</span>
<a name="l00133"></a>00133 
<a name="l00134"></a>00134         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        tes_trans_list; <span class="comment">/* transaction list */</span>
<a name="l00135"></a>00135         <a class="code" href="structlstcon__group__t.html">lstcon_group_t</a>          *tes_src_grp;   <span class="comment">/* group run the test */</span>
<a name="l00136"></a>00136         <a class="code" href="structlstcon__group__t.html">lstcon_group_t</a>          *tes_dst_grp;   <span class="comment">/* target group */</span>
<a name="l00137"></a>00137 
<a name="l00138"></a>00138         <span class="keywordtype">int</span>                   tes_paramlen;   <span class="comment">/* test parameter length */</span>
<a name="l00139"></a>00139         <span class="keywordtype">char</span>                  tes_param[0];   <span class="comment">/* test parameter */</span>
<a name="l00140"></a>00140 } <a class="code" href="structlstcon__test.html">lstcon_test_t</a>;                                <span class="comment">/*** a single test descriptor */</span>
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <span class="preprocessor">#define LST_GLOBAL_HASHSIZE     503             </span><span class="comment">/* global nodes hash table size */</span>
<a name="l00143"></a>00143 <span class="preprocessor">#define LST_NODE_HASHSIZE       239             </span><span class="comment">/* node hash table (for batch or group) */</span>
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 <span class="preprocessor">#define LST_SESSION_NONE        0x0             </span><span class="comment">/* no session */</span>
<a name="l00146"></a>00146 <span class="preprocessor">#define LST_SESSION_ACTIVE      0x1             </span><span class="comment">/* working session */</span>
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 <span class="preprocessor">#define LST_CONSOLE_TIMEOUT     300             </span><span class="comment">/* default console timeout */</span>
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="structlstcon__session__t.html">00150</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00151"></a>00151         <span class="keyword">struct </span>mutex            ses_mutex;      <span class="comment">/* only 1 thread in session */</span>
<a name="l00152"></a>00152         <a class="code" href="structlst__sid__t.html">lst_sid_t</a>               ses_id;         <span class="comment">/* global session id */</span>
<a name="l00153"></a>00153         <span class="keywordtype">int</span>                     ses_key;        <span class="comment">/* local session key */</span>
<a name="l00154"></a>00154         <span class="keywordtype">int</span>                     ses_state;      <span class="comment">/* state of session */</span>
<a name="l00155"></a>00155         <span class="keywordtype">int</span>                     ses_timeout;    <span class="comment">/* timeout in seconds */</span>
<a name="l00156"></a>00156         time_t                  ses_laststamp;  <span class="comment">/* last operation stamp (seconds) */</span>
<a name="l00158"></a><a class="code" href="structlstcon__session__t.html#a4200b6f15697b65e1863e6f989bc0b34">00158</a>         <span class="keywordtype">unsigned</span>                ses_features;
<a name="l00160"></a><a class="code" href="structlstcon__session__t.html#a86d13504f3c4925bf81cd4b005654607">00160</a>         <span class="keywordtype">unsigned</span>                ses_feats_updated:1;
<a name="l00162"></a><a class="code" href="structlstcon__session__t.html#a3677666c22fbbdc21721385869d4fb6c">00162</a>         <span class="keywordtype">unsigned</span>                ses_force:1;
<a name="l00164"></a><a class="code" href="structlstcon__session__t.html#a99aa6350f04cedefad5c66312075014f">00164</a>         <span class="keywordtype">unsigned</span>                ses_shutdown:1;
<a name="l00166"></a><a class="code" href="structlstcon__session__t.html#a3578b47d1210a7a9497e63e501cb7646">00166</a>         <span class="keywordtype">unsigned</span>                ses_expired:1;
<a name="l00167"></a>00167         __u64                   ses_id_cookie;  <span class="comment">/* batch id cookie */</span>
<a name="l00168"></a>00168         <span class="keywordtype">char</span>                    ses_name[LST_NAME_SIZE];  <span class="comment">/* session name */</span>
<a name="l00169"></a>00169         <a class="code" href="structlstcon__rpc__trans.html">lstcon_rpc_trans_t</a>     *ses_ping;       <span class="comment">/* session pinger */</span>
<a name="l00170"></a>00170         <a class="code" href="structstt__timer__t.html">stt_timer_t</a>             ses_ping_timer; <span class="comment">/* timer for pinger */</span>
<a name="l00171"></a>00171         <a class="code" href="structlstcon__trans__stat__t.html">lstcon_trans_stat_t</a>     ses_trans_stat; <span class="comment">/* transaction stats */</span>
<a name="l00172"></a>00172 
<a name="l00173"></a>00173         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        ses_trans_list; <span class="comment">/* global list of transaction */</span>
<a name="l00174"></a>00174         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        ses_grp_list;   <span class="comment">/* global list of groups */</span>
<a name="l00175"></a>00175         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        ses_bat_list;   <span class="comment">/* global list of batches */</span>
<a name="l00176"></a>00176         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        ses_ndl_list;   <span class="comment">/* global list of nodes */</span>
<a name="l00177"></a>00177         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        *ses_ndl_hash;  <span class="comment">/* hash table of nodes */</span>
<a name="l00178"></a>00178 
<a name="l00179"></a>00179         spinlock_t              ses_rpc_lock;   <span class="comment">/* serialize */</span>
<a name="l00180"></a>00180         atomic_t                ses_rpc_counter;<span class="comment">/* # of initialized RPCs */</span>
<a name="l00181"></a>00181         <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a>        ses_rpc_freelist;<span class="comment">/* idle console rpc */</span>
<a name="l00182"></a>00182 } <a class="code" href="structlstcon__session__t.html">lstcon_session_t</a>;             <span class="comment">/*** session descriptor */</span>
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="keyword">extern</span> <a class="code" href="structlstcon__session__t.html">lstcon_session_t</a>         console_session;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="structlstcon__trans__stat__t.html">lstcon_trans_stat_t</a> *
<a name="l00187"></a>00187 lstcon_trans_stat(<span class="keywordtype">void</span>)
<a name="l00188"></a>00188 {
<a name="l00189"></a>00189         <span class="keywordflow">return</span> &amp;console_session.ses_trans_stat;
<a name="l00190"></a>00190 }
<a name="l00191"></a>00191 
<a name="l00192"></a>00192 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structlist__head.html">list_head</a> *
<a name="l00193"></a>00193 lstcon_id2hash(<a class="code" href="structlnet__process__id__t.html" title="Global process ID.">lnet_process_id_t</a> <span class="keywordtype">id</span>, <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> *hash)
<a name="l00194"></a>00194 {
<a name="l00195"></a>00195         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx = LNET_NIDADDR(<span class="keywordtype">id</span>.nid) % LST_NODE_HASHSIZE;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197         <span class="keywordflow">return</span> &amp;hash[idx];
<a name="l00198"></a>00198 }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_session_match(<a class="code" href="structlst__sid__t.html">lst_sid_t</a> sid);
<a name="l00201"></a>00201 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_session_new(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> key, <span class="keywordtype">unsigned</span> version,
<a name="l00202"></a>00202                               <span class="keywordtype">int</span> timeout, <span class="keywordtype">int</span> flags, <a class="code" href="structlst__sid__t.html">lst_sid_t</a> __user *sid_up);
<a name="l00203"></a>00203 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_session_info(<a class="code" href="structlst__sid__t.html">lst_sid_t</a> __user *sid_up, <span class="keywordtype">int</span> __user *key,
<a name="l00204"></a>00204                                <span class="keywordtype">unsigned</span> __user *verp,
<a name="l00205"></a>00205                                <a class="code" href="structlstcon__ndlist__ent__t.html">lstcon_ndlist_ent_t</a> __user *entp,
<a name="l00206"></a>00206                                <span class="keywordtype">char</span> __user *name_up, <span class="keywordtype">int</span> len);
<a name="l00207"></a>00207 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_session_end(<span class="keywordtype">void</span>);
<a name="l00208"></a>00208 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_session_debug(<span class="keywordtype">int</span> timeout,
<a name="l00209"></a>00209                                 <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00210"></a>00210 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_session_feats_check(<span class="keywordtype">unsigned</span> feats);
<a name="l00211"></a>00211 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_batch_debug(<span class="keywordtype">int</span> timeout, <span class="keywordtype">char</span> *name,
<a name="l00212"></a>00212                               <span class="keywordtype">int</span> client, <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00213"></a>00213 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_group_debug(<span class="keywordtype">int</span> timeout, <span class="keywordtype">char</span> *name,
<a name="l00214"></a>00214                               <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00215"></a>00215 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_nodes_debug(<span class="keywordtype">int</span> timeout, <span class="keywordtype">int</span> nnd,
<a name="l00216"></a>00216                               <a class="code" href="structlnet__process__id__t.html" title="Global process ID.">lnet_process_id_t</a> __user *nds_up,
<a name="l00217"></a>00217                               <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00218"></a>00218 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_group_add(<span class="keywordtype">char</span> *name);
<a name="l00219"></a>00219 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_group_del(<span class="keywordtype">char</span> *name);
<a name="l00220"></a>00220 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_group_clean(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> args);
<a name="l00221"></a>00221 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_group_refresh(<span class="keywordtype">char</span> *name, <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00222"></a>00222 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_nodes_add(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> nnd,
<a name="l00223"></a>00223                             <a class="code" href="structlnet__process__id__t.html" title="Global process ID.">lnet_process_id_t</a> __user *nds_up,
<a name="l00224"></a>00224                             <span class="keywordtype">unsigned</span> *featp,
<a name="l00225"></a>00225                             <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00226"></a>00226 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_nodes_remove(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> nnd,
<a name="l00227"></a>00227                                <a class="code" href="structlnet__process__id__t.html" title="Global process ID.">lnet_process_id_t</a> __user *nds_up,
<a name="l00228"></a>00228                                <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00229"></a>00229 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_group_info(<span class="keywordtype">char</span> *name, <a class="code" href="structlstcon__ndlist__ent__t.html">lstcon_ndlist_ent_t</a> __user *gent_up,
<a name="l00230"></a>00230                              <span class="keywordtype">int</span> *index_p, <span class="keywordtype">int</span> *ndent_p,
<a name="l00231"></a>00231                              <a class="code" href="structlstcon__node__ent__t.html">lstcon_node_ent_t</a> __user *ndents_up);
<a name="l00232"></a>00232 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_group_list(<span class="keywordtype">int</span> idx, <span class="keywordtype">int</span> len, <span class="keywordtype">char</span> __user *name_up);
<a name="l00233"></a>00233 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_batch_add(<span class="keywordtype">char</span> *name);
<a name="l00234"></a>00234 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_batch_run(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> timeout,
<a name="l00235"></a>00235                             <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00236"></a>00236 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_batch_stop(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> force,
<a name="l00237"></a>00237                              <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00238"></a>00238 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_test_batch_query(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> testidx,
<a name="l00239"></a>00239                                    <span class="keywordtype">int</span> client, <span class="keywordtype">int</span> timeout,
<a name="l00240"></a>00240                                    <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00241"></a>00241 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_batch_del(<span class="keywordtype">char</span> *name);
<a name="l00242"></a>00242 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_batch_list(<span class="keywordtype">int</span> idx, <span class="keywordtype">int</span> namelen, <span class="keywordtype">char</span> __user *name_up);
<a name="l00243"></a>00243 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_batch_info(<span class="keywordtype">char</span> *name, <a class="code" href="structlstcon__test__batch__ent__t.html">lstcon_test_batch_ent_t</a> __user *ent_up,
<a name="l00244"></a>00244                              <span class="keywordtype">int</span> server, <span class="keywordtype">int</span> testidx, <span class="keywordtype">int</span> *index_p,
<a name="l00245"></a>00245                              <span class="keywordtype">int</span> *ndent_p, <a class="code" href="structlstcon__node__ent__t.html">lstcon_node_ent_t</a> __user *dents_up);
<a name="l00246"></a>00246 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_group_stat(<span class="keywordtype">char</span> *grp_name, <span class="keywordtype">int</span> timeout,
<a name="l00247"></a>00247                              <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00248"></a>00248 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_nodes_stat(<span class="keywordtype">int</span> count, <a class="code" href="structlnet__process__id__t.html" title="Global process ID.">lnet_process_id_t</a> __user *ids_up,
<a name="l00249"></a>00249                              <span class="keywordtype">int</span> timeout, <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00250"></a>00250 <span class="keyword">extern</span> <span class="keywordtype">int</span> lstcon_test_add(<span class="keywordtype">char</span> *batch_name, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> loop,
<a name="l00251"></a>00251                            <span class="keywordtype">int</span> concur, <span class="keywordtype">int</span> dist, <span class="keywordtype">int</span> span,
<a name="l00252"></a>00252                            <span class="keywordtype">char</span> *src_name, <span class="keywordtype">char</span> *dst_name,
<a name="l00253"></a>00253                            <span class="keywordtype">void</span> *param, <span class="keywordtype">int</span> paramlen, <span class="keywordtype">int</span> *retp,
<a name="l00254"></a>00254                            <span class="keyword">struct</span> <a class="code" href="structlist__head.html">list_head</a> __user *result_up);
<a name="l00255"></a>00255 
<a name="l00256"></a>00256 <span class="keywordtype">int</span> lstcon_console_init(<span class="keywordtype">void</span>);
<a name="l00257"></a>00257 <span class="keywordtype">int</span> lstcon_console_fini(<span class="keywordtype">void</span>);
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:55:12 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
