<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: ptlrpc_nrs_request Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ptlrpc_nrs_request Struct Reference<br/>
<small>
[<a class="el" href="group__nrs.html">Network Request Scheduler</a>]</small>
</h1><!-- doxytag: class="ptlrpc_nrs_request" -->
<p>NRS request.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ptlrpc_nrs_request:</div>
<div class="dynsection">
<div class="center"><img src="structptlrpc__nrs__request__coll__graph.png" border="0" usemap="#ptlrpc__nrs__request_coll__map" alt="Collaboration graph"/></div>
<map name="ptlrpc__nrs__request_coll__map" id="ptlrpc__nrs__request_coll__map">
<area shape="rect" id="node9" href="structptlrpc__nrs__pol__ops.html" title="NRS policy operations." alt="" coords="520,1165,667,1459"/><area shape="rect" id="node2" href="structptlrpc__nrs__resource.html" title="NRS resource." alt="" coords="401,2357,556,2459"/><area shape="rect" id="node5" href="structptlrpc__nrs__policy.html" title="NRS policy." alt="" coords="676,1920,817,2179"/><area shape="rect" id="node16" href="structptlrpc__nrs.html" title="NRS head." alt="" coords="843,2261,1003,2555"/><area shape="rect" id="node7" href="structptlrpc__nrs__pol__desc.html" title="NRS policy registering descriptor." alt="" coords="743,1646,929,1853"/><area shape="rect" id="node12" href="structlist__head.html" title="{list_head\n|+ next\l+ prev\l|}" alt="" coords="844,201,927,303"/><area shape="rect" id="node19" href="structptlrpc__service__part.html" title="Definition of PortalRPC service partition data." alt="" coords="983,2638,1177,3469"/><area shape="rect" id="node24" href="structptlrpc__service.html" title="Definition of PortalRPC service." alt="" coords="1293,3537,1499,4055"/><area shape="rect" id="node41" href="structptlrpc__at__array.html" title="{ptlrpc_at_array\n|+ paa_reqs_array\l+ paa_size\l+ paa_count\l+ paa_deadline\l+ paa_reqs_count\l|}" alt="" coords="993,611,1135,765"/><area shape="rect" id="node45" href="structnrs__tbf__req.html" title="{nrs_tbf_req\n|+ tr_list\l+ tr_sequence\l|}" alt="" coords="480,431,600,534"/><area shape="rect" id="node60" href="structnrs__fifo__req.html" title="{nrs_fifo_req\n|+ fr_list\l+ fr_sequence\l|}" alt="" coords="624,431,741,534"/><area shape="rect" id="node22" href="structadaptive__timeout.html" title="{adaptive_timeout\n|+ at_binstart\l+ at_hist\l+ at_flags\l+ at_current\l+ at_worst_ever\l+ at_worst_time\l+ at_lock\l|}" alt="" coords="677,2313,819,2503"/><area shape="rect" id="node27" href="structlprocfs__stats.html" title="{lprocfs_stats\n|+ ls_num\l+ ls_biggest_alloc_num\l+ ls_flags\l+ ls_lock\l+ ls_cnt_header\l+ ls_percpu\l|}" alt="" coords="1391,2967,1567,3139"/><area shape="rect" id="node29" href="structlprocfs__percpu.html" title="{lprocfs_percpu\n|+ lp_cntr\l|}" alt="" coords="1407,2365,1524,2451"/><area shape="rect" id="node31" href="structlprocfs__counter.html" title="{lprocfs_counter\n|+ lc_count\l+ lc_min\l+ lc_max\l+ lc_sumsquare\l+ lc_array_sum\l|}" alt="" coords="1403,1972,1528,2127"/><area shape="rect" id="node33" href="structlprocfs__counter__header.html" title="{lprocfs_counter_header\n|+ lc_config\l+ lc_name\l+ lc_units\l|}" alt="" coords="1548,2348,1727,2468"/><area shape="rect" id="node35" href="structptlrpc__service__ops.html" title="{ptlrpc_service_ops\n|+ so_thr_init\l+ so_thr_done\l+ so_req_handler\l+ so_hpreq_handler\l+ so_req_printer\l|}" alt="" coords="1591,2976,1743,3131"/><area shape="rect" id="node38" href="structcfs__cpt__table.html" title="{cfs_cpt_table\n|+ ctb_nparts\l+ ctb_mask\l+ ctb_nodemask\l+ ctb_version\l|}" alt="" coords="1767,2985,1900,3122"/><area shape="rect" id="node48" href="structnrs__crrn__req.html" title="CRR&#45;N NRS request definition." alt="" coords="5,431,128,534"/><area shape="rect" id="node50" href="structnrs__orr__req.html" title="ORR/TRR NRS request definition." alt="" coords="317,379,456,586"/><area shape="rect" id="node52" href="structnrs__orr__key.html" title="As unique keys for grouping RPCs together, we use the object&#39;s OST FID for the..." alt="" coords="267,192,365,312"/><area shape="rect" id="node54" href="structlu__fid.html" title="File IDentifier." alt="" coords="280,5,352,125"/><area shape="rect" id="node56" href="structnrs__orr__req__range.html" title="Lower and upper byte offsets of a brw RPC." alt="" coords="389,201,531,303"/><area shape="rect" id="node58" href="structcfs__binheap__node.html" title="Binary heap node." alt="" coords="152,440,293,525"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff495a9624df874a4d9bf643ad1b4d20"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_res_ptrs" ref="aff495a9624df874a4d9bf643ad1b4d20" args="[NRS_RES_MAX]" -->
struct <a class="el" href="structptlrpc__nrs__resource.html">ptlrpc_nrs_resource</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#aff495a9624df874a4d9bf643ad1b4d20">nr_res_ptrs</a> [NRS_RES_MAX]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The request's resource hierarchy. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#ac61b0e631870da811a03cff16f013b46">nr_res_idx</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index into <a class="el" href="structptlrpc__nrs__request.html#aff495a9624df874a4d9bf643ad1b4d20" title="The request&#39;s resource hierarchy.">ptlrpc_nrs_request::nr_res_ptrs</a> of the resource of the policy that was used to enqueue the request.  <a href="#ac61b0e631870da811a03cff16f013b46"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac99512074e050a996bfc6ca036080a2f"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_initialized" ref="ac99512074e050a996bfc6ca036080a2f" args="" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><b>nr_initialized</b>:1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93ede77b7ca94be577bc4a17834c31da"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_enqueued" ref="a93ede77b7ca94be577bc4a17834c31da" args="" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><b>nr_enqueued</b>:1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80e711eebd94cbf365c79f7fe24653cb"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_started" ref="a80e711eebd94cbf365c79f7fe24653cb" args="" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><b>nr_started</b>:1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4e34bab8575002acc344920ab9c8b28"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_finalized" ref="aa4e34bab8575002acc344920ab9c8b28" args="" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><b>nr_finalized</b>:1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43129091fdfc5c7f70f30c8b73b97201"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_node" ref="a43129091fdfc5c7f70f30c8b73b97201" args="" -->
struct <a class="el" href="structcfs__binheap__node.html">cfs_binheap_node</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>nr_node</b></td></tr>
<tr><td class="memItemLeft" ><a class="anchor" id="acbdc1427ee55ee33c12d38a71a262f05"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_u" ref="acbdc1427ee55ee33c12d38a71a262f05" args="" -->
union {</td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;struct <a class="el" href="structnrs__fifo__req.html">nrs_fifo_req</a>&nbsp;&nbsp;&nbsp;<a class="el" href="structptlrpc__nrs__request.html#a2efba7b48cacbaadd4c9c6b762fc37e1">fifo</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fields for the FIFO policy. <br/></td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;struct <a class="el" href="structnrs__crrn__req.html">nrs_crrn_req</a>&nbsp;&nbsp;&nbsp;<a class="el" href="structptlrpc__nrs__request.html#a2c181f81132e92268322f6bcb2b0db63">crr</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CRR-N request defintion. <br/></td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;struct <a class="el" href="structnrs__orr__req.html">nrs_orr_req</a>&nbsp;&nbsp;&nbsp;<a class="el" href="structptlrpc__nrs__request.html#a557196ff063c995ef5ea81fd1ff03f4f">orr</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ORR and TRR share the same request definition. <br/></td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;struct <a class="el" href="structnrs__tbf__req.html">nrs_tbf_req</a>&nbsp;&nbsp;&nbsp;<a class="el" href="structptlrpc__nrs__request.html#a1a5bb62c816c8092b6005006e566474c">tbf</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TBF request definition. <br/></td></tr>
<tr><td class="memItemLeft" valign="top">}&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#acbdc1427ee55ee33c12d38a71a262f05">nr_u</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Policy-specific fields, used for determining a request's scheduling priority, and other supporting functionality. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f57e4b76f2e3952043cb551b7d34b00"></a><!-- doxytag: member="ptlrpc_nrs_request::ext" ref="a3f57e4b76f2e3952043cb551b7d34b00" args="" -->
void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__request.html#a3f57e4b76f2e3952043cb551b7d34b00">ext</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Externally-registering policies may want to use this to allocate their own request properties. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>NRS request. </p>
<p>Instances of this object exist embedded within <a class="el" href="structptlrpc__request.html" title="Represents remote procedure call.">ptlrpc_request</a>; the main purpose of this object is to hold references to the request's resources for the lifetime of the request, and to hold properties that policies use use for determining the request's scheduling priority. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00687">687</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ac61b0e631870da811a03cff16f013b46"></a><!-- doxytag: member="ptlrpc_nrs_request::nr_res_idx" ref="ac61b0e631870da811a03cff16f013b46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structptlrpc__nrs__request.html#ac61b0e631870da811a03cff16f013b46">ptlrpc_nrs_request::nr_res_idx</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Index into <a class="el" href="structptlrpc__nrs__request.html#aff495a9624df874a4d9bf643ad1b4d20" title="The request&#39;s resource hierarchy.">ptlrpc_nrs_request::nr_res_ptrs</a> of the resource of the policy that was used to enqueue the request. </p>
<dl class="see"><dt><b>See also:</b></dt><dd>nrs_request_enqueue() </dd></dl>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00698">698</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 21:06:41 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
