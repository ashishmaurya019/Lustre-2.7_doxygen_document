<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: ptlrpc_nrs_resource Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ptlrpc_nrs_resource Struct Reference<br/>
<small>
[<a class="el" href="group__nrs.html">Network Request Scheduler</a>]</small>
</h1><!-- doxytag: class="ptlrpc_nrs_resource" -->
<p>NRS resource.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ptlrpc_nrs_resource:</div>
<div class="dynsection">
<div class="center"><img src="structptlrpc__nrs__resource__coll__graph.png" border="0" usemap="#ptlrpc__nrs__resource_coll__map" alt="Collaboration graph"/></div>
<map name="ptlrpc__nrs__resource_coll__map" id="ptlrpc__nrs__resource_coll__map">
<area shape="rect" id="node9" href="structptlrpc__nrs__request.html" title="NRS request." alt="" coords="712,789,859,1083"/><area shape="rect" id="node3" href="structptlrpc__nrs__policy.html" title="NRS policy." alt="" coords="867,1920,1008,2179"/><area shape="rect" id="node34" href="structptlrpc__nrs.html" title="NRS head." alt="" coords="1120,2261,1280,2555"/><area shape="rect" id="node5" href="structptlrpc__nrs__pol__desc.html" title="NRS policy registering descriptor." alt="" coords="844,1646,1031,1853"/><area shape="rect" id="node7" href="structptlrpc__nrs__pol__ops.html" title="NRS policy operations." alt="" coords="824,1165,971,1459"/><area shape="rect" id="node12" href="structnrs__tbf__req.html" title="{nrs_tbf_req\n|+ tr_list\l+ tr_sequence\l|}" alt="" coords="580,431,700,534"/><area shape="rect" id="node14" href="structlist__head.html" title="{list_head\n|+ next\l+ prev\l|}" alt="" coords="1175,201,1257,303"/><area shape="rect" id="node29" href="structnrs__fifo__req.html" title="{nrs_fifo_req\n|+ fr_list\l+ fr_sequence\l|}" alt="" coords="871,431,988,534"/><area shape="rect" id="node37" href="structptlrpc__service__part.html" title="Definition of PortalRPC service partition data." alt="" coords="1284,2638,1479,3469"/><area shape="rect" id="node42" href="structptlrpc__service.html" title="Definition of PortalRPC service." alt="" coords="1595,3537,1800,4055"/><area shape="rect" id="node59" href="structptlrpc__at__array.html" title="{ptlrpc_at_array\n|+ paa_reqs_array\l+ paa_size\l+ paa_count\l+ paa_deadline\l+ paa_reqs_count\l|}" alt="" coords="1428,611,1569,765"/><area shape="rect" id="node17" href="structnrs__crrn__req.html" title="CRR&#45;N NRS request definition." alt="" coords="724,431,847,534"/><area shape="rect" id="node19" href="structnrs__orr__req.html" title="ORR/TRR NRS request definition." alt="" coords="91,379,229,586"/><area shape="rect" id="node21" href="structnrs__orr__key.html" title="As unique keys for grouping RPCs together, we use the object&#39;s OST FID for the..." alt="" coords="5,192,104,312"/><area shape="rect" id="node23" href="structlu__fid.html" title="File IDentifier." alt="" coords="19,5,91,125"/><area shape="rect" id="node25" href="structnrs__orr__req__range.html" title="Lower and upper byte offsets of a brw RPC." alt="" coords="128,201,269,303"/><area shape="rect" id="node27" href="structcfs__binheap__node.html" title="Binary heap node." alt="" coords="1012,440,1153,525"/><area shape="rect" id="node40" href="structadaptive__timeout.html" title="{adaptive_timeout\n|+ at_binstart\l+ at_hist\l+ at_flags\l+ at_current\l+ at_worst_ever\l+ at_worst_time\l+ at_lock\l|}" alt="" coords="955,2313,1096,2503"/><area shape="rect" id="node45" href="structlprocfs__stats.html" title="{lprocfs_stats\n|+ ls_num\l+ ls_biggest_alloc_num\l+ ls_flags\l+ ls_lock\l+ ls_cnt_header\l+ ls_percpu\l|}" alt="" coords="1692,2967,1868,3139"/><area shape="rect" id="node47" href="structlprocfs__percpu.html" title="{lprocfs_percpu\n|+ lp_cntr\l|}" alt="" coords="1708,2365,1825,2451"/><area shape="rect" id="node49" href="structlprocfs__counter.html" title="{lprocfs_counter\n|+ lc_count\l+ lc_min\l+ lc_max\l+ lc_sumsquare\l+ lc_array_sum\l|}" alt="" coords="1704,1972,1829,2127"/><area shape="rect" id="node51" href="structlprocfs__counter__header.html" title="{lprocfs_counter_header\n|+ lc_config\l+ lc_name\l+ lc_units\l|}" alt="" coords="1849,2348,2028,2468"/><area shape="rect" id="node53" href="structptlrpc__service__ops.html" title="{ptlrpc_service_ops\n|+ so_thr_init\l+ so_thr_done\l+ so_req_handler\l+ so_hpreq_handler\l+ so_req_printer\l|}" alt="" coords="1892,2976,2044,3131"/><area shape="rect" id="node56" href="structcfs__cpt__table.html" title="{cfs_cpt_table\n|+ ctb_nparts\l+ ctb_mask\l+ ctb_nodemask\l+ ctb_version\l|}" alt="" coords="2068,2985,2201,3122"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptlrpc__nrs__resource.html">ptlrpc_nrs_resource</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__resource.html#ad0e4dbe1fe93c3751bf54b78c6d81abd">res_parent</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This NRS resource's parent; is NULL for resources embedded in NRS policy instances; i.e.  <a href="#ad0e4dbe1fe93c3751bf54b78c6d81abd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5af26dd315bfb4faa7548c369dd35ee"></a><!-- doxytag: member="ptlrpc_nrs_resource::res_policy" ref="aa5af26dd315bfb4faa7548c369dd35ee" args="" -->
struct <a class="el" href="structptlrpc__nrs__policy.html">ptlrpc_nrs_policy</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structptlrpc__nrs__resource.html#aa5af26dd315bfb4faa7548c369dd35ee">res_policy</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The policy associated with this resource. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>NRS resource. </p>
<p>Resources are embedded into two types of NRS entities:</p>
<ul>
<li>Inside NRS policies, in the policy's private data in <a class="el" href="structptlrpc__nrs__policy.html#a65f5afb21e9da75ae93e9b0b64887272" title="Private policy data; varies by policy type.">ptlrpc_nrs_policy::pol_private</a></li>
<li>In objects that act as prime-level scheduling entities in different NRS policies; e.g. on a policy that performs round robin or similar order scheduling across client NIDs, there would be one NRS resource per unique client NID. On a policy which performs round robin scheduling across backend filesystem objects, there would be one resource associated with each of the backend filesystem objects partaking in the scheduling performed by the policy.</li>
</ul>
<p>NRS resources share a parent-child relationship, in which resources embedded in policy instances are the parent entities, with all scheduling entities a policy schedules across being the children, thus forming a simple resource hierarchy. This hierarchy may be extended with one or more levels in the future if the ability to have more than one primary policy is added.</p>
<p>Upon request initialization, references to the then active NRS policies are taken and used to later handle the dispatching of the request with one of these policies.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>nrs_resource_get_safe() </dd>
<dd>
ptlrpc_nrs_req_add() </dd></dl>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00656">656</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ad0e4dbe1fe93c3751bf54b78c6d81abd"></a><!-- doxytag: member="ptlrpc_nrs_resource::res_parent" ref="ad0e4dbe1fe93c3751bf54b78c6d81abd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptlrpc__nrs__resource.html">ptlrpc_nrs_resource</a>* <a class="el" href="structptlrpc__nrs__resource.html#ad0e4dbe1fe93c3751bf54b78c6d81abd">ptlrpc_nrs_resource::res_parent</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This NRS resource's parent; is NULL for resources embedded in NRS policy instances; i.e. </p>
<p>those are top-level ones. </p>

<p>Definition at line <a class="el" href="lustre__nrs_8h_source.html#l00661">661</a> of file <a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lustre/include/<a class="el" href="lustre__nrs_8h_source.html">lustre_nrs.h</a></li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 21:06:42 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
