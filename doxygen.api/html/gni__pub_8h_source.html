<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: lnet/klnds/gnilnd/gni_pub.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>lnet/klnds/gnilnd/gni_pub.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- c-basic-offset: 8; indent-tabs-mode: nil -*- */</span>
<a name="l00002"></a>00002 <span class="comment">/*</span>
<a name="l00003"></a>00003 <span class="comment">        Contains the user interface to the GNI. Kernel and User level.</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">        Copyright 2007 Cray Inc. All Rights Reserved.</span>
<a name="l00006"></a>00006 <span class="comment">        Written by Igor Gorodetsky &lt;igorodet@cray.com&gt;</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">        This program is free software; you can redistribute it and/or modify it</span>
<a name="l00009"></a>00009 <span class="comment">        under the terms of the GNU General Public License as published by the</span>
<a name="l00010"></a>00010 <span class="comment">        Free Software Foundation; either version 2 of the License,</span>
<a name="l00011"></a>00011 <span class="comment">        or (at your option) any later version.</span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="comment">        This program is distributed in the hope that it will be useful,</span>
<a name="l00014"></a>00014 <span class="comment">        but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00015"></a>00015 <span class="comment">        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
<a name="l00016"></a>00016 <span class="comment">        See the GNU General Public License for more details.</span>
<a name="l00017"></a>00017 <span class="comment"></span>
<a name="l00018"></a>00018 <span class="comment">        You should have received a copy of the GNU General Public License</span>
<a name="l00019"></a>00019 <span class="comment">        along with this program; if not, write to the Free Software Foundation, Inc.,</span>
<a name="l00020"></a>00020 <span class="comment">        51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA</span>
<a name="l00021"></a>00021 <span class="comment">*/</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#ifndef _GNI_PUB_H_</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#define _GNI_PUB_H_</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span>
<a name="l00028"></a>00028 {
<a name="l00029"></a>00029 <span class="preprocessor">#endif</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="preprocessor">#ifndef __KERNEL__</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#endif</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="comment">/* Common definitions for the kernel and the user level */</span>
<a name="l00036"></a>00036 
<a name="l00041"></a>00041 <span class="comment">/* Reflects major releases of GNI SW stack (e.g. support for new HW) */</span>
<a name="l00042"></a>00042 <span class="preprocessor">#define GNI_MAJOR_REV 0x00</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="comment">/* Reflects any uGNI API changes */</span>
<a name="l00044"></a>00044 <span class="preprocessor">#define GNI_MINOR_REV 0x5c</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span><span class="comment">/* Reflects any uGNI library code changes */</span>
<a name="l00046"></a>00046 <span class="preprocessor">#define GNI_CODE_REV  0x0000</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>
<a name="l00048"></a>00048 <span class="preprocessor">#define GNI_GET_MAJOR(value) ((value &gt;&gt; 24) &amp; 0xFF)</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">#define GNI_GET_MINOR(value) ((value &gt;&gt; 16) &amp; 0xFF)</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#define GNI_GET_REV(value) (value &amp; 0xFFFF)</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#define GNI_VERSION ((GNI_MAJOR_REV &lt;&lt; 24) | (GNI_MINOR_REV &lt;&lt; 16) | GNI_CODE_REV)</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#define GNI_VERSION_CHECK(maj,min,code) (((maj) &lt;&lt; 24) | ((min) &lt;&lt; 16) | code)</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 <span class="comment">/* Definitions of base versions where uGNI features are introduced */</span>
<a name="l00055"></a>00055 <span class="preprocessor">#define GNI_VERSION_FMA_SHARING  0x5b0000</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a>00057 <span class="comment">/* Specifies input and output arguments to GNI functions */</span>
<a name="l00058"></a>00058 <span class="preprocessor">#define IN</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span><span class="preprocessor">#define OUT</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span><span class="preprocessor">#define INOUT</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a>00062 <span class="comment">/* Reserved PTAGs.</span>
<a name="l00063"></a>00063 <span class="comment">   kernel apps: values  &lt; GNI_PTAG_USER_START,</span>
<a name="l00064"></a>00064 <span class="comment">   user apps: GNI_PTAG_USER_START &lt;= values &lt;= GNI_PTAG_USER_END</span>
<a name="l00065"></a>00065 <span class="comment">   HSN boot: value = GNI_PTAG_MAX</span>
<a name="l00066"></a>00066 <span class="comment"></span>
<a name="l00067"></a>00067 <span class="comment">   GNI_PTAG_* values were designed for use on Gemini systems.  User</span>
<a name="l00068"></a>00068 <span class="comment">   applications run on an Aries system should always use a PTAG value of</span>
<a name="l00069"></a>00069 <span class="comment">   &apos;GNI_FIND_ALLOC_PTAG&apos; to allow the driver to automatically allocate a valid</span>
<a name="l00070"></a>00070 <span class="comment">   protection tag.</span>
<a name="l00071"></a>00071 <span class="comment">*/</span>
<a name="l00072"></a>00072 <span class="keyword">enum</span> {
<a name="l00073"></a>00073         GNI_PTAG_LND = 1,
<a name="l00074"></a>00074         GNI_PTAG_OFED,
<a name="l00075"></a>00075         GNI_PTAG_USER_START,
<a name="l00076"></a>00076         GNI_PTAG_LND_KNC = 128,
<a name="l00077"></a>00077         GNI_PTAG_USER_END = 253,
<a name="l00078"></a>00078         GNI_PTAG_HSNBOOT = 254,
<a name="l00079"></a>00079         GNI_PTAG_MAX = 254,
<a name="l00080"></a>00080         GNI_PTAG_LB = 255
<a name="l00081"></a>00081 };
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="preprocessor">#define GNI_FIND_ALLOC_PTAG GNI_PTAG_LB</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>
<a name="l00085"></a>00085 <span class="comment">/* Reserved PKEYs.</span>
<a name="l00086"></a>00086 <span class="comment">   kernel apps: values  &lt; GNI_PKEY_USER_START,</span>
<a name="l00087"></a>00087 <span class="comment">   user apps: GNI_PTAG_USER_START &lt;= values &lt;= GNI_PKEY_USER_END</span>
<a name="l00088"></a>00088 <span class="comment">   HSN boot: value = GNI_PKEY_MAX */</span>
<a name="l00089"></a>00089 <span class="keyword">enum</span> {
<a name="l00090"></a>00090         GNI_PKEY_INVALID = 0,
<a name="l00091"></a>00091         GNI_PKEY_LND = 1,
<a name="l00092"></a>00092         GNI_PKEY_OFED,
<a name="l00093"></a>00093         GNI_PKEY_USER_START = 128,
<a name="l00094"></a>00094         GNI_PKEY_USER_END = 65407,
<a name="l00095"></a>00095         GNI_PKEY_HSNBOOT = 65408,
<a name="l00096"></a>00096         GNI_PKEY_MAX = 65534,
<a name="l00097"></a>00097         GNI_PKEY_LB = 65535
<a name="l00098"></a>00098 };
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="preprocessor">#define GNI_COOKIE_PKEY_MASK           0xFFFF</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><span class="preprocessor">#define GNI_COOKIE_PKEY_SHIFT          16</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span><span class="preprocessor">#define GNI_COOKIE_CBPS_MDD_MASK       0x7</span>
<a name="l00104"></a>00104 <span class="preprocessor"></span><span class="preprocessor">#define GNI_COOKIE_CBPS_MDD_SHIFT      3</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span><span class="comment">/* Macro to define COOKIE val (most useful to Aries).</span>
<a name="l00106"></a>00106 <span class="comment"> * cbps_mdd should be set at zero for now */</span>
<a name="l00107"></a>00107 <span class="preprocessor">#define GNI_JOB_CREATE_COOKIE(pkey, cbps_mdd) (((uint32_t)(pkey) &lt;&lt; GNI_COOKIE_PKEY_SHIFT) | (((cbps_mdd) &amp; GNI_COOKIE_CBPS_MDD_MASK) &lt;&lt; GNI_COOKIE_CBPS_MDD_SHIFT))</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>
<a name="l00109"></a>00109 <span class="comment">/* Registered memory handle */</span>
<a name="l00110"></a><a class="code" href="structgni__mem__handle.html">00110</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__mem__handle.html">gni_mem_handle</a> {
<a name="l00111"></a>00111         uint64_t        qword1;
<a name="l00112"></a>00112         uint64_t        qword2;
<a name="l00113"></a>00113 } <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_mem_handle_attr {
<a name="l00116"></a>00116         GNI_MEMHNDL_ATTR_READONLY = 1,
<a name="l00117"></a>00117         GNI_MEMHNDL_ATTR_VMDH,
<a name="l00118"></a>00118         GNI_MEMHNDL_ATTR_MRT,
<a name="l00119"></a>00119         GNI_MEMHNDL_ATTR_GART,
<a name="l00120"></a>00120         GNI_MEMHNDL_ATTR_IOMMU,
<a name="l00121"></a>00121         GNI_MEMHNDL_ATTR_PCI_IOMMU,
<a name="l00122"></a>00122         GNI_MEMHNDL_ATTR_CLONE
<a name="l00123"></a>00123 } gni_mem_handle_attr_t;
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="comment">/* Opaque handles */</span>
<a name="l00126"></a>00126 <span class="keyword">typedef</span> <span class="keyword">struct </span>gni_nic  *gni_nic_handle_t;
<a name="l00127"></a>00127 <span class="keyword">typedef</span> <span class="keyword">struct </span>gni_cdm  *gni_cdm_handle_t;
<a name="l00128"></a>00128 <span class="keyword">typedef</span> <span class="keyword">struct </span>gni_ep   *gni_ep_handle_t;
<a name="l00129"></a>00129 <span class="keyword">typedef</span> <span class="keyword">struct </span>gni_cq   *gni_cq_handle_t;
<a name="l00130"></a>00130 <span class="keyword">typedef</span> <span class="keyword">struct </span>gni_err  *gni_err_handle_t;
<a name="l00131"></a>00131 <span class="keyword">typedef</span> <span class="keyword">struct </span>gni_msgq *gni_msgq_handle_t;
<a name="l00132"></a>00132 <span class="keyword">typedef</span> <span class="keyword">struct </span>gni_ce   *gni_ce_handle_t;
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <span class="comment">/* Short messaging types */</span>
<a name="l00135"></a>00135 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_smsg_type {
<a name="l00136"></a>00136         GNI_SMSG_TYPE_INVALID = 0,
<a name="l00137"></a>00137         GNI_SMSG_TYPE_MBOX,
<a name="l00138"></a>00138         GNI_SMSG_TYPE_MBOX_AUTO_RETRANSMIT
<a name="l00139"></a>00139 } gni_smsg_type_t;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="preprocessor">#define GNI_SMSG_ANY_TAG 0xFF</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span>
<a name="l00143"></a>00143 <span class="comment">/* Short messaging attributes */</span>
<a name="l00144"></a><a class="code" href="structgni__smsg__attr.html">00144</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__smsg__attr.html">gni_smsg_attr</a> {
<a name="l00145"></a>00145         gni_smsg_type_t         msg_type;
<a name="l00146"></a>00146         <span class="keywordtype">void</span>                    *msg_buffer;
<a name="l00147"></a>00147         uint32_t                buff_size;
<a name="l00148"></a>00148         <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>        mem_hndl;
<a name="l00149"></a>00149         uint32_t                mbox_offset;
<a name="l00150"></a>00150         uint16_t                mbox_maxcredit;
<a name="l00151"></a>00151         uint32_t                msg_maxsize;
<a name="l00152"></a>00152 } <a class="code" href="structgni__smsg__attr.html">gni_smsg_attr_t</a>;
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 <span class="comment">/* Maximum SMSG retransmit count default values */</span>
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="preprocessor">#define FMA_SMSG_MAX_RETRANS_DEFAULT    10</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span>
<a name="l00158"></a>00158 <span class="comment">/* Return codes */</span>
<a name="l00159"></a>00159 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_return {
<a name="l00160"></a>00160         GNI_RC_SUCCESS = 0,
<a name="l00161"></a>00161         GNI_RC_NOT_DONE,
<a name="l00162"></a>00162         GNI_RC_INVALID_PARAM,
<a name="l00163"></a>00163         GNI_RC_ERROR_RESOURCE,
<a name="l00164"></a>00164         GNI_RC_TIMEOUT,
<a name="l00165"></a>00165         GNI_RC_PERMISSION_ERROR,
<a name="l00166"></a>00166         GNI_RC_DESCRIPTOR_ERROR,
<a name="l00167"></a>00167         GNI_RC_ALIGNMENT_ERROR,
<a name="l00168"></a>00168         GNI_RC_INVALID_STATE,
<a name="l00169"></a>00169         GNI_RC_NO_MATCH,
<a name="l00170"></a>00170         GNI_RC_SIZE_ERROR,
<a name="l00171"></a>00171         GNI_RC_TRANSACTION_ERROR,
<a name="l00172"></a>00172         GNI_RC_ILLEGAL_OP,
<a name="l00173"></a>00173         GNI_RC_ERROR_NOMEM
<a name="l00174"></a>00174 } gni_return_t;
<a name="l00175"></a>00175 
<a name="l00176"></a>00176 <span class="comment">/* Communication domain modes */</span>
<a name="l00177"></a>00177 <span class="preprocessor">#define GNI_CDM_MODE_FORK_NOCOPY        0x00000001</span>
<a name="l00178"></a>00178 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_FORK_FULLCOPY      0x00000002</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_FORK_PARTCOPY      0x00000004 </span><span class="comment">/* default */</span>
<a name="l00180"></a>00180 <span class="comment">/* Do not kill the application for any type of error. For instance, when debugging. */</span>
<a name="l00181"></a>00181 <span class="preprocessor">#define GNI_CDM_MODE_ERR_NO_KILL        0x00000008</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span><span class="comment">/* Kill the application for any TRANSACTION errors. By default only a</span>
<a name="l00183"></a>00183 <span class="comment"> * subset will kill an application. The rest of the errors should be</span>
<a name="l00184"></a>00184 <span class="comment"> * reported through the CQ. Using this mode an application can request</span>
<a name="l00185"></a>00185 <span class="comment"> * being killed for all errors.</span>
<a name="l00186"></a>00186 <span class="comment"> */</span>
<a name="l00187"></a>00187 <span class="preprocessor">#define GNI_CDM_MODE_ERR_ALL_KILL       0x00000010</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span><span class="comment">/* Enable fast polling for GNI_EpPostDataTest,GNI_EpPostDataTestById</span>
<a name="l00189"></a>00189 <span class="comment"> * and GNI_PostDataProbe/GNI_PostDataProbeById.  Using this option may</span>
<a name="l00190"></a>00190 <span class="comment"> * result in loss of intermediate state information for datagram</span>
<a name="l00191"></a>00191 <span class="comment"> * transactions.</span>
<a name="l00192"></a>00192 <span class="comment"> */</span>
<a name="l00193"></a>00193 <span class="preprocessor">#define GNI_CDM_MODE_FAST_DATAGRAM_POLL 0x00000020</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span><span class="comment">/* Enable transmitting RDMA posts through one BTE channel, instead of</span>
<a name="l00195"></a>00195 <span class="comment"> * defaulting to using all three channels. This may be preferred for</span>
<a name="l00196"></a>00196 <span class="comment"> * some applications.</span>
<a name="l00197"></a>00197 <span class="comment"> */</span>
<a name="l00198"></a>00198 <span class="preprocessor">#define GNI_CDM_MODE_BTE_SINGLE_CHANNEL 0x00000040</span>
<a name="l00199"></a>00199 <span class="preprocessor"></span><span class="comment">/* User space may specify PCI_IOMMU to be used for all memory</span>
<a name="l00200"></a>00200 <span class="comment"> * transactions. Setting this will always attempt to use the root</span>
<a name="l00201"></a>00201 <span class="comment"> * complex&apos;s address translation in the PCI bridge. If this can not be</span>
<a name="l00202"></a>00202 <span class="comment"> * enabled, but is requested, all memory registrations will error.</span>
<a name="l00203"></a>00203 <span class="comment"> */</span>
<a name="l00204"></a>00204 <span class="preprocessor">#define GNI_CDM_MODE_USE_PCI_IOMMU      0x00000080</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span><span class="comment">/* By default, newly created CDM&apos;s will allocate out of a shared MDD</span>
<a name="l00206"></a>00206 <span class="comment"> * pool. This pool is only shared within a protection domain. In an</span>
<a name="l00207"></a>00207 <span class="comment"> * IOMMU environment, there is more address space than MDDs available,</span>
<a name="l00208"></a>00208 <span class="comment"> * so this allows many more MDDs than normal. If the application</span>
<a name="l00209"></a>00209 <span class="comment"> * desires dedicated MDDs by default, then the CDM mode exists for</span>
<a name="l00210"></a>00210 <span class="comment"> * that. The shared mode flag is for convenience when the feature is</span>
<a name="l00211"></a>00211 <span class="comment"> * disabled during initial implementation stages.</span>
<a name="l00212"></a>00212 <span class="comment"> */</span>
<a name="l00213"></a>00213 <span class="preprocessor">#define GNI_CDM_MODE_MDD_DEDICATED      0x00000100</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_MDD_SHARED         0x00000200</span>
<a name="l00215"></a>00215 <span class="preprocessor"></span><span class="comment">/* By default, users may post transactions with either local or global completion</span>
<a name="l00216"></a>00216 <span class="comment"> * notification, not both.  If receipt of both local and global events is requested</span>
<a name="l00217"></a>00217 <span class="comment"> * users must set DUAL_EVENTS.  Performing a post operation with local and global</span>
<a name="l00218"></a>00218 <span class="comment"> * events enabled without DUAL_EVENTS set will yield an error GNI_RC_INVALID_PARAM.</span>
<a name="l00219"></a>00219 <span class="comment"> *</span>
<a name="l00220"></a>00220 <span class="comment"> * In addition, during an EpBind in default mode, transfer requests are allocated</span>
<a name="l00221"></a>00221 <span class="comment"> * equal in size to the number of events in the associated source CQ.  When</span>
<a name="l00222"></a>00222 <span class="comment"> * DUAL_EVENTS is set transfer requests are allocated 1 per 2 CQ event slots.</span>
<a name="l00223"></a>00223 <span class="comment"> * Therefore, a user is limited to posting half as many transactions as CQ events</span>
<a name="l00224"></a>00224 <span class="comment"> * when DUAL_EVENTS is set.  Exceeding this limit will yield an error</span>
<a name="l00225"></a>00225 <span class="comment"> * GNI_RC_ERROR_RESOURCE.</span>
<a name="l00226"></a>00226 <span class="comment"> */</span>
<a name="l00227"></a>00227 <span class="preprocessor">#define GNI_CDM_MODE_DUAL_EVENTS        0x00001000</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span>
<a name="l00229"></a>00229 <span class="comment">/* This mode alters the FMA_SHARED behavior wrt. DLA */</span>
<a name="l00230"></a>00230 <span class="preprocessor">#define GNI_CDM_MODE_DLA_ENABLE_FORWARDING   0x00004000</span>
<a name="l00231"></a>00231 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_DLA_DISABLE_FORWARDING  0x00008000</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span><span class="comment">/* By default, newly created CDM&apos;s are assigned a dedicated FMA descriptor.  If</span>
<a name="l00233"></a>00233 <span class="comment"> * no FMA descriptors are available during the creation of a dedicated FMA CDM,</span>
<a name="l00234"></a>00234 <span class="comment"> * the operation will fail.  The FMA_SHARED CDM flag allows applications to</span>
<a name="l00235"></a>00235 <span class="comment"> * share FMA descriptors between (CDM&apos;s) within a protection domain.  This</span>
<a name="l00236"></a>00236 <span class="comment"> * enables a user to allocate more CDM&apos;s than there are FMA descriptors on a</span>
<a name="l00237"></a>00237 <span class="comment"> * node. */</span>
<a name="l00238"></a>00238 <span class="preprocessor">#define GNI_CDM_MODE_FMA_DEDICATED      0x00010000</span>
<a name="l00239"></a>00239 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_FMA_SHARED         0x00020000</span>
<a name="l00240"></a>00240 <span class="preprocessor"></span><span class="comment">/* This mode enables the use of cached AMO operations */</span>
<a name="l00241"></a>00241 <span class="preprocessor">#define GNI_CDM_MODE_CACHED_AMO_ENABLED 0x00040000</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span><span class="comment">/* This CDM flag allows applications to request placing the CQs in</span>
<a name="l00243"></a>00243 <span class="comment"> * host memory closest to the NIC. This currently means on die0, but</span>
<a name="l00244"></a>00244 <span class="comment"> * could mean a different die in the future. This increases small</span>
<a name="l00245"></a>00245 <span class="comment"> * message injection rate for some applications.</span>
<a name="l00246"></a>00246 <span class="comment"> */</span>
<a name="l00247"></a>00247 <span class="preprocessor">#define GNI_CDM_MODE_CQ_NIC_LOCAL_PLACEMENT 0x00080000</span>
<a name="l00248"></a>00248 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_FLBTE_DISABLE          0x00100000</span>
<a name="l00249"></a>00249 <span class="preprocessor"></span><span class="comment">/* Prevent mapping the entire FMA window into a process&apos;s address space.</span>
<a name="l00250"></a>00250 <span class="comment"> * Making the FMA window smaller reduces a process&apos;s memory footprint and</span>
<a name="l00251"></a>00251 <span class="comment"> * initialization overhead.  FMA throughput will be unnaffected while using</span>
<a name="l00252"></a>00252 <span class="comment"> * this mode with FMA transactions under the size configured in the file:</span>
<a name="l00253"></a>00253 <span class="comment"> * /sys/class/gni/kgni0/fma_sm_win_sz (32k by default, cache-aligned). */</span>
<a name="l00254"></a>00254 <span class="preprocessor">#define GNI_CDM_MODE_FMA_SMALL_WINDOW       0x00200000</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span>
<a name="l00256"></a>00256 <span class="preprocessor">#define GNI_CDM_MODE_MASK                   0x0FFFFFFF</span>
<a name="l00257"></a>00257 <span class="preprocessor"></span>
<a name="l00258"></a>00258 <span class="comment">/* Upper 4 CDM mode bits are reserved for internal ugni/dmapp usage. */</span>
<a name="l00259"></a>00259 <span class="preprocessor">#define GNI_CDM_MODE_PRIV_RESERVED_1        0x10000000</span>
<a name="l00260"></a>00260 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_PRIV_RESERVED_2        0x20000000</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_PRIV_RESERVED_3        0x40000000</span>
<a name="l00262"></a>00262 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_PRIV_RESERVED_4        0x80000000</span>
<a name="l00263"></a>00263 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CDM_MODE_PRIV_MASK              0xF0000000</span>
<a name="l00264"></a>00264 <span class="preprocessor"></span>
<a name="l00265"></a>00265 <span class="comment">/* Endpoint machine state */</span>
<a name="l00266"></a>00266 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_post_state{
<a name="l00267"></a>00267         GNI_POST_PENDING,
<a name="l00268"></a>00268         GNI_POST_COMPLETED,
<a name="l00269"></a>00269         GNI_POST_ERROR,
<a name="l00270"></a>00270         GNI_POST_TIMEOUT,
<a name="l00271"></a>00271         GNI_POST_TERMINATED,
<a name="l00272"></a>00272         GNI_POST_REMOTE_DATA
<a name="l00273"></a>00273 } gni_post_state_t;
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 <span class="comment">/* The memory attributes associated with the region.*/</span>
<a name="l00276"></a>00276 <span class="preprocessor">#define GNI_MEM_READWRITE               0x00000000</span>
<a name="l00277"></a>00277 <span class="preprocessor"></span><span class="preprocessor">#define GNI_MEM_READ_ONLY               0x00000001</span>
<a name="l00278"></a>00278 <span class="preprocessor"></span><span class="comment">/* Directive to use Virtual MDH while registering this memory region. (user level)*/</span>
<a name="l00279"></a>00279 <span class="preprocessor">#define GNI_MEM_USE_VMDH                0x00000002</span>
<a name="l00280"></a>00280 <span class="preprocessor"></span><span class="comment">/* Directive to use GART while registering the memory region */</span>
<a name="l00281"></a>00281 <span class="preprocessor">#define GNI_MEM_USE_GART                0x00000004</span>
<a name="l00282"></a>00282 <span class="preprocessor"></span><span class="comment">/* Directive not to use GART or MRT as memory is physically contiguous */</span>
<a name="l00283"></a>00283 <span class="preprocessor">#define GNI_MEM_PHYS_CONT               0x00000008</span>
<a name="l00284"></a>00284 <span class="preprocessor"></span><span class="comment">/* Valid only for gni_mem_register_segments(): segments are 4KB each, described by phys. addresses */</span>
<a name="l00285"></a>00285 <span class="preprocessor">#define GNI_MEM_PHYS_SEGMENTS           0x00000010</span>
<a name="l00286"></a>00286 <span class="preprocessor"></span><span class="comment">/* Instruct NIC to enforce strict PI ordering.  On Gemini based platforms, this</span>
<a name="l00287"></a>00287 <span class="comment">   flag disables the HT &quot;Non-Posted Pass Posted Writes&quot; rule.  On Aries based</span>
<a name="l00288"></a>00288 <span class="comment">   platforms, this flag disables routing mode (GNI_DLVMODE_*) based ordering</span>
<a name="l00289"></a>00289 <span class="comment">   for received network requests and responses. */</span>
<a name="l00290"></a>00290 <span class="preprocessor">#define GNI_MEM_STRICT_PI_ORDERING      0x00000020</span>
<a name="l00291"></a>00291 <span class="preprocessor"></span><span class="comment">/* Instruct NIC to issue PI (Processor Interface, e.g. HT) FLUSH command prior</span>
<a name="l00292"></a>00292 <span class="comment">   to sending network responses for the region */</span>
<a name="l00293"></a>00293 <span class="preprocessor">#define GNI_MEM_PI_FLUSH                0x00000040</span>
<a name="l00294"></a>00294 <span class="preprocessor"></span><span class="preprocessor">#define GNI_MEM_MDD_CLONE               0x00000080</span>
<a name="l00295"></a>00295 <span class="preprocessor"></span><span class="comment">/* Instruct NIC to allow relaxed PI ordering.  On Gemini based platforms, this</span>
<a name="l00296"></a>00296 <span class="comment">   flag enables reordering of Non-Posted and Posted write requests into the</span>
<a name="l00297"></a>00297 <span class="comment">   processor by enabling both &quot;Non-Posted Pass Posted Writes&quot; and &quot;Posted Pass</span>
<a name="l00298"></a>00298 <span class="comment">   Posted Writes&quot; rules.  (&quot;Non-Posted Pass Posted Writes&quot; rule is enabled by</span>
<a name="l00299"></a>00299 <span class="comment">   default.)  On Aries based platforms, this flag enables reordering of</span>
<a name="l00300"></a>00300 <span class="comment">   requests not originated in the network.  Note: this flag is overridden by</span>
<a name="l00301"></a>00301 <span class="comment">   the GNI_MEM_STRICT_PI_ORDERING flag. */</span>
<a name="l00302"></a>00302 <span class="preprocessor">#define GNI_MEM_RELAXED_PI_ORDERING     0x00000100</span>
<a name="l00303"></a>00303 <span class="preprocessor"></span><span class="comment">/* Only reserve the PTE range for this block of memory. */</span>
<a name="l00304"></a>00304 <span class="preprocessor">#define GNI_MEM_RESERVE_REGION          0x00000200</span>
<a name="l00305"></a>00305 <span class="preprocessor"></span><span class="comment">/* Update the PTE range for the provided block of memory. The first</span>
<a name="l00306"></a>00306 <span class="comment"> * call with this flag will make MDH live. The application may receive</span>
<a name="l00307"></a>00307 <span class="comment"> * page faults if they don&apos;t call update region before sending to an</span>
<a name="l00308"></a>00308 <span class="comment"> * address. This will only fill in new pages, and compare old pages to</span>
<a name="l00309"></a>00309 <span class="comment"> * make sure there aren&apos;t any changes. */</span>
<a name="l00310"></a>00310 <span class="preprocessor">#define GNI_MEM_UPDATE_REGION           0x00000400</span>
<a name="l00311"></a>00311 <span class="preprocessor"></span><span class="comment">/* Tell the driver to force this memory to be shared, despite default</span>
<a name="l00312"></a>00312 <span class="comment"> * CDM_MODE flag. If it is shared, then it will go into a pool of MDDs</span>
<a name="l00313"></a>00313 <span class="comment"> * shared with the same PTAGs. */</span>
<a name="l00314"></a>00314 <span class="preprocessor">#define GNI_MEM_MDD_SHARED              0x00000800</span>
<a name="l00315"></a>00315 <span class="preprocessor"></span><span class="comment">/* Tell the driver to force this memory to be dedicated, despite</span>
<a name="l00316"></a>00316 <span class="comment"> * default CDM_MODE flag/kernel flags. If it is dedicated, then it</span>
<a name="l00317"></a>00317 <span class="comment"> * will operate like the old MDDs did, and be subject to the same</span>
<a name="l00318"></a>00318 <span class="comment"> * limits. */</span>
<a name="l00319"></a>00319 <span class="preprocessor">#define GNI_MEM_MDD_DEDICATED           0x00001000</span>
<a name="l00320"></a>00320 <span class="preprocessor"></span><span class="comment">/* Directive that the memory region is GPU-resident memory. */</span>
<a name="l00321"></a>00321 <span class="preprocessor">#define GNI_MEM_CUDA                    0x01000000              </span><span class="comment">/* Cuda device memory */</span>
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="comment">/* External memory, or resident memory in other PCI devices. These are</span>
<a name="l00324"></a>00324 <span class="comment"> * helper macros, as the different types of external memory have bits</span>
<a name="l00325"></a>00325 <span class="comment"> * assigned to them via the above memory flags */</span>
<a name="l00326"></a>00326 <span class="preprocessor">#define GNI_EXMEM_FLAGS(flag)           ((flag) &gt;&gt; 24)          </span><span class="comment">/* Isolate exmem type */</span>
<a name="l00327"></a>00327 <span class="preprocessor">#define GNI_MEM_IS_EXTERNAL(flag)       (GNI_EXMEM_FLAGS(flag))</span>
<a name="l00328"></a>00328 <span class="preprocessor"></span>
<a name="l00329"></a><a class="code" href="structgni__mem__segment.html">00329</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__mem__segment.html">gni_mem_segment</a> {
<a name="l00330"></a>00330         uint64_t        address; <span class="comment">/* address of the segment */</span>
<a name="l00331"></a>00331         uint64_t        length;  <span class="comment">/* size of the segment in bytes */</span>
<a name="l00332"></a>00332 } <a class="code" href="structgni__mem__segment.html">gni_mem_segment_t</a>;
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 <span class="comment">/* CQ modes/attributes of operation */</span>
<a name="l00335"></a>00335 <span class="keyword">typedef</span> uint32_t gni_cq_mode_t;
<a name="l00336"></a>00336 
<a name="l00337"></a>00337 <span class="comment">/* The CQ will be created with blocking disabled. */</span>
<a name="l00338"></a>00338 <span class="preprocessor">#define GNI_CQ_NOBLOCK          0x00000000</span>
<a name="l00339"></a>00339 <span class="preprocessor"></span><span class="comment">/* The CQ will be created with blocking enabled. */</span>
<a name="l00340"></a>00340 <span class="preprocessor">#define GNI_CQ_BLOCKING         0x00000001</span>
<a name="l00341"></a>00341 <span class="preprocessor"></span><span class="comment">/* the EMULATED mode is reserved for internal uGNI use only. */</span>
<a name="l00342"></a>00342 <span class="preprocessor">#define GNI_CQ_EMULATED         0x00000002</span>
<a name="l00343"></a>00343 <span class="preprocessor"></span><span class="comment">/* EMULATED mode cannot be created with blocking enabled. */</span>
<a name="l00344"></a>00344 <span class="preprocessor">#define GNI_CQ_EMULATED_INVALID (GNI_CQ_EMULATED | GNI_CQ_BLOCKING)</span>
<a name="l00345"></a>00345 <span class="preprocessor"></span><span class="comment">/* use physical pages when creating the CQ, by default memory mapped space is used.  */</span>
<a name="l00346"></a>00346 <span class="preprocessor">#define GNI_CQ_PHYS_PAGES       0x00000004</span>
<a name="l00347"></a>00347 <span class="preprocessor"></span><span class="comment">/* This is a &quot;dummy CQ&quot;, as in, the CQ will never be checked for</span>
<a name="l00348"></a>00348 <span class="comment"> * events. It acts like a sink to avoid errors on the sender CQ for</span>
<a name="l00349"></a>00349 <span class="comment"> * instances where a remote event is needed. */</span>
<a name="l00350"></a>00350 <span class="preprocessor">#define GNI_CQ_UNMANAGED        0x00000008</span>
<a name="l00351"></a>00351 <span class="preprocessor"></span>
<a name="l00352"></a>00352 <span class="preprocessor">#define GNI_CQ_IS_NON_BLOCKING(modes)     ((modes &amp; GNI_CQ_BLOCKING) == GNI_CQ_NOBLOCK)</span>
<a name="l00353"></a>00353 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_IS_BLOCKING(modes)         ((modes &amp; GNI_CQ_BLOCKING) == GNI_CQ_BLOCKING)</span>
<a name="l00354"></a>00354 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_IS_EMULATED(modes)         ((modes &amp; GNI_CQ_EMULATED) == GNI_CQ_EMULATED)</span>
<a name="l00355"></a>00355 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_IS_NOT_EMULATED(modes)     ((modes &amp; GNI_CQ_EMULATED) == 0)</span>
<a name="l00356"></a>00356 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_IS_INVALID_EMULATED(modes) ((modes &amp; GNI_CQ_EMULATED_INVALID) == GNI_CQ_EMULATED_INVALID)</span>
<a name="l00357"></a>00357 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_USE_PHYS_PAGES(modes)      ((modes &amp; GNI_CQ_PHYS_PAGES) == GNI_CQ_PHYS_PAGES)</span>
<a name="l00358"></a>00358 <span class="preprocessor"></span>
<a name="l00359"></a>00359 <span class="comment">/* Macros and enum for processing data component of CQEs associated with</span>
<a name="l00360"></a>00360 <span class="comment">   PostRDMA, PostFma, Short message transactions */</span>
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="comment">/* Completion queue entry (size of type field is 2 bits) */</span>
<a name="l00363"></a>00363 <span class="preprocessor">#define GNI_CQ_EVENT_TYPE_POST  0x0ULL</span>
<a name="l00364"></a>00364 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_EVENT_TYPE_SMSG  0x1ULL</span>
<a name="l00365"></a>00365 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_EVENT_TYPE_DMAPP 0x2ULL</span>
<a name="l00366"></a>00366 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_EVENT_TYPE_MSGQ  0x3ULL</span>
<a name="l00367"></a>00367 <span class="preprocessor"></span><span class="keyword">typedef</span> uint64_t gni_cq_entry_t;
<a name="l00368"></a>00368 
<a name="l00369"></a>00369 <span class="preprocessor">#ifndef GNI_INLINE_CQ_FUNCTIONS</span>
<a name="l00370"></a>00370 <span class="preprocessor"></span>uint64_t gni_cq_get_data(gni_cq_entry_t);
<a name="l00371"></a>00371 uint64_t gni_cq_get_source(gni_cq_entry_t);
<a name="l00372"></a>00372 uint64_t gni_cq_get_status(gni_cq_entry_t);
<a name="l00373"></a>00373 uint64_t gni_cq_get_info(gni_cq_entry_t);
<a name="l00374"></a>00374 uint64_t gni_cq_overrun(gni_cq_entry_t);
<a name="l00375"></a>00375 uint64_t gni_cq_rem_overrun(gni_cq_entry_t);
<a name="l00376"></a>00376 uint64_t gni_cq_get_inst_id(gni_cq_entry_t);
<a name="l00377"></a>00377 uint64_t gni_cq_get_rem_inst_id(gni_cq_entry_t);
<a name="l00378"></a>00378 uint64_t gni_cq_get_tid(gni_cq_entry_t);
<a name="l00379"></a>00379 uint64_t gni_cq_get_msg_id(gni_cq_entry_t);
<a name="l00380"></a>00380 uint64_t gni_cq_get_type(gni_cq_entry_t);
<a name="l00381"></a>00381 uint64_t gni_cq_get_block_id(gni_cq_entry_t);
<a name="l00382"></a>00382 uint64_t gni_cq_get_unsuccessful_cnt(gni_cq_entry_t);
<a name="l00383"></a>00383 uint64_t gni_cq_get_marker_id(gni_cq_entry_t);
<a name="l00384"></a>00384 uint64_t gni_cq_get_failed_enqueue_cnt(gni_cq_entry_t);
<a name="l00385"></a>00385 uint64_t gni_cq_get_ce_id(gni_cq_entry_t);
<a name="l00386"></a>00386 uint64_t gni_cq_get_reductn_id(gni_cq_entry_t);
<a name="l00387"></a>00387 uint64_t gni_cq_get_trans_type(gni_cq_entry_t);
<a name="l00388"></a>00388 <span class="keywordtype">void</span>     gni_cq_set_inst_id(gni_cq_entry_t *,uint64_t);
<a name="l00389"></a>00389 <span class="keywordtype">void</span>     gni_cq_set_rem_inst_id(gni_cq_entry_t *,uint64_t);
<a name="l00390"></a>00390 <span class="keywordtype">void</span>     gni_cq_set_tid(gni_cq_entry_t *,uint64_t);
<a name="l00391"></a>00391 <span class="keywordtype">void</span>     gni_cq_set_msg_id(gni_cq_entry_t *,uint64_t);
<a name="l00392"></a>00392 <span class="keywordtype">void</span>     gni_cq_set_type(gni_cq_entry_t *,uint64_t);
<a name="l00393"></a>00393 <span class="keywordtype">void</span>     gni_cq_clr_status(gni_cq_entry_t *);
<a name="l00394"></a>00394 <span class="keywordtype">unsigned</span> gni_cq_status_dla_overflow(gni_cq_entry_t);
<a name="l00395"></a>00395 <span class="keywordtype">unsigned</span> gni_cq_bte_enq_status(gni_cq_entry_t);
<a name="l00396"></a>00396 <span class="preprocessor">#endif </span><span class="comment">/* GNI_INLINE_CQ_FUNCTIONS */</span>
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 <span class="preprocessor">#define GNI_CQ_GET_DATA    gni_cq_get_data</span>
<a name="l00399"></a>00399 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_SOURCE  gni_cq_get_source</span>
<a name="l00400"></a>00400 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_STATUS  gni_cq_get_status</span>
<a name="l00401"></a>00401 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_INFO    gni_cq_get_info</span>
<a name="l00402"></a>00402 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00403"></a>00403 <span class="comment"> * GNI_CQ_GET_INST_ID will allow a user to query an event</span>
<a name="l00404"></a>00404 <span class="comment"> * to get the inst_id value associated with it.</span>
<a name="l00405"></a>00405 <span class="comment"> * On a Gemini interconnect, this will be a 32 bit value.</span>
<a name="l00406"></a>00406 <span class="comment"> * On an Aries interconnect, this will be a 24 bit value.</span>
<a name="l00407"></a>00407 <span class="comment"> */</span>
<a name="l00408"></a>00408 <span class="preprocessor">#define GNI_CQ_GET_INST_ID gni_cq_get_inst_id</span>
<a name="l00409"></a>00409 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00410"></a>00410 <span class="comment"> * GNI_CQ_GET_REM_INST_ID will allow a user to query a remote event</span>
<a name="l00411"></a>00411 <span class="comment"> * to get the 32 bit remote inst_id value associated with it.</span>
<a name="l00412"></a>00412 <span class="comment"> */</span>
<a name="l00413"></a>00413 <span class="preprocessor">#define GNI_CQ_GET_REM_INST_ID gni_cq_get_rem_inst_id</span>
<a name="l00414"></a>00414 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_TID     gni_cq_get_tid</span>
<a name="l00415"></a>00415 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_MSG_ID  gni_cq_get_msg_id</span>
<a name="l00416"></a>00416 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_TYPE    gni_cq_get_type</span>
<a name="l00417"></a>00417 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_OVERRUN     gni_cq_overrun</span>
<a name="l00418"></a>00418 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_REM_OVERRUN gni_cq_rem_overrun</span>
<a name="l00419"></a>00419 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_BLOCK_ID           gni_cq_get_block_id</span>
<a name="l00420"></a>00420 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_UNSUCCESSFUL_CNT   gni_cq_get_unsuccessful_cnt</span>
<a name="l00421"></a>00421 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_MARKER_ID          gni_cq_get_marker_id</span>
<a name="l00422"></a>00422 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_FAILED_ENQUEUE_CNT gni_cq_get_failed_enqueue_cnt</span>
<a name="l00423"></a>00423 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_CE_ID              gni_cq_get_ce_id</span>
<a name="l00424"></a>00424 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_REDUCTN_ID         gni_cq_get_reductn_id</span>
<a name="l00425"></a>00425 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_GET_TRANS_TYPE         gni_cq_get_trans_type</span>
<a name="l00426"></a>00426 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00427"></a>00427 <span class="comment"> * GNI_CQ_SET_INST_ID will allow a user to set the inst_id</span>
<a name="l00428"></a>00428 <span class="comment"> * value for an event.</span>
<a name="l00429"></a>00429 <span class="comment"> * On a Gemini interconnect, this will be a 32 bit value.</span>
<a name="l00430"></a>00430 <span class="comment"> * On an Aries interconnect, this will be truncated to a 24 bit value.</span>
<a name="l00431"></a>00431 <span class="comment"> */</span>
<a name="l00432"></a>00432 <span class="preprocessor">#define GNI_CQ_SET_INST_ID(entry,val) gni_cq_set_inst_id(&amp;(entry),val)</span>
<a name="l00433"></a>00433 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00434"></a>00434 <span class="comment"> * GNI_CQ_SET_REM_INST_ID will allow a user to set a 32 bit remote</span>
<a name="l00435"></a>00435 <span class="comment"> * inst_id value for an remote event.</span>
<a name="l00436"></a>00436 <span class="comment"> */</span>
<a name="l00437"></a>00437 <span class="preprocessor">#define GNI_CQ_SET_REM_INST_ID(entry,val) gni_cq_set_rem_inst_id(&amp;(entry),val)</span>
<a name="l00438"></a>00438 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_SET_TID(entry,val)     gni_cq_set_tid(&amp;(entry),val)</span>
<a name="l00439"></a>00439 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_SET_MSG_ID(entry,val)  gni_cq_set_msg_id(&amp;(entry),val)</span>
<a name="l00440"></a>00440 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_SET_TYPE(entry,val)    gni_cq_set_type(&amp;(entry),val)</span>
<a name="l00441"></a>00441 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_CLR_STATUS(entry)      gni_cq_clr_status(&amp;(entry))</span>
<a name="l00442"></a>00442 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_STATUS_OK(entry)      (gni_cq_get_status(entry) == 0)</span>
<a name="l00443"></a>00443 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_STATUS_DLA_OVERFLOW(entry)   (gni_cq_status_dla_overflow(entry))</span>
<a name="l00444"></a>00444 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQ_BTE_ENQ_STATUS(entry)  gni_cq_bte_enq_status(entry)</span>
<a name="l00445"></a>00445 <span class="preprocessor"></span>
<a name="l00446"></a>00446 <span class="comment">/* Transaction types (for type field of post descriptor) */</span>
<a name="l00447"></a>00447 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_post_type {
<a name="l00448"></a>00448         GNI_POST_RDMA_PUT = 1,
<a name="l00449"></a>00449         GNI_POST_RDMA_GET,
<a name="l00450"></a>00450         GNI_POST_FMA_PUT,
<a name="l00451"></a>00451         GNI_POST_FMA_PUT_W_SYNCFLAG,
<a name="l00452"></a>00452         GNI_POST_FMA_GET,
<a name="l00453"></a>00453         GNI_POST_AMO,
<a name="l00454"></a>00454         GNI_POST_CQWRITE,
<a name="l00455"></a>00455         GNI_POST_CE,
<a name="l00456"></a>00456         GNI_POST_FMA_GET_W_FLAG,
<a name="l00457"></a>00457         GNI_POST_AMO_W_FLAG
<a name="l00458"></a>00458 } gni_post_type_t;
<a name="l00459"></a>00459 
<a name="l00460"></a>00460 <span class="comment">/* FMA Get or Fetching AMO Flagged Response */</span>
<a name="l00461"></a>00461 <span class="preprocessor">#define GNI_FMA_FLAGGED_RESPONSE_SIZE   4     </span><span class="comment">/* size in bytes */</span>
<a name="l00462"></a>00462 
<a name="l00463"></a>00463 <span class="comment">/* FMA command types (for amo_cmd field of post descriptor) */</span>
<a name="l00464"></a>00464 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_fma_cmd_type {
<a name="l00465"></a>00465         <span class="comment">/************ AMOs with GET semantics **************/</span>
<a name="l00466"></a>00466         GNI_FMA_ATOMIC_FADD    = 0x008,    <span class="comment">/* atomic FETCH and ADD */</span>
<a name="l00467"></a>00467         GNI_FMA_ATOMIC_FADD_C  = 0x018,    <span class="comment">/* cached atomic FETCH and ADD */</span>
<a name="l00468"></a>00468         GNI_FMA_ATOMIC_FAND    = 0x009,    <span class="comment">/* atomic FETCH and AND */</span>
<a name="l00469"></a>00469         GNI_FMA_ATOMIC_FAND_C  = 0x019,    <span class="comment">/* cached atomic FETCH and AND */</span>
<a name="l00470"></a>00470         GNI_FMA_ATOMIC_FOR     = 0x00A,    <span class="comment">/* atomic FETCH and OR */</span>
<a name="l00471"></a>00471         GNI_FMA_ATOMIC_FOR_C   = 0x01A,    <span class="comment">/* cached atomic FETCH and OR */</span>
<a name="l00472"></a>00472         GNI_FMA_ATOMIC_FXOR    = 0x00B,    <span class="comment">/* atomic FETCH and XOR */</span>
<a name="l00473"></a>00473         GNI_FMA_ATOMIC_FXOR_C  = 0x01B,    <span class="comment">/* cached atomic FETCH and XOR */</span>
<a name="l00474"></a>00474         GNI_FMA_ATOMIC_FAX     = 0x00C,    <span class="comment">/* atomic FETCH AND exclusive OR */</span>
<a name="l00475"></a>00475         GNI_FMA_ATOMIC_FAX_C   = 0x01C,    <span class="comment">/* cached atomic FETCH AND exclusive OR */</span>
<a name="l00476"></a>00476         GNI_FMA_ATOMIC_CSWAP   = 0x00D,    <span class="comment">/* atomic COMPARE and SWAP */</span>
<a name="l00477"></a>00477         GNI_FMA_ATOMIC_CSWAP_C = 0x01D,    <span class="comment">/* cached atomic COMPARE and SWAP */</span>
<a name="l00478"></a>00478         <span class="comment">/* Second generation commands ( GET sematics ) */</span>
<a name="l00479"></a>00479         GNI_FMA_ATOMIC2_FAND_S    = 0x240,    <span class="comment">/* atomic fetching logical AND (32-bit operands) */</span>
<a name="l00480"></a>00480         GNI_FMA_ATOMIC2_FAND      = 0x041,    <span class="comment">/* atomic FETCH and AND */</span>
<a name="l00481"></a>00481         GNI_FMA_ATOMIC2_FAND_SC   = 0x260,    <span class="comment">/* cached atomic fetching logical AND (32-bit operands) */</span>
<a name="l00482"></a>00482         GNI_FMA_ATOMIC2_FAND_C    = 0x061,    <span class="comment">/* cached atomic FETCH and AND */</span>
<a name="l00483"></a>00483         GNI_FMA_ATOMIC2_FOR_S     = 0x242,    <span class="comment">/* atomic fetching logical OR (32-bit operands) */</span>
<a name="l00484"></a>00484         GNI_FMA_ATOMIC2_FOR       = 0x043,    <span class="comment">/* atomic FETCH and OR */</span>
<a name="l00485"></a>00485         GNI_FMA_ATOMIC2_FOR_SC    = 0x262,    <span class="comment">/* cached atomic fetching logical OR (32-bit operands) */</span>
<a name="l00486"></a>00486         GNI_FMA_ATOMIC2_FOR_C     = 0x063,    <span class="comment">/* cached atomic FETCH and OR */</span>
<a name="l00487"></a>00487         GNI_FMA_ATOMIC2_FXOR_S    = 0x244,    <span class="comment">/* atomic fetching logical Exclusive OR (32-bit operands) */</span>
<a name="l00488"></a>00488         GNI_FMA_ATOMIC2_FXOR      = 0x045,    <span class="comment">/* atomic FETCH exclusive OR */</span>
<a name="l00489"></a>00489         GNI_FMA_ATOMIC2_FXOR_SC   = 0x264,    <span class="comment">/* cached atomic fetching logical Exclusive OR (32-bit operands) */</span>
<a name="l00490"></a>00490         GNI_FMA_ATOMIC2_FXOR_C    = 0x065,    <span class="comment">/* cached atomic FETCH exclusive OR */</span>
<a name="l00491"></a>00491         GNI_FMA_ATOMIC2_FSWAP_S   = 0x246,    <span class="comment">/* atomic fetching Swap (32-bit operands) */</span>
<a name="l00492"></a>00492         GNI_FMA_ATOMIC2_FSWAP     = 0x047,    <span class="comment">/* atomic FETCH and SWAP */</span>
<a name="l00493"></a>00493         GNI_FMA_ATOMIC2_FSWAP_SC  = 0x266,    <span class="comment">/* cached atomic fetching Swap (32-bit operands) */</span>
<a name="l00494"></a>00494         GNI_FMA_ATOMIC2_FSWAP_C   = 0x067,    <span class="comment">/* cached atomic FETCH and SWAP */</span>
<a name="l00495"></a>00495         GNI_FMA_ATOMIC2_FAX_S     = 0x248,    <span class="comment">/* atomic fetching logical AND Exclusive OR (32-bit operands) */</span>
<a name="l00496"></a>00496         GNI_FMA_ATOMIC2_FAX       = 0x049,    <span class="comment">/* atomic FETCH AND exclusive OR */</span>
<a name="l00497"></a>00497         GNI_FMA_ATOMIC2_FAX_SC    = 0x268,    <span class="comment">/* cached atomic fetching logical AND Exclusive OR (32-bit operands) */</span>
<a name="l00498"></a>00498         GNI_FMA_ATOMIC2_FAX_C     = 0x069,    <span class="comment">/* cached atomic FETCH AND exclusive OR */</span>
<a name="l00499"></a>00499         GNI_FMA_ATOMIC2_FCSWAP_S  = 0x24A,    <span class="comment">/* atomic fetching Compare and Swap (32-bit operands) */</span>
<a name="l00500"></a>00500         GNI_FMA_ATOMIC2_FCSWAP    = 0x04B,    <span class="comment">/* atomic Fetching COMPARE and SWAP */</span>
<a name="l00501"></a>00501         GNI_FMA_ATOMIC2_FCSWAP_SC = 0x26A,    <span class="comment">/* cached atomic fetching Compare and Swap (32-bit operands) */</span>
<a name="l00502"></a>00502         GNI_FMA_ATOMIC2_FCSWAP_C  = 0x06B,    <span class="comment">/* cached atomic Fetching COMPARE and SWAP */</span>
<a name="l00503"></a>00503         GNI_FMA_ATOMIC2_FIMIN_S   = 0x250,    <span class="comment">/* atomic fetching integer signed twos complement Minimum (32-bit operands) */</span>
<a name="l00504"></a>00504         GNI_FMA_ATOMIC2_FIMIN     = 0x051,    <span class="comment">/* atomic Fetching integer signed two&apos;s complement Minimum */</span>
<a name="l00505"></a>00505         GNI_FMA_ATOMIC2_FIMIN_SC  = 0x270,    <span class="comment">/* cached atomic fetching int signed twos complement Minimum (32-bit operands) */</span>
<a name="l00506"></a>00506         GNI_FMA_ATOMIC2_FIMIN_C   = 0x071,    <span class="comment">/* cached atomic Fetching integer signed two&apos;s complement Minimum */</span>
<a name="l00507"></a>00507         GNI_FMA_ATOMIC2_FIMAX_S   = 0x252,    <span class="comment">/* atomic fetching integer signed twos complement Maximum (32-bit operands) */</span>
<a name="l00508"></a>00508         GNI_FMA_ATOMIC2_FIMAX     = 0x053,    <span class="comment">/* atomic Fetching integer signed two&apos;s complement Maximum */</span>
<a name="l00509"></a>00509         GNI_FMA_ATOMIC2_FIMAX_SC  = 0x272,    <span class="comment">/* cached atomic fetching int signed twos complement Maximum (32-bit operands) */</span>
<a name="l00510"></a>00510         GNI_FMA_ATOMIC2_FIMAX_C   = 0x073,    <span class="comment">/* cached atomic Fetching integer signed two&apos;s complement Maximum */</span>
<a name="l00511"></a>00511         GNI_FMA_ATOMIC2_FIADD_S   = 0x254,    <span class="comment">/* atomic fetching integer twos complement Addition (32-bit operands) */</span>
<a name="l00512"></a>00512         GNI_FMA_ATOMIC2_FIADD     = 0x055,    <span class="comment">/* atomic Fetching integer two&apos;s complement Addition */</span>
<a name="l00513"></a>00513         GNI_FMA_ATOMIC2_FIADD_SC  = 0x274,    <span class="comment">/* cached atomic fetching integer twos complement Addition (32-bit operands) */</span>
<a name="l00514"></a>00514         GNI_FMA_ATOMIC2_FIADD_C   = 0x075,    <span class="comment">/* cached atomic Fetching integer two&apos;s complement Addition */</span>
<a name="l00515"></a>00515         GNI_FMA_ATOMIC2_FFPMIN_S  = 0x258,    <span class="comment">/* atomic fetching floating point Minimum (single precision) (32-bit operands) */</span>
<a name="l00516"></a>00516         GNI_FMA_ATOMIC2_FFPMIN    = 0x059,    <span class="comment">/* atomic Fetching floating point Minimum (double precision) */</span>
<a name="l00517"></a>00517         GNI_FMA_ATOMIC2_FFPMIN_SC = 0x278,    <span class="comment">/* cached atomic fetching floating point Minimum (single precision) (32-bit operands) */</span>
<a name="l00518"></a>00518         GNI_FMA_ATOMIC2_FFPMIN_C  = 0x079,    <span class="comment">/* cached atomic Fetching floating point Minimum (double precision) */</span>
<a name="l00519"></a>00519         GNI_FMA_ATOMIC2_FFPMAX_S  = 0x25A,    <span class="comment">/* atomic fetching floating point Maximum (single precision) (32-bit operands) */</span>
<a name="l00520"></a>00520         GNI_FMA_ATOMIC2_FFPMAX    = 0x05B,    <span class="comment">/* atomic Fetching floating point Maximum (double precision) */</span>
<a name="l00521"></a>00521         GNI_FMA_ATOMIC2_FFPMAX_SC = 0x27A,    <span class="comment">/* cached atomic fetching floating point Maximum (single precision) (32-bit operands) */</span>
<a name="l00522"></a>00522         GNI_FMA_ATOMIC2_FFPMAX_C  = 0x07B,    <span class="comment">/* cached atomic Fetching floating point Maximum (double precision) */</span>
<a name="l00523"></a>00523         GNI_FMA_ATOMIC2_FFPADD_S  = 0x25C,    <span class="comment">/* atomic fetching floating point Addition (single precision) (32-bit operands) */</span>
<a name="l00524"></a>00524         GNI_FMA_ATOMIC2_FFPADD    = 0x05D,    <span class="comment">/* atomic Fetching floating point Addition (double precision) */</span>
<a name="l00525"></a>00525         GNI_FMA_ATOMIC2_FFPADD_SC = 0x27C,    <span class="comment">/* cached atomic fetching floating point Addition (single precision) (32-bit operands) */</span>
<a name="l00526"></a>00526         GNI_FMA_ATOMIC2_FFPADD_C  = 0x07D,    <span class="comment">/* cached atomic Fetching floating point Addition (double precision) */</span>
<a name="l00527"></a>00527         <span class="comment">/************ AMOs with PUT semantics ***************/</span>
<a name="l00528"></a>00528         GNI_FMA_ATOMIC_ADD     = 0x108,    <span class="comment">/* atomic ADD */</span>
<a name="l00529"></a>00529         GNI_FMA_ATOMIC_ADD_C   = 0x118,    <span class="comment">/* cached atomic ADD */</span>
<a name="l00530"></a>00530         GNI_FMA_ATOMIC_AND     = 0x109,    <span class="comment">/* atomic AND */</span>
<a name="l00531"></a>00531         GNI_FMA_ATOMIC_AND_C   = 0x119,    <span class="comment">/* cached atomic AND */</span>
<a name="l00532"></a>00532         GNI_FMA_ATOMIC_OR      = 0x10A,    <span class="comment">/* atomic OR */</span>
<a name="l00533"></a>00533         GNI_FMA_ATOMIC_OR_C    = 0x11A,    <span class="comment">/* cached atomic OR */</span>
<a name="l00534"></a>00534         GNI_FMA_ATOMIC_XOR     = 0x10B,    <span class="comment">/* atomic exclusive OR */</span>
<a name="l00535"></a>00535         GNI_FMA_ATOMIC_XOR_C   = 0x11B,    <span class="comment">/* cached atomic exclusive OR */</span>
<a name="l00536"></a>00536         GNI_FMA_ATOMIC_AX      = 0x10C,    <span class="comment">/* atomic AND exclusive OR */</span>
<a name="l00537"></a>00537         GNI_FMA_ATOMIC_AX_C    = 0x11C,    <span class="comment">/* cached atomic AND exclusive OR */</span>
<a name="l00538"></a>00538         <span class="comment">/* Second generation commands ( PUT sematics ) */</span>
<a name="l00539"></a>00539         GNI_FMA_ATOMIC2_AND_S    = 0x340,    <span class="comment">/* atomic AND (32-bit operands) */</span>
<a name="l00540"></a>00540         GNI_FMA_ATOMIC2_AND      = 0x141,    <span class="comment">/* atomic AND */</span>
<a name="l00541"></a>00541         GNI_FMA_ATOMIC2_AND_SC   = 0x360,    <span class="comment">/* cached atomic AND (32-bit operands) */</span>
<a name="l00542"></a>00542         GNI_FMA_ATOMIC2_AND_C    = 0x161,    <span class="comment">/* cached atomic AND */</span>
<a name="l00543"></a>00543         GNI_FMA_ATOMIC2_OR_S     = 0x342,    <span class="comment">/* atomic OR (32-bit operands) */</span>
<a name="l00544"></a>00544         GNI_FMA_ATOMIC2_OR       = 0x143,    <span class="comment">/* atomic  OR */</span>
<a name="l00545"></a>00545         GNI_FMA_ATOMIC2_OR_SC    = 0x362,    <span class="comment">/* cached atomic OR (32-bit operands) */</span>
<a name="l00546"></a>00546         GNI_FMA_ATOMIC2_OR_C     = 0x163,    <span class="comment">/* cached atomic  OR */</span>
<a name="l00547"></a>00547         GNI_FMA_ATOMIC2_XOR_S    = 0x344,    <span class="comment">/* atomic Exclusive OR (32-bit operands) */</span>
<a name="l00548"></a>00548         GNI_FMA_ATOMIC2_XOR      = 0x145,    <span class="comment">/* atomic exclusive OR */</span>
<a name="l00549"></a>00549         GNI_FMA_ATOMIC2_XOR_SC   = 0x364,    <span class="comment">/* cached atomic Exclusive OR (32-bit operands) */</span>
<a name="l00550"></a>00550         GNI_FMA_ATOMIC2_XOR_C    = 0x165,    <span class="comment">/* cached atomic exclusive OR */</span>
<a name="l00551"></a>00551         GNI_FMA_ATOMIC2_SWAP_S   = 0x346,    <span class="comment">/* atomic Swap (Store) (32-bit operands) */</span>
<a name="l00552"></a>00552         GNI_FMA_ATOMIC2_SWAP     = 0x147,    <span class="comment">/* atomic SWAP */</span>
<a name="l00553"></a>00553         GNI_FMA_ATOMIC2_SWAP_SC  = 0x366,    <span class="comment">/* cached atomic Swap (Store) (32-bit operands) */</span>
<a name="l00554"></a>00554         GNI_FMA_ATOMIC2_SWAP_C   = 0x167,    <span class="comment">/* cached atomic SWAP */</span>
<a name="l00555"></a>00555         GNI_FMA_ATOMIC2_AX_S     = 0x348,    <span class="comment">/* atomic AND Exclusive OR (32-bit operands), not valid for FMA_LAUNCH */</span>
<a name="l00556"></a>00556         GNI_FMA_ATOMIC2_AX       = 0x149,    <span class="comment">/* atomic AND exclusive OR */</span>
<a name="l00557"></a>00557         GNI_FMA_ATOMIC2_AX_SC    = 0x368,    <span class="comment">/* cached atomic AND Exclusive OR (32-bit operands), not valid for FMA_LAUNCH */</span>
<a name="l00558"></a>00558         GNI_FMA_ATOMIC2_AX_C     = 0x169,    <span class="comment">/* cached atomic AND exclusive OR */</span>
<a name="l00559"></a>00559         GNI_FMA_ATOMIC2_CSWAP_S  = 0x34A,    <span class="comment">/* atomic Compare and Swap (Conditional Store) (32-bit operands), not valid for FMA_LAUNCH */</span>
<a name="l00560"></a>00560         GNI_FMA_ATOMIC2_CSWAP    = 0x14B,    <span class="comment">/* atomic COMPARE and SWAP */</span>
<a name="l00561"></a>00561         GNI_FMA_ATOMIC2_CSWAP_SC = 0x36A,    <span class="comment">/* cached atomic Compare and Swap (Conditional Store) (32-bit operands), not valid for FMA_LAUNCH */</span>
<a name="l00562"></a>00562         GNI_FMA_ATOMIC2_CSWAP_C  = 0x16B,    <span class="comment">/* cached atomic COMPARE and SWAP */</span>
<a name="l00563"></a>00563         GNI_FMA_ATOMIC2_IMIN_S   = 0x350,    <span class="comment">/* atomic integer signed twos complement Minimum (32-bit operands) */</span>
<a name="l00564"></a>00564         GNI_FMA_ATOMIC2_IMIN     = 0x151,    <span class="comment">/* atomic integer signed two&apos;s complement Minimum */</span>
<a name="l00565"></a>00565         GNI_FMA_ATOMIC2_IMIN_SC  = 0x370,    <span class="comment">/* cached atomic integer signed twos complement Minimum (32-bit operands) */</span>
<a name="l00566"></a>00566         GNI_FMA_ATOMIC2_IMIN_C   = 0x171,    <span class="comment">/* cached atomic integer signed two&apos;s complement Minimum */</span>
<a name="l00567"></a>00567         GNI_FMA_ATOMIC2_IMAX_S   = 0x352,    <span class="comment">/* atomic integer signed twos complement Maximum (32-bit operands) */</span>
<a name="l00568"></a>00568         GNI_FMA_ATOMIC2_IMAX     = 0x153,    <span class="comment">/* atomic integer signed two&apos;s complement Maximum */</span>
<a name="l00569"></a>00569         GNI_FMA_ATOMIC2_IMAX_SC  = 0x372,    <span class="comment">/* cached atomic integer signed twos complement Maximum (32-bit operands) */</span>
<a name="l00570"></a>00570         GNI_FMA_ATOMIC2_IMAX_C   = 0x173,    <span class="comment">/* cached atomic integer signed two&apos;s complement Maximum */</span>
<a name="l00571"></a>00571         GNI_FMA_ATOMIC2_IADD_S   = 0x354,    <span class="comment">/* atomic integer twos complement Addition (32-bit operands) */</span>
<a name="l00572"></a>00572         GNI_FMA_ATOMIC2_IADD     = 0x155,    <span class="comment">/* atomic integer two&apos;s complement Addition */</span>
<a name="l00573"></a>00573         GNI_FMA_ATOMIC2_IADD_SC  = 0x374,    <span class="comment">/* cached atomic integer twos complement Addition (32-bit operands) */</span>
<a name="l00574"></a>00574         GNI_FMA_ATOMIC2_IADD_C   = 0x175,    <span class="comment">/* cached atomic integer two&apos;s complement Addition */</span>
<a name="l00575"></a>00575         GNI_FMA_ATOMIC2_FPMIN_S  = 0x358,    <span class="comment">/* atomic floating point Minimum (single precision) (32-bit operands) */</span>
<a name="l00576"></a>00576         GNI_FMA_ATOMIC2_FPMIN    = 0x159,    <span class="comment">/* atomic floating point Minimum (double precision) */</span>
<a name="l00577"></a>00577         GNI_FMA_ATOMIC2_FPMIN_SC = 0x378,    <span class="comment">/* cached atomic floating point Minimum (single precision) (32-bit operands) */</span>
<a name="l00578"></a>00578         GNI_FMA_ATOMIC2_FPMIN_C  = 0x179,    <span class="comment">/* cached atomic floating point Minimum (double precision) */</span>
<a name="l00579"></a>00579         GNI_FMA_ATOMIC2_FPMAX_S  = 0x35A,    <span class="comment">/* atomic floating point Maximum (single precision) (32-bit operands) */</span>
<a name="l00580"></a>00580         GNI_FMA_ATOMIC2_FPMAX    = 0x15B,    <span class="comment">/* atomic floating point Maximum (double precision) */</span>
<a name="l00581"></a>00581         GNI_FMA_ATOMIC2_FPMAX_SC = 0x37A,    <span class="comment">/* cached atomic floating point Maximum (single precision) (32-bit operands) */</span>
<a name="l00582"></a>00582         GNI_FMA_ATOMIC2_FPMAX_C  = 0x17B,    <span class="comment">/* cached atomic floating point Maximum (double precision) */</span>
<a name="l00583"></a>00583         GNI_FMA_ATOMIC2_FPADD_S  = 0x35C,    <span class="comment">/* atomic floating point Addition (single precision) (32-bit operands) */</span>
<a name="l00584"></a>00584         GNI_FMA_ATOMIC2_FPADD    = 0x15D,    <span class="comment">/* atomic floating point Addition (double precision) */</span>
<a name="l00585"></a>00585         GNI_FMA_ATOMIC2_FPADD_SC = 0x37C,    <span class="comment">/* cached atomic floating point Addition (single precision) (32-bit operands) */</span>
<a name="l00586"></a>00586         GNI_FMA_ATOMIC2_FPADD_C  = 0x17D,    <span class="comment">/* cached atomic floating point Addition (double precision) */</span>
<a name="l00587"></a>00587 } gni_fma_cmd_type_t;
<a name="l00588"></a>00588 
<a name="l00589"></a>00589 <span class="comment">/* CE command types */</span>
<a name="l00590"></a>00590 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_ce_cmd_type {
<a name="l00591"></a>00591         GNI_FMA_CE_AND_S        = 0x0ull,   <span class="comment">/* Logical AND, short */</span>
<a name="l00592"></a>00592         GNI_FMA_CE_AND          = 0x1ull,   <span class="comment">/* Logical AND */</span>
<a name="l00593"></a>00593         GNI_FMA_CE_OR_S         = 0x2ull,   <span class="comment">/* Logical OR, short */</span>
<a name="l00594"></a>00594         GNI_FMA_CE_OR           = 0x3ull,   <span class="comment">/* Logical OR */</span>
<a name="l00595"></a>00595         GNI_FMA_CE_XOR_S        = 0x4ull,   <span class="comment">/* Logical XOR, short */</span>
<a name="l00596"></a>00596         GNI_FMA_CE_XOR          = 0x5ull,   <span class="comment">/* Logical XOR */</span>
<a name="l00597"></a>00597         GNI_FMA_CE_IMIN_LIDX_S  = 0x10ull,  <span class="comment">/* Integer signed two&apos;s complement minimum, short (lowest index returned) */</span>
<a name="l00598"></a>00598         GNI_FMA_CE_IMIN_LIDX    = 0x11ull,  <span class="comment">/* Integer signed two&apos;s complement minimum (lowest index returned) */</span>
<a name="l00599"></a>00599         GNI_FMA_CE_IMAX_LIDX_S  = 0x12ull,  <span class="comment">/* Integer signed two&apos;s complement maximum, short (lowest index returned) */</span>
<a name="l00600"></a>00600         GNI_FMA_CE_IMAX_LIDX    = 0x13ull,  <span class="comment">/* Integer signed two&apos;s complement maximum (lowest index returned) */</span>
<a name="l00601"></a>00601         GNI_FMA_CE_IADD_S       = 0x14ull,  <span class="comment">/* Integer two&apos;s complement ADD, short */</span>
<a name="l00602"></a>00602         GNI_FMA_CE_IADD         = 0x15ull,  <span class="comment">/* Integer two&apos;s complement ADD */</span>
<a name="l00603"></a>00603         GNI_FMA_CE_FPMIN_LIDX_S = 0x18ull,  <span class="comment">/* Floating point minimum, short (lowest index returned) */</span>
<a name="l00604"></a>00604         GNI_FMA_CE_FPMIN_LIDX   = 0x19ull,  <span class="comment">/* Floating point minimum (lowest index returned) */</span>
<a name="l00605"></a>00605         GNI_FMA_CE_FPMAX_LIDX_S = 0x1aull,  <span class="comment">/* Floating point maximum, short (lowest index returned) */</span>
<a name="l00606"></a>00606         GNI_FMA_CE_FPMAX_LIDX   = 0x1bull,  <span class="comment">/* Floating point maximum (lowest index returned) */</span>
<a name="l00607"></a>00607         GNI_FMA_CE_FPADD_S      = 0x1cull,  <span class="comment">/* Floating point ADD, short */</span>
<a name="l00608"></a>00608         GNI_FMA_CE_FPADD        = 0x1dull,  <span class="comment">/* Floating point ADD */</span>
<a name="l00609"></a>00609         GNI_FMA_CE_IMIN_GIDX_S  = 0x30ull,  <span class="comment">/* Integer signed two&apos;s complement minimum, short (greatest index returned) */</span>
<a name="l00610"></a>00610         GNI_FMA_CE_IMIN_GIDX    = 0x31ull,  <span class="comment">/* Integer signed two&apos;s complement minimum (greatest index returned) */</span>
<a name="l00611"></a>00611         GNI_FMA_CE_IMAX_GIDX_S  = 0x32ull,  <span class="comment">/* Integer signed two&apos;s complement maximum, short (greatest index returned) */</span>
<a name="l00612"></a>00612         GNI_FMA_CE_IMAX_GIDX    = 0x33ull,  <span class="comment">/* Integer signed two&apos;s complement maximum (greatest index returned) */</span>
<a name="l00613"></a>00613         GNI_FMA_CE_FPMIN_GIDX_S = 0x38ull,  <span class="comment">/* Floating point minimum, short (greatest index returned) */</span>
<a name="l00614"></a>00614         GNI_FMA_CE_FPMIN_GIDX   = 0x39ull,  <span class="comment">/* Floating point minimum (greatest index returned) */</span>
<a name="l00615"></a>00615         GNI_FMA_CE_FPMAX_GIDX_S = 0x3aull,  <span class="comment">/* Floating point maximum, short (greatest index returned) */</span>
<a name="l00616"></a>00616         GNI_FMA_CE_FPMAX_GIDX   = 0x3bull,  <span class="comment">/* Floating point maximum (greatest index returned) */</span>
<a name="l00617"></a>00617 } gni_ce_cmd_type_t;
<a name="l00618"></a>00618 
<a name="l00619"></a>00619 <span class="comment">/* CE result structure */</span>
<a name="l00620"></a><a class="code" href="structgni__ce__result.html">00620</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__ce__result.html">gni_ce_result</a> {
<a name="l00621"></a>00621         uint64_t        control;
<a name="l00622"></a>00622         uint64_t        result1;
<a name="l00623"></a>00623         uint64_t        result2;
<a name="l00624"></a>00624 } <a class="code" href="structgni__ce__result.html">gni_ce_result_t</a>;
<a name="l00625"></a>00625 
<a name="l00626"></a>00626 <span class="comment">/* CE result operations */</span>
<a name="l00627"></a>00627 uint64_t gni_ce_res_get_status(<a class="code" href="structgni__ce__result.html">gni_ce_result_t</a> *);
<a name="l00628"></a>00628 uint64_t gni_ce_res_status_ok(<a class="code" href="structgni__ce__result.html">gni_ce_result_t</a> *);
<a name="l00629"></a>00629 uint64_t gni_ce_res_get_fpe(<a class="code" href="structgni__ce__result.html">gni_ce_result_t</a> *);
<a name="l00630"></a>00630 uint64_t gni_ce_res_get_red_id(<a class="code" href="structgni__ce__result.html">gni_ce_result_t</a> *);
<a name="l00631"></a>00631 
<a name="l00632"></a>00632 <span class="preprocessor">#define GNI_CE_RES_GET_STATUS   gni_ce_res_get_status</span>
<a name="l00633"></a>00633 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_RES_STATUS_OK    gni_ce_res_status_ok</span>
<a name="l00634"></a>00634 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_RES_GET_FPE      gni_ce_res_get_fpe</span>
<a name="l00635"></a>00635 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_RES_GET_RED_ID   gni_ce_res_get_red_id</span>
<a name="l00636"></a>00636 <span class="preprocessor"></span>
<a name="l00637"></a>00637 <span class="comment">/* CE floating point exceptions  */</span>
<a name="l00638"></a>00638 <span class="preprocessor">#define GNI_CE_FPE_OP_INVAL     0x1</span>
<a name="l00639"></a>00639 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_FPE_OFLOW        0x2</span>
<a name="l00640"></a>00640 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_FPE_UFLOW        0x4</span>
<a name="l00641"></a>00641 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_FPE_PRECISION    0x8</span>
<a name="l00642"></a>00642 <span class="preprocessor"></span>
<a name="l00643"></a>00643 <span class="comment">/* CE child types */</span>
<a name="l00644"></a>00644 <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00645"></a>00645         GNI_CE_CHILD_UNUSED,
<a name="l00646"></a>00646         GNI_CE_CHILD_VCE,
<a name="l00647"></a>00647         GNI_CE_CHILD_PE
<a name="l00648"></a>00648 } gni_ce_child_t;
<a name="l00649"></a>00649 
<a name="l00650"></a>00650 <span class="comment">/* VCE channel modes, used during GNI_CeConfigure(...) */</span>
<a name="l00651"></a>00651 <span class="comment">/* Rounding mode, specify 1 */</span>
<a name="l00652"></a>00652 <span class="preprocessor">#define GNI_CE_MODE_ROUND_UP            0x00000001</span>
<a name="l00653"></a>00653 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_MODE_ROUND_DOWN          0x00000002</span>
<a name="l00654"></a>00654 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_MODE_ROUND_NEAR          0x00000004</span>
<a name="l00655"></a>00655 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_MODE_ROUND_ZERO          0x00000008</span>
<a name="l00656"></a>00656 <span class="preprocessor"></span><span class="comment">/* CQE delivery mode, specify 1 */</span>
<a name="l00657"></a>00657 <span class="preprocessor">#define GNI_CE_MODE_CQE_ONCOMP          0x00000010</span>
<a name="l00658"></a>00658 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_MODE_CQE_ONERR           0x00000040</span>
<a name="l00659"></a>00659 <span class="preprocessor"></span><span class="comment">/* Routing mode, specify 1 */</span>
<a name="l00660"></a>00660 <span class="preprocessor">#define GNI_CE_MODE_RC_NMIN_HASH        0x00000080</span>
<a name="l00661"></a>00661 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_MODE_RC_MIN_HASH         0x00000100</span>
<a name="l00662"></a>00662 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_MODE_RC_MNON_HASH        0x00000200</span>
<a name="l00663"></a>00663 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CE_MODE_RC_ADAPT            0x00000400</span>
<a name="l00664"></a>00664 <span class="preprocessor"></span>
<a name="l00665"></a>00665 <span class="preprocessor">#define GNI_CE_MAX_CHILDREN             32</span>
<a name="l00666"></a>00666 <span class="preprocessor"></span>
<a name="l00667"></a>00667 <span class="comment">/* CQ event types */</span>
<a name="l00668"></a>00668 <span class="preprocessor">#define GNI_CQMODE_SILENT       0x0000</span>
<a name="l00669"></a>00669 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQMODE_LOCAL_EVENT  0x0001</span>
<a name="l00670"></a>00670 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQMODE_GLOBAL_EVENT 0x0002</span>
<a name="l00671"></a>00671 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQMODE_REMOTE_EVENT 0x0004</span>
<a name="l00672"></a>00672 <span class="preprocessor"></span><span class="preprocessor">#define GNI_CQMODE_DUAL_EVENTS  ( GNI_CQMODE_LOCAL_EVENT | GNI_CQMODE_GLOBAL_EVENT )</span>
<a name="l00673"></a>00673 <span class="preprocessor"></span>
<a name="l00674"></a>00674 <span class="comment">/* Delivery modes */</span>
<a name="l00675"></a>00675 <span class="preprocessor">#define GNI_DLVMODE_PERFORMANCE 0x0000</span>
<a name="l00676"></a>00676 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_NO_ADAPT    0x0001</span>
<a name="l00677"></a>00677 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_NO_HASH     0x0002</span>
<a name="l00678"></a>00678 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_NO_RADAPT   0x0004</span>
<a name="l00679"></a>00679 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_IN_ORDER    ( GNI_DLVMODE_NO_ADAPT | GNI_DLVMODE_NO_HASH )</span>
<a name="l00680"></a>00680 <span class="preprocessor"></span>
<a name="l00681"></a>00681 <span class="comment">/* Aries delivery modes */</span>
<a name="l00682"></a>00682 <span class="preprocessor">#define GNI_DLVMODE_MNON_HASH   GNI_DLVMODE_IN_ORDER</span>
<a name="l00683"></a>00683 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_NMIN_HASH   0x0008</span>
<a name="l00684"></a>00684 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_MIN_HASH    0x0010</span>
<a name="l00685"></a>00685 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_ADAPTIVE0   GNI_DLVMODE_PERFORMANCE</span>
<a name="l00686"></a>00686 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_ADAPTIVE1   0x0020</span>
<a name="l00687"></a>00687 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_ADAPTIVE2   0x0040</span>
<a name="l00688"></a>00688 <span class="preprocessor"></span><span class="preprocessor">#define GNI_DLVMODE_ADAPTIVE3   0x0080</span>
<a name="l00689"></a>00689 <span class="preprocessor"></span>
<a name="l00690"></a>00690 <span class="preprocessor">#define GNI_DLVMODE_ORDERED_TAIL 0x0100</span>
<a name="l00691"></a>00691 <span class="preprocessor"></span>
<a name="l00692"></a>00692 <span class="comment">/* Error Event Categories */</span>
<a name="l00693"></a>00693 <span class="comment">/* WARNING: DO NOT CHANGE THESE UNLESS YOU CHANGE ghal_err_cat.h */</span>
<a name="l00694"></a>00694 <span class="preprocessor">#define GNI_ERRMASK_CORRECTABLE_MEMORY   (1 &lt;&lt; 0)</span>
<a name="l00695"></a>00695 <span class="preprocessor"></span><span class="preprocessor">#define GNI_ERRMASK_CRITICAL             (1 &lt;&lt; 1)</span>
<a name="l00696"></a>00696 <span class="preprocessor"></span><span class="preprocessor">#define GNI_ERRMASK_TRANSACTION          (1 &lt;&lt; 2)</span>
<a name="l00697"></a>00697 <span class="preprocessor"></span><span class="preprocessor">#define GNI_ERRMASK_ADDRESS_TRANSLATION  (1 &lt;&lt; 3)</span>
<a name="l00698"></a>00698 <span class="preprocessor"></span><span class="preprocessor">#define GNI_ERRMASK_TRANSIENT            (1 &lt;&lt; 4)</span>
<a name="l00699"></a>00699 <span class="preprocessor"></span><span class="preprocessor">#define GNI_ERRMASK_INFORMATIONAL        (1 &lt;&lt; 5)</span>
<a name="l00700"></a>00700 <span class="preprocessor"></span><span class="preprocessor">#define GNI_ERRMASK_DIAG_ONLY            (1 &lt;&lt; 6)</span>
<a name="l00701"></a>00701 <span class="preprocessor"></span><span class="preprocessor">#define GNI_ERRMASK_UNKNOWN_TRANSACTION  (1 &lt;&lt; 7)</span>
<a name="l00702"></a>00702 <span class="preprocessor"></span>
<a name="l00703"></a>00703 <span class="comment">/* RDMA mode */</span>
<a name="l00704"></a>00704 <span class="comment">/* local_addr is a physical address (kernel only) */</span>
<a name="l00705"></a>00705 <span class="preprocessor">#define GNI_RDMAMODE_PHYS_ADDR  0x0001</span>
<a name="l00706"></a>00706 <span class="preprocessor"></span><span class="comment">/* instruction to Gemini to wait for all responses from this post and all</span>
<a name="l00707"></a>00707 <span class="comment"> * previous posts before processing the next RDMA descriptor */</span>
<a name="l00708"></a>00708 <span class="preprocessor">#define GNI_RDMAMODE_FENCE      0x0002</span>
<a name="l00709"></a>00709 <span class="preprocessor"></span><span class="comment">/* Disable Aries write combining of incoming GET data */</span>
<a name="l00710"></a>00710 <span class="preprocessor">#define GNI_RDMAMODE_GETWC_DIS  0x0004</span>
<a name="l00711"></a>00711 <span class="preprocessor"></span>
<a name="l00712"></a>00712 <span class="comment">/* Post CE modes, used during GNI_PostFma(...) */</span>
<a name="l00713"></a>00713 <span class="comment">/* Use two operands (only meaningful for single operand collective operations).</span>
<a name="l00714"></a>00714 <span class="comment"> * Single operand CE operations are all variations of AND, OR, XOR and ADD.  */</span>
<a name="l00715"></a>00715 <span class="preprocessor">#define GNI_CEMODE_TWO_OP               (1 &lt;&lt; 0)</span>
<a name="l00716"></a>00716 <span class="preprocessor"></span><span class="comment">/* The provided operands are an intermediate result that has experienced an</span>
<a name="l00717"></a>00717 <span class="comment"> * invalid operation floating point exception. */</span>
<a name="l00718"></a>00718 <span class="preprocessor">#define GNI_CEMODE_FPE_OP_INVAL         (1 &lt;&lt; 1)</span>
<a name="l00719"></a>00719 <span class="preprocessor"></span><span class="comment">/* The provided operands are an intermediate result that has experienced an</span>
<a name="l00720"></a>00720 <span class="comment"> * overflow floating point exception */</span>
<a name="l00721"></a>00721 <span class="preprocessor">#define GNI_CEMODE_FPE_OFLOW            (1 &lt;&lt; 2)</span>
<a name="l00722"></a>00722 <span class="preprocessor"></span><span class="comment">/* The provided operands are an intermediate result that has experienced an</span>
<a name="l00723"></a>00723 <span class="comment"> * underflow floating point exception. */</span>
<a name="l00724"></a>00724 <span class="preprocessor">#define GNI_CEMODE_FPE_UFLOW            (1 &lt;&lt; 3)</span>
<a name="l00725"></a>00725 <span class="preprocessor"></span><span class="comment">/* The provided operands are an intermediate result that has experienced an</span>
<a name="l00726"></a>00726 <span class="comment"> * inexact result floating point exception. */</span>
<a name="l00727"></a>00727 <span class="preprocessor">#define GNI_CEMODE_FPE_PRECISION        (1 &lt;&lt; 4)</span>
<a name="l00728"></a>00728 <span class="preprocessor"></span>
<a name="l00729"></a>00729 <span class="comment">/* Maximum length in bytes of a datagram transaction */</span>
<a name="l00730"></a>00730 <span class="preprocessor">#define GNI_DATAGRAM_MAXSIZE    128</span>
<a name="l00731"></a>00731 <span class="preprocessor"></span>
<a name="l00732"></a>00732 <span class="comment">/*</span>
<a name="l00733"></a>00733 <span class="comment"> * Maximum length in bytes of a short message,</span>
<a name="l00734"></a>00734 <span class="comment"> * this includes the length of the header and data.</span>
<a name="l00735"></a>00735 <span class="comment"> */</span>
<a name="l00736"></a>00736 <span class="preprocessor">#define GNI_SMSG_MAX_SIZE       65535</span>
<a name="l00737"></a>00737 <span class="preprocessor"></span>
<a name="l00738"></a>00738 <span class="comment">/* Transaction descriptor */</span>
<a name="l00739"></a><a class="code" href="structgni__post__descriptor.html">00739</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__post__descriptor.html">gni_post_descriptor</a> {
<a name="l00740"></a>00740         <span class="comment">/********************** Control **********************/</span>
<a name="l00741"></a>00741         <span class="comment">/* points to the next descriptor in the link list */</span>
<a name="l00742"></a>00742         <span class="keywordtype">void</span> *next_descr;
<a name="l00743"></a>00743         <span class="comment">/* points to the previous descriptor in the link list */</span>
<a name="l00744"></a>00744         <span class="keywordtype">void</span> *prev_descr;
<a name="l00745"></a>00745         <span class="comment">/* holds an ID of the transaction assigned by the user */</span>
<a name="l00746"></a>00746         uint64_t post_id;
<a name="l00747"></a>00747         <span class="comment">/* error status of the transaction */</span>
<a name="l00748"></a>00748         uint64_t status;
<a name="l00749"></a>00749         <span class="comment">/* completion flag of the transaction */</span>
<a name="l00750"></a>00750         uint16_t cq_mode_complete;
<a name="l00751"></a>00751         <span class="comment">/********************** Common ***********************/</span>
<a name="l00752"></a>00752         <span class="comment">/* type of the transaction */</span>
<a name="l00753"></a>00753         gni_post_type_t type;
<a name="l00754"></a>00754         <span class="comment">/* instruction to generate CQ events of the following types</span>
<a name="l00755"></a>00755 <span class="comment">           (see GNI_CQMODE_xxx)*/</span>
<a name="l00756"></a>00756         uint16_t cq_mode;
<a name="l00757"></a>00757         <span class="comment">/* delivery mode (see GNI_DLVMODE_xxx) */</span>
<a name="l00758"></a>00758         uint16_t dlvr_mode;
<a name="l00759"></a>00759         <span class="comment">/* address of region on the local node: source for Put, target for Get */</span>
<a name="l00760"></a>00760         uint64_t local_addr;
<a name="l00761"></a>00761         <span class="comment">/* local memory handle */</span>
<a name="l00762"></a>00762         <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a> local_mem_hndl;
<a name="l00763"></a>00763         <span class="comment">/* address of the remote region: target for Put, source for Get */</span>
<a name="l00764"></a>00764         uint64_t remote_addr;
<a name="l00765"></a>00765         <span class="comment">/* remote memory handle */</span>
<a name="l00766"></a>00766         <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a> remote_mem_hndl;
<a name="l00767"></a>00767         <span class="comment">/* number of bytes to move during the transaction */</span>
<a name="l00768"></a>00768         uint64_t length;
<a name="l00769"></a>00769         <span class="comment">/****************** RDMA specific ********************/</span>
<a name="l00770"></a>00770         <span class="comment">/* see GNI_RDMAMODE_xxx */</span>
<a name="l00771"></a>00771         uint16_t rdma_mode;
<a name="l00772"></a>00772         <span class="comment">/* defines src. CQ for the transaction */</span>
<a name="l00773"></a>00773         gni_cq_handle_t src_cq_hndl;
<a name="l00774"></a>00774         <span class="comment">/************ FMA and AMO specific *******************/</span>
<a name="l00775"></a>00775         <span class="comment">/* synchronization value */</span>
<a name="l00776"></a>00776         uint64_t sync_flag_value;
<a name="l00777"></a>00777         <span class="comment">/* location to deliver sync. value */</span>
<a name="l00778"></a>00778         uint64_t sync_flag_addr;
<a name="l00779"></a>00779         <span class="comment">/****************** AMO specific *********************/</span>
<a name="l00780"></a>00780         <span class="comment">/* AMO command for the transaction */</span>
<a name="l00781"></a>00781         gni_fma_cmd_type_t amo_cmd;
<a name="l00782"></a>00782         <span class="comment">/* first operand required by the AMO command */</span>
<a name="l00783"></a>00783         uint64_t first_operand;
<a name="l00784"></a>00784         <span class="comment">/* second operand required by the AMO command */</span>
<a name="l00785"></a>00785         uint64_t second_operand;
<a name="l00786"></a>00786         <span class="comment">/****************** CQWrite specific *****************/</span>
<a name="l00787"></a>00787         <span class="comment">/* cqwrite value - only 6 least significant bytes available to software */</span>
<a name="l00788"></a>00788         uint64_t cqwrite_value;
<a name="l00789"></a>00789         <span class="comment">/****************** CE specific **********************/</span>
<a name="l00790"></a>00790         <span class="comment">/* CE command */</span>
<a name="l00791"></a>00791         gni_ce_cmd_type_t ce_cmd;
<a name="l00792"></a>00792         <span class="comment">/* CE modes, see GNI_CEMODE_* */</span>
<a name="l00793"></a>00793         uint32_t ce_mode;
<a name="l00794"></a>00794         <span class="comment">/* CE reduction ID */</span>
<a name="l00795"></a>00795         uint64_t ce_red_id;
<a name="l00796"></a>00796 } <a class="code" href="structgni__post__descriptor.html">gni_post_descriptor_t</a>;
<a name="l00797"></a>00797 
<a name="l00798"></a>00798 <span class="comment">/* NTT configuration table entries */</span>
<a name="l00799"></a><a class="code" href="structgni__ntt__entry.html">00799</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__ntt__entry.html">gni_ntt_entry</a> {
<a name="l00800"></a>00800         uint32_t        blck_addr;
<a name="l00801"></a>00801         uint32_t        rplc_addr;
<a name="l00802"></a>00802         uint8_t         rplc_size;
<a name="l00803"></a>00803 } <a class="code" href="structgni__ntt__entry.html">gni_ntt_entry_t</a>;
<a name="l00804"></a>00804 
<a name="l00805"></a>00805 <span class="comment">/* NTT configuration descriptor */</span>
<a name="l00806"></a><a class="code" href="structgni__ntt__descriptor.html">00806</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__ntt__descriptor.html">gni_ntt_descriptor</a> {
<a name="l00807"></a>00807         <span class="comment">/* size of the NTT group to be configured */</span>
<a name="l00808"></a>00808         uint32_t        group_size;
<a name="l00809"></a>00809         <span class="comment">/* NTT granularity */</span>
<a name="l00810"></a>00810         uint8_t         granularity;
<a name="l00811"></a>00811         <span class="comment">/* pointer to the array of new NTT values */</span>
<a name="l00812"></a>00812         <span class="keyword">union </span>{
<a name="l00813"></a>00813                 uint32_t        *table;
<a name="l00814"></a>00814                 <a class="code" href="structgni__ntt__entry.html">gni_ntt_entry_t</a> *table_v2;
<a name="l00815"></a>00815         } u;
<a name="l00816"></a>00816         <span class="comment">/* configuration flags ( not used )*/</span>
<a name="l00817"></a>00817         uint8_t         flags;
<a name="l00818"></a>00818 } <a class="code" href="structgni__ntt__descriptor.html">gni_ntt_descriptor_t</a>;
<a name="l00819"></a>00819 
<a name="l00820"></a>00820 <span class="comment">/* GNI Error Event */</span>
<a name="l00821"></a><a class="code" href="structgni__error__event.html">00821</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__error__event.html">gni_error_event</a> {
<a name="l00822"></a>00822         uint16_t error_code;
<a name="l00823"></a>00823         uint8_t  error_category;
<a name="l00824"></a>00824         uint8_t  ptag;
<a name="l00825"></a>00825         uint32_t serial_number;
<a name="l00826"></a>00826         uint64_t timestamp;
<a name="l00827"></a>00827         uint64_t info_mmrs[4];
<a name="l00828"></a>00828 } <a class="code" href="structgni__error__event.html">gni_error_event_t</a>;
<a name="l00829"></a>00829 
<a name="l00830"></a>00830 <span class="keyword">typedef</span> uint8_t gni_error_mask_t;
<a name="l00831"></a>00831 
<a name="l00832"></a>00832 <span class="comment">/* Job parameters and limits */</span>
<a name="l00833"></a>00833 <span class="preprocessor">#define GNI_JOB_INVALID_LIMIT           (-1)</span>
<a name="l00834"></a>00834 <span class="preprocessor"></span><span class="comment">/* Directive for the driver to cleanup NTT at the end of the job */</span>
<a name="l00835"></a>00835 <span class="preprocessor">#define GNI_JOB_CTRL_NTT_CLEANUP        (0x01)</span>
<a name="l00836"></a>00836 <span class="preprocessor"></span><span class="comment">/* Job Control CE Channel Masks */</span>
<a name="l00837"></a>00837 <span class="preprocessor">#define GNI_JOB_CTRL_CE0_MASK           (1&lt;&lt;0)</span>
<a name="l00838"></a>00838 <span class="preprocessor"></span><span class="preprocessor">#define GNI_JOB_CTRL_CE1_MASK           (1&lt;&lt;1)</span>
<a name="l00839"></a>00839 <span class="preprocessor"></span><span class="preprocessor">#define GNI_JOB_CTRL_CE2_MASK           (1&lt;&lt;2)</span>
<a name="l00840"></a>00840 <span class="preprocessor"></span><span class="preprocessor">#define GNI_JOB_CTRL_CE3_MASK           (1&lt;&lt;3)</span>
<a name="l00841"></a>00841 <span class="preprocessor"></span><span class="preprocessor">#define GNI_JOB_CTRL_ALL_CE_MASK        (GNI_JOB_CTRL_CE0_MASK | \</span>
<a name="l00842"></a>00842 <span class="preprocessor">                                         GNI_JOB_CTRL_CE1_MASK | \</span>
<a name="l00843"></a>00843 <span class="preprocessor">                                         GNI_JOB_CTRL_CE2_MASK | \</span>
<a name="l00844"></a>00844 <span class="preprocessor">                                         GNI_JOB_CTRL_CE3_MASK)</span>
<a name="l00845"></a>00845 <span class="preprocessor"></span>
<a name="l00846"></a><a class="code" href="structgni__job__limits.html">00846</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__job__limits.html">gni_job_limits</a> {
<a name="l00847"></a>00847         int32_t  mdd_limit;      <span class="comment">/* IN number of MDDs associated with the given ptag */</span>
<a name="l00848"></a>00848         <span class="keyword">union </span>{
<a name="l00849"></a>00849                 int32_t  mrt_limit;          <span class="comment">/* Gemini: IN number of MRT entries used by MDDs with the given ptag */</span>
<a name="l00850"></a>00850                 <span class="keyword">struct </span>{
<a name="l00851"></a>00851                         uint8_t  ce_limit;    <span class="comment">/* Aries: IN number of CE channels available with the given ptag */</span>
<a name="l00852"></a>00852                         uint8_t  iommu_limit; <span class="comment">/* Aries: IN 2 ^ N * 1MB bytes of address space per ptag */</span>
<a name="l00853"></a>00853                         uint8_t  res_byte2;
<a name="l00854"></a>00854                         uint8_t  res_byte3;
<a name="l00855"></a>00855                 } m;
<a name="l00856"></a>00856         } a;
<a name="l00857"></a>00857         <span class="keyword">union </span>{
<a name="l00858"></a>00858                 int32_t  gart_limit;     <span class="comment">/* Gemini: IN number of GART entries used by MDDs with the given ptag */</span>
<a name="l00859"></a>00859                 int32_t  dla_limit;      <span class="comment">/* Aries: IN number of DLA entries available with the given ptag */</span>
<a name="l00860"></a>00860         } b;
<a name="l00861"></a>00861         int32_t  fma_limit;      <span class="comment">/* IN number of FMA descriptors associated with the given ptag */</span>
<a name="l00862"></a>00862         int32_t  bte_limit;      <span class="comment">/* IN number of outstanding BTE descriptors with the given src. ptag */</span>
<a name="l00863"></a>00863         int32_t  cq_limit;       <span class="comment">/* IN number of CQ descriptors associated with the given ptag */</span>
<a name="l00864"></a>00864         int32_t  ntt_ctrl;       <span class="comment">/* IN NTT cotrol flag (see GNI_JOB_CTRL_NTT_xxx above)*/</span>
<a name="l00865"></a>00865         int32_t  ntt_base;       <span class="comment">/* IN Base entry into NTT */</span>
<a name="l00866"></a>00866         int32_t  ntt_size;       <span class="comment">/* IN size of the NTT */</span>
<a name="l00867"></a>00867 } <a class="code" href="structgni__job__limits.html">gni_job_limits_t</a>;
<a name="l00868"></a>00868 
<a name="l00869"></a>00869 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_nic_device {
<a name="l00870"></a>00870         GNI_DEVICE_GEMINI = 0,
<a name="l00871"></a>00871         GNI_DEVICE_ARIES  = 1,
<a name="l00872"></a>00872         GNI_DEVICE_PISCES = 2,
<a name="l00873"></a>00873         GNI_DEVICE_LAST
<a name="l00874"></a>00874 } gni_nic_device_t;
<a name="l00875"></a>00875 
<a name="l00876"></a>00876 <span class="comment">/* Resource info types */</span>
<a name="l00877"></a>00877 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_dev_res {
<a name="l00878"></a>00878         GNI_DEV_RES_FIRST = 0,
<a name="l00879"></a>00879         GNI_DEV_RES_MDD,
<a name="l00880"></a>00880         GNI_DEV_RES_MRT,
<a name="l00881"></a>00881         GNI_DEV_RES_CQ,
<a name="l00882"></a>00882         GNI_DEV_RES_FMA,
<a name="l00883"></a>00883         GNI_DEV_RES_CE,
<a name="l00884"></a>00884         GNI_DEV_RES_DLA,
<a name="l00885"></a>00885         GNI_DEV_RES_LAST
<a name="l00886"></a>00886 } gni_dev_res_t;
<a name="l00887"></a>00887 
<a name="l00888"></a><a class="code" href="structgni__dev__res__desc.html">00888</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__dev__res__desc.html">gni_dev_res_desc</a> {
<a name="l00889"></a>00889         uint64_t available;
<a name="l00890"></a>00890         uint64_t reserved;
<a name="l00891"></a>00891         uint64_t held;
<a name="l00892"></a>00892         uint64_t total;
<a name="l00893"></a>00893 } <a class="code" href="structgni__dev__res__desc.html">gni_dev_res_desc_t</a>;
<a name="l00894"></a>00894 
<a name="l00895"></a>00895 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_job_res {
<a name="l00896"></a>00896         GNI_JOB_RES_FIRST = 0,
<a name="l00897"></a>00897         GNI_JOB_RES_MDD,
<a name="l00898"></a>00898         GNI_JOB_RES_MRT,
<a name="l00899"></a>00899         GNI_JOB_RES_IOMMU,
<a name="l00900"></a>00900         GNI_JOB_RES_GART,
<a name="l00901"></a>00901         GNI_JOB_RES_CQ,
<a name="l00902"></a>00902         GNI_JOB_RES_FMA,
<a name="l00903"></a>00903         GNI_JOB_RES_RMDA,
<a name="l00904"></a>00904         GNI_JOB_RES_CE,
<a name="l00905"></a>00905         GNI_JOB_RES_DLA,
<a name="l00906"></a>00906         GNI_JOB_RES_SFMA,
<a name="l00907"></a>00907         GNI_JOB_RES_LAST
<a name="l00908"></a>00908 } gni_job_res_t;
<a name="l00909"></a>00909 
<a name="l00910"></a><a class="code" href="structgni__job__res__desc.html">00910</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__job__res__desc.html">gni_job_res_desc</a> {
<a name="l00911"></a>00911         uint64_t used;
<a name="l00912"></a>00912         uint64_t limit;
<a name="l00913"></a>00913 } <a class="code" href="structgni__job__res__desc.html">gni_job_res_desc_t</a>;
<a name="l00914"></a>00914 
<a name="l00915"></a>00915 <span class="keyword">typedef</span> <span class="keyword">enum</span> gni_statistic {
<a name="l00916"></a>00916         GNI_STAT_SMSG_BUFF_CREDITS_STALL = 0,
<a name="l00917"></a>00917         GNI_STAT_SMSG_DLA_STALL,
<a name="l00918"></a>00918         GNI_STAT_SMSG_MBOX_CREDITS_STALL,
<a name="l00919"></a>00919         GNI_STAT_SMSG_REQ_STALL,
<a name="l00920"></a>00920         GNI_STAT_SMSG_RETRANS_COUNT,
<a name="l00921"></a>00921         GNI_STAT_SMSG_RETRANS_DLA_COUNT,
<a name="l00922"></a>00922         GNI_STAT_SMSG_RETRANS_STALL,
<a name="l00923"></a>00923 <span class="preprocessor">#if defined CRAY_CONFIG_GHAL_ARIES</span>
<a name="l00924"></a>00924 <span class="preprocessor"></span>        GNI_STAT_DLA_ALLOC_STATUS_STALL,
<a name="l00925"></a>00925         GNI_STAT_DLA_ALLOC_STATUS_TIMEOUT,
<a name="l00926"></a>00926         GNI_STAT_DLA_BLOCK_ORPHANED,
<a name="l00927"></a>00927         GNI_STAT_DLA_BLOCK_RETRANS_COUNT,
<a name="l00928"></a>00928         GNI_STAT_DLA_FREE_BLOCKS_STALL,
<a name="l00929"></a>00929         GNI_STAT_DLA_FREE_FMAD_BLOCKS_STALL,
<a name="l00930"></a>00930         GNI_STAT_DLA_HIGH_RETRANS_COUNT,
<a name="l00931"></a>00931         GNI_STAT_DLA_OVERFLOW_RESEND,
<a name="l00932"></a>00932         GNI_STAT_DLA_RETRANS_COUNT,
<a name="l00933"></a>00933         GNI_STAT_DLA_TOTAL_RETRANS_COUNT,
<a name="l00934"></a>00934         GNI_STAT_FLBTE_TXD_CORRUPT,
<a name="l00935"></a>00935         GNI_STAT_FLBTE_TXD_NONE,
<a name="l00936"></a>00936 <span class="preprocessor">#endif</span>
<a name="l00937"></a>00937 <span class="preprocessor"></span>        GNI_NUM_STATS
<a name="l00938"></a>00938 } gni_statistic_t;
<a name="l00939"></a>00939 
<a name="l00940"></a>00940 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *gni_statistic_str[];
<a name="l00941"></a>00941 
<a name="l00942"></a>00942 <span class="preprocessor">#ifdef __KERNEL__</span>
<a name="l00943"></a>00943 <span class="preprocessor"></span>
<a name="l00944"></a>00944 <span class="preprocessor">#define GNI_ERRNO_FUNC_STR_LEN          100</span>
<a name="l00945"></a>00945 <span class="preprocessor"></span>
<a name="l00946"></a>00946 <span class="keyword">typedef</span> <span class="keyword">struct </span>gni_errno {
<a name="l00947"></a>00947         uint8_t         valid;
<a name="l00948"></a>00948         <span class="keywordtype">char</span>            func[GNI_ERRNO_FUNC_STR_LEN];
<a name="l00949"></a>00949         <span class="keywordtype">int</span>             lineno;
<a name="l00950"></a>00950         <span class="keywordtype">int</span>             errno;
<a name="l00951"></a>00951         uint64_t        data1;
<a name="l00952"></a>00952         uint64_t        data2;
<a name="l00953"></a>00953         uint64_t        data3;
<a name="l00954"></a>00954         uint64_t        data4;
<a name="l00955"></a>00955 } gni_errno_t;
<a name="l00956"></a>00956 
<a name="l00957"></a>00957 <span class="preprocessor">#endif</span>
<a name="l00958"></a>00958 <span class="preprocessor"></span>
<a name="l00959"></a>00959 <span class="preprocessor">#ifndef __KERNEL__</span>
<a name="l00960"></a>00960 <span class="preprocessor"></span>
<a name="l00961"></a>00961 <span class="comment">/* User level definitions */</span>
<a name="l00962"></a>00962 
<a name="l00963"></a>00963 <span class="comment">/* public MSGQ definitions */</span>
<a name="l00964"></a>00964 
<a name="l00965"></a>00965 <span class="comment">/* shared message queue receive callback function */</span>
<a name="l00966"></a>00966 <span class="keyword">typedef</span> <span class="keywordtype">int</span> gni_msgq_rcv_cb_func(
<a name="l00967"></a>00967                 uint32_t snd_id,
<a name="l00968"></a>00968                 uint32_t snd_pe,
<a name="l00969"></a>00969                 <span class="keywordtype">void</span>     *msg,
<a name="l00970"></a>00970                 uint8_t  msg_tag,
<a name="l00971"></a>00971                 <span class="keywordtype">void</span>     *cb_data
<a name="l00972"></a>00972                 );
<a name="l00973"></a>00973 
<a name="l00974"></a>00974 <span class="comment">/* MSGQ limits */</span>
<a name="l00975"></a>00975 <span class="preprocessor">#define GNI_MSGQ_MSG_SZ_MAX             128</span>
<a name="l00976"></a>00976 <span class="preprocessor"></span><span class="preprocessor">#define GNI_MSGQ_NODE_INSTS_MAX         48</span>
<a name="l00977"></a>00977 <span class="preprocessor"></span>
<a name="l00978"></a>00978 <span class="comment">/* MSGQ mode flags */</span>
<a name="l00979"></a>00979 <span class="preprocessor">#define GNI_MSGQ_MODE_BLOCKING          (0x01)</span>
<a name="l00980"></a>00980 <span class="preprocessor"></span>
<a name="l00981"></a>00981 <span class="comment">/* MSGQ structures */</span>
<a name="l00982"></a><a class="code" href="structgni__msgq__attr.html">00982</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__msgq__attr.html">gni_msgq_attr</a> {
<a name="l00983"></a>00983         uint32_t         max_msg_sz;
<a name="l00984"></a>00984         uint32_t         smsg_q_sz;
<a name="l00985"></a>00985         uint32_t         rcv_pool_sz;
<a name="l00986"></a>00986         uint32_t         num_msgq_eps;
<a name="l00987"></a>00987         uint32_t         nloc_insts;
<a name="l00988"></a>00988         uint8_t          modes;
<a name="l00989"></a>00989         uint32_t         rcv_cq_sz;
<a name="l00990"></a>00990 } <a class="code" href="structgni__msgq__attr.html">gni_msgq_attr_t</a>;
<a name="l00991"></a>00991 
<a name="l00992"></a><a class="code" href="structgni__msgq__rem__inst.html">00992</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__msgq__rem__inst.html">gni_msgq_rem_inst</a> {
<a name="l00993"></a>00993         uint32_t         id;      <span class="comment">/* instance ID */</span>
<a name="l00994"></a>00994         <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a> mdh;     <span class="comment">/* MDH for the shmem region */</span>
<a name="l00995"></a>00995         uint64_t         mdh_off; <span class="comment">/* offset into the MDH for the smsg mbox */</span>
<a name="l00996"></a>00996 } <a class="code" href="structgni__msgq__rem__inst.html">gni_msgq_rem_inst_t</a>;
<a name="l00997"></a>00997 
<a name="l00998"></a><a class="code" href="structgni__msgq__ep__attr.html">00998</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__msgq__ep__attr.html">gni_msgq_ep_attr</a> {
<a name="l00999"></a>00999         uint32_t         pe_addr;
<a name="l01000"></a>01000         uint32_t         max_msg_sz;
<a name="l01001"></a>01001         uint32_t         smsg_q_sz;
<a name="l01002"></a>01002         uint32_t         num_insts;
<a name="l01003"></a>01003         <a class="code" href="structgni__msgq__rem__inst.html">gni_msgq_rem_inst_t</a> insts[GNI_MSGQ_NODE_INSTS_MAX];
<a name="l01004"></a>01004 } <a class="code" href="structgni__msgq__ep__attr.html">gni_msgq_ep_attr_t</a>;
<a name="l01005"></a>01005 
<a name="l01006"></a>01006 <span class="preprocessor">#define MAX_BUILD_STRING_LENGTH 80</span>
<a name="l01007"></a>01007 <span class="preprocessor"></span>
<a name="l01008"></a><a class="code" href="structgni__version__info.html">01008</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__version__info.html">gni_version_info</a> {
<a name="l01009"></a>01009         uint32_t         ugni_version;
<a name="l01010"></a>01010         uint32_t         ugni_svn_revision;
<a name="l01011"></a>01011         <span class="keywordtype">char</span>             ugni_build_string[MAX_BUILD_STRING_LENGTH];
<a name="l01012"></a>01012         uint32_t         kgni_version;
<a name="l01013"></a>01013         uint32_t         kgni_svn_revision;
<a name="l01014"></a>01014         <span class="keywordtype">char</span>             kgni_build_string[MAX_BUILD_STRING_LENGTH];
<a name="l01015"></a>01015 } <a class="code" href="structgni__version__info.html">gni_version_info_t</a>;
<a name="l01016"></a>01016 
<a name="l01017"></a>01017 <span class="comment">/* If return codes are modified, need to modify</span>
<a name="l01018"></a>01018 <span class="comment">   gni_err_str */</span>
<a name="l01019"></a>01019 
<a name="l01020"></a>01020 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *gni_err_str[];
<a name="l01021"></a>01021 
<a name="l01022"></a>01022 
<a name="l01048"></a>01048 gni_return_t
<a name="l01049"></a>01049         GNI_CdmCreate(
<a name="l01050"></a>01050                 IN  uint32_t            inst_id,
<a name="l01051"></a>01051                 IN  uint8_t             ptag,
<a name="l01052"></a>01052                 IN  uint32_t            cookie,
<a name="l01053"></a>01053                 IN  uint32_t            modes,
<a name="l01054"></a>01054                 OUT gni_cdm_handle_t    *cdm_hndl
<a name="l01055"></a>01055                 );
<a name="l01056"></a>01056 
<a name="l01073"></a>01073 gni_return_t
<a name="l01074"></a>01074         GNI_CdmDestroy(
<a name="l01075"></a>01075                 IN gni_cdm_handle_t     cdm_hndl
<a name="l01076"></a>01076                 );
<a name="l01077"></a>01077 
<a name="l01098"></a>01098 gni_return_t
<a name="l01099"></a>01099         GNI_CdmGetNicAddress(
<a name="l01100"></a>01100                 IN  uint32_t    device_id,
<a name="l01101"></a>01101                 OUT uint32_t    *address,
<a name="l01102"></a>01102                 OUT uint32_t    *cpu_id
<a name="l01103"></a>01103                 );
<a name="l01104"></a>01104 
<a name="l01139"></a>01139 gni_return_t
<a name="l01140"></a>01140         GNI_CdmAttach(
<a name="l01141"></a>01141                 IN  gni_cdm_handle_t    cdm_hndl,
<a name="l01142"></a>01142                 IN  uint32_t            device_id,
<a name="l01143"></a>01143                 OUT uint32_t            *local_addr,
<a name="l01144"></a>01144                 OUT gni_nic_handle_t    *nic_hndl
<a name="l01145"></a>01145                 );
<a name="l01146"></a>01146 
<a name="l01164"></a>01164 gni_return_t
<a name="l01165"></a>01165         GNI_CdmCheckpoint(
<a name="l01166"></a>01166                 IN gni_cdm_handle_t     cdm_handle
<a name="l01167"></a>01167                 );
<a name="l01168"></a>01168 
<a name="l01183"></a>01183 gni_return_t
<a name="l01184"></a>01184         GNI_CdmResume(
<a name="l01185"></a>01185                 IN gni_cdm_handle_t     cdm_handle
<a name="l01186"></a>01186                 );
<a name="l01187"></a>01187 
<a name="l01214"></a>01214 gni_return_t
<a name="l01215"></a>01215         GNI_SuspendJob(
<a name="l01216"></a>01216                 IN uint32_t     device_id,
<a name="l01217"></a>01217                 IN uint64_t     job_id,
<a name="l01218"></a>01218                 IN uint8_t      ptag,
<a name="l01219"></a>01219                 IN uint32_t     cookie,
<a name="l01220"></a>01220                 IN uint32_t     timeout
<a name="l01221"></a>01221                 );
<a name="l01222"></a>01222 
<a name="l01243"></a>01243 gni_return_t
<a name="l01244"></a>01244         GNI_ResumeJob(
<a name="l01245"></a>01245                 IN uint32_t     device_id,
<a name="l01246"></a>01246                 IN uint64_t     job_id,
<a name="l01247"></a>01247                 IN uint8_t      ptag,
<a name="l01248"></a>01248                 IN uint32_t     cookie
<a name="l01249"></a>01249                 );
<a name="l01250"></a>01250 
<a name="l01286"></a>01286 gni_return_t
<a name="l01287"></a>01287         GNI_ConfigureNTT(
<a name="l01288"></a>01288                 IN  <span class="keywordtype">int</span>                         device_id,
<a name="l01289"></a>01289                 IN  <a class="code" href="structgni__ntt__descriptor.html">gni_ntt_descriptor_t</a>        *ntt_desc,
<a name="l01290"></a>01290                 OUT uint32_t                    *ntt_base
<a name="l01291"></a>01291                 );
<a name="l01292"></a>01292 
<a name="l01347"></a>01347 gni_return_t
<a name="l01348"></a>01348         GNI_ConfigureJob(
<a name="l01349"></a>01349                 IN uint32_t             device_id,
<a name="l01350"></a>01350                 IN uint64_t             job_id,
<a name="l01351"></a>01351                 IN uint8_t              ptag,
<a name="l01352"></a>01352                 IN uint32_t             cookie,
<a name="l01353"></a>01353                 IN <a class="code" href="structgni__job__limits.html">gni_job_limits_t</a>     *limits
<a name="l01354"></a>01354                 );
<a name="l01355"></a>01355 
<a name="l01417"></a>01417 gni_return_t
<a name="l01418"></a>01418         GNI_ConfigureNTTandJob(
<a name="l01419"></a>01419                 IN  <span class="keywordtype">int</span>                         device_id,
<a name="l01420"></a>01420                 IN  uint64_t                    job_id,
<a name="l01421"></a>01421                 IN  uint8_t                     ptag,
<a name="l01422"></a>01422                 IN  uint32_t                    cookie,
<a name="l01423"></a>01423                 IN  <a class="code" href="structgni__job__limits.html">gni_job_limits_t</a>            *limits,
<a name="l01424"></a>01424                 IN  <a class="code" href="structgni__ntt__descriptor.html">gni_ntt_descriptor_t</a>        *ntt_desc,
<a name="l01425"></a>01425                 OUT uint32_t                    *ntt_base
<a name="l01426"></a>01426                 );
<a name="l01427"></a>01427 
<a name="l01453"></a>01453 gni_return_t
<a name="l01454"></a>01454         GNI_EpCreate(
<a name="l01455"></a>01455                 IN  gni_nic_handle_t    nic_hndl,
<a name="l01456"></a>01456                 IN  gni_cq_handle_t     src_cq_hndl,
<a name="l01457"></a>01457                 OUT gni_ep_handle_t     *ep_hndl
<a name="l01458"></a>01458                 );
<a name="l01459"></a>01459 
<a name="l01478"></a>01478 gni_return_t
<a name="l01479"></a>01479         GNI_EpSetEventData(
<a name="l01480"></a>01480                 IN gni_ep_handle_t      ep_hndl,
<a name="l01481"></a>01481                 IN uint32_t             local_event,
<a name="l01482"></a>01482                 IN uint32_t             remote_event
<a name="l01483"></a>01483                 );
<a name="l01484"></a>01484 
<a name="l01507"></a>01507 gni_return_t
<a name="l01508"></a>01508         GNI_EpBind(
<a name="l01509"></a>01509                 IN gni_ep_handle_t      ep_hndl,
<a name="l01510"></a>01510                 IN uint32_t             remote_addr,
<a name="l01511"></a>01511                 IN uint32_t             remote_id
<a name="l01512"></a>01512                 );
<a name="l01513"></a>01513 
<a name="l01534"></a>01534 gni_return_t
<a name="l01535"></a>01535         GNI_EpUnbind(
<a name="l01536"></a>01536                 IN gni_ep_handle_t      ep_hndl
<a name="l01537"></a>01537                 );
<a name="l01538"></a>01538 
<a name="l01557"></a>01557 gni_return_t
<a name="l01558"></a>01558         GNI_EpIdle(
<a name="l01559"></a>01559                 IN gni_ep_handle_t      ep_hndl
<a name="l01560"></a>01560                 );
<a name="l01561"></a>01561 
<a name="l01576"></a>01576 gni_return_t
<a name="l01577"></a>01577         GNI_EpDestroy(
<a name="l01578"></a>01578                 IN gni_ep_handle_t      ep_hndl
<a name="l01579"></a>01579                 );
<a name="l01580"></a>01580 
<a name="l01604"></a>01604 gni_return_t
<a name="l01605"></a>01605         GNI_EpPostData(
<a name="l01606"></a>01606                 IN gni_ep_handle_t      ep_hndl,
<a name="l01607"></a>01607                 IN <span class="keywordtype">void</span>                 *in_data,
<a name="l01608"></a>01608                 IN uint16_t             data_len,
<a name="l01609"></a>01609                 IN <span class="keywordtype">void</span>                 *out_buf,
<a name="l01610"></a>01610                 IN uint16_t             buf_size
<a name="l01611"></a>01611                 );
<a name="l01612"></a>01612 
<a name="l01644"></a>01644 gni_return_t
<a name="l01645"></a>01645         GNI_EpPostDataWId(
<a name="l01646"></a>01646                 IN gni_ep_handle_t      ep_hndl,
<a name="l01647"></a>01647                 IN <span class="keywordtype">void</span>                 *in_data,
<a name="l01648"></a>01648                 IN uint16_t             data_len,
<a name="l01649"></a>01649                 IN <span class="keywordtype">void</span>                 *out_buf,
<a name="l01650"></a>01650                 IN uint16_t             buf_size,
<a name="l01651"></a>01651                 IN uint64_t             datagram_id
<a name="l01652"></a>01652                 );
<a name="l01653"></a>01653 
<a name="l01682"></a>01682 gni_return_t
<a name="l01683"></a>01683         GNI_EpPostDataTest(
<a name="l01684"></a>01684                 IN  gni_ep_handle_t     ep_hndl,
<a name="l01685"></a>01685                 OUT gni_post_state_t    *post_state,
<a name="l01686"></a>01686                 OUT uint32_t            *remote_addr,
<a name="l01687"></a>01687                 OUT uint32_t            *remote_id
<a name="l01688"></a>01688                 );
<a name="l01689"></a>01689 
<a name="l01724"></a>01724 gni_return_t
<a name="l01725"></a>01725         GNI_EpPostDataTestById(
<a name="l01726"></a>01726                 IN  gni_ep_handle_t     ep_hndl,
<a name="l01727"></a>01727                 IN  uint64_t            datagram_id,
<a name="l01728"></a>01728                 OUT gni_post_state_t    *post_state,
<a name="l01729"></a>01729                 OUT uint32_t            *remote_addr,
<a name="l01730"></a>01730                 OUT uint32_t            *remote_id
<a name="l01731"></a>01731                 );
<a name="l01732"></a>01732 
<a name="l01767"></a>01767 gni_return_t
<a name="l01768"></a>01768         GNI_EpPostDataWait(
<a name="l01769"></a>01769                 IN  gni_ep_handle_t     ep_hndl,
<a name="l01770"></a>01770                 IN  uint32_t            timeout,
<a name="l01771"></a>01771                 OUT gni_post_state_t    *post_state,
<a name="l01772"></a>01772                 OUT uint32_t            *remote_addr,
<a name="l01773"></a>01773                 OUT uint32_t            *remote_id
<a name="l01774"></a>01774                 );
<a name="l01775"></a>01775 
<a name="l01817"></a>01817 gni_return_t
<a name="l01818"></a>01818         GNI_EpPostDataWaitById(
<a name="l01819"></a>01819                 IN  gni_ep_handle_t     ep_hndl,
<a name="l01820"></a>01820                 IN  uint64_t            datagram_id,
<a name="l01821"></a>01821                 IN  uint32_t            timeout,
<a name="l01822"></a>01822                 OUT gni_post_state_t    *post_state,
<a name="l01823"></a>01823                 OUT uint32_t            *remote_addr,
<a name="l01824"></a>01824                 OUT uint32_t            *remote_id
<a name="l01825"></a>01825                 );
<a name="l01826"></a>01826 
<a name="l01860"></a>01860 gni_return_t
<a name="l01861"></a>01861         GNI_PostDataProbe(
<a name="l01862"></a>01862                 IN  gni_nic_handle_t    nic_hndl,
<a name="l01863"></a>01863                 OUT uint32_t            *remote_addr,
<a name="l01864"></a>01864                 OUT uint32_t            *remote_id
<a name="l01865"></a>01865                 );
<a name="l01866"></a>01866 
<a name="l01898"></a>01898 gni_return_t
<a name="l01899"></a>01899         GNI_PostDataProbeById(
<a name="l01900"></a>01900                 IN  gni_nic_handle_t    nic_hndl,
<a name="l01901"></a>01901                 OUT uint64_t            *datagram_id
<a name="l01902"></a>01902                 );
<a name="l01903"></a>01903 
<a name="l01939"></a>01939 gni_return_t
<a name="l01940"></a>01940         GNI_PostdataProbeWaitById(
<a name="l01941"></a>01941                 IN  gni_nic_handle_t    nic_hndl,
<a name="l01942"></a>01942                 IN  uint32_t            timeout,
<a name="l01943"></a>01943                 OUT uint64_t            *datagram_id
<a name="l01944"></a>01944                 );
<a name="l01945"></a>01945 
<a name="l01961"></a>01961 gni_return_t
<a name="l01962"></a>01962         GNI_EpPostDataCancel(
<a name="l01963"></a>01963                 IN gni_ep_handle_t      ep_hndl
<a name="l01964"></a>01964                 );
<a name="l01965"></a>01965 
<a name="l01983"></a>01983 gni_return_t
<a name="l01984"></a>01984         GNI_EpPostDataCancelById(
<a name="l01985"></a>01985                 IN gni_ep_handle_t      ep_hndl,
<a name="l01986"></a>01986                 IN uint64_t             datagram_id
<a name="l01987"></a>01987                 );
<a name="l01988"></a>01988 
<a name="l02043"></a>02043 gni_return_t
<a name="l02044"></a>02044         GNI_MemRegister(
<a name="l02045"></a>02045                 IN    gni_nic_handle_t  nic_hndl,
<a name="l02046"></a>02046                 IN    uint64_t          address,
<a name="l02047"></a>02047                 IN    uint64_t          length,
<a name="l02048"></a>02048                 IN    gni_cq_handle_t   dst_cq_hndl,
<a name="l02049"></a>02049                 IN    uint32_t          flags,
<a name="l02050"></a>02050                 IN    uint32_t          vmdh_index,
<a name="l02051"></a>02051                 INOUT <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>  *mem_hndl
<a name="l02052"></a>02052                 );
<a name="l02053"></a>02053 
<a name="l02112"></a>02112 gni_return_t
<a name="l02113"></a>02113         GNI_MemRegisterSegments(
<a name="l02114"></a>02114                 IN    gni_nic_handle_t  nic_hndl,
<a name="l02115"></a>02115                 IN    <a class="code" href="structgni__mem__segment.html">gni_mem_segment_t</a> *mem_segments,
<a name="l02116"></a>02116                 IN    uint32_t          segments_cnt,
<a name="l02117"></a>02117                 IN    gni_cq_handle_t   dst_cq_hndl,
<a name="l02118"></a>02118                 IN    uint32_t          flags,
<a name="l02119"></a>02119                 IN    uint32_t          vmdh_index,
<a name="l02120"></a>02120                 INOUT <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>  *mem_hndl
<a name="l02121"></a>02121                 );
<a name="l02122"></a>02122 
<a name="l02123"></a>02123 
<a name="l02141"></a>02141 gni_return_t
<a name="l02142"></a>02142         GNI_SetMddResources(
<a name="l02143"></a>02143                 IN gni_nic_handle_t     nic_hndl,
<a name="l02144"></a>02144                 IN uint32_t             num_entries
<a name="l02145"></a>02145                 );
<a name="l02146"></a>02146 
<a name="l02147"></a>02147 
<a name="l02166"></a>02166 gni_return_t
<a name="l02167"></a>02167         GNI_MemDeregister(
<a name="l02168"></a>02168                 IN gni_nic_handle_t     nic_hndl,
<a name="l02169"></a>02169                 IN <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>     *mem_hndl
<a name="l02170"></a>02170                 );
<a name="l02171"></a>02171 
<a name="l02192"></a>02192 gni_return_t
<a name="l02193"></a>02193         GNI_MemHndlQueryAttr(
<a name="l02194"></a>02194                 IN  <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>            *mem_hndl,
<a name="l02195"></a>02195                 IN  gni_mem_handle_attr_t       attr,
<a name="l02196"></a>02196                 OUT <span class="keywordtype">int</span>                         *yesno
<a name="l02197"></a>02197                 );
<a name="l02198"></a>02198 
<a name="l02221"></a>02221 gni_return_t
<a name="l02222"></a>02222         GNI_RebuildMemHndl (
<a name="l02223"></a>02223                 IN  <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>    *src_mem_hndl,
<a name="l02224"></a>02224                 IN  uint32_t            vmdh_index,
<a name="l02225"></a>02225                 OUT <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>    *dst_mem_hndl
<a name="l02226"></a>02226                 );
<a name="l02227"></a>02227 
<a name="l02228"></a>02228 
<a name="l02259"></a>02259 gni_return_t
<a name="l02260"></a>02260         GNI_MemQueryHndls(
<a name="l02261"></a>02261                 IN    gni_nic_handle_t  nic_hndl,
<a name="l02262"></a>02262                 IN    <span class="keywordtype">int</span>               fd,
<a name="l02263"></a>02263                 INOUT <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a> *mem_hndl,
<a name="l02264"></a>02264                 OUT   uint64_t         *address,
<a name="l02265"></a>02265                 OUT   uint64_t         *length
<a name="l02266"></a>02266                 );
<a name="l02267"></a>02267 
<a name="l02268"></a>02268 
<a name="l02317"></a>02317 gni_return_t
<a name="l02318"></a>02318         GNI_CqCreate(
<a name="l02319"></a>02319                 IN  gni_nic_handle_t    nic_hndl,
<a name="l02320"></a>02320                 IN  uint32_t            entry_count,
<a name="l02321"></a>02321                 IN  uint32_t            delay_count,
<a name="l02322"></a>02322                 IN  gni_cq_mode_t       mode,
<a name="l02323"></a>02323                 IN  <span class="keywordtype">void</span>                (*handler)(gni_cq_entry_t *,<span class="keywordtype">void</span> *),
<a name="l02324"></a>02324                 IN  <span class="keywordtype">void</span>                *context,
<a name="l02325"></a>02325                 OUT gni_cq_handle_t     *cq_hndl
<a name="l02326"></a>02326                 );
<a name="l02327"></a>02327 
<a name="l02346"></a>02346 gni_return_t
<a name="l02347"></a>02347         GNI_CqDestroy(
<a name="l02348"></a>02348                 IN gni_cq_handle_t      cq_hndl
<a name="l02349"></a>02349                 );
<a name="l02350"></a>02350 
<a name="l02375"></a>02375 gni_return_t
<a name="l02376"></a>02376         GNI_PostRdma(
<a name="l02377"></a>02377                 IN gni_ep_handle_t              ep_hndl,
<a name="l02378"></a>02378                 IN <a class="code" href="structgni__post__descriptor.html">gni_post_descriptor_t</a>        *post_descr
<a name="l02379"></a>02379                 );
<a name="l02380"></a>02380 
<a name="l02407"></a>02407 gni_return_t
<a name="l02408"></a>02408         GNI_PostFma(
<a name="l02409"></a>02409                 IN gni_ep_handle_t              ep_hndl,
<a name="l02410"></a>02410                 IN <a class="code" href="structgni__post__descriptor.html">gni_post_descriptor_t</a>        *post_descr
<a name="l02411"></a>02411                 );
<a name="l02412"></a>02412 
<a name="l02432"></a>02432 gni_return_t
<a name="l02433"></a>02433         GNI_PostCqWrite(
<a name="l02434"></a>02434                 IN gni_ep_handle_t              ep_hndl,
<a name="l02435"></a>02435                 IN <a class="code" href="structgni__post__descriptor.html">gni_post_descriptor_t</a>        *post_descr
<a name="l02436"></a>02436                 );
<a name="l02437"></a>02437 
<a name="l02466"></a>02466 gni_return_t
<a name="l02467"></a>02467         GNI_GetCompleted(
<a name="l02468"></a>02468                 IN  gni_cq_handle_t             cq_hndl,
<a name="l02469"></a>02469                 IN  gni_cq_entry_t              event_data,
<a name="l02470"></a>02470                 OUT <a class="code" href="structgni__post__descriptor.html">gni_post_descriptor_t</a>       **post_descr
<a name="l02471"></a>02471                 );
<a name="l02472"></a>02472 
<a name="l02500"></a>02500 gni_return_t
<a name="l02501"></a>02501         GNI_CqGetEvent(
<a name="l02502"></a>02502                 IN  gni_cq_handle_t     cq_hndl,
<a name="l02503"></a>02503                 OUT gni_cq_entry_t      *event_data
<a name="l02504"></a>02504                 );
<a name="l02505"></a>02505 
<a name="l02536"></a>02536 gni_return_t
<a name="l02537"></a>02537         GNI_CqWaitEvent(
<a name="l02538"></a>02538                 IN  gni_cq_handle_t     cq_hndl,
<a name="l02539"></a>02539                 IN  uint64_t            timeout,
<a name="l02540"></a>02540                 OUT gni_cq_entry_t      *event_data
<a name="l02541"></a>02541                 );
<a name="l02542"></a>02542 
<a name="l02579"></a>02579 gni_return_t
<a name="l02580"></a>02580         GNI_CqVectorWaitEvent(
<a name="l02581"></a>02581                 IN  gni_cq_handle_t     *cq_hndls,
<a name="l02582"></a>02582                 IN  uint32_t            num_cqs,
<a name="l02583"></a>02583                 IN  uint64_t            timeout,
<a name="l02584"></a>02584                 OUT gni_cq_entry_t      *event_data,
<a name="l02585"></a>02585                 OUT uint32_t            *which
<a name="l02586"></a>02586                 );
<a name="l02587"></a>02587 
<a name="l02621"></a>02621 gni_return_t
<a name="l02622"></a>02622         GNI_CqVectorMonitor(
<a name="l02623"></a>02623                 IN  gni_cq_handle_t     *cq_hndls,
<a name="l02624"></a>02624                 IN  uint32_t            num_cqs,
<a name="l02625"></a>02625                 IN  uint64_t            timeout,
<a name="l02626"></a>02626                 OUT uint32_t            *which
<a name="l02627"></a>02627                 );
<a name="l02628"></a>02628 
<a name="l02649"></a>02649 gni_return_t
<a name="l02650"></a>02650         GNI_CqInterruptMask(
<a name="l02651"></a>02651                 IN gni_cq_handle_t cq_hndl
<a name="l02652"></a>02652                 );
<a name="l02653"></a>02653 
<a name="l02674"></a>02674 gni_return_t
<a name="l02675"></a>02675         GNI_CqInterruptUnmask(
<a name="l02676"></a>02676                 IN gni_cq_handle_t cq_hndl
<a name="l02677"></a>02677                 );
<a name="l02678"></a>02678 
<a name="l02702"></a>02702 gni_return_t
<a name="l02703"></a>02703         GNI_CqTestEvent(
<a name="l02704"></a>02704                 IN gni_cq_handle_t      cq_hndl
<a name="l02705"></a>02705                 );
<a name="l02706"></a>02706 
<a name="l02730"></a>02730 gni_return_t
<a name="l02731"></a>02731         GNI_CqErrorStr(
<a name="l02732"></a>02732                 IN  gni_cq_entry_t      entry,
<a name="l02733"></a>02733                 OUT <span class="keywordtype">void</span>                *buffer,
<a name="l02734"></a>02734                 IN  uint32_t            len
<a name="l02735"></a>02735                 );
<a name="l02736"></a>02736 
<a name="l02758"></a>02758 gni_return_t
<a name="l02759"></a>02759         GNI_CqErrorRecoverable(
<a name="l02760"></a>02760                 IN  gni_cq_entry_t      entry,
<a name="l02761"></a>02761                 OUT uint32_t            *recoverable
<a name="l02762"></a>02762                 );
<a name="l02763"></a>02763 
<a name="l02784"></a>02784 gni_return_t
<a name="l02785"></a>02785         GNI_SmsgBufferSizeNeeded(
<a name="l02786"></a>02786                 IN  <a class="code" href="structgni__smsg__attr.html">gni_smsg_attr_t</a>     *smsg_attr,
<a name="l02787"></a>02787                 OUT <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        *size
<a name="l02788"></a>02788                 );
<a name="l02789"></a>02789 
<a name="l02806"></a>02806 gni_return_t
<a name="l02807"></a>02807         GNI_SmsgInit(
<a name="l02808"></a>02808                 IN gni_ep_handle_t      ep_hndl,
<a name="l02809"></a>02809                 IN <a class="code" href="structgni__smsg__attr.html">gni_smsg_attr_t</a>      *local_smsg_attr,
<a name="l02810"></a>02810                 IN <a class="code" href="structgni__smsg__attr.html">gni_smsg_attr_t</a>      *remote_smsg_attr
<a name="l02811"></a>02811                 );
<a name="l02812"></a>02812 
<a name="l02828"></a>02828 gni_return_t
<a name="l02829"></a>02829         GNI_SmsgSetDeliveryMode(
<a name="l02830"></a>02830                 IN gni_nic_handle_t        nic_handle,
<a name="l02831"></a>02831                 IN uint16_t                 dlvr_mode
<a name="l02832"></a>02832                 );
<a name="l02833"></a>02833 
<a name="l02874"></a>02874 gni_return_t
<a name="l02875"></a>02875         GNI_SmsgSend(
<a name="l02876"></a>02876                 IN gni_ep_handle_t      ep_hndl,
<a name="l02877"></a>02877                 IN <span class="keywordtype">void</span>                 *header,
<a name="l02878"></a>02878                 IN uint32_t             header_length,
<a name="l02879"></a>02879                 IN <span class="keywordtype">void</span>                 *data,
<a name="l02880"></a>02880                 IN uint32_t             data_length,
<a name="l02881"></a>02881                 IN uint32_t             msg_id
<a name="l02882"></a>02882                 );
<a name="l02883"></a>02883 
<a name="l02916"></a>02916 gni_return_t
<a name="l02917"></a>02917         GNI_SmsgSendWTag(
<a name="l02918"></a>02918                 IN gni_ep_handle_t      ep_hndl,
<a name="l02919"></a>02919                 IN <span class="keywordtype">void</span>                 *header,
<a name="l02920"></a>02920                 IN uint32_t             header_length,
<a name="l02921"></a>02921                 IN <span class="keywordtype">void</span>                 *data,
<a name="l02922"></a>02922                 IN uint32_t             data_length,
<a name="l02923"></a>02923                 IN uint32_t             msg_id,
<a name="l02924"></a>02924                 IN uint8_t              tag
<a name="l02925"></a>02925                 );
<a name="l02926"></a>02926 
<a name="l02950"></a>02950 gni_return_t
<a name="l02951"></a>02951         GNI_SmsgGetNext(
<a name="l02952"></a>02952                 IN  gni_ep_handle_t     ep_hndl,
<a name="l02953"></a>02953                 OUT <span class="keywordtype">void</span>                **header
<a name="l02954"></a>02954                 );
<a name="l02955"></a>02955 
<a name="l02989"></a>02989 gni_return_t
<a name="l02990"></a>02990         GNI_SmsgGetNextWTag(
<a name="l02991"></a>02991                 IN  gni_ep_handle_t     ep_hndl,
<a name="l02992"></a>02992                 OUT <span class="keywordtype">void</span>                **header,
<a name="l02993"></a>02993                 OUT uint8_t             *tag
<a name="l02994"></a>02994                 );
<a name="l02995"></a>02995 
<a name="l02996"></a>02996 
<a name="l03019"></a>03019 gni_return_t
<a name="l03020"></a>03020         GNI_SmsgRelease(
<a name="l03021"></a>03021                 IN gni_ep_handle_t      ep_hndl
<a name="l03022"></a>03022                 );
<a name="l03023"></a>03023 
<a name="l03056"></a>03056 gni_return_t
<a name="l03057"></a>03057         GNI_MsgqInit(
<a name="l03058"></a>03058                 IN  gni_nic_handle_t            nic_hndl,
<a name="l03059"></a>03059                 IN  gni_msgq_rcv_cb_func        *rcv_cb,
<a name="l03060"></a>03060                 IN  <span class="keywordtype">void</span>                        *cb_data,
<a name="l03061"></a>03061                 IN  gni_cq_handle_t             snd_cq,
<a name="l03062"></a>03062                 IN  <a class="code" href="structgni__msgq__attr.html">gni_msgq_attr_t</a>             *attrs,
<a name="l03063"></a>03063                 OUT gni_msgq_handle_t           *msgq_hndl
<a name="l03064"></a>03064                 );
<a name="l03065"></a>03065 
<a name="l03084"></a>03084 gni_return_t
<a name="l03085"></a>03085         GNI_MsgqRelease(
<a name="l03086"></a>03086                 IN gni_msgq_handle_t    msgq_hndl
<a name="l03087"></a>03087                 );
<a name="l03088"></a>03088 
<a name="l03109"></a>03109 gni_return_t
<a name="l03110"></a>03110         GNI_MsgqIdle(
<a name="l03111"></a>03111                 IN gni_msgq_handle_t    msgq_hndl
<a name="l03112"></a>03112                 );
<a name="l03113"></a>03113 
<a name="l03145"></a>03145 gni_return_t
<a name="l03146"></a>03146         GNI_MsgqGetConnAttrs(
<a name="l03147"></a>03147                 IN  gni_msgq_handle_t   msgq_hndl,
<a name="l03148"></a>03148                 IN  uint32_t            pe_addr,
<a name="l03149"></a>03149                 OUT <a class="code" href="structgni__msgq__ep__attr.html">gni_msgq_ep_attr_t</a>  *attrs,
<a name="l03150"></a>03150                 OUT uint32_t            *attrs_size
<a name="l03151"></a>03151                 );
<a name="l03152"></a>03152 
<a name="l03180"></a>03180 gni_return_t
<a name="l03181"></a>03181         GNI_MsgqConnect(
<a name="l03182"></a>03182                 IN gni_msgq_handle_t    msgq_hndl,
<a name="l03183"></a>03183                 IN uint32_t             pe_addr,
<a name="l03184"></a>03184                 IN <a class="code" href="structgni__msgq__ep__attr.html">gni_msgq_ep_attr_t</a>   *attrs
<a name="l03185"></a>03185                 );
<a name="l03186"></a>03186 
<a name="l03210"></a>03210 gni_return_t
<a name="l03211"></a>03211         GNI_MsgqConnRelease(
<a name="l03212"></a>03212                 IN gni_msgq_handle_t    msgq_hndl,
<a name="l03213"></a>03213                 IN uint32_t             pe_addr
<a name="l03214"></a>03214                 );
<a name="l03215"></a>03215 
<a name="l03244"></a>03244 gni_return_t
<a name="l03245"></a>03245         GNI_MsgqSend(
<a name="l03246"></a>03246                 IN gni_msgq_handle_t    msgq_hndl,
<a name="l03247"></a>03247                 IN gni_ep_handle_t      ep_hndl,
<a name="l03248"></a>03248                 IN <span class="keywordtype">void</span>                 *hdr,
<a name="l03249"></a>03249                 IN uint32_t             hdr_len,
<a name="l03250"></a>03250                 IN <span class="keywordtype">void</span>                 *msg,
<a name="l03251"></a>03251                 IN uint32_t             msg_len,
<a name="l03252"></a>03252                 IN uint32_t             msg_id,
<a name="l03253"></a>03253                 IN uint8_t              msg_tag
<a name="l03254"></a>03254                 );
<a name="l03255"></a>03255 
<a name="l03281"></a>03281 gni_return_t
<a name="l03282"></a>03282         GNI_MsgqProgress(
<a name="l03283"></a>03283                 IN gni_msgq_handle_t    msgq_hndl,
<a name="l03284"></a>03284                 IN uint32_t             timeout
<a name="l03285"></a>03285                 );
<a name="l03286"></a>03286 
<a name="l03309"></a>03309 gni_return_t
<a name="l03310"></a>03310         GNI_MsgqSize(
<a name="l03311"></a>03311                 IN  <a class="code" href="structgni__msgq__attr.html">gni_msgq_attr_t</a>     *attrs,
<a name="l03312"></a>03312                 OUT uint32_t            *size
<a name="l03313"></a>03313                 );
<a name="l03314"></a>03314 
<a name="l03332"></a>03332 gni_return_t
<a name="l03333"></a>03333         GNI_SmsgSetMaxRetrans(
<a name="l03334"></a>03334                 IN gni_nic_handle_t     nic_handle,
<a name="l03335"></a>03335                 IN uint16_t             max_retrans
<a name="l03336"></a>03336                 );
<a name="l03337"></a>03337 
<a name="l03372"></a>03372 gni_return_t
<a name="l03373"></a>03373         GNI_SubscribeErrors(
<a name="l03374"></a>03374                 IN  gni_nic_handle_t    nic_handle,
<a name="l03375"></a>03375                 IN  uint32_t            device_id,
<a name="l03376"></a>03376                 IN  gni_error_mask_t    mask,
<a name="l03377"></a>03377                 IN  uint32_t            EEQ_size,
<a name="l03378"></a>03378                 OUT gni_err_handle_t    *err_handle
<a name="l03379"></a>03379                 );
<a name="l03380"></a>03380 
<a name="l03398"></a>03398 gni_return_t
<a name="l03399"></a>03399         GNI_ReleaseErrors(
<a name="l03400"></a>03400                 IN gni_err_handle_t     err_handle
<a name="l03401"></a>03401                 );
<a name="l03402"></a>03402 
<a name="l03423"></a>03423 gni_return_t
<a name="l03424"></a>03424         GNI_GetErrorMask(
<a name="l03425"></a>03425                 IN  gni_err_handle_t    err_handle,
<a name="l03426"></a>03426                 OUT gni_error_mask_t    *mask
<a name="l03427"></a>03427                 );
<a name="l03428"></a>03428 
<a name="l03446"></a>03446 gni_return_t
<a name="l03447"></a>03447         GNI_SetErrorMask(
<a name="l03448"></a>03448                 IN gni_err_handle_t     err_handle,
<a name="l03449"></a>03449                 IN gni_error_mask_t     mask_in,
<a name="l03450"></a>03450                 IN gni_error_mask_t     *mask_out
<a name="l03451"></a>03451                 );
<a name="l03452"></a>03452 
<a name="l03471"></a>03471 gni_return_t
<a name="l03472"></a>03472         GNI_GetErrorEvent(
<a name="l03473"></a>03473                 IN gni_err_handle_t     err_handle,
<a name="l03474"></a>03474                 IN <a class="code" href="structgni__error__event.html">gni_error_event_t</a>    *event
<a name="l03475"></a>03475                 );
<a name="l03476"></a>03476 
<a name="l03505"></a>03505 gni_return_t
<a name="l03506"></a>03506         GNI_WaitErrorEvents(
<a name="l03507"></a>03507                 IN  gni_err_handle_t    err_handle,
<a name="l03508"></a>03508                 IN  <a class="code" href="structgni__error__event.html">gni_error_event_t</a>   *events,
<a name="l03509"></a>03509                 IN  uint32_t            events_size,
<a name="l03510"></a>03510                 IN  uint32_t            timeout,
<a name="l03511"></a>03511                 OUT uint32_t            *num_events
<a name="l03512"></a>03512                 );
<a name="l03513"></a>03513 
<a name="l03533"></a>03533 gni_return_t
<a name="l03534"></a>03534         GNI_SetErrorPtag(
<a name="l03535"></a>03535                 IN gni_err_handle_t     err_handle,
<a name="l03536"></a>03536                 IN uint8_t              ptag
<a name="l03537"></a>03537                 );
<a name="l03538"></a>03538 
<a name="l03554"></a>03554 gni_return_t
<a name="l03555"></a>03555         GNI_GetNumLocalDevices(
<a name="l03556"></a>03556                 OUT <span class="keywordtype">int</span> *num_devices
<a name="l03557"></a>03557                 );
<a name="l03558"></a>03558 
<a name="l03577"></a>03577 gni_return_t
<a name="l03578"></a>03578         GNI_GetLocalDeviceIds(
<a name="l03579"></a>03579                 IN  <span class="keywordtype">int</span> len,
<a name="l03580"></a>03580                 OUT <span class="keywordtype">int</span> *device_ids
<a name="l03581"></a>03581                 );
<a name="l03582"></a>03582 
<a name="l03598"></a>03598 gni_return_t
<a name="l03599"></a>03599         GNI_GetVersion(
<a name="l03600"></a>03600                 OUT uint32_t    *version
<a name="l03601"></a>03601                 );
<a name="l03602"></a>03602 
<a name="l03620"></a>03620 gni_return_t
<a name="l03621"></a>03621         GNI_GetVersionInformation(
<a name="l03622"></a>03622                 OUT <a class="code" href="structgni__version__info.html">gni_version_info_t</a>  *version_info
<a name="l03623"></a>03623                 );
<a name="l03624"></a>03624 
<a name="l03640"></a>03640 gni_return_t
<a name="l03641"></a>03641         GNI_GetDeviceType(
<a name="l03642"></a>03642                 OUT gni_nic_device_t    *dev_type
<a name="l03643"></a>03643                 );
<a name="l03644"></a>03644 
<a name="l03667"></a>03667 gni_return_t
<a name="l03668"></a>03668         GNI_GetDevResInfo(
<a name="l03669"></a>03669                 IN  uint32_t            device_id,
<a name="l03670"></a>03670                 IN  gni_dev_res_t       res_type,
<a name="l03671"></a>03671                 OUT <a class="code" href="structgni__dev__res__desc.html">gni_dev_res_desc_t</a>  *res_desc
<a name="l03672"></a>03672                 );
<a name="l03673"></a>03673 
<a name="l03697"></a>03697 gni_return_t
<a name="l03698"></a>03698         GNI_GetJobResInfo(
<a name="l03699"></a>03699                 IN  uint32_t            device_id,
<a name="l03700"></a>03700                 IN  uint8_t             ptag,
<a name="l03701"></a>03701                 IN  gni_job_res_t       res_type,
<a name="l03702"></a>03702                 OUT <a class="code" href="structgni__job__res__desc.html">gni_job_res_desc_t</a>  *res_desc
<a name="l03703"></a>03703                 );
<a name="l03704"></a>03704 
<a name="l03724"></a>03724 gni_return_t
<a name="l03725"></a>03725         GNI_GetNttGran(
<a name="l03726"></a>03726                 IN  uint32_t    device_id,
<a name="l03727"></a>03727                 OUT uint32_t    *ntt_gran
<a name="l03728"></a>03728                 );
<a name="l03729"></a>03729 
<a name="l03754"></a>03754 gni_return_t
<a name="l03755"></a>03755         GNI_GetPtag(
<a name="l03756"></a>03756                 IN  uint32_t    device_id,
<a name="l03757"></a>03757                 IN  uint32_t    cookie,
<a name="l03758"></a>03758                 OUT uint8_t     *ptag
<a name="l03759"></a>03759                 );
<a name="l03760"></a>03760 
<a name="l03784"></a>03784 gni_return_t
<a name="l03785"></a>03785         GNI_CeCreate(
<a name="l03786"></a>03786                 IN  gni_nic_handle_t    nic_hndl,
<a name="l03787"></a>03787                 OUT gni_ce_handle_t     *ce_hndl
<a name="l03788"></a>03788                 );
<a name="l03789"></a>03789 
<a name="l03811"></a>03811 gni_return_t
<a name="l03812"></a>03812         GNI_CeGetId(
<a name="l03813"></a>03813                 IN  gni_ce_handle_t     ce_hndl,
<a name="l03814"></a>03814                 OUT uint32_t            *ce_id
<a name="l03815"></a>03815                 );
<a name="l03816"></a>03816 
<a name="l03877"></a>03877 gni_return_t
<a name="l03878"></a>03878         GNI_EpSetCeAttr(
<a name="l03879"></a>03879                 IN gni_ep_handle_t      ep_hndl,
<a name="l03880"></a>03880                 IN uint32_t             ce_id,
<a name="l03881"></a>03881                 IN uint32_t             child_id,
<a name="l03882"></a>03882                 IN gni_ce_child_t       child_type
<a name="l03883"></a>03883                 );
<a name="l03884"></a>03884 
<a name="l03907"></a>03907 gni_return_t
<a name="l03908"></a>03908         GNI_CeConfigure(
<a name="l03909"></a>03909                 IN gni_ce_handle_t      ce_hndl,
<a name="l03910"></a>03910                 IN gni_ep_handle_t      *child_eps,
<a name="l03911"></a>03911                 IN uint32_t             num_child_eps,
<a name="l03912"></a>03912                 IN gni_ep_handle_t      parent_ep,
<a name="l03913"></a>03913                 IN gni_cq_handle_t      cq_hndl,
<a name="l03914"></a>03914                 IN uint32_t             modes
<a name="l03915"></a>03915                 );
<a name="l03916"></a>03916 
<a name="l03948"></a>03948 gni_return_t
<a name="l03949"></a>03949         GNI_CeCheckResult(
<a name="l03950"></a>03950                 IN <a class="code" href="structgni__ce__result.html">gni_ce_result_t</a>      *result,
<a name="l03951"></a>03951                 IN uint32_t             length
<a name="l03952"></a>03952                 );
<a name="l03953"></a>03953 
<a name="l03971"></a>03971 gni_return_t
<a name="l03972"></a>03972         GNI_CeDestroy(
<a name="l03973"></a>03973                 IN gni_ce_handle_t      ce_hndl
<a name="l03974"></a>03974                 );
<a name="l03975"></a>03975 
<a name="l03976"></a>03976 <span class="comment">/* Balanced Injection modes */</span>
<a name="l03977"></a>03977 <span class="preprocessor">#define GNI_BI_FLAG_APPLY_NOW                   0x1</span>
<a name="l03978"></a>03978 <span class="preprocessor"></span><span class="preprocessor">#define GNI_BI_FLAG_APPLY_AFTER_THROTTLE        0x2</span>
<a name="l03979"></a>03979 <span class="preprocessor"></span><span class="preprocessor">#define GNI_BI_FLAG_USE_DEFAULT_SETTINGS        0x4</span>
<a name="l03980"></a>03980 <span class="preprocessor"></span><span class="preprocessor">#define GNI_BI_FLAG_VALUE_IS_NUM_ORB_ENTRIES    0x8</span>
<a name="l03981"></a>03981 <span class="preprocessor"></span>
<a name="l03982"></a>03982 <span class="comment">/* Balanced Injection limits */</span>
<a name="l03983"></a>03983 <span class="preprocessor">#define GNI_BI_INJECT_BW_MIN                    0</span>
<a name="l03984"></a>03984 <span class="preprocessor"></span><span class="preprocessor">#define GNI_BI_INJECT_BW_MAX                    100</span>
<a name="l03985"></a>03985 <span class="preprocessor"></span><span class="preprocessor">#define GNI_BI_INJECT_BW_ORB_MIN                0</span>
<a name="l03986"></a>03986 <span class="preprocessor"></span><span class="preprocessor">#define GNI_BI_INJECT_BW_ORB_MAX                992</span>
<a name="l03987"></a>03987 <span class="preprocessor"></span>
<a name="l03988"></a><a class="code" href="structgni__bi__desc.html">03988</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structgni__bi__desc.html">gni_bi_desc</a> {
<a name="l03989"></a>03989         uint16_t current_bw;
<a name="l03990"></a>03990         uint16_t current_aot_bw;
<a name="l03991"></a>03991         uint16_t current_norbs;
<a name="l03992"></a>03992         uint16_t flags;
<a name="l03993"></a>03993         uint16_t sys_def_bw;
<a name="l03994"></a>03994         uint16_t sys_def_aot_bw;
<a name="l03995"></a>03995         uint16_t cle_seqnum;
<a name="l03996"></a>03996         uint16_t hss_seqnum;
<a name="l03997"></a>03997 } <a class="code" href="structgni__bi__desc.html">gni_bi_desc_t</a>;
<a name="l03998"></a>03998 
<a name="l04019"></a>04019 gni_return_t
<a name="l04020"></a>04020         GNI_SetBIConfig(
<a name="l04021"></a>04021                 IN uint32_t     device_id,
<a name="l04022"></a>04022                 IN uint16_t     bw,
<a name="l04023"></a>04023                 IN uint16_t     aot_bw,
<a name="l04024"></a>04024                 IN uint16_t     modes
<a name="l04025"></a>04025                 );
<a name="l04026"></a>04026 
<a name="l04046"></a>04046 gni_return_t
<a name="l04047"></a>04047         GNI_GetBIConfig(
<a name="l04048"></a>04048                 IN uint32_t             device_id,
<a name="l04049"></a>04049                 OUT <a class="code" href="structgni__bi__desc.html">gni_bi_desc_t</a>       *desc
<a name="l04050"></a>04050                 );
<a name="l04051"></a>04051 
<a name="l04073"></a>04073 gni_return_t
<a name="l04074"></a>04074         GNI_BISyncWait(
<a name="l04075"></a>04075                 IN uint32_t     device_id,
<a name="l04076"></a>04076                 OUT uint32_t    timeout);
<a name="l04077"></a>04077 
<a name="l04096"></a>04096 gni_return_t
<a name="l04097"></a>04097         GNI_GetNicStat(
<a name="l04098"></a>04098                 IN gni_nic_handle_t nic_hndl,
<a name="l04099"></a>04099                 IN gni_statistic_t stat,
<a name="l04100"></a>04100                 OUT uint32_t *value);
<a name="l04101"></a>04101 
<a name="l04117"></a>04117 gni_return_t
<a name="l04118"></a>04118         GNI_ResetNicStat(
<a name="l04119"></a>04119                 IN gni_nic_handle_t nic_hndl,
<a name="l04120"></a>04120                 IN gni_statistic_t stat);
<a name="l04121"></a>04121 
<a name="l04122"></a>04122 <span class="preprocessor">#endif </span><span class="comment">/*not __KERNEL__*/</span>
<a name="l04123"></a>04123 
<a name="l04124"></a>04124 <span class="preprocessor">#ifdef __KERNEL__</span>
<a name="l04125"></a>04125 <span class="preprocessor"></span><span class="comment">/* Kernel level definitions */</span>
<a name="l04126"></a>04126 
<a name="l04152"></a>04152 gni_return_t
<a name="l04153"></a>04153         gni_cdm_create(
<a name="l04154"></a>04154                 IN  uint32_t            inst_id,
<a name="l04155"></a>04155                 IN  uint8_t             ptag,
<a name="l04156"></a>04156                 IN  uint32_t            cookie,
<a name="l04157"></a>04157                 IN  uint32_t            modes,
<a name="l04158"></a>04158                 OUT gni_cdm_handle_t    *cdm_hndl
<a name="l04159"></a>04159                 );
<a name="l04160"></a>04160 
<a name="l04177"></a>04177 gni_return_t
<a name="l04178"></a>04178         gni_cdm_destroy(
<a name="l04179"></a>04179                 IN gni_cdm_handle_t     cdm_hndl
<a name="l04180"></a>04180                 );
<a name="l04181"></a>04181 
<a name="l04211"></a>04211 gni_return_t
<a name="l04212"></a>04212         gni_cdm_attach(
<a name="l04213"></a>04213                 IN  gni_cdm_handle_t    cdm_hndl,
<a name="l04214"></a>04214                 IN  uint32_t            device_id,
<a name="l04215"></a>04215                 OUT uint32_t            *local_addr,
<a name="l04216"></a>04216                 OUT gni_nic_handle_t    *nic_hndl
<a name="l04217"></a>04217                 );
<a name="l04218"></a>04218 
<a name="l04244"></a>04244 gni_return_t
<a name="l04245"></a>04245         gni_ep_create(
<a name="l04246"></a>04246                 IN  gni_nic_handle_t    nic_hndl,
<a name="l04247"></a>04247                 IN  gni_cq_handle_t     src_cq_hndl,
<a name="l04248"></a>04248                 OUT gni_ep_handle_t     *ep_hndl
<a name="l04249"></a>04249                 );
<a name="l04268"></a>04268 gni_return_t
<a name="l04269"></a>04269         gni_ep_set_eventdata(
<a name="l04270"></a>04270                 IN gni_ep_handle_t      ep_hndl,
<a name="l04271"></a>04271                 IN uint32_t             local_event,
<a name="l04272"></a>04272                 IN uint32_t             remote_event
<a name="l04273"></a>04273                 );
<a name="l04295"></a>04295 gni_return_t
<a name="l04296"></a>04296         gni_ep_bind(
<a name="l04297"></a>04297                 IN gni_ep_handle_t      ep_hndl,
<a name="l04298"></a>04298                 IN uint32_t             remote_addr,
<a name="l04299"></a>04299                 IN uint32_t             remote_id
<a name="l04300"></a>04300                 );
<a name="l04321"></a>04321 gni_return_t
<a name="l04322"></a>04322         gni_ep_unbind(
<a name="l04323"></a>04323                 IN gni_ep_handle_t      ep_hndl
<a name="l04324"></a>04324                 );
<a name="l04325"></a>04325 
<a name="l04340"></a>04340 gni_return_t
<a name="l04341"></a>04341         gni_ep_destroy(
<a name="l04342"></a>04342                 IN gni_ep_handle_t      ep_hndl
<a name="l04343"></a>04343                 );
<a name="l04344"></a>04344 
<a name="l04368"></a>04368 gni_return_t
<a name="l04369"></a>04369         gni_ep_postdata(
<a name="l04370"></a>04370                 IN gni_ep_handle_t      ep_hndl,
<a name="l04371"></a>04371                 IN <span class="keywordtype">void</span>                 *in_data,
<a name="l04372"></a>04372                 IN uint16_t             data_len,
<a name="l04373"></a>04373                 IN <span class="keywordtype">void</span>                 *out_buf,
<a name="l04374"></a>04374                 IN uint16_t             buf_size
<a name="l04375"></a>04375                 );
<a name="l04376"></a>04376 
<a name="l04409"></a>04409 gni_return_t
<a name="l04410"></a>04410         gni_ep_postdata_w_id(
<a name="l04411"></a>04411                 IN gni_ep_handle_t      ep_hndl,
<a name="l04412"></a>04412                 IN <span class="keywordtype">void</span>                 *in_data,
<a name="l04413"></a>04413                 IN uint16_t             data_len,
<a name="l04414"></a>04414                 IN <span class="keywordtype">void</span>                 *out_buf,
<a name="l04415"></a>04415                 IN uint16_t             buf_size,
<a name="l04416"></a>04416                 IN uint64_t             datagram_id
<a name="l04417"></a>04417                 );
<a name="l04418"></a>04418 
<a name="l04446"></a>04446 gni_return_t
<a name="l04447"></a>04447         gni_ep_postdata_test(
<a name="l04448"></a>04448                 IN  gni_ep_handle_t     ep_hndl,
<a name="l04449"></a>04449                 OUT gni_post_state_t    *post_state,
<a name="l04450"></a>04450                 OUT uint32_t            *remote_addr,
<a name="l04451"></a>04451                 OUT uint32_t            *remote_id
<a name="l04452"></a>04452                 );
<a name="l04453"></a>04453 
<a name="l04488"></a>04488 gni_return_t
<a name="l04489"></a>04489         gni_ep_postdata_test_by_id(
<a name="l04490"></a>04490                 IN  gni_ep_handle_t     ep_hndl,
<a name="l04491"></a>04491                 IN  uint64_t            datagram_id,
<a name="l04492"></a>04492                 OUT gni_post_state_t    *post_state,
<a name="l04493"></a>04493                 OUT uint32_t            *remote_addr,
<a name="l04494"></a>04494                 OUT uint32_t            *remote_id
<a name="l04495"></a>04495                 );
<a name="l04496"></a>04496 
<a name="l04529"></a>04529 gni_return_t
<a name="l04530"></a>04530         gni_ep_postdata_wait(
<a name="l04531"></a>04531                 IN  gni_ep_handle_t     ep_hndl,
<a name="l04532"></a>04532                 IN  uint32_t            timeout,
<a name="l04533"></a>04533                 OUT gni_post_state_t    *post_state,
<a name="l04534"></a>04534                 OUT uint32_t            *remote_addr,
<a name="l04535"></a>04535                 OUT uint32_t            *remote_id
<a name="l04536"></a>04536                 );
<a name="l04537"></a>04537 
<a name="l04571"></a>04571 gni_return_t
<a name="l04572"></a>04572         gni_postdata_probe(
<a name="l04573"></a>04573                 IN  gni_nic_handle_t    nic_hndl,
<a name="l04574"></a>04574                 OUT uint32_t            *remote_addr,
<a name="l04575"></a>04575                 OUT uint32_t            *remote_id
<a name="l04576"></a>04576                 );
<a name="l04577"></a>04577 
<a name="l04609"></a>04609 gni_return_t
<a name="l04610"></a>04610         gni_postdata_probe_by_id(
<a name="l04611"></a>04611                 IN  gni_nic_handle_t    nic_hndl,
<a name="l04612"></a>04612                 OUT uint64_t            *datagram_id
<a name="l04613"></a>04613                 );
<a name="l04614"></a>04614 
<a name="l04650"></a>04650 gni_return_t
<a name="l04651"></a>04651         gni_postdata_probe_wait_by_id(
<a name="l04652"></a>04652                 IN  gni_nic_handle_t    nic_hndl,
<a name="l04653"></a>04653                 IN  uint32_t            timeout,
<a name="l04654"></a>04654                 OUT uint64_t            *datagram_id
<a name="l04655"></a>04655                 );
<a name="l04656"></a>04656 
<a name="l04672"></a>04672 gni_return_t
<a name="l04673"></a>04673         gni_ep_postdata_cancel(
<a name="l04674"></a>04674                 IN gni_ep_handle_t      ep_hndl
<a name="l04675"></a>04675                 );
<a name="l04676"></a>04676 
<a name="l04698"></a>04698 gni_return_t
<a name="l04699"></a>04699         gni_ep_postdata_cancel_by_id(
<a name="l04700"></a>04700                 IN gni_ep_handle_t      ep_hndl,
<a name="l04701"></a>04701                 IN uint64_t             datagram_id
<a name="l04702"></a>04702                 );
<a name="l04703"></a>04703 
<a name="l04745"></a>04745 gni_return_t
<a name="l04746"></a>04746         gni_mem_register(
<a name="l04747"></a>04747                 IN  gni_nic_handle_t    nic_hndl,
<a name="l04748"></a>04748                 IN  uint64_t            address,
<a name="l04749"></a>04749                 IN  uint64_t            length,
<a name="l04750"></a>04750                 IN  gni_cq_handle_t     dst_cq_hndl,
<a name="l04751"></a>04751                 IN  uint32_t            flags,
<a name="l04752"></a>04752                 OUT <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>    *mem_hndl
<a name="l04753"></a>04753                 );
<a name="l04754"></a>04754 
<a name="l04807"></a>04807 gni_return_t
<a name="l04808"></a>04808         gni_mem_register_segments(
<a name="l04809"></a>04809                 IN  gni_nic_handle_t    nic_hndl,
<a name="l04810"></a>04810                 IN  <a class="code" href="structgni__mem__segment.html">gni_mem_segment_t</a>   *mem_segments,
<a name="l04811"></a>04811                 IN  uint32_t            segments_cnt,
<a name="l04812"></a>04812                 IN  gni_cq_handle_t     dst_cq_hndl,
<a name="l04813"></a>04813                 IN  uint32_t            flags,
<a name="l04814"></a>04814                 OUT <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>    *mem_hndl
<a name="l04815"></a>04815                 );
<a name="l04816"></a>04816 
<a name="l04843"></a>04843 gni_return_t
<a name="l04844"></a>04844         gni_mem_deregister(
<a name="l04845"></a>04845                 IN gni_nic_handle_t     nic_hndl,
<a name="l04846"></a>04846                 IN <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>     *mem_hndl,
<a name="l04847"></a>04847                 IN <span class="keywordtype">int</span>                  hold_timeout
<a name="l04848"></a>04848                 );
<a name="l04849"></a>04849 
<a name="l04876"></a>04876 gni_return_t
<a name="l04877"></a>04877         gni_mem_mdd_release(
<a name="l04878"></a>04878                 IN gni_nic_handle_t     nic_hndl,
<a name="l04879"></a>04879                 IN <a class="code" href="structgni__mem__handle.html">gni_mem_handle_t</a>     *mem_hndl
<a name="l04880"></a>04880                 );
<a name="l04881"></a>04881 
<a name="l04915"></a>04915 <span class="keyword">typedef</span> void (gni_cq_event_hndlr_f)(IN uint32_t device_id, IN uint64_t data);
<a name="l04916"></a>04916 
<a name="l04917"></a>04917 gni_return_t
<a name="l04918"></a>04918         gni_cq_create(
<a name="l04919"></a>04919                 IN  gni_nic_handle_t            nic_hndl,
<a name="l04920"></a>04920                 IN  uint32_t                    entry_count,
<a name="l04921"></a>04921                 IN  uint32_t                    delay_index,
<a name="l04922"></a>04922                 IN  gni_cq_event_hndlr_f        *event_handler,
<a name="l04923"></a>04923                 IN  uint64_t                    usr_event_data,
<a name="l04924"></a>04924                 OUT gni_cq_handle_t             *cq_hndl
<a name="l04925"></a>04925                 );
<a name="l04926"></a>04926 
<a name="l04945"></a>04945 gni_return_t
<a name="l04946"></a>04946         gni_cq_destroy(
<a name="l04947"></a>04947                 IN gni_cq_handle_t      cq_hndl
<a name="l04948"></a>04948                 );
<a name="l04949"></a>04949 
<a name="l04974"></a>04974 gni_return_t
<a name="l04975"></a>04975         gni_post_rdma(
<a name="l04976"></a>04976                 IN gni_ep_handle_t              ep_hndl,
<a name="l04977"></a>04977                 IN <a class="code" href="structgni__post__descriptor.html">gni_post_descriptor_t</a>        *post_descr
<a name="l04978"></a>04978                 );
<a name="l04979"></a>04979 
<a name="l05005"></a>05005 gni_return_t
<a name="l05006"></a>05006         gni_post_fma(
<a name="l05007"></a>05007                 IN gni_ep_handle_t              ep_hndl,
<a name="l05008"></a>05008                 IN <a class="code" href="structgni__post__descriptor.html">gni_post_descriptor_t</a>        *post_descr
<a name="l05009"></a>05009                 );
<a name="l05010"></a>05010 
<a name="l05040"></a>05040 gni_return_t
<a name="l05041"></a>05041         gni_get_completed(
<a name="l05042"></a>05042                 IN  gni_cq_handle_t             cq_hndl,
<a name="l05043"></a>05043                 IN  gni_cq_entry_t              event_data,
<a name="l05044"></a>05044                 OUT <a class="code" href="structgni__post__descriptor.html">gni_post_descriptor_t</a>       **post_descr
<a name="l05045"></a>05045                 );
<a name="l05046"></a>05046 
<a name="l05075"></a>05075 gni_return_t
<a name="l05076"></a>05076         gni_cq_get_event(
<a name="l05077"></a>05077                 IN  gni_cq_handle_t     cq_hndl,
<a name="l05078"></a>05078                 OUT gni_cq_entry_t      *event_data
<a name="l05079"></a>05079                 );
<a name="l05080"></a>05080 
<a name="l05104"></a>05104 gni_return_t
<a name="l05105"></a>05105         gni_cq_error_str(
<a name="l05106"></a>05106                 IN  gni_cq_entry_t      entry,
<a name="l05107"></a>05107                 OUT <span class="keywordtype">void</span>                *buffer,
<a name="l05108"></a>05108                 IN  uint32_t            len
<a name="l05109"></a>05109                 );
<a name="l05110"></a>05110 
<a name="l05132"></a>05132 gni_return_t
<a name="l05133"></a>05133         gni_cq_error_recoverable(
<a name="l05134"></a>05134                 IN  gni_cq_entry_t      entry,
<a name="l05135"></a>05135                 OUT uint32_t            *recoverable
<a name="l05136"></a>05136                 );
<a name="l05137"></a>05137 
<a name="l05158"></a>05158 gni_return_t
<a name="l05159"></a>05159         gni_smsg_buff_size_needed(
<a name="l05160"></a>05160                 IN  <a class="code" href="structgni__smsg__attr.html">gni_smsg_attr_t</a>     *smsg_attr,
<a name="l05161"></a>05161                 OUT <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        *size
<a name="l05162"></a>05162                 );
<a name="l05163"></a>05163 
<a name="l05181"></a>05181 gni_return_t
<a name="l05182"></a>05182         gni_smsg_init(
<a name="l05183"></a>05183                 IN gni_ep_handle_t      ep_hndl,
<a name="l05184"></a>05184                 IN <a class="code" href="structgni__smsg__attr.html">gni_smsg_attr_t</a>      *local_smsg_attr,
<a name="l05185"></a>05185                 IN <a class="code" href="structgni__smsg__attr.html">gni_smsg_attr_t</a>      *remote_smsg_attr
<a name="l05186"></a>05186                 );
<a name="l05187"></a>05187 
<a name="l05203"></a>05203 gni_return_t
<a name="l05204"></a>05204         gni_smsg_set_delivery_mode(
<a name="l05205"></a>05205                 IN gni_nic_handle_t        nic_handle,
<a name="l05206"></a>05206                 IN uint16_t                 dlvr_mode
<a name="l05207"></a>05207                 );
<a name="l05208"></a>05208 
<a name="l05240"></a>05240 gni_return_t
<a name="l05241"></a>05241         gni_smsg_send(
<a name="l05242"></a>05242                 IN gni_ep_handle_t      ep_hndl,
<a name="l05243"></a>05243                 IN <span class="keywordtype">void</span>                 *header,
<a name="l05244"></a>05244                 IN uint32_t             header_length,
<a name="l05245"></a>05245                 IN <span class="keywordtype">void</span>                 *data,
<a name="l05246"></a>05246                 IN uint32_t             data_length,
<a name="l05247"></a>05247                 IN uint32_t             msg_id
<a name="l05248"></a>05248                 );
<a name="l05249"></a>05249 
<a name="l05273"></a>05273 gni_return_t
<a name="l05274"></a>05274         gni_smsg_getnext(
<a name="l05275"></a>05275                 IN  gni_ep_handle_t     ep_hndl,
<a name="l05276"></a>05276                 OUT <span class="keywordtype">void</span>                **header
<a name="l05277"></a>05277                 );
<a name="l05278"></a>05278 
<a name="l05300"></a>05300 gni_return_t
<a name="l05301"></a>05301         gni_smsg_release(
<a name="l05302"></a>05302                 IN gni_ep_handle_t      ep_hndl
<a name="l05303"></a>05303                 );
<a name="l05304"></a>05304 
<a name="l05321"></a>05321 gni_return_t
<a name="l05322"></a>05322         gni_smsg_set_max_retrans(
<a name="l05323"></a>05323                 IN gni_nic_handle_t     nic_handle,
<a name="l05324"></a>05324                 IN uint16_t             max_retrans
<a name="l05325"></a>05325                 );
<a name="l05326"></a>05326 
<a name="l05354"></a>05354 gni_return_t
<a name="l05355"></a>05355         gni_subscribe_errors(
<a name="l05356"></a>05356                 IN  gni_nic_handle_t    nic_handle,
<a name="l05357"></a>05357                 IN  gni_error_mask_t    mask,
<a name="l05358"></a>05358                 IN  uint32_t            EEQ_size,
<a name="l05359"></a>05359                 IN  <span class="keywordtype">void</span>                (*EQ_new_event)(gni_err_handle_t),
<a name="l05360"></a>05360                 IN  <span class="keywordtype">void</span>                (*app_crit_err)(gni_err_handle_t),
<a name="l05361"></a>05361                 OUT gni_err_handle_t    *err_handle
<a name="l05362"></a>05362                 );
<a name="l05363"></a>05363 
<a name="l05381"></a>05381 gni_return_t
<a name="l05382"></a>05382         gni_release_errors(
<a name="l05383"></a>05383                 IN gni_err_handle_t     err_handle
<a name="l05384"></a>05384                 );
<a name="l05385"></a>05385 
<a name="l05406"></a>05406 gni_return_t
<a name="l05407"></a>05407         gni_get_error_mask(
<a name="l05408"></a>05408                 IN  gni_err_handle_t    err_handle,
<a name="l05409"></a>05409                 OUT gni_error_mask_t    *mask
<a name="l05410"></a>05410                 );
<a name="l05411"></a>05411 
<a name="l05429"></a>05429 gni_return_t
<a name="l05430"></a>05430         gni_set_error_mask(
<a name="l05431"></a>05431                 IN gni_err_handle_t     err_handle,
<a name="l05432"></a>05432                 IN gni_error_mask_t     mask_in,
<a name="l05433"></a>05433                 IN gni_error_mask_t     *mask_out
<a name="l05434"></a>05434                 );
<a name="l05435"></a>05435 
<a name="l05454"></a>05454 gni_return_t
<a name="l05455"></a>05455         gni_get_error_event(
<a name="l05456"></a>05456                 IN gni_err_handle_t     err_handle,
<a name="l05457"></a>05457                 IN <a class="code" href="structgni__error__event.html">gni_error_event_t</a>    *event
<a name="l05458"></a>05458                 );
<a name="l05459"></a>05459 
<a name="l05487"></a>05487 gni_return_t
<a name="l05488"></a>05488         gni_wait_error_events(
<a name="l05489"></a>05489                 IN  gni_err_handle_t    err_handle,
<a name="l05490"></a>05490                 IN  <a class="code" href="structgni__error__event.html">gni_error_event_t</a>   *events,
<a name="l05491"></a>05491                 IN  uint32_t            events_size,
<a name="l05492"></a>05492                 IN  uint32_t            timeout,
<a name="l05493"></a>05493                 OUT uint32_t            *num_events
<a name="l05494"></a>05494                 );
<a name="l05495"></a>05495 
<a name="l05515"></a>05515 gni_return_t
<a name="l05516"></a>05516         gni_set_error_ptag(
<a name="l05517"></a>05517                 IN gni_err_handle_t     err_handle,
<a name="l05518"></a>05518                 IN uint8_t              ptag
<a name="l05519"></a>05519                 );
<a name="l05520"></a>05520 
<a name="l05544"></a>05544 gni_return_t
<a name="l05545"></a>05545         gni_set_quiesce_callback(
<a name="l05546"></a>05546                 IN gni_nic_handle_t     nic_hndl,
<a name="l05547"></a>05547                 IN <span class="keywordtype">void</span>                 (*qsce_func)(gni_nic_handle_t, uint64_t)
<a name="l05548"></a>05548                 );
<a name="l05549"></a>05549 
<a name="l05567"></a>05567 uint32_t
<a name="l05568"></a>05568         gni_get_quiesce_status(
<a name="l05569"></a>05569                 IN gni_nic_handle_t     nic_hndl
<a name="l05570"></a>05570                 );
<a name="l05571"></a>05571 
<a name="l05572"></a>05572 
<a name="l05602"></a>05602 gni_return_t
<a name="l05603"></a>05603         gni_get_errno(
<a name="l05604"></a>05604                 IN  gni_nic_handle_t    nic_hndl,
<a name="l05605"></a>05605                 OUT gni_errno_t         *errno_ptr
<a name="l05606"></a>05606                 );
<a name="l05607"></a>05607 
<a name="l05608"></a>05608 <span class="preprocessor">#endif </span><span class="comment">/*__KERNEL__*/</span>
<a name="l05609"></a>05609 
<a name="l05610"></a>05610 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l05611"></a>05611 <span class="preprocessor"></span>} <span class="comment">/* extern &quot;C&quot; */</span>
<a name="l05612"></a>05612 <span class="preprocessor">#endif</span>
<a name="l05613"></a>05613 <span class="preprocessor"></span>
<a name="l05614"></a>05614 <span class="preprocessor">#endif </span><span class="comment">/*_GNI_PUB_H_*/</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:55:11 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
