<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lustre: Lustre Log Reader</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body fgcolor="#202020">
<img src="http://wiki.lustre.org/apidoc/header.jpg">
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Lustre Log Reader</h1>
<p>Interpret llogs used for storing configuration and changelog data.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac4aee5b8b476f97fba6a76ec55bdbe62"></a><!-- doxytag: member="llog_reader::CANCELLED" ref="gac4aee5b8b476f97fba6a76ec55bdbe62" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>CANCELLED</b>&nbsp;&nbsp;&nbsp;0x678</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3be02863974cbe49d7f0ac4fadbd6c38"></a><!-- doxytag: member="llog_reader::PTL_CMD_BASE" ref="ga3be02863974cbe49d7f0ac4fadbd6c38" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PTL_CMD_BASE</b>&nbsp;&nbsp;&nbsp;100</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__llog__reader.html#gac8e15957f8974dbcc8dd86e9ca9ceb96">OSD_OI_FID_NR</a>&nbsp;&nbsp;&nbsp;(1UL &lt;&lt; 7)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to display a path to the object (file) containing changelog entries, referred to by this changelog_catalog record.  <a href="#gac8e15957f8974dbcc8dd86e9ca9ceb96"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9b0b673f22fe33ab58728d169fae2808"></a><!-- doxytag: member="llog_reader::llog_pack_buffer" ref="ga9b0b673f22fe33ab58728d169fae2808" args="(int fd, struct llog_log_hdr **llog_buf, struct llog_rec_hdr ***recs, int *recs_number)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>llog_pack_buffer</b> (int fd, struct <a class="el" href="structllog__log__hdr.html">llog_log_hdr</a> **llog_buf, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> ***recs, int *recs_number)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga14a62d1688e141956248288a02149d40"></a><!-- doxytag: member="llog_reader::print_llog_header" ref="ga14a62d1688e141956248288a02149d40" args="(struct llog_log_hdr *llog_buf)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>print_llog_header</b> (struct <a class="el" href="structllog__log__hdr.html">llog_log_hdr</a> *llog_buf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafd3e1c794c0e2d78dd36f0b3d6d3db9e"></a><!-- doxytag: member="llog_reader::llog_unpack_buffer" ref="gafd3e1c794c0e2d78dd36f0b3d6d3db9e" args="(int fd, struct llog_log_hdr *llog_buf, struct llog_rec_hdr **recs_buf)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>llog_unpack_buffer</b> (int fd, struct <a class="el" href="structllog__log__hdr.html">llog_log_hdr</a> *llog_buf, struct <a class="el" href="structllog__rec__hdr.html">llog_rec_hdr</a> **recs_buf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga777b947147528748a1e561e80444c143"></a><!-- doxytag: member="llog_reader::is_fstype_ext" ref="ga777b947147528748a1e561e80444c143" args="(int fd)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>is_fstype_ext</b> (int fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3c04138a5bfe5d72780bb7e82a18e627"></a><!-- doxytag: member="llog_reader::main" ref="ga3c04138a5bfe5d72780bb7e82a18e627" args="(int argc, char **argv)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char **argv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaae8e7afca9a8adbe7eba8f1c5d6bf783"></a><!-- doxytag: member="llog_reader::print_lustre_cfg" ref="gaae8e7afca9a8adbe7eba8f1c5d6bf783" args="(struct lustre_cfg *lcfg, int *skip)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>print_lustre_cfg</b> (struct <a class="el" href="structlustre__cfg.html">lustre_cfg</a> *lcfg, int *skip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga216d3a5b11a4f71a61f0778c8cbf836e"></a><!-- doxytag: member="llog_reader::print_changelog_rec" ref="ga216d3a5b11a4f71a61f0778c8cbf836e" args="(struct llog_changelog_rec *rec)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>print_changelog_rec</b> (struct <a class="el" href="structllog__changelog__rec.html">llog_changelog_rec</a> *rec)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>portals_command</b> [17]</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Interpret llogs used for storing configuration and changelog data. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gac8e15957f8974dbcc8dd86e9ca9ceb96"></a><!-- doxytag: member="llog_reader.c::OSD_OI_FID_NR" ref="gac8e15957f8974dbcc8dd86e9ca9ceb96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSD_OI_FID_NR&nbsp;&nbsp;&nbsp;(1UL &lt;&lt; 7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attempt to display a path to the object (file) containing changelog entries, referred to by this changelog_catalog record. </p>
<p>This path depends on the implementation of the OSD device; zfs-osd and ldiskfs-osd are different.</p>
<p>Assumes that if the file system containing the changelog_catalog is ext{2,3,4}, the backend is ldiskfs-osd; otherwise it is either zfs-osd or at least names objects based on FID and the zfs-osd path (which includes the FID) will be sufficient.</p>
<p>The Object ID stored in the record is also displayed untranslated. </p>

<p>Definition at line <a class="el" href="llog__reader_8c_source.html#l00139">139</a> of file <a class="el" href="llog__reader_8c_source.html">llog_reader.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gab2c06b4b55b48019a162a0a993735415"></a><!-- doxytag: member="llog_reader.c::portals_command" ref="gab2c06b4b55b48019a162a0a993735415" args="[17]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* portals_command[17]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
        <span class="stringliteral">&quot;REGISTER_PEER_FD&quot;</span>,
        <span class="stringliteral">&quot;CLOSE_CONNECTION&quot;</span>,
        <span class="stringliteral">&quot;REGISTER_MYNID&quot;</span>,
        <span class="stringliteral">&quot;PUSH_CONNECTION&quot;</span>,
        <span class="stringliteral">&quot;GET_CONN&quot;</span>,
        <span class="stringliteral">&quot;DEL_PEER&quot;</span>,
        <span class="stringliteral">&quot;ADD_PEER&quot;</span>,
        <span class="stringliteral">&quot;GET_PEER&quot;</span>,
        <span class="stringliteral">&quot;GET_TXDESC&quot;</span>,
        <span class="stringliteral">&quot;ADD_ROUTE&quot;</span>,
        <span class="stringliteral">&quot;DEL_ROUTE&quot;</span>,
        <span class="stringliteral">&quot;GET_ROUTE&quot;</span>,
        <span class="stringliteral">&quot;NOTIFY_ROUTER&quot;</span>,
        <span class="stringliteral">&quot;ADD_INTERFACE&quot;</span>,
        <span class="stringliteral">&quot;DEL_INTERFACE&quot;</span>,
        <span class="stringliteral">&quot;GET_INTERFACE&quot;</span>,
        <span class="stringliteral">&quot;&quot;</span>
}
</pre></div>
<p>Definition at line <a class="el" href="llog__reader_8c_source.html#l00089">89</a> of file <a class="el" href="llog__reader_8c_source.html">llog_reader.c</a>.</p>

</div>
</div>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Jun 5 20:55:47 2016 for Lustre by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.6.1</small></address><br>
<small><a href="http://www.sun.com/contact">Contact</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/index.html">About Sun</a>&nbsp;|&nbsp;<a href="http://www.sun.com/aboutsun/media/index.html">News</a>&nbsp;|&nbsp;<a href="http://www.sun.com/corp_emp/">Employment</a>&nbsp;|&nbsp;<a href="http://www.sun.com/privacy/">Privacy</a>&nbsp;|&nbsp;<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>&nbsp;|&nbsp;<a href="http://www.sun.com/suntrademarks/">Trademarks</a>&nbsp;|&nbsp;(C) 2008 Sun Microsystems, Inc.</small>
</body>
</html>
